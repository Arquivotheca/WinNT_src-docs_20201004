<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: visrgn.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>visrgn.c File Reference</h1><code>#include "<a class="el" href="../../d1/d3/w32_2ntuser_2kernel_2precomp_8h-source.html">precomp.h</a>"</code><br>

<p>
<a href="../../d4/d5/visrgn_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d6/visrgn_8c.html#a0">CEXCLUDERECTSMAX</a>&nbsp;&nbsp;&nbsp;30</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d6/visrgn_8c.html#a1">CEXCLUDEPWNDSMAX</a>&nbsp;&nbsp;&nbsp;30</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d6/visrgn_8c.html#a2">CheckIntersectRect</a>(prc1, prc2)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d6/visrgn_8c.html#a3">EmptyRect</a>(prc)</td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d6/visrgn_8c.html#a9">SetRectRgnIndirect</a> (HRGN hrgn, LPCRECT lprc)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>HRGN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d6/visrgn_8c.html#a10">CreateEmptyRgn</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>HRGN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d6/visrgn_8c.html#a11">CreateEmptyRgnPublic</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d6/visrgn_8c.html#a12">SetEmptyRgn</a> (HRGN hrgn)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>HRGN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d6/visrgn_8c.html#a13">SetOrCreateRectRgnIndirectPublic</a> (HRGN *phrgn, LPCRECT lprc)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d6/visrgn_8c.html#a14">ResizeVisExcludeMemory</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d6/visrgn_8c.html#a15">ExcludeWindowRects</a> (<a class="el" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="el" href="../../d6/d9/structtagWND.html">PWND</a> pwndStop, LPRECT lprcIntersect)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d6/visrgn_8c.html#a16">CalcWindowVisRgn</a> (<a class="el" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, HRGN *phrgn, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> flags)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d6/visrgn_8c.html#a17">CalcVisRgn</a> (HRGN *phrgn, <a class="el" href="../../d6/d9/structtagWND.html">PWND</a> pwndOrg, <a class="el" href="../../d6/d9/structtagWND.html">PWND</a> pwndClip, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> flags)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d6/visrgn_8c.html#a18">CalcWindowRgn</a> (<a class="el" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, HRGN hrgn, BOOL fClient)</td></tr>

<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d6/visrgn_8c.html#a4">gfVisAlloc</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d6/visrgn_8c.html#a5">gcrcVisExclude</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d6/visrgn_8c.html#a6">gcrcVisExcludeMax</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d6/d9/structtagWND.html">PWND</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d6/visrgn_8c.html#a7">gapwndVisExclude</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d6/d9/structtagWND.html">PWND</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d6/visrgn_8c.html#a8">gapwndVisDefault</a></td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a1" doxytag="visrgn.c::CEXCLUDEPWNDSMAX" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define CEXCLUDEPWNDSMAX&nbsp;&nbsp;&nbsp;30          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00021">21</a> of file <a class="el" href="../../d4/d5/visrgn_8c-source.html">visrgn.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00250">CalcWindowVisRgn()</a>, and <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00140">ResizeVisExcludeMemory()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="visrgn.c::CEXCLUDERECTSMAX" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define CEXCLUDERECTSMAX&nbsp;&nbsp;&nbsp;30          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00020">20</a> of file <a class="el" href="../../d4/d5/visrgn_8c-source.html">visrgn.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00250">CalcWindowVisRgn()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="visrgn.c::CheckIntersectRect" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define CheckIntersectRect          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">prc1,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>prc2&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div>(   prc1-&gt;left &lt; prc2-&gt;right              \
     &amp;&amp; prc2-&gt;left &lt; prc1-&gt;right              \
     &amp;&amp; prc1-&gt;top &lt; prc2-&gt;bottom              \
     &amp;&amp; prc2-&gt;top &lt; prc1-&gt;bottom)
</div></pre>
<p>
Definition at line <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00188">188</a> of file <a class="el" href="../../d4/d5/visrgn_8c-source.html">visrgn.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00198">ExcludeWindowRects()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="visrgn.c::EmptyRect" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define EmptyRect          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">prc&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div>(   prc-&gt;left &gt;= prc-&gt;right               \
     || prc-&gt;top &gt;= prc-&gt;bottom)
</div></pre>
<p>
Definition at line <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00194">194</a> of file <a class="el" href="../../d4/d5/visrgn_8c-source.html">visrgn.c</a>.
<p>
Referenced by <a class="el" href="../../d9/d0/btnctl_8c-source.html#l00361">BNCalcRect()</a>, and <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00198">ExcludeWindowRects()</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a17" doxytag="visrgn.c::CalcVisRgn" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL CalcVisRgn           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HRGN *&nbsp;</td>
          <td class="mdname" nowrap> <em>phrgn</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d6/d9/structtagWND.html">PWND</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pwndOrg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d6/d9/structtagWND.html">PWND</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pwndClip</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>flags</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00523">523</a> of file <a class="el" href="../../d4/d5/visrgn_8c-source.html">visrgn.c</a>.
<p>
References <a class="el" href="../../d3/d7/rtl_2winmgr_8c-source.html#l00513">_IsDescendant()</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00250">CalcWindowVisRgn()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00456">grpdeskRitInput</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00217">gspwndLockUpdate</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l01827">tagWND::head</a>, <a class="el" href="../../d3/d7/rtl_2winmgr_8c-source.html#l00537">IsVisible()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00116">PZERO</a>, <a class="el" href="../../d5/d0/userk_8h-source.html#l02648">tagDESKTOP::rpwinstaParent</a>, and <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00115">SetOrCreateRectRgnIndirectPublic()</a>.
<p>
Referenced by <a class="el" href="../../d9/d2/dc_8c-source.html#l00608">_GetDCEx()</a>, <a class="el" href="../../d9/d2/dc_8c-source.html#l01746">InvalidateGDIWindows()</a>, <a class="el" href="../../d9/d7/fullscr_8c-source.html#l00985">ResetSharedDesktops()</a>, <a class="el" href="../../d3/d7/swp_8c-source.html#l02434">SwpCalcVisRgn()</a>, <a class="el" href="../../d9/d2/dc_8c-source.html#l00290">UserGetClientRgn()</a>, <a class="el" href="../../d9/d2/dc_8c-source.html#l00237">UserSetDCVisRgn()</a>, and <a class="el" href="../../d9/d3/sprite_8c-source.html#l00570">UserVisrgnFromHwnd()</a>.
<p>
<pre class="fragment"><div>00528 {
00529     <a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a>    pdesk;
00530 
00531     UserAssert(pwndOrg != NULL);
00532 
00533     <span class="comment">/*</span>
00534 <span class="comment">     * If the window's not visible or is not an active desktop,</span>
00535 <span class="comment">     * or if the clip window is in the process of being destroyed,</span>
00536 <span class="comment">     * the visrgn is empty.</span>
00537 <span class="comment">     */</span>
00538     pdesk = pwndOrg-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o0">head</a>.rpdesk;
00539     
00540     UserAssert(pdesk);
00541     
00542     <span class="comment">/*</span>
00543 <span class="comment">     * Make sure this happens in the IO windowstation</span>
00544 <span class="comment">     */</span>
00545 <span class="preprocessor">#if DBG</span>
00546 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a176">grpdeskRitInput</a> != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00547         UserAssert(pdesk-&gt;<a class="code" href="../../d0/d3/structtagDESKTOP.html#o3">rpwinstaParent</a> == <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a176">grpdeskRitInput</a>-&gt;<a class="code" href="../../d0/d3/structtagDESKTOP.html#o3">rpwinstaParent</a> ||
00548                    !<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a1222">IsVisible</a>(pwndOrg));
00549     }
00550 <span class="preprocessor">#endif // DBG</span>
00551 <span class="preprocessor"></span>
00552     <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d8/rtl_2winmgr_8c.html#a6">IsVisible</a>(pwndOrg) || pdesk != <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a176">grpdeskRitInput</a>) {
00553         <span class="keywordflow">goto</span> EmptyRgn;
00554     }
00555 
00556     <span class="comment">/*</span>
00557 <span class="comment">     * If LockWindowUpdate() has been called, and this window is a child</span>
00558 <span class="comment">     * of the lock window, always return an empty visrgn.</span>
00559 <span class="comment">     */</span>
00560     <span class="keywordflow">if</span> ((<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a89">gspwndLockUpdate</a> != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)     &amp;&amp;
00561         !(flags &amp; DCX_LOCKWINDOWUPDATE)         &amp;&amp;
00562         <a class="code" href="../../d2/d8/rtl_2winmgr_8c.html#a5">_IsDescendant</a>(gspwndLockUpdate, pwndOrg)) {
00563 
00564         <span class="keywordflow">goto</span> EmptyRgn;
00565     }
00566 
00567     <span class="comment">/*</span>
00568 <span class="comment">     * Now go compute the visrgn for pwndClip.</span>
00569 <span class="comment">     */</span>
00570     <span class="keywordflow">return</span> <a class="code" href="../../d3/d6/visrgn_8c.html#a16">CalcWindowVisRgn</a>(pwndClip, phrgn, flags);
00571 
00572 EmptyRgn:
00573     <a class="code" href="../../d3/d6/visrgn_8c.html#a13">SetOrCreateRectRgnIndirectPublic</a>(phrgn, <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a6">PZERO</a>(RECT));
00574     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00575 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="visrgn.c::CalcWindowRgn" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int CalcWindowRgn           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d6/d9/structtagWND.html">PWND</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pwnd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>HRGN&nbsp;</td>
          <td class="mdname" nowrap> <em>hrgn</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOL&nbsp;</td>
          <td class="mdname" nowrap> <em>fClient</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00585">585</a> of file <a class="el" href="../../d4/d5/visrgn_8c-source.html">visrgn.c</a>.
<p>
References <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l01768">tagWND::hrgnClip</a>, <a class="el" href="../../d5/d0/userk_8h-source.html#l02219">IntersectRgn</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l01839">tagWND::rcClient</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l01838">tagWND::rcWindow</a>, and <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00040">SetRectRgnIndirect()</a>.
<p>
Referenced by <a class="el" href="../../d0/d2/paint_8c-source.html#l00151">GetNCUpdateRgn()</a>, <a class="el" href="../../d9/d8/update_8c-source.html#l00784">InternalInvalidate3()</a>, and <a class="el" href="../../d9/d8/update_8c-source.html#l01302">xxxInternalInvalidate()</a>.
<p>
<pre class="fragment"><div>00589 {
00590     <a class="code" href="../../d3/d6/visrgn_8c.html#a9">SetRectRgnIndirect</a>(hrgn, (fClient) ? &amp;pwnd-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o7">rcClient</a> : &amp;pwnd-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o6">rcWindow</a>);
00591 
00592     <span class="comment">/*</span>
00593 <span class="comment">     * If the window has a region, then intersect the rectangle region with</span>
00594 <span class="comment">     * that. If this is low on memory, it'll propagate ERROR back.</span>
00595 <span class="comment">     */</span>
00596     <span class="keywordflow">if</span> (pwnd-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o19">hrgnClip</a> != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00597         <span class="keywordflow">return</span> <a class="code" href="../../d4/d1/userk_8h.html#a228">IntersectRgn</a>(hrgn, hrgn, pwnd-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o19">hrgnClip</a>);
00598     }
00599 
00600     <span class="keywordflow">return</span> SIMPLEREGION;
00601 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="visrgn.c::CalcWindowVisRgn" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL CalcWindowVisRgn           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d6/d9/structtagWND.html">PWND</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pwnd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>HRGN *&nbsp;</td>
          <td class="mdname" nowrap> <em>phrgn</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>flags</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00250">250</a> of file <a class="el" href="../../d4/d5/visrgn_8c-source.html">visrgn.c</a>.
<p>
References <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00075">ARRAY_SIZE</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00021">CEXCLUDEPWNDSMAX</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00020">CEXCLUDERECTSMAX</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00057">CreateEmptyRgn()</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00198">ExcludeWindowRects()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d0/userk_8h-source.html#l06776">FLayeredOrRedirected()</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00787">FNID_DESKTOP</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00028">gapwndVisDefault</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00027">gapwndVisExclude</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00025">gcrcVisExclude</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00026">gcrcVisExcludeMax</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00843">GETFNID</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00024">gfVisAlloc</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00491">ghrgnInv2</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l01827">tagWND::head</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l01768">tagWND::hrgnClip</a>, <a class="el" href="../../d4/d5/rect_8c-source.html#l00191">IntersectRect()</a>, <a class="el" href="../../d5/d0/userk_8h-source.html#l02219">IntersectRgn</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00116">PZERO</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l01839">tagWND::rcClient</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l01838">tagWND::rcWindow</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00115">SetOrCreateRectRgnIndirectPublic()</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00245">SetRectEmpty</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00040">SetRectRgnIndirect()</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l01746">tagWND::spwndChild</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l01745">tagWND::spwndParent</a>, <a class="el" href="../../d5/d0/userk_8h-source.html#l02221">SubtractRgn</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02555">TestWF</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02417">WFCLIPSIBLINGS</a>, and <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02304">WFDESTROYED</a>.
<p>
Referenced by <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00523">CalcVisRgn()</a>.
<p>
<pre class="fragment"><div>00254 {
00255     RECT rcWindow;
00256     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndParent;
00257     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndRoot;
00258     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndLoop;
00259     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> fClipSiblings;
00260     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> fRgnParent = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00261     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> fResult;
00262     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> apwndVisDefault[<a class="code" href="../../d3/d6/visrgn_8c.html#a1">CEXCLUDEPWNDSMAX</a>];
00263 
00264 
00265     <span class="comment">/*</span>
00266 <span class="comment">     * First get the initial window rectangle which will be used for</span>
00267 <span class="comment">     * the basis of exclusion calculations.</span>
00268 <span class="comment">     */</span>
00269     rcWindow = (flags &amp; DCX_WINDOW ? pwnd-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o6">rcWindow</a> : pwnd-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o7">rcClient</a>);
00270 
00271     <span class="comment">/*</span>
00272 <span class="comment">     * Get the parent of this window.  We start at the parent and backtrack</span>
00273 <span class="comment">     * through the window-parent-list until we reach the end of the parent-</span>
00274 <span class="comment">     * list.  This will give us the intersect-rectangle which is used as</span>
00275 <span class="comment">     * the basis for checking intersection of the exclusion rects.</span>
00276 <span class="comment">     */</span>
00277     pwndRoot   = pwnd-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o0">head</a>.rpdesk-&gt;pDeskInfo-&gt;spwnd-&gt;spwndParent;
00278     pwndParent = pwnd-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o3">spwndParent</a>;
00279 
00280     <span class="comment">/*</span>
00281 <span class="comment">     * The parent can be NULL in the case when pwnd == pwndRoot. In other</span>
00282 <span class="comment">     * cases we should figure why the hell the parent is NULL.</span>
00283 <span class="comment">     */</span>
00284     <span class="keywordflow">if</span> (pwndParent == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00285 <span class="preprocessor">#if DBG</span>
00286 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (pwnd != pwndRoot) {
00287             RIPMSG0(RIP_ERROR, <span class="stringliteral">"CalcWindowVisRgn: pwndParent is NULL"</span>);
00288         }
00289 <span class="preprocessor">#endif</span>
00290 <span class="preprocessor"></span>        <span class="keywordflow">goto</span> NullRegion;
00291     }
00292 
00293     <span class="keywordflow">while</span> (pwndParent != pwndRoot) {
00294 
00295         <span class="comment">/*</span>
00296 <span class="comment">         * Don't clip layered DCs to the desktop. The surface of the layered</span>
00297 <span class="comment">         * DC is the size of the window and we always want to have the image</span>
00298 <span class="comment">         * of the entire window in that surface.</span>
00299 <span class="comment">         */</span>
00300         <span class="keywordflow">if</span> ((flags &amp; DCX_LAYERED) &amp;&amp; (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a232">GETFNID</a>(pwndParent) == <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a196">FNID_DESKTOP</a>))
00301             <span class="keywordflow">break</span>;
00302 
00303         <span class="comment">/*</span>
00304 <span class="comment">         * Remember if any of the parents have a window region.</span>
00305 <span class="comment">         */</span>
00306         <span class="keywordflow">if</span> (pwndParent-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o19">hrgnClip</a> != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
00307             fRgnParent = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00308 
00309         <span class="comment">/*</span>
00310 <span class="comment">         * Intersect the parent's client rectangle with the window rectangle.</span>
00311 <span class="comment">         */</span>
00312         <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d6/rect_8c.html#a8">IntersectRect</a>(&amp;rcWindow, &amp;rcWindow, &amp;pwndParent-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o7">rcClient</a>))
00313             <span class="keywordflow">goto</span> NullRegion;
00314 
00315         pwndParent = pwndParent-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o3">spwndParent</a>;
00316     }
00317 
00318     <span class="comment">/*</span>
00319 <span class="comment">     * Initialize the VisRgn memory-buffer.  This is</span>
00320 <span class="comment">     * used to hold the pwnd's.</span>
00321 <span class="comment">     */</span>
00322     <a class="code" href="../../d3/d6/visrgn_8c.html#a8">gapwndVisDefault</a>  = apwndVisDefault;
00323     <a class="code" href="../../d3/d6/visrgn_8c.html#a7">gapwndVisExclude</a>  = <a class="code" href="../../d3/d6/visrgn_8c.html#a8">gapwndVisDefault</a>;
00324     <a class="code" href="../../d3/d6/visrgn_8c.html#a6">gcrcVisExcludeMax</a> = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a2">ARRAY_SIZE</a>(apwndVisDefault);
00325     <a class="code" href="../../d3/d6/visrgn_8c.html#a5">gcrcVisExclude</a>    = 0;
00326 
00327     <span class="comment">/*</span>
00328 <span class="comment">     * Build the list of exclude-rects.</span>
00329 <span class="comment">     */</span>
00330     fClipSiblings = (<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>)(flags &amp; DCX_CLIPSIBLINGS);
00331     pwndParent    = pwnd-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o3">spwndParent</a>;
00332     pwndLoop      = pwnd;
00333 
00334     <span class="keywordflow">while</span> (pwndParent != pwndRoot) {
00335 
00336         <span class="comment">/*</span>
00337 <span class="comment">         * Don't exclude siblings of a layered window when calculating</span>
00338 <span class="comment">         * the virgn of a layered redirection DC.  We must always have</span>
00339 <span class="comment">         * a complete image of this window in the redirection bitmap.</span>
00340 <span class="comment">         */</span>
00341         <span class="keywordflow">if</span> ((flags &amp; DCX_LAYERED) &amp;&amp; <a class="code" href="../../d4/d1/userk_8h.html#a1991">FLayeredOrRedirected</a>(pwndLoop)) {
00342             fClipSiblings = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00343         }
00344 
00345         <span class="comment">/*</span>
00346 <span class="comment">         * Exclude any siblings if necessary.</span>
00347 <span class="comment">         */</span>
00348         <span class="keywordflow">if</span> (fClipSiblings &amp;&amp; (pwndParent-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o4">spwndChild</a> != pwndLoop)) {
00349 
00350             <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d6/visrgn_8c.html#a15">ExcludeWindowRects</a>(pwndParent-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o4">spwndChild</a>,
00351                                     pwndLoop,
00352                                     &amp;rcWindow)) {
00353 
00354                 <span class="keywordflow">goto</span> NullRegion;
00355             }
00356         }
00357 
00358 
00359         <span class="comment">/*</span>
00360 <span class="comment">         * Set this flag for next time through the loop...</span>
00361 <span class="comment">         */</span>
00362         fClipSiblings = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwndParent, WFCLIPSIBLINGS);
00363 
00364         pwndLoop      = pwndParent;
00365         pwndParent    = pwndLoop-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o3">spwndParent</a>;
00366     }
00367 
00368     <span class="keywordflow">if</span> ((flags &amp; DCX_CLIPCHILDREN) &amp;&amp; (pwnd-&gt;spwndChild != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)) {
00369 
00370         <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d6/visrgn_8c.html#a15">ExcludeWindowRects</a>(pwnd-&gt;spwndChild, NULL, &amp;rcWindow)) {
00371             <span class="keywordflow">goto</span> NullRegion;
00372         }
00373     }
00374 
00375     <span class="comment">/*</span>
00376 <span class="comment">     * If there are rectangles to exclude call GDI to create</span>
00377 <span class="comment">     * a region excluding them from the window rectangle.  If</span>
00378 <span class="comment">     * not simply call GreSetRectRgn().</span>
00379 <span class="comment">     */</span>
00380     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d6/visrgn_8c.html#a5">gcrcVisExclude</a> &gt; 0) {
00381 
00382         RECT  arcVisRects[<a class="code" href="../../d3/d6/visrgn_8c.html#a0">CEXCLUDERECTSMAX</a>];
00383         PRECT arcExclude;
00384         <span class="keywordtype">int</span>   i;
00385         <span class="keywordtype">int</span>   ircVisExclude  = 0;
00386         <span class="keywordtype">int</span>   irgnVisExclude = 0;
00387 
00388         <span class="comment">/*</span>
00389 <span class="comment">         * If we need to exclude more rectangles than fit in</span>
00390 <span class="comment">         * the pre-allocated buffer, obviously we have to</span>
00391 <span class="comment">         * allocate one that's big enough.</span>
00392 <span class="comment">         */</span>
00393 
00394         <span class="keywordflow">if</span> (<a class="code" href="../../d3/d6/visrgn_8c.html#a5">gcrcVisExclude</a> &lt;= <a class="code" href="../../d3/d6/visrgn_8c.html#a0">CEXCLUDERECTSMAX</a>) {
00395             arcExclude = arcVisRects;
00396         } <span class="keywordflow">else</span> {
00397             arcExclude = (PRECT)UserAllocPoolWithQuota(
00398                     <span class="keyword">sizeof</span>(RECT) * gcrcVisExclude, TAG_VISRGN);
00399 
00400             <span class="keywordflow">if</span> (!arcExclude)
00401                 <span class="keywordflow">goto</span> NullRegion;
00402         }
00403 
00404         <span class="comment">/*</span>
00405 <span class="comment">         * Now run through the list and put the</span>
00406 <span class="comment">         * window rectangles into the array for the call</span>
00407 <span class="comment">         * to CombineRgnRectList().</span>
00408 <span class="comment">         */</span>
00409         <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d3/d6/visrgn_8c.html#a5">gcrcVisExclude</a>; i++) {
00410 
00411             <span class="comment">/*</span>
00412 <span class="comment">             * If the window has a clip-rgn associated with</span>
00413 <span class="comment">             * it, then re-use gpwneExcludeList[] entries for</span>
00414 <span class="comment">             * storing them.</span>
00415 <span class="comment">             */</span>
00416             <span class="keywordflow">if</span> (<a class="code" href="../../d3/d6/visrgn_8c.html#a7">gapwndVisExclude</a>[i]-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o19">hrgnClip</a> != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00417 
00418                 <a class="code" href="../../d3/d6/visrgn_8c.html#a7">gapwndVisExclude</a>[irgnVisExclude++] = <a class="code" href="../../d3/d6/visrgn_8c.html#a7">gapwndVisExclude</a>[i];
00419                 <span class="keywordflow">continue</span>;
00420             }
00421 
00422             <span class="comment">/*</span>
00423 <span class="comment">             * This window doesn't have a clipping region; remember its</span>
00424 <span class="comment">             * rect for clipping purposes.</span>
00425 <span class="comment">             */</span>
00426             arcExclude[ircVisExclude++] = <a class="code" href="../../d3/d6/visrgn_8c.html#a7">gapwndVisExclude</a>[i]-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o6">rcWindow</a>;
00427         }
00428 
00429         <span class="keywordflow">if</span> (*phrgn == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
00430             *phrgn = <a class="code" href="../../d4/d1/userk_8h.html#a1162">CreateEmptyRgn</a>();
00431 
00432         <span class="keywordflow">if</span> (ircVisExclude != 0) {
00433             GreSubtractRgnRectList(*phrgn,
00434                                    &amp;rcWindow,
00435                                    arcExclude,
00436                                    ircVisExclude);
00437         } <span class="keywordflow">else</span> {
00438             <a class="code" href="../../d3/d6/visrgn_8c.html#a9">SetRectRgnIndirect</a>(*phrgn, &amp;rcWindow);
00439         }
00440 
00441         <span class="keywordflow">for</span> (i = 0; i &lt; irgnVisExclude; i++) {
00442 
00443             <a class="code" href="../../d3/d6/visrgn_8c.html#a9">SetRectRgnIndirect</a>(ghrgnInv2, &amp;gapwndVisExclude[i]-&gt;rcWindow);
00444             <a class="code" href="../../d4/d1/userk_8h.html#a228">IntersectRgn</a>(ghrgnInv2, ghrgnInv2, gapwndVisExclude[i]-&gt;hrgnClip);
00445 
00446             <span class="keywordflow">if</span> (<a class="code" href="../../d4/d1/userk_8h.html#a229">SubtractRgn</a>(*phrgn, *phrgn, ghrgnInv2) == NULLREGION)
00447                 <span class="keywordflow">break</span>;
00448         }
00449 
00450         <span class="keywordflow">if</span> (arcExclude != arcVisRects) {
00451             UserFreePool((HLOCAL)arcExclude);
00452         }
00453 
00454     } <span class="keywordflow">else</span> {
00455 
00456         <span class="comment">/*</span>
00457 <span class="comment">         * If the window was somehow destroyed, then we will return</span>
00458 <span class="comment">         * a null-region.  Emptying the rect will accomplish this.</span>
00459 <span class="comment">         */</span>
00460         <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, WFDESTROYED)) {
00461             <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a35">SetRectEmpty</a>(&amp;rcWindow);
00462         }
00463 
00464         <span class="comment">/*</span>
00465 <span class="comment">         * If there weren't any rectangles to exclude, simply call</span>
00466 <span class="comment">         * GreSetRectRgn() with the window rectangle.</span>
00467 <span class="comment">         */</span>
00468         <a class="code" href="../../d3/d6/visrgn_8c.html#a13">SetOrCreateRectRgnIndirectPublic</a>(phrgn, &amp;rcWindow);
00469     }
00470 
00471     <span class="comment">/*</span>
00472 <span class="comment">     * Clip out this window's window region</span>
00473 <span class="comment">     */</span>
00474     <span class="keywordflow">if</span> (pwnd-&gt;hrgnClip != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00475         <a class="code" href="../../d4/d1/userk_8h.html#a228">IntersectRgn</a>(*phrgn, *phrgn, pwnd-&gt;hrgnClip);
00476     }
00477 
00478     <span class="comment">/*</span>
00479 <span class="comment">     * Clip out parent's window regions, if there are any.</span>
00480 <span class="comment">     */</span>
00481     <span class="keywordflow">if</span> (fRgnParent) {
00482 
00483         <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndT;
00484 
00485         <span class="keywordflow">for</span> (pwndT = pwnd-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o3">spwndParent</a>;
00486                 pwndT != pwndRoot;
00487                 pwndT = pwndT-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o3">spwndParent</a>) {
00488 
00489             <span class="keywordflow">if</span> (pwndT-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o19">hrgnClip</a> != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00490 
00491                 <span class="keywordflow">if</span> (<a class="code" href="../../d4/d1/userk_8h.html#a228">IntersectRgn</a>(*phrgn, *phrgn, pwndT-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o19">hrgnClip</a>) == NULLREGION)
00492                     <span class="keywordflow">break</span>;
00493             }
00494         }
00495     }
00496 
00497     fResult = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00498     <span class="comment">// fall-through</span>
00499 
00500 Cleanup:
00501     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d6/visrgn_8c.html#a4">gfVisAlloc</a>) {
00502         UserFreePool((HLOCAL)gapwndVisExclude);
00503         <a class="code" href="../../d3/d6/visrgn_8c.html#a4">gfVisAlloc</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00504     }
00505 
00506     <span class="keywordflow">return</span> fResult;
00507 
00508 NullRegion:
00509     <a class="code" href="../../d3/d6/visrgn_8c.html#a13">SetOrCreateRectRgnIndirectPublic</a>(phrgn, <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a6">PZERO</a>(RECT));
00510     fResult = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00511     <span class="keywordflow">goto</span> Cleanup;
00512 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="visrgn.c::CreateEmptyRgn" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> HRGN CreateEmptyRgn           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00057">57</a> of file <a class="el" href="../../d4/d5/visrgn_8c-source.html">visrgn.c</a>.
<p>
References <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00116">PZERO</a>.
<p>
Referenced by <a class="el" href="../../d9/d2/dc_8c-source.html#l00608">_GetDCEx()</a>, <a class="el" href="../../d3/d7/swp_8c-source.html#l02529">BltValidInit()</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00250">CalcWindowVisRgn()</a>, <a class="el" href="../../d2/d2/dtbitmap_8c-source.html#l00762">CenterWallpaper()</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00074">CreateEmptyRgnPublic()</a>, <a class="el" href="../../d9/d2/dc_8c-source.html#l02151">GetMonitorDC()</a>, <a class="el" href="../../d0/d4/scrollw_8c-source.html#l00067">InternalScrollDC()</a>, <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l06624">NtUserGetDC()</a>, <a class="el" href="../../d3/d7/swp_8c-source.html#l06013">PreventInterMonitorBlts()</a>, <a class="el" href="../../d9/d7/fullscr_8c-source.html#l00985">ResetSharedDesktops()</a>, <a class="el" href="../../d8/d2/validate_8c-source.html#l00151">UserValidateCopyRgn()</a>, <a class="el" href="../../d0/d2/paint_8c-source.html#l00310">xxxBeginPaint()</a>, <a class="el" href="../../d0/d6/desktop_8c-source.html#l01654">xxxCreateDisconnectDesktop()</a>, <a class="el" href="../../d7/d1/mndraw_8c-source.html#l01373">xxxMenuBarDraw()</a>, <a class="el" href="../../d7/d1/mndraw_8c-source.html#l01697">xxxMNInvertItem()</a>, and <a class="el" href="../../d6/d1/hungapp_8c-source.html#l00135">xxxRedrawHungWindow()</a>.
<p>
<pre class="fragment"><div>00058 {
00059     <span class="keywordflow">return</span> GreCreateRectRgnIndirect(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a6">PZERO</a>(RECT));
00060 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="visrgn.c::CreateEmptyRgnPublic" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> HRGN CreateEmptyRgnPublic           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00074">74</a> of file <a class="el" href="../../d4/d5/visrgn_8c-source.html">visrgn.c</a>.
<p>
References <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00057">CreateEmptyRgn()</a>.
<p>
Referenced by <a class="el" href="../../d9/d2/dc_8c-source.html#l00608">_GetDCEx()</a>, <a class="el" href="../../d0/d2/paint_8c-source.html#l00151">GetNCUpdateRgn()</a>, <a class="el" href="../../d9/d7/fullscr_8c-source.html#l00775">InitUserScreen()</a>, and <a class="el" href="../../d9/d8/update_8c-source.html#l00784">InternalInvalidate3()</a>.
<p>
<pre class="fragment"><div>00075 {
00076     HRGN hrgn;
00077 
00078     <span class="keywordflow">if</span> (hrgn = <a class="code" href="../../d4/d1/userk_8h.html#a1162">CreateEmptyRgn</a>()) {
00079         UserVerify(GreSetRegionOwner(hrgn, OBJECT_OWNER_PUBLIC));
00080     }
00081 
00082     <span class="keywordflow">return</span> hrgn;
00083 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="visrgn.c::ExcludeWindowRects" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL ExcludeWindowRects           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d6/d9/structtagWND.html">PWND</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pwnd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d6/d9/structtagWND.html">PWND</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pwndStop</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPRECT&nbsp;</td>
          <td class="mdname" nowrap> <em>lprcIntersect</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00198">198</a> of file <a class="el" href="../../d4/d5/visrgn_8c-source.html">visrgn.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00188">CheckIntersectRect</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00194">EmptyRect</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d0/userk_8h-source.html#l06776">FLayeredOrRedirected()</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00027">gapwndVisExclude</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00025">gcrcVisExclude</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00026">gcrcVisExcludeMax</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l01838">tagWND::rcWindow</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00140">ResizeVisExcludeMemory()</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l01744">tagWND::spwndNext</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l01745">tagWND::spwndParent</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02555">TestWF</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02362">WEFTRANSPARENT</a>, and <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02419">WFVISIBLE</a>.
<p>
Referenced by <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00250">CalcWindowVisRgn()</a>.
<p>
<pre class="fragment"><div>00202 {
00203     PRECT prc;
00204 
00205 <span class="preprocessor">#if DBG</span>
00206 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (pwnd != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a> &amp;&amp; pwndStop != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a> &amp;&amp;
00207             pwnd-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o3">spwndParent</a> != pwndStop-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o3">spwndParent</a>) {
00208         RIPMSG0(RIP_ERROR, <span class="stringliteral">"ExcludeWindowRects: bad windows passed in"</span>);
00209     }
00210 <span class="preprocessor">#endif</span>
00211 <span class="preprocessor"></span>
00212     <span class="keywordflow">while</span> ((pwnd != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) &amp;&amp; (pwnd != pwndStop)) {
00213         UserAssert(pwnd);
00214         prc = &amp;pwnd-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o6">rcWindow</a>;
00215         <span class="keywordflow">if</span> (       <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, WFVISIBLE)
00216                 &amp;&amp; !<a class="code" href="../../d4/d1/userk_8h.html#a1991">FLayeredOrRedirected</a>(pwnd)
00217                 &amp;&amp; (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, WEFTRANSPARENT) == 0)
00218                 &amp;&amp; <a class="code" href="../../d3/d6/visrgn_8c.html#a2">CheckIntersectRect</a>(lprcIntersect, prc)
00219                 &amp;&amp; !<a class="code" href="../../d3/d6/visrgn_8c.html#a3">EmptyRect</a>(prc)) {
00220 
00221             UserAssert(gcrcVisExclude &lt;= gcrcVisExcludeMax);
00222             <span class="keywordflow">if</span> (<a class="code" href="../../d3/d6/visrgn_8c.html#a5">gcrcVisExclude</a> == <a class="code" href="../../d3/d6/visrgn_8c.html#a6">gcrcVisExcludeMax</a>) {
00223                 <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d6/visrgn_8c.html#a14">ResizeVisExcludeMemory</a>()) {
00224                     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00225                 }
00226             }
00227 
00228             <a class="code" href="../../d3/d6/visrgn_8c.html#a7">gapwndVisExclude</a>[<a class="code" href="../../d3/d6/visrgn_8c.html#a5">gcrcVisExclude</a>++] = pwnd;
00229         }
00230 
00231         pwnd = pwnd-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o2">spwndNext</a>;
00232     }
00233 
00234     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00235 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="visrgn.c::ResizeVisExcludeMemory" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL ResizeVisExcludeMemory           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00140">140</a> of file <a class="el" href="../../d4/d5/visrgn_8c-source.html">visrgn.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00021">CEXCLUDEPWNDSMAX</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00027">gapwndVisExclude</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00025">gcrcVisExclude</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00026">gcrcVisExcludeMax</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00024">gfVisAlloc</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00057">PWND</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00198">ExcludeWindowRects()</a>.
<p>
<pre class="fragment"><div>00141 {
00142     <span class="keywordtype">int</span>     crcNew;
00143     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>    apwndNew;
00144 
00145     <span class="comment">/*</span>
00146 <span class="comment">     * Note (adams): a previous version of the code called UserReallocPool</span>
00147 <span class="comment">     * if memory had already been allocated. Unfortunately, UserReallocPool</span>
00148 <span class="comment">     * just has to allocate more memory and copy the contents, since Rtl</span>
00149 <span class="comment">     * doesn't have a realloc function. If Rtl later gains a Realloc function,</span>
00150 <span class="comment">     * this code should be changed to the previous version.</span>
00151 <span class="comment">     */</span>
00152 
00153     crcNew = <a class="code" href="../../d3/d6/visrgn_8c.html#a6">gcrcVisExcludeMax</a> + <a class="code" href="../../d3/d6/visrgn_8c.html#a1">CEXCLUDEPWNDSMAX</a>;
00154     apwndNew = (<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>)UserAllocPool(
00155             crcNew * <span class="keyword">sizeof</span>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>), TAG_VISRGN);
00156 
00157     <span class="keywordflow">if</span> (!apwndNew)
00158         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00159 
00160     UserAssert(gcrcVisExcludeMax == gcrcVisExclude);
00161     RtlCopyMemory(apwndNew, gapwndVisExclude, gcrcVisExcludeMax * <span class="keyword">sizeof</span>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>));
00162     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d6/visrgn_8c.html#a4">gfVisAlloc</a>) {
00163         UserFreePool(gapwndVisExclude);
00164     } <span class="keywordflow">else</span> {
00165         <a class="code" href="../../d3/d6/visrgn_8c.html#a4">gfVisAlloc</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00166     }
00167 
00168     <a class="code" href="../../d3/d6/visrgn_8c.html#a6">gcrcVisExcludeMax</a> = crcNew;
00169     <a class="code" href="../../d3/d6/visrgn_8c.html#a7">gapwndVisExclude</a> = (<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> *)apwndNew;
00170     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00171 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="visrgn.c::SetEmptyRgn" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL SetEmptyRgn           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HRGN&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>hrgn</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00097">97</a> of file <a class="el" href="../../d4/d5/visrgn_8c-source.html">visrgn.c</a>.
<p>
References <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00116">PZERO</a>, and <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00040">SetRectRgnIndirect()</a>.
<p>
Referenced by <a class="el" href="../../d9/d2/dc_8c-source.html#l00608">_GetDCEx()</a>, <a class="el" href="../../d0/d4/scrollw_8c-source.html#l00067">InternalScrollDC()</a>, <a class="el" href="../../d9/d2/dc_8c-source.html#l00237">UserSetDCVisRgn()</a>, <a class="el" href="../../d9/d8/update_8c-source.html#l01665">xxxGetUpdateRgn()</a>, <a class="el" href="../../d9/d8/update_8c-source.html#l01302">xxxInternalInvalidate()</a>, and <a class="el" href="../../d0/d4/scrollw_8c-source.html#l00741">xxxScrollWindowEx()</a>.
<p>
<pre class="fragment"><div>00098 {
00099     <span class="keywordflow">return</span> <a class="code" href="../../d3/d6/visrgn_8c.html#a9">SetRectRgnIndirect</a>(hrgn, <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a6">PZERO</a>(RECT));
00100 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="visrgn.c::SetOrCreateRectRgnIndirectPublic" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> HRGN SetOrCreateRectRgnIndirectPublic           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HRGN *&nbsp;</td>
          <td class="mdname" nowrap> <em>phrgn</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPCRECT&nbsp;</td>
          <td class="mdname" nowrap> <em>lprc</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00115">115</a> of file <a class="el" href="../../d4/d5/visrgn_8c-source.html">visrgn.c</a>.
<p>
References <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00040">SetRectRgnIndirect()</a>.
<p>
Referenced by <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00523">CalcVisRgn()</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00250">CalcWindowVisRgn()</a>, <a class="el" href="../../d2/d3/spb_8c-source.html#l00214">SpbCheckRect2()</a>, and <a class="el" href="../../d9/d7/fullscr_8c-source.html#l00564">UpdateUserScreen()</a>.
<p>
<pre class="fragment"><div>00116 {
00117     <span class="keywordflow">if</span> (*phrgn) {
00118         UserVerify(<a class="code" href="../../d3/d6/visrgn_8c.html#a9">SetRectRgnIndirect</a>(*phrgn, lprc));
00119     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*phrgn = GreCreateRectRgnIndirect((LPRECT) lprc)) {
00120         UserVerify(GreSetRegionOwner(*phrgn, OBJECT_OWNER_PUBLIC));
00121     }
00122 
00123     <span class="keywordflow">return</span> *phrgn;
00124 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="visrgn.c::SetRectRgnIndirect" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL SetRectRgnIndirect           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HRGN&nbsp;</td>
          <td class="mdname" nowrap> <em>hrgn</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPCRECT&nbsp;</td>
          <td class="mdname" nowrap> <em>lprc</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00040">40</a> of file <a class="el" href="../../d4/d5/visrgn_8c-source.html">visrgn.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00585">CalcWindowRgn()</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00250">CalcWindowVisRgn()</a>, <a class="el" href="../../d2/d3/spb_8c-source.html#l00341">CreateSpb()</a>, <a class="el" href="../../d9/d8/update_8c-source.html#l00400">InternalInvalidate2()</a>, <a class="el" href="../../d0/d4/scrollw_8c-source.html#l00067">InternalScrollDC()</a>, <a class="el" href="../../d2/d3/spb_8c-source.html#l00802">LockWindowUpdate2()</a>, <a class="el" href="../../d2/d3/spb_8c-source.html#l00651">RestoreSpb()</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00097">SetEmptyRgn()</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00115">SetOrCreateRectRgnIndirectPublic()</a>, <a class="el" href="../../d9/d8/update_8c-source.html#l00159">SmartRectInRegion()</a>, <a class="el" href="../../d2/d3/spb_8c-source.html#l00214">SpbCheckRect2()</a>, <a class="el" href="../../d9/d8/update_8c-source.html#l01019">ValidateParents()</a>, <a class="el" href="../../d9/d8/update_8c-source.html#l01665">xxxGetUpdateRgn()</a>, <a class="el" href="../../d6/d1/hungapp_8c-source.html#l00135">xxxRedrawHungWindow()</a>, <a class="el" href="../../d9/d8/update_8c-source.html#l00299">xxxRedrawWindow()</a>, and <a class="el" href="../../d3/d7/swp_8c-source.html#l02681">zzzBltValidBits()</a>.
<p>
<pre class="fragment"><div>00041 {
00042     <span class="keywordflow">return</span> GreSetRectRgn(hrgn, lprc-&gt;left, lprc-&gt;top, lprc-&gt;right, lprc-&gt;bottom);
00043 }
</div></pre>    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a8" doxytag="visrgn.c::gapwndVisDefault" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d6/d9/structtagWND.html">PWND</a>* <a class="el" href="../../d3/d6/visrgn_8c.html#a8">gapwndVisDefault</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00028">28</a> of file <a class="el" href="../../d4/d5/visrgn_8c-source.html">visrgn.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00250">CalcWindowVisRgn()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="visrgn.c::gapwndVisExclude" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d6/d9/structtagWND.html">PWND</a>* <a class="el" href="../../d3/d6/visrgn_8c.html#a7">gapwndVisExclude</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00027">27</a> of file <a class="el" href="../../d4/d5/visrgn_8c-source.html">visrgn.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00250">CalcWindowVisRgn()</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00198">ExcludeWindowRects()</a>, and <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00140">ResizeVisExcludeMemory()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="visrgn.c::gcrcVisExclude" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int <a class="el" href="../../d3/d6/visrgn_8c.html#a5">gcrcVisExclude</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00025">25</a> of file <a class="el" href="../../d4/d5/visrgn_8c-source.html">visrgn.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00250">CalcWindowVisRgn()</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00198">ExcludeWindowRects()</a>, and <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00140">ResizeVisExcludeMemory()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="visrgn.c::gcrcVisExcludeMax" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int <a class="el" href="../../d3/d6/visrgn_8c.html#a6">gcrcVisExcludeMax</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00026">26</a> of file <a class="el" href="../../d4/d5/visrgn_8c-source.html">visrgn.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00250">CalcWindowVisRgn()</a>, <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00198">ExcludeWindowRects()</a>, and <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00140">ResizeVisExcludeMemory()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="visrgn.c::gfVisAlloc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL <a class="el" href="../../d3/d6/visrgn_8c.html#a4">gfVisAlloc</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00024">24</a> of file <a class="el" href="../../d4/d5/visrgn_8c-source.html">visrgn.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00250">CalcWindowVisRgn()</a>, and <a class="el" href="../../d4/d5/visrgn_8c-source.html#l00140">ResizeVisExcludeMemory()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:46:08 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
