<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: dumpuser.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>dumpuser.c File Reference</h1><code>#include &lt;os2.h&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;netcons.h&gt;</code><br>
<code>#include &lt;neterr.h&gt;</code><br>
<code>#include &lt;netlib.h&gt;</code><br>
<code>#include &lt;uascache.h&gt;</code><br>
<code>#include &lt;<a class="el" href="../../d0/d3/access_8h-source.html">access.h</a>&gt;</code><br>
<code>#include &lt;permit.h&gt;</code><br>
<code>#include "ssitools.h"</code><br>

<p>
<a href="../../d4/d2/dumpuser_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d1/structmy__group.html">my_group</a></td></tr>

<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a0">SECPKG</a>&nbsp;&nbsp;&nbsp;"[Tmpv1_0]"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a1">SERVOP</a>&nbsp;&nbsp;&nbsp;"D_SERVER "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a2">ACCTOP</a>&nbsp;&nbsp;&nbsp;"D_ACCOUN "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a3">COMMOP</a>&nbsp;&nbsp;&nbsp;"D_COMM_O "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a4">PRINTOP</a>&nbsp;&nbsp;&nbsp;"D_PRINT_ "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a5">DISKOP</a>&nbsp;&nbsp;&nbsp;"D_DISK_O "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a6">AUDITOP</a>&nbsp;&nbsp;&nbsp;"D_AUDIT_ "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a7">GADMINS</a>&nbsp;&nbsp;&nbsp;"D_ADMIN "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a8">GUSERS</a>&nbsp;&nbsp;&nbsp;"D_USERS "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a9">GGUESTS</a>&nbsp;&nbsp;&nbsp;"D_GUESTS "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a10">INCL_DOSMEMMGR</a></td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a18">InitMemStuff</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a19">loadit</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a20">showentries</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a21">doargs</a> (int, char **)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a22">UserHashVal</a> (char far *uname, int domain) const</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>unsigned&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a23">dread</a> (unsigned handle, unsigned long pos, char far *buffer, unsigned length)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>unsigned&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a24">read_object</a> (unsigned handle, unsigned long pos, char FAR *buf)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a25">printgroups</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a26">banner</a> (unsigned longnames)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a27">main</a> (int argc, char *argv[])</td></tr>

<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>char FAR *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a11">buf1</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>char FAR *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a12">buf2</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>char FAR *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a13">GroupCache</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a14">path</a> [256]</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a15">userbuf</a> [MAX_USER_SIZE]</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>unsigned short&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a16">Handle</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>_ahdr FAR *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d3/dumpuser_8c.html#a17">Header</a></td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a2" doxytag="dumpuser.c::ACCTOP" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define ACCTOP&nbsp;&nbsp;&nbsp;"D_ACCOUN "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00018">18</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00284">banner()</a>, and <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00222">showentries()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="dumpuser.c::AUDITOP" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define AUDITOP&nbsp;&nbsp;&nbsp;"D_AUDIT_ "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00022">22</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00284">banner()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="dumpuser.c::COMMOP" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define COMMOP&nbsp;&nbsp;&nbsp;"D_COMM_O "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00019">19</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00284">banner()</a>, and <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00222">showentries()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="dumpuser.c::DISKOP" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DISKOP&nbsp;&nbsp;&nbsp;"D_DISK_O "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00021">21</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00284">banner()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="dumpuser.c::GADMINS" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define GADMINS&nbsp;&nbsp;&nbsp;"D_ADMIN "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00023">23</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00284">banner()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="dumpuser.c::GGUESTS" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define GGUESTS&nbsp;&nbsp;&nbsp;"D_GUESTS "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00025">25</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00284">banner()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="dumpuser.c::GUSERS" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define GUSERS&nbsp;&nbsp;&nbsp;"D_USERS "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00024">24</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00284">banner()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="dumpuser.c::INCL_DOSMEMMGR" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define INCL_DOSMEMMGR          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00029">29</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="dumpuser.c::PRINTOP" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define PRINTOP&nbsp;&nbsp;&nbsp;"D_PRINT_ "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00020">20</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00284">banner()</a>, and <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00222">showentries()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="dumpuser.c::SECPKG" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define SECPKG&nbsp;&nbsp;&nbsp;"[Tmpv1_0]"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00004">4</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00284">banner()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="dumpuser.c::SERVOP" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define SERVOP&nbsp;&nbsp;&nbsp;"D_SERVER "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00017">17</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00284">banner()</a>, and <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00222">showentries()</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a26" doxytag="dumpuser.c::banner" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void banner           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>longnames</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00284">284</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.
<p>
References <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00018">ACCTOP</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00022">AUDITOP</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00019">COMMOP</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00021">DISKOP</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00023">GADMINS</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00025">GGUESTS</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00024">GUSERS</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00045">path</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00020">PRINTOP</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00004">SECPKG</a>, and <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00017">SERVOP</a>.
<p>
Referenced by <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00313">main()</a>.
<p>
<pre class="fragment"><div>00285 {
00286 
00287    printf(SECPKG);
00288    printf(<span class="stringliteral">"\n\n\t//\n\t// Account Setup information\n"</span>);
00289    printf(<span class="stringliteral">"\t//  This file produced from the LAN Manager 2.0 UAS\n"</span>);
00290    printf(<span class="stringliteral">"\t//      %s\n"</span>, path);
00291 
00292    printf(<span class="stringliteral">"\tGroup = 501 %s\n"</span>, GADMINS);
00293    printf(<span class="stringliteral">"\tGroup = 502 %s\n"</span>, GUSERS);
00294    printf(<span class="stringliteral">"\tGroup = 503 %s\n"</span>, GGUESTS);
00295    printf(<span class="stringliteral">"\tGroup = 504 %s\n"</span>, ACCTOP);
00296    printf(<span class="stringliteral">"\tGroup = 505 %s\n"</span>, SERVOP);
00297    printf(<span class="stringliteral">"\tGroup = 506 %s\n"</span>, PRINTOP);
00298    printf(<span class="stringliteral">"\tGroup = 507 %s\n"</span>, COMMOP);
00299    printf(<span class="stringliteral">"\tGroup = 508 %s\n"</span>, DISKOP);
00300    printf(<span class="stringliteral">"\tGroup = 509 %s\n"</span>, AUDITOP);
00301 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a21" doxytag="dumpuser.c::doargs" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void doargs           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00303">303</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.
<p>
References <a class="el" href="../../d0/d1/fedefs_8h-source.html#l00051">exit</a>, and <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00045">path</a>.
<p>
Referenced by <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00313">main()</a>.
<p>
<pre class="fragment"><div>00304 {
00305    <span class="keywordflow">if</span> (argc != 2 || *argv[1] == <span class="charliteral">'?'</span>) {
00306       printf(<span class="stringliteral">"usage:  %s path\\net.acc\n"</span>, argv[0]);
00307       printf(<span class="stringliteral">"\tlists all the users/groups and their hash/serial numbers for a UAS\n"</span>);
00308       <a class="code" href="../../d9/d1/fedefs_8h.html#a16">exit</a>(0);
00309    }
00310    strcpy(path, argv[1]);
00311 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a23" doxytag="dumpuser.c::dread" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned dread           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned&nbsp;</td>
          <td class="mdname" nowrap> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>unsigned long&nbsp;</td>
          <td class="mdname" nowrap> <em>pos</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>char far *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>unsigned&nbsp;</td>
          <td class="mdname" nowrap> <em>length</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00077">77</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00095">read_object()</a>.
<p>
<pre class="fragment"><div>00078 {
00079    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> err, bread;
00080    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> newpos;
00081 
00082    err = DosChgFilePtr(handle, pos, FILE_BEGIN, &amp;newpos);
00083    <span class="keywordflow">if</span> (err)
00084       <span class="keywordflow">return</span> err;
00085    <span class="keywordflow">if</span> (newpos != pos)
00086       <span class="keywordflow">return</span> NERR_ACFFileIOFail;
00087    err = DosRead( handle, buffer, length, &amp;bread);
00088    <span class="keywordflow">if</span> (err)
00089       <span class="keywordflow">return</span> err;
00090    <span class="keywordflow">if</span> (bread != length)
00091       <span class="keywordflow">return</span> NERR_ACFFileIOFail;
00092    <span class="keywordflow">return</span> 0;
00093 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="dumpuser.c::InitMemStuff" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void InitMemStuff           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00107">107</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.
<p>
References <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00042">buf1</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00043">buf2</a>, <a class="el" href="../../d0/d1/fedefs_8h-source.html#l00051">exit</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00044">GroupCache</a>, <a class="el" href="../../d8/d9/cmdat2_8c-source.html#l00091">Handle</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00048">Header</a>, <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>, and <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00045">path</a>.
<p>
Referenced by <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00313">main()</a>.
<p>
<pre class="fragment"><div>00108 {
00109    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>    err;
00110    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>    sel, action;
00111 
00112    err = DosAllocSeg(0x8000, &amp;sel, 0);
00113    <span class="keywordflow">if</span> (err) {
00114       printf(<span class="stringliteral">"Could not alloc memory, error %d\n"</span>, err);
00115       <a class="code" href="../../d9/d1/fedefs_8h.html#a16">exit</a>(1);
00116    }
00117    <a class="code" href="../../d3/d3/dumpuser_8c.html#a11">buf1</a> = MAKEP(sel, 0);
00118    err = DosAllocSeg(0x8000, &amp;sel, 0);
00119    <span class="keywordflow">if</span> (err) {
00120       printf(<span class="stringliteral">"Could not alloc memory, error %d\n"</span>, err);
00121       <a class="code" href="../../d9/d1/fedefs_8h.html#a16">exit</a>(1);
00122    }
00123    <a class="code" href="../../d3/d3/dumpuser_8c.html#a12">buf2</a> = MAKEP(sel, 0);
00124    err = DosAllocSeg(1024, &amp;sel, 0);
00125    <span class="keywordflow">if</span> (err) {
00126       printf(<span class="stringliteral">"Could not alloc memory, error %d\n"</span>, err);
00127       <a class="code" href="../../d9/d1/fedefs_8h.html#a16">exit</a>(1);
00128    }
00129    <a class="code" href="../../d3/d3/dumpuser_8c.html#a17">Header</a> = MAKEP(sel, 0);
00130    <span class="keywordflow">if</span> (err = DosAllocSeg(0x8000, &amp;sel, 0)) {
00131       printf(<span class="stringliteral">"Could not alloc memory, error %d\n"</span>, err);
00132       <a class="code" href="../../d9/d1/fedefs_8h.html#a16">exit</a>(1);
00133    }
00134    <a class="code" href="../../d3/d3/dumpuser_8c.html#a13">GroupCache</a> = MAKEP(sel, 0);
00135    err = DosOpen(path, &amp;Handle, &amp;action, 0L, 0, FILE_OPEN,
00136                   OPEN_ACCESS_READONLY | OPEN_SHARE_DENYNONE, 0L);
00137    <span class="keywordflow">if</span> (err) {
00138       printf(<span class="stringliteral">"Error opening %s, code %d\n"</span>, path, err);
00139       <a class="code" href="../../d9/d1/fedefs_8h.html#a16">exit</a>(1);
00140    }
00141    err = DosRead(Handle, Header, 512, &amp;action);
00142    <span class="keywordflow">if</span> (err || action != 512) {
00143       printf(<span class="stringliteral">"Error reading from file, code %d\n"</span>, err);
00144       <a class="code" href="../../d9/d1/fedefs_8h.html#a16">exit</a>(1);
00145    }
00146    printf(<span class="stringliteral">"Total users, %d\n"</span>, <a class="code" href="../../d3/d3/dumpuser_8c.html#a17">Header</a>-&gt;num_users);
00147 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a19" doxytag="dumpuser.c::loadit" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void loadit           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00149">149</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.
<p>
References <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00042">buf1</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00043">buf2</a>, <a class="el" href="../../d0/d1/fedefs_8h-source.html#l00051">exit</a>, <a class="el" href="../../d7/d6/aug98_2dll32_2icmdll_8h-source.html#l00010">FAR</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00044">GroupCache</a>, <a class="el" href="../../d8/d9/cmdat2_8c-source.html#l00091">Handle</a>, <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, and <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00063">UserHashVal()</a>.
<p>
Referenced by <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00313">main()</a>.
<p>
<pre class="fragment"><div>00150 {
00151    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>    err;
00152    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>    action;
00153    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>    i;
00154    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>     pos;
00155    <span class="keyword">struct </span>diskuserhash <a class="code" href="../../d6/d7/aug98_2dll32_2icmdll_8h.html#a5">FAR</a> *diskhashentry;
00156    <span class="keyword">struct </span>userhash <a class="code" href="../../d6/d7/aug98_2dll32_2icmdll_8h.html#a5">FAR</a> *userhashentry;
00157    <span class="keyword">struct </span>_grouprec <a class="code" href="../../d6/d7/aug98_2dll32_2icmdll_8h.html#a5">FAR</a> * grec;
00158    <span class="keyword">struct </span><a class="code" href="../../d4/d1/structmy__group.html">my_group</a> <a class="code" href="../../d6/d7/aug98_2dll32_2icmdll_8h.html#a5">FAR</a> * mygroup;
00159 
00160    err = DosChgFilePtr(Handle, 512L, FILE_BEGIN, &amp;pos);
00161    err = DosRead(Handle, buf1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> _grouprec) * MAXGROUP, &amp;action);
00162    <span class="keywordflow">if</span> (err || action != <span class="keyword">sizeof</span>(<span class="keyword">struct </span>_grouprec) * MAXGROUP) {
00163       printf(<span class="stringliteral">"Error reading from file, %d\n"</span>, err);
00164       <a class="code" href="../../d9/d1/fedefs_8h.html#a16">exit</a>(1);
00165    }
00166    mygroup = (<span class="keyword">struct </span><a class="code" href="../../d4/d1/structmy__group.html">my_group</a> <a class="code" href="../../d6/d7/aug98_2dll32_2icmdll_8h.html#a5">FAR</a> *) <a class="code" href="../../d3/d3/dumpuser_8c.html#a13">GroupCache</a>;
00167    grec = (<span class="keyword">struct </span>_grouprec <a class="code" href="../../d6/d7/aug98_2dll32_2icmdll_8h.html#a5">FAR</a> *) <a class="code" href="../../d3/d3/dumpuser_8c.html#a11">buf1</a>;
00168    <span class="keywordflow">for</span> (i = 0; i &lt; MAXGROUP ; i++, grec++, mygroup++ ) {
00169       <span class="keywordflow">if</span> (grec-&gt;name[0] != REC_EMPTY &amp;&amp; grec-&gt;name[0] != REC_DELETE) {
00170 <span class="comment">/*         if (strcmpf(grec-&gt;name, "ADMINS") == 0) {</span>
00171 <span class="comment">            strcpyf(mygroup-&gt;name, GADMIN);</span>
00172 <span class="comment">          else if (strcmpf(grec-&gt;name, "USERS") == 0)</span>
00173 <span class="comment">            strcpyf(mygroup-&gt;name, GUSERS);</span>
00174 <span class="comment">          else if (strcmpf(grec-&gt;name, "GUESTS") == 0)</span>
00175 <span class="comment">            strcpyf(mygroup-&gt;name, GGUESTS);</span>
00176 <span class="comment">          else */</span>
00177          strncpyf(mygroup-&gt;name, grec-&gt;name, GNLEN);
00178          mygroup-&gt;gid = <a class="code" href="../../d3/d3/dumpuser_8c.html#a22">UserHashVal</a>(mygroup-&gt;name, MAXGROUP);
00179          mygroup-&gt;serial = grec-&gt;serial;
00180       } <span class="keywordflow">else</span>
00181          mygroup-&gt;name[0] = <span class="charliteral">'\0'</span>;
00182    }
00183 
00184    err = DosChgFilePtr(Handle, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) HASH_TBL_OFFSET, FILE_BEGIN, &amp;pos);
00185    diskhashentry = (<span class="keyword">struct </span>diskuserhash <a class="code" href="../../d6/d7/aug98_2dll32_2icmdll_8h.html#a5">FAR</a> *)  <a class="code" href="../../d3/d3/dumpuser_8c.html#a11">buf1</a>;
00186    <span class="keywordflow">if</span> (err = DosRead (Handle, diskhashentry, HASH_TBL_SIZE, &amp;action)) {
00187       printf(<span class="stringliteral">"Could not read hash table, error %d\n"</span>, err);
00188       <a class="code" href="../../d9/d1/fedefs_8h.html#a16">exit</a>(1);
00189    }
00190 
00191    <span class="keywordflow">if</span> (action != HASH_TBL_SIZE) {
00192       printf(<span class="stringliteral">"Could not read hash table\n"</span>);
00193       <a class="code" href="../../d9/d1/fedefs_8h.html#a16">exit</a>(1);
00194    }
00195    <span class="comment">/*</span>
00196 <span class="comment">    *  Copy disk user hash table into memory</span>
00197 <span class="comment">    */</span>
00198     userhashentry = (<span class="keyword">struct </span>userhash <a class="code" href="../../d6/d7/aug98_2dll32_2icmdll_8h.html#a5">FAR</a> *) <a class="code" href="../../d3/d3/dumpuser_8c.html#a12">buf2</a>;
00199     <span class="keywordflow">for</span> (i = 0; i &lt; USER_HASH_ENTRIES; i++) {
00200                 userhashentry-&gt;uh_disk = diskhashentry-&gt;dh_disk;
00201                 userhashentry-&gt;uh_serial = diskhashentry-&gt;dh_serial;
00202                 userhashentry-&gt;uh_cache = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00203                 userhashentry++;
00204                 diskhashentry++;
00205         }
00206 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a27" doxytag="dumpuser.c::main" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> main           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>argv</em>[]</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00313">313</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.
<p>
References <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00284">banner()</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00303">doargs()</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00107">InitMemStuff()</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00149">loadit()</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00208">printgroups()</a>, and <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00222">showentries()</a>.
<p>
<pre class="fragment"><div>00314 {
00315    printf(SIGNON);
00316    <a class="code" href="../../d3/d3/dumpuser_8c.html#a21">doargs</a>(argc, argv);
00317    <a class="code" href="../../d3/d3/dumpuser_8c.html#a18">InitMemStuff</a>();
00318    <a class="code" href="../../d3/d3/dumpuser_8c.html#a19">loadit</a>();
00319 
00320    <a class="code" href="../../d3/d3/dumpuser_8c.html#a26">banner</a>(0);
00321 
00322    <a class="code" href="../../d3/d3/dumpuser_8c.html#a25">printgroups</a>();
00323    <a class="code" href="../../d3/d3/dumpuser_8c.html#a20">showentries</a>();
00324 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a25" doxytag="dumpuser.c::printgroups" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void printgroups           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00208">208</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.
<p>
References <a class="el" href="../../d7/d6/aug98_2dll32_2icmdll_8h-source.html#l00010">FAR</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00044">GroupCache</a>, and <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>.
<p>
Referenced by <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00313">main()</a>.
<p>
<pre class="fragment"><div>00209 {
00210    <span class="keyword">struct </span><a class="code" href="../../d4/d1/structmy__group.html">my_group</a> <a class="code" href="../../d6/d7/aug98_2dll32_2icmdll_8h.html#a5">FAR</a> * mygroup = (<span class="keyword">struct </span><a class="code" href="../../d4/d1/structmy__group.html">my_group</a> <a class="code" href="../../d6/d7/aug98_2dll32_2icmdll_8h.html#a5">FAR</a> *) <a class="code" href="../../d3/d3/dumpuser_8c.html#a13">GroupCache</a>;
00211    <span class="keywordtype">unsigned</span> i;
00212    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  relid;
00213 
00214    printf(<span class="stringliteral">"\t// Groups\n"</span>);
00215    <span class="keywordflow">for</span> (i = 0; i&lt; MAXGROUP ; i++, mygroup++ ) {
00216       <span class="keywordflow">if</span> (mygroup-&gt;name[0]) {
00217          relid = ((mygroup-&gt;gid | GROUPIDMASK) + (mygroup-&gt;serial &lt;&lt; 16)) ^ 0x80000000<a class="code" href="../../d2/d0/aw_8h.html#a3">L</a>;
00218          printf(<span class="stringliteral">"\tGroup = %ld %Fs\n"</span>, relid, mygroup-&gt;name);
00219       }
00220    }
00221 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a24" doxytag="dumpuser.c::read_object" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned read_object           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned&nbsp;</td>
          <td class="mdname" nowrap> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>unsigned long&nbsp;</td>
          <td class="mdname" nowrap> <em>pos</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>char FAR *&nbsp;</td>
          <td class="mdname" nowrap> <em>buf</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00095">95</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.
<p>
References <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00077">dread()</a>, and <a class="el" href="../../d7/d6/aug98_2dll32_2icmdll_8h-source.html#l00010">FAR</a>.
<p>
Referenced by <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00222">showentries()</a>.
<p>
<pre class="fragment"><div>00096 {
00097    <span class="keywordtype">unsigned</span> err;
00098    <span class="keyword">struct </span>disk_obj_hdr <a class="code" href="../../d6/d7/aug98_2dll32_2icmdll_8h.html#a5">FAR</a> * dobj;
00099 
00100    err = <a class="code" href="../../d3/d3/dumpuser_8c.html#a23">dread</a>(handle, pos, buf, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> disk_obj_hdr));
00101    <span class="keywordflow">if</span> (err)
00102       <span class="keywordflow">return</span> err;
00103    dobj = (<span class="keyword">struct </span>disk_obj_hdr <a class="code" href="../../d6/d7/aug98_2dll32_2icmdll_8h.html#a5">FAR</a> *) buf;
00104    <span class="keywordflow">return</span> <a class="code" href="../../d3/d3/dumpuser_8c.html#a23">dread</a>(handle, pos, buf, dobj-&gt;do_numblocks * 64);
00105 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a20" doxytag="dumpuser.c::showentries" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void showentries           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00222">222</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.
<p>
References <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00018">ACCTOP</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00043">buf2</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00019">COMMOP</a>, <a class="el" href="../../d0/d1/fedefs_8h-source.html#l00051">exit</a>, <a class="el" href="../../d7/d6/aug98_2dll32_2icmdll_8h-source.html#l00010">FAR</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00044">GroupCache</a>, <a class="el" href="../../d8/d9/cmdat2_8c-source.html#l00091">Handle</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00048">Header</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00020">PRINTOP</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00095">read_object()</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00017">SERVOP</a>, and <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00046">userbuf</a>.
<p>
Referenced by <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00313">main()</a>.
<p>
<pre class="fragment"><div>00223 {
00224    <span class="keywordtype">unsigned</span> i, j, k;
00225    <span class="keywordtype">unsigned</span> err;
00226    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> pos, oprights;
00227    <span class="keywordtype">signed</span> <span class="keywordtype">long</span> relativeid;
00228    <span class="keywordtype">unsigned</span> usercount = 0;
00229    <span class="keyword">struct </span>userhash <a class="code" href="../../d6/d7/aug98_2dll32_2icmdll_8h.html#a5">FAR</a> * entry = (<span class="keyword">struct </span>userhash <a class="code" href="../../d6/d7/aug98_2dll32_2icmdll_8h.html#a5">FAR</a> *) <a class="code" href="../../d3/d3/dumpuser_8c.html#a12">buf2</a>;
00230    <span class="keyword">struct </span>user_object <a class="code" href="../../d6/d7/aug98_2dll32_2icmdll_8h.html#a5">FAR</a> * uo = (<span class="keyword">struct </span>user_object <a class="code" href="../../d6/d7/aug98_2dll32_2icmdll_8h.html#a5">FAR</a> *) <a class="code" href="../../d3/d3/dumpuser_8c.html#a15">userbuf</a>;
00231    <span class="keyword">struct </span><a class="code" href="../../d4/d1/structmy__group.html">my_group</a> <a class="code" href="../../d6/d7/aug98_2dll32_2icmdll_8h.html#a5">FAR</a> * mygroup = (<span class="keyword">struct </span><a class="code" href="../../d4/d1/structmy__group.html">my_group</a> <a class="code" href="../../d6/d7/aug98_2dll32_2icmdll_8h.html#a5">FAR</a> *) <a class="code" href="../../d3/d3/dumpuser_8c.html#a13">GroupCache</a>;
00232    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="../../d6/d7/aug98_2dll32_2icmdll_8h.html#a5">FAR</a> * gmask;
00233    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> test;
00234    <span class="keywordtype">char</span> groupnames[256];
00235 
00236    printf(<span class="stringliteral">"\n\n\t// Users\n"</span>);
00237    <span class="keywordflow">for</span> (i = 0; i &lt; USER_HASH_ENTRIES ; i++ ) {
00238       pos = entry-&gt;uh_disk;
00239       <span class="keywordflow">while</span> (pos) {
00240          <span class="keywordflow">if</span> (err = <a class="code" href="../../d3/d3/dumpuser_8c.html#a24">read_object</a>(Handle, pos, userbuf)) {
00241             printf(<span class="stringliteral">"Failed reading object, code %d\n"</span>, err);
00242             <a class="code" href="../../d9/d1/fedefs_8h.html#a16">exit</a>(1);
00243          }
00244          relativeid = ( ((uo-&gt;uo_record.user.uc0_guid.guid_serial) &lt;&lt; 16) +
00245                       (uo-&gt;uo_record.user.uc0_guid.guid_uid) ) ^ 0x80000000;
00246          gmask = uo-&gt;uo_record.user.uc0_groups;
00247          groupnames[0] = <span class="charliteral">'\0'</span>;
00248          <span class="keywordflow">for</span> (j = 0; j &lt; 32 ; j++ ) {
00249             test = gmask[j];
00250             k = 0;
00251             <span class="keywordflow">while</span> (test) {
00252                <span class="keywordflow">if</span> (test &amp; 1) {
00253                   strcatf(groupnames, mygroup[j * 8 + k].name);
00254                   strcatf(groupnames, <span class="stringliteral">" "</span>);
00255                }
00256                test &gt;&gt;= 1;
00257                k++;
00258             }
00259          }
00260 
00261          oprights = uo-&gt;uo_record.user.uc0_auth_flags;
00262          <span class="keywordflow">if</span> (oprights &amp; AF_OP_PRINT)
00263             strcat(groupnames, PRINTOP);
00264          <span class="keywordflow">if</span> (oprights &amp; AF_OP_COMM)
00265             strcat(groupnames, COMMOP);
00266          <span class="keywordflow">if</span> (oprights &amp; AF_OP_SERVER)
00267             strcat(groupnames, SERVOP);
00268          <span class="keywordflow">if</span> (oprights &amp; AF_OP_ACCOUNTS)
00269             strcat(groupnames, ACCTOP);
00270 
00271          printf(<span class="stringliteral">"\tUser = %ld %Fs %Fs\n"</span>, relativeid,
00272                      (<span class="keywordtype">char</span> FAR *) uo-&gt;uo_record.name,
00273                      (<span class="keywordtype">char</span> FAR *) groupnames);
00274          usercount++;
00275          pos = uo-&gt;uo_header.do_next;
00276       }
00277       entry++;
00278    }
00279    <span class="keywordflow">if</span> (usercount != <a class="code" href="../../d3/d3/dumpuser_8c.html#a17">Header</a>-&gt;num_users) {
00280       printf(<span class="stringliteral">"Huh?  Didn't find all the users (found %d)\n"</span>, usercount);
00281    }
00282 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a22" doxytag="dumpuser.c::UserHashVal" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int UserHashVal           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char far *&nbsp;</td>
          <td class="mdname" nowrap> <em>uname</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>domain</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"> const<code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00063">63</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.
<p>
References <a class="el" href="../../d4/d9/user32_8def-source.html#l00799">c</a>.
<p>
Referenced by <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00149">loadit()</a>.
<p>
<pre class="fragment"><div>00066 {
00067         <span class="keyword">register</span> <span class="keywordtype">unsigned</span> val=0;
00068         <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>;
00069 
00070         <span class="keywordflow">while</span> ((<a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>= (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>) *uname++))
00071                 val += toupper(c);
00072 
00073         <span class="keywordflow">return</span> (<span class="keywordtype">int</span>) (val % domain);
00074 }
</div></pre>    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a11" doxytag="dumpuser.c::buf1" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char FAR* <a class="el" href="../../d3/d3/dumpuser_8c.html#a11">buf1</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00042">42</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00107">InitMemStuff()</a>, and <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00149">loadit()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="dumpuser.c::buf2" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char FAR* <a class="el" href="../../d3/d3/dumpuser_8c.html#a12">buf2</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00043">43</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00107">InitMemStuff()</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00149">loadit()</a>, <a class="el" href="../../d0/d1/usrbench_8c-source.html#l01590">SelectOutFileName()</a>, and <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00222">showentries()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="dumpuser.c::GroupCache" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char FAR* <a class="el" href="../../d3/d3/dumpuser_8c.html#a13">GroupCache</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00044">44</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00107">InitMemStuff()</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00149">loadit()</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00208">printgroups()</a>, and <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00222">showentries()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="dumpuser.c::Handle" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned short <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a29">Handle</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00047">47</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="dumpuser.c::Header" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> struct _ahdr FAR* <a class="el" href="../../d3/d3/dumpuser_8c.html#a17">Header</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00048">48</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d0/fastio_8c-source.html#l02555">FsRtlAcquireFileExclusive()</a>, <a class="el" href="../../d4/d0/fastio_8c-source.html#l02402">FsRtlAcquireFileForCcFlush()</a>, <a class="el" href="../../d4/d0/fastio_8c-source.html#l02064">FsRtlAcquireFileForModWrite()</a>, <a class="el" href="../../d4/d0/fastio_8c-source.html#l00054">FsRtlCopyRead()</a>, <a class="el" href="../../d4/d0/fastio_8c-source.html#l00330">FsRtlCopyWrite()</a>, <a class="el" href="../../d0/d3/filtrctx_8c-source.html#l00058">FsRtlInsertFilterContext()</a>, <a class="el" href="../../d0/d3/filtrctx_8c-source.html#l00108">FsRtlLookupFilterContextInternal()</a>, <a class="el" href="../../d4/d0/fastio_8c-source.html#l01064">FsRtlMdlReadDev()</a>, <a class="el" href="../../d4/d0/fastio_8c-source.html#l01474">FsRtlPrepareMdlWriteDev()</a>, <a class="el" href="../../d4/d0/fastio_8c-source.html#l02628">FsRtlReleaseFile()</a>, <a class="el" href="../../d4/d0/fastio_8c-source.html#l02483">FsRtlReleaseFileForCcFlush()</a>, <a class="el" href="../../d0/d3/filtrctx_8c-source.html#l00189">FsRtlRemoveFilterContext()</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00107">InitMemStuff()</a>, <a class="el" href="../../d0/d1/pnpsubs_8c-source.html#l00753">IopPrepareDriverLoading()</a>, <a class="el" href="../../d5/d5/kdinit_8c-source.html#l00328">KdDeregisterDebuggerDataBlock()</a>, <a class="el" href="../../d5/d5/kdinit_8c-source.html#l00252">KdRegisterDebuggerDataBlock()</a>, <a class="el" href="../../d2/d5/allocpag_8c-source.html#l03472">MiAllocateSpecialPool()</a>, <a class="el" href="../../d2/d5/allocpag_8c-source.html#l03742">MmFreeSpecialPool()</a>, <a class="el" href="../../d2/d5/allocpag_8c-source.html#l02927">MmQuerySpecialPoolBlockSize()</a>, <a class="el" href="../../d9/d0/obsdata_8c-source.html#l00637">ObDeassignSecurity()</a>, <a class="el" href="../../d9/d0/obsdata_8c-source.html#l00759">ObpDestroySecurityDescriptorHeader()</a>, <a class="el" href="../../d9/d0/obsdata_8c-source.html#l00297">ObpLogSecurityDescriptor()</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00222">showentries()</a>, <a class="el" href="../../d3/d5/allocsup_8c-source.html#l01406">UdfLoadSparingTables()</a>, <a class="el" href="../../d0/d5/verifier_8c-source.html#l01976">VerifierFreeTrackedPool()</a>, and <a class="el" href="../../d0/d5/verifier_8c-source.html#l01614">ViPostPoolAllocation()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="dumpuser.c::path" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char <a class="el" href="../../d3/d3/dumpuser_8c.html#a14">path</a>[256]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00045">45</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00284">banner()</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00303">doargs()</a>, <a class="el" href="../../d1/d6/dev2dos_8c-source.html#l00454">FindPathForDevice()</a>, <a class="el" href="../../d7/d7/fsvga_8c-source.html#l00858">FsVgaServiceParameters()</a>, <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00107">InitMemStuff()</a>, <a class="el" href="../../d9/d9/pnpioapi_8c-source.html#l05424">IopParseSymbolicLinkName()</a>, <a class="el" href="../../d2/d5/low_8c-source.html#l00486">LowQueryPathFromComponent()</a>, and <a class="el" href="../../d7/d4/connect_8c-source.html#l01153">UnlinkConvFromOthers()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="dumpuser.c::userbuf" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char <a class="el" href="../../d3/d3/dumpuser_8c.html#a15">userbuf</a>[MAX_USER_SIZE]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00046">46</a> of file <a class="el" href="../../d4/d2/dumpuser_8c-source.html">dumpuser.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d2/dumpuser_8c-source.html#l00222">showentries()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:43:30 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
