<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: w32/ntuser/client/nt6/pch.h File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>pch.h File Reference</h1><code>#include &lt;windows.h&gt;</code><br>
<code>#include &lt;windowsx.h&gt;</code><br>

<p>
<a href="../../d4/d3/w32_2ntuser_2client_2nt6_2pch_8h-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a0">SetWindowPos</a>&nbsp;&nbsp;&nbsp;NtUserSetWindowPos</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a1">GetDC</a>&nbsp;&nbsp;&nbsp;NtUserGetDC</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a2">DeferWindowPos</a>&nbsp;&nbsp;&nbsp;NtUserDeferWindowPos</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>&nbsp;&nbsp;&nbsp;NtUserDestroyWindow</td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a4">NtUserSetWindowPos</a> (IN HWND hwnd, IN HWND hwndInsertAfter, IN int x, IN int y, IN int cx, IN int <a class="el" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>, IN UINT <a class="el" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>HDC&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a5">NtUserGetDC</a> (IN HWND hwnd)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>HANDLE&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a6">NtUserDeferWindowPos</a> (IN HDWP hWinPosInfo, IN HWND hwnd, IN HWND hwndInsertAfter, IN int x, IN int y, IN int cx, IN int <a class="el" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>, IN UINT wFlags)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a7">NtUserDestroyWindow</a> (IN HWND hwnd)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a2" doxytag="w32/ntuser/client/nt6/pch.h::DeferWindowPos" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DeferWindowPos&nbsp;&nbsp;&nbsp;NtUserDeferWindowPos          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d3/w32_2ntuser_2client_2nt6_2pch_8h-source.html#l00027">27</a> of file <a class="el" href="../../d4/d3/w32_2ntuser_2client_2nt6_2pch_8h-source.html">w32/ntuser/client/nt6/pch.h</a>.
<p>
Referenced by <a class="el" href="../../d6/d7/resizedlg_8cpp-source.html#l01127">CScaleDlg::ResizeControls()</a>, <a class="el" href="../../d6/d7/resizedlg_8cpp-source.html#l00268">CResizeDlg::ResizeControls()</a>, and <a class="el" href="../../d6/d7/resizedlg_8cpp-source.html#l01086">CResizeDlg::SetGripperPos()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="w32/ntuser/client/nt6/pch.h::DestroyWindow" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define <a class="el" href="../../d3/d0/user32_8def.html#a33">DestroyWindow</a>&nbsp;&nbsp;&nbsp;NtUserDestroyWindow          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d3/w32_2ntuser_2client_2nt6_2pch_8h-source.html#l00039">39</a> of file <a class="el" href="../../d4/d3/w32_2ntuser_2client_2nt6_2pch_8h-source.html">w32/ntuser/client/nt6/pch.h</a>.
<p>
Referenced by <a class="el" href="../../d7/d1/output_8c-source.html#l00834">CreateWindowsWindow()</a>, <a class="el" href="../../d9/d6/dialog_8cpp-source.html#l00071">CDialog::Destroy()</a>, <a class="el" href="../../d7/d1/output_8c-source.html#l04454">DestroyWindowsWindow()</a>, <a class="el" href="../../d3/d9/server_2exitwin_8c-source.html#l01312">EndTaskDlgProc()</a>, <a class="el" href="../../d7/d8/softkbd_8c-source.html#l00252">ImmDestroySoftKeyboard()</a>, <a class="el" href="../../d1/d4/ntcon_2conime_2conime_8c-source.html#l00109">InitConsoleIME()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l00369">msProfAvgDlgCreate()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l00393">msProfAvgDlgCreateDestroy()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l00473">msProfAvgDlgCreateDestroyEmpty()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l00446">msProfAvgDlgCreateDestroyNoFont()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l00420">msProfAvgDlgCreateDestroyNoMenu()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l00342">msProfAvgDlgDraw()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l01613">msProfCallback()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l00828">msProfCreateDestroyButton()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l00555">msProfCreateDestroyChildWindow()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l00880">msProfCreateDestroyCombobox()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l00932">msProfCreateDestroyEdit()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l00776">msProfCreateDestroyListbox()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l01036">msProfCreateDestroyScrollbar()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l00984">msProfCreateDestroyStatic()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l00501">msProfCreateDestroyWindow()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l01559">msProfDispatchMessage()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l00674">msProfGetWindowLong()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l01088">msProfListboxInsert1()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l01153">msProfListboxInsert2()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l01217">msProfListboxInsert3()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l01659">msProfSendMessage()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l00725">msProfSetWindowLong()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l01843">msProfTranslateMessage()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l01791">msProfUpdateWindow()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l01705">SendMessageDiffThreadFunc()</a>, <a class="el" href="../../d3/d9/server_2exitwin_8c-source.html#l00757">ThreadShutdownNotify()</a>, <a class="el" href="../../d3/d4/transsub_8c-source.html#l00054">TranslateIMESubFunctions()</a>, <a class="el" href="../../d1/d4/ntcon_2conime_2conime_8c-source.html#l00288">WndProc()</a>, and <a class="el" href="../../d9/d7/dlg_8cpp-source.html#l00130">CDlg::~CDlg()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="w32/ntuser/client/nt6/pch.h::GetDC" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define GetDC&nbsp;&nbsp;&nbsp;NtUserGetDC          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d3/w32_2ntuser_2client_2nt6_2pch_8h-source.html#l00021">21</a> of file <a class="el" href="../../d4/d3/w32_2ntuser_2client_2nt6_2pch_8h-source.html">w32/ntuser/client/nt6/pch.h</a>.
<p>
Referenced by <a class="el" href="../../d6/d7/resizedlg_8cpp-source.html#l00723">CResizeDlg::Annotate()</a>, <a class="el" href="../../d4/d7/aug98_2test_2main_8c-source.html#l01228">ChooseNewFont()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l01284">ClearDlg()</a>, <a class="el" href="../../d1/d5/consubs_8c-source.html#l00023">Create()</a>, <a class="el" href="../../d6/d7/sftkbdc1_8c-source.html#l00342">CreateC1Window()</a>, <a class="el" href="../../d7/d1/output_8c-source.html#l00834">CreateWindowsWindow()</a>, <a class="el" href="../../d3/d9/imemenu_8c-source.html#l00254">DecompileBitmap()</a>, <a class="el" href="../../d3/d9/server_2exitwin_8c-source.html#l01312">EndTaskDlgProc()</a>, <a class="el" href="../../d7/d7/sftkbdt1_8c-source.html#l00050">GetSKT1TextMetric()</a>, <a class="el" href="../../d7/d7/sftkbdt1_8c-source.html#l00347">InitSKT1Bitmap()</a>, <a class="el" href="../../d3/d9/imemenu_8c-source.html#l00508">InternalImeMenuCreateBitmap()</a>, <a class="el" href="../../d7/d7/sftkbdt1_8c-source.html#l01186">SetSKT1Data()</a>, <a class="el" href="../../d6/d7/sftkbdc1_8c-source.html#l00716">SKC1ButtonDown()</a>, <a class="el" href="../../d6/d7/sftkbdc1_8c-source.html#l00914">SKC1ButtonUp()</a>, <a class="el" href="../../d6/d7/sftkbdc1_8c-source.html#l00844">SKC1MouseMove()</a>, <a class="el" href="../../d7/d7/sftkbdt1_8c-source.html#l00680">SKT1InvertButton()</a>, <a class="el" href="../../d6/d7/sftkbdc1_8c-source.html#l01042">SKWndProcC1()</a>, <a class="el" href="../../d6/d7/sftkbdc1_8c-source.html#l00489">UpdateSKC1Window()</a>, and <a class="el" href="../../d0/d1/usrbench_8c-source.html#l00268">WndProc()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="w32/ntuser/client/nt6/pch.h::SetWindowPos" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define <a class="el" href="../../d3/d0/user32_8def.html#a34">SetWindowPos</a>&nbsp;&nbsp;&nbsp;NtUserSetWindowPos          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d3/w32_2ntuser_2client_2nt6_2pch_8h-source.html#l00009">9</a> of file <a class="el" href="../../d4/d3/w32_2ntuser_2client_2nt6_2pch_8h-source.html">w32/ntuser/client/nt6/pch.h</a>.
<p>
Referenced by <a class="el" href="../../d9/d6/dialog_8cpp-source.html#l00147">CDialog::Adjust()</a>, <a class="el" href="../../d6/d7/resizedlg_8cpp-source.html#l00075">CResizeDlg::DlgProc()</a>, <a class="el" href="../../d3/d9/server_2exitwin_8c-source.html#l01312">EndTaskDlgProc()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l01393">msProfMove()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l01353">msProfSize()</a>, <a class="el" href="../../d7/d1/output_8c-source.html#l00765">PositionConsoleWindow()</a>, <a class="el" href="../../d2/d6/ntcon_2server_2menu_8c-source.html#l00459">PropertiesUpdate()</a>, <a class="el" href="../../d5/d4/persctl_8cpp-source.html#l00102">CResizeControlGeneric::Resize()</a>, <a class="el" href="../../d3/d9/server_2exitwin_8c-source.html#l01151">SetEndTaskDlgStatus()</a>, <a class="el" href="../../d6/d7/sftkbdc1_8c-source.html#l00914">SKC1ButtonUp()</a>, <a class="el" href="../../d7/d7/sftkbdt1_8c-source.html#l01099">SKT1ButtonUp()</a>, <a class="el" href="../../d6/d7/sftkbdc1_8c-source.html#l01042">SKWndProcC1()</a>, <a class="el" href="../../d7/d7/sftkbdt1_8c-source.html#l01258">SKWndProcT1()</a>, and <a class="el" href="../../d7/d1/output_8c-source.html#l03972">UpdateWindowSize()</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a6" doxytag="w32/ntuser/client/nt6/pch.h::NtUserDeferWindowPos" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> HANDLE NtUserDeferWindowPos           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN HDWP&nbsp;</td>
          <td class="mdname" nowrap> <em>hWinPosInfo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN HWND&nbsp;</td>
          <td class="mdname" nowrap> <em>hwnd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN HWND&nbsp;</td>
          <td class="mdname" nowrap> <em>hwndInsertAfter</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN int&nbsp;</td>
          <td class="mdname" nowrap> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN int&nbsp;</td>
          <td class="mdname" nowrap> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN int&nbsp;</td>
          <td class="mdname" nowrap> <em>cx</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN int&nbsp;</td>
          <td class="mdname" nowrap> <em>cy</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>wFlags</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l01761">1761</a> of file <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html">kernel/ntstubs.c</a>.
<p>
<pre class="fragment"><div>01770 {
01771     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd;
01772     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndInsertAfter;
01773     <a class="code" href="../../d8/d6/structtagSMWP.html">PSMWP</a> psmwp;
01774 
01775     <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a5">BEGINATOMICRECV</a>(HANDLE, NULL);
01776 
01777     <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a46">TESTFLAGS</a>(wFlags, SWP_VALID);
01778 
01779     <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a56">ValidateHWNDND</a>(pwnd, hwnd);
01780     <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a58">ValidateHWNDIA</a>(pwndInsertAfter, hwndInsertAfter);
01781     <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a69">ValidateHDWP</a>(psmwp, hWinPosInfo);
01782 
01783     <span class="keywordflow">if</span> (wFlags &amp; ~(SWP_NOSIZE | SWP_NOMOVE | SWP_NOZORDER |
01784             SWP_NOREDRAW | SWP_NOACTIVATE | SWP_FRAMECHANGED |
01785             SWP_SHOWWINDOW | SWP_HIDEWINDOW | SWP_NOCOPYBITS |
01786             SWP_NOOWNERZORDER)) {
01787         RIPERR1(ERROR_INVALID_PARAMETER, RIP_WARNING, <span class="stringliteral">"Invalid flags (0x%lx) passed to DeferWindowPos"</span>,
01788                 wFlags);
01789         <a class="code" href="../../d5/d8/crecv_8c.html#a7">MSGERROR</a>(0);
01790     }
01791 
01792     <span class="comment">/*</span>
01793 <span class="comment">     * Make sure the window coordinates can fit in WORDs.</span>
01794 <span class="comment">     */</span>
01795     <span class="keywordflow">if</span> (!(wFlags &amp; SWP_NOMOVE)) {
01796         <span class="keywordflow">if</span> (x &gt; SHRT_MAX) {
01797             x = SHRT_MAX;
01798         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (x &lt; SHRT_MIN) {
01799             x = SHRT_MIN;
01800         }
01801         <span class="keywordflow">if</span> (y &gt; SHRT_MAX) {
01802             y = SHRT_MAX;
01803         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (y &lt; SHRT_MIN) {
01804             y = SHRT_MIN;
01805         }
01806     }
01807 
01808     <span class="comment">/*</span>
01809 <span class="comment">     * Actually, if we were going to be really strict about this we'd</span>
01810 <span class="comment">     * make sure that x + cx &lt; SHRT_MAX, etc but since we do maintain</span>
01811 <span class="comment">     * signed 32-bit coords internally this case doesn't cause a problem.</span>
01812 <span class="comment">     */</span>
01813     <span class="keywordflow">if</span> (!(wFlags &amp; SWP_NOSIZE)) {
01814         <span class="keywordflow">if</span> (cx &lt; 0) {
01815             cx = 0;
01816         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cx &gt; SHRT_MAX) {
01817             cx = SHRT_MAX;
01818         }
01819         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> &lt; 0) {
01820             <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = 0;
01821         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> &gt; SHRT_MAX) {
01822             <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = SHRT_MAX;
01823         }
01824     }
01825 
01826 <span class="preprocessor">#ifdef NEVER</span>
01827 <span class="preprocessor"></span><span class="comment">//</span>
01828 <span class="comment">// do not fail these conditions because real apps use them.</span>
01829 <span class="comment">//</span>
01830     <span class="keywordflow">if</span> (!(wFlags &amp; SWP_NOMOVE) &amp;&amp;
01831             (x &gt; SHRT_MAX || x &lt; SHRT_MIN ||
01832              y &gt; SHRT_MAX || y &lt; SHRT_MIN)) {
01833         RIPERR0(ERROR_INVALID_PARAMETER, RIP_WARNING, <span class="stringliteral">"Invalid coordinate passed to SetWindowPos"</span>);
01834         <a class="code" href="../../d5/d8/crecv_8c.html#a7">MSGERROR</a>(0);
01835     }
01836 
01837     <span class="comment">/*</span>
01838 <span class="comment">     * Actually, if we were going to be really strict about this we'd</span>
01839 <span class="comment">     * make sure that x + cx &lt; SHRT_MAX, etc but since we do maintain</span>
01840 <span class="comment">     * signed 32-bit coords internally this case doesn't cause a problem.</span>
01841 <span class="comment">     */</span>
01842     <span class="keywordflow">if</span> (!(wFlags &amp; SWP_NOSIZE) &amp;&amp;
01843             (cx &lt; 0 || cx &gt; SHRT_MAX ||
01844              cy &lt; 0 || cy &gt; SHRT_MAX)) {
01845         RIPERR0(ERROR_INVALID_PARAMETER, RIP_WARNING, <span class="stringliteral">"Invalid width/height passed to SetWindowPos"</span>);
01846         <a class="code" href="../../d5/d8/crecv_8c.html#a7">MSGERROR</a>(0);
01847     }
01848 <span class="preprocessor">#endif</span>
01849 <span class="preprocessor"></span>
01850     retval = <a class="code" href="../../d4/d1/userk_8h.html#a1619">_DeferWindowPos</a>(
01851             psmwp,
01852             pwnd,
01853             pwndInsertAfter,
01854             x,
01855             y,
01856             cx,
01857             cy,
01858             wFlags);
01859     retval = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a448">PtoH</a>((PVOID)retval);
01860 
01861     <a class="code" href="../../d7/d5/ntuser_2client_2nt6_2debug_8h.html#a0">TRACE</a>(<span class="stringliteral">"NtUserDeferWindowPos"</span>);
01862     <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a6">ENDATOMICRECV</a>();
01863 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="w32/ntuser/client/nt6/pch.h::NtUserDestroyWindow" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL NtUserDestroyWindow           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN HWND&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>hwnd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l04115">4115</a> of file <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html">kernel/ntstubs.c</a>.
<p>
<pre class="fragment"><div>04117 {
04118 
04119     <span class="comment">//</span>
04120     <span class="comment">// N.B. This function has implicit window handle translation. This</span>
04121     <span class="comment">//      operation is performed in the User server API dispatcher.</span>
04122     <span class="comment">//</span>
04123 
04124     <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a14">BEGINRECV_HWND</a>(DWORD, 0, hwnd);
04125 
04126     retval  = <a class="code" href="../../d4/d1/userk_8h.html#a1575">xxxDestroyWindow</a>(pwnd);
04127 
04128     <a class="code" href="../../d7/d5/ntuser_2client_2nt6_2debug_8h.html#a0">TRACE</a>(<span class="stringliteral">"NtUserDestroyWindow"</span>);
04129     <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a15">ENDRECV_HWND</a>();
04130 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="w32/ntuser/client/nt6/pch.h::NtUserGetDC" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> HDC NtUserGetDC           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN HWND&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>hwnd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l06624">6624</a> of file <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html">kernel/ntstubs.c</a>.
<p>
<pre class="fragment"><div>06626 {
06627     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd;
06628     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> bValid = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
06629 
06630     <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a5">BEGINATOMICRECV</a>(HDC, NULL);
06631 
06632     <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a57">ValidateHWNDOPT</a>(pwnd, hwnd);
06633 
06634     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d1/userk_8h.html#a383">IS_CURRENT_THREAD_RESTRICTED</a>(JOB_OBJECT_UILIMIT_HANDLES) &amp;&amp; pwnd == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
06635 
06636         <a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a> pdesk = <a class="code" href="../../d4/d1/userk_8h.html#a9">PtiCurrent</a>()-&gt;rpdesk;
06637 
06638         <span class="comment">/*</span>
06639 <span class="comment">         * make sure it has access to the desktop window</span>
06640 <span class="comment">         */</span>
06641         <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d0/immcli_8h.html#a4">ValidateHwnd</a>(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a448">PtoH</a>(pdesk-&gt;<a class="code" href="../../d0/d3/structtagDESKTOP.html#o0">pDeskInfo</a>-&gt;<a class="code" href="../../d1/d3/structtagDESKTOPINFO.html#o2">spwnd</a>))) {
06642             bValid = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
06643         }
06644     }
06645 
06646     retval = <a class="code" href="../../d4/d1/userk_8h.html#a1694">_GetDC</a>(pwnd);
06647 
06648     <span class="keywordflow">if</span> (!bValid) {
06649 
06650         HRGN hrgn;
06651 
06652         <span class="comment">/*</span>
06653 <span class="comment">         * Select a NULL visible region on this DC so that restricted</span>
06654 <span class="comment">         * processes don't mess with GetDC(NULL)</span>
06655 <span class="comment">         */</span>
06656         hrgn = <a class="code" href="../../d4/d1/userk_8h.html#a1162">CreateEmptyRgn</a>();
06657 
06658         GreSelectVisRgn(retval, hrgn, SVR_DELETEOLD);
06659     }
06660 
06661     <a class="code" href="../../d7/d5/ntuser_2client_2nt6_2debug_8h.html#a0">TRACE</a>(<span class="stringliteral">"NtUserGetDC"</span>);
06662     <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a6">ENDATOMICRECV</a>();
06663 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="w32/ntuser/client/nt6/pch.h::NtUserSetWindowPos" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL NtUserSetWindowPos           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN HWND&nbsp;</td>
          <td class="mdname" nowrap> <em>hwnd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN HWND&nbsp;</td>
          <td class="mdname" nowrap> <em>hwndInsertAfter</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN int&nbsp;</td>
          <td class="mdname" nowrap> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN int&nbsp;</td>
          <td class="mdname" nowrap> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN int&nbsp;</td>
          <td class="mdname" nowrap> <em>cx</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN int&nbsp;</td>
          <td class="mdname" nowrap> <em>cy</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>dwFlags</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l02180">2180</a> of file <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html">kernel/ntstubs.c</a>.
<p>
<pre class="fragment"><div>02188 {
02189     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>        pwndT;
02190     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>        pwndInsertAfter;
02191     <a class="code" href="../../d5/d1/struct__TL.html">TL</a>          tlpwndT;
02192 
02193     <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a26">BEGINRECV_HWNDLOCK_ND</a>(BOOL, FALSE, hwnd);
02194 
02195     <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a46">TESTFLAGS</a>(dwFlags, SWP_VALID);
02196 
02197     <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a58">ValidateHWNDIA</a>(pwndInsertAfter, hwndInsertAfter);
02198 
02199     <span class="comment">/*</span>
02200 <span class="comment">     * Let's not allow the window to be shown/hidden once we</span>
02201 <span class="comment">     * started the destruction of the window.</span>
02202 <span class="comment">     */</span>
02203     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwndND, WFINDESTROY)) {
02204         RIPERR1(ERROR_INVALID_PARAMETER,
02205                 RIP_WARNING,
02206                 <span class="stringliteral">"SetWindowPos: Window is being destroyed (pwnd == %#p)"</span>,
02207                 pwndND);
02208         <a class="code" href="../../d5/d8/crecv_8c.html#a7">MSGERROR</a>(0);
02209     }
02210 
02211     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a> &amp; ~SWP_VALID) {
02212         RIPERR1(ERROR_INVALID_PARAMETER,
02213                 RIP_WARNING,
02214                 <span class="stringliteral">"SetWindowPos: Invalid flags passed in (flags == 0x%lx)"</span>,
02215                 dwFlags);
02216         <a class="code" href="../../d5/d8/crecv_8c.html#a7">MSGERROR</a>(0);
02217     }
02218 
02219     <span class="comment">/*</span>
02220 <span class="comment">     * Make sure the window coordinates can fit in WORDs.</span>
02221 <span class="comment">     */</span>
02222     <span class="keywordflow">if</span> (!(<a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a> &amp; SWP_NOMOVE)) {
02223         <span class="keywordflow">if</span> (x &gt; SHRT_MAX) {
02224             x = SHRT_MAX;
02225         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (x &lt; SHRT_MIN) {
02226             x = SHRT_MIN;
02227         }
02228         <span class="keywordflow">if</span> (y &gt; SHRT_MAX) {
02229             y = SHRT_MAX;
02230         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (y &lt; SHRT_MIN) {
02231             y = SHRT_MIN;
02232         }
02233     }
02234 
02235     <span class="comment">/*</span>
02236 <span class="comment">     * Actually, if we were going to be really strict about this we'd</span>
02237 <span class="comment">     * make sure that x + cx &lt; SHRT_MAX, etc but since we do maintain</span>
02238 <span class="comment">     * signed 32-bit coords internally this case doesn't cause a problem.</span>
02239 <span class="comment">     */</span>
02240     <span class="keywordflow">if</span> (!(<a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a> &amp; SWP_NOSIZE)) {
02241         <span class="keywordflow">if</span> (cx &lt; 0) {
02242             cx = 0;
02243         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cx &gt; SHRT_MAX) {
02244             cx = SHRT_MAX;
02245         }
02246         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> &lt; 0) {
02247             <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = 0;
02248         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> &gt; SHRT_MAX) {
02249             <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = SHRT_MAX;
02250         }
02251     }
02252 
02253 <span class="preprocessor">#ifdef NEVER</span>
02254 <span class="preprocessor"></span><span class="comment">//</span>
02255 <span class="comment">// do not fail these conditions because real apps use them.</span>
02256 <span class="comment">//</span>
02257     <span class="keywordflow">if</span> (!(<a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a> &amp; SWP_NOMOVE) &amp;&amp;
02258             (x &gt; SHRT_MAX || x &lt; SHRT_MIN ||
02259              y &gt; SHRT_MAX || y &lt; SHRT_MIN)) {
02260         RIPERR0(ERROR_INVALID_PARAMETER, RIP_WARNING, <span class="stringliteral">"Invalid coordinate passed to SetWindowPos"</span>);
02261         <a class="code" href="../../d5/d8/crecv_8c.html#a7">MSGERROR</a>(0);
02262     }
02263 
02264     <span class="comment">/*</span>
02265 <span class="comment">     * Actually, if we were going to be really strict about this we'd</span>
02266 <span class="comment">     * make sure that x + cx &lt; SHRT_MAX, etc but since we do maintain</span>
02267 <span class="comment">     * signed 32-bit coords internally this case doesn't cause a problem.</span>
02268 <span class="comment">     */</span>
02269     <span class="keywordflow">if</span> (!(<a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a> &amp; SWP_NOSIZE) &amp;&amp;
02270             (cx &lt; 0 || cx &gt; SHRT_MAX ||
02271              cy &lt; 0 || cy &gt; SHRT_MAX)) {
02272         RIPERR0(ERROR_INVALID_PARAMETER, RIP_WARNING, <span class="stringliteral">"Invalid width/height passed to SetWindowPos"</span>);
02273         <a class="code" href="../../d5/d8/crecv_8c.html#a7">MSGERROR</a>(0);
02274     }
02275 <span class="preprocessor">#endif</span>
02276 <span class="preprocessor"></span>
02277     <span class="keywordflow">switch</span>((ULONG_PTR)pwndInsertAfter) {
02278     <span class="keywordflow">case</span> (ULONG_PTR)HWND_TOPMOST:
02279     <span class="keywordflow">case</span> (ULONG_PTR)HWND_NOTOPMOST:
02280     <span class="keywordflow">case</span> (ULONG_PTR)HWND_TOP:
02281     <span class="keywordflow">case</span> (ULONG_PTR)HWND_BOTTOM:
02282         pwndT = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
02283         <span class="keywordflow">break</span>;
02284 
02285     <span class="keywordflow">default</span>:
02286         pwndT = pwndInsertAfter;
02287         <span class="keywordflow">break</span>;
02288     }
02289 
02290     <a class="code" href="../../d6/d0/usercli_8h.html#a38">ThreadLockWithPti</a>(ptiCurrent, pwndT, &amp;tlpwndT);
02291 
02292     retval = <a class="code" href="../../d4/d1/userk_8h.html#a1615">xxxSetWindowPos</a>(
02293             pwndND,
02294             pwndInsertAfter,
02295             x,
02296             y,
02297             cx,
02298             cy,
02299             dwFlags);
02300 
02301     <a class="code" href="../../d6/d0/usercli_8h.html#a40">ThreadUnlock</a>(&amp;tlpwndT);
02302 
02303     <a class="code" href="../../d7/d5/ntuser_2client_2nt6_2debug_8h.html#a0">TRACE</a>(<span class="stringliteral">"NtUserSetWindowPos"</span>);
02304     <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a27">ENDRECV_HWNDLOCK_ND</a>();
02305 }
</div></pre>    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:45:01 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
