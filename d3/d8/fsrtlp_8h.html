<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: fsrtlp.h File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>fsrtlp.h File Reference</h1><code>#include &lt;<a class="el" href="../../d0/d8/ntos_8h-source.html">ntos.h</a>&gt;</code><br>
<code>#include &lt;FsRtl.h&gt;</code><br>
<code>#include &lt;NtDdFt.h&gt;</code><br>
<code>#include &lt;zwapi.h&gt;</code><br>

<p>
<a href="../../d4/d7/fsrtlp_8h-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>union &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d2/union__UCHAR1.html">_UCHAR1</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>union &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/union__UCHAR2.html">_UCHAR2</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>union &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d3/union__UCHAR4.html">_UCHAR4</a></td></tr>

<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a0">FsRtlAllocatePool</a>(PoolType, NumberOfBytes)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a1">FsRtlAllocatePoolWithQuota</a>(PoolType, NumberOfBytes)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a2">FsRtlpAllocatePool</a>(a, b)&nbsp;&nbsp;&nbsp;FsRtlAllocatePoolWithTag((a),(b),MODULE_POOL_TAG)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a3">DebugTrace</a>(INDENT, LEVEL, X, Y)&nbsp;&nbsp;&nbsp;{NOTHING;}</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a4">DebugDump</a>(STR, LEVEL, PTR)&nbsp;&nbsp;&nbsp;{NOTHING;}</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a5">FlagOn</a>(Flags, SingleFlag)&nbsp;&nbsp;&nbsp;((Flags) &amp; (SingleFlag))</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a6">BooleanFlagOn</a>(Flags, SingleFlag)&nbsp;&nbsp;&nbsp;((BOOLEAN)(((Flags) &amp; (SingleFlag)) != 0))</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a7">SetFlag</a>(F, SF)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a8">ClearFlag</a>(F, SF)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a9">WordAlign</a>(<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a10">LongAlign</a>(<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a11">QuadAlign</a>(<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a12">SectorAlign</a>(<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a13">SectorsFromBytes</a>(bytes)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a14">BytesFromSectors</a>(sectors)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a15">CopyUchar1</a>(Dst, Src)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a16">CopyUchar2</a>(Dst, Src)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a17">CopyUchar4</a>(Dst, Src)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a18">try_return</a>(S)&nbsp;&nbsp;&nbsp;{ S; goto try_exit; }</td></tr>

<tr><td colspan=2><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d9/d2/union__UCHAR1.html">_UCHAR1</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a19">UCHAR1</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d9/d2/union__UCHAR1.html">_UCHAR1</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a20">PUCHAR1</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d0/d3/union__UCHAR2.html">_UCHAR2</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a21">UCHAR2</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d0/d3/union__UCHAR2.html">_UCHAR2</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a22">PUCHAR2</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d1/d3/union__UCHAR4.html">_UCHAR4</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a23">UCHAR4</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d1/d3/union__UCHAR4.html">_UCHAR4</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a24">PUCHAR4</a></td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a25">FsRtlInitializeFileLocks</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a26">FsRtlInitializeLargeMcbs</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a27">FsRtlInitializeTunnels</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>NTSTATUS&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d8/fsrtlp_8h.html#a28">FsRtlInitializeWorkerThread</a> (VOID)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a6" doxytag="fsrtlp.h::BooleanFlagOn" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define BooleanFlagOn          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">Flags,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>SingleFlag&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;((BOOLEAN)(((Flags) &amp; (SingleFlag)) != 0))</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d7/fsrtlp_8h-source.html#l00170">170</a> of file <a class="el" href="../../d4/d7/fsrtlp_8h-source.html">fsrtlp.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="fsrtlp.h::BytesFromSectors" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define BytesFromSectors          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">sectors&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div>( \
    (sectors) * 512                 \
    )
</div></pre>
<p>
Definition at line <a class="el" href="../../d4/d7/fsrtlp_8h-source.html#l00231">231</a> of file <a class="el" href="../../d4/d7/fsrtlp_8h-source.html">fsrtlp.h</a>.
<p>
Referenced by <a class="el" href="../../d8/d4/udfs_2read_8c-source.html#l00068">UdfCommonRead()</a>, <a class="el" href="../../d3/d5/allocsup_8c-source.html#l01406">UdfLoadSparingTables()</a>, <a class="el" href="../../d3/d5/allocsup_8c-source.html#l00069">UdfLookupAllocation()</a>, and <a class="el" href="../../d4/d6/deviosup_8c-source.html#l00685">UdfReadSectors()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="fsrtlp.h::ClearFlag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define ClearFlag          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">F,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>SF&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div>{ \
    (F) &amp;= ~(SF);         \
}
</div></pre>
<p>
Definition at line <a class="el" href="../../d4/d7/fsrtlp_8h-source.html#l00176">176</a> of file <a class="el" href="../../d4/d7/fsrtlp_8h-source.html">fsrtlp.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="fsrtlp.h::CopyUchar1" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define CopyUchar1          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">Dst,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>Src&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div>{                                \
    *((<a class="code" href="../../d9/d2/union__UCHAR1.html">UCHAR1</a> *)(Dst)) = *((UNALIGNED <a class="code" href="../../d9/d2/union__UCHAR1.html">UCHAR1</a> *)(Src)); \
    }
</div></pre>
<p>
Definition at line <a class="el" href="../../d4/d7/fsrtlp_8h-source.html#l00259">259</a> of file <a class="el" href="../../d4/d7/fsrtlp_8h-source.html">fsrtlp.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="fsrtlp.h::CopyUchar2" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define CopyUchar2          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">Dst,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>Src&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div>{                                \
    *((<a class="code" href="../../d0/d3/union__UCHAR2.html">UCHAR2</a> *)(Dst)) = *((UNALIGNED <a class="code" href="../../d0/d3/union__UCHAR2.html">UCHAR2</a> *)(Src)); \
    }
</div></pre>
<p>
Definition at line <a class="el" href="../../d4/d7/fsrtlp_8h-source.html#l00267">267</a> of file <a class="el" href="../../d4/d7/fsrtlp_8h-source.html">fsrtlp.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="fsrtlp.h::CopyUchar4" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define CopyUchar4          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">Dst,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>Src&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div>{                                \
    *((<a class="code" href="../../d1/d3/union__UCHAR4.html">UCHAR4</a> *)(Dst)) = *((UNALIGNED <a class="code" href="../../d1/d3/union__UCHAR4.html">UCHAR4</a> *)(Src)); \
    }
</div></pre>
<p>
Definition at line <a class="el" href="../../d4/d7/fsrtlp_8h-source.html#l00275">275</a> of file <a class="el" href="../../d4/d7/fsrtlp_8h-source.html">fsrtlp.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="fsrtlp.h::DebugDump" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DebugDump          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">STR,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LEVEL,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PTR&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;{NOTHING;}</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d7/fsrtlp_8h-source.html#l00134">134</a> of file <a class="el" href="../../d4/d7/fsrtlp_8h-source.html">fsrtlp.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="fsrtlp.h::DebugTrace" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DebugTrace          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">INDENT,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LEVEL,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>X,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>Y&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;{NOTHING;}</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d7/fsrtlp_8h-source.html#l00132">132</a> of file <a class="el" href="../../d4/d7/fsrtlp_8h-source.html">fsrtlp.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="fsrtlp.h::FlagOn" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define FlagOn          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">Flags,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>SingleFlag&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;((Flags) &amp; (SingleFlag))</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d7/fsrtlp_8h-source.html#l00168">168</a> of file <a class="el" href="../../d4/d7/fsrtlp_8h-source.html">fsrtlp.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="fsrtlp.h::FsRtlAllocatePool" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define FsRtlAllocatePool          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PoolType,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>NumberOfBytes&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div><a class="code" href="../../d5/d8/ex_8h.html#a4">ExAllocatePoolWithTag</a>((POOL_TYPE)((PoolType) | POOL_RAISE_IF_ALLOCATION_FAILURE), \
                          NumberOfBytes,                                      \
                          'trSF')
</div></pre>
<p>
Definition at line <a class="el" href="../../d4/d7/fsrtlp_8h-source.html#l00029">29</a> of file <a class="el" href="../../d4/d7/fsrtlp_8h-source.html">fsrtlp.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="fsrtlp.h::FsRtlAllocatePoolWithQuota" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define FsRtlAllocatePoolWithQuota          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PoolType,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>NumberOfBytes&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div><a class="code" href="../../d5/d8/ex_8h.html#a5">ExAllocatePoolWithQuotaTag</a>((POOL_TYPE)((PoolType) | POOL_RAISE_IF_ALLOCATION_FAILURE), \
                               NumberOfBytes,                                 \
                               'trSF')
</div></pre>
<p>
Definition at line <a class="el" href="../../d4/d7/fsrtlp_8h-source.html#l00035">35</a> of file <a class="el" href="../../d4/d7/fsrtlp_8h-source.html">fsrtlp.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="fsrtlp.h::FsRtlpAllocatePool" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define FsRtlpAllocatePool          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">a,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>b&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;FsRtlAllocatePoolWithTag((a),(b),MODULE_POOL_TAG)</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d7/fsrtlp_8h-source.html#l00040">40</a> of file <a class="el" href="../../d4/d7/fsrtlp_8h-source.html">fsrtlp.h</a>.
<p>
Referenced by <a class="el" href="../../d2/d0/largemcb_8c-source.html#l02852">FsRtlAddLargeEntry()</a>, <a class="el" href="../../d6/d1/oplock_8c-source.html#l01221">FsRtlAllocateOplock()</a>, <a class="el" href="../../d3/d6/notify_8c-source.html#l02555">FsRtlCancelNotify()</a>, <a class="el" href="../../d2/d0/largemcb_8c-source.html#l00572">FsRtlInitializeLargeMcb()</a>, <a class="el" href="../../d2/d2/dbcsname_8c-source.html#l00771">FsRtlIsDbcsInExpression()</a>, <a class="el" href="../../d5/d4/name_8c-source.html#l00482">FsRtlIsNameInExpressionPrivate()</a>, <a class="el" href="../../d3/d6/notify_8c-source.html#l00547">FsRtlNotifyFullChangeDirectory()</a>, <a class="el" href="../../d3/d6/notify_8c-source.html#l00973">FsRtlNotifyFullReportChange()</a>, <a class="el" href="../../d3/d6/notify_8c-source.html#l00371">FsRtlNotifyInitializeSync()</a>, <a class="el" href="../../d5/d4/stackovf_8c-source.html#l00215">FsRtlpPostStackOverflow()</a>, <a class="el" href="../../d2/d0/largemcb_8c-source.html#l00743">FsRtlTruncateLargeMcb()</a>, and <a class="el" href="../../d6/d1/oplock_8c-source.html#l03025">FsRtlWaitOnIrp()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="fsrtlp.h::LongAlign" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define LongAlign          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div>(                \
    ((((ULONG_PTR)(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>)) + 3) &amp; -4) \
    )
</div></pre>
<p>
Definition at line <a class="el" href="../../d4/d7/fsrtlp_8h-source.html#l00194">194</a> of file <a class="el" href="../../d4/d7/fsrtlp_8h-source.html">fsrtlp.h</a>.
<p>
Referenced by <a class="el" href="../../d3/d6/notify_8c-source.html#l00973">FsRtlNotifyFullReportChange()</a>, and <a class="el" href="../../d9/d5/sertl_8c-source.html#l01436">RtlCopySidAndAttributesArray()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="fsrtlp.h::QuadAlign" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define QuadAlign          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div>(                \
    ((((ULONG_PTR)(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>)) + 7) &amp; -8) \
    )
</div></pre>
<p>
Definition at line <a class="el" href="../../d4/d7/fsrtlp_8h-source.html#l00203">203</a> of file <a class="el" href="../../d4/d7/fsrtlp_8h-source.html">fsrtlp.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="fsrtlp.h::SectorAlign" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define SectorAlign          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div>(                \
    ((((ULONG_PTR)(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>)) + 511) &amp; -512) \
    )
</div></pre>
<p>
Definition at line <a class="el" href="../../d4/d7/fsrtlp_8h-source.html#l00212">212</a> of file <a class="el" href="../../d4/d7/fsrtlp_8h-source.html">fsrtlp.h</a>.
<p>
Referenced by <a class="el" href="../../d8/d4/udfs_2read_8c-source.html#l00068">UdfCommonRead()</a>, <a class="el" href="../../d0/d7/udfs_2strucsup_8c-source.html#l03388">UdfInitializeAllocations()</a>, <a class="el" href="../../d4/d6/deviosup_8c-source.html#l00883">UdfPrepareBuffers()</a>, <a class="el" href="../../d4/d7/udfprocs_8h-source.html#l00931">UdfRawBufferSize()</a>, and <a class="el" href="../../d4/d7/udfprocs_8h-source.html#l00941">UdfRawReadSize()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="fsrtlp.h::SectorsFromBytes" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define SectorsFromBytes          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">bytes&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div>( \
    ((bytes) + 511) / 512         \
    )
</div></pre>
<p>
Definition at line <a class="el" href="../../d4/d7/fsrtlp_8h-source.html#l00222">222</a> of file <a class="el" href="../../d4/d7/fsrtlp_8h-source.html">fsrtlp.h</a>.
<p>
Referenced by <a class="el" href="../../d0/d7/udfs_2fsctrl_8c-source.html#l02832">UdfFindVolumeDescriptors()</a>, <a class="el" href="../../d0/d7/udfs_2strucsup_8c-source.html#l03388">UdfInitializeAllocations()</a>, <a class="el" href="../../d3/d5/allocsup_8c-source.html#l00069">UdfLookupAllocation()</a>, <a class="el" href="../../d3/d5/allocsup_8c-source.html#l01177">UdfLookupMetaVsnOfExtent()</a>, <a class="el" href="../../d3/d5/allocsup_8c-source.html#l01017">UdfLookupPsnOfExtent()</a>, and <a class="el" href="../../d8/d5/volinfo_8c-source.html#l00302">UdfQueryFsSizeInfo()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="fsrtlp.h::SetFlag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define SetFlag          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">F,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>SF&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div>{ \
    (F) |= (SF);        \
}
</div></pre>
<p>
Definition at line <a class="el" href="../../d4/d7/fsrtlp_8h-source.html#l00172">172</a> of file <a class="el" href="../../d4/d7/fsrtlp_8h-source.html">fsrtlp.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="fsrtlp.h::try_return" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define try_return          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">S&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;{ S; goto try_exit; }</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d7/fsrtlp_8h-source.html#l00308">308</a> of file <a class="el" href="../../d4/d7/fsrtlp_8h-source.html">fsrtlp.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="fsrtlp.h::WordAlign" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define WordAlign          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div>(                \
    ((((ULONG_PTR)(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>)) + 1) &amp; -2) \
    )
</div></pre>
<p>
Definition at line <a class="el" href="../../d4/d7/fsrtlp_8h-source.html#l00185">185</a> of file <a class="el" href="../../d4/d7/fsrtlp_8h-source.html">fsrtlp.h</a>.    </td>
  </tr>
</table>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="a20" doxytag="fsrtlp.h::PUCHAR1" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef union <a class="el" href="../../d9/d2/union__UCHAR1.html">_UCHAR1</a> * <a class="el" href="../../d9/d2/union__UCHAR1.html">PUCHAR1</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a22" doxytag="fsrtlp.h::PUCHAR2" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef union <a class="el" href="../../d0/d3/union__UCHAR2.html">_UCHAR2</a> * <a class="el" href="../../d0/d3/union__UCHAR2.html">PUCHAR2</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a24" doxytag="fsrtlp.h::PUCHAR4" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef union <a class="el" href="../../d1/d3/union__UCHAR4.html">_UCHAR4</a> * <a class="el" href="../../d1/d3/union__UCHAR4.html">PUCHAR4</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a19" doxytag="fsrtlp.h::UCHAR1" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef union <a class="el" href="../../d9/d2/union__UCHAR1.html">_UCHAR1</a>  <a class="el" href="../../d9/d2/union__UCHAR1.html">UCHAR1</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a21" doxytag="fsrtlp.h::UCHAR2" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef union <a class="el" href="../../d0/d3/union__UCHAR2.html">_UCHAR2</a>  <a class="el" href="../../d0/d3/union__UCHAR2.html">UCHAR2</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a23" doxytag="fsrtlp.h::UCHAR4" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef union <a class="el" href="../../d1/d3/union__UCHAR4.html">_UCHAR4</a>  <a class="el" href="../../d1/d3/union__UCHAR4.html">UCHAR4</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a25" doxytag="fsrtlp.h::FsRtlInitializeFileLocks" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID FsRtlInitializeFileLocks           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/filelock_8c-source.html#l00744">744</a> of file <a class="el" href="../../d6/d2/filelock_8c-source.html">filelock.c</a>.
<p>
References <a class="el" href="../../d6/d7/ex_8h-source.html#l00367">ExInitializeFastMutex</a>, <a class="el" href="../../d0/d5/ex_2lookasid_8c-source.html#l00408">ExInitializeNPagedLookasideList()</a>, <a class="el" href="../../d0/d5/ex_2lookasid_8c-source.html#l00543">ExInitializePagedLookasideList()</a>, <a class="el" href="../../d1/d8/fsrtl_8h.html#a67">FILE_LOCK</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l00119">FsRtlCreateLockInfo</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l00132">FsRtlExclusiveLockLookasideList</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l00137">FsRtlFileLockLookasideList</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l00135">FsRtlLockInfoLookasideList</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l00134">FsRtlLockTreeNodeLookasideList</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l00131">FsRtlSharedLockLookasideList</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l00133">FsRtlWaitingLockLookasideList</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l00104">TAG_EXCLUSIVE_LOCK</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l00105">TAG_FILE_LOCK</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l00106">TAG_LOCK_INFO</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l00107">TAG_LOCKTREE_NODE</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l00108">TAG_SHARED_LOCK</a>, and <a class="el" href="../../d6/d2/filelock_8c-source.html#l00109">TAG_WAITING_LOCK</a>.
<p>
Referenced by <a class="el" href="../../d5/d7/fsrtlpc_8c-source.html#l00215">FsRtlInitSystem()</a>.
<p>
<pre class="fragment"><div>00749                    :
00750 
00751     Initializes <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> global portion of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> filelock package.
00752 
00753 Arguments:
00754 
00755     None
00756 
00757 Return Value:
00758 
00759     None.
00760 
00761 --*/
00762 {
00763 <span class="preprocessor">#ifndef USERTEST</span>
00764 <span class="preprocessor"></span>
00765     <span class="comment">//</span>
00766     <span class="comment">//  Build the lookaside lists for our internal structures.</span>
00767     <span class="comment">//</span>
00768 
00769     <a class="code" href="../../d5/d8/ex_8h.html#a246">ExInitializeNPagedLookasideList</a>( &amp;FsRtlSharedLockLookasideList,
00770                                      NULL,
00771                                      NULL,
00772                                      0,
00773                                      <span class="keyword">sizeof</span>(<a class="code" href="../../d8/d2/struct__SH__LOCK.html">SH_LOCK</a>),
00774                                      TAG_SHARED_LOCK,
00775                                      16 );
00776 
00777     <a class="code" href="../../d5/d8/ex_8h.html#a246">ExInitializeNPagedLookasideList</a>( &amp;FsRtlExclusiveLockLookasideList,
00778                                      NULL,
00779                                      NULL,
00780                                      0,
00781                                      <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d7/struct__EX__LOCK.html">EX_LOCK</a>),
00782                                      TAG_EXCLUSIVE_LOCK,
00783                                      16 );
00784 
00785     <a class="code" href="../../d5/d8/ex_8h.html#a246">ExInitializeNPagedLookasideList</a>( &amp;FsRtlWaitingLockLookasideList,
00786                                      NULL,
00787                                      NULL,
00788                                      0,
00789                                      <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d8/struct__WAITING__LOCK.html">WAITING_LOCK</a>),
00790                                      TAG_WAITING_LOCK,
00791                                      16 );
00792 
00793     <a class="code" href="../../d5/d8/ex_8h.html#a246">ExInitializeNPagedLookasideList</a>( &amp;FsRtlLockTreeNodeLookasideList,
00794                                      NULL,
00795                                      NULL,
00796                                      0,
00797                                      <span class="keyword">sizeof</span>(<a class="code" href="../../d2/d3/struct__LOCKTREE__NODE.html">LOCKTREE_NODE</a>),
00798                                      TAG_LOCKTREE_NODE,
00799                                      16 );
00800 
00801     <a class="code" href="../../d5/d8/ex_8h.html#a246">ExInitializeNPagedLookasideList</a>( &amp;FsRtlLockInfoLookasideList,
00802                                      NULL,
00803                                      NULL,
00804                                      0,
00805                                      <span class="keyword">sizeof</span>(<a class="code" href="../../d6/d2/struct__LOCK__INFO.html">LOCK_INFO</a>),
00806                                      TAG_LOCK_INFO,
00807                                      8 );
00808 
00809     <a class="code" href="../../d5/d8/ex_8h.html#a250">ExInitializePagedLookasideList</a>( &amp;FsRtlFileLockLookasideList,
00810                                     NULL,
00811                                     NULL,
00812                                     0,
00813                                     <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d1/struct__FILE__LOCK.html">FILE_LOCK</a>),
00814                                     TAG_FILE_LOCK,
00815                                     8 );
00816 
00817     <span class="comment">//</span>
00818     <span class="comment">//  Initialize the LockInfo creation mutex</span>
00819     <span class="comment">//</span>
00820 
00821     <a class="code" href="../../d5/d8/ex_8h.html#a8">ExInitializeFastMutex</a>(&amp;FsRtlCreateLockInfo);
00822 
00823 
00824 <span class="preprocessor">#endif</span>
00825 <span class="preprocessor"></span>}

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a26" doxytag="fsrtlp.h::FsRtlInitializeLargeMcbs" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID FsRtlInitializeLargeMcbs           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/largemcb_8c-source.html#l00521">521</a> of file <a class="el" href="../../d2/d0/largemcb_8c-source.html">largemcb.c</a>.
<p>
References <a class="el" href="../../d0/d5/ex_2lookasid_8c-source.html#l00408">ExInitializeNPagedLookasideList()</a>, <a class="el" href="../../d0/d5/ex_2lookasid_8c-source.html#l00543">ExInitializePagedLookasideList()</a>, <a class="el" href="../../d2/d0/largemcb_8c-source.html#l00322">FsRtlFastMutexLookasideList</a>, <a class="el" href="../../d2/d0/largemcb_8c-source.html#l00315">FsRtlFirstMappingLookasideList</a>, <a class="el" href="../../d2/d0/largemcb_8c-source.html#l00313">INITIAL_MAXIMUM_PAIR_COUNT</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, and <a class="el" href="../../d6/d7/ex_8h-source.html#l00144">POOL_RAISE_IF_ALLOCATION_FAILURE</a>.
<p>
Referenced by <a class="el" href="../../d5/d7/fsrtlpc_8c-source.html#l00215">FsRtlInitSystem()</a>.
<p>
<pre class="fragment"><div>00527                    :
00528 
00529     This routine initializes <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> global portion of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> large mcb <span class="keyword">package</span>
00530 <span class="keyword">    </span>at system initialization time.
00531 
00532 Arguments:
00533 
00534     None.
00535 
00536 Return Value:
00537 
00538     None.
00539 
00540 --*/
00541 
00542 {
00543     <span class="comment">//</span>
00544     <span class="comment">//  Initialize the lookaside of paged initial mapping arrays.</span>
00545     <span class="comment">//</span>
00546 
00547     ExInitializePagedLookasideList( &amp;FsRtlFirstMappingLookasideList,
00548                                     NULL,
00549                                     NULL,
00550                                     POOL_RAISE_IF_ALLOCATION_FAILURE,
00551                                     sizeof( MAPPING ) * INITIAL_MAXIMUM_PAIR_COUNT,
00552                                     'miSF',
00553                                     4 );
00554 
00555     <span class="comment">//</span>
00556     <span class="comment">//  Initialize the Fast Mutex lookaside list.</span>
00557     <span class="comment">//</span>
00558 
00559     <a class="code" href="../../d5/d8/ex_8h.html#a246">ExInitializeNPagedLookasideList</a>( &amp;FsRtlFastMutexLookasideList,
00560                                      NULL,
00561                                      NULL,
00562                                      POOL_RAISE_IF_ALLOCATION_FAILURE,
00563                                      <span class="keyword">sizeof</span>( <a class="code" href="../../d6/d9/struct__FAST__MUTEX.html">FAST_MUTEX</a>),
00564                                      'mfSF',
00565                                      32 );
00566 
00567 
00568 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a27" doxytag="fsrtlp.h::FsRtlInitializeTunnels" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID FsRtlInitializeTunnels           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d6/tunnel_8c-source.html#l00382">382</a> of file <a class="el" href="../../d2/d6/tunnel_8c-source.html">tunnel.c</a>.
<p>
References <a class="el" href="../../d0/d5/ex_2lookasid_8c-source.html#l00543">ExInitializePagedLookasideList()</a>, <a class="el" href="../../d2/d6/tunnel_8c-source.html#l01371">FsRtlGetTunnelParameterValue()</a>, <a class="el" href="../../d2/d6/tunnel_8c-source.html#l00093">LOOKASIDE_NODE_SIZE</a>, <a class="el" href="../../d2/d6/tunnel_8c-source.html#l00091">MAX_LOOKASIDE_DEPTH</a>, <a class="el" href="../../d6/d0/mminit_8c-source.html#l03087">MmIsThisAnNtAsSystem()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d1/d8/ntosdef_8h-source.html#l00462">PAGED_CODE</a>, <a class="el" href="../../d2/d6/tunnel_8c-source.html#l00071">TUNNEL_AGE_VALUE_NAME</a>, <a class="el" href="../../d2/d6/tunnel_8c-source.html#l00072">TUNNEL_SIZE_VALUE_NAME</a>, <a class="el" href="../../d2/d6/tunnel_8c-source.html#l00090">TunnelLookasideList</a>, <a class="el" href="../../d2/d6/tunnel_8c-source.html#l00080">TunnelMaxAge</a>, <a class="el" href="../../d2/d6/tunnel_8c-source.html#l00079">TunnelMaxEntries</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00064">USHORT</a>, <a class="el" href="../../d2/d0/rtdelval_8c-source.html#l00047">ValueName</a>, and <a class="el" href="../../d2/d7/hal_8h.html#a212">VOID()</a>.
<p>
Referenced by <a class="el" href="../../d5/d7/fsrtlpc_8c-source.html#l00215">FsRtlInitSystem()</a>.
<p>
<pre class="fragment"><div>00387                    :
00388 
00389     Initializes <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> global part of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> tunneling package.
00390 
00391 Arguments:
00392 
00393     None
00394 
00395 Return Value:
00396 
00397     None
00398 
00399 --*/
00400 {
00401     UNICODE_STRING  <a class="code" href="../../d1/d1/rtdelval_8c.html#a3">ValueName</a>;
00402     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>          LookasideDepth;
00403 
00404     <a class="code" href="../../d0/d9/ntosdef_8h.html#a28">PAGED_CODE</a>();
00405 
00406     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d1/mminit_8c.html#a58">MmIsThisAnNtAsSystem</a>()) {
00407 
00408         <a class="code" href="../../d1/d7/tunnel_8c.html#a9">TunnelMaxEntries</a> = 1024;
00409 
00410     } <span class="keywordflow">else</span> {
00411 
00412         <a class="code" href="../../d1/d7/tunnel_8c.html#a9">TunnelMaxEntries</a> = 256;
00413     }
00414 
00415     <a class="code" href="../../d1/d7/tunnel_8c.html#a10">TunnelMaxAge</a> = 15;
00416 
00417     <span class="comment">//</span>
00418     <span class="comment">//  Query our configurable parameters</span>
00419     <span class="comment">//</span>
00420     <span class="comment">//  Don't worry about failure in retrieving from the registry. We've gotten</span>
00421     <span class="comment">//  this far so fall back on defaults even if there was a problem with resources.</span>
00422     <span class="comment">//</span>
00423 
00424     <a class="code" href="../../d1/d1/rtdelval_8c.html#a3">ValueName</a>.Buffer = <a class="code" href="../../d1/d7/tunnel_8c.html#a3">TUNNEL_SIZE_VALUE_NAME</a>;
00425     <a class="code" href="../../d1/d1/rtdelval_8c.html#a3">ValueName</a>.Length = <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d7/tunnel_8c.html#a3">TUNNEL_SIZE_VALUE_NAME</a>) - <span class="keyword">sizeof</span>(WCHAR);
00426     <a class="code" href="../../d1/d1/rtdelval_8c.html#a3">ValueName</a>.MaximumLength = <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d7/tunnel_8c.html#a3">TUNNEL_SIZE_VALUE_NAME</a>);
00427     (<a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>) <a class="code" href="../../d1/d7/tunnel_8c.html#a13">FsRtlGetTunnelParameterValue</a>(&amp;ValueName, &amp;TunnelMaxEntries);
00428 
00429     <a class="code" href="../../d1/d1/rtdelval_8c.html#a3">ValueName</a>.Buffer = <a class="code" href="../../d1/d7/tunnel_8c.html#a2">TUNNEL_AGE_VALUE_NAME</a>;
00430     <a class="code" href="../../d1/d1/rtdelval_8c.html#a3">ValueName</a>.Length = <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d7/tunnel_8c.html#a2">TUNNEL_AGE_VALUE_NAME</a>) - <span class="keyword">sizeof</span>(WCHAR);
00431     <a class="code" href="../../d1/d1/rtdelval_8c.html#a3">ValueName</a>.MaximumLength = <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d7/tunnel_8c.html#a2">TUNNEL_AGE_VALUE_NAME</a>);
00432     (<a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>) <a class="code" href="../../d1/d7/tunnel_8c.html#a13">FsRtlGetTunnelParameterValue</a>(&amp;ValueName, &amp;TunnelMaxAge);
00433 
00434     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d7/tunnel_8c.html#a10">TunnelMaxAge</a> == 0) {
00435 
00436         <span class="comment">//</span>
00437         <span class="comment">//  If the registry has been set so the timeout is zero, we should force</span>
00438         <span class="comment">//  the number of entries to zero also. This preserves expectations and lets</span>
00439         <span class="comment">//  us key off of max entries alone in performing the hard disabling of the</span>
00440         <span class="comment">//  caching code.</span>
00441         <span class="comment">//</span>
00442 
00443         <a class="code" href="../../d1/d7/tunnel_8c.html#a9">TunnelMaxEntries</a> = 0;
00444     }
00445 
00446     <span class="comment">//</span>
00447     <span class="comment">//  Convert from seconds to 10ths of msecs, the internal resolution</span>
00448     <span class="comment">//</span>
00449 
00450     <a class="code" href="../../d1/d7/tunnel_8c.html#a10">TunnelMaxAge</a> *= 10000000;
00451 
00452     <span class="comment">//</span>
00453     <span class="comment">//  Build the lookaside list for common node allocation</span>
00454     <span class="comment">//</span>
00455 
00456     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d7/tunnel_8c.html#a9">TunnelMaxEntries</a> &gt; MAXUSHORT) {
00457 
00458         <span class="comment">//</span>
00459         <span class="comment">//  User is hinting a big need to us</span>
00460         <span class="comment">//</span>
00461 
00462         LookasideDepth = <a class="code" href="../../d1/d7/tunnel_8c.html#a5">MAX_LOOKASIDE_DEPTH</a>;
00463 
00464     } <span class="keywordflow">else</span> {
00465 
00466         LookasideDepth = ((<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>)<a class="code" href="../../d1/d7/tunnel_8c.html#a9">TunnelMaxEntries</a>)/16;
00467     }
00468 
00469     <span class="keywordflow">if</span> (LookasideDepth == 0 &amp;&amp; <a class="code" href="../../d1/d7/tunnel_8c.html#a9">TunnelMaxEntries</a>) {
00470 
00471         <span class="comment">//</span>
00472         <span class="comment">//  Miniscule number of entries allowed. Lookaside 'em all.</span>
00473         <span class="comment">//</span>
00474 
00475         LookasideDepth = (<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>)<a class="code" href="../../d1/d7/tunnel_8c.html#a9">TunnelMaxEntries</a> + 1;
00476     }
00477 
00478     <span class="keywordflow">if</span> (LookasideDepth &gt; <a class="code" href="../../d1/d7/tunnel_8c.html#a5">MAX_LOOKASIDE_DEPTH</a>) {
00479 
00480         <span class="comment">//</span>
00481         <span class="comment">//  Finally, restrict the depth to something reasonable.</span>
00482         <span class="comment">//</span>
00483 
00484         LookasideDepth = <a class="code" href="../../d1/d7/tunnel_8c.html#a5">MAX_LOOKASIDE_DEPTH</a>;
00485     }
00486 
00487     <a class="code" href="../../d5/d8/ex_8h.html#a250">ExInitializePagedLookasideList</a>( &amp;TunnelLookasideList,
00488                                     NULL,
00489                                     NULL,
00490                                     0,
00491                                     LOOKASIDE_NODE_SIZE,
00492                                     'LnuT',
00493                                     LookasideDepth );
00494 
00495     <span class="keywordflow">return</span>;
00496 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a28" doxytag="fsrtlp.h::FsRtlInitializeWorkerThread" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NTSTATUS FsRtlInitializeWorkerThread           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d4/stackovf_8c-source.html#l00099">99</a> of file <a class="el" href="../../d5/d4/stackovf_8c-source.html">stackovf.c</a>.
<p>
References <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d4/stackovf_8c-source.html#l00031">FsRtlWorkerQueues</a>, <a class="el" href="../../d5/d4/stackovf_8c-source.html#l00345">FsRtlWorkerThread()</a>, <a class="el" href="../../d9/d2/queueobj_8c-source.html#l00036">KeInitializeQueue()</a>, <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d8/d9/ctlnpqos_8c-source.html#l00027">ObjectAttributes</a>, <a class="el" href="../../d3/d7/ps_2create_8c-source.html#l00175">PsCreateSystemThread()</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d5/d7/fsrtlpc_8c-source.html#l00215">FsRtlInitSystem()</a>.
<p>
<pre class="fragment"><div>00102 {
00103     OBJECT_ATTRIBUTES <a class="code" href="../../d7/d0/ctlnpqos_8c.html#a4">ObjectAttributes</a>;
00104     HANDLE Thread;
00105     ULONG i;
00106 
00107     <span class="comment">//</span>
00108     <span class="comment">// Create worker threads to handle normal and paging overflow reads.</span>
00109     <span class="comment">//</span>
00110 
00111     InitializeObjectAttributes(&amp;ObjectAttributes, NULL, 0, NULL, NULL);
00112 
00113     <span class="keywordflow">for</span> (i=0; i &lt; 2; i++) {
00114 
00115         <span class="comment">//</span>
00116         <span class="comment">// Initialize the FsRtl stack overflow work Queue objects.</span>
00117         <span class="comment">//</span>
00118 
00119         <a class="code" href="../../d8/d3/queueobj_8c.html#a1">KeInitializeQueue</a>(&amp;FsRtlWorkerQueues[i], 0);
00120 
00121         <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(<a class="code" href="../../d2/d8/ps_2create_8c.html#a11">PsCreateSystemThread</a>(&amp;Thread,
00122                                              THREAD_ALL_ACCESS,
00123                                              &amp;ObjectAttributes,
00124                                              0L,
00125                                              NULL,
00126                                              FsRtlWorkerThread,
00127                                              ULongToPtr( i )))) {
00128 
00129             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00130         }
00131     }
00132 
00133     ZwClose( Thread );
00134 
00135     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00136 }
</div></pre>    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:43:47 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
