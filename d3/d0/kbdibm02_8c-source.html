<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: kbdibm02.c Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>kbdibm02.c</h1><a href="../../d2/d1/kbdibm02_8c.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">/***************************************************************************\</span>
00002 <span class="comment">* Module Name: kbdibm02.c</span>
00003 <span class="comment">*</span>
00004 <span class="comment">* Copyright (c) 1985-92, Microsoft Corporation</span>
00005 <span class="comment">*</span>
00006 <span class="comment">* History:</span>
00007 <span class="comment">\***************************************************************************/</span>
00008 
00009 <span class="preprocessor">#include &lt;windows.h&gt;</span>
00010 <span class="preprocessor">#include &lt;ime.h&gt;</span>
00011 <span class="preprocessor">#include "<a class="code" href="../../d4/d6/vkoem_8h.html">vkoem.h</a>"</span>
00012 <span class="preprocessor">#include "<a class="code" href="../../d7/d1/kbdjpn_8h.html">kbdjpn.h</a>"</span>
00013 <span class="preprocessor">#include "<a class="code" href="../../d4/d1/kbdibm02_8h.html">kbdibm02.h</a>"</span>
00014 
00015 <span class="preprocessor">#if defined(_M_IA64)</span>
00016 <span class="preprocessor"></span><span class="preprocessor">#pragma section(".data")</span>
00017 <span class="preprocessor"></span><span class="preprocessor">#define ALLOC_SECTION_LDATA __declspec(allocate(".data"))</span>
00018 <span class="preprocessor"></span><span class="preprocessor">#else</span>
00019 <span class="preprocessor"></span><span class="preprocessor">#pragma data_seg(".data")</span>
<a name="l00020"></a><a class="code" href="../../d2/d1/kbdibm02_8c.html#a0">00020</a> <span class="preprocessor"></span><span class="preprocessor">#define ALLOC_SECTION_LDATA</span>
00021 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00022 <span class="preprocessor"></span>
00023 <span class="comment">/***************************************************************************\</span>
00024 <span class="comment">* ausVK[] - Virtual Scan Code to Virtual Key conversion table for IBM-J 5576-002</span>
00025 <span class="comment">\***************************************************************************/</span>
00026 
<a name="l00027"></a><a class="code" href="../../d2/d1/kbdibm02_8c.html#a1">00027</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> <a class="code" href="../../d2/d1/kbdibm02_8c.html#a1">ausVK</a>[] = {
00028     T00, T01, T02, T03, T04, T05, T06, T07,
00029     T08, T09, T0A, T0B, T0C, T0D, T0E, T0F,
00030     T10, T11, T12, T13, T14, T15, T16, T17,
00031     T18, T19, T1A, T1B, T1C, T1D, T1E, T1F,
00032     T20, T21, T22, T23, T24, T25, T26, T27,
00033     T28, T29, T2A, T2B, T2C, T2D, T2E, T2F,
00034     T30, T31, T32, T33, T34, T35,
00035 
00036     <span class="comment">/*</span>
00037 <span class="comment">     * Right-hand Shift key must have KBDEXT bit set.</span>
00038 <span class="comment">     */</span>
00039     T36 | KBDEXT,
00040 
00041     T37 | KBDMULTIVK,               <span class="comment">// numpad_* + Shift/Alt -&gt; SnapShot</span>
00042 
00043     T38, T39,
00044 
00045     T3A | KBDSPECIAL,              <span class="comment">// Alphanumeric/Caps key // NLS key</span>
00046 
00047     T3B, T3C, T3D, T3E, T3F, T40, T41, T42,
00048     T43, T44,
00049 
00050     <span class="comment">/*</span>
00051 <span class="comment">     * NumLock Key:</span>
00052 <span class="comment">     *     KBDEXT     - VK_NUMLOCK is an Extended key</span>
00053 <span class="comment">     *     KBDMULTIVK - VK_NUMLOCK or VK_PAUSE (without or with CTRL)</span>
00054 <span class="comment">     */</span>
00055     T45 | KBDEXT | KBDMULTIVK,
00056 
00057     T46 | KBDMULTIVK,
00058 
00059     <span class="comment">/*</span>
00060 <span class="comment">     * Number Pad keys:</span>
00061 <span class="comment">     *     KBDNUMPAD  - digits 0-9 and decimal point.</span>
00062 <span class="comment">     *     KBDSPECIAL - require special processing by Windows</span>
00063 <span class="comment">     */</span>
00064     T47 | KBDNUMPAD | KBDSPECIAL,   <span class="comment">// Numpad 7 (Home)</span>
00065     T48 | KBDNUMPAD | KBDSPECIAL,   <span class="comment">// Numpad 8 (Up),</span>
00066     T49 | KBDNUMPAD | KBDSPECIAL,   <span class="comment">// Numpad 9 (PgUp),</span>
00067     T4A,
00068     T4B | KBDNUMPAD | KBDSPECIAL,   <span class="comment">// Numpad 4 (Left),</span>
00069     T4C | KBDNUMPAD | KBDSPECIAL,   <span class="comment">// Numpad 5 (Clear),</span>
00070     T4D | KBDNUMPAD | KBDSPECIAL,   <span class="comment">// Numpad 6 (Right),</span>
00071     T4E,
00072     T4F | KBDNUMPAD | KBDSPECIAL,   <span class="comment">// Numpad 1 (End),</span>
00073     T50 | KBDNUMPAD | KBDSPECIAL,   <span class="comment">// Numpad 2 (Down),</span>
00074     T51 | KBDNUMPAD | KBDSPECIAL,   <span class="comment">// Numpad 3 (PgDn),</span>
00075     T52 | KBDNUMPAD | KBDSPECIAL,   <span class="comment">// Numpad 0 (Ins),</span>
00076     T53 | KBDNUMPAD | KBDSPECIAL,   <span class="comment">// Numpad . (Del),</span>
00077 
00078     T54, T55, T56, T57, T58, T59, T5A, T5B,
00079     T5C, T5D, T5E, T5F, T60, T61, T62, T63,
00080     T64, T65, T66, T67, T68, T69, T6A, T6B,
00081     T6C, T6D, T6E, T6F,
00082 
00083     T70 | KBDSPECIAL,              <span class="comment">// Katakana/Kanji key</span>
00084 
00085     T71, T72,
00086 
00087     T73,                           <span class="comment">// | \ Katakana RO key   // NLS key</span>
00088 
00089     T74, T75, T76,
00090 
00091     T77 | KBDSPECIAL,              <span class="comment">// SBCS/DBCS key         // NLS key</span>
00092 
00093     T78,
00094 
00095     T79 | KBDSPECIAL,              <span class="comment">// Conversion key        // NLS key</span>
00096 
00097     T7A,
00098 
00099     T7B | KBDSPECIAL               <span class="comment">// Non-Conversion key    // NLS key</span>
00100 };
00101 
<a name="l00102"></a><a class="code" href="../../d2/d1/kbdibm02_8c.html#a2">00102</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> VSC_VK <a class="code" href="../../d2/d1/kbdibm02_8c.html#a2">aE0VscToVk</a>[] = {
00103         { 0x1C, X1C | KBDEXT              },  <span class="comment">// Numpad Enter</span>
00104         { 0x1D, X1D | KBDEXT              },  <span class="comment">// RControl</span>
00105         { 0x33, X33 | KBDEXT              },  <span class="comment">// Comma key by 5576-002 special</span>
00106         { 0x35, X35 | KBDEXT              },  <span class="comment">// Numpad Divide</span>
00107         { 0x37, X37 | KBDEXT              },  <span class="comment">// Snapshot</span>
00108         { 0x38, X38 | KBDEXT | KBDSPECIAL },  <span class="comment">// Hiragana key   // NLS key</span>
00109         { 0x46, X46 | KBDEXT              },  <span class="comment">// Break (Ctrl + Pause)</span>
00110         { 0x47, X47 | KBDEXT              },  <span class="comment">// Home</span>
00111         { 0x48, X48 | KBDEXT              },  <span class="comment">// Up</span>
00112         { 0x49, X49 | KBDEXT              },  <span class="comment">// Prior</span>
00113         { 0x4B, X4B | KBDEXT              },  <span class="comment">// Left</span>
00114         { 0x4D, X4D | KBDEXT              },  <span class="comment">// Right</span>
00115         { 0x4F, X4F | KBDEXT              },  <span class="comment">// End</span>
00116         { 0x50, X50 | KBDEXT              },  <span class="comment">// Down</span>
00117         { 0x51, X51 | KBDEXT              },  <span class="comment">// Next</span>
00118         { 0x52, X52 | KBDEXT              },  <span class="comment">// Insert</span>
00119         { 0x53, X53 | KBDEXT              },  <span class="comment">// Delete</span>
00120         { 0x5B, X5B | KBDEXT              },  <span class="comment">// Left Win</span>
00121         { 0x5C, X5C | KBDEXT              },  <span class="comment">// Right Win</span>
00122         { 0x5D, X5D | KBDEXT              },  <span class="comment">// Application</span>
00123         { 0,      0                       }
00124 };
00125 
<a name="l00126"></a><a class="code" href="../../d2/d1/kbdibm02_8c.html#a3">00126</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> VSC_VK <a class="code" href="../../d2/d1/kbdibm02_8c.html#a3">aE1VscToVk</a>[] = {
00127         { 0x1D, Y1D                       },  <span class="comment">// Pause</span>
00128         { 0   ,   0                       }
00129 };
00130 
00131 <span class="comment">/***************************************************************************\</span>
00132 <span class="comment">* aVkToBits[]  - map Virtual Keys to Modifier Bits</span>
00133 <span class="comment">*</span>
00134 <span class="comment">* See kbd.h for a full description.</span>
00135 <span class="comment">*</span>
00136 <span class="comment">* US Keyboard has only three shifter keys:</span>
00137 <span class="comment">*     SHIFT (L &amp; R) affects alphabnumeric keys,</span>
00138 <span class="comment">*     CTRL  (L &amp; R) is used to generate control characters</span>
00139 <span class="comment">*     ALT   (L &amp; R) used for generating characters by number with numpad</span>
00140 <span class="comment">\***************************************************************************/</span>
00141 
<a name="l00142"></a><a class="code" href="../../d2/d1/kbdibm02_8c.html#a4">00142</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> VK_TO_BIT <a class="code" href="../../d2/d1/kbdibm02_8c.html#a4">aVkToBits</a>[] = {
00143     { VK_SHIFT,   KBDSHIFT },
00144     { VK_CONTROL, KBDCTRL  },
00145     { VK_MENU,    KBDALT   },
00146     { VK_KANA,    KBDKANA  },
00147     { 0,          0        }
00148 };
00149 
00150 <span class="comment">/***************************************************************************\</span>
00151 <span class="comment">* aModification[]  - map character modifier bits to modification number</span>
00152 <span class="comment">*</span>
00153 <span class="comment">* See kbd.h for a full description.</span>
00154 <span class="comment">*</span>
00155 <span class="comment">\***************************************************************************/</span>
00156 
<a name="l00157"></a><a class="code" href="../../d2/d1/kbdibm02_8c.html#a5">00157</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> MODIFIERS <a class="code" href="../../d2/d1/kbdibm02_8c.html#a5">CharModifiers</a> = {
00158     &amp;<a class="code" href="../../d2/d1/kbdibm02_8c.html#a4">aVkToBits</a>[0],
00159     11,
00160     {
00161     <span class="comment">//  Modification# //  Keys Pressed  : Explanation</span>
00162     <span class="comment">//  ============= // ============== : =============================</span>
00163         0,            <span class="comment">//                : unshifted characters</span>
00164         1,            <span class="comment">//          SHIFT : capitals, ~!@#$%^&amp;*()_+{}:"&lt;&gt;? etc.</span>
00165         4,            <span class="comment">//     CTRL       : control characters</span>
00166         6,            <span class="comment">//     CTRL SHIFT :</span>
00167         SHFT_INVALID, <span class="comment">// ALT            : invalid</span>
00168         SHFT_INVALID, <span class="comment">// ALT      SHIFT : invalid</span>
00169         SHFT_INVALID, <span class="comment">// ALT CTRL       : invalid</span>
00170         SHFT_INVALID, <span class="comment">// ALT CTRL SHIFT : invalid</span>
00171         2,            <span class="comment">//KANA</span>
00172         3,            <span class="comment">//KANA      SHIFT</span>
00173         5,            <span class="comment">//KANA CTRL</span>
00174         7             <span class="comment">//KANA CTRL SHIFT</span>
00175     }
00176 };
00177 
00178 <span class="comment">/***************************************************************************\</span>
00179 <span class="comment">*</span>
00180 <span class="comment">* aVkToWch2[]  - Virtual Key to WCHAR translation for 2 shift states</span>
00181 <span class="comment">* aVkToWch3[]  - Virtual Key to WCHAR translation for 3 shift states</span>
00182 <span class="comment">* aVkToWch4[]  - Virtual Key to WCHAR translation for 4 shift states</span>
00183 <span class="comment">*</span>
00184 <span class="comment">* Table attributes: Unordered Scan, null-terminated</span>
00185 <span class="comment">*</span>
00186 <span class="comment">* Search this table for an entry with a matching Virtual Key to find the</span>
00187 <span class="comment">* corresponding unshifted and shifted WCHAR characters.</span>
00188 <span class="comment">*</span>
00189 <span class="comment">* Reserved VirtualKey values (first column)</span>
00190 <span class="comment">*     -1            - this line contains dead characters (diacritic)</span>
00191 <span class="comment">*     0             - terminator</span>
00192 <span class="comment">*</span>
00193 <span class="comment">* Reserved Attribute values (second column)</span>
00194 <span class="comment">*     CAPLOK        - CapsLock affects this key like Shift</span>
00195 <span class="comment">*     KANALOK       - The KANA-LOCK key affects this key like KANA</span>
00196 <span class="comment">*</span>
00197 <span class="comment">* Reserved character values (third through last column)</span>
00198 <span class="comment">*     WCH_NONE      - No character</span>
00199 <span class="comment">*     WCH_DEAD      - Dead character (diacritic) value is in next line</span>
00200 <span class="comment">*</span>
00201 <span class="comment">\***************************************************************************/</span>
00202 
<a name="l00203"></a><a class="code" href="../../d2/d1/kbdibm02_8c.html#a6">00203</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> VK_TO_WCHARS4 <a class="code" href="../../d2/d1/kbdibm02_8c.html#a6">aVkToWch4</a>[] = {
00204     <span class="comment">//                               |          |   SHIFT  |  KANA  | K+SHFT |</span>
00205     <span class="comment">//                               |          |==========|========|========|</span>
00206     {<span class="charliteral">'0'</span>          ,          KANALOK ,<span class="charliteral">'0'</span>       ,WCH_NONE  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a104">WCH_WA</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a50">WCH_WO</a>  },
00207     {<span class="charliteral">'1'</span>          ,          KANALOK ,<span class="charliteral">'1'</span>       ,<span class="charliteral">'!'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a83">WCH_NU</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a83">WCH_NU</a>  },
00208     {<span class="charliteral">'3'</span>          ,          KANALOK ,<span class="charliteral">'3'</span>       ,<span class="charliteral">'#'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a61">WCH_A</a>   ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a51">WCH_AA</a>  },
00209     {<span class="charliteral">'4'</span>          ,          KANALOK ,<span class="charliteral">'4'</span>       ,<span class="charliteral">'$'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a63">WCH_U</a>   ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a53">WCH_UU</a>  },
00210     {<span class="charliteral">'5'</span>          ,          KANALOK ,<span class="charliteral">'5'</span>       ,<span class="charliteral">'%'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a64">WCH_E</a>   ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a54">WCH_EE</a>  },
00211     {<span class="charliteral">'7'</span>          ,          KANALOK ,<span class="charliteral">'7'</span>       ,0x27      ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a96">WCH_YA</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a56">WCH_YAA</a> },
00212     {<span class="charliteral">'8'</span>          ,          KANALOK ,<span class="charliteral">'8'</span>       ,<span class="charliteral">'('</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a97">WCH_YU</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a57">WCH_YUU</a> },
00213     {<span class="charliteral">'9'</span>          ,          KANALOK ,<span class="charliteral">'9'</span>       ,<span class="charliteral">')'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a98">WCH_YO</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a58">WCH_YOO</a> },
00214     {<span class="charliteral">'A'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'a'</span>       ,<span class="charliteral">'A'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a77">WCH_TI</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a77">WCH_TI</a>  },
00215     {<span class="charliteral">'B'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'b'</span>       ,<span class="charliteral">'B'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a70">WCH_KO</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a70">WCH_KO</a>  },
00216     {<span class="charliteral">'C'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'c'</span>       ,<span class="charliteral">'C'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a75">WCH_SO</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a75">WCH_SO</a>  },
00217     {<span class="charliteral">'D'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'d'</span>       ,<span class="charliteral">'D'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a72">WCH_SI</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a72">WCH_SI</a>  },
00218     {<span class="charliteral">'E'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'e'</span>       ,<span class="charliteral">'E'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a62">WCH_I</a>   ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a52">WCH_II</a>  },
00219     {<span class="charliteral">'F'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'f'</span>       ,<span class="charliteral">'F'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a86">WCH_HA</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a86">WCH_HA</a>  },
00220     {<span class="charliteral">'G'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'g'</span>       ,<span class="charliteral">'G'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a67">WCH_KI</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a67">WCH_KI</a>  },
00221     {<span class="charliteral">'H'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'h'</span>       ,<span class="charliteral">'H'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a68">WCH_KU</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a68">WCH_KU</a>  },
00222     {<span class="charliteral">'I'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'i'</span>       ,<span class="charliteral">'I'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a82">WCH_NI</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a82">WCH_NI</a>  },
00223     {<span class="charliteral">'J'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'j'</span>       ,<span class="charliteral">'J'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a91">WCH_MA</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a91">WCH_MA</a>  },
00224     {<span class="charliteral">'K'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'k'</span>       ,<span class="charliteral">'K'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a85">WCH_NO</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a85">WCH_NO</a>  },
00225     {<span class="charliteral">'L'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'l'</span>       ,<span class="charliteral">'L'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a100">WCH_RI</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a100">WCH_RI</a>  },
00226     {<span class="charliteral">'M'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'m'</span>       ,<span class="charliteral">'M'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a95">WCH_MO</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a95">WCH_MO</a>  },
00227     {<span class="charliteral">'N'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'n'</span>       ,<span class="charliteral">'N'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a92">WCH_MI</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a92">WCH_MI</a>  },
00228     {<span class="charliteral">'O'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'o'</span>       ,<span class="charliteral">'O'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a99">WCH_RA</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a99">WCH_RA</a>  },
00229     {<span class="charliteral">'P'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'p'</span>       ,<span class="charliteral">'P'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a74">WCH_SE</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a74">WCH_SE</a>  },
00230     {<span class="charliteral">'Q'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'q'</span>       ,<span class="charliteral">'Q'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a76">WCH_TA</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a76">WCH_TA</a>  },
00231     {<span class="charliteral">'R'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'r'</span>       ,<span class="charliteral">'R'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a73">WCH_SU</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a73">WCH_SU</a>  },
00232     {<span class="charliteral">'S'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'s'</span>       ,<span class="charliteral">'S'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a80">WCH_TO</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a80">WCH_TO</a>  },
00233     {<span class="charliteral">'T'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'t'</span>       ,<span class="charliteral">'T'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a66">WCH_KA</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a66">WCH_KA</a>  },
00234     {<span class="charliteral">'U'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'u'</span>       ,<span class="charliteral">'U'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a81">WCH_NA</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a81">WCH_NA</a>  },
00235     {<span class="charliteral">'V'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'v'</span>       ,<span class="charliteral">'V'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a87">WCH_HI</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a87">WCH_HI</a>  },
00236     {<span class="charliteral">'W'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'w'</span>       ,<span class="charliteral">'W'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a79">WCH_TE</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a79">WCH_TE</a>  },
00237     {<span class="charliteral">'X'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'x'</span>       ,<span class="charliteral">'X'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a71">WCH_SA</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a71">WCH_SA</a>  },
00238     {<span class="charliteral">'Y'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'y'</span>       ,<span class="charliteral">'Y'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a105">WCH_NN</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a105">WCH_NN</a>  },
00239     {<span class="charliteral">'Z'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'z'</span>       ,<span class="charliteral">'Z'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a78">WCH_TU</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a59">WCH_TUU</a> },
00240     {VK_OEM_1     ,          KANALOK ,<span class="charliteral">':'</span>       ,<span class="charliteral">'*'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a69">WCH_KE</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a69">WCH_KE</a>  },
00241     {VK_OEM_2     ,          KANALOK ,<span class="charliteral">'/'</span>       ,<span class="charliteral">'?'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a94">WCH_ME</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a49">WCH_MD</a>  },
00242     {VK_OEM_3     ,          KANALOK ,<span class="charliteral">'@'</span>       ,<span class="charliteral">'`'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a106">WCH_VS</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a106">WCH_VS</a>  },
00243     {VK_OEM_7     ,          KANALOK ,<span class="charliteral">'^'</span>       ,<span class="charliteral">'~'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a89">WCH_HE</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a89">WCH_HE</a>  },
00244     {VK_OEM_8     , 0                ,<span class="charliteral">','</span>       ,<span class="charliteral">','</span>       ,<span class="charliteral">','</span>     ,<span class="charliteral">','</span>     },
00245     {VK_OEM_COMMA ,          KANALOK ,<span class="charliteral">','</span>       ,<span class="charliteral">'&lt;'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a84">WCH_NE</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a48">WCH_IC</a>  },
00246     {VK_OEM_PERIOD,          KANALOK ,<span class="charliteral">'.'</span>       ,<span class="charliteral">'&gt;'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a101">WCH_RU</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a45">WCH_IP</a>  },
00247     {VK_OEM_PLUS  ,          KANALOK ,<span class="charliteral">';'</span>       ,<span class="charliteral">'+'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a102">WCH_RE</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a102">WCH_RE</a>  },
00248     {VK_TAB       , 0                ,<span class="charliteral">'\t'</span>      ,<span class="charliteral">'\t'</span>      ,<span class="charliteral">'\t'</span>    ,<span class="charliteral">'\t'</span>    },
00249     {VK_ADD       , 0                ,<span class="charliteral">'+'</span>       ,<span class="charliteral">'+'</span>       ,<span class="charliteral">'+'</span>     ,<span class="charliteral">'+'</span>     },
00250     {VK_DECIMAL   , 0                ,<span class="charliteral">'.'</span>       ,<span class="charliteral">'.'</span>       ,<span class="charliteral">'.'</span>     ,<span class="charliteral">'.'</span>     },
00251     {VK_DIVIDE    , 0                ,<span class="charliteral">'/'</span>       ,<span class="charliteral">'/'</span>       ,<span class="charliteral">'/'</span>     ,<span class="charliteral">'/'</span>     },
00252     {VK_MULTIPLY  , 0                ,<span class="charliteral">'*'</span>       ,<span class="charliteral">'*'</span>       ,<span class="charliteral">'*'</span>     ,<span class="charliteral">'*'</span>     },
00253     {VK_SUBTRACT  , 0                ,<span class="charliteral">'-'</span>       ,<span class="charliteral">'-'</span>       ,<span class="charliteral">'-'</span>     ,<span class="charliteral">'-'</span>     },
00254     {0            , 0                ,0         ,0         ,0       ,0       }
00255 };
00256 
<a name="l00257"></a><a class="code" href="../../d2/d1/kbdibm02_8c.html#a7">00257</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> VK_TO_WCHARS6 <a class="code" href="../../d2/d1/kbdibm02_8c.html#a7">aVkToWch6</a>[] = {
00258     <span class="comment">//                      |          |   SHIFT  |  KANA  | K+SHFT |  CONTROL  |  K+CTRL   |</span>
00259     <span class="comment">//                      |          |==========|========|========|===========|===========|</span>
00260     {VK_BACK      , 0       ,<span class="charliteral">'\b'</span>      ,<span class="charliteral">'\b'</span>      ,<span class="charliteral">'\b'</span>    ,<span class="charliteral">'\b'</span>    , 0x7f      , 0x7f      },
00261     {VK_CANCEL    , 0       ,0x03      ,0x03      ,0x03    ,0x03    , 0x03      , 0x03      },
00262     {VK_ESCAPE    , 0       ,0x1b      ,0x1b      ,0x1b    ,0x1b    , 0x1b      , 0x1b      },
00263     {VK_OEM_4     , KANALOK ,<span class="charliteral">'['</span>       ,<span class="charliteral">'{'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a107">WCH_SVS</a> ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a46">WCH_OB</a>  , 0x1b      , 0x1b      },
00264     {VK_OEM_5     , KANALOK ,<span class="charliteral">'\\'</span>      ,<span class="charliteral">'|'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a60">WCH_PS</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a60">WCH_PS</a>  , 0x1c      , 0x1c      },
00265     {VK_OEM_102   , KANALOK ,<span class="charliteral">'\\'</span>      ,<span class="charliteral">'_'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a103">WCH_RO</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a103">WCH_RO</a>  , 0x1c      , 0x1c      },
00266     {VK_OEM_6     , KANALOK ,<span class="charliteral">']'</span>       ,<span class="charliteral">'}'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a93">WCH_MU</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a47">WCH_CB</a>  , 0x1d      , 0x1d      },
00267     {VK_RETURN    , 0       ,<span class="charliteral">'\r'</span>      ,<span class="charliteral">'\r'</span>      ,<span class="charliteral">'\r'</span>    ,<span class="charliteral">'\r'</span>    , <span class="charliteral">'\n'</span>      , <span class="charliteral">'\n'</span>      },
00268     {VK_SPACE     , 0       ,<span class="charliteral">' '</span>       ,<span class="charliteral">' '</span>       ,<span class="charliteral">' '</span>     ,<span class="charliteral">' '</span>     , 0x20      , 0x20      },
00269     {0            , 0       ,0         ,0         ,0       ,0       , 0         , 0         }
00270 };
00271 
<a name="l00272"></a><a class="code" href="../../d2/d1/kbdibm02_8c.html#a8">00272</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> VK_TO_WCHARS8 <a class="code" href="../../d2/d1/kbdibm02_8c.html#a8">aVkToWch8</a>[] = {
00273     <span class="comment">//                      |          |   SHIFT  |  KANA  | K+SHFT |  CONTROL  |  K+CTRL   | SHFT+CTRL |K+SHFT+CTRL|</span>
00274     <span class="comment">//                      |          |==========|========|========|===========|===========|===========|===========|</span>
00275     {<span class="charliteral">'2'</span>          , KANALOK ,<span class="charliteral">'2'</span>       ,<span class="charliteral">'"'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a88">WCH_HU</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a88">WCH_HU</a>  , WCH_NONE  , WCH_NONE  , 0x00      , 0x00      },
00276     {<span class="charliteral">'6'</span>          , KANALOK ,<span class="charliteral">'6'</span>       ,<span class="charliteral">'&amp;'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a65">WCH_O</a>   ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a55">WCH_OO</a>  , WCH_NONE  , WCH_NONE  , 0x1e      , 0x1e      },
00277     {VK_OEM_MINUS , KANALOK ,<span class="charliteral">'-'</span>       ,<span class="charliteral">'='</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a90">WCH_HO</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a90">WCH_HO</a>  , WCH_NONE  , WCH_NONE  , 0x1f      , 0x1f      },
00278     {0            , 0       ,0         ,0         ,0       ,0       , 0         , 0         , 0         , 0         }
00279 };
00280 
00281 <span class="comment">// Put this last so that VkKeyScan interprets number characters</span>
00282 <span class="comment">// as coming from the main section of the kbd (aVkToWch2 and</span>
00283 <span class="comment">// aVkToWch4) before considering the numpad (aVkToWch1).</span>
00284 
<a name="l00285"></a><a class="code" href="../../d2/d1/kbdibm02_8c.html#a9">00285</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> VK_TO_WCHARS4 <a class="code" href="../../d2/d1/kbdibm02_8c.html#a9">aVkToWch1</a>[] = {
00286     <span class="comment">//                     |          |   SHIFT  |  KANA  | K+SHFT |</span>
00287     <span class="comment">//                     |          |==========|========|========|</span>
00288     { VK_NUMPAD0   , 0      ,  <span class="charliteral">'0'</span>    , WCH_NONE ,   <span class="charliteral">'0'</span>  ,WCH_NONE},
00289     { VK_NUMPAD1   , 0      ,  <span class="charliteral">'1'</span>    , WCH_NONE ,   <span class="charliteral">'1'</span>  ,WCH_NONE},
00290     { VK_NUMPAD2   , 0      ,  <span class="charliteral">'2'</span>    , WCH_NONE ,   <span class="charliteral">'2'</span>  ,WCH_NONE},
00291     { VK_NUMPAD3   , 0      ,  <span class="charliteral">'3'</span>    , WCH_NONE ,   <span class="charliteral">'3'</span>  ,WCH_NONE},
00292     { VK_NUMPAD4   , 0      ,  <span class="charliteral">'4'</span>    , WCH_NONE ,   <span class="charliteral">'4'</span>  ,WCH_NONE},
00293     { VK_NUMPAD5   , 0      ,  <span class="charliteral">'5'</span>    , WCH_NONE ,   <span class="charliteral">'5'</span>  ,WCH_NONE},
00294     { VK_NUMPAD6   , 0      ,  <span class="charliteral">'6'</span>    , WCH_NONE ,   <span class="charliteral">'6'</span>  ,WCH_NONE},
00295     { VK_NUMPAD7   , 0      ,  <span class="charliteral">'7'</span>    , WCH_NONE ,   <span class="charliteral">'7'</span>  ,WCH_NONE},
00296     { VK_NUMPAD8   , 0      ,  <span class="charliteral">'8'</span>    , WCH_NONE ,   <span class="charliteral">'8'</span>  ,WCH_NONE},
00297     { VK_NUMPAD9   , 0      ,  <span class="charliteral">'9'</span>    , WCH_NONE ,   <span class="charliteral">'9'</span>  ,WCH_NONE},
00298     { 0            , 0      ,  <span class="charliteral">'\0'</span>   , 0        ,   0    ,0       }   <span class="comment">//null terminator</span>
00299 };
00300 
00301 <span class="comment">/***************************************************************************\</span>
00302 <span class="comment">* aVkToWcharTable: table of pointers to Character Tables</span>
00303 <span class="comment">*</span>
00304 <span class="comment">* Describes the character tables and the order they should be searched.</span>
00305 <span class="comment">*</span>
00306 <span class="comment">* Note: the order determines the behavior of VkKeyScan() : this function</span>
00307 <span class="comment">*       takes a character and attempts to find a Virtual Key and character-</span>
00308 <span class="comment">*       modifier key combination that produces that character.  The table</span>
00309 <span class="comment">*       containing the numeric keypad (aVkToWch1) must appear last so that</span>
00310 <span class="comment">*       VkKeyScan('0') will be interpreted as one of keys from the main</span>
00311 <span class="comment">*       section, not the numpad.  etc.</span>
00312 <span class="comment">\***************************************************************************/</span>
00313 
<a name="l00314"></a><a class="code" href="../../d2/d1/kbdibm02_8c.html#a10">00314</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> VK_TO_WCHAR_TABLE <a class="code" href="../../d2/d1/kbdibm02_8c.html#a10">aVkToWcharTable</a>[] = {
00315     {  (PVK_TO_WCHARS1)<a class="code" href="../../d2/d1/kbdibm02_8c.html#a7">aVkToWch6</a>, 6, <span class="keyword">sizeof</span>(<a class="code" href="../../d2/d1/kbdibm02_8c.html#a7">aVkToWch6</a>[0]) },
00316     {  (PVK_TO_WCHARS1)<a class="code" href="../../d2/d1/kbdibm02_8c.html#a8">aVkToWch8</a>, 8, <span class="keyword">sizeof</span>(<a class="code" href="../../d2/d1/kbdibm02_8c.html#a8">aVkToWch8</a>[0]) },
00317     {  (PVK_TO_WCHARS1)<a class="code" href="../../d2/d1/kbdibm02_8c.html#a6">aVkToWch4</a>, 4, <span class="keyword">sizeof</span>(<a class="code" href="../../d2/d1/kbdibm02_8c.html#a6">aVkToWch4</a>[0]) },
00318     {  (PVK_TO_WCHARS1)<a class="code" href="../../d2/d1/kbdibm02_8c.html#a9">aVkToWch1</a>, 4, <span class="keyword">sizeof</span>(<a class="code" href="../../d2/d1/kbdibm02_8c.html#a9">aVkToWch1</a>[0]) },  <span class="comment">// must come last</span>
00319     {                       <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, 0, 0                    }
00320 };
00321 
00322 <span class="comment">/***************************************************************************\</span>
00323 <span class="comment">* aKeyNames[], aKeyNamesExt[]  - Scan Code -&gt; Key Name tables</span>
00324 <span class="comment">*</span>
00325 <span class="comment">* For the GetKeyNameText() API function</span>
00326 <span class="comment">*</span>
00327 <span class="comment">* Tables for non-extended and extended (KBDEXT) keys.</span>
00328 <span class="comment">* (Keys producing printable characters are named by the character itself)</span>
00329 <span class="comment">\***************************************************************************/</span>
00330 
<a name="l00331"></a><a class="code" href="../../d2/d1/kbdibm02_8c.html#a11">00331</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> VSC_LPWSTR <a class="code" href="../../d2/d1/kbdibm02_8c.html#a11">aKeyNames</a>[] = {
00332     0x01,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Esc"</span>,
00333     0x0e,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Backspace"</span>,
00334     0x0f,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Tab"</span>,
00335     0x1c,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Enter"</span>,
00336     0x1d,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Ctrl"</span>,
00337     0x2a,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Shift"</span>,
00338     0x36,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Right Shift"</span>,
00339     0x37,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num *"</span>,
00340     0x38,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Alt"</span>,
00341     0x39,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Space"</span>,
00342     0x3a,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Caps Lock"</span>,
00343     0x3b,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"F1"</span>,
00344     0x3c,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"F2"</span>,
00345     0x3d,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"F3"</span>,
00346     0x3e,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"F4"</span>,
00347     0x3f,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"F5"</span>,
00348     0x40,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"F6"</span>,
00349     0x41,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"F7"</span>,
00350     0x42,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"F8"</span>,
00351     0x43,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"F9"</span>,
00352     0x44,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"F10"</span>,
00353     0x45,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Pause"</span>,
00354     0x46,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Scroll Lock"</span>,
00355     0x47,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num 7"</span>,
00356     0x48,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num 8"</span>,
00357     0x49,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num 9"</span>,
00358     0x4a,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num -"</span>,
00359     0x4b,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num 4"</span>,
00360     0x4c,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num 5"</span>,
00361     0x4d,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num 6"</span>,
00362     0x4e,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num +"</span>,
00363     0x4f,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num 1"</span>,
00364     0x50,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num 2"</span>,
00365     0x51,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num 3"</span>,
00366     0x52,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num 0"</span>,
00367     0x53,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num Del"</span>,
00368     0x54,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Sys Req"</span>,
00369     0x57,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"F11"</span>,
00370     0x58,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"F12"</span>,
00371     0x70,    (LPWSTR)<a class="code" href="../../d7/d1/kbdjpn_8h.html#a5">SZ_KEY_NAME_KATAKANA</a>,        <span class="comment">// NLS Key</span>
00372     0x77,    (LPWSTR)<a class="code" href="../../d7/d1/kbdjpn_8h.html#a4">SZ_KEY_NAME_HANKAKU_ZENKAKU</a>, <span class="comment">// NLS Key</span>
00373     0x79,    (LPWSTR)<a class="code" href="../../d7/d1/kbdjpn_8h.html#a0">SZ_KEY_NAME_HENKAN</a>,          <span class="comment">// NLS Key</span>
00374     0x7b,    (LPWSTR)<a class="code" href="../../d7/d1/kbdjpn_8h.html#a1">SZ_KEY_NAME_MUHENKAN</a>,        <span class="comment">// NLS Key</span>
00375     0   ,    <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>
00376 };
00377 
<a name="l00378"></a><a class="code" href="../../d2/d1/kbdibm02_8c.html#a12">00378</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> VSC_LPWSTR <a class="code" href="../../d2/d1/kbdibm02_8c.html#a12">aKeyNamesExt</a>[] = {
00379     0x1c,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num Enter"</span>,
00380     0x1d,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Right Control"</span>,
00381     0x35,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num /"</span>,
00382     0x37,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Prnt Scrn"</span>,
00383     0x38,    (LPWSTR)<a class="code" href="../../d7/d1/kbdjpn_8h.html#a6">SZ_KEY_NAME_HIRAGANA</a>,        <span class="comment">// NLS Key</span>
00384     0x45,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num Lock"</span>,
00385     0x46,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Break"</span>,
00386     0x47,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Home"</span>,
00387     0x48,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Up"</span>,
00388     0x49,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Page Up"</span>,
00389     0x4b,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Left"</span>,
00390     0x4d,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Right"</span>,
00391     0x4f,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"End"</span>,
00392     0x50,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Down"</span>,
00393     0x51,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Page Down"</span>,
00394     0x52,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Insert"</span>,
00395     0x53,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Delete"</span>,
00396     0x54,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"&lt;00&gt;"</span>,
00397     0x56,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Help"</span>,
00398     0x5B,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Left Windows"</span>,
00399     0x5C,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Right Windows"</span>,
00400     0x5D,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Application"</span>,
00401     0   ,    <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>
00402 };
00403 
<a name="l00404"></a><a class="code" href="../../d2/d1/kbdibm02_8c.html#a13">00404</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> KBDTABLES <a class="code" href="../../d2/d1/kbdibm02_8c.html#a13">KbdTables</a> = {
00405     <span class="comment">/*</span>
00406 <span class="comment">     * Modifier keys</span>
00407 <span class="comment">     */</span>
00408     &amp;<a class="code" href="../../d2/d1/kbdibm02_8c.html#a5">CharModifiers</a>,
00409 
00410     <span class="comment">/*</span>
00411 <span class="comment">     * Characters tables</span>
00412 <span class="comment">     */</span>
00413     <a class="code" href="../../d2/d1/kbdibm02_8c.html#a10">aVkToWcharTable</a>,
00414 
00415     <span class="comment">/*</span>
00416 <span class="comment">     * Diacritics  (none for US English)</span>
00417 <span class="comment">     */</span>
00418     <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
00419 
00420     <span class="comment">/*</span>
00421 <span class="comment">     * Names of Keys  (no dead keys)</span>
00422 <span class="comment">     */</span>
00423     <a class="code" href="../../d2/d1/kbdibm02_8c.html#a11">aKeyNames</a>,
00424     <a class="code" href="../../d2/d1/kbdibm02_8c.html#a12">aKeyNamesExt</a>,
00425     <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
00426 
00427     <span class="comment">/*</span>
00428 <span class="comment">     * Scan codes to Virtual Keys</span>
00429 <span class="comment">     */</span>
00430     <a class="code" href="../../d2/d1/kbdibm02_8c.html#a1">ausVK</a>,
00431     <span class="keyword">sizeof</span>(<a class="code" href="../../d2/d1/kbdibm02_8c.html#a1">ausVK</a>) / <span class="keyword">sizeof</span>(<a class="code" href="../../d2/d1/kbdibm02_8c.html#a1">ausVK</a>[0]),
00432     <a class="code" href="../../d2/d1/kbdibm02_8c.html#a2">aE0VscToVk</a>,
00433     <a class="code" href="../../d2/d1/kbdibm02_8c.html#a3">aE1VscToVk</a>,
00434 
00435     <span class="comment">/*</span>
00436 <span class="comment">     * No Locale-specific special processing</span>
00437 <span class="comment">     */</span>
00438     0
00439 };
00440 
<a name="l00441"></a><a class="code" href="../../d2/d1/kbdibm02_8c.html#a16">00441</a> PKBDTABLES <a class="code" href="../../d0/d0/kbd103_8c.html#a16">KbdLayerDescriptor</a>(VOID)
00442 {
00443     <span class="keywordflow">return</span> &amp;<a class="code" href="../../d2/d1/kbdibm02_8c.html#a13">KbdTables</a>;
00444 }
00445 
00446 <span class="comment">/***********************************************************************\</span>
00447 <span class="comment">* VkToFuncTable_101[]</span>
00448 <span class="comment">*</span>
00449 <span class="comment">\***********************************************************************/</span>
00450 
<a name="l00451"></a><a class="code" href="../../d2/d1/kbdibm02_8c.html#a14">00451</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> VK_F <a class="code" href="../../d2/d1/kbdibm02_8c.html#a14">VkToFuncTable_IBM002</a>[] = {
00452     {
00453         VK_DBE_KATAKANA,            <span class="comment">// Base Vk</span>
00454         KBDNLS_TYPE_TOGGLE,         <span class="comment">// NLSFEProcType</span>
00455         KBDNLS_INDEX_NORMAL,        <span class="comment">// NLSFEProcCurrent</span>
00456         0x04, <span class="comment">/* 00000100 */</span>        <span class="comment">// NLSFEProcSwitch</span>
00457         {                           <span class="comment">// NLSFEProc</span>
00458             {KBDNLS_KATAKANA,0},             <span class="comment">// Base</span>
00459             {KBDNLS_SEND_PARAM_VK,VK_KANJI}, <span class="comment">// Shift</span>
00460             {KBDNLS_SEND_PARAM_VK,VK_KANA},  <span class="comment">// Control</span>
00461             {KBDNLS_NOEVENT,0},              <span class="comment">// Shift+Control</span>
00462             {KBDNLS_CODEINPUT,0},            <span class="comment">// Alt</span>
00463             {KBDNLS_CODEINPUT,0},            <span class="comment">// Shift+Alt</span>
00464             {KBDNLS_CODEINPUT,0},            <span class="comment">// Control+Alt</span>
00465             {KBDNLS_CODEINPUT,0}             <span class="comment">// Shift+Control+Alt</span>
00466         },
00467         {                           <span class="comment">// NLSFEProcAlt</span>
00468             {KBDNLS_SEND_PARAM_VK,VK_KANA},  <span class="comment">// Base</span>
00469             {KBDNLS_NOEVENT,0},              <span class="comment">// Shift</span>
00470             {KBDNLS_SEND_PARAM_VK,VK_KANA},  <span class="comment">// Control</span>
00471             {KBDNLS_NOEVENT,0},              <span class="comment">// Shift+Control</span>
00472             {KBDNLS_NOEVENT,0},              <span class="comment">// Alt</span>
00473             {KBDNLS_NOEVENT,0},              <span class="comment">// Shift+Alt</span>
00474             {KBDNLS_NOEVENT,0},              <span class="comment">// Control+Alt</span>
00475             {KBDNLS_NOEVENT,0}               <span class="comment">// Shift+Control+Alt</span>
00476         }
00477     },
00478     {
00479         VK_DBE_ALPHANUMERIC,     <span class="comment">// Base Vk</span>
00480         KBDNLS_TYPE_TOGGLE,      <span class="comment">// NLSFEProcType</span>
00481         KBDNLS_INDEX_NORMAL,     <span class="comment">// NLSFEProcCurrent</span>
00482         0xFE, <span class="comment">/* 11111110 */</span>     <span class="comment">// NLSFEProcSwitch</span>
00483         {                        <span class="comment">// NLSFEProc</span>
00484             {KBDNLS_ALPHANUM,0},               <span class="comment">// Base</span>
00485             {KBDNLS_SEND_PARAM_VK,VK_CAPITAL}, <span class="comment">// Shift</span>
00486             {KBDNLS_SEND_PARAM_VK,VK_CAPITAL}, <span class="comment">// Control</span>
00487             {KBDNLS_SEND_PARAM_VK,VK_CAPITAL}, <span class="comment">// Shift+Control</span>
00488             {KBDNLS_SEND_PARAM_VK,VK_CAPITAL}, <span class="comment">// Alt</span>
00489             {KBDNLS_SEND_PARAM_VK,VK_CAPITAL}, <span class="comment">// Shift+Alt</span>
00490             {KBDNLS_SEND_PARAM_VK,VK_CAPITAL}, <span class="comment">// Control+Alt</span>
00491             {KBDNLS_SEND_PARAM_VK,VK_CAPITAL}  <span class="comment">// Shift+Control+Alt</span>
00492         },
00493         {                    <span class="comment">// NLSFEProcIndexAlt</span>
00494             {KBDNLS_SEND_PARAM_VK,VK_CAPITAL}, <span class="comment">// Base</span>
00495             {KBDNLS_SEND_PARAM_VK,VK_CAPITAL}, <span class="comment">// Shift</span>
00496             {KBDNLS_SEND_PARAM_VK,VK_CAPITAL}, <span class="comment">// Control</span>
00497             {KBDNLS_SEND_PARAM_VK,VK_CAPITAL}, <span class="comment">// Shift+Control</span>
00498             {KBDNLS_SEND_PARAM_VK,VK_CAPITAL}, <span class="comment">// Alt</span>
00499             {KBDNLS_SEND_PARAM_VK,VK_CAPITAL}, <span class="comment">// Shift+Alt</span>
00500             {KBDNLS_SEND_PARAM_VK,VK_CAPITAL}, <span class="comment">// Control+Alt</span>
00501             {KBDNLS_SEND_PARAM_VK,VK_CAPITAL}  <span class="comment">// Shift+Control+Alt</span>
00502         }
00503     },
00504     {
00505         VK_DBE_HIRAGANA,         <span class="comment">// Base Vk</span>
00506         KBDNLS_TYPE_NORMAL,      <span class="comment">// NLSFEProcType</span>
00507         KBDNLS_INDEX_NORMAL,     <span class="comment">// NLSFEProcCurrent</span>
00508         0,                       <span class="comment">// NLSFEProcSwitch</span>
00509         {                        <span class="comment">// NLSFEProc</span>
00510             {KBDNLS_HIRAGANA,0}, <span class="comment">// Base</span>
00511             {KBDNLS_HIRAGANA,0}, <span class="comment">// Shift</span>
00512             {KBDNLS_HIRAGANA,0}, <span class="comment">// Control</span>
00513             {KBDNLS_HIRAGANA,0}, <span class="comment">// Shift+Control</span>
00514             {KBDNLS_ROMAN,0},    <span class="comment">// Alt</span>
00515             {KBDNLS_ROMAN,0},    <span class="comment">// Shift+Alt</span>
00516             {KBDNLS_ROMAN,0},    <span class="comment">// Control+Alt</span>
00517             {KBDNLS_ROMAN,0}     <span class="comment">// Shift+Control+Alt</span>
00518         },
00519         {                    <span class="comment">// NLSFEProcIndexAlt</span>
00520             {KBDNLS_NULL,0},     <span class="comment">// Base</span>
00521             {KBDNLS_NULL,0},     <span class="comment">// Shift</span>
00522             {KBDNLS_NULL,0},     <span class="comment">// Control</span>
00523             {KBDNLS_NULL,0},     <span class="comment">// Shift+Control</span>
00524             {KBDNLS_NULL,0},     <span class="comment">// Alt</span>
00525             {KBDNLS_NULL,0},     <span class="comment">// Shift+Alt</span>
00526             {KBDNLS_NULL,0},     <span class="comment">// Control+Alt</span>
00527             {KBDNLS_NULL,0}      <span class="comment">// Shift+Control+Alt</span>
00528         }
00529     },
00530     {
00531         VK_DBE_SBCSCHAR,         <span class="comment">// Base Vk</span>
00532         KBDNLS_TYPE_NORMAL,      <span class="comment">// NLSFEProcType</span>
00533         KBDNLS_INDEX_NORMAL,     <span class="comment">// NLSFEProcCurrent</span>
00534         0,                       <span class="comment">// NLSFEProcSwitch</span>
00535         {                        <span class="comment">// NLSFEProc</span>
00536             {KBDNLS_SBCSDBCS,0}, <span class="comment">// Base</span>
00537             {KBDNLS_SBCSDBCS,0}, <span class="comment">// Shift</span>
00538             {KBDNLS_SBCSDBCS,0}, <span class="comment">// Control</span>
00539             {KBDNLS_SBCSDBCS,0}, <span class="comment">// Shift+Control</span>
00540             {KBDNLS_NOEVENT,0},    <span class="comment">// Alt</span>
00541             {KBDNLS_NOEVENT,0},    <span class="comment">// Shift+Alt</span>
00542             {KBDNLS_SEND_PARAM_VK,VK_DBE_ENTERIMECONFIGMODE}, <span class="comment">// Control+Alt</span>
00543             {KBDNLS_SEND_PARAM_VK,VK_DBE_ENTERIMECONFIGMODE}  <span class="comment">// Shift+Control+Alt</span>
00544         },
00545         {                    <span class="comment">// NLSFEProcIndexAlt</span>
00546             {KBDNLS_NULL,0},     <span class="comment">// Base</span>
00547             {KBDNLS_NULL,0},     <span class="comment">// Shift</span>
00548             {KBDNLS_NULL,0},     <span class="comment">// Control</span>
00549             {KBDNLS_NULL,0},     <span class="comment">// Shift+Control</span>
00550             {KBDNLS_NULL,0},     <span class="comment">// Alt</span>
00551             {KBDNLS_NULL,0},     <span class="comment">// Shift+Alt</span>
00552             {KBDNLS_NULL,0},     <span class="comment">// Control+Alt</span>
00553             {KBDNLS_NULL,0}      <span class="comment">// Shift+Control+Alt</span>
00554         }
00555     },
00556     {
00557         VK_NONCONVERT,           <span class="comment">// Base Vk</span>
00558         KBDNLS_TYPE_NORMAL,      <span class="comment">// NLSFEProcType</span>
00559         KBDNLS_INDEX_NORMAL,     <span class="comment">// NLSFEProcCurrent</span>
00560         0,                       <span class="comment">// NLSFEProcSwitch</span>
00561         {                        <span class="comment">// NLSFEProc</span>
00562             {KBDNLS_SEND_BASE_VK,0}, <span class="comment">// Base</span>
00563             {KBDNLS_NOEVENT,0},      <span class="comment">// Shift</span>
00564             {KBDNLS_NOEVENT,0},      <span class="comment">// Control</span>
00565             {KBDNLS_NOEVENT,0},      <span class="comment">// Shift+Control</span>
00566             {KBDNLS_NOEVENT,0},      <span class="comment">// Alt</span>
00567             {KBDNLS_NOEVENT,0},      <span class="comment">// Shift+Alt</span>
00568             {KBDNLS_SEND_PARAM_VK,VK_DBE_ENTERWORDREGISTERMODE}, <span class="comment">// Control+Alt</span>
00569             {KBDNLS_SEND_PARAM_VK,VK_DBE_ENTERWORDREGISTERMODE}  <span class="comment">// Shift+Control+Alt</span>
00570         },
00571         {                    <span class="comment">// NLSFEProcIndexAlt</span>
00572             {KBDNLS_NULL,0},     <span class="comment">// Base</span>
00573             {KBDNLS_NULL,0},     <span class="comment">// Shift</span>
00574             {KBDNLS_NULL,0},     <span class="comment">// Control</span>
00575             {KBDNLS_NULL,0},     <span class="comment">// Shift+Control</span>
00576             {KBDNLS_NULL,0},     <span class="comment">// Alt</span>
00577             {KBDNLS_NULL,0},     <span class="comment">// Shift+Alt</span>
00578             {KBDNLS_NULL,0},     <span class="comment">// Control+Alt</span>
00579             {KBDNLS_NULL,0}      <span class="comment">// Shift+Control+Alt</span>
00580         }
00581     }
00582 };
00583 
00584 <span class="comment">/***********************************************************************\</span>
00585 <span class="comment">* KbdNlsTables</span>
00586 <span class="comment">*</span>
00587 <span class="comment">\***********************************************************************/</span>
00588 
<a name="l00589"></a><a class="code" href="../../d2/d1/kbdibm02_8c.html#a15">00589</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> KBDNLSTABLES <a class="code" href="../../d2/d1/kbdibm02_8c.html#a15">KbdNlsTables</a> = {
00590     0,                      <span class="comment">// OEM ID (0 = Microsoft)</span>
00591     0,                      <span class="comment">// Information</span>
00592     5,                      <span class="comment">// Number of VK_F entry</span>
00593     <a class="code" href="../../d2/d1/kbdibm02_8c.html#a14">VkToFuncTable_IBM002</a>,   <span class="comment">// Pointer to VK_F array</span>
00594     0,                      <span class="comment">// Pointer to MouseVk entry</span>
00595     <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>                    <span class="comment">// Pointer to MouseVk array</span>
00596 };
00597 
<a name="l00598"></a><a class="code" href="../../d2/d1/kbdibm02_8c.html#a17">00598</a> PKBDNLSTABLES <a class="code" href="../../d0/d0/kbd103_8c.html#a17">KbdNlsLayerDescriptor</a>(VOID)
00599 {
00600     <span class="keywordflow">return</span> &amp;<a class="code" href="../../d2/d1/kbdibm02_8c.html#a15">KbdNlsTables</a>;
00601 }
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:40:32 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
