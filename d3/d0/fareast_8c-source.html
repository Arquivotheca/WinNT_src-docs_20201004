<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: fareast.c Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>fareast.c</h1><a href="../../d2/d1/fareast_8c.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">/**************************************************************************\</span>
00002 <span class="comment">* Module Name: fareast.c</span>
00003 <span class="comment">*</span>
00004 <span class="comment">* Win32 IMM/IME API functions</span>
00005 <span class="comment">*</span>
00006 <span class="comment">* Copyright (c) 1985 - 1999, Microsoft Corporation</span>
00007 <span class="comment">*</span>
00008 <span class="comment">* History:</span>
00009 <span class="comment">* 07-May-1996 takaok    Created.</span>
00010 <span class="comment">\**************************************************************************/</span>
00011 
00012 <span class="preprocessor">#include "<a class="code" href="../../d7/d3/w32_2ntuser_2client_2precomp_8h.html">precomp.h</a>"</span>
00013 <span class="preprocessor">#pragma hdrstop</span>
00014 <span class="preprocessor"></span>
<a name="l00015"></a><a class="code" href="../../d2/d1/fareast_8c.html#a0">00015</a> <span class="preprocessor">#define COMMON_RETURN_ZERO  \</span>
00016 <span class="preprocessor">    return 0;</span>
00017 <span class="preprocessor"></span>
00019 <span class="comment">// Fake routines</span>
00021 <span class="comment"></span>
<a name="l00022"></a><a class="code" href="../../d2/d1/fareast_8c.html#a8">00022</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d2/d1/fareast_8c.html#a8">fakeImm_v1</a>(PVOID dummy)
00023 {
00024     UNREFERENCED_PARAMETER(<a class="code" href="../../d0/d2/config_2test_2init386_8c.html#a0">dummy</a>);
00025 }
00026 
<a name="l00027"></a><a class="code" href="../../d2/d1/fareast_8c.html#a9">00027</a> <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d2/d1/fareast_8c.html#a9">fakeImm_d1</a>(DWORD dummy)
00028 {
00029     UNREFERENCED_PARAMETER(<a class="code" href="../../d0/d2/config_2test_2init386_8c.html#a0">dummy</a>);
00030     <span class="keywordflow">return</span> 0;
00031 }
00032 
<a name="l00033"></a><a class="code" href="../../d2/d1/fareast_8c.html#a10">00033</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d2/d1/fareast_8c.html#a10">fakeImm_v2</a>(PVOID dummy1, PVOID dummy2)
00034 {
00035     UNREFERENCED_PARAMETER(dummy1);
00036     UNREFERENCED_PARAMETER(<a class="code" href="../../d4/d2/test_2initdat_8c.html#a0">dummy2</a>);
00037 }
00038 
<a name="l00039"></a><a class="code" href="../../d2/d1/fareast_8c.html#a11">00039</a> <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d2/d1/fareast_8c.html#a11">fakeImm_d2</a>(DWORD dummy1, DWORD dummy2)
00040 {
00041     UNREFERENCED_PARAMETER(dummy1);
00042     UNREFERENCED_PARAMETER(<a class="code" href="../../d4/d2/test_2initdat_8c.html#a0">dummy2</a>);
00043     <span class="keywordflow">return</span> 0;
00044 }
00045 
<a name="l00046"></a><a class="code" href="../../d2/d1/fareast_8c.html#a12">00046</a> <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d2/d1/fareast_8c.html#a12">fakeImm_d3</a>(DWORD dummy1, DWORD dummy2, DWORD dummy3)
00047 {
00048     UNREFERENCED_PARAMETER(dummy1);
00049     UNREFERENCED_PARAMETER(<a class="code" href="../../d4/d2/test_2initdat_8c.html#a0">dummy2</a>);
00050     UNREFERENCED_PARAMETER(dummy3);
00051     <span class="keywordflow">return</span> 0;
00052 }
00053 
<a name="l00054"></a><a class="code" href="../../d2/d1/fareast_8c.html#a13">00054</a> <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d2/d1/fareast_8c.html#a13">fakeImm_bwuwl</a>(HWND hwnd, UINT msg, WPARAM wParam, LPARAM lParam)
00055 {
00056     UNREFERENCED_PARAMETER(hwnd);
00057     UNREFERENCED_PARAMETER(<a class="code" href="../../d2/d1/userexts_8c.html#a129">msg</a>);
00058     UNREFERENCED_PARAMETER(wParam);
00059     UNREFERENCED_PARAMETER(lParam);
00060     <span class="keywordflow">return</span> 0;
00061 }
00062 
00063 
<a name="l00064"></a><a class="code" href="../../d2/d1/fareast_8c.html#a14">00064</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> WINAPI <a class="code" href="../../d2/d1/fareast_8c.html#a14">fakeImm_wv1</a>(PVOID dummy)
00065 {
00066     UNREFERENCED_PARAMETER(<a class="code" href="../../d0/d2/config_2test_2init386_8c.html#a0">dummy</a>);
00067 }
00068 
<a name="l00069"></a><a class="code" href="../../d2/d1/fareast_8c.html#a15">00069</a> <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> WINAPI <a class="code" href="../../d2/d1/fareast_8c.html#a15">fakeImm_wd1</a>(PVOID dummy)
00070 {
00071     UNREFERENCED_PARAMETER(<a class="code" href="../../d0/d2/config_2test_2init386_8c.html#a0">dummy</a>);
00072     <a class="code" href="../../d2/d1/fareast_8c.html#a0">COMMON_RETURN_ZERO</a>;
00073 }
00074 
<a name="l00075"></a><a class="code" href="../../d2/d1/fareast_8c.html#a16">00075</a> <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> WINAPI <a class="code" href="../../d2/d1/fareast_8c.html#a16">fakeImm_wd2</a>(PVOID dummy1, PVOID dummy2)
00076 {
00077     UNREFERENCED_PARAMETER(dummy1);
00078     UNREFERENCED_PARAMETER(<a class="code" href="../../d4/d2/test_2initdat_8c.html#a0">dummy2</a>);
00079     <a class="code" href="../../d2/d1/fareast_8c.html#a0">COMMON_RETURN_ZERO</a>;
00080 }
00081 
00082 <span class="comment">//</span>
00083 <span class="comment">// This stub returns true.</span>
00084 <span class="comment">//</span>
<a name="l00085"></a><a class="code" href="../../d2/d1/fareast_8c.html#a17">00085</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> WINAPI <a class="code" href="../../d2/d1/fareast_8c.html#a17">fakeImm_bd2</a>(PVOID dummy1, PVOID dummy2)
00086 {
00087     UNREFERENCED_PARAMETER(dummy1);
00088     UNREFERENCED_PARAMETER(<a class="code" href="../../d4/d2/test_2initdat_8c.html#a0">dummy2</a>);
00089     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00090 }
00091 
<a name="l00092"></a><a class="code" href="../../d2/d1/fareast_8c.html#a18">00092</a> <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> WINAPI <a class="code" href="../../d2/d1/fareast_8c.html#a18">fakeImm_wd3</a>(PVOID dummy1, PVOID dummy2, PVOID dummy3)
00093 {
00094     UNREFERENCED_PARAMETER(dummy1);
00095     UNREFERENCED_PARAMETER(<a class="code" href="../../d4/d2/test_2initdat_8c.html#a0">dummy2</a>);
00096     UNREFERENCED_PARAMETER(dummy3);
00097 
00098     <a class="code" href="../../d2/d1/fareast_8c.html#a0">COMMON_RETURN_ZERO</a>;
00099 }
00100 
<a name="l00101"></a><a class="code" href="../../d2/d1/fareast_8c.html#a19">00101</a> <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> WINAPI <a class="code" href="../../d2/d1/fareast_8c.html#a19">fakeImm_wd4</a>(PVOID dummy1, PVOID dummy2, PVOID dummy3, PVOID dummy4)
00102 {
00103     UNREFERENCED_PARAMETER(dummy1);
00104     UNREFERENCED_PARAMETER(<a class="code" href="../../d4/d2/test_2initdat_8c.html#a0">dummy2</a>);
00105     UNREFERENCED_PARAMETER(dummy3);
00106     UNREFERENCED_PARAMETER(dummy4);
00107 
00108     <a class="code" href="../../d2/d1/fareast_8c.html#a0">COMMON_RETURN_ZERO</a>;
00109 }
00110 
<a name="l00111"></a><a class="code" href="../../d2/d1/fareast_8c.html#a20">00111</a> <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> WINAPI <a class="code" href="../../d2/d1/fareast_8c.html#a20">fakeImm_wd5</a>(PVOID dummy1, PVOID dummy2, PVOID dummy3, PVOID dummy4, PVOID dummy5)
00112 {
00113     UNREFERENCED_PARAMETER(dummy1);
00114     UNREFERENCED_PARAMETER(<a class="code" href="../../d4/d2/test_2initdat_8c.html#a0">dummy2</a>);
00115     UNREFERENCED_PARAMETER(dummy3);
00116     UNREFERENCED_PARAMETER(dummy4);
00117     UNREFERENCED_PARAMETER(dummy5);
00118 
00119     <a class="code" href="../../d2/d1/fareast_8c.html#a0">COMMON_RETURN_ZERO</a>;
00120 }
00121 
<a name="l00122"></a><a class="code" href="../../d2/d1/fareast_8c.html#a21">00122</a> <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> WINAPI <a class="code" href="../../d2/d1/fareast_8c.html#a21">fakeImm_wd6</a>(PVOID dummy1, PVOID dummy2, PVOID dummy3, PVOID dummy4, PVOID dummy5, PVOID dummy6)
00123 {
00124     UNREFERENCED_PARAMETER(dummy1);
00125     UNREFERENCED_PARAMETER(<a class="code" href="../../d4/d2/test_2initdat_8c.html#a0">dummy2</a>);
00126     UNREFERENCED_PARAMETER(dummy3);
00127     UNREFERENCED_PARAMETER(dummy4);
00128     UNREFERENCED_PARAMETER(dummy5);
00129     UNREFERENCED_PARAMETER(dummy6);
00130 
00131     <a class="code" href="../../d2/d1/fareast_8c.html#a0">COMMON_RETURN_ZERO</a>;
00132 }
00133 
00134 
<a name="l00135"></a><a class="code" href="../../d2/d1/fareast_8c.html#a5">00135</a> <a class="code" href="../../d2/d7/structImmApiEntries.html">ImmApiEntries</a> <a class="code" href="../../d2/d1/fareast_8c.html#a5">gImmApiEntries</a> = {
00136     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*ImmWINNLSEnableIME*/</span>)(HWND, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>))     <a class="code" href="../../d2/d1/fareast_8c.html#a16">fakeImm_wd2</a>,
00137     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*ImmWINNLSGetEnableStatus*/</span>)(HWND))     <a class="code" href="../../d2/d1/fareast_8c.html#a15">fakeImm_wd1</a>,
00138     (LRESULT (WINAPI* <span class="comment">/*SendIMEMessageExW*/</span>)(HWND, LPARAM)) <a class="code" href="../../d2/d1/fareast_8c.html#a16">fakeImm_wd2</a>,
00139     (LRESULT (WINAPI* <span class="comment">/*SendIMEMessageExA*/</span>)(HWND, LPARAM)) <a class="code" href="../../d2/d1/fareast_8c.html#a16">fakeImm_wd2</a>,
00140     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*IMPGetIMEW*/</span>)(HWND, LPIMEPROW))        <a class="code" href="../../d2/d1/fareast_8c.html#a16">fakeImm_wd2</a>,
00141     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*IMPGetIMEA*/</span>)(HWND, LPIMEPROA))        <a class="code" href="../../d2/d1/fareast_8c.html#a16">fakeImm_wd2</a>,
00142     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*IMPQueryIMEW*/</span>)(LPIMEPROW))            <a class="code" href="../../d2/d1/fareast_8c.html#a15">fakeImm_wd1</a>,
00143     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*IMPQueryIMEA*/</span>)(LPIMEPROA))            <a class="code" href="../../d2/d1/fareast_8c.html#a15">fakeImm_wd1</a>,
00144     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*IMPSetIMEW*/</span>)(HWND, LPIMEPROW))        <a class="code" href="../../d2/d1/fareast_8c.html#a16">fakeImm_wd2</a>,
00145     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*IMPSetIMEA*/</span>)(HWND, LPIMEPROA))        <a class="code" href="../../d2/d1/fareast_8c.html#a16">fakeImm_wd2</a>,
00146 
00147     (HIMC (WINAPI* <span class="comment">/*ImmAssociateContext*/</span>)(HWND, HIMC))    <a class="code" href="../../d2/d1/fareast_8c.html#a16">fakeImm_wd2</a>,
00148     (LRESULT (WINAPI* <span class="comment">/*ImmEscapeA*/</span>)(HKL, HIMC, <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a5">LPVOID</a>)) <a class="code" href="../../d2/d1/fareast_8c.html#a19">fakeImm_wd4</a>,
00149     (LRESULT (WINAPI* <span class="comment">/*ImmEscapeW*/</span>)(HKL, HIMC, <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a5">LPVOID</a>)) <a class="code" href="../../d2/d1/fareast_8c.html#a19">fakeImm_wd4</a>,
00150     (LONG (WINAPI* <span class="comment">/*ImmGetCompositionStringA*/</span>)(HIMC, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a5">LPVOID</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)) <a class="code" href="../../d2/d1/fareast_8c.html#a19">fakeImm_wd4</a>,
00151     (LONG (WINAPI* <span class="comment">/*ImmGetCompositionStringW*/</span>)(HIMC, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a5">LPVOID</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)) <a class="code" href="../../d2/d1/fareast_8c.html#a19">fakeImm_wd4</a>,
00152     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*ImmGetCompositionWindow*/</span>)(HIMC, LPCOMPOSITIONFORM)) <a class="code" href="../../d2/d1/fareast_8c.html#a16">fakeImm_wd2</a>,
00153     (HIMC (WINAPI* <span class="comment">/*ImmGetContext*/</span>)(HWND))                <a class="code" href="../../d2/d1/fareast_8c.html#a15">fakeImm_wd1</a>,
00154     (HWND (WINAPI* <span class="comment">/*ImmGetDefaultIMEWnd*/</span>)(HWND))          <a class="code" href="../../d2/d1/fareast_8c.html#a15">fakeImm_wd1</a>,
00155     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*ImmIsIME*/</span>)(HKL))                      <a class="code" href="../../d2/d1/fareast_8c.html#a15">fakeImm_wd1</a>,
00156     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*ImmReleaseContext*/</span>)(HWND, HIMC))      <a class="code" href="../../d2/d1/fareast_8c.html#a16">fakeImm_wd2</a>,
00157     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (* <span class="comment">/*ImmRegisterClient*/</span>)(<a class="code" href="../../d4/d6/structtagSHAREDINFO.html">PSHAREDINFO</a>, HINSTANCE))           <a class="code" href="../../d2/d1/fareast_8c.html#a17">fakeImm_bd2</a>,
00158 
00159     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*ImmGetCompositionFontW*/</span>)(HIMC, LPLOGFONTW)) <a class="code" href="../../d2/d1/fareast_8c.html#a16">fakeImm_wd2</a>,
00160     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*ImmGetCompositionFontA*/</span>)(HIMC, LPLOGFONTA)) <a class="code" href="../../d2/d1/fareast_8c.html#a16">fakeImm_wd2</a>,
00161     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*ImmSetCompositionFontW*/</span>)(HIMC, LPLOGFONTW)) <a class="code" href="../../d2/d1/fareast_8c.html#a16">fakeImm_wd2</a>,
00162     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*ImmSetCompositionFontA*/</span>)(HIMC, LPLOGFONTA)) <a class="code" href="../../d2/d1/fareast_8c.html#a16">fakeImm_wd2</a>,
00163 
00164     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*ImmSetCompositionWindow*/</span>)(HIMC, LPCOMPOSITIONFORM)) <a class="code" href="../../d2/d1/fareast_8c.html#a16">fakeImm_wd2</a>,
00165     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*ImmNotifyIME*/</span>)(HIMC, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)) <a class="code" href="../../d2/d1/fareast_8c.html#a19">fakeImm_wd4</a>,
00166     (PINPUTCONTEXT (WINAPI* <span class="comment">/*ImmLockIMC*/</span>)(HIMC))          <a class="code" href="../../d2/d1/fareast_8c.html#a15">fakeImm_wd1</a>,
00167     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*ImmUnlockIMC*/</span>)(HIMC))                 <a class="code" href="../../d2/d1/fareast_8c.html#a15">fakeImm_wd1</a>,
00168     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*ImmLoadIME*/</span>)(HKL))                    <a class="code" href="../../d2/d1/fareast_8c.html#a15">fakeImm_wd1</a>,
00169     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*ImmSetOpenStatus*/</span>)(HIMC, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>))       <a class="code" href="../../d2/d1/fareast_8c.html#a16">fakeImm_wd2</a>,
00170     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*ImmFreeLayout*/</span>)(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwFlag))        <a class="code" href="../../d2/d1/fareast_8c.html#a15">fakeImm_wd1</a>,
00171     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*ImmActivateLayout*/</span>)(HKL))             <a class="code" href="../../d2/d1/fareast_8c.html#a15">fakeImm_wd1</a>,
00172     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*ImmSetCandidateWindow*/</span>)(HIMC, LPCANDIDATEFORM))   <a class="code" href="../../d2/d1/fareast_8c.html#a16">fakeImm_wd2</a>,
00173     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*ImmConfigureIMEW*/</span>)(HKL, HWND, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a5">LPVOID</a>)) <a class="code" href="../../d2/d1/fareast_8c.html#a19">fakeImm_wd4</a>,
00174     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*ImmGetConversionStatus*/</span>)(HIMC, LPDWORD, LPDWORD)) <a class="code" href="../../d2/d1/fareast_8c.html#a18">fakeImm_wd3</a>,
00175     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*ImmSetConversionStatus*/</span>)(HIMC, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)) <a class="code" href="../../d2/d1/fareast_8c.html#a18">fakeImm_wd3</a>,
00176     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*ImmSetStatusWindowPos*/</span>)(HIMC, LPPOINT))           <a class="code" href="../../d2/d1/fareast_8c.html#a16">fakeImm_wd2</a>,
00177     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*ImmGetImeInfoEx*/</span>)(<a class="code" href="../../d0/d8/structtagIMEINFOEX.html">PIMEINFOEX</a>, <a class="code" href="../../d8/d0/immstruc_8h.html#a42">IMEINFOEXCLASS</a>, PVOID)) <a class="code" href="../../d2/d1/fareast_8c.html#a18">fakeImm_wd3</a>,
00178     (<a class="code" href="../../d9/d0/immuser_8h.html#a31">PIMEDPI</a> (WINAPI* <span class="comment">/*ImmLockImeDpi*/</span>)(HKL))              <a class="code" href="../../d2/d1/fareast_8c.html#a15">fakeImm_wd1</a>,
00179     (<a class="code" href="../../d0/d6/iop_8h.html#a145">VOID</a> (WINAPI* <span class="comment">/*ImmUnlockImeDpi*/</span>)(<a class="code" href="../../d9/d0/immuser_8h.html#a31">PIMEDPI</a>))           <a class="code" href="../../d2/d1/fareast_8c.html#a14">fakeImm_wv1</a>,
00180     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*ImmGetOpenStatus*/</span>)(HIMC))             <a class="code" href="../../d2/d1/fareast_8c.html#a15">fakeImm_wd1</a>,
00181     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (* <span class="comment">/*ImmSetActiveContext*/</span>)(HWND, HIMC, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>))    <a class="code" href="../../d2/d1/fareast_8c.html#a12">fakeImm_d3</a>,
00182     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (* <span class="comment">/*ImmTranslateMessage*/</span>)(HWND, <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>, WPARAM, LPARAM)) <a class="code" href="../../d2/d1/fareast_8c.html#a13">fakeImm_bwuwl</a>,
00183     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (* <span class="comment">/*ImmLoadLayout*/</span>)(HKL, <a class="code" href="../../d8/d0/immstruc_8h.html#a38">PIMEINFOEX</a>))           <a class="code" href="../../d2/d1/fareast_8c.html#a11">fakeImm_d2</a>,
00184     (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> (WINAPI* <span class="comment">/*ImmProcessKey*/</span>)(HWND, HKL, <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>, LPARAM, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)) <a class="code" href="../../d2/d1/fareast_8c.html#a20">fakeImm_wd5</a>,
00185     (LRESULT (* <span class="comment">/*ImmPutImeMenuItemsIntoMappedFile*/</span>)(HIMC)) <a class="code" href="../../d2/d1/fareast_8c.html#a9">fakeImm_d1</a>,
00186     (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> (WINAPI* <span class="comment">/*ImmGetProperty*/</span>)(HKL, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>))        <a class="code" href="../../d2/d1/fareast_8c.html#a16">fakeImm_wd2</a>,
00187     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*ImmSetCompositionStringA*/</span>)(
00188          HIMC hImc, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwIndex, LPCVOID lpComp, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwCompLen, LPCVOID lpRead, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwReadLen))
00189                                                             <a class="code" href="../../d2/d1/fareast_8c.html#a21">fakeImm_wd6</a>,
00190     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*ImmSetCompositionStringW*/</span>)(
00191          HIMC hImc, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwIndex, LPCVOID lpComp, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwCompLen, LPCVOID lpRead, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwReadLen))
00192                                                             <a class="code" href="../../d2/d1/fareast_8c.html#a21">fakeImm_wd6</a>,
00193     (<a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a> (WINAPI* <span class="comment">/*ImmEnumInputContext*/</span>)(
00194          <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> idThread, IMCENUMPROC lpfn, LPARAM lParam))  <a class="code" href="../../d2/d1/fareast_8c.html#a18">fakeImm_wd3</a>,
00195 
00196     (LRESULT (WINAPI* <span class="comment">/*ImmSystemHandler*/</span>)(HIMC, WPARAM, LPARAM))
00197                                                              <a class="code" href="../../d2/d1/fareast_8c.html#a18">fakeImm_wd3</a>,
00198 };
00199 
00200 
00201 <span class="comment">//</span>
00202 <span class="comment">// Imm32's instance handle</span>
00203 <span class="comment">//</span>
00204 <span class="comment">// NULL if not initialized.</span>
00205 <span class="comment">//</span>
00206 
<a name="l00207"></a><a class="code" href="../../d2/d1/fareast_8c.html#a6">00207</a> HMODULE <a class="code" href="../../d2/d1/fareast_8c.html#a6">ghImm32</a>;
00208 
<a name="l00209"></a><a class="code" href="../../d2/d1/fareast_8c.html#a1">00209</a> <span class="preprocessor">#define IMMMODULENAME L"IMM32.DLL"</span>
<a name="l00210"></a><a class="code" href="../../d2/d1/fareast_8c.html#a2">00210</a> <span class="preprocessor"></span><span class="preprocessor">#define PATHDLM     L'\\'</span>
<a name="l00211"></a><a class="code" href="../../d2/d1/fareast_8c.html#a3">00211</a> <span class="preprocessor"></span><span class="preprocessor">#define IMMMODULENAMELEN    ((sizeof PATHDLM + sizeof IMMMODULENAME) / sizeof(WCHAR))</span>
00212 <span class="preprocessor"></span>
<a name="l00213"></a><a class="code" href="../../d6/d0/usercli_8h.html#a787">00213</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d6/d0/usercli_8h.html#a787">GetImmFileName</a>(PWSTR wszImmFile)
00214 {
00215     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> i = GetSystemDirectoryW(wszImmFile, <a class="code" href="../../d3/d9/arcinst_8c.html#a6">MAX_PATH</a>);
00216     <span class="keywordflow">if</span> (i &gt; 0 &amp;&amp; i &lt; <a class="code" href="../../d3/d9/arcinst_8c.html#a6">MAX_PATH</a> - <a class="code" href="../../d2/d1/fareast_8c.html#a3">IMMMODULENAMELEN</a>) {
00217         wszImmFile += i;
00218         <span class="keywordflow">if</span> (wszImmFile[-1] != <a class="code" href="../../d2/d1/fareast_8c.html#a2">PATHDLM</a>) {
00219             *wszImmFile++ = <a class="code" href="../../d2/d1/fareast_8c.html#a2">PATHDLM</a>;
00220         }
00221     }
00222     wcscpy(wszImmFile, <a class="code" href="../../d2/d1/fareast_8c.html#a1">IMMMODULENAME</a>);
00223 }
00224 
<a name="l00225"></a><a class="code" href="../../d2/d1/fareast_8c.html#a4">00225</a> <span class="preprocessor">#define REGISTER(name,cast) \</span>
00226 <span class="preprocessor">    gImmApiEntries.name = (cast)GetProcAddress(hImm, #name); \</span>
00227 <span class="preprocessor">    if (gImmApiEntries.name == NULL) { \</span>
00228 <span class="preprocessor">        RIPMSG1(RIP_WARNING, "gImmApiEntries.%s got to be NULL", #name); \</span>
00229 <span class="preprocessor">        gImmApiEntries.name = (PVOID)fakeImm_v1; \</span>
00230 <span class="preprocessor">        return; \</span>
00231 <span class="preprocessor">    } else</span>
00232 <span class="preprocessor"></span>
00234 <span class="comment">// _InitializeImmEntryTable(HMODULE)</span>
00235 <span class="comment">//</span>
00236 <span class="comment">//  Initialize IMM entry table:</span>
<a name="l00238"></a><a class="code" href="../../d2/d1/fareast_8c.html#a23">00238</a> <span class="comment"></span><a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d2/d1/fareast_8c.html#a23">_InitializeImmEntryTable</a>(VOID)
00239 {
00240     HMODULE hImm = <a class="code" href="../../d2/d1/fareast_8c.html#a6">ghImm32</a>;
00241     WCHAR wszImmFile[<a class="code" href="../../d3/d9/arcinst_8c.html#a6">MAX_PATH</a>];
00242 
00243     <span class="keywordflow">if</span> (((PVOID)<a class="code" href="../../d2/d1/fareast_8c.html#a5">gImmApiEntries</a>.ImmWINNLSEnableIME) != ((PVOID)<a class="code" href="../../d2/d1/fareast_8c.html#a16">fakeImm_wd2</a>)) {
00244         <span class="comment">// already initialized.</span>
00245         <span class="keywordflow">return</span>;
00246     }
00247 
00248     <a class="code" href="../../d6/d0/usercli_8h.html#a787">GetImmFileName</a>(wszImmFile);
00249 
00250     <span class="keywordflow">if</span> (hImm == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00251         <span class="comment">// check if IMM DLL is already attached to the process</span>
00252         hImm = GetModuleHandleW(wszImmFile);
00253     }
00254 
00255     <span class="keywordflow">if</span> (hImm == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00256         hImm = <a class="code" href="../../d2/d1/fareast_8c.html#a6">ghImm32</a> = LoadLibraryW(wszImmFile);
00257         <span class="keywordflow">if</span> (hImm == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00258             RIPMSG1(RIP_WARNING, <span class="stringliteral">"_InitializeImmEntryTable: failed to load Imm32.Dll: err=%d\n"</span>, GetLastError());
00259             <span class="keywordflow">return</span>;
00260         }
00261 
00262         <span class="comment">// at this point, Init routine of IMM32 has been called, thus User32InitializeImmEntry.. called.</span>
00263         <span class="comment">// all what we have to do is just return here.</span>
00264         <span class="keywordflow">return</span>;
00265     }
00266 
00267     <span class="keywordflow">if</span> (hImm == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00268         RIPMSG0(RIP_WARNING, <span class="stringliteral">"Failed to attach IMM32.DLL.\n"</span>);
00269         <span class="keywordflow">return</span>;
00270     }
00271 
00272     <span class="comment">// get the addresses of the procedures</span>
00273     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d6/d9/clwinnls_8c.html#a6">ImmWINNLSEnableIME</a>, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (WINAPI*)(HWND, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>));
00274     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d6/d9/clwinnls_8c.html#a7">ImmWINNLSGetEnableStatus</a>, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (*)(HWND));
00275     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d6/d9/clwinnls_8c.html#a9">ImmSendIMEMessageExW</a>, LRESULT (*)(HWND, LPARAM));
00276     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d6/d9/clwinnls_8c.html#a10">ImmSendIMEMessageExA</a>, LRESULT (*)(HWND, LPARAM));
00277     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d6/d9/clwinnls_8c.html#a11">ImmIMPGetIMEW</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a>(*)(HWND, LPIMEPROW));
00278     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d6/d9/clwinnls_8c.html#a12">ImmIMPGetIMEA</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a>(*)(HWND, LPIMEPROA))
00279     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d6/d9/clwinnls_8c.html#a13">ImmIMPQueryIMEW</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a>(*)(LPIMEPROW))
00280     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d6/d9/clwinnls_8c.html#a14">ImmIMPQueryIMEA</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a>(*)(LPIMEPROA));
00281     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d6/d9/clwinnls_8c.html#a15">ImmIMPSetIMEW</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a>(*)(HWND, LPIMEPROW));
00282     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d6/d9/clwinnls_8c.html#a16">ImmIMPSetIMEA</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a>(*)(HWND, LPIMEPROA));
00283 
00284     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d7/d6/w32_2ntuser_2imm_2context_8c.html#a3">ImmAssociateContext</a>, HIMC (WINAPI*)(HWND, HIMC));
00285     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d6/d0/immime_8c.html#a18">ImmEscapeA</a>, LRESULT(WINAPI*)(HKL, HIMC, <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a5">LPVOID</a>));
00286     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d6/d0/immime_8c.html#a19">ImmEscapeW</a>, LRESULT(WINAPI*)(HKL, HIMC, <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a5">LPVOID</a>));
00287     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d4/d1/ctxtinfo_8c.html#a8">ImmGetCompositionStringA</a>, LONG (WINAPI*)(HIMC, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a5">LPVOID</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>));
00288     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d4/d1/ctxtinfo_8c.html#a9">ImmGetCompositionStringW</a>, LONG (WINAPI*)(HIMC, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a5">LPVOID</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>));
00289     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d4/d1/ctxtinfo_8c.html#a41">ImmGetCompositionWindow</a>, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (WINAPI*)(HIMC, LPCOMPOSITIONFORM));
00290     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d7/d6/w32_2ntuser_2imm_2context_8c.html#a5">ImmGetContext</a>, HIMC (WINAPI*)(HWND));
00291     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d5/d0/w32_2ntuser_2imm_2misc_8c.html#a4">ImmGetDefaultIMEWnd</a>, HWND (WINAPI*)(HWND));
00292     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d4/d1/layout_8c.html#a20">ImmIsIME</a>, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (WINAPI*)(HKL));
00293     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d7/d6/w32_2ntuser_2imm_2context_8c.html#a7">ImmReleaseContext</a>, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (WINAPI*)(HWND, HIMC));
00294     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d7/d0/imminit_8c.html#a2">ImmRegisterClient</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a>(*)(<a class="code" href="../../d4/d6/structtagSHAREDINFO.html">PSHAREDINFO</a>, HINSTANCE));
00295 
00296     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d4/d1/ctxtinfo_8c.html#a34">ImmGetCompositionFontW</a>, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (WINAPI*)(HIMC, LPLOGFONTW));
00297     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d4/d1/ctxtinfo_8c.html#a33">ImmGetCompositionFontA</a>, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (WINAPI*)(HIMC, LPLOGFONTA));
00298     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d4/d1/ctxtinfo_8c.html#a36">ImmSetCompositionFontW</a>, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (WINAPI*)(HIMC, LPLOGFONTW));
00299     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d4/d1/ctxtinfo_8c.html#a35">ImmSetCompositionFontA</a>, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (WINAPI*)(HIMC, LPLOGFONTA));
00300 
00301     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d4/d1/ctxtinfo_8c.html#a42">ImmSetCompositionWindow</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a20">BOOL</a>(WINAPI*)(HIMC, LPCOMPOSITIONFORM));
00302     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d6/d0/immime_8c.html#a22">ImmNotifyIME</a>, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (WINAPI*)(HIMC, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>));
00303     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d5/d0/w32_2ntuser_2imm_2misc_8c.html#a12">ImmLockIMC</a>, PINPUTCONTEXT(WINAPI*)(HIMC));
00304     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d5/d0/w32_2ntuser_2imm_2misc_8c.html#a13">ImmUnlockIMC</a>, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (WINAPI*)(HIMC));
00305     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d6/d0/immime_8c.html#a12">ImmLoadIME</a>, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (WINAPI*)(HKL));
00306     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d4/d1/ctxtinfo_8c.html#a32">ImmSetOpenStatus</a>, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (WINAPI*)(HIMC, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>));
00307     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d6/d0/immime_8c.html#a14">ImmFreeLayout</a>, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (WINAPI*)(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>));
00308     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d6/d0/immime_8c.html#a15">ImmActivateLayout</a>, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (WINAPI*)(HKL));
00309     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d4/d1/ctxtinfo_8c.html#a44">ImmSetCandidateWindow</a>, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (WINAPI*)(HIMC, LPCANDIDATEFORM));
00310     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d6/d0/immime_8c.html#a17">ImmConfigureIMEW</a>, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (WINAPI*)(HKL, HWND, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a5">LPVOID</a>));
00311     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d4/d1/ctxtinfo_8c.html#a29">ImmGetConversionStatus</a>, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (WINAPI*)(HIMC, LPDWORD, LPDWORD));
00312     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d4/d1/ctxtinfo_8c.html#a30">ImmSetConversionStatus</a>, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (WINAPI*)(HIMC, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>));
00313     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d4/d1/ctxtinfo_8c.html#a40">ImmSetStatusWindowPos</a>, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (WINAPI*)(HIMC, LPPOINT));
00314     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d5/d0/w32_2ntuser_2imm_2misc_8c.html#a33">ImmGetImeInfoEx</a>, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (WINAPI*)(<a class="code" href="../../d0/d8/structtagIMEINFOEX.html">PIMEINFOEX</a>, <a class="code" href="../../d8/d0/immstruc_8h.html#a42">IMEINFOEXCLASS</a>, PVOID));
00315     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d5/d0/w32_2ntuser_2imm_2misc_8c.html#a31">ImmLockImeDpi</a>, <a class="code" href="../../d2/d7/structtagIMEDPI.html">PIMEDPI</a> (WINAPI*)(HKL));
00316     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d5/d0/w32_2ntuser_2imm_2misc_8c.html#a32">ImmUnlockImeDpi</a>, <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> (WINAPI*)(<a class="code" href="../../d2/d7/structtagIMEDPI.html">PIMEDPI</a>));
00317     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d4/d1/ctxtinfo_8c.html#a31">ImmGetOpenStatus</a>, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (WINAPI*)(HIMC));
00318     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d1/d5/ntuser_2imm_2conime_8c.html#a2">ImmSetActiveContext</a>, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (*)(HWND, HIMC, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>));
00319     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d4/d5/conimep_8h.html#a93">ImmTranslateMessage</a>, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (*)(HWND, <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>, WPARAM, LPARAM));
00320     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d3/d1/layime_8c.html#a16">ImmLoadLayout</a>, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (*)(HKL, <a class="code" href="../../d8/d0/immstruc_8h.html#a38">PIMEINFOEX</a>));
00321     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d1/d5/ntuser_2imm_2conime_8c.html#a1">ImmProcessKey</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> (*)(HWND, HKL, <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>, LPARAM, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>));
00322     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d2/d0/imemenu_8c.html#a13">ImmPutImeMenuItemsIntoMappedFile</a>, LRESULT(*)(HIMC));
00323     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d4/d1/layout_8c.html#a17">ImmGetProperty</a>, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> (WINAPI*)(HKL, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>));
00324     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d4/d1/ctxtinfo_8c.html#a10">ImmSetCompositionStringA</a>,
00325              <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (WINAPI*)(HIMC hImc, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwIndex, LPCVOID lpComp,
00326                    <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwCompLen, LPCVOID lpRead, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwReadLen))
00327     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d4/d1/ctxtinfo_8c.html#a11">ImmSetCompositionStringW</a>,
00328              <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (WINAPI*)(HIMC hImc, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwIndex, LPCVOID lpComp,
00329                    <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwCompLen, LPCVOID lpRead, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwReadLen));
00330     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d7/d6/w32_2ntuser_2imm_2context_8c.html#a19">ImmEnumInputContext</a>,
00331              <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> (WINAPI*)(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> idThread, IMCENUMPROC lpfn, LPARAM lParam));
00332     <a class="code" href="../../d2/d1/fareast_8c.html#a4">REGISTER</a>(<a class="code" href="../../d5/d0/w32_2ntuser_2imm_2misc_8c.html#a36">ImmSystemHandler</a>,
00333             LRESULT (WINAPI*)(HIMC, WPARAM, LPARAM));
00334 }
00335 
<a name="l00336"></a><a class="code" href="../../d2/d1/fareast_8c.html#a7">00336</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d2/d1/fareast_8c.html#a7">bImmInitializing</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00337 
<a name="l00338"></a><a class="code" href="../../d6/d0/usercli_8h.html#a786">00338</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d6/d0/usercli_8h.html#a786">InitializeImmEntryTable</a>(VOID)
00339 {
00340     <a class="code" href="../../d2/d1/fareast_8c.html#a7">bImmInitializing</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00341     <a class="code" href="../../d2/d1/fareast_8c.html#a23">_InitializeImmEntryTable</a>();
00342 }
00343 
<a name="l00344"></a><a class="code" href="../../d1/d0/inc_2user_8h.html#a1135">00344</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d1/d0/inc_2user_8h.html#a1135">User32InitializeImmEntryTable</a>(DWORD magic)
00345 {
00346     <span class="keywordflow">if</span> (magic != <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a127">IMM_MAGIC_CALLER_ID</a>) {
00347         RIPMSG1(RIP_WARNING, <span class="stringliteral">"User32InitializeImmEntryTable: magic # does not match: 0x%08x"</span>, magic);
00348         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00349     }
00350 
00351     <span class="keywordflow">if</span> (((PVOID)<a class="code" href="../../d2/d1/fareast_8c.html#a5">gImmApiEntries</a>.ImmWINNLSEnableIME) != ((PVOID)<a class="code" href="../../d2/d1/fareast_8c.html#a16">fakeImm_wd2</a>)) {
00352         <span class="comment">// already initialized</span>
00353         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00354     }
00355 
00356     <a class="code" href="../../d2/d1/fareast_8c.html#a23">_InitializeImmEntryTable</a>();
00357 
00358     <span class="keywordflow">if</span> (<a class="code" href="../../d2/d1/fareast_8c.html#a6">ghImm32</a> == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00359         <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d1/fareast_8c.html#a7">bImmInitializing</a>) {
00360             <span class="comment">// increment the load counter of IMM32.DLL; application may call FreeLibrary later</span>
00361             WCHAR wszImmFile[<a class="code" href="../../d3/d9/arcinst_8c.html#a6">MAX_PATH</a>];
00362             <a class="code" href="../../d6/d0/usercli_8h.html#a787">GetImmFileName</a>(wszImmFile);
00363             <a class="code" href="../../d2/d1/fareast_8c.html#a6">ghImm32</a> = LoadLibraryW(wszImmFile);
00364         }
00365     }
00366     <span class="comment">// for IMM initialization</span>
00367     <span class="keywordflow">return</span> <a class="code" href="../../d6/d0/usercli_8h.html#a315">fpImmRegisterClient</a>(&amp;<a class="code" href="../../d1/d8/clglobal_8c.html#a5">gSharedInfo</a>, <a class="code" href="../../d2/d1/fareast_8c.html#a6">ghImm32</a>);
00368 }
00369 
00370 <span class="comment">//</span>
00371 <span class="comment">// for historical reasons, these entries are put in user32.dll</span>
00372 <span class="comment">//</span>
<a name="l00373"></a><a class="code" href="../../d2/d1/fareast_8c.html#a26">00373</a> <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> WINAPI <a class="code" href="../../d2/d1/fareast_8c.html#a26">WINNLSGetIMEHotkey</a>(HWND hwndIme)
00374 {
00375     UNREFERENCED_PARAMETER(hwndIme);
00376 
00377     <span class="comment">//</span>
00378     <span class="comment">// Win95/NT3.51 behavior, i.e. always return 0.</span>
00379     <span class="comment">//</span>
00380     <span class="keywordflow">return</span> 0;
00381 }
00382 
<a name="l00383"></a><a class="code" href="../../d2/d1/fareast_8c.html#a27">00383</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> WINAPI <a class="code" href="../../d2/d1/fareast_8c.html#a27">WINNLSEnableIME</a>(HWND hwnd, BOOL bFlag)
00384 {
00385     <span class="keywordflow">return</span> <a class="code" href="../../d2/d1/fareast_8c.html#a5">gImmApiEntries</a>.ImmWINNLSEnableIME(hwnd, bFlag);
00386 }
00387 
<a name="l00388"></a><a class="code" href="../../d2/d1/fareast_8c.html#a28">00388</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> WINAPI <a class="code" href="../../d2/d1/fareast_8c.html#a28">WINNLSGetEnableStatus</a>(HWND hwnd)
00389 {
00390     <span class="keywordflow">return</span> <a class="code" href="../../d2/d1/fareast_8c.html#a5">gImmApiEntries</a>.ImmWINNLSGetEnableStatus(hwnd);
00391 }
00392 
<a name="l00393"></a><a class="code" href="../../d2/d1/fareast_8c.html#a29">00393</a> LRESULT WINAPI <a class="code" href="../../d2/d1/fareast_8c.html#a29">SendIMEMessageExW</a>(HWND hwnd, LPARAM lParam)
00394 {
00395     <span class="keywordflow">return</span> <a class="code" href="../../d2/d1/fareast_8c.html#a5">gImmApiEntries</a>.ImmSendIMEMessageExW(hwnd, lParam);
00396 }
00397 
<a name="l00398"></a><a class="code" href="../../d2/d1/fareast_8c.html#a30">00398</a> LRESULT WINAPI <a class="code" href="../../d2/d1/fareast_8c.html#a30">SendIMEMessageExA</a>(HWND hwnd, LPARAM lParam)
00399 {
00400     <span class="keywordflow">return</span> <a class="code" href="../../d2/d1/fareast_8c.html#a5">gImmApiEntries</a>.ImmSendIMEMessageExA(hwnd, lParam);
00401 }
00402 
<a name="l00403"></a><a class="code" href="../../d2/d1/fareast_8c.html#a31">00403</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> WINAPI <a class="code" href="../../d2/d1/fareast_8c.html#a31">IMPGetIMEW</a>(HWND hwnd, LPIMEPROW lpImeProW)
00404 {
00405     <span class="keywordflow">return</span> <a class="code" href="../../d2/d1/fareast_8c.html#a5">gImmApiEntries</a>.ImmIMPGetIMEW(hwnd, lpImeProW);
00406 }
00407 
<a name="l00408"></a><a class="code" href="../../d2/d1/fareast_8c.html#a32">00408</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> WINAPI <a class="code" href="../../d2/d1/fareast_8c.html#a32">IMPGetIMEA</a>(HWND hwnd, LPIMEPROA lpImeProA)
00409 {
00410     <span class="keywordflow">return</span> <a class="code" href="../../d2/d1/fareast_8c.html#a5">gImmApiEntries</a>.ImmIMPGetIMEA(hwnd, lpImeProA);
00411 }
00412 
<a name="l00413"></a><a class="code" href="../../d2/d1/fareast_8c.html#a33">00413</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> WINAPI <a class="code" href="../../d2/d1/fareast_8c.html#a33">IMPQueryIMEW</a>(LPIMEPROW lpImeProW)
00414 {
00415     <span class="keywordflow">return</span> <a class="code" href="../../d2/d1/fareast_8c.html#a5">gImmApiEntries</a>.ImmIMPQueryIMEW(lpImeProW);
00416 }
00417 
<a name="l00418"></a><a class="code" href="../../d2/d1/fareast_8c.html#a34">00418</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> WINAPI <a class="code" href="../../d2/d1/fareast_8c.html#a34">IMPQueryIMEA</a>(LPIMEPROA lpImeProA)
00419 {
00420     <span class="keywordflow">return</span> <a class="code" href="../../d2/d1/fareast_8c.html#a5">gImmApiEntries</a>.ImmIMPQueryIMEA(lpImeProA);
00421 }
00422 
<a name="l00423"></a><a class="code" href="../../d2/d1/fareast_8c.html#a35">00423</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> WINAPI <a class="code" href="../../d2/d1/fareast_8c.html#a35">IMPSetIMEW</a>(HWND hwnd, LPIMEPROW lpImeProW)
00424 {
00425     <span class="keywordflow">return</span> <a class="code" href="../../d2/d1/fareast_8c.html#a5">gImmApiEntries</a>.ImmIMPSetIMEW(hwnd, lpImeProW);
00426 }
00427 
<a name="l00428"></a><a class="code" href="../../d2/d1/fareast_8c.html#a36">00428</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> WINAPI <a class="code" href="../../d2/d1/fareast_8c.html#a36">IMPSetIMEA</a>(HWND hwnd, LPIMEPROA lpImeProA)
00429 {
00430     <span class="keywordflow">return</span> <a class="code" href="../../d2/d1/fareast_8c.html#a5">gImmApiEntries</a>.ImmIMPSetIMEA(hwnd, lpImeProA);
00431 }
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:39:58 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
