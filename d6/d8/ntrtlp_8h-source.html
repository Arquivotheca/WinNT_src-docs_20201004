<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: ntrtlp.h Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>ntrtlp.h</h1><a href="../../d5/d9/ntrtlp_8h.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">/*++</span>
00002 <span class="comment"></span>
00003 <span class="comment">Copyright (c) 1989  Microsoft Corporation</span>
00004 <span class="comment"></span>
00005 <span class="comment">Module Name:</span>
00006 <span class="comment"></span>
00007 <span class="comment">    ntrtlp.h</span>
00008 <span class="comment"></span>
00009 <span class="comment">Abstract:</span>
00010 <span class="comment"></span>
00011 <span class="comment">    Include file for NT runtime routines that are callable by both</span>
00012 <span class="comment">    kernel mode code in the executive and user mode code in various</span>
00013 <span class="comment">    NT subsystems, but which are private interfaces.</span>
00014 <span class="comment"></span>
00015 <span class="comment">Author:</span>
00016 <span class="comment"></span>
00017 <span class="comment">    David N. Cutler (davec) 15-Aug-1989</span>
00018 <span class="comment"></span>
00019 <span class="comment">Environment:</span>
00020 <span class="comment"></span>
00021 <span class="comment">    These routines are statically linked in the caller's executable and</span>
00022 <span class="comment">    are callable in either kernel mode or user mode.</span>
00023 <span class="comment"></span>
00024 <span class="comment">Revision History:</span>
00025 <span class="comment"></span>
00026 <span class="comment">--*/</span>
00027 
00028 <span class="preprocessor">#ifndef _NTRTLP_</span>
00029 <span class="preprocessor"></span><span class="preprocessor">#define _NTRTLP_</span>
00030 <span class="preprocessor"></span><span class="preprocessor">#include &lt;<a class="code" href="../../d9/d8/ntos_8h.html">ntos.h</a>&gt;</span>
00031 <span class="preprocessor">#include &lt;nturtl.h&gt;</span>
00032 <span class="preprocessor">#include &lt;zwapi.h&gt;</span>
00033 
00034 <span class="preprocessor">#ifdef _X86_</span>
00035 <span class="preprocessor"></span><span class="preprocessor">#include    "<a class="code" href="../../d1/d9/ntrtl386_8h.html">i386\ntrtl386.h</a>"</span>
00036 <span class="preprocessor">#endif</span>
00037 <span class="preprocessor"></span>
00038 <span class="preprocessor">#ifdef _MIPS_</span>
00039 <span class="preprocessor"></span><span class="preprocessor">#include    "<a class="code" href="../../d4/d9/ntrtlmip_8h.html">mips\ntrtlmip.h</a>"</span>
00040 <span class="preprocessor">#endif</span>
00041 <span class="preprocessor"></span>
00042 <span class="preprocessor">#ifdef _PPC_</span>
00043 <span class="preprocessor"></span><span class="preprocessor">#include    "<a class="code" href="../../d6/d9/ntrtlppc_8h.html">ppc\ntrtlppc.h</a>"</span>
00044 <span class="preprocessor">#endif</span>
00045 <span class="preprocessor"></span>
00046 <span class="preprocessor">#ifdef _ALPHA_</span>
00047 <span class="preprocessor"></span><span class="preprocessor">#include    "<a class="code" href="../../d2/d9/ntrtlalp_8h.html">alpha\ntrtlalp.h</a>"</span>
00048 <span class="preprocessor">#endif</span>
00049 <span class="preprocessor"></span>
00050 <span class="preprocessor">#ifdef _IA64_</span>
00051 <span class="preprocessor"></span><span class="preprocessor">#include    "<a class="code" href="../../d3/d9/ntrtli64_8h.html">ia64\ntrtli64.h</a>"</span>
00052 <span class="preprocessor">#endif</span>
00053 <span class="preprocessor"></span>
00054 <span class="preprocessor">#ifdef BLDR_KERNEL_RUNTIME</span>
00055 <span class="preprocessor"></span><span class="preprocessor">#undef try</span>
00056 <span class="preprocessor"></span><span class="preprocessor">#define try if(1)</span>
00057 <span class="preprocessor"></span><span class="preprocessor">#undef except</span>
00058 <span class="preprocessor"></span><span class="preprocessor">#define except(a) else if (0)</span>
00059 <span class="preprocessor"></span><span class="preprocessor">#undef finally</span>
00060 <span class="preprocessor"></span><span class="preprocessor">#define finally if (1)</span>
00061 <span class="preprocessor"></span><span class="preprocessor">#undef GetExceptionCode</span>
00062 <span class="preprocessor"></span><span class="preprocessor">#define GetExceptionCode() 1</span>
00063 <span class="preprocessor"></span><span class="preprocessor">#define finally if (1)</span>
00064 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00065 <span class="preprocessor"></span>
00066 <span class="preprocessor">#include "string.h"</span>
00067 <span class="preprocessor">#include "wchar.h"</span>
00068 
00069 <span class="comment">//</span>
00070 <span class="comment">//  Machine state reporting.  See machine specific includes for more.</span>
00071 <span class="comment">//</span>
00072 
00073 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00074 <a class="code" href="../../d5/d9/ntrtlp_8h.html#a30">RtlpGetStackLimits</a> (
00075     OUT PULONG_PTR LowLimit,
00076     OUT PULONG_PTR HighLimit
00077     );
00078 
00079 LONG
00080 <a class="code" href="../../d5/d9/ntrtlp_8h.html#a31">LdrpCompareResourceNames</a>(
00081     IN ULONG ResourceName,
00082     IN PIMAGE_RESOURCE_DIRECTORY ResourceDirectory,
00083     IN PIMAGE_RESOURCE_DIRECTORY_ENTRY ResourceDirectoryEntry
00084     );
00085 
00086 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00087 <a class="code" href="../../d5/d9/ntrtlp_8h.html#a32">LdrpSearchResourceSection</a>(
00088     IN PVOID DllHandle,
00089     IN PULONG_PTR ResourceIdPath,
00090     IN ULONG ResourceIdPathLength,
00091     IN BOOLEAN FindDirectoryEntry,
00092     OUT PVOID *ResourceDirectoryOrData
00093     );
00094 
00095 LONG
00096 <a class="code" href="../../d5/d9/ntrtlp_8h.html#a33">LdrpCompareResourceNames_U</a>(
00097     IN ULONG_PTR ResourceName,
00098     IN PIMAGE_RESOURCE_DIRECTORY ResourceDirectory,
00099     IN PIMAGE_RESOURCE_DIRECTORY_ENTRY ResourceDirectoryEntry
00100     );
00101 
00102 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00103 <a class="code" href="../../d5/d9/ntrtlp_8h.html#a34">LdrpSearchResourceSection_U</a>(
00104     IN PVOID DllHandle,
00105     IN PULONG_PTR ResourceIdPath,
00106     IN ULONG ResourceIdPathLength,
00107     IN BOOLEAN FindDirectoryEntry,
00108     IN BOOLEAN ExactMatchOnly,
00109     OUT PVOID *ResourceDirectoryOrData
00110     );
00111 
00112 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00113 <a class="code" href="../../d5/d9/ntrtlp_8h.html#a35">LdrpAccessResourceData</a>(
00114     IN PVOID DllHandle,
00115     IN PIMAGE_RESOURCE_DATA_ENTRY ResourceDataEntry,
00116     OUT PVOID *Address OPTIONAL,
00117     OUT PULONG Size OPTIONAL
00118     );
00119 
00120 
00121 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00122 <a class="code" href="../../d5/d9/ntrtlp_8h.html#a36">RtlpAnsiPszToUnicodePsz</a>(
00123     IN PCHAR AnsiString,
00124     IN WCHAR *UnicodeString,
00125     IN USHORT AnsiStringLength
00126     );
00127 
00128 BOOLEAN
00129 <a class="code" href="../../d5/d9/ntrtlp_8h.html#a37">RtlpDidUnicodeToOemWork</a>(
00130     IN POEM_STRING OemString,
00131     IN PUNICODE_STRING UnicodeString
00132     );
00133 
<a name="l00134"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a16">00134</a> <span class="keyword">extern</span> CONST CCHAR <a class="code" href="../../d4/d1/rtl_2bitmap_8c.html#a19">RtlpBitsClearAnywhere</a>[256];
<a name="l00135"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a17">00135</a> <span class="keyword">extern</span> CONST CCHAR <a class="code" href="../../d4/d1/rtl_2bitmap_8c.html#a20">RtlpBitsClearLow</a>[256];
<a name="l00136"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a18">00136</a> <span class="keyword">extern</span> CONST CCHAR <a class="code" href="../../d4/d1/rtl_2bitmap_8c.html#a21">RtlpBitsClearHigh</a>[256];
<a name="l00137"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a19">00137</a> <span class="keyword">extern</span> CONST CCHAR <a class="code" href="../../d4/d1/rtl_2bitmap_8c.html#a22">RtlpBitsClearTotal</a>[256];
00138 
00139 <span class="comment">//</span>
00140 <span class="comment">//  Macro that tells how many contiguous bits are set (i.e., 1) in</span>
00141 <span class="comment">//  a byte</span>
00142 <span class="comment">//</span>
00143 
<a name="l00144"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a0">00144</a> <span class="preprocessor">#define RtlpBitSetAnywhere( Byte ) RtlpBitsClearAnywhere[ (~(Byte) &amp; 0xFF) ]</span>
00145 <span class="preprocessor"></span>
00146 
00147 <span class="comment">//</span>
00148 <span class="comment">//  Macro that tells how many contiguous LOW order bits are set</span>
00149 <span class="comment">//  (i.e., 1) in a byte</span>
00150 <span class="comment">//</span>
00151 
<a name="l00152"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a1">00152</a> <span class="preprocessor">#define RtlpBitsSetLow( Byte ) RtlpBitsClearLow[ (~(Byte) &amp; 0xFF) ]</span>
00153 <span class="preprocessor"></span>
00154 
00155 <span class="comment">//</span>
00156 <span class="comment">//  Macro that tells how many contiguous HIGH order bits are set</span>
00157 <span class="comment">//  (i.e., 1) in a byte</span>
00158 <span class="comment">//</span>
00159 
<a name="l00160"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a2">00160</a> <span class="preprocessor">#define RtlpBitsSetHigh( Byte ) RtlpBitsClearHigh[ (~(Byte) &amp; 0xFF) ]</span>
00161 <span class="preprocessor"></span>
00162 
00163 <span class="comment">//</span>
00164 <span class="comment">//  Macro that tells how many set bits (i.e., 1) there are in a byte</span>
00165 <span class="comment">//</span>
00166 
<a name="l00167"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a3">00167</a> <span class="preprocessor">#define RtlpBitsSetTotal( Byte ) RtlpBitsClearTotal[ (~(Byte) &amp; 0xFF) ]</span>
00168 <span class="preprocessor"></span>
00169 
00170 
00171 <span class="comment">//</span>
00172 <span class="comment">// Upcase data table</span>
00173 <span class="comment">//</span>
00174 
<a name="l00175"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a20">00175</a> <span class="keyword">extern</span> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a22">PUSHORT</a> <a class="code" href="../../d9/d6/nlsxlat_8c.html#a9">Nls844UnicodeUpcaseTable</a>;
<a name="l00176"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a21">00176</a> <span class="keyword">extern</span> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a22">PUSHORT</a> <a class="code" href="../../d9/d6/nlsxlat_8c.html#a10">Nls844UnicodeLowercaseTable</a>;
00177 
00178 
00179 <span class="comment">//</span>
00180 <span class="comment">// Macros for Upper Casing a Unicode Code Point.</span>
00181 <span class="comment">//</span>
00182 
<a name="l00183"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a4">00183</a> <span class="preprocessor">#define LOBYTE(w)           ((UCHAR)((w)))</span>
<a name="l00184"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a5">00184</a> <span class="preprocessor"></span><span class="preprocessor">#define HIBYTE(w)           ((UCHAR)(((USHORT)((w)) &gt;&gt; 8) &amp; 0xFF))</span>
<a name="l00185"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a6">00185</a> <span class="preprocessor"></span><span class="preprocessor">#define GET8(w)             ((ULONG)(((w) &gt;&gt; 8) &amp; 0xff))</span>
<a name="l00186"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a7">00186</a> <span class="preprocessor"></span><span class="preprocessor">#define GETHI4(w)           ((ULONG)(((w) &gt;&gt; 4) &amp; 0xf))</span>
<a name="l00187"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a8">00187</a> <span class="preprocessor"></span><span class="preprocessor">#define GETLO4(w)           ((ULONG)((w) &amp; 0xf))</span>
00188 <span class="preprocessor"></span>
00189 <span class="comment">/***************************************************************************\</span>
00190 <span class="comment">* TRAVERSE844W</span>
00191 <span class="comment">*</span>
00192 <span class="comment">* Traverses the 8:4:4 translation table for the given wide character.  It</span>
00193 <span class="comment">* returns the final value of the 8:4:4 table, which is a WORD in length.</span>
00194 <span class="comment">*</span>
00195 <span class="comment">*   Broken Down Version:</span>
00196 <span class="comment">*   --------------------</span>
00197 <span class="comment">*       Incr = pTable[GET8(wch)];</span>
00198 <span class="comment">*       Incr = pTable[Incr + GETHI4(wch)];</span>
00199 <span class="comment">*       Value = pTable[Incr + GETLO4(wch)];</span>
00200 <span class="comment">*</span>
00201 <span class="comment">* DEFINED AS A MACRO.</span>
00202 <span class="comment">*</span>
00203 <span class="comment">* 05-31-91    JulieB    Created.</span>
00204 <span class="comment">\***************************************************************************/</span>
00205 
<a name="l00206"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a9">00206</a> <span class="preprocessor">#define TRAVERSE844W(pTable, wch)                                               \</span>
00207 <span class="preprocessor">    ( (pTable)[(pTable)[(pTable)[GET8((wch))] + GETHI4((wch))] + GETLO4((wch))] )</span>
00208 <span class="preprocessor"></span>
00209 <span class="comment">//</span>
00210 <span class="comment">// NLS_UPCASE - Based on julieb's macros in nls.h</span>
00211 <span class="comment">//</span>
00212 <span class="comment">// We will have this upcase macro quickly shortcircuit out if the value</span>
00213 <span class="comment">// is within the normal ANSI range (i.e., &lt; 127).  We actually won't bother</span>
00214 <span class="comment">// with the 5 values above 'z' because they won't happen very often and</span>
00215 <span class="comment">// coding it this way lets us get out after 1 compare for value less than</span>
00216 <span class="comment">// 'a' and 2 compares for lowercase a-z.</span>
00217 <span class="comment">//</span>
00218 
<a name="l00219"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a10">00219</a> <span class="preprocessor">#define NLS_UPCASE(wch) (                                                   \</span>
00220 <span class="preprocessor">    ((wch) &lt; 'a' ?                                                          \</span>
00221 <span class="preprocessor">        (wch)                                                               \</span>
00222 <span class="preprocessor">    :                                                                       \</span>
00223 <span class="preprocessor">        ((wch) &lt;= 'z' ?                                                     \</span>
00224 <span class="preprocessor">            (wch) - ('a'-'A')                                               \</span>
00225 <span class="preprocessor">        :                                                                   \</span>
00226 <span class="preprocessor">            ((WCHAR)((wch) + TRAVERSE844W(Nls844UnicodeUpcaseTable,(wch)))) \</span>
00227 <span class="preprocessor">        )                                                                   \</span>
00228 <span class="preprocessor">    )                                                                       \</span>
00229 <span class="preprocessor">)</span>
00230 <span class="preprocessor"></span>
<a name="l00231"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a11">00231</a> <span class="preprocessor">#define NLS_DOWNCASE(wch) (                                                 \</span>
00232 <span class="preprocessor">    ((wch) &lt; 'A' ?                                                          \</span>
00233 <span class="preprocessor">        (wch)                                                               \</span>
00234 <span class="preprocessor">    :                                                                       \</span>
00235 <span class="preprocessor">        ((wch) &lt;= 'Z' ?                                                     \</span>
00236 <span class="preprocessor">            (wch) + ('a'-'A')                                               \</span>
00237 <span class="preprocessor">        :                                                                   \</span>
00238 <span class="preprocessor">            ((WCHAR)((wch) + TRAVERSE844W(Nls844UnicodeLowercaseTable,(wch)))) \</span>
00239 <span class="preprocessor">        )                                                                   \</span>
00240 <span class="preprocessor">    )                                                                       \</span>
00241 <span class="preprocessor">)</span>
00242 <span class="preprocessor"></span>
00243 <span class="preprocessor">#if DBG &amp;&amp; defined(NTOS_KERNEL_RUNTIME)</span>
00244 <span class="preprocessor"></span><span class="preprocessor">#define RTL_PAGED_CODE() PAGED_CODE()</span>
00245 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00246"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a12">00246</a> <span class="preprocessor"></span><span class="preprocessor">#define RTL_PAGED_CODE()</span>
00247 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00248 <span class="preprocessor"></span>
00249 
00250 <span class="comment">//</span>
00251 <span class="comment">// The follow definition is used to support the Rtl compression engine</span>
00252 <span class="comment">// Every compression format that NT supports will need to supply</span>
00253 <span class="comment">// these set of routines in order to be called by NtRtl.</span>
00254 <span class="comment">//</span>
00255 
<a name="l00256"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a22">00256</a> <span class="keyword">typedef</span> <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> (*<a class="code" href="../../d5/d9/ntrtlp_8h.html#a22">PRTL_COMPRESS_WORKSPACE_SIZE</a>) (
00257     IN <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> CompressionEngine,
00258     OUT PULONG CompressBufferWorkSpaceSize,
00259     OUT PULONG CompressFragmentWorkSpaceSize
00260     );
00261 
<a name="l00262"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a23">00262</a> <span class="keyword">typedef</span> <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> (*<a class="code" href="../../d5/d9/ntrtlp_8h.html#a23">PRTL_COMPRESS_BUFFER</a>) (
00263     IN <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> CompressionEngine,
00264     IN PUCHAR UncompressedBuffer,
00265     IN ULONG UncompressedBufferSize,
00266     OUT PUCHAR CompressedBuffer,
00267     IN ULONG CompressedBufferSize,
00268     IN ULONG UncompressedChunkSize,
00269     OUT PULONG FinalCompressedSize,
00270     IN PVOID WorkSpace
00271     );
00272 
<a name="l00273"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a24">00273</a> <span class="keyword">typedef</span> <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> (*<a class="code" href="../../d5/d9/ntrtlp_8h.html#a24">PRTL_DECOMPRESS_BUFFER</a>) (
00274     OUT PUCHAR UncompressedBuffer,
00275     IN ULONG UncompressedBufferSize,
00276     IN PUCHAR CompressedBuffer,
00277     IN ULONG CompressedBufferSize,
00278     OUT PULONG FinalUncompressedSize
00279     );
00280 
<a name="l00281"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a25">00281</a> <span class="keyword">typedef</span> <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> (*<a class="code" href="../../d5/d9/ntrtlp_8h.html#a25">PRTL_DECOMPRESS_FRAGMENT</a>) (
00282     OUT PUCHAR UncompressedFragment,
00283     IN ULONG UncompressedFragmentSize,
00284     IN PUCHAR CompressedBuffer,
00285     IN ULONG CompressedBufferSize,
00286     IN ULONG FragmentOffset,
00287     OUT PULONG FinalUncompressedSize,
00288     IN PVOID WorkSpace
00289     );
00290 
<a name="l00291"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a26">00291</a> <span class="keyword">typedef</span> <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> (*<a class="code" href="../../d5/d9/ntrtlp_8h.html#a26">PRTL_DESCRIBE_CHUNK</a>) (
00292     IN OUT PUCHAR *CompressedBuffer,
00293     IN PUCHAR EndOfCompressedBufferPlus1,
00294     OUT PUCHAR *ChunkBuffer,
00295     OUT PULONG ChunkSize
00296     );
00297 
<a name="l00298"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a27">00298</a> <span class="keyword">typedef</span> <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> (*<a class="code" href="../../d5/d9/ntrtlp_8h.html#a27">PRTL_RESERVE_CHUNK</a>) (
00299     IN OUT PUCHAR *CompressedBuffer,
00300     IN PUCHAR EndOfCompressedBufferPlus1,
00301     OUT PUCHAR *ChunkBuffer,
00302     IN ULONG ChunkSize
00303     );
00304 
00305 <span class="comment">//</span>
00306 <span class="comment">// Here is the declarations of the LZNT1 routines</span>
00307 <span class="comment">//</span>
00308 
00309 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00310 <a class="code" href="../../d5/d9/ntrtlp_8h.html#a38">RtlCompressWorkSpaceSizeLZNT1</a> (
00311     IN USHORT CompressionEngine,
00312     OUT PULONG CompressBufferWorkSpaceSize,
00313     OUT PULONG CompressFragmentWorkSpaceSize
00314     );
00315 
00316 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00317 <a class="code" href="../../d5/d9/ntrtlp_8h.html#a39">RtlCompressBufferLZNT1</a> (
00318     IN USHORT CompressionEngine,
00319     IN PUCHAR UncompressedBuffer,
00320     IN ULONG UncompressedBufferSize,
00321     OUT PUCHAR CompressedBuffer,
00322     IN ULONG CompressedBufferSize,
00323     IN ULONG UncompressedChunkSize,
00324     OUT PULONG FinalCompressedSize,
00325     IN PVOID WorkSpace
00326     );
00327 
00328 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00329 <a class="code" href="../../d5/d9/ntrtlp_8h.html#a40">RtlDecompressBufferLZNT1</a> (
00330     OUT PUCHAR UncompressedBuffer,
00331     IN ULONG UncompressedBufferSize,
00332     IN PUCHAR CompressedBuffer,
00333     IN ULONG CompressedBufferSize,
00334     OUT PULONG FinalUncompressedSize
00335     );
00336 
00337 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00338 <a class="code" href="../../d5/d9/ntrtlp_8h.html#a41">RtlDecompressFragmentLZNT1</a> (
00339     OUT PUCHAR UncompressedFragment,
00340     IN ULONG UncompressedFragmentSize,
00341     IN PUCHAR CompressedBuffer,
00342     IN ULONG CompressedBufferSize,
00343     IN ULONG FragmentOffset,
00344     OUT PULONG FinalUncompressedSize,
00345     IN PVOID WorkSpace
00346     );
00347 
00348 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00349 <a class="code" href="../../d5/d9/ntrtlp_8h.html#a42">RtlDescribeChunkLZNT1</a> (
00350     IN OUT PUCHAR *CompressedBuffer,
00351     IN PUCHAR EndOfCompressedBufferPlus1,
00352     OUT PUCHAR *ChunkBuffer,
00353     OUT PULONG ChunkSize
00354     );
00355 
00356 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00357 <a class="code" href="../../d5/d9/ntrtlp_8h.html#a43">RtlReserveChunkLZNT1</a> (
00358     IN OUT PUCHAR *CompressedBuffer,
00359     IN PUCHAR EndOfCompressedBufferPlus1,
00360     OUT PUCHAR *ChunkBuffer,
00361     IN ULONG ChunkSize
00362     );
00363 
00364 <span class="comment">//</span>
00365 <span class="comment">// Define procedure prototypes for architecture specific debug support routines.</span>
00366 <span class="comment">//</span>
00367 
00368 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00369 <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(
00370     IN PSTRING Output
00371     );
00372 
00373 ULONG
00374 <a class="code" href="../../d5/d9/ntrtlp_8h.html#a45">DebugPrompt</a>(
00375     IN PSTRING Output,
00376     IN PSTRING Input
00377     );
00378 
00379 
00380 <span class="comment">//</span>
00381 <span class="comment">// Define procedure prototypes for slist manipulation and general lookaside lists</span>
00382 <span class="comment">//</span>
00383 
00384 <span class="comment">/*++</span>
00385 <span class="comment"></span>
00386 <span class="comment">VOID</span>
00387 <span class="comment">RtlpInitializeSListHead (</span>
00388 <span class="comment">    IN PSLIST_HEADER SListHead</span>
00389 <span class="comment">    )</span>
00390 <span class="comment"></span>
00391 <span class="comment">Routine Description:</span>
00392 <span class="comment"></span>
00393 <span class="comment">    This function initializes a sequenced singly linked listhead.</span>
00394 <span class="comment"></span>
00395 <span class="comment">Arguments:</span>
00396 <span class="comment"></span>
00397 <span class="comment">    SListHead - Supplies a pointer to a sequenced singly linked listhead.</span>
00398 <span class="comment"></span>
00399 <span class="comment">Return Value:</span>
00400 <span class="comment"></span>
00401 <span class="comment">    None.</span>
00402 <span class="comment"></span>
00403 <span class="comment">--*/</span>
00404 
<a name="l00405"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a13">00405</a> <span class="preprocessor">#define RtlpInitializeSListHead(_listhead_) (_listhead_)-&gt;Alignment = 0</span>
00406 <span class="preprocessor"></span>
00407 <span class="comment">/*++</span>
00408 <span class="comment"></span>
00409 <span class="comment">USHORT</span>
00410 <span class="comment">RtlpQueryDepthSListHead (</span>
00411 <span class="comment">    IN PSLIST_HEADERT SListHead</span>
00412 <span class="comment">    )</span>
00413 <span class="comment"></span>
00414 <span class="comment">Routine Description:</span>
00415 <span class="comment"></span>
00416 <span class="comment">    This function queries the current number of entries contained in a</span>
00417 <span class="comment">    sequenced single linked list.</span>
00418 <span class="comment"></span>
00419 <span class="comment">Arguments:</span>
00420 <span class="comment"></span>
00421 <span class="comment">    SListHead - Supplies a pointer to the sequenced listhead which is</span>
00422 <span class="comment">        be queried.</span>
00423 <span class="comment"></span>
00424 <span class="comment">Return Value:</span>
00425 <span class="comment"></span>
00426 <span class="comment">    The current number of entries in the sequenced singly linked list is</span>
00427 <span class="comment">    returned as the function value.</span>
00428 <span class="comment"></span>
00429 <span class="comment">--*/</span>
00430 
<a name="l00431"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a14">00431</a> <span class="preprocessor">#define RtlpQueryDepthSList(_listhead_) (_listhead_)-&gt;Depth</span>
00432 <span class="preprocessor"></span>
00433 PVOID
00434 <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a0">FASTCALL</a>
00435 <a class="code" href="../../d5/d9/ntrtlp_8h.html#a46">RtlpInterlockedPopEntrySList</a> (
00436     IN <a class="code" href="../../d9/d3/union__SLIST__HEADER.html">PSLIST_HEADER</a> ListHead
00437     );
00438 
00439 PVOID
00440 <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a0">FASTCALL</a>
00441 <a class="code" href="../../d5/d9/ntrtlp_8h.html#a47">RtlpInterlockedPushEntrySList</a> (
00442     IN <a class="code" href="../../d9/d3/union__SLIST__HEADER.html">PSLIST_HEADER</a> ListHead,
00443     IN PVOID ListEntry
00444     );
00445 
00446 
00447 <span class="preprocessor">#if defined(NTOS_KERNEL_RUNTIME) || defined(BLDR_KERNEL_RUNTIME)</span>
00448 <span class="preprocessor"></span>
00449 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00450 <a class="code" href="../../d8/d5/debug3_8c.html#a4">DebugLoadImageSymbols</a>(
00451     IN PSTRING FileName,
00452     IN <a class="code" href="../../d6/d5/struct__KD__SYMBOLS__INFO.html">PKD_SYMBOLS_INFO</a> SymbolInfo
00453     );
00454 
00455 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00456 <a class="code" href="../../d8/d5/debug3_8c.html#a5">DebugUnLoadImageSymbols</a>(
00457     IN PSTRING FileName,
00458     IN <a class="code" href="../../d6/d5/struct__KD__SYMBOLS__INFO.html">PKD_SYMBOLS_INFO</a> SymbolInfo
00459     );
00460 
00461 <span class="preprocessor">#endif // defined(NTOS_KERNEL_RUNTIME)</span>
00462 <span class="preprocessor"></span>
00463 <span class="preprocessor">#endif  // _NTRTLP_</span>
00464 <span class="preprocessor"></span>
00465 <span class="comment">//</span>
00466 <span class="comment">// Procedure prototype for exception logging routines.</span>
00467 
00468 ULONG
00469 <a class="code" href="../../d5/d9/ntrtlp_8h.html#a48">RtlpLogExceptionHandler</a>(
00470     IN PEXCEPTION_RECORD ExceptionRecord,
00471     IN PCONTEXT ContextRecord,
00472     IN ULONG_PTR ControlPc,
00473     IN PVOID HandlerData,
00474     IN ULONG Size
00475     );
00476 
00477 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00478 <a class="code" href="../../d5/d9/ntrtlp_8h.html#a49">RtlpLogLastExceptionDisposition</a>(
00479     IN ULONG LogIndex,
00480     IN EXCEPTION_DISPOSITION Disposition
00481     );
00482 
00483 <span class="preprocessor">#ifndef NTOS_KERNEL_RUNTIME</span>
00484 <span class="preprocessor"></span>
<a name="l00485"></a><a class="code" href="../../d5/d9/ntrtlp_8h.html#a15">00485</a> <span class="preprocessor">#define NO_ALTERNATE_RESOURCE_MODULE    (PVOID)(-1)</span>
00486 <span class="preprocessor"></span>
<a name="l00487"></a><a class="code" href="../../d8/d6/struct__ALT__RESOURCE__MODULE.html">00487</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/d6/struct__ALT__RESOURCE__MODULE.html">_ALT_RESOURCE_MODULE</a> {
00488     <span class="comment">//</span>
00489     <span class="comment">// Module handle for module known to application,</span>
00490     <span class="comment">// whose resource accesses we want to redirect.</span>
00491     <span class="comment">//</span>
<a name="l00492"></a><a class="code" href="../../d8/d6/struct__ALT__RESOURCE__MODULE.html#o0">00492</a>     PVOID <a class="code" href="../../d8/d6/struct__ALT__RESOURCE__MODULE.html#o0">ModuleBase</a>;
00493     <span class="comment">//</span>
00494     <span class="comment">// Module handle for module we loaded under the covers,</span>
00495     <span class="comment">// to which resource access will be redirected; will be</span>
00496     <span class="comment">// NO_ALTERNATE_RESOURCE_MODULE if we tried and failed to load</span>
00497     <span class="comment">// the alternate resource module for the module represented by</span>
00498     <span class="comment">// ModuleBase.</span>
00499     <span class="comment">//</span>
<a name="l00500"></a><a class="code" href="../../d8/d6/struct__ALT__RESOURCE__MODULE.html#o1">00500</a>     PVOID <a class="code" href="../../d8/d6/struct__ALT__RESOURCE__MODULE.html#o1">AlternateModule</a>;
00501 } <a class="code" href="../../d8/d6/struct__ALT__RESOURCE__MODULE.html">ALT_RESOURCE_MODULE</a>, *<a class="code" href="../../d8/d6/struct__ALT__RESOURCE__MODULE.html">PALT_RESOURCE_MODULE</a>;
00502 
00503 BOOLEAN
00504 <a class="code" href="../../d5/d9/ntrtlp_8h.html#a50">LdrpVerifyAlternateResourceModule</a>(
00505     IN PVOID Module,
00506     IN PVOID AlternateModule
00507     );
00508 
00509 BOOLEAN
00510 <a class="code" href="../../d5/d9/ntrtlp_8h.html#a51">LdrpSetAlternateResourceModuleHandle</a>(
00511     IN PVOID Module,
00512     IN PVOID AlternateModule
00513     );
00514 <span class="preprocessor">#endif</span>
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:41:01 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
