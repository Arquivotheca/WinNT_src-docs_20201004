<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: getsetrg.c Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>getsetrg.c</h1><a href="../../d5/d5/alpha_2getsetrg_8c.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">/*++</span>
00002 <span class="comment"></span>
00003 <span class="comment">Copyright (c) 1991  Microsoft Corporation</span>
00004 <span class="comment">Copyright (c) 1992  Digital Equipment Corporation</span>
00005 <span class="comment"></span>
00006 <span class="comment">Module Name:</span>
00007 <span class="comment"></span>
00008 <span class="comment">    getsetrg.c</span>
00009 <span class="comment"></span>
00010 <span class="comment">Abstract:</span>
00011 <span class="comment"></span>
00012 <span class="comment">    This module implement the code necessary to get and set register values.</span>
00013 <span class="comment">    These routines are used during the emulation of unaligned data references</span>
00014 <span class="comment">    and floating point exceptions.</span>
00015 <span class="comment"></span>
00016 <span class="comment">Author:</span>
00017 <span class="comment"></span>
00018 <span class="comment">    David N. Cutler (davec) 17-Jun-1991</span>
00019 <span class="comment"></span>
00020 <span class="comment">Environment:</span>
00021 <span class="comment"></span>
00022 <span class="comment">    Kernel mode only.</span>
00023 <span class="comment"></span>
00024 <span class="comment">Revision History:</span>
00025 <span class="comment"></span>
00026 <span class="comment">    Thomas Van Baak (tvb) 14-Jul-1992</span>
00027 <span class="comment"></span>
00028 <span class="comment">        Adapted for NT/Alpha</span>
00029 <span class="comment"></span>
00030 <span class="comment">--*/</span>
00031 
00032 <span class="preprocessor">#include "<a class="code" href="../../d0/d0/ki_8h.html">ki.h</a>"</span>
00033 
00034 ULONGLONG
<a name="l00035"></a><a class="code" href="../../d5/d5/alpha_2getsetrg_8c.html#a0">00035</a> <a class="code" href="../../d8/d5/ppc_2getsetrg_8c.html#a0">KiGetRegisterValue</a> (
00036     IN ULONG Register,
00037     IN PKEXCEPTION_FRAME ExceptionFrame,
00038     IN PKTRAP_FRAME TrapFrame
00039     )
00040 
00041 <span class="comment">/*++</span>
00042 <span class="comment"></span>
00043 <span class="comment">Routine Description:</span>
00044 <span class="comment"></span>
00045 <span class="comment">    This function is called to get the value of a register from the specified</span>
00046 <span class="comment">    exception or trap frame.</span>
00047 <span class="comment"></span>
00048 <span class="comment">Arguments:</span>
00049 <span class="comment"></span>
00050 <span class="comment">    Register - Supplies the number of the register whose value is to be</span>
00051 <span class="comment">        returned. Integer registers are specified as 0 - 31 and floating</span>
00052 <span class="comment">        registers are specified as 32 - 63.</span>
00053 <span class="comment"></span>
00054 <span class="comment">    ExceptionFrame - Supplies a pointer to an exception frame.</span>
00055 <span class="comment"></span>
00056 <span class="comment">    TrapFrame - Supplies a pointer to a trap frame.</span>
00057 <span class="comment"></span>
00058 <span class="comment">Return Value:</span>
00059 <span class="comment"></span>
00060 <span class="comment">    The value of the specified register is returned as the function value.</span>
00061 <span class="comment"></span>
00062 <span class="comment">--*/</span>
00063 
00064 {
00065 
00066     <span class="comment">//</span>
00067     <span class="comment">// Dispatch on the register number.</span>
00068     <span class="comment">//</span>
00069 
00070     <span class="keywordflow">switch</span> (Register) {
00071 
00072         <span class="comment">//</span>
00073         <span class="comment">// Integer register V0.</span>
00074         <span class="comment">//</span>
00075 
00076     <span class="keywordflow">case</span> 0:
00077         <span class="keywordflow">return</span> TrapFrame-&gt;IntV0;
00078 
00079         <span class="comment">//</span>
00080         <span class="comment">// Integer register T0.</span>
00081         <span class="comment">//</span>
00082 
00083     <span class="keywordflow">case</span> 1:
00084         <span class="keywordflow">return</span> TrapFrame-&gt;IntT0;
00085 
00086         <span class="comment">//</span>
00087         <span class="comment">// Integer register T1.</span>
00088         <span class="comment">//</span>
00089 
00090     <span class="keywordflow">case</span> 2:
00091         <span class="keywordflow">return</span> TrapFrame-&gt;IntT1;
00092 
00093         <span class="comment">//</span>
00094         <span class="comment">// Integer register T2.</span>
00095         <span class="comment">//</span>
00096 
00097     <span class="keywordflow">case</span> 3:
00098         <span class="keywordflow">return</span> TrapFrame-&gt;IntT2;
00099 
00100         <span class="comment">//</span>
00101         <span class="comment">// Integer register T3.</span>
00102         <span class="comment">//</span>
00103 
00104     <span class="keywordflow">case</span> 4:
00105         <span class="keywordflow">return</span> TrapFrame-&gt;IntT3;
00106 
00107         <span class="comment">//</span>
00108         <span class="comment">// Integer register T4.</span>
00109         <span class="comment">//</span>
00110 
00111     <span class="keywordflow">case</span> 5:
00112         <span class="keywordflow">return</span> TrapFrame-&gt;IntT4;
00113 
00114         <span class="comment">//</span>
00115         <span class="comment">// Integer register T5.</span>
00116         <span class="comment">//</span>
00117 
00118     <span class="keywordflow">case</span> 6:
00119         <span class="keywordflow">return</span> TrapFrame-&gt;IntT5;
00120 
00121         <span class="comment">//</span>
00122         <span class="comment">// Integer register T6.</span>
00123         <span class="comment">//</span>
00124 
00125     <span class="keywordflow">case</span> 7:
00126         <span class="keywordflow">return</span> TrapFrame-&gt;IntT6;
00127 
00128         <span class="comment">//</span>
00129         <span class="comment">// Integer register T7.</span>
00130         <span class="comment">//</span>
00131 
00132     <span class="keywordflow">case</span> 8:
00133         <span class="keywordflow">return</span> TrapFrame-&gt;IntT7;
00134 
00135         <span class="comment">//</span>
00136         <span class="comment">// Integer register S0.</span>
00137         <span class="comment">//</span>
00138 
00139     <span class="keywordflow">case</span> 9:
00140         <span class="keywordflow">return</span> ExceptionFrame-&gt;IntS0;
00141 
00142         <span class="comment">//</span>
00143         <span class="comment">// Integer register S1.</span>
00144         <span class="comment">//</span>
00145 
00146     <span class="keywordflow">case</span> 10:
00147         <span class="keywordflow">return</span> ExceptionFrame-&gt;IntS1;
00148 
00149         <span class="comment">//</span>
00150         <span class="comment">// Integer register S2.</span>
00151         <span class="comment">//</span>
00152 
00153     <span class="keywordflow">case</span> 11:
00154         <span class="keywordflow">return</span> ExceptionFrame-&gt;IntS2;
00155 
00156         <span class="comment">//</span>
00157         <span class="comment">// Integer register S3.</span>
00158         <span class="comment">//</span>
00159 
00160     <span class="keywordflow">case</span> 12:
00161         <span class="keywordflow">return</span> ExceptionFrame-&gt;IntS3;
00162 
00163         <span class="comment">//</span>
00164         <span class="comment">// Integer register S4.</span>
00165         <span class="comment">//</span>
00166 
00167     <span class="keywordflow">case</span> 13:
00168         <span class="keywordflow">return</span> ExceptionFrame-&gt;IntS4;
00169 
00170         <span class="comment">//</span>
00171         <span class="comment">// Integer register S5.</span>
00172         <span class="comment">//</span>
00173 
00174     <span class="keywordflow">case</span> 14:
00175         <span class="keywordflow">return</span> ExceptionFrame-&gt;IntS5;
00176 
00177         <span class="comment">//</span>
00178         <span class="comment">// Integer register S6/Fp.</span>
00179         <span class="comment">//</span>
00180         <span class="comment">// N.B. Unlike the other S registers, S6 is obtained from the trap</span>
00181         <span class="comment">// frame instead of the exception frame since it is used by the kernel</span>
00182         <span class="comment">// as a trap frame pointer.</span>
00183         <span class="comment">//</span>
00184 
00185     <span class="keywordflow">case</span> 15:
00186         <span class="keywordflow">return</span> TrapFrame-&gt;IntFp;
00187 
00188         <span class="comment">//</span>
00189         <span class="comment">// Integer register A0.</span>
00190         <span class="comment">//</span>
00191 
00192     <span class="keywordflow">case</span> 16:
00193         <span class="keywordflow">return</span> TrapFrame-&gt;IntA0;
00194 
00195         <span class="comment">//</span>
00196         <span class="comment">// Integer register A1.</span>
00197         <span class="comment">//</span>
00198 
00199     <span class="keywordflow">case</span> 17:
00200         <span class="keywordflow">return</span> TrapFrame-&gt;IntA1;
00201 
00202         <span class="comment">//</span>
00203         <span class="comment">// Integer register A2</span>
00204         <span class="comment">//</span>
00205 
00206     <span class="keywordflow">case</span> 18:
00207         <span class="keywordflow">return</span> TrapFrame-&gt;IntA2;
00208 
00209         <span class="comment">//</span>
00210         <span class="comment">// Integer register A3.</span>
00211         <span class="comment">//</span>
00212 
00213     <span class="keywordflow">case</span> 19:
00214         <span class="keywordflow">return</span> TrapFrame-&gt;IntA3;
00215 
00216         <span class="comment">//</span>
00217         <span class="comment">// Integer register A4.</span>
00218         <span class="comment">//</span>
00219 
00220     <span class="keywordflow">case</span> 20:
00221         <span class="keywordflow">return</span> TrapFrame-&gt;IntA4;
00222 
00223         <span class="comment">//</span>
00224         <span class="comment">// Integer register A5.</span>
00225         <span class="comment">//</span>
00226 
00227     <span class="keywordflow">case</span> 21:
00228         <span class="keywordflow">return</span> TrapFrame-&gt;IntA5;
00229 
00230         <span class="comment">//</span>
00231         <span class="comment">// Integer register T8.</span>
00232         <span class="comment">//</span>
00233 
00234     <span class="keywordflow">case</span> 22:
00235         <span class="keywordflow">return</span> TrapFrame-&gt;IntT8;
00236 
00237         <span class="comment">//</span>
00238         <span class="comment">// Integer register T9.</span>
00239         <span class="comment">//</span>
00240 
00241     <span class="keywordflow">case</span> 23:
00242         <span class="keywordflow">return</span> TrapFrame-&gt;IntT9;
00243 
00244         <span class="comment">//</span>
00245         <span class="comment">// Integer register T10.</span>
00246         <span class="comment">//</span>
00247 
00248     <span class="keywordflow">case</span> 24:
00249         <span class="keywordflow">return</span> TrapFrame-&gt;IntT10;
00250 
00251         <span class="comment">//</span>
00252         <span class="comment">// Integer register T11.</span>
00253         <span class="comment">//</span>
00254 
00255     <span class="keywordflow">case</span> 25:
00256         <span class="keywordflow">return</span> TrapFrame-&gt;IntT11;
00257 
00258         <span class="comment">//</span>
00259         <span class="comment">// Integer register Ra.</span>
00260         <span class="comment">//</span>
00261 
00262     <span class="keywordflow">case</span> 26:
00263         <span class="keywordflow">return</span> TrapFrame-&gt;IntRa;
00264 
00265         <span class="comment">//</span>
00266         <span class="comment">// Integer register T12.</span>
00267         <span class="comment">//</span>
00268 
00269     <span class="keywordflow">case</span> 27:
00270         <span class="keywordflow">return</span> TrapFrame-&gt;IntT12;
00271 
00272         <span class="comment">//</span>
00273         <span class="comment">// Integer register At.</span>
00274         <span class="comment">//</span>
00275 
00276     <span class="keywordflow">case</span> 28:
00277         <span class="keywordflow">return</span> TrapFrame-&gt;IntAt;
00278 
00279         <span class="comment">//</span>
00280         <span class="comment">// Integer register Gp.</span>
00281         <span class="comment">//</span>
00282 
00283     <span class="keywordflow">case</span> 29:
00284         <span class="keywordflow">return</span> TrapFrame-&gt;IntGp;
00285 
00286         <span class="comment">//</span>
00287         <span class="comment">// Integer register Sp.</span>
00288         <span class="comment">//</span>
00289 
00290     <span class="keywordflow">case</span> 30:
00291         <span class="keywordflow">return</span> TrapFrame-&gt;IntSp;
00292 
00293         <span class="comment">//</span>
00294         <span class="comment">// Integer register Zero.</span>
00295         <span class="comment">//</span>
00296 
00297     <span class="keywordflow">case</span> 31:
00298         <span class="keywordflow">return</span> 0;
00299 
00300         <span class="comment">//</span>
00301         <span class="comment">// Floating register F0.</span>
00302         <span class="comment">//</span>
00303 
00304     <span class="keywordflow">case</span> 32:
00305         <span class="keywordflow">return</span> TrapFrame-&gt;FltF0;
00306 
00307         <span class="comment">//</span>
00308         <span class="comment">// Floating register F1.</span>
00309         <span class="comment">//</span>
00310 
00311     <span class="keywordflow">case</span> 33:
00312         <span class="keywordflow">return</span> TrapFrame-&gt;FltF1;
00313 
00314         <span class="comment">//</span>
00315         <span class="comment">// Floating register F2.</span>
00316         <span class="comment">//</span>
00317 
00318     <span class="keywordflow">case</span> 34:
00319         <span class="keywordflow">return</span> ExceptionFrame-&gt;FltF2;
00320 
00321         <span class="comment">//</span>
00322         <span class="comment">// Floating register F3.</span>
00323         <span class="comment">//</span>
00324 
00325     <span class="keywordflow">case</span> 35:
00326         <span class="keywordflow">return</span> ExceptionFrame-&gt;FltF3;
00327 
00328         <span class="comment">//</span>
00329         <span class="comment">// Floating register F4.</span>
00330         <span class="comment">//</span>
00331 
00332     <span class="keywordflow">case</span> 36:
00333         <span class="keywordflow">return</span> ExceptionFrame-&gt;FltF4;
00334 
00335         <span class="comment">//</span>
00336         <span class="comment">// Floating register F5.</span>
00337         <span class="comment">//</span>
00338 
00339     <span class="keywordflow">case</span> 37:
00340         <span class="keywordflow">return</span> ExceptionFrame-&gt;FltF5;
00341 
00342         <span class="comment">//</span>
00343         <span class="comment">// Floating register F6.</span>
00344         <span class="comment">//</span>
00345 
00346     <span class="keywordflow">case</span> 38:
00347         <span class="keywordflow">return</span> ExceptionFrame-&gt;FltF6;
00348 
00349         <span class="comment">//</span>
00350         <span class="comment">// Floating register F7.</span>
00351         <span class="comment">//</span>
00352 
00353     <span class="keywordflow">case</span> 39:
00354         <span class="keywordflow">return</span> ExceptionFrame-&gt;FltF7;
00355 
00356         <span class="comment">//</span>
00357         <span class="comment">// Floating register F8.</span>
00358         <span class="comment">//</span>
00359 
00360     <span class="keywordflow">case</span> 40:
00361         <span class="keywordflow">return</span> ExceptionFrame-&gt;FltF8;
00362 
00363         <span class="comment">//</span>
00364         <span class="comment">// Floating register F9.</span>
00365         <span class="comment">//</span>
00366 
00367     <span class="keywordflow">case</span> 41:
00368         <span class="keywordflow">return</span> ExceptionFrame-&gt;FltF9;
00369 
00370         <span class="comment">//</span>
00371         <span class="comment">// Floating register F10.</span>
00372         <span class="comment">//</span>
00373 
00374     <span class="keywordflow">case</span> 42:
00375         <span class="keywordflow">return</span> TrapFrame-&gt;FltF10;
00376 
00377         <span class="comment">//</span>
00378         <span class="comment">// Floating register F11.</span>
00379         <span class="comment">//</span>
00380 
00381     <span class="keywordflow">case</span> 43:
00382         <span class="keywordflow">return</span> TrapFrame-&gt;FltF11;
00383 
00384         <span class="comment">//</span>
00385         <span class="comment">// Floating register F12.</span>
00386         <span class="comment">//</span>
00387 
00388     <span class="keywordflow">case</span> 44:
00389         <span class="keywordflow">return</span> TrapFrame-&gt;FltF12;
00390 
00391         <span class="comment">//</span>
00392         <span class="comment">// Floating register F13.</span>
00393         <span class="comment">//</span>
00394 
00395     <span class="keywordflow">case</span> 45:
00396         <span class="keywordflow">return</span> TrapFrame-&gt;FltF13;
00397 
00398         <span class="comment">//</span>
00399         <span class="comment">// Floating register F14.</span>
00400         <span class="comment">//</span>
00401 
00402     <span class="keywordflow">case</span> 46:
00403         <span class="keywordflow">return</span> TrapFrame-&gt;FltF14;
00404 
00405         <span class="comment">//</span>
00406         <span class="comment">// Floating register F15.</span>
00407         <span class="comment">//</span>
00408 
00409     <span class="keywordflow">case</span> 47:
00410         <span class="keywordflow">return</span> TrapFrame-&gt;FltF15;
00411 
00412         <span class="comment">//</span>
00413         <span class="comment">// Floating register F16.</span>
00414         <span class="comment">//</span>
00415 
00416     <span class="keywordflow">case</span> 48:
00417         <span class="keywordflow">return</span> TrapFrame-&gt;FltF16;
00418 
00419         <span class="comment">//</span>
00420         <span class="comment">// Floating register F17.</span>
00421         <span class="comment">//</span>
00422 
00423     <span class="keywordflow">case</span> 49:
00424         <span class="keywordflow">return</span> TrapFrame-&gt;FltF17;
00425 
00426         <span class="comment">//</span>
00427         <span class="comment">// Floating register F18.</span>
00428         <span class="comment">//</span>
00429 
00430     <span class="keywordflow">case</span> 50:
00431         <span class="keywordflow">return</span> TrapFrame-&gt;FltF18;
00432 
00433         <span class="comment">//</span>
00434         <span class="comment">// Floating register F19.</span>
00435         <span class="comment">//</span>
00436 
00437     <span class="keywordflow">case</span> 51:
00438         <span class="keywordflow">return</span> TrapFrame-&gt;FltF19;
00439 
00440         <span class="comment">//</span>
00441         <span class="comment">// Floating register F20.</span>
00442         <span class="comment">//</span>
00443 
00444     <span class="keywordflow">case</span> 52:
00445         <span class="keywordflow">return</span> TrapFrame-&gt;FltF20;
00446 
00447         <span class="comment">//</span>
00448         <span class="comment">// Floating register F21.</span>
00449         <span class="comment">//</span>
00450 
00451     <span class="keywordflow">case</span> 53:
00452         <span class="keywordflow">return</span> TrapFrame-&gt;FltF21;
00453 
00454         <span class="comment">//</span>
00455         <span class="comment">// Floating register F22.</span>
00456         <span class="comment">//</span>
00457 
00458     <span class="keywordflow">case</span> 54:
00459         <span class="keywordflow">return</span> TrapFrame-&gt;FltF22;
00460 
00461         <span class="comment">//</span>
00462         <span class="comment">// Floating register F23.</span>
00463         <span class="comment">//</span>
00464 
00465     <span class="keywordflow">case</span> 55:
00466         <span class="keywordflow">return</span> TrapFrame-&gt;FltF23;
00467 
00468         <span class="comment">//</span>
00469         <span class="comment">// Floating register F24.</span>
00470         <span class="comment">//</span>
00471 
00472     <span class="keywordflow">case</span> 56:
00473         <span class="keywordflow">return</span> TrapFrame-&gt;FltF24;
00474 
00475         <span class="comment">//</span>
00476         <span class="comment">// Floating register F25.</span>
00477         <span class="comment">//</span>
00478 
00479     <span class="keywordflow">case</span> 57:
00480         <span class="keywordflow">return</span> TrapFrame-&gt;FltF25;
00481 
00482         <span class="comment">//</span>
00483         <span class="comment">// Floating register F26.</span>
00484         <span class="comment">//</span>
00485 
00486     <span class="keywordflow">case</span> 58:
00487         <span class="keywordflow">return</span> TrapFrame-&gt;FltF26;
00488 
00489         <span class="comment">//</span>
00490         <span class="comment">// Floating register F27.</span>
00491         <span class="comment">//</span>
00492 
00493     <span class="keywordflow">case</span> 59:
00494         <span class="keywordflow">return</span> TrapFrame-&gt;FltF27;
00495 
00496         <span class="comment">//</span>
00497         <span class="comment">// Floating register F28.</span>
00498         <span class="comment">//</span>
00499 
00500     <span class="keywordflow">case</span> 60:
00501         <span class="keywordflow">return</span> TrapFrame-&gt;FltF28;
00502 
00503         <span class="comment">//</span>
00504         <span class="comment">// Floating register F29.</span>
00505         <span class="comment">//</span>
00506 
00507     <span class="keywordflow">case</span> 61:
00508         <span class="keywordflow">return</span> TrapFrame-&gt;FltF29;
00509 
00510         <span class="comment">//</span>
00511         <span class="comment">// Floating register F30.</span>
00512         <span class="comment">//</span>
00513 
00514     <span class="keywordflow">case</span> 62:
00515         <span class="keywordflow">return</span> TrapFrame-&gt;FltF30;
00516 
00517         <span class="comment">//</span>
00518         <span class="comment">// Floating register F31 (Zero).</span>
00519         <span class="comment">//</span>
00520 
00521     <span class="keywordflow">case</span> 63:
00522         <span class="keywordflow">return</span> 0;
00523     }
00524 }
00525 
00526 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
<a name="l00527"></a><a class="code" href="../../d5/d5/alpha_2getsetrg_8c.html#a1">00527</a> <a class="code" href="../../d8/d5/ppc_2getsetrg_8c.html#a1">KiSetRegisterValue</a> (
00528     IN ULONG Register,
00529     IN ULONGLONG Value,
00530     OUT PKEXCEPTION_FRAME ExceptionFrame,
00531     OUT PKTRAP_FRAME TrapFrame
00532     )
00533 
00534 <span class="comment">/*++</span>
00535 <span class="comment"></span>
00536 <span class="comment">Routine Description:</span>
00537 <span class="comment"></span>
00538 <span class="comment">    This function is called to set the value of a register in the specified</span>
00539 <span class="comment">    exception or trap frame.</span>
00540 <span class="comment"></span>
00541 <span class="comment">Arguments:</span>
00542 <span class="comment"></span>
00543 <span class="comment">    Register - Supplies the number of the register whose value is to be</span>
00544 <span class="comment">        stored. Integer registers are specified as 0 - 31 and floating</span>
00545 <span class="comment">        registers are specified as 32 - 63.</span>
00546 <span class="comment"></span>
00547 <span class="comment">    Value - Supplies the value to be stored in the specified register.</span>
00548 <span class="comment"></span>
00549 <span class="comment">    ExceptionFrame - Supplies a pointer to an exception frame.</span>
00550 <span class="comment"></span>
00551 <span class="comment">    TrapFrame - Supplies a pointer to a trap frame.</span>
00552 <span class="comment"></span>
00553 <span class="comment">Return Value:</span>
00554 <span class="comment"></span>
00555 <span class="comment">    None.</span>
00556 <span class="comment"></span>
00557 <span class="comment">--*/</span>
00558 
00559 {
00560 
00561     <span class="comment">//</span>
00562     <span class="comment">// Dispatch on the register number.</span>
00563     <span class="comment">//</span>
00564 
00565     <span class="keywordflow">switch</span> (Register) {
00566 
00567         <span class="comment">//</span>
00568         <span class="comment">// Integer register V0.</span>
00569         <span class="comment">//</span>
00570 
00571     <span class="keywordflow">case</span> 0:
00572         TrapFrame-&gt;IntV0 = Value;
00573         <span class="keywordflow">return</span>;
00574 
00575         <span class="comment">//</span>
00576         <span class="comment">// Integer register T0.</span>
00577         <span class="comment">//</span>
00578 
00579     <span class="keywordflow">case</span> 1:
00580         TrapFrame-&gt;IntT0 = Value;
00581         <span class="keywordflow">return</span>;
00582 
00583         <span class="comment">//</span>
00584         <span class="comment">// Integer register T1.</span>
00585         <span class="comment">//</span>
00586 
00587     <span class="keywordflow">case</span> 2:
00588         TrapFrame-&gt;IntT1 = Value;
00589         <span class="keywordflow">return</span>;
00590 
00591         <span class="comment">//</span>
00592         <span class="comment">// Integer register T2.</span>
00593         <span class="comment">//</span>
00594 
00595     <span class="keywordflow">case</span> 3:
00596         TrapFrame-&gt;IntT2 = Value;
00597         <span class="keywordflow">return</span>;
00598 
00599         <span class="comment">//</span>
00600         <span class="comment">// Integer register T3.</span>
00601         <span class="comment">//</span>
00602 
00603     <span class="keywordflow">case</span> 4:
00604         TrapFrame-&gt;IntT3 = Value;
00605         <span class="keywordflow">return</span>;
00606 
00607         <span class="comment">//</span>
00608         <span class="comment">// Integer register T4.</span>
00609         <span class="comment">//</span>
00610 
00611     <span class="keywordflow">case</span> 5:
00612         TrapFrame-&gt;IntT4 = Value;
00613         <span class="keywordflow">return</span>;
00614 
00615         <span class="comment">//</span>
00616         <span class="comment">// Integer register T5.</span>
00617         <span class="comment">//</span>
00618 
00619     <span class="keywordflow">case</span> 6:
00620         TrapFrame-&gt;IntT5 = Value;
00621         <span class="keywordflow">return</span>;
00622 
00623         <span class="comment">//</span>
00624         <span class="comment">// Integer register T6.</span>
00625         <span class="comment">//</span>
00626 
00627     <span class="keywordflow">case</span> 7:
00628         TrapFrame-&gt;IntT6 = Value;
00629         <span class="keywordflow">return</span>;
00630 
00631         <span class="comment">//</span>
00632         <span class="comment">// Integer register T7.</span>
00633         <span class="comment">//</span>
00634 
00635     <span class="keywordflow">case</span> 8:
00636         TrapFrame-&gt;IntT7 = Value;
00637         <span class="keywordflow">return</span>;
00638 
00639         <span class="comment">//</span>
00640         <span class="comment">// Integer register S0.</span>
00641         <span class="comment">//</span>
00642 
00643     <span class="keywordflow">case</span> 9:
00644         ExceptionFrame-&gt;IntS0 = Value;
00645         <span class="keywordflow">return</span>;
00646 
00647         <span class="comment">//</span>
00648         <span class="comment">// Integer register S1.</span>
00649         <span class="comment">//</span>
00650 
00651     <span class="keywordflow">case</span> 10:
00652         ExceptionFrame-&gt;IntS1 = Value;
00653         <span class="keywordflow">return</span>;
00654 
00655         <span class="comment">//</span>
00656         <span class="comment">// Integer register S2.</span>
00657         <span class="comment">//</span>
00658 
00659     <span class="keywordflow">case</span> 11:
00660         ExceptionFrame-&gt;IntS2 = Value;
00661         <span class="keywordflow">return</span>;
00662 
00663         <span class="comment">//</span>
00664         <span class="comment">// Integer register S3.</span>
00665         <span class="comment">//</span>
00666 
00667     <span class="keywordflow">case</span> 12:
00668         ExceptionFrame-&gt;IntS3 = Value;
00669         <span class="keywordflow">return</span>;
00670 
00671         <span class="comment">//</span>
00672         <span class="comment">// Integer register S4.</span>
00673         <span class="comment">//</span>
00674 
00675     <span class="keywordflow">case</span> 13:
00676         ExceptionFrame-&gt;IntS4 = Value;
00677         <span class="keywordflow">return</span>;
00678 
00679         <span class="comment">//</span>
00680         <span class="comment">// Integer register S5.</span>
00681         <span class="comment">//</span>
00682 
00683     <span class="keywordflow">case</span> 14:
00684         ExceptionFrame-&gt;IntS5 = Value;
00685         <span class="keywordflow">return</span>;
00686 
00687         <span class="comment">//</span>
00688         <span class="comment">// Integer register S6/Fp.</span>
00689         <span class="comment">//</span>
00690         <span class="comment">// N.B. Unlike the other S registers, S6 is stored back in the trap</span>
00691         <span class="comment">// frame instead of the exception frame since it is used by the kernel</span>
00692         <span class="comment">// as a trap frame pointer.</span>
00693         <span class="comment">//</span>
00694 
00695     <span class="keywordflow">case</span> 15:
00696         TrapFrame-&gt;IntFp = Value;
00697         <span class="keywordflow">return</span>;
00698 
00699         <span class="comment">//</span>
00700         <span class="comment">// Integer register A0.</span>
00701         <span class="comment">//</span>
00702 
00703     <span class="keywordflow">case</span> 16:
00704         TrapFrame-&gt;IntA0 = Value;
00705         <span class="keywordflow">return</span>;
00706 
00707         <span class="comment">//</span>
00708         <span class="comment">// Integer register A1.</span>
00709         <span class="comment">//</span>
00710 
00711     <span class="keywordflow">case</span> 17:
00712         TrapFrame-&gt;IntA1 = Value;
00713         <span class="keywordflow">return</span>;
00714 
00715         <span class="comment">//</span>
00716         <span class="comment">// Integer register A2.</span>
00717         <span class="comment">//</span>
00718 
00719     <span class="keywordflow">case</span> 18:
00720         TrapFrame-&gt;IntA2 = Value;
00721         <span class="keywordflow">return</span>;
00722 
00723         <span class="comment">//</span>
00724         <span class="comment">// Integer register A3.</span>
00725         <span class="comment">//</span>
00726 
00727     <span class="keywordflow">case</span> 19:
00728         TrapFrame-&gt;IntA3 = Value;
00729         <span class="keywordflow">return</span>;
00730 
00731         <span class="comment">//</span>
00732         <span class="comment">// Integer register A4.</span>
00733         <span class="comment">//</span>
00734 
00735     <span class="keywordflow">case</span> 20:
00736         TrapFrame-&gt;IntA4 = Value;
00737         <span class="keywordflow">return</span>;
00738 
00739         <span class="comment">//</span>
00740         <span class="comment">// Integer register A5.</span>
00741         <span class="comment">//</span>
00742 
00743     <span class="keywordflow">case</span> 21:
00744         TrapFrame-&gt;IntA5 = Value;
00745         <span class="keywordflow">return</span>;
00746 
00747         <span class="comment">//</span>
00748         <span class="comment">// Integer register T8.</span>
00749         <span class="comment">//</span>
00750 
00751     <span class="keywordflow">case</span> 22:
00752         TrapFrame-&gt;IntT8 = Value;
00753         <span class="keywordflow">return</span>;
00754 
00755         <span class="comment">//</span>
00756         <span class="comment">// Integer register T9.</span>
00757         <span class="comment">//</span>
00758 
00759     <span class="keywordflow">case</span> 23:
00760         TrapFrame-&gt;IntT9 = Value;
00761         <span class="keywordflow">return</span>;
00762 
00763         <span class="comment">//</span>
00764         <span class="comment">// Integer register T10.</span>
00765         <span class="comment">//</span>
00766 
00767     <span class="keywordflow">case</span> 24:
00768         TrapFrame-&gt;IntT10 = Value;
00769         <span class="keywordflow">return</span>;
00770 
00771         <span class="comment">//</span>
00772         <span class="comment">// Integer register T11.</span>
00773         <span class="comment">//</span>
00774 
00775     <span class="keywordflow">case</span> 25:
00776         TrapFrame-&gt;IntT11 = Value;
00777         <span class="keywordflow">return</span>;
00778 
00779         <span class="comment">//</span>
00780         <span class="comment">// Integer register Ra.</span>
00781         <span class="comment">//</span>
00782 
00783     <span class="keywordflow">case</span> 26:
00784         TrapFrame-&gt;IntRa = Value;
00785         <span class="keywordflow">return</span>;
00786 
00787         <span class="comment">//</span>
00788         <span class="comment">// Integer register T12.</span>
00789         <span class="comment">//</span>
00790 
00791     <span class="keywordflow">case</span> 27:
00792         TrapFrame-&gt;IntT12 = Value;
00793         <span class="keywordflow">return</span>;
00794 
00795         <span class="comment">//</span>
00796         <span class="comment">// Integer register At.</span>
00797         <span class="comment">//</span>
00798 
00799     <span class="keywordflow">case</span> 28:
00800         TrapFrame-&gt;IntAt = Value;
00801         <span class="keywordflow">return</span>;
00802 
00803         <span class="comment">//</span>
00804         <span class="comment">// Integer register Gp.</span>
00805         <span class="comment">//</span>
00806 
00807     <span class="keywordflow">case</span> 29:
00808         TrapFrame-&gt;IntGp = Value;
00809         <span class="keywordflow">return</span>;
00810 
00811         <span class="comment">//</span>
00812         <span class="comment">// Integer register Sp.</span>
00813         <span class="comment">//</span>
00814 
00815     <span class="keywordflow">case</span> 30:
00816         TrapFrame-&gt;IntSp = Value;
00817         <span class="keywordflow">return</span>;
00818 
00819         <span class="comment">//</span>
00820         <span class="comment">// Integer register Zero.</span>
00821         <span class="comment">//</span>
00822 
00823     <span class="keywordflow">case</span> 31:
00824         <span class="keywordflow">return</span>;
00825 
00826         <span class="comment">//</span>
00827         <span class="comment">// Floating register F0.</span>
00828         <span class="comment">//</span>
00829 
00830     <span class="keywordflow">case</span> 32:
00831         TrapFrame-&gt;FltF0 = Value;
00832         <span class="keywordflow">return</span>;
00833 
00834         <span class="comment">//</span>
00835         <span class="comment">// Floating register F1.</span>
00836         <span class="comment">//</span>
00837 
00838     <span class="keywordflow">case</span> 33:
00839         TrapFrame-&gt;FltF1 = Value;
00840         <span class="keywordflow">return</span>;
00841 
00842         <span class="comment">//</span>
00843         <span class="comment">// Floating register F2.</span>
00844         <span class="comment">//</span>
00845 
00846     <span class="keywordflow">case</span> 34:
00847         ExceptionFrame-&gt;FltF2 = Value;
00848         <span class="keywordflow">return</span>;
00849 
00850         <span class="comment">//</span>
00851         <span class="comment">// Floating register F3.</span>
00852         <span class="comment">//</span>
00853 
00854     <span class="keywordflow">case</span> 35:
00855         ExceptionFrame-&gt;FltF3 = Value;
00856         <span class="keywordflow">return</span>;
00857 
00858         <span class="comment">//</span>
00859         <span class="comment">// Floating register F4.</span>
00860         <span class="comment">//</span>
00861 
00862     <span class="keywordflow">case</span> 36:
00863         ExceptionFrame-&gt;FltF4 = Value;
00864         <span class="keywordflow">return</span>;
00865 
00866         <span class="comment">//</span>
00867         <span class="comment">// Floating register F5.</span>
00868         <span class="comment">//</span>
00869 
00870     <span class="keywordflow">case</span> 37:
00871         ExceptionFrame-&gt;FltF5 = Value;
00872         <span class="keywordflow">return</span>;
00873 
00874         <span class="comment">//</span>
00875         <span class="comment">// Floating register F6.</span>
00876         <span class="comment">//</span>
00877 
00878     <span class="keywordflow">case</span> 38:
00879         ExceptionFrame-&gt;FltF6 = Value;
00880         <span class="keywordflow">return</span>;
00881 
00882         <span class="comment">//</span>
00883         <span class="comment">// Floating register F7.</span>
00884         <span class="comment">//</span>
00885 
00886     <span class="keywordflow">case</span> 39:
00887         ExceptionFrame-&gt;FltF7 = Value;
00888         <span class="keywordflow">return</span>;
00889 
00890         <span class="comment">//</span>
00891         <span class="comment">// Floating register F8.</span>
00892         <span class="comment">//</span>
00893 
00894     <span class="keywordflow">case</span> 40:
00895         ExceptionFrame-&gt;FltF8 = Value;
00896         <span class="keywordflow">return</span>;
00897 
00898         <span class="comment">//</span>
00899         <span class="comment">// Floating register F9.</span>
00900         <span class="comment">//</span>
00901 
00902     <span class="keywordflow">case</span> 41:
00903         ExceptionFrame-&gt;FltF9 = Value;
00904         <span class="keywordflow">return</span>;
00905 
00906         <span class="comment">//</span>
00907         <span class="comment">// Floating register F10.</span>
00908         <span class="comment">//</span>
00909 
00910     <span class="keywordflow">case</span> 42:
00911         TrapFrame-&gt;FltF10 = Value;
00912         <span class="keywordflow">return</span>;
00913 
00914         <span class="comment">//</span>
00915         <span class="comment">// Floating register F11.</span>
00916         <span class="comment">//</span>
00917 
00918     <span class="keywordflow">case</span> 43:
00919         TrapFrame-&gt;FltF11 = Value;
00920         <span class="keywordflow">return</span>;
00921 
00922         <span class="comment">//</span>
00923         <span class="comment">// Floating register F12.</span>
00924         <span class="comment">//</span>
00925 
00926     <span class="keywordflow">case</span> 44:
00927         TrapFrame-&gt;FltF12 = Value;
00928         <span class="keywordflow">return</span>;
00929 
00930         <span class="comment">//</span>
00931         <span class="comment">// Floating register F13.</span>
00932         <span class="comment">//</span>
00933 
00934     <span class="keywordflow">case</span> 45:
00935         TrapFrame-&gt;FltF13 = Value;
00936         <span class="keywordflow">return</span>;
00937 
00938         <span class="comment">//</span>
00939         <span class="comment">// Floating register F14.</span>
00940         <span class="comment">//</span>
00941 
00942     <span class="keywordflow">case</span> 46:
00943         TrapFrame-&gt;FltF14 = Value;
00944         <span class="keywordflow">return</span>;
00945 
00946         <span class="comment">//</span>
00947         <span class="comment">// Floating register F15.</span>
00948         <span class="comment">//</span>
00949 
00950     <span class="keywordflow">case</span> 47:
00951         TrapFrame-&gt;FltF15 = Value;
00952         <span class="keywordflow">return</span>;
00953 
00954         <span class="comment">//</span>
00955         <span class="comment">// Floating register F16.</span>
00956         <span class="comment">//</span>
00957 
00958     <span class="keywordflow">case</span> 48:
00959         TrapFrame-&gt;FltF16 = Value;
00960         <span class="keywordflow">return</span>;
00961 
00962         <span class="comment">//</span>
00963         <span class="comment">// Floating register F17.</span>
00964         <span class="comment">//</span>
00965 
00966     <span class="keywordflow">case</span> 49:
00967         TrapFrame-&gt;FltF17 = Value;
00968         <span class="keywordflow">return</span>;
00969 
00970         <span class="comment">//</span>
00971         <span class="comment">// Floating register F18.</span>
00972         <span class="comment">//</span>
00973 
00974     <span class="keywordflow">case</span> 50:
00975         TrapFrame-&gt;FltF18 = Value;
00976         <span class="keywordflow">return</span>;
00977 
00978         <span class="comment">//</span>
00979         <span class="comment">// Floating register F19.</span>
00980         <span class="comment">//</span>
00981 
00982     <span class="keywordflow">case</span> 51:
00983         TrapFrame-&gt;FltF19 = Value;
00984         <span class="keywordflow">return</span>;
00985 
00986         <span class="comment">//</span>
00987         <span class="comment">// Floating register F20.</span>
00988         <span class="comment">//</span>
00989 
00990     <span class="keywordflow">case</span> 52:
00991         TrapFrame-&gt;FltF20 = Value;
00992         <span class="keywordflow">return</span>;
00993 
00994         <span class="comment">//</span>
00995         <span class="comment">// Floating register F21.</span>
00996         <span class="comment">//</span>
00997 
00998     <span class="keywordflow">case</span> 53:
00999         TrapFrame-&gt;FltF21 = Value;
01000         <span class="keywordflow">return</span>;
01001 
01002         <span class="comment">//</span>
01003         <span class="comment">// Floating register F22.</span>
01004         <span class="comment">//</span>
01005 
01006     <span class="keywordflow">case</span> 54:
01007         TrapFrame-&gt;FltF22 = Value;
01008         <span class="keywordflow">return</span>;
01009 
01010         <span class="comment">//</span>
01011         <span class="comment">// Floating register F23.</span>
01012         <span class="comment">//</span>
01013 
01014     <span class="keywordflow">case</span> 55:
01015         TrapFrame-&gt;FltF23 = Value;
01016         <span class="keywordflow">return</span>;
01017 
01018         <span class="comment">//</span>
01019         <span class="comment">// Floating register F24.</span>
01020         <span class="comment">//</span>
01021 
01022     <span class="keywordflow">case</span> 56:
01023         TrapFrame-&gt;FltF24 = Value;
01024         <span class="keywordflow">return</span>;
01025 
01026         <span class="comment">//</span>
01027         <span class="comment">// Floating register F25.</span>
01028         <span class="comment">//</span>
01029 
01030     <span class="keywordflow">case</span> 57:
01031         TrapFrame-&gt;FltF25 = Value;
01032         <span class="keywordflow">return</span>;
01033 
01034         <span class="comment">//</span>
01035         <span class="comment">// Floating register F26.</span>
01036         <span class="comment">//</span>
01037 
01038     <span class="keywordflow">case</span> 58:
01039         TrapFrame-&gt;FltF26 = Value;
01040         <span class="keywordflow">return</span>;
01041 
01042         <span class="comment">//</span>
01043         <span class="comment">// Floating register F27.</span>
01044         <span class="comment">//</span>
01045 
01046     <span class="keywordflow">case</span> 59:
01047         TrapFrame-&gt;FltF27 = Value;
01048         <span class="keywordflow">return</span>;
01049 
01050         <span class="comment">//</span>
01051         <span class="comment">// Floating register F28.</span>
01052         <span class="comment">//</span>
01053 
01054     <span class="keywordflow">case</span> 60:
01055         TrapFrame-&gt;FltF28 = Value;
01056         <span class="keywordflow">return</span>;
01057 
01058         <span class="comment">//</span>
01059         <span class="comment">// Floating register F29.</span>
01060         <span class="comment">//</span>
01061 
01062     <span class="keywordflow">case</span> 61:
01063         TrapFrame-&gt;FltF29 = Value;
01064         <span class="keywordflow">return</span>;
01065 
01066         <span class="comment">//</span>
01067         <span class="comment">// Floating register F30.</span>
01068         <span class="comment">//</span>
01069 
01070     <span class="keywordflow">case</span> 62:
01071         TrapFrame-&gt;FltF30 = Value;
01072         <span class="keywordflow">return</span>;
01073 
01074         <span class="comment">//</span>
01075         <span class="comment">// Floating register F31 (Zero).</span>
01076         <span class="comment">//</span>
01077 
01078     <span class="keywordflow">case</span> 63:
01079         <span class="keywordflow">return</span>;
01080     }
01081 }
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:40:13 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
