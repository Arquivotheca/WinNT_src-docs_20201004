<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: client/private.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>private.c File Reference</h1><code>#include "<a class="el" href="../../d5/d2/w32_2ntcon_2client_2precomp_8h-source.html">precomp.h</a>"</code><br>

<p>
<a href="../../d7/d3/client_2private_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>typedef HANDLE(*&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d4/client_2private_8c.html#a0">PCONVPALFUNC</a> )(HANDLE)</td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL WINAPI&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d4/client_2private_8c.html#a2">SetConsoleCursor</a> (IN HANDLE hConsoleOutput, IN HCURSOR hCursor)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">defined(BUILD_WOW64)  <a href="#a2"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int WINAPI&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d4/client_2private_8c.html#a3">ShowConsoleCursor</a> (IN HANDLE hConsoleOutput, IN BOOL bShow)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>HMENU APIENTRY&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d4/client_2private_8c.html#a4">ConsoleMenuControl</a> (IN HANDLE hConsoleOutput, IN UINT dwCommandIdLow, IN UINT dwCommandIdHigh)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL APIENTRY&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d4/client_2private_8c.html#a5">SetConsolePaletteInternal</a> (IN HANDLE hConsoleOutput, IN HPALETTE hPalette, IN UINT dwUsage)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL APIENTRY&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d4/client_2private_8c.html#a6">SetConsoleDisplayMode</a> (IN HANDLE hConsoleOutput, IN <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="el" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a>, OUT PCOORD lpNewScreenBufferDimensions)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL APIENTRY&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d4/client_2private_8c.html#a7">RegisterConsoleVDM</a> (IN <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwRegisterFlags, IN HANDLE hStartHardwareEvent, IN HANDLE hEndHardwareEvent, IN LPWSTR lpStateSectionName, IN <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwStateSectionNameLength, OUT LPDWORD lpStateLength, OUT PVOID *lpState, IN LPWSTR lpVDMBufferSectionName, IN <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwVDMBufferSectionNameLength, IN COORD VDMBufferSize OPTIONAL, OUT PVOID *lpVDMBuffer)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL APIENTRY&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d4/client_2private_8c.html#a8">GetConsoleHardwareState</a> (IN HANDLE hConsoleOutput, OUT PCOORD lpResolution, OUT PCOORD lpFontSize)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL APIENTRY&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d4/client_2private_8c.html#a9">SetConsoleHardwareState</a> (IN HANDLE hConsoleOutput, IN COORD dwResolution, IN COORD dwFontSize)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL APIENTRY&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d4/client_2private_8c.html#a10">GetConsoleDisplayMode</a> (OUT LPDWORD lpModeFlags)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL APIENTRY&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d4/client_2private_8c.html#a11">SetConsoleKeyShortcuts</a> (IN BOOL bSet, IN <a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> bReserveKeys, IN LPAPPKEY lpAppKeys, IN <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwNumAppKeys)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL APIENTRY&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d4/client_2private_8c.html#a12">SetConsoleMenuClose</a> (IN BOOL bEnable)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d4/client_2private_8c.html#a13">SetConsolePalette</a> (IN HANDLE hConsoleOutput, IN HPALETTE hPalette, IN UINT dwUsage)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">defined(BUILD_WOW6432)  <a href="#a13"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL APIENTRY&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d4/client_2private_8c.html#a14">WriteConsoleInputVDMA</a> (HANDLE hConsoleInput, PINPUT_RECORD lpBuffer, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> nLength, LPDWORD lpNumberOfEventsWritten)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL APIENTRY&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d4/client_2private_8c.html#a15">WriteConsoleInputVDMW</a> (HANDLE hConsoleInput, PINPUT_RECORD lpBuffer, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> nLength, LPDWORD lpNumberOfEventsWritten)</td></tr>

<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d6/d4/client_2private_8c.html#a0">PCONVPALFUNC</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d4/client_2private_8c.html#a1">pfnGdiConvertPalette</a></td></tr>

</table>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="a0" doxytag="client/private.c::PCONVPALFUNC" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef HANDLE(* <a class="el" href="../../d6/d4/client_2private_8c.html#a0">PCONVPALFUNC</a>)(HANDLE)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d3/client_2private_8c-source.html#l00029">29</a> of file <a class="el" href="../../d7/d3/client_2private_8c-source.html">client/private.c</a>.
<p>
Referenced by <a class="el" href="../../d7/d3/client_2private_8c-source.html#l00737">SetConsolePalette()</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a4" doxytag="client/private.c::ConsoleMenuControl" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> HMENU APIENTRY ConsoleMenuControl           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN HANDLE&nbsp;</td>
          <td class="mdname" nowrap> <em>hConsoleOutput</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>dwCommandIdLow</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>dwCommandIdHigh</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d3/client_2private_8c-source.html#l00138">138</a> of file <a class="el" href="../../d7/d3/client_2private_8c-source.html">client/private.c</a>.
<p>
References <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00659">_CONSOLE_MENUCONTROL_MSG::CommandIdHigh</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00658">_CONSOLE_MENUCONTROL_MSG::CommandIdLow</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00656">_CONSOLE_MENUCONTROL_MSG::ConsoleHandle</a>, <a class="el" href="../../d5/d5/conmsg_8h.html#a236a208">ConsolepMenuControl</a>, <a class="el" href="../../d9/d8/wow64csr_8c-source.html#l00075">CsrClientCallServer()</a>, <a class="el" href="../../d7/d3/condll_8h-source.html#l00047">GET_CONSOLE_HANDLE</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00657">_CONSOLE_MENUCONTROL_MSG::OutputHandle</a>, <a class="el" href="../../d5/d5/conmsg_8h.html#a130">PCONSOLE_MENUCONTROL_MSG</a>, and <a class="el" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">_CONSOLE_API_MSG::u</a>.
<p>
<pre class="fragment"><div>00146            :
00147 
00148     Sets <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> command <span class="keywordtype">id</span> range <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> current screen buffer and returns <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a>
00149     menu handle.
00150 
00151 Parameters:
00152 
00153     hConsoleOutput - Supplies a console output handle.
00154 
00155     dwCommandIdLow - Specifies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> lowest command <span class="keywordtype">id</span> to store in <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> input buffer.
00156 
00157     dwCommandIdHigh - Specifies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> highest command <span class="keywordtype">id</span> to store in <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> input
00158         buffer.
00159 
00160 Return value:
00161 
00162     <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> - The operation was successful.
00163 
00164     <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>/<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a> - The operation failed. Extended error status <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> available
00165         <span class="keyword">using</span> GetLastError.
00166 
00167 --*/
00168 
00169 {
00170 
00171     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00172     <a class="code" href="../../d5/d3/struct__CONSOLE__MENUCONTROL__MSG.html">PCONSOLE_MENUCONTROL_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.ConsoleMenuControl;
00173 
00174     a-&gt;<a class="code" href="../../d5/d3/struct__CONSOLE__MENUCONTROL__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00175     a-&gt;<a class="code" href="../../d5/d3/struct__CONSOLE__MENUCONTROL__MSG.html#o1">OutputHandle</a> = hConsoleOutput;
00176     a-&gt;<a class="code" href="../../d5/d3/struct__CONSOLE__MENUCONTROL__MSG.html#o2">CommandIdLow</a> =dwCommandIdLow;
00177     a-&gt;<a class="code" href="../../d5/d3/struct__CONSOLE__MENUCONTROL__MSG.html#o3">CommandIdHigh</a> = dwCommandIdHigh;
00178     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00179                          NULL,
00180                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00181                                               ConsolepMenuControl
00182                                             ),
00183                          <span class="keyword">sizeof</span>( *a )
00184                        );
00185     <span class="keywordflow">return</span> a-&gt;<a class="code" href="../../d5/d3/struct__CONSOLE__MENUCONTROL__MSG.html#o4">hMenu</a>;
00186 
00187 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="client/private.c::GetConsoleDisplayMode" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL APIENTRY GetConsoleDisplayMode           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">OUT LPDWORD&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>lpModeFlags</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d3/client_2private_8c-source.html#l00548">548</a> of file <a class="el" href="../../d7/d3/client_2private_8c-source.html">client/private.c</a>.
<p>
References <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00708">_CONSOLE_GETDISPLAYMODE_MSG::ConsoleHandle</a>, <a class="el" href="../../d5/d5/conmsg_8h.html#a236a214">ConsolepGetDisplayMode</a>, <a class="el" href="../../d9/d8/wow64csr_8c-source.html#l00075">CsrClientCallServer()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00055">EXCEPTION_EXECUTE_HANDLER</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d7/d3/condll_8h-source.html#l00047">GET_CONSOLE_HANDLE</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d5/d5/conmsg_8h.html#a142">PCONSOLE_GETDISPLAYMODE_MSG</a>, <a class="el" href="../../d7/d3/condll_8h-source.html#l00048">SET_LAST_ERROR</a>, <a class="el" href="../../d7/d3/condll_8h-source.html#l00049">SET_LAST_NT_ERROR</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">_CONSOLE_API_MSG::u</a>.
<p>
<pre class="fragment"><div>00554            :
00555 
00556     This routine returns <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> display mode of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> console.
00557 
00558 Parameters:
00559 
00560     lpModeFlags - pointer to store display mode in.
00561 
00562 Return value:
00563 
00564     <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> - The operation was successful.
00565 
00566     <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>/<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a> - The operation failed. Extended error status <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> available
00567         <span class="keyword">using</span> GetLastError.
00568 
00569 --*/
00570 
00571 {
00572 
00573     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00574     <a class="code" href="../../d7/d1/struct__CONSOLE__GETDISPLAYMODE__MSG.html">PCONSOLE_GETDISPLAYMODE_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.GetConsoleDisplayMode;
00575 
00576     a-&gt;<a class="code" href="../../d7/d1/struct__CONSOLE__GETDISPLAYMODE__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00577     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00578                          NULL,
00579                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00580                                               ConsolepGetDisplayMode
00581                                             ),
00582                          <span class="keyword">sizeof</span>( *a )
00583                        );
00584     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue)) {
00585         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a>(m.ReturnValue);
00586         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00587     }
00588     <span class="keywordflow">else</span> {
00589         <span class="keywordflow">try</span> {
00590             *lpModeFlags = a-&gt;<a class="code" href="../../d7/d1/struct__CONSOLE__GETDISPLAYMODE__MSG.html#o1">ModeFlags</a>;
00591         } except( EXCEPTION_EXECUTE_HANDLER ) {
00592             <a class="code" href="../../d6/d4/condll_8h.html#a2">SET_LAST_ERROR</a>(ERROR_INVALID_ACCESS);
00593             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00594         }
00595         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00596     }
00597 
00598 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="client/private.c::GetConsoleHardwareState" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL APIENTRY GetConsoleHardwareState           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN HANDLE&nbsp;</td>
          <td class="mdname" nowrap> <em>hConsoleOutput</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>OUT PCOORD&nbsp;</td>
          <td class="mdname" nowrap> <em>lpResolution</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>OUT PCOORD&nbsp;</td>
          <td class="mdname" nowrap> <em>lpFontSize</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d3/client_2private_8c-source.html#l00425">425</a> of file <a class="el" href="../../d7/d3/client_2private_8c-source.html">client/private.c</a>.
<p>
References <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00694">_CONSOLE_GETHARDWARESTATE_MSG::ConsoleHandle</a>, <a class="el" href="../../d5/d5/conmsg_8h.html#a236a212">ConsolepGetHardwareState</a>, <a class="el" href="../../d9/d8/wow64csr_8c-source.html#l00075">CsrClientCallServer()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00055">EXCEPTION_EXECUTE_HANDLER</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d7/d3/condll_8h-source.html#l00047">GET_CONSOLE_HANDLE</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00695">_CONSOLE_GETHARDWARESTATE_MSG::OutputHandle</a>, <a class="el" href="../../d5/d5/conmsg_8h.html#a138">PCONSOLE_GETHARDWARESTATE_MSG</a>, <a class="el" href="../../d7/d3/condll_8h-source.html#l00048">SET_LAST_ERROR</a>, <a class="el" href="../../d7/d3/condll_8h-source.html#l00049">SET_LAST_NT_ERROR</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">_CONSOLE_API_MSG::u</a>.
<p>
<pre class="fragment"><div>00433            :
00434 
00435     This routine returns <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> video resolution and font.
00436 
00437 Parameters:
00438 
00439     hConsoleOutput - Supplies a console output handle.
00440 
00441     lpResolution - Pointer to structure to store screen
00442         resolution in.  Resolution <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> returned in pixels.
00443 
00444     lpFontSize - Pointer to structure to store font size in.
00445         Font size <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> returned in pixels.
00446 
00447 Return value:
00448 
00449     <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> - The operation was successful.
00450 
00451     <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>/<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a> - The operation failed. Extended error status <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> available
00452         <span class="keyword">using</span> GetLastError.
00453 
00454 --*/
00455 
00456 {
00457 
00458     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00459     <a class="code" href="../../d1/d2/struct__CONSOLE__GETHARDWARESTATE__MSG.html">PCONSOLE_GETHARDWARESTATE_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.GetConsoleHardwareState;
00460 
00461     a-&gt;<a class="code" href="../../d1/d2/struct__CONSOLE__GETHARDWARESTATE__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00462     a-&gt;<a class="code" href="../../d1/d2/struct__CONSOLE__GETHARDWARESTATE__MSG.html#o1">OutputHandle</a> = hConsoleOutput;
00463     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00464                          NULL,
00465                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00466                                               ConsolepGetHardwareState
00467                                             ),
00468                          <span class="keyword">sizeof</span>( *a )
00469                        );
00470     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue)) {
00471         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a>(m.ReturnValue);
00472         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00473     }
00474     <span class="keywordflow">else</span> {
00475         <span class="keywordflow">try</span> {
00476             *lpResolution = a-&gt;<a class="code" href="../../d1/d2/struct__CONSOLE__GETHARDWARESTATE__MSG.html#o2">Resolution</a>;
00477             *lpFontSize = a-&gt;<a class="code" href="../../d1/d2/struct__CONSOLE__GETHARDWARESTATE__MSG.html#o3">FontSize</a>;
00478         } except( EXCEPTION_EXECUTE_HANDLER ) {
00479             <a class="code" href="../../d6/d4/condll_8h.html#a2">SET_LAST_ERROR</a>(ERROR_INVALID_ACCESS);
00480             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00481         }
00482         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00483     }
00484 
00485 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="client/private.c::RegisterConsoleVDM" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL APIENTRY RegisterConsoleVDM           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dwRegisterFlags</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN HANDLE&nbsp;</td>
          <td class="mdname" nowrap> <em>hStartHardwareEvent</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN HANDLE&nbsp;</td>
          <td class="mdname" nowrap> <em>hEndHardwareEvent</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN LPWSTR&nbsp;</td>
          <td class="mdname" nowrap> <em>lpStateSectionName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dwStateSectionNameLength</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>OUT LPDWORD&nbsp;</td>
          <td class="mdname" nowrap> <em>lpStateLength</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>OUT PVOID *&nbsp;</td>
          <td class="mdname" nowrap> <em>lpState</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN LPWSTR&nbsp;</td>
          <td class="mdname" nowrap> <em>lpVDMBufferSectionName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dwVDMBufferSectionNameLength</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN COORD VDMBufferSize&nbsp;</td>
          <td class="mdname" nowrap> <em>OPTIONAL</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>OUT PVOID *&nbsp;</td>
          <td class="mdname" nowrap> <em>lpVDMBuffer</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d3/client_2private_8c-source.html#l00322">322</a> of file <a class="el" href="../../d7/d3/client_2private_8c-source.html">client/private.c</a>.
<p>
References <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00679">_CONSOLE_REGISTERVDM_MSG::ConsoleHandle</a>, <a class="el" href="../../d5/d5/conmsg_8h.html#a236a211">ConsolepRegisterVDM</a>, <a class="el" href="../../d9/d8/wow64csr_8c-source.html#l00088">CsrAllocateCaptureBuffer()</a>, <a class="el" href="../../d9/d8/wow64csr_8c-source.html#l00122">CsrCaptureMessageBuffer()</a>, <a class="el" href="../../d9/d8/wow64csr_8c-source.html#l00075">CsrClientCallServer()</a>, <a class="el" href="../../d9/d8/wow64csr_8c-source.html#l00098">CsrFreeCaptureBuffer()</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00682">_CONSOLE_REGISTERVDM_MSG::EndEvent</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00055">EXCEPTION_EXECUTE_HANDLER</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d7/d3/condll_8h-source.html#l00047">GET_CONSOLE_HANDLE</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d5/d5/conmsg_8h.html#a136">PCONSOLE_REGISTERVDM_MSG</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00680">_CONSOLE_REGISTERVDM_MSG::RegisterFlags</a>, <a class="el" href="../../d7/d3/condll_8h-source.html#l00048">SET_LAST_ERROR</a>, <a class="el" href="../../d7/d3/condll_8h-source.html#l00049">SET_LAST_NT_ERROR</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00681">_CONSOLE_REGISTERVDM_MSG::StartEvent</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00683">_CONSOLE_REGISTERVDM_MSG::StateSectionName</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00684">_CONSOLE_REGISTERVDM_MSG::StateSectionNameLength</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">_CONSOLE_API_MSG::u</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00687">_CONSOLE_REGISTERVDM_MSG::VDMBufferSectionName</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00688">_CONSOLE_REGISTERVDM_MSG::VDMBufferSectionNameLength</a>, and <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00689">_CONSOLE_REGISTERVDM_MSG::VDMBufferSize</a>.
<p>
<pre class="fragment"><div>00338            :
00339 
00340     This routine registers <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> VDM with <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> console.
00341 
00342 Parameters:
00343 
00344     hStartHardwareEvent - <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> event <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> VDM waits on to be
00345         notified of gaining/losing <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a58">control</a> of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> hardware.
00346 
00347     hEndHardwareEvent - <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> event <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> VDM sets when <a class="code" href="../../d1/d9/icmui_8def.html#a4">it</a> <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> done
00348         saving/restoring <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> hardware.
00349 
00350 Return value:
00351 
00352     <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> - The operation was successful.
00353 
00354     <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>/<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a> - The operation failed. Extended error status <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> available
00355         <span class="keyword">using</span> GetLastError.
00356 
00357 --*/
00358 
00359 {
00360     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00361     <a class="code" href="../../d6/d4/struct__CONSOLE__REGISTERVDM__MSG.html">PCONSOLE_REGISTERVDM_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.RegisterConsoleVDM;
00362     PCSR_CAPTURE_HEADER CaptureBuffer;
00363 
00364     a-&gt;<a class="code" href="../../d6/d4/struct__CONSOLE__REGISTERVDM__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00365     a-&gt;<a class="code" href="../../d6/d4/struct__CONSOLE__REGISTERVDM__MSG.html#o1">RegisterFlags</a> = dwRegisterFlags;
00366     <span class="keywordflow">if</span> (dwRegisterFlags) {
00367         a-&gt;<a class="code" href="../../d6/d4/struct__CONSOLE__REGISTERVDM__MSG.html#o2">StartEvent</a> = hStartHardwareEvent;
00368         a-&gt;<a class="code" href="../../d6/d4/struct__CONSOLE__REGISTERVDM__MSG.html#o3">EndEvent</a> = hEndHardwareEvent;
00369         a-&gt;<a class="code" href="../../d6/d4/struct__CONSOLE__REGISTERVDM__MSG.html#o9">VDMBufferSectionNameLength</a> = dwVDMBufferSectionNameLength;
00370         a-&gt;<a class="code" href="../../d6/d4/struct__CONSOLE__REGISTERVDM__MSG.html#o10">VDMBufferSize</a> = VDMBufferSize;
00371         a-&gt;<a class="code" href="../../d6/d4/struct__CONSOLE__REGISTERVDM__MSG.html#o5">StateSectionNameLength</a> = dwStateSectionNameLength;
00372         CaptureBuffer = <a class="code" href="../../d8/d9/wow64csr_8c.html#a5">CsrAllocateCaptureBuffer</a>( 2,
00373                                                   dwStateSectionNameLength+dwVDMBufferSectionNameLength
00374                                                 );
00375         <span class="keywordflow">if</span> (CaptureBuffer == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00376             <a class="code" href="../../d6/d4/condll_8h.html#a2">SET_LAST_ERROR</a>(ERROR_NOT_ENOUGH_MEMORY);
00377             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00378         }
00379 
00380         <a class="code" href="../../d8/d9/wow64csr_8c.html#a8">CsrCaptureMessageBuffer</a>( CaptureBuffer,
00381                                  lpStateSectionName,
00382                                  dwStateSectionNameLength,
00383                                  (PVOID *) &amp;a-&gt;<a class="code" href="../../d6/d4/struct__CONSOLE__REGISTERVDM__MSG.html#o4">StateSectionName</a>
00384                                    );
00385 
00386         <a class="code" href="../../d8/d9/wow64csr_8c.html#a8">CsrCaptureMessageBuffer</a>( CaptureBuffer,
00387                                  lpVDMBufferSectionName,
00388                                  dwVDMBufferSectionNameLength,
00389                                  (PVOID *) &amp;a-&gt;<a class="code" href="../../d6/d4/struct__CONSOLE__REGISTERVDM__MSG.html#o8">VDMBufferSectionName</a>
00390                                    );
00391     } <span class="keywordflow">else</span> {
00392         CaptureBuffer = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00393     }
00394     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00395                          CaptureBuffer,
00396                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00397                                               ConsolepRegisterVDM
00398                                             ),
00399                          <span class="keyword">sizeof</span>( *a )
00400                        );
00401     <span class="keywordflow">if</span> (CaptureBuffer != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00402         <a class="code" href="../../d8/d9/wow64csr_8c.html#a6">CsrFreeCaptureBuffer</a>( CaptureBuffer );
00403     }
00404     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue)) {
00405         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a>(m.ReturnValue);
00406         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00407     }
00408     <span class="keywordflow">else</span> {
00409         <span class="keywordflow">if</span> (dwRegisterFlags) {
00410             <span class="keywordflow">try</span> {
00411                 *lpStateLength = a-&gt;<a class="code" href="../../d6/d4/struct__CONSOLE__REGISTERVDM__MSG.html#o6">StateLength</a>;
00412                 *lpState = a-&gt;<a class="code" href="../../d6/d4/struct__CONSOLE__REGISTERVDM__MSG.html#o7">StateBuffer</a>;
00413                 *lpVDMBuffer = a-&gt;<a class="code" href="../../d6/d4/struct__CONSOLE__REGISTERVDM__MSG.html#o11">VDMBuffer</a>;
00414             } except (EXCEPTION_EXECUTE_HANDLER) {
00415                 <a class="code" href="../../d6/d4/condll_8h.html#a2">SET_LAST_ERROR</a>(ERROR_INVALID_ACCESS);
00416                 <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00417             }
00418         }
00419         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00420     }
00421 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="client/private.c::SetConsoleCursor" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL WINAPI SetConsoleCursor           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN HANDLE&nbsp;</td>
          <td class="mdname" nowrap> <em>hConsoleOutput</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN HCURSOR&nbsp;</td>
          <td class="mdname" nowrap> <em>hCursor</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
defined(BUILD_WOW64) 
<p>

<p>
Definition at line <a class="el" href="../../d7/d3/client_2private_8c-source.html#l00038">38</a> of file <a class="el" href="../../d7/d3/client_2private_8c-source.html">client/private.c</a>.
<p>
References <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00643">_CONSOLE_SETCURSOR_MSG::ConsoleHandle</a>, <a class="el" href="../../d5/d5/conmsg_8h.html#a236a206">ConsolepSetCursor</a>, <a class="el" href="../../d9/d8/wow64csr_8c-source.html#l00075">CsrClientCallServer()</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00645">_CONSOLE_SETCURSOR_MSG::CursorHandle</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d7/d3/condll_8h-source.html#l00047">GET_CONSOLE_HANDLE</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00644">_CONSOLE_SETCURSOR_MSG::OutputHandle</a>, <a class="el" href="../../d5/d5/conmsg_8h.html#a126">PCONSOLE_SETCURSOR_MSG</a>, <a class="el" href="../../d7/d3/condll_8h-source.html#l00049">SET_LAST_NT_ERROR</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">_CONSOLE_API_MSG::u</a>.
<p>
<pre class="fragment"><div>00045            :
00046 
00047     Sets <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> mouse pointer <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> specified screen buffer.
00048 
00049 Parameters:
00050 
00051     hConsoleOutput - Supplies a console output handle.
00052 
00053     hCursor - win32 cursor handle, should be <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a> to set <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> <span class="keywordflow">default</span>
00054         cursor.
00055 
00056 Return value:
00057 
00058     <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> - The operation was successful.
00059 
00060     <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>/<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a> - The operation failed. Extended error status <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> available
00061         <span class="keyword">using</span> GetLastError.
00062 
00063 --*/
00064 
00065 {
00066 
00067     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00068     <a class="code" href="../../d2/d5/struct__CONSOLE__SETCURSOR__MSG.html">PCONSOLE_SETCURSOR_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.SetConsoleCursor;
00069     
00070     a-&gt;<a class="code" href="../../d2/d5/struct__CONSOLE__SETCURSOR__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00071     a-&gt;<a class="code" href="../../d2/d5/struct__CONSOLE__SETCURSOR__MSG.html#o1">OutputHandle</a> = hConsoleOutput;
00072     a-&gt;<a class="code" href="../../d2/d5/struct__CONSOLE__SETCURSOR__MSG.html#o2">CursorHandle</a> = hCursor;
00073     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00074                          NULL,
00075                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00076                                               ConsolepSetCursor
00077                                             ),
00078                          <span class="keyword">sizeof</span>( *a )
00079                        );
00080     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue)) {
00081         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a>(m.ReturnValue);
00082         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00083     }
00084     <span class="keywordflow">else</span> {
00085         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00086     }
00087 
00088 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="client/private.c::SetConsoleDisplayMode" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL APIENTRY SetConsoleDisplayMode           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN HANDLE&nbsp;</td>
          <td class="mdname" nowrap> <em>hConsoleOutput</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dwFlags</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>OUT PCOORD&nbsp;</td>
          <td class="mdname" nowrap> <em>lpNewScreenBufferDimensions</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d3/client_2private_8c-source.html#l00225">225</a> of file <a class="el" href="../../d7/d3/client_2private_8c-source.html">client/private.c</a>.
<p>
References <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00671">_CONSOLE_SETDISPLAYMODE_MSG::ConsoleHandle</a>, <a class="el" href="../../d5/d5/conmsg_8h.html#a236a210">ConsolepSetDisplayMode</a>, <a class="el" href="../../d9/d8/wow64csr_8c-source.html#l00075">CsrClientCallServer()</a>, <a class="el" href="../../d4/d7/propapi_8h-source.html#l00043">dwFlags</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00673">_CONSOLE_SETDISPLAYMODE_MSG::dwFlags</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00055">EXCEPTION_EXECUTE_HANDLER</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d7/d3/condll_8h-source.html#l00047">GET_CONSOLE_HANDLE</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00675">_CONSOLE_SETDISPLAYMODE_MSG::hEvent</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d6/d9/obclose_8c-source.html#l00037">NtClose()</a>, <a class="el" href="../../d1/d7/ex_2event_8c-source.html#l00180">NtCreateEvent()</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d2/d1/obwait_8c-source.html#l00282">NtWaitForSingleObject()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00672">_CONSOLE_SETDISPLAYMODE_MSG::OutputHandle</a>, <a class="el" href="../../d5/d5/conmsg_8h.html#a134">PCONSOLE_SETDISPLAYMODE_MSG</a>, <a class="el" href="../../d7/d3/condll_8h-source.html#l00048">SET_LAST_ERROR</a>, <a class="el" href="../../d7/d3/condll_8h-source.html#l00049">SET_LAST_NT_ERROR</a>, <a class="el" href="../../d3/d0/cttoken_8c-source.html#l00135">Status</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">_CONSOLE_API_MSG::u</a>.
<p>
<pre class="fragment"><div>00233            :
00234 
00235     This routine sets <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> console display mode <span class="keywordflow">for</span> an output buffer.
00236     This API <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> <a class="code" href="../../d3/d0/imm32_8def.html#a1">only</a> supported on x86 machines.  Frame buffer consoles
00237     are always windowed.
00238 
00239 Parameters:
00240 
00241     hConsoleOutput - Supplies a console output handle.
00242 
00243     <a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a> - Specifies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> display mode. Options are:
00244 
00245         CONSOLE_FULLSCREEN_MODE - data <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> displayed fullscreen
00246 
00247         CONSOLE_WINDOWED_MODE - data <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> displayed in a window
00248 
00249     lpNewScreenBufferDimensions - On output, contains <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> <span class="keyword">new</span> dimensions of
00250         <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> screen buffer.  The dimensions are in rows and columns <span class="keywordflow">for</span>
00251         textmode screen buffers.
00252 Return value:
00253 
00254     <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> - The operation was successful.
00255 
00256     <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>/<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a> - The operation failed. Extended error status <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> available
00257         <span class="keyword">using</span> GetLastError.
00258 
00259 --*/
00260 
00261 {
00262 
00263     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00264     <a class="code" href="../../d5/d5/struct__CONSOLE__SETDISPLAYMODE__MSG.html">PCONSOLE_SETDISPLAYMODE_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.SetConsoleDisplayMode;
00265     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
00266 
00267 <span class="preprocessor">#if !defined(_X86_)</span>
00268 <span class="preprocessor"></span>    <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00269 <span class="preprocessor">#else</span>
00270 <span class="preprocessor"></span>    
00271     <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d0/d8/ex_2event_8c.html#a5">NtCreateEvent</a>(&amp;(a-&gt;<a class="code" href="../../d5/d5/struct__CONSOLE__SETDISPLAYMODE__MSG.html#o4">hEvent</a>),
00272                            EVENT_ALL_ACCESS, 
00273                            NULL,
00274                            SynchronizationEvent,
00275                            (BOOLEAN)FALSE
00276                            );
00277     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(Status)) {
00278        <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a>(Status);
00279        <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00280     }
00281 
00282     a-&gt;<a class="code" href="../../d5/d5/struct__CONSOLE__SETDISPLAYMODE__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00283     a-&gt;<a class="code" href="../../d5/d5/struct__CONSOLE__SETDISPLAYMODE__MSG.html#o1">OutputHandle</a> = hConsoleOutput;
00284     a-&gt;<a class="code" href="../../d5/d5/struct__CONSOLE__SETDISPLAYMODE__MSG.html#o2">dwFlags</a> = <a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a>;
00285 
00286     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00287                          NULL,
00288                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00289                                               ConsolepSetDisplayMode
00290                                             ),
00291                          <span class="keyword">sizeof</span>( *a )
00292                        );
00293     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue)) {
00294         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a>(m.ReturnValue);
00295         <a class="code" href="../../d5/d0/obclose_8c.html#a1">NtClose</a>(a-&gt;<a class="code" href="../../d5/d5/struct__CONSOLE__SETDISPLAYMODE__MSG.html#o4">hEvent</a>);
00296         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00297 
00298     }
00299     <span class="keywordflow">else</span> {
00300              <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d1/d2/obwait_8c.html#a4">NtWaitForSingleObject</a>(a-&gt;<a class="code" href="../../d5/d5/struct__CONSOLE__SETDISPLAYMODE__MSG.html#o4">hEvent</a>, FALSE, NULL);
00301         <a class="code" href="../../d5/d0/obclose_8c.html#a1">NtClose</a>(a-&gt;<a class="code" href="../../d5/d5/struct__CONSOLE__SETDISPLAYMODE__MSG.html#o4">hEvent</a>);
00302 
00303          <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> != 0) {
00304             <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a>(Status);
00305             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00306          }
00307         <span class="keywordflow">try</span> {
00308             *lpNewScreenBufferDimensions = a-&gt;<a class="code" href="../../d5/d5/struct__CONSOLE__SETDISPLAYMODE__MSG.html#o3">ScreenBufferDimensions</a>;
00309         } except( EXCEPTION_EXECUTE_HANDLER ) {
00310             <a class="code" href="../../d6/d4/condll_8h.html#a2">SET_LAST_ERROR</a>(ERROR_INVALID_ACCESS);
00311             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00312         }
00313         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00314     }
00315 
00316 <span class="preprocessor">#endif</span>
00317 <span class="preprocessor"></span>
00318 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="client/private.c::SetConsoleHardwareState" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL APIENTRY SetConsoleHardwareState           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN HANDLE&nbsp;</td>
          <td class="mdname" nowrap> <em>hConsoleOutput</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN COORD&nbsp;</td>
          <td class="mdname" nowrap> <em>dwResolution</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN COORD&nbsp;</td>
          <td class="mdname" nowrap> <em>dwFontSize</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d3/client_2private_8c-source.html#l00489">489</a> of file <a class="el" href="../../d7/d3/client_2private_8c-source.html">client/private.c</a>.
<p>
References <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00701">_CONSOLE_SETHARDWARESTATE_MSG::ConsoleHandle</a>, <a class="el" href="../../d5/d5/conmsg_8h.html#a236a213">ConsolepSetHardwareState</a>, <a class="el" href="../../d9/d8/wow64csr_8c-source.html#l00075">CsrClientCallServer()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00704">_CONSOLE_SETHARDWARESTATE_MSG::FontSize</a>, <a class="el" href="../../d7/d3/condll_8h-source.html#l00047">GET_CONSOLE_HANDLE</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00702">_CONSOLE_SETHARDWARESTATE_MSG::OutputHandle</a>, <a class="el" href="../../d5/d5/conmsg_8h.html#a140">PCONSOLE_SETHARDWARESTATE_MSG</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00703">_CONSOLE_SETHARDWARESTATE_MSG::Resolution</a>, <a class="el" href="../../d7/d3/condll_8h-source.html#l00049">SET_LAST_NT_ERROR</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">_CONSOLE_API_MSG::u</a>.
<p>
<pre class="fragment"><div>00497            :
00498 
00499     This routine set <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> video resolution and font.
00500 
00501 Parameters:
00502 
00503     hConsoleOutput - Supplies a console output handle.
00504 
00505     dwResolution - Contains screen resolution to set.
00506         Resolution <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> returned in pixels.
00507 
00508     dwFontSize - Contains font size to set.
00509         Font size <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> returned in pixels.
00510 
00511 Return value:
00512 
00513     <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> - The operation was successful.
00514 
00515     <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>/<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a> - The operation failed. Extended error status <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> available
00516         <span class="keyword">using</span> GetLastError.
00517 
00518 --*/
00519 
00520 {
00521 
00522     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00523     <a class="code" href="../../d8/d5/struct__CONSOLE__SETHARDWARESTATE__MSG.html">PCONSOLE_SETHARDWARESTATE_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.SetConsoleHardwareState;
00524 
00525     a-&gt;<a class="code" href="../../d8/d5/struct__CONSOLE__SETHARDWARESTATE__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00526     a-&gt;<a class="code" href="../../d8/d5/struct__CONSOLE__SETHARDWARESTATE__MSG.html#o1">OutputHandle</a> = hConsoleOutput;
00527     a-&gt;<a class="code" href="../../d8/d5/struct__CONSOLE__SETHARDWARESTATE__MSG.html#o2">Resolution</a> = dwResolution;
00528     a-&gt;<a class="code" href="../../d8/d5/struct__CONSOLE__SETHARDWARESTATE__MSG.html#o3">FontSize</a> = dwFontSize;
00529     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00530                          NULL,
00531                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00532                                               ConsolepSetHardwareState
00533                                             ),
00534                          <span class="keyword">sizeof</span>( *a )
00535                        );
00536     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue)) {
00537         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a>(m.ReturnValue);
00538         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00539     }
00540     <span class="keywordflow">else</span> {
00541         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00542     }
00543 
00544 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="client/private.c::SetConsoleKeyShortcuts" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL APIENTRY SetConsoleKeyShortcuts           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN BOOL&nbsp;</td>
          <td class="mdname" nowrap> <em>bSet</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>bReserveKeys</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN LPAPPKEY&nbsp;</td>
          <td class="mdname" nowrap> <em>lpAppKeys</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dwNumAppKeys</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d3/client_2private_8c-source.html#l00602">602</a> of file <a class="el" href="../../d7/d3/client_2private_8c-source.html">client/private.c</a>.
<p>
References <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00741">_CONSOLE_SETKEYSHORTCUTS_MSG::AppKeys</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00737">_CONSOLE_SETKEYSHORTCUTS_MSG::ConsoleHandle</a>, <a class="el" href="../../d5/d5/conmsg_8h.html#a236a228">ConsolepSetKeyShortcuts</a>, <a class="el" href="../../d9/d8/wow64csr_8c-source.html#l00088">CsrAllocateCaptureBuffer()</a>, <a class="el" href="../../d9/d8/wow64csr_8c-source.html#l00122">CsrCaptureMessageBuffer()</a>, <a class="el" href="../../d9/d8/wow64csr_8c-source.html#l00075">CsrClientCallServer()</a>, <a class="el" href="../../d9/d8/wow64csr_8c-source.html#l00098">CsrFreeCaptureBuffer()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d7/d3/condll_8h-source.html#l00047">GET_CONSOLE_HANDLE</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00740">_CONSOLE_SETKEYSHORTCUTS_MSG::NumAppKeys</a>, <a class="el" href="../../d5/d5/conmsg_8h.html#a150">PCONSOLE_SETKEYSHORTCUTS_MSG</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00739">_CONSOLE_SETKEYSHORTCUTS_MSG::ReserveKeys</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00738">_CONSOLE_SETKEYSHORTCUTS_MSG::Set</a>, <a class="el" href="../../d7/d3/condll_8h-source.html#l00048">SET_LAST_ERROR</a>, <a class="el" href="../../d7/d3/condll_8h-source.html#l00049">SET_LAST_NT_ERROR</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">_CONSOLE_API_MSG::u</a>.
<p>
<pre class="fragment"><div>00611            :
00612 
00613     Only one set of key shortcuts <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> valid per console.  Calling
00614     <a class="code" href="../../d6/d4/client_2private_8c.html#a11">SetConsoleKeyShortcuts</a>(set) overwrites any previous settings.
00615     SetConsoleKeyShortcuts(!set) removes any shortcuts.
00616 
00617 Parameters:
00618 
00619     bSet - if TRUE, set shortcuts.  else remove shortcuts.
00620 
00621     bReserveKeys - byte containing reserve key info.
00622 
00623     lpAppKeys - pointer to application-defined shortcut keys.  can be null.
00624 
00625     dwNumAppKeys - number of app keys contained in lpAppKeys.
00626 
00627 Return value:
00628 
00629     TRUE - The operation was successful.
00630 
00631     FALSE/NULL - The operation failed. Extended error status is available
00632         using GetLastError.
00633 
00634 --*/
00635 
00636 {
00637 
00638     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00639     <a class="code" href="../../d0/d6/struct__CONSOLE__SETKEYSHORTCUTS__MSG.html">PCONSOLE_SETKEYSHORTCUTS_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.SetConsoleKeyShortcuts;
00640     PCSR_CAPTURE_HEADER CaptureBuffer;
00641 
00642     a-&gt;<a class="code" href="../../d0/d6/struct__CONSOLE__SETKEYSHORTCUTS__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00643     a-&gt;<a class="code" href="../../d0/d6/struct__CONSOLE__SETKEYSHORTCUTS__MSG.html#o1">Set</a> = bSet;
00644     a-&gt;<a class="code" href="../../d0/d6/struct__CONSOLE__SETKEYSHORTCUTS__MSG.html#o2">ReserveKeys</a> = bReserveKeys;
00645     <span class="keywordflow">if</span> (lpAppKeys == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00646         a-&gt;<a class="code" href="../../d0/d6/struct__CONSOLE__SETKEYSHORTCUTS__MSG.html#o3">NumAppKeys</a> = 0;
00647         CaptureBuffer = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00648     } <span class="keywordflow">else</span> {
00649         a-&gt;<a class="code" href="../../d0/d6/struct__CONSOLE__SETKEYSHORTCUTS__MSG.html#o3">NumAppKeys</a> = dwNumAppKeys;
00650         CaptureBuffer = <a class="code" href="../../d8/d9/wow64csr_8c.html#a5">CsrAllocateCaptureBuffer</a>( 1,
00651                                                   dwNumAppKeys * <span class="keyword">sizeof</span>(APPKEY)
00652                                                 );
00653         <span class="keywordflow">if</span> (CaptureBuffer == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00654             <a class="code" href="../../d6/d4/condll_8h.html#a2">SET_LAST_ERROR</a>(ERROR_NOT_ENOUGH_MEMORY);
00655             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00656         }
00657         <a class="code" href="../../d8/d9/wow64csr_8c.html#a8">CsrCaptureMessageBuffer</a>( CaptureBuffer,
00658                                  lpAppKeys,
00659                                  dwNumAppKeys * <span class="keyword">sizeof</span>(APPKEY),
00660                                  (PVOID *) &amp;a-&gt;<a class="code" href="../../d0/d6/struct__CONSOLE__SETKEYSHORTCUTS__MSG.html#o4">AppKeys</a>
00661                                );
00662     }
00663 
00664     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00665                          CaptureBuffer,
00666                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00667                                               ConsolepSetKeyShortcuts
00668                                             ),
00669                          <span class="keyword">sizeof</span>( *a )
00670                        );
00671     <span class="keywordflow">if</span> (CaptureBuffer)
00672         <a class="code" href="../../d8/d9/wow64csr_8c.html#a6">CsrFreeCaptureBuffer</a>( CaptureBuffer );
00673     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue)) {
00674         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a>(m.ReturnValue);
00675         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00676     }
00677     <span class="keywordflow">else</span> {
00678         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00679     }
00680 
00681 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="client/private.c::SetConsoleMenuClose" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL APIENTRY SetConsoleMenuClose           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN BOOL&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>bEnable</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d3/client_2private_8c-source.html#l00685">685</a> of file <a class="el" href="../../d7/d3/client_2private_8c-source.html">client/private.c</a>.
<p>
References <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00745">_CONSOLE_SETMENUCLOSE_MSG::ConsoleHandle</a>, <a class="el" href="../../d5/d5/conmsg_8h.html#a236a229">ConsolepSetMenuClose</a>, <a class="el" href="../../d9/d8/wow64csr_8c-source.html#l00075">CsrClientCallServer()</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00746">_CONSOLE_SETMENUCLOSE_MSG::Enable</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d7/d3/condll_8h-source.html#l00047">GET_CONSOLE_HANDLE</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d5/d5/conmsg_8h.html#a152">PCONSOLE_SETMENUCLOSE_MSG</a>, <a class="el" href="../../d7/d3/condll_8h-source.html#l00049">SET_LAST_NT_ERROR</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">_CONSOLE_API_MSG::u</a>.
<p>
<pre class="fragment"><div>00691            :
00692 
00693     This routine returns <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> display mode of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> console.
00694 
00695 Parameters:
00696 
00697     bEnable - <span class="keywordflow">if</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>, close <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> enabled in <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> system menu.
00698 
00699 Return value:
00700 
00701     <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> - The operation was successful.
00702 
00703     <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>/<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a> - The operation failed. Extended error status <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> available
00704         <span class="keyword">using</span> GetLastError.
00705 
00706 --*/
00707 
00708 {
00709 
00710     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00711     <a class="code" href="../../d1/d6/struct__CONSOLE__SETMENUCLOSE__MSG.html">PCONSOLE_SETMENUCLOSE_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.SetConsoleMenuClose;
00712 
00713     a-&gt;<a class="code" href="../../d1/d6/struct__CONSOLE__SETMENUCLOSE__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00714     a-&gt;<a class="code" href="../../d1/d6/struct__CONSOLE__SETMENUCLOSE__MSG.html#o1">Enable</a> = bEnable;
00715     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00716                          NULL,
00717                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00718                                               ConsolepSetMenuClose
00719                                             ),
00720                          <span class="keyword">sizeof</span>( *a )
00721                        );
00722     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue)) {
00723         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a>(m.ReturnValue);
00724         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00725     }
00726     <span class="keywordflow">else</span> {
00727         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00728     }
00729 
00730 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="client/private.c::SetConsolePalette" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL SetConsolePalette           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN HANDLE&nbsp;</td>
          <td class="mdname" nowrap> <em>hConsoleOutput</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN HPALETTE&nbsp;</td>
          <td class="mdname" nowrap> <em>hPalette</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>dwUsage</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
defined(BUILD_WOW6432) 
<p>

<p>
Definition at line <a class="el" href="../../d7/d3/client_2private_8c-source.html#l00737">737</a> of file <a class="el" href="../../d7/d3/client_2private_8c-source.html">client/private.c</a>.
<p>
References <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>, <a class="el" href="../../d5/d1/ldrapi_8c-source.html#l00035">LdrLoadDll()</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d7/d3/client_2private_8c-source.html#l00029">PCONVPALFUNC</a>, <a class="el" href="../../d7/d3/client_2private_8c-source.html#l00030">pfnGdiConvertPalette</a>, <a class="el" href="../../d3/d6/string_8c-source.html#l00148">RtlInitUnicodeString()</a>, <a class="el" href="../../d7/d3/condll_8h-source.html#l00049">SET_LAST_NT_ERROR</a>, <a class="el" href="../../d7/d3/client_2private_8c-source.html#l00191">SetConsolePaletteInternal()</a>, and <a class="el" href="../../d3/d0/cttoken_8c-source.html#l00135">Status</a>.
<p>
Referenced by <a class="el" href="../../d4/d3/tpalette_8c-source.html#l00033">main()</a>.
<p>
<pre class="fragment"><div>00745            :
00746 
00747     Sets <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> palette <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> console screen buffer.
00748 
00749 Parameters:
00750 
00751     hOutput - Supplies a console output handle.
00752 
00753     hPalette - Supplies a handle to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> palette to set.
00754 
00755     dwUsage - Specifies use of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> system palette.
00756 
00757         SYSPAL_NOSTATIC - System palette contains no <span class="keyword">static</span> colors
00758                           except black and white.
00759 
00760         SYSPAL_STATIC -   System palette contains <span class="keyword">static</span> colors
00761                           which will not change when an application
00762                           realizes its logical palette.
00763 
00764 Return value:
00765 
00766     <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> - The operation was successful.
00767 
00768     <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>/<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a> - The operation failed. Extended error status <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> available
00769         <span class="keyword">using</span> GetLastError.
00770 
00771 --*/
00772 
00773 {
00774 
00775     HANDLE hmodGdi;
00776     UNICODE_STRING ModuleNameString;
00777     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
00778 
00779     <span class="keywordflow">if</span> ( !<a class="code" href="../../d6/d4/client_2private_8c.html#a1">pfnGdiConvertPalette</a> ) {
00780         <a class="code" href="../../d2/d7/string_8c.html#a7">RtlInitUnicodeString</a>( &amp;ModuleNameString, L<span class="stringliteral">"gdi32"</span> );
00781         <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d4/d2/ldrapi_8c.html#a2">LdrLoadDll</a>( UNICODE_NULL, NULL, &amp;ModuleNameString, &amp;hmodGdi ); 
00782         <span class="keywordflow">if</span> ( !<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(Status) ) {
00783             <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a>(Status);
00784             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00785             }
00786         <a class="code" href="../../d6/d4/client_2private_8c.html#a1">pfnGdiConvertPalette</a> = (<a class="code" href="../../d6/d4/client_2private_8c.html#a0">PCONVPALFUNC</a>)GetProcAddress(hmodGdi, <span class="stringliteral">"GdiConvertPalette"</span>);
00787         <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4/client_2private_8c.html#a1">pfnGdiConvertPalette</a> == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00788             <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a>(STATUS_PROCEDURE_NOT_FOUND);
00789             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00790             }
00791 
00792         }
00793 
00794     hPalette = (*pfnGdiConvertPalette)(hPalette);
00795 
00796     <span class="keywordflow">return</span> <a class="code" href="../../d6/d4/client_2private_8c.html#a5">SetConsolePaletteInternal</a>(hConsoleOutput,
00797                                      hPalette,
00798                                      dwUsage);
00799 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="client/private.c::SetConsolePaletteInternal" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL APIENTRY SetConsolePaletteInternal           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN HANDLE&nbsp;</td>
          <td class="mdname" nowrap> <em>hConsoleOutput</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN HPALETTE&nbsp;</td>
          <td class="mdname" nowrap> <em>hPalette</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>dwUsage</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d3/client_2private_8c-source.html#l00191">191</a> of file <a class="el" href="../../d7/d3/client_2private_8c-source.html">client/private.c</a>.
<p>
References <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00664">_CONSOLE_SETPALETTE_MSG::ConsoleHandle</a>, <a class="el" href="../../d5/d5/conmsg_8h.html#a236a209">ConsolepSetPalette</a>, <a class="el" href="../../d9/d8/wow64csr_8c-source.html#l00075">CsrClientCallServer()</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00667">_CONSOLE_SETPALETTE_MSG::dwUsage</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d7/d3/condll_8h-source.html#l00047">GET_CONSOLE_HANDLE</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00666">_CONSOLE_SETPALETTE_MSG::hPalette</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00665">_CONSOLE_SETPALETTE_MSG::OutputHandle</a>, <a class="el" href="../../d5/d5/conmsg_8h.html#a132">PCONSOLE_SETPALETTE_MSG</a>, <a class="el" href="../../d7/d3/condll_8h-source.html#l00049">SET_LAST_NT_ERROR</a>, <a class="el" href="../../d3/d0/cttoken_8c-source.html#l00135">Status</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">_CONSOLE_API_MSG::u</a>.
<p>
Referenced by <a class="el" href="../../d7/d3/client_2private_8c-source.html#l00737">SetConsolePalette()</a>.
<p>
<pre class="fragment"><div>00196 {
00197 
00198     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00199     <a class="code" href="../../d3/d6/struct__CONSOLE__SETPALETTE__MSG.html">PCONSOLE_SETPALETTE_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.SetConsolePalette;
00200     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
00201 
00202     a-&gt;<a class="code" href="../../d3/d6/struct__CONSOLE__SETPALETTE__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00203     a-&gt;<a class="code" href="../../d3/d6/struct__CONSOLE__SETPALETTE__MSG.html#o1">OutputHandle</a> = hConsoleOutput;
00204     a-&gt;<a class="code" href="../../d3/d6/struct__CONSOLE__SETPALETTE__MSG.html#o2">hPalette</a> = hPalette;
00205     a-&gt;<a class="code" href="../../d3/d6/struct__CONSOLE__SETPALETTE__MSG.html#o3">dwUsage</a> = dwUsage;
00206     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00207                          NULL,
00208                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00209                                               ConsolepSetPalette
00210                                             ),
00211                          <span class="keyword">sizeof</span>( *a )
00212                        );
00213     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue)) {
00214         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a>(m.ReturnValue);
00215         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00216     }
00217     <span class="keywordflow">else</span> {
00218         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00219     }
00220 
00221 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="client/private.c::ShowConsoleCursor" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int WINAPI ShowConsoleCursor           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN HANDLE&nbsp;</td>
          <td class="mdname" nowrap> <em>hConsoleOutput</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN BOOL&nbsp;</td>
          <td class="mdname" nowrap> <em>bShow</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d3/client_2private_8c-source.html#l00092">92</a> of file <a class="el" href="../../d7/d3/client_2private_8c-source.html">client/private.c</a>.
<p>
References <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00651">_CONSOLE_SHOWCURSOR_MSG::bShow</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00649">_CONSOLE_SHOWCURSOR_MSG::ConsoleHandle</a>, <a class="el" href="../../d5/d5/conmsg_8h.html#a236a207">ConsolepShowCursor</a>, <a class="el" href="../../d9/d8/wow64csr_8c-source.html#l00075">CsrClientCallServer()</a>, <a class="el" href="../../d7/d3/condll_8h-source.html#l00047">GET_CONSOLE_HANDLE</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d6/d4/conmsg_8h-source.html#l00650">_CONSOLE_SHOWCURSOR_MSG::OutputHandle</a>, <a class="el" href="../../d5/d5/conmsg_8h.html#a128">PCONSOLE_SHOWCURSOR_MSG</a>, and <a class="el" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">_CONSOLE_API_MSG::u</a>.
<p>
<pre class="fragment"><div>00099            :
00100 
00101     Sets <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> mouse pointer visibility counter.  If <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> counter <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> less than
00102     zero, <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> mouse pointer <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> not shown.
00103 
00104 Parameters:
00105 
00106     hOutput - Supplies a console output handle.
00107 
00108     bShow - <span class="keywordflow">if</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>, <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> display count <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> to be increased. <span class="keywordflow">if</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>,
00109         decreased.
00110 
00111 Return value:
00112 
00113     The <span class="keywordflow">return</span> value specifies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> <span class="keyword">new</span> display count.
00114 
00115 --*/
00116 
00117 {
00118 
00119     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00120     <a class="code" href="../../d9/d6/struct__CONSOLE__SHOWCURSOR__MSG.html">PCONSOLE_SHOWCURSOR_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.ShowConsoleCursor;
00121 
00122     a-&gt;<a class="code" href="../../d9/d6/struct__CONSOLE__SHOWCURSOR__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00123     a-&gt;<a class="code" href="../../d9/d6/struct__CONSOLE__SHOWCURSOR__MSG.html#o1">OutputHandle</a> = hConsoleOutput;
00124     a-&gt;<a class="code" href="../../d9/d6/struct__CONSOLE__SHOWCURSOR__MSG.html#o2">bShow</a> = bShow;
00125     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00126                          NULL,
00127                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00128                                               ConsolepShowCursor
00129                                             ),
00130                          <span class="keyword">sizeof</span>( *a )
00131                        );
00132     <span class="keywordflow">return</span> a-&gt;<a class="code" href="../../d9/d6/struct__CONSOLE__SHOWCURSOR__MSG.html#o3">DisplayCount</a>;
00133 
00134 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="client/private.c::WriteConsoleInputVDMA" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL APIENTRY WriteConsoleInputVDMA           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HANDLE&nbsp;</td>
          <td class="mdname" nowrap> <em>hConsoleInput</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PINPUT_RECORD&nbsp;</td>
          <td class="mdname" nowrap> <em>lpBuffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>nLength</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPDWORD&nbsp;</td>
          <td class="mdname" nowrap> <em>lpNumberOfEventsWritten</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d3/client_2private_8c-source.html#l00803">803</a> of file <a class="el" href="../../d7/d3/client_2private_8c-source.html">client/private.c</a>.
<p>
References <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, and <a class="el" href="../../d4/d5/iostubs_8c-source.html#l00335">WriteConsoleInputInternal()</a>.
<p>
<pre class="fragment"><div>00809 {
00810     <span class="keywordflow">return</span> <a class="code" href="../../d3/d6/iostubs_8c.html#a8">WriteConsoleInputInternal</a>(hConsoleInput,lpBuffer,nLength,lpNumberOfEventsWritten,FALSE,FALSE);
00811 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="client/private.c::WriteConsoleInputVDMW" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL APIENTRY WriteConsoleInputVDMW           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HANDLE&nbsp;</td>
          <td class="mdname" nowrap> <em>hConsoleInput</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PINPUT_RECORD&nbsp;</td>
          <td class="mdname" nowrap> <em>lpBuffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>nLength</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPDWORD&nbsp;</td>
          <td class="mdname" nowrap> <em>lpNumberOfEventsWritten</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d3/client_2private_8c-source.html#l00815">815</a> of file <a class="el" href="../../d7/d3/client_2private_8c-source.html">client/private.c</a>.
<p>
References <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d4/d5/iostubs_8c-source.html#l00335">WriteConsoleInputInternal()</a>.
<p>
<pre class="fragment"><div>00821 {
00822     <span class="keywordflow">return</span> <a class="code" href="../../d3/d6/iostubs_8c.html#a8">WriteConsoleInputInternal</a>(hConsoleInput,lpBuffer,nLength,lpNumberOfEventsWritten,TRUE,FALSE);
00823 }
</div></pre>    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a1" doxytag="client/private.c::pfnGdiConvertPalette" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d6/d4/client_2private_8c.html#a0">PCONVPALFUNC</a> <a class="el" href="../../d6/d4/client_2private_8c.html#a1">pfnGdiConvertPalette</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d3/client_2private_8c-source.html#l00030">30</a> of file <a class="el" href="../../d7/d3/client_2private_8c-source.html">client/private.c</a>.
<p>
Referenced by <a class="el" href="../../d7/d3/client_2private_8c-source.html#l00737">SetConsolePalette()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:45:17 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
