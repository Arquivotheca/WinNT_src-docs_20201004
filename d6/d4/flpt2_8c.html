<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: flpt2.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>flpt2.c File Reference</h1><code>#include "<a class="el" href="../../d6/d3/flpt_8h-source.html">flpt.h</a>"</code><br>

<p>
<a href="../../d7/d3/flpt2_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d4/flpt2_8c.html#a0">Test20</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d4/flpt2_8c.html#a1">Test21</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d4/flpt2_8c.html#a2">Test22</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d4/flpt2_8c.html#a3">Test23</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d4/flpt2_8c.html#a4">Test24</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d4/flpt2_8c.html#a5">Test25</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d4/flpt2_8c.html#a6">Test26</a> (VOID)</td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a0" doxytag="flpt2.c::Test20" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID Test20           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d3/flpt2_8c-source.html#l00028">28</a> of file <a class="el" href="../../d7/d3/flpt2_8c-source.html">flpt2.c</a>.
<p>
References <a class="el" href="../../d5/d4/flpt_8h.html#a32">AbsoluteDouble()</a>, <a class="el" href="../../d5/d9/cmconfig_8c-source.html#l00051">Count</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00082">_FLOATING_STATUS::Data</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00044">EV</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00056">EXCEPTION_CONTINUE_SEARCH</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00055">EXCEPTION_EXECUTE_HANDLER</a>, <a class="el" href="../../d5/d4/flpt_8h.html#a73">MoveDouble()</a>, <a class="el" href="../../d5/d4/flpt_8h.html#a74">NegateDouble()</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00074">SIGN</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00038">SV</a>, and <a class="el" href="../../d6/d3/flpt_8h-source.html#l00050">XV</a>.
<p>
Referenced by <a class="el" href="../../d5/d3/flpt_8c-source.html#l00028">main()</a>.
<p>
<pre class="fragment"><div>00032 {
00033 
00034     ULONG <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a>;
00035     <a class="code" href="../../d9/d2/union__FLOATING__STATUS.html">FLOATING_STATUS</a> Fsr;
00036     ULARGE_INTEGER DoubleOperand;
00037     ULARGE_INTEGER DoubleResult;
00038     ULONG Subtest;
00039 
00040     <span class="comment">//</span>
00041     <span class="comment">// Test 20 - Absolute, move, and negate double test.</span>
00042     <span class="comment">//</span>
00043 
00044     Subtest = 0;
00045     printf(<span class="stringliteral">"    Test 20 - absolute, move, and negate double ..."</span>);
00046     Subtest += 1;
00047     DoubleOperand.LowPart = 0x0;
00048     DoubleOperand.HighPart = 0x80000;
00049     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a32">AbsoluteDouble</a>(ROUND_TO_NEAREST,
00050                               &amp;DoubleOperand,
00051                               &amp;DoubleResult);
00052 
00053     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
00054         (DoubleResult.LowPart != 0x0) ||
00055         (DoubleResult.HighPart != 0x80000)) {
00056         <span class="keywordflow">goto</span> TestFailed;
00057     }
00058 
00059     Subtest += 1;
00060     DoubleOperand.LowPart = 0x0;
00061     DoubleOperand.HighPart = <a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> | 0x80000;
00062     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a32">AbsoluteDouble</a>(ROUND_TO_NEAREST,
00063                               &amp;DoubleOperand,
00064                               &amp;DoubleResult);
00065 
00066     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
00067         (DoubleResult.LowPart != 0x0) ||
00068         (DoubleResult.HighPart != 0x80000)) {
00069         <span class="keywordflow">goto</span> TestFailed;
00070     }
00071 
00072     Subtest += 1;
00073     DoubleOperand.LowPart = DOUBLE_NAN_LOW;
00074     DoubleOperand.HighPart = DOUBLE_QUIET_NAN;
00075     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a32">AbsoluteDouble</a>(ROUND_TO_NEAREST,
00076                               &amp;DoubleOperand,
00077                               &amp;DoubleResult);
00078 
00079     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
00080         (DoubleResult.LowPart != DOUBLE_NAN_LOW) ||
00081         (DoubleResult.HighPart != DOUBLE_QUIET_NAN)) {
00082         <span class="keywordflow">goto</span> TestFailed;
00083     }
00084 
00085     Subtest += 1;
00086     DoubleOperand.LowPart = DOUBLE_NAN_LOW;
00087     DoubleOperand.HighPart = DOUBLE_SIGNAL_NAN;
00088     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a32">AbsoluteDouble</a>(ROUND_TO_NEAREST,
00089                               &amp;DoubleOperand,
00090                               &amp;DoubleResult);
00091 
00092     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | <a class="code" href="../../d5/d4/flpt_8h.html#a14">XV</a> | ROUND_TO_NEAREST)) ||
00093         (DoubleResult.LowPart != DOUBLE_NAN_LOW) ||
00094         (DoubleResult.HighPart != DOUBLE_QUIET_NAN)) {
00095         <span class="keywordflow">goto</span> TestFailed;
00096     }
00097 
00098     Subtest += 1;
00099     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
00100     DoubleOperand.LowPart = DOUBLE_NAN_LOW;
00101     DoubleOperand.HighPart = DOUBLE_SIGNAL_NAN;
00102     <span class="keywordflow">try</span> {
00103         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a32">AbsoluteDouble</a>(EV | ROUND_TO_NEAREST,
00104                                   &amp;DoubleOperand,
00105                                   &amp;DoubleResult);
00106 
00107     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
00108               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
00109         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
00110     }
00111 
00112     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
00113         <span class="keywordflow">goto</span> TestFailed;
00114     }
00115 
00116     Subtest += 1;
00117     DoubleOperand.LowPart = 0x0;
00118     DoubleOperand.HighPart = 0x80000;
00119     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a73">MoveDouble</a>(ROUND_TO_NEAREST,
00120                           &amp;DoubleOperand,
00121                           &amp;DoubleResult);
00122 
00123     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
00124         (DoubleResult.LowPart != 0x0) ||
00125         (DoubleResult.HighPart != 0x80000)) {
00126         <span class="keywordflow">goto</span> TestFailed;
00127     }
00128 
00129     Subtest += 1;
00130     DoubleOperand.LowPart = 0x0;
00131     DoubleOperand.HighPart = <a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> | 0x80000;
00132     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a73">MoveDouble</a>(ROUND_TO_NEAREST,
00133                           &amp;DoubleOperand,
00134                           &amp;DoubleResult);
00135 
00136     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
00137         (DoubleResult.LowPart != 0x0) ||
00138         (DoubleResult.HighPart != (<a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> | 0x80000))) {
00139         <span class="keywordflow">goto</span> TestFailed;
00140     }
00141 
00142     Subtest += 1;
00143     DoubleOperand.LowPart = DOUBLE_NAN_LOW;
00144     DoubleOperand.HighPart = DOUBLE_QUIET_NAN;
00145     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a73">MoveDouble</a>(ROUND_TO_NEAREST,
00146                           &amp;DoubleOperand,
00147                           &amp;DoubleResult);
00148 
00149     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
00150         (DoubleResult.LowPart != DOUBLE_NAN_LOW) ||
00151         (DoubleResult.HighPart != DOUBLE_QUIET_NAN)) {
00152         <span class="keywordflow">goto</span> TestFailed;
00153     }
00154 
00155     Subtest += 1;
00156     DoubleOperand.LowPart = DOUBLE_NAN_LOW;
00157     DoubleOperand.HighPart = DOUBLE_SIGNAL_NAN;
00158     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a73">MoveDouble</a>(ROUND_TO_NEAREST,
00159                           &amp;DoubleOperand,
00160                           &amp;DoubleResult);
00161 
00162     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
00163         (DoubleResult.LowPart != DOUBLE_NAN_LOW) ||
00164         (DoubleResult.HighPart != DOUBLE_SIGNAL_NAN)) {
00165         <span class="keywordflow">goto</span> TestFailed;
00166     }
00167 
00168     Subtest += 1;
00169     DoubleOperand.LowPart = DOUBLE_NAN_LOW;
00170     DoubleOperand.HighPart = DOUBLE_SIGNAL_NAN;
00171     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a73">MoveDouble</a>(EV | ROUND_TO_NEAREST,
00172                           &amp;DoubleOperand,
00173                           &amp;DoubleResult);
00174 
00175     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a9">EV</a> | ROUND_TO_NEAREST)) ||
00176         (DoubleResult.LowPart != DOUBLE_NAN_LOW) ||
00177         (DoubleResult.HighPart != DOUBLE_SIGNAL_NAN)) {
00178         <span class="keywordflow">goto</span> TestFailed;
00179     }
00180 
00181     Subtest += 1;
00182     DoubleOperand.LowPart = 0x0;
00183     DoubleOperand.HighPart = 0x80000;
00184     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a74">NegateDouble</a>(ROUND_TO_NEAREST,
00185                             &amp;DoubleOperand,
00186                             &amp;DoubleResult);
00187 
00188     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
00189         (DoubleResult.LowPart != 0x0) ||
00190         (DoubleResult.HighPart != (<a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> | 0x80000))) {
00191         <span class="keywordflow">goto</span> TestFailed;
00192     }
00193 
00194     Subtest += 1;
00195     DoubleOperand.LowPart = 0x0;
00196     DoubleOperand.HighPart = <a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> | 0x80000;
00197     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a74">NegateDouble</a>(ROUND_TO_NEAREST,
00198                             &amp;DoubleOperand,
00199                             &amp;DoubleResult);
00200 
00201     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
00202         (DoubleResult.LowPart != 0x0) ||
00203         (DoubleResult.HighPart != 0x80000)) {
00204         <span class="keywordflow">goto</span> TestFailed;
00205     }
00206 
00207     Subtest += 1;
00208     DoubleOperand.LowPart = DOUBLE_NAN_LOW;
00209     DoubleOperand.HighPart = DOUBLE_QUIET_NAN;
00210     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a74">NegateDouble</a>(ROUND_TO_NEAREST,
00211                             &amp;DoubleOperand,
00212                             &amp;DoubleResult);
00213 
00214     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
00215         (DoubleResult.LowPart != DOUBLE_NAN_LOW) ||
00216         (DoubleResult.HighPart != DOUBLE_QUIET_NAN)) {
00217         <span class="keywordflow">goto</span> TestFailed;
00218     }
00219 
00220     Subtest += 1;
00221     DoubleOperand.LowPart = DOUBLE_NAN_LOW;
00222     DoubleOperand.HighPart = DOUBLE_SIGNAL_NAN;
00223     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a74">NegateDouble</a>(ROUND_TO_NEAREST,
00224                             &amp;DoubleOperand,
00225                             &amp;DoubleResult);
00226 
00227     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | <a class="code" href="../../d5/d4/flpt_8h.html#a14">XV</a> | ROUND_TO_NEAREST)) ||
00228         (DoubleResult.LowPart != DOUBLE_NAN_LOW) ||
00229         (DoubleResult.HighPart != DOUBLE_QUIET_NAN)) {
00230         <span class="keywordflow">goto</span> TestFailed;
00231     }
00232 
00233     Subtest += 1;
00234     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
00235     DoubleOperand.LowPart = DOUBLE_NAN_LOW;
00236     DoubleOperand.HighPart = DOUBLE_SIGNAL_NAN;
00237     <span class="keywordflow">try</span> {
00238         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a74">NegateDouble</a>(EV | ROUND_TO_NEAREST,
00239                                 &amp;DoubleOperand,
00240                                 &amp;DoubleResult);
00241 
00242     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
00243               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
00244         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
00245     }
00246 
00247     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
00248         <span class="keywordflow">goto</span> TestFailed;
00249     }
00250 
00251     <span class="comment">//</span>
00252     <span class="comment">// End of test 20.</span>
00253     <span class="comment">//</span>
00254 
00255     printf(<span class="stringliteral">"succeeded\n"</span>);
00256     <span class="keywordflow">return</span>;
00257 
00258     <span class="comment">//</span>
00259     <span class="comment">// Test 20 failed.</span>
00260     <span class="comment">//</span>
00261 
00262 TestFailed:
00263     printf(<span class="stringliteral">" subtest %d failed, fsr = %lx, result = %lx, %lx\n"</span>,
00264            Subtest,
00265            Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a>,
00266            DoubleResult.LowPart,
00267            DoubleResult.HighPart);
00268 
00269     <span class="keywordflow">return</span>;
00270 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="flpt2.c::Test21" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID Test21           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d3/flpt2_8c-source.html#l00273">273</a> of file <a class="el" href="../../d7/d3/flpt2_8c-source.html">flpt2.c</a>.
<p>
References <a class="el" href="../../d5/d4/flpt_8h.html#a38">ConvertToSingleFromDouble()</a>, <a class="el" href="../../d5/d9/cmconfig_8c-source.html#l00051">Count</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00082">_FLOATING_STATUS::Data</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00040">EI</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00042">EO</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00041">EU</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00044">EV</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00056">EXCEPTION_CONTINUE_SEARCH</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00055">EXCEPTION_EXECUTE_HANDLER</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00060">MINUS_DOUBLE_INFINITY_VALUE</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00061">MINUS_SINGLE_INFINITY_VALUE</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00034">SI</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00074">SIGN</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00036">SO</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00035">SU</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00038">SV</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00046">XI</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00048">XO</a>, and <a class="el" href="../../d6/d3/flpt_8h-source.html#l00050">XV</a>.
<p>
Referenced by <a class="el" href="../../d5/d3/flpt_8c-source.html#l00028">main()</a>.
<p>
<pre class="fragment"><div>00277 {
00278 
00279     ULONG <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a>;
00280     <a class="code" href="../../d9/d2/union__FLOATING__STATUS.html">FLOATING_STATUS</a> Fsr;
00281     ULARGE_INTEGER DoubleOperand;
00282     ULONG SingleResult;
00283     ULONG Subtest;
00284 
00285     <span class="comment">//</span>
00286     <span class="comment">// Test 21 - Convert to single.</span>
00287     <span class="comment">//</span>
00288 
00289     Subtest = 0;
00290     printf(<span class="stringliteral">"    Test 21 - convert to single ..."</span>);
00291     Subtest += 1;
00292     DoubleOperand.LowPart = DOUBLE_NAN_LOW;
00293     DoubleOperand.HighPart = DOUBLE_QUIET_NAN;
00294     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a38">ConvertToSingleFromDouble</a>(ROUND_TO_NEAREST,
00295                                          &amp;DoubleOperand,
00296                                          &amp;SingleResult);
00297 
00298     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
00299         (SingleResult != SINGLE_QUIET_NAN)) {
00300         <span class="keywordflow">goto</span> TestFailed;
00301     }
00302 
00303     Subtest += 1;
00304     DoubleOperand.LowPart = DOUBLE_NAN_LOW;
00305     DoubleOperand.HighPart = DOUBLE_SIGNAL_NAN;
00306     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a38">ConvertToSingleFromDouble</a>(ROUND_TO_NEAREST,
00307                                          &amp;DoubleOperand,
00308                                          &amp;SingleResult);
00309 
00310     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | <a class="code" href="../../d5/d4/flpt_8h.html#a14">XV</a> | ROUND_TO_NEAREST)) ||
00311         (SingleResult != SINGLE_QUIET_NAN)) {
00312         <span class="keywordflow">goto</span> TestFailed;
00313     }
00314 
00315     Subtest += 1;
00316     DoubleOperand.LowPart = DOUBLE_INFINITY_VALUE_LOW;
00317     DoubleOperand.HighPart = DOUBLE_INFINITY_VALUE_HIGH;
00318     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a38">ConvertToSingleFromDouble</a>(ROUND_TO_NEAREST,
00319                                          &amp;DoubleOperand,
00320                                          &amp;SingleResult);
00321 
00322     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
00323         (SingleResult != SINGLE_INFINITY_VALUE)) {
00324         <span class="keywordflow">goto</span> TestFailed;
00325     }
00326 
00327     Subtest += 1;
00328     DoubleOperand.LowPart = DOUBLE_INFINITY_VALUE_LOW;
00329     DoubleOperand.HighPart = <a class="code" href="../../d5/d4/flpt_8h.html#a17">MINUS_DOUBLE_INFINITY_VALUE</a>;
00330     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a38">ConvertToSingleFromDouble</a>(ROUND_TO_NEAREST,
00331                                          &amp;DoubleOperand,
00332                                          &amp;SingleResult);
00333 
00334     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
00335         (SingleResult != <a class="code" href="../../d5/d4/flpt_8h.html#a18">MINUS_SINGLE_INFINITY_VALUE</a>)) {
00336         <span class="keywordflow">goto</span> TestFailed;
00337     }
00338 
00339     Subtest += 1;
00340     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
00341     DoubleOperand.LowPart = DOUBLE_NAN_LOW;
00342     DoubleOperand.HighPart = DOUBLE_SIGNAL_NAN;
00343     <span class="keywordflow">try</span> {
00344         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a38">ConvertToSingleFromDouble</a>(EV | ROUND_TO_NEAREST,
00345                                              &amp;DoubleOperand,
00346                                              &amp;SingleResult);
00347 
00348     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
00349               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
00350         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
00351     }
00352 
00353     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
00354         <span class="keywordflow">goto</span> TestFailed;
00355     }
00356 
00357     Subtest += 1;
00358     DoubleOperand.LowPart = 0x0;
00359     DoubleOperand.HighPart =
00360         ((DOUBLE_EXPONENT_BIAS - SINGLE_EXPONENT_BIAS) &lt;&lt; (52 - 32)) | 0xfffff;
00361     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a38">ConvertToSingleFromDouble</a>(ROUND_TO_ZERO,
00362                                          &amp;DoubleOperand,
00363                                          &amp;SingleResult);
00364 
00365     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_ZERO) ||
00366         (SingleResult != 0x7ffffc)) {
00367         <span class="keywordflow">goto</span> TestFailed;
00368     }
00369 
00370     Subtest += 1;
00371     DoubleOperand.LowPart = 0x0;
00372     DoubleOperand.HighPart = <a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> |
00373         ((DOUBLE_EXPONENT_BIAS - SINGLE_EXPONENT_BIAS) &lt;&lt; (52 - 32)) | 0xfffff;
00374     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a38">ConvertToSingleFromDouble</a>(ROUND_TO_ZERO,
00375                                          &amp;DoubleOperand,
00376                                          &amp;SingleResult);
00377 
00378     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_ZERO) ||
00379         (SingleResult != (<a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> | 0x7ffffc))) {
00380         <span class="keywordflow">goto</span> TestFailed;
00381     }
00382 
00383     Subtest += 1;
00384     DoubleOperand.LowPart = 0xf0000000;
00385     DoubleOperand.HighPart =
00386         ((DOUBLE_EXPONENT_BIAS - SINGLE_EXPONENT_BIAS) &lt;&lt; (52 - 32)) | 0xfffff;
00387     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a38">ConvertToSingleFromDouble</a>(ROUND_TO_ZERO,
00388                                          &amp;DoubleOperand,
00389                                          &amp;SingleResult);
00390 
00391     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a0">SI</a> | <a class="code" href="../../d5/d4/flpt_8h.html#a1">SU</a> | ROUND_TO_ZERO)) ||
00392         (SingleResult != 0x7fffff)) {
00393         <span class="keywordflow">goto</span> TestFailed;
00394     }
00395 
00396     Subtest += 1;
00397     DoubleOperand.LowPart = 0xf0000000;
00398     DoubleOperand.HighPart = <a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> |
00399         ((DOUBLE_EXPONENT_BIAS - SINGLE_EXPONENT_BIAS) &lt;&lt; (52 - 32)) | 0xfffff;
00400     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a38">ConvertToSingleFromDouble</a>(ROUND_TO_ZERO,
00401                                          &amp;DoubleOperand,
00402                                          &amp;SingleResult);
00403 
00404     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a0">SI</a> | <a class="code" href="../../d5/d4/flpt_8h.html#a1">SU</a> | ROUND_TO_ZERO)) ||
00405         (SingleResult != (<a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> | 0x7fffff))) {
00406         <span class="keywordflow">goto</span> TestFailed;
00407     }
00408 
00409     Subtest += 1;
00410     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
00411     DoubleOperand.LowPart = 0xf0000000;
00412     DoubleOperand.HighPart = <a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> |
00413         ((DOUBLE_EXPONENT_BIAS - SINGLE_EXPONENT_BIAS) &lt;&lt; (52 - 32)) | 0xfffff;
00414     <span class="keywordflow">try</span> {
00415         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a38">ConvertToSingleFromDouble</a>(EU | ROUND_TO_ZERO,
00416                                              &amp;DoubleOperand,
00417                                              &amp;SingleResult);
00418 
00419     } except ((GetExceptionCode() == STATUS_FLOAT_UNDERFLOW) ?
00420               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
00421         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
00422     }
00423 
00424     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
00425         <span class="keywordflow">goto</span> TestFailed;
00426     }
00427 
00428     Subtest += 1;
00429     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
00430     DoubleOperand.LowPart = 0xf0000000;
00431     DoubleOperand.HighPart = <a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> |
00432         ((DOUBLE_EXPONENT_BIAS - SINGLE_EXPONENT_BIAS) &lt;&lt; (52 - 32)) | 0xfffff;
00433     <span class="keywordflow">try</span> {
00434         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a38">ConvertToSingleFromDouble</a>(EI | ROUND_TO_ZERO,
00435                                              &amp;DoubleOperand,
00436                                              &amp;SingleResult);
00437 
00438     } except ((GetExceptionCode() == STATUS_FLOAT_INEXACT_RESULT) ?
00439               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
00440         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
00441     }
00442 
00443     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
00444         <span class="keywordflow">goto</span> TestFailed;
00445     }
00446 
00447     Subtest += 1;
00448     DoubleOperand.LowPart = 0x0;
00449     DoubleOperand.HighPart = 0xfffff;
00450     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a38">ConvertToSingleFromDouble</a>(ROUND_TO_ZERO,
00451                                          &amp;DoubleOperand,
00452                                          &amp;SingleResult);
00453 
00454     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a0">SI</a> | <a class="code" href="../../d5/d4/flpt_8h.html#a1">SU</a> | ROUND_TO_ZERO)) ||
00455         (SingleResult != 0x0)) {
00456         <span class="keywordflow">goto</span> TestFailed;
00457     }
00458 
00459     Subtest += 1;
00460     DoubleOperand.LowPart = 0x0;
00461     DoubleOperand.HighPart = <a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> | 0xfffff;
00462     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a38">ConvertToSingleFromDouble</a>(ROUND_TO_ZERO,
00463                                          &amp;DoubleOperand,
00464                                          &amp;SingleResult);
00465 
00466     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a0">SI</a> | <a class="code" href="../../d5/d4/flpt_8h.html#a1">SU</a> | ROUND_TO_ZERO)) ||
00467         (SingleResult != (<a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> | 0x0))) {
00468         <span class="keywordflow">goto</span> TestFailed;
00469     }
00470 
00471     Subtest += 1;
00472     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
00473     DoubleOperand.LowPart = 0x0;
00474     DoubleOperand.HighPart = 0xfffff;
00475     <span class="keywordflow">try</span> {
00476         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a38">ConvertToSingleFromDouble</a>(EU | ROUND_TO_ZERO,
00477                                              &amp;DoubleOperand,
00478                                              &amp;SingleResult);
00479 
00480     } except ((GetExceptionCode() == STATUS_FLOAT_UNDERFLOW) ?
00481               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
00482         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
00483     }
00484 
00485     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
00486         <span class="keywordflow">goto</span> TestFailed;
00487     }
00488 
00489     Subtest += 1;
00490     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
00491     DoubleOperand.LowPart = 0x0;
00492     DoubleOperand.HighPart = 0xfffff;
00493     <span class="keywordflow">try</span> {
00494         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a38">ConvertToSingleFromDouble</a>(EI | ROUND_TO_ZERO,
00495                                              &amp;DoubleOperand,
00496                                              &amp;SingleResult);
00497 
00498     } except ((GetExceptionCode() == STATUS_FLOAT_INEXACT_RESULT) ?
00499               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
00500         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
00501     }
00502 
00503     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
00504         <span class="keywordflow">goto</span> TestFailed;
00505     }
00506 
00507     Subtest += 1;
00508     DoubleOperand.LowPart = 0x0;
00509     DoubleOperand.HighPart = ((DOUBLE_EXPONENT_BIAS +
00510                             SINGLE_EXPONENT_BIAS + 1) &lt;&lt; (52 - 32)) | 0xfffff;
00511     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a38">ConvertToSingleFromDouble</a>(ROUND_TO_ZERO,
00512                                          &amp;DoubleOperand,
00513                                          &amp;SingleResult);
00514 
00515     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a0">SI</a> | <a class="code" href="../../d5/d4/flpt_8h.html#a2">SO</a> | <a class="code" href="../../d5/d4/flpt_8h.html#a10">XI</a> | <a class="code" href="../../d5/d4/flpt_8h.html#a12">XO</a> | ROUND_TO_ZERO)) ||
00516         (SingleResult != SINGLE_MAXIMUM_VALUE)) {
00517         <span class="keywordflow">goto</span> TestFailed;
00518     }
00519 
00520     Subtest += 1;
00521     DoubleOperand.LowPart = 0x0;
00522     DoubleOperand.HighPart = <a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> | ((DOUBLE_EXPONENT_BIAS +
00523                             SINGLE_EXPONENT_BIAS + 1) &lt;&lt; (52 - 32)) | 0xfffff;
00524     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a38">ConvertToSingleFromDouble</a>(ROUND_TO_ZERO,
00525                                          &amp;DoubleOperand,
00526                                          &amp;SingleResult);
00527 
00528     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a0">SI</a> | <a class="code" href="../../d5/d4/flpt_8h.html#a2">SO</a> | <a class="code" href="../../d5/d4/flpt_8h.html#a10">XI</a> | <a class="code" href="../../d5/d4/flpt_8h.html#a12">XO</a> | ROUND_TO_ZERO)) ||
00529         (SingleResult != (<a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> | SINGLE_MAXIMUM_VALUE))) {
00530         <span class="keywordflow">goto</span> TestFailed;
00531     }
00532 
00533     Subtest += 1;
00534     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
00535     DoubleOperand.LowPart = 0x0;
00536     DoubleOperand.HighPart = ((DOUBLE_EXPONENT_BIAS +
00537                             SINGLE_EXPONENT_BIAS + 1) &lt;&lt; (52 - 32)) | 0xfffff;
00538     <span class="keywordflow">try</span> {
00539         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a38">ConvertToSingleFromDouble</a>(EO | ROUND_TO_ZERO,
00540                                              &amp;DoubleOperand,
00541                                              &amp;SingleResult);
00542 
00543     } except ((GetExceptionCode() == STATUS_FLOAT_OVERFLOW) ?
00544               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
00545         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
00546     }
00547 
00548     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
00549         <span class="keywordflow">goto</span> TestFailed;
00550     }
00551 
00552     Subtest += 1;
00553     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
00554     DoubleOperand.LowPart = 0x0;
00555     DoubleOperand.HighPart = ((DOUBLE_EXPONENT_BIAS +
00556                             SINGLE_EXPONENT_BIAS + 1) &lt;&lt; (52 - 32)) | 0xfffff;
00557     <span class="keywordflow">try</span> {
00558         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a38">ConvertToSingleFromDouble</a>(EI | ROUND_TO_ZERO,
00559                                              &amp;DoubleOperand,
00560                                              &amp;SingleResult);
00561 
00562     } except ((GetExceptionCode() == STATUS_FLOAT_INEXACT_RESULT) ?
00563               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
00564         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
00565     }
00566 
00567     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
00568         <span class="keywordflow">goto</span> TestFailed;
00569     }
00570 
00571     <span class="comment">//</span>
00572     <span class="comment">// End of test 21.</span>
00573     <span class="comment">//</span>
00574 
00575     printf(<span class="stringliteral">"succeeded\n"</span>);
00576     <span class="keywordflow">return</span>;
00577 
00578     <span class="comment">//</span>
00579     <span class="comment">// Test 21 failed.</span>
00580     <span class="comment">//</span>
00581 
00582 TestFailed:
00583     printf(<span class="stringliteral">" subtest %d failed, fsr = %lx, result = %lx\n"</span>,
00584            Subtest,
00585            Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a>,
00586            SingleResult);
00587 
00588     <span class="keywordflow">return</span>;
00589 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="flpt2.c::Test22" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID Test22           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d3/flpt2_8c-source.html#l00592">592</a> of file <a class="el" href="../../d7/d3/flpt2_8c-source.html">flpt2.c</a>.
<p>
References <a class="el" href="../../d5/d4/flpt_8h.html#a35">ConvertToDoubleFromSingle()</a>, <a class="el" href="../../d5/d9/cmconfig_8c-source.html#l00051">Count</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00082">_FLOATING_STATUS::Data</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00044">EV</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00056">EXCEPTION_CONTINUE_SEARCH</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00055">EXCEPTION_EXECUTE_HANDLER</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00060">MINUS_DOUBLE_INFINITY_VALUE</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00061">MINUS_SINGLE_INFINITY_VALUE</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00074">SIGN</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00038">SV</a>, and <a class="el" href="../../d6/d3/flpt_8h-source.html#l00050">XV</a>.
<p>
Referenced by <a class="el" href="../../d5/d3/flpt_8c-source.html#l00028">main()</a>.
<p>
<pre class="fragment"><div>00596 {
00597 
00598     ULONG <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a>;
00599     <a class="code" href="../../d9/d2/union__FLOATING__STATUS.html">FLOATING_STATUS</a> Fsr;
00600     ULARGE_INTEGER DoubleResult;
00601     ULONG SingleOperand;
00602     ULONG Subtest;
00603 
00604     <span class="comment">//</span>
00605     <span class="comment">// Test 22 - Convert to double.</span>
00606     <span class="comment">//</span>
00607 
00608     Subtest = 0;
00609     printf(<span class="stringliteral">"    Test 22 - convert to double ..."</span>);
00610     Subtest += 1;
00611     SingleOperand = SINGLE_QUIET_NAN;
00612     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a35">ConvertToDoubleFromSingle</a>(ROUND_TO_NEAREST,
00613                                          SingleOperand,
00614                                          &amp;DoubleResult);
00615 
00616     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
00617         (DoubleResult.LowPart != DOUBLE_NAN_LOW) ||
00618         (DoubleResult.HighPart != DOUBLE_QUIET_NAN)) {
00619         <span class="keywordflow">goto</span> TestFailed;
00620     }
00621 
00622     Subtest += 1;
00623     SingleOperand = SINGLE_SIGNAL_NAN;
00624     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a35">ConvertToDoubleFromSingle</a>(ROUND_TO_NEAREST,
00625                                          SingleOperand,
00626                                          &amp;DoubleResult);
00627 
00628     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | <a class="code" href="../../d5/d4/flpt_8h.html#a14">XV</a> | ROUND_TO_NEAREST)) ||
00629         (DoubleResult.LowPart != DOUBLE_NAN_LOW) ||
00630         (DoubleResult.HighPart != DOUBLE_QUIET_NAN)) {
00631         <span class="keywordflow">goto</span> TestFailed;
00632     }
00633 
00634     Subtest += 1;
00635     SingleOperand = SINGLE_INFINITY_VALUE;
00636     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a35">ConvertToDoubleFromSingle</a>(ROUND_TO_NEAREST,
00637                                          SingleOperand,
00638                                          &amp;DoubleResult);
00639 
00640     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
00641         (DoubleResult.LowPart != DOUBLE_INFINITY_VALUE_LOW) ||
00642         (DoubleResult.HighPart != DOUBLE_INFINITY_VALUE_HIGH)) {
00643         <span class="keywordflow">goto</span> TestFailed;
00644     }
00645 
00646     Subtest += 1;
00647     SingleOperand = <a class="code" href="../../d5/d4/flpt_8h.html#a18">MINUS_SINGLE_INFINITY_VALUE</a>;
00648     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a35">ConvertToDoubleFromSingle</a>(ROUND_TO_NEAREST,
00649                                          SingleOperand,
00650                                          &amp;DoubleResult);
00651 
00652     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
00653         (DoubleResult.LowPart != DOUBLE_INFINITY_VALUE_LOW) ||
00654         (DoubleResult.HighPart != <a class="code" href="../../d5/d4/flpt_8h.html#a17">MINUS_DOUBLE_INFINITY_VALUE</a>)) {
00655         <span class="keywordflow">goto</span> TestFailed;
00656     }
00657 
00658     Subtest += 1;
00659     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
00660     SingleOperand = SINGLE_SIGNAL_NAN;
00661     <span class="keywordflow">try</span> {
00662         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a35">ConvertToDoubleFromSingle</a>(EV | ROUND_TO_NEAREST,
00663                                              SingleOperand,
00664                                              &amp;DoubleResult);
00665 
00666     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
00667               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
00668         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
00669     }
00670 
00671     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
00672         <span class="keywordflow">goto</span> TestFailed;
00673     }
00674 
00675     Subtest += 1;
00676     SingleOperand = 0x400000;
00677     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a35">ConvertToDoubleFromSingle</a>(ROUND_TO_ZERO,
00678                                          SingleOperand,
00679                                          &amp;DoubleResult);
00680 
00681     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_ZERO) ||
00682         (DoubleResult.LowPart != 0x0) ||
00683         (DoubleResult.HighPart != 0x38000000)) {
00684         <span class="keywordflow">goto</span> TestFailed;
00685     }
00686 
00687     Subtest += 1;
00688     SingleOperand = <a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> | 0x400000;
00689     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a35">ConvertToDoubleFromSingle</a>(ROUND_TO_ZERO,
00690                                          SingleOperand,
00691                                          &amp;DoubleResult);
00692 
00693     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_ZERO) ||
00694         (DoubleResult.LowPart != 0x0) ||
00695         (DoubleResult.HighPart != (<a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> | 0x38000000))) {
00696         <span class="keywordflow">goto</span> TestFailed;
00697     }
00698 
00699     Subtest += 1;
00700     SingleOperand = 0x440000;
00701     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a35">ConvertToDoubleFromSingle</a>(ROUND_TO_ZERO,
00702                                          SingleOperand,
00703                                          &amp;DoubleResult);
00704 
00705     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_ZERO) ||
00706         (DoubleResult.LowPart != 0x0) ||
00707         (DoubleResult.HighPart != 0x38010000)) {
00708         <span class="keywordflow">goto</span> TestFailed;
00709     }
00710 
00711     Subtest += 1;
00712     SingleOperand = <a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> | 0x440000;
00713     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a35">ConvertToDoubleFromSingle</a>(ROUND_TO_ZERO,
00714                                          SingleOperand,
00715                                          &amp;DoubleResult);
00716 
00717     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_ZERO) ||
00718         (DoubleResult.LowPart != 0x0) ||
00719         (DoubleResult.HighPart != (<a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> | 0x38010000))) {
00720         <span class="keywordflow">goto</span> TestFailed;
00721     }
00722 
00723     <span class="comment">//</span>
00724     <span class="comment">// End of test 22.</span>
00725     <span class="comment">//</span>
00726 
00727     printf(<span class="stringliteral">"succeeded\n"</span>);
00728     <span class="keywordflow">return</span>;
00729 
00730     <span class="comment">//</span>
00731     <span class="comment">// Test 22 failed.</span>
00732     <span class="comment">//</span>
00733 
00734 TestFailed:
00735     printf(<span class="stringliteral">" subtest %d failed, fsr = %lx, result = %lx, %lx\n"</span>,
00736            Subtest,
00737            Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a>,
00738            DoubleResult.LowPart,
00739            DoubleResult.HighPart);
00740 
00741     <span class="keywordflow">return</span>;
00742 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="flpt2.c::Test23" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID Test23           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d3/flpt2_8c-source.html#l00745">745</a> of file <a class="el" href="../../d7/d3/flpt2_8c-source.html">flpt2.c</a>.
<p>
References <a class="el" href="../../d5/d4/flpt_8h.html#a37">ConvertToLongwordFromSingle()</a>, <a class="el" href="../../d5/d9/cmconfig_8c-source.html#l00051">Count</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00082">_FLOATING_STATUS::Data</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00040">EI</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00044">EV</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00056">EXCEPTION_CONTINUE_SEARCH</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00055">EXCEPTION_EXECUTE_HANDLER</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00061">MINUS_SINGLE_INFINITY_VALUE</a>, <a class="el" href="../../d5/d4/flpt_8h.html#a79">RoundToLongwordFromSingle()</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00034">SI</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00074">SIGN</a>, and <a class="el" href="../../d6/d3/flpt_8h-source.html#l00038">SV</a>.
<p>
Referenced by <a class="el" href="../../d5/d3/flpt_8c-source.html#l00028">main()</a>.
<p>
<pre class="fragment"><div>00749 {
00750 
00751     ULONG <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a>;
00752     <a class="code" href="../../d9/d2/union__FLOATING__STATUS.html">FLOATING_STATUS</a> Fsr;
00753     ULONG LongwordResult;
00754     ULONG SingleOperand;
00755     ULONG Subtest;
00756 
00757     <span class="comment">//</span>
00758     <span class="comment">// Test 23 - Convert to longword from single.</span>
00759     <span class="comment">//</span>
00760 
00761     Subtest = 0;
00762     printf(<span class="stringliteral">"    Test 23 - convert to longword from single ..."</span>);
00763     Subtest += 1;
00764     SingleOperand = SINGLE_QUIET_NAN;
00765     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a37">ConvertToLongwordFromSingle</a>(ROUND_TO_NEAREST,
00766                                            SingleOperand,
00767                                            &amp;LongwordResult);
00768 
00769     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
00770         (LongwordResult != INTEGER_NAN)) {
00771         <span class="keywordflow">goto</span> TestFailed;
00772     }
00773 
00774     Subtest += 1;
00775     SingleOperand = SINGLE_SIGNAL_NAN;
00776     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a37">ConvertToLongwordFromSingle</a>(ROUND_TO_NEAREST,
00777                                            SingleOperand,
00778                                            &amp;LongwordResult);
00779 
00780     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
00781         (LongwordResult != INTEGER_NAN)) {
00782         <span class="keywordflow">goto</span> TestFailed;
00783     }
00784 
00785     Subtest += 1;
00786     SingleOperand = SINGLE_INFINITY_VALUE;
00787     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a37">ConvertToLongwordFromSingle</a>(ROUND_TO_NEAREST,
00788                                            SingleOperand,
00789                                            &amp;LongwordResult);
00790 
00791     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
00792         (LongwordResult != 0x7fffffff)) {
00793         <span class="keywordflow">goto</span> TestFailed;
00794     }
00795 
00796     Subtest += 1;
00797     SingleOperand = <a class="code" href="../../d5/d4/flpt_8h.html#a18">MINUS_SINGLE_INFINITY_VALUE</a>;
00798     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a37">ConvertToLongwordFromSingle</a>(ROUND_TO_NEAREST,
00799                                            SingleOperand,
00800                                            &amp;LongwordResult);
00801 
00802     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
00803         (LongwordResult != 0x80000000)) {
00804         <span class="keywordflow">goto</span> TestFailed;
00805     }
00806 
00807     Subtest += 1;
00808     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
00809     SingleOperand = SINGLE_QUIET_NAN;
00810     <span class="keywordflow">try</span> {
00811         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a37">ConvertToLongwordFromSingle</a>(EV | ROUND_TO_NEAREST,
00812                                                SingleOperand,
00813                                                &amp;LongwordResult);
00814 
00815     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
00816               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
00817         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
00818     }
00819 
00820     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
00821         <span class="keywordflow">goto</span> TestFailed;
00822     }
00823 
00824     Subtest += 1;
00825     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
00826     SingleOperand = SINGLE_SIGNAL_NAN;
00827     <span class="keywordflow">try</span> {
00828         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a37">ConvertToLongwordFromSingle</a>(EV | ROUND_TO_NEAREST,
00829                                                SingleOperand,
00830                                                &amp;LongwordResult);
00831 
00832     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
00833               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
00834         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
00835     }
00836 
00837     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
00838         <span class="keywordflow">goto</span> TestFailed;
00839     }
00840 
00841     Subtest += 1;
00842     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
00843     SingleOperand = SINGLE_INFINITY_VALUE;
00844     <span class="keywordflow">try</span> {
00845         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a37">ConvertToLongwordFromSingle</a>(EV | ROUND_TO_NEAREST,
00846                                                SingleOperand,
00847                                                &amp;LongwordResult);
00848 
00849     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
00850               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
00851         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
00852     }
00853 
00854     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
00855         <span class="keywordflow">goto</span> TestFailed;
00856     }
00857 
00858     Subtest += 1;
00859     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
00860     SingleOperand = <a class="code" href="../../d5/d4/flpt_8h.html#a18">MINUS_SINGLE_INFINITY_VALUE</a>;
00861     <span class="keywordflow">try</span> {
00862         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a37">ConvertToLongwordFromSingle</a>(EV | ROUND_TO_NEAREST,
00863                                                SingleOperand,
00864                                                &amp;LongwordResult);
00865 
00866     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
00867               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
00868         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
00869     }
00870 
00871     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
00872         <span class="keywordflow">goto</span> TestFailed;
00873     }
00874 
00875     Subtest += 1;
00876     SingleOperand = 0x400000;
00877     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a37">ConvertToLongwordFromSingle</a>(ROUND_TO_NEAREST,
00878                                            SingleOperand,
00879                                            &amp;LongwordResult);
00880 
00881     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a0">SI</a> | ROUND_TO_NEAREST)) ||
00882         (LongwordResult != 0x0)) {
00883         <span class="keywordflow">goto</span> TestFailed;
00884     }
00885 
00886     Subtest += 1;
00887     SingleOperand = 0x1;
00888     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a37">ConvertToLongwordFromSingle</a>(ROUND_TO_NEAREST,
00889                                            SingleOperand,
00890                                            &amp;LongwordResult);
00891 
00892     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a0">SI</a> | ROUND_TO_NEAREST)) ||
00893         (LongwordResult != 0x0)) {
00894         <span class="keywordflow">goto</span> TestFailed;
00895     }
00896 
00897     Subtest += 1;
00898     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
00899     SingleOperand = 0x400000;
00900     <span class="keywordflow">try</span> {
00901         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a37">ConvertToLongwordFromSingle</a>(EI | ROUND_TO_NEAREST,
00902                                                SingleOperand,
00903                                                &amp;LongwordResult);
00904 
00905     } except ((GetExceptionCode() == STATUS_FLOAT_INEXACT_RESULT) ?
00906               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
00907         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
00908     }
00909 
00910     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
00911         <span class="keywordflow">goto</span> TestFailed;
00912     }
00913 
00914     Subtest += 1;
00915     SingleOperand = ((SINGLE_EXPONENT_BIAS + 32) &lt;&lt; 23);
00916     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a37">ConvertToLongwordFromSingle</a>(ROUND_TO_NEAREST,
00917                                            SingleOperand,
00918                                            &amp;LongwordResult);
00919 
00920     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
00921         (LongwordResult != INTEGER_NAN)) {
00922         <span class="keywordflow">goto</span> TestFailed;
00923     }
00924 
00925     Subtest += 1;
00926     SingleOperand = ((SINGLE_EXPONENT_BIAS + 31) &lt;&lt; 23);
00927     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a37">ConvertToLongwordFromSingle</a>(ROUND_TO_NEAREST,
00928                                            SingleOperand,
00929                                            &amp;LongwordResult);
00930 
00931     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
00932         (LongwordResult != INTEGER_NAN)) {
00933         <span class="keywordflow">goto</span> TestFailed;
00934     }
00935 
00936     Subtest += 1;
00937     SingleOperand = <a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> | ((SINGLE_EXPONENT_BIAS + 31) &lt;&lt; 23);
00938     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a37">ConvertToLongwordFromSingle</a>(ROUND_TO_NEAREST,
00939                                            SingleOperand,
00940                                            &amp;LongwordResult);
00941 
00942     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
00943         (LongwordResult != 0x80000000)) {
00944         <span class="keywordflow">goto</span> TestFailed;
00945     }
00946 
00947     Subtest += 1;
00948     SingleOperand = <a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> | ((SINGLE_EXPONENT_BIAS + 31) &lt;&lt; 23) | 0x1;
00949     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a37">ConvertToLongwordFromSingle</a>(ROUND_TO_NEAREST,
00950                                            SingleOperand,
00951                                            &amp;LongwordResult);
00952 
00953     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
00954         (LongwordResult != INTEGER_NAN)) {
00955         <span class="keywordflow">goto</span> TestFailed;
00956     }
00957 
00958     Subtest += 1;
00959     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
00960     SingleOperand = ((SINGLE_EXPONENT_BIAS + 31) &lt;&lt; 23);
00961     <span class="keywordflow">try</span> {
00962         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a37">ConvertToLongwordFromSingle</a>(EV | ROUND_TO_NEAREST,
00963                                                SingleOperand,
00964                                                &amp;LongwordResult);
00965 
00966     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
00967               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
00968         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
00969     }
00970 
00971     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
00972         <span class="keywordflow">goto</span> TestFailed;
00973     }
00974 
00975     Subtest += 1;
00976     SingleOperand = SINGLE_QUIET_NAN;
00977     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a79">RoundToLongwordFromSingle</a>(ROUND_TO_NEAREST,
00978                                          SingleOperand,
00979                                          &amp;LongwordResult);
00980 
00981     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
00982         (LongwordResult != INTEGER_NAN)) {
00983         <span class="keywordflow">goto</span> TestFailed;
00984     }
00985 
00986     Subtest += 1;
00987     SingleOperand = SINGLE_SIGNAL_NAN;
00988     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a79">RoundToLongwordFromSingle</a>(ROUND_TO_NEAREST,
00989                                          SingleOperand,
00990                                          &amp;LongwordResult);
00991 
00992     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
00993         (LongwordResult != INTEGER_NAN)) {
00994         <span class="keywordflow">goto</span> TestFailed;
00995     }
00996 
00997     Subtest += 1;
00998     SingleOperand = SINGLE_INFINITY_VALUE;
00999     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a79">RoundToLongwordFromSingle</a>(ROUND_TO_NEAREST,
01000                                          SingleOperand,
01001                                          &amp;LongwordResult);
01002 
01003     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
01004         (LongwordResult != 0x7fffffff)) {
01005         <span class="keywordflow">goto</span> TestFailed;
01006     }
01007 
01008     Subtest += 1;
01009     SingleOperand = <a class="code" href="../../d5/d4/flpt_8h.html#a18">MINUS_SINGLE_INFINITY_VALUE</a>;
01010     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a79">RoundToLongwordFromSingle</a>(ROUND_TO_NEAREST,
01011                                          SingleOperand,
01012                                          &amp;LongwordResult);
01013 
01014     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
01015         (LongwordResult != 0x80000000)) {
01016         <span class="keywordflow">goto</span> TestFailed;
01017     }
01018 
01019     Subtest += 1;
01020     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
01021     SingleOperand = SINGLE_QUIET_NAN;
01022     <span class="keywordflow">try</span> {
01023         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a79">RoundToLongwordFromSingle</a>(EV | ROUND_TO_NEAREST,
01024                                              SingleOperand,
01025                                              &amp;LongwordResult);
01026 
01027     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
01028               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
01029         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
01030     }
01031 
01032     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
01033         <span class="keywordflow">goto</span> TestFailed;
01034     }
01035 
01036     Subtest += 1;
01037     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
01038     SingleOperand = SINGLE_SIGNAL_NAN;
01039     <span class="keywordflow">try</span> {
01040         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a79">RoundToLongwordFromSingle</a>(EV | ROUND_TO_NEAREST,
01041                                              SingleOperand,
01042                                              &amp;LongwordResult);
01043 
01044     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
01045               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
01046         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
01047     }
01048 
01049     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
01050         <span class="keywordflow">goto</span> TestFailed;
01051     }
01052 
01053     Subtest += 1;
01054     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
01055     SingleOperand = SINGLE_INFINITY_VALUE;
01056     <span class="keywordflow">try</span> {
01057         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a79">RoundToLongwordFromSingle</a>(EV | ROUND_TO_NEAREST,
01058                                              SingleOperand,
01059                                              &amp;LongwordResult);
01060 
01061     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
01062               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
01063         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
01064     }
01065 
01066     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
01067         <span class="keywordflow">goto</span> TestFailed;
01068     }
01069 
01070     Subtest += 1;
01071     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
01072     SingleOperand = <a class="code" href="../../d5/d4/flpt_8h.html#a18">MINUS_SINGLE_INFINITY_VALUE</a>;
01073     <span class="keywordflow">try</span> {
01074         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a79">RoundToLongwordFromSingle</a>(EV | ROUND_TO_NEAREST,
01075                                              SingleOperand,
01076                                              &amp;LongwordResult);
01077 
01078     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
01079               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
01080         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
01081     }
01082 
01083     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
01084         <span class="keywordflow">goto</span> TestFailed;
01085     }
01086 
01087     Subtest += 1;
01088     SingleOperand = 0x400000;
01089     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a79">RoundToLongwordFromSingle</a>(ROUND_TO_NEAREST,
01090                                          SingleOperand,
01091                                          &amp;LongwordResult);
01092 
01093     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a0">SI</a> | ROUND_TO_NEAREST)) ||
01094         (LongwordResult != 0x0)) {
01095         <span class="keywordflow">goto</span> TestFailed;
01096     }
01097 
01098     Subtest += 1;
01099     SingleOperand = 0x1;
01100     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a79">RoundToLongwordFromSingle</a>(ROUND_TO_NEAREST,
01101                                          SingleOperand,
01102                                          &amp;LongwordResult);
01103 
01104     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a0">SI</a> | ROUND_TO_NEAREST)) ||
01105         (LongwordResult != 0x0)) {
01106         <span class="keywordflow">goto</span> TestFailed;
01107     }
01108 
01109     Subtest += 1;
01110     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
01111     SingleOperand = 0x400000;
01112     <span class="keywordflow">try</span> {
01113         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a79">RoundToLongwordFromSingle</a>(EI | ROUND_TO_NEAREST,
01114                                              SingleOperand,
01115                                              &amp;LongwordResult);
01116 
01117     } except ((GetExceptionCode() == STATUS_FLOAT_INEXACT_RESULT) ?
01118               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
01119         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
01120     }
01121 
01122     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
01123         <span class="keywordflow">goto</span> TestFailed;
01124     }
01125 
01126     Subtest += 1;
01127     SingleOperand = ((SINGLE_EXPONENT_BIAS + 32) &lt;&lt; 23);
01128     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a79">RoundToLongwordFromSingle</a>(ROUND_TO_NEAREST,
01129                                          SingleOperand,
01130                                          &amp;LongwordResult);
01131 
01132     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
01133         (LongwordResult != INTEGER_NAN)) {
01134         <span class="keywordflow">goto</span> TestFailed;
01135     }
01136 
01137     Subtest += 1;
01138     SingleOperand = ((SINGLE_EXPONENT_BIAS + 31) &lt;&lt; 23);
01139     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a79">RoundToLongwordFromSingle</a>(ROUND_TO_NEAREST,
01140                                          SingleOperand,
01141                                          &amp;LongwordResult);
01142 
01143     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
01144         (LongwordResult != INTEGER_NAN)) {
01145         <span class="keywordflow">goto</span> TestFailed;
01146     }
01147 
01148     Subtest += 1;
01149     SingleOperand = <a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> | ((SINGLE_EXPONENT_BIAS + 31) &lt;&lt; 23);
01150     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a79">RoundToLongwordFromSingle</a>(ROUND_TO_NEAREST,
01151                                          SingleOperand,
01152                                          &amp;LongwordResult);
01153 
01154     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
01155         (LongwordResult != 0x80000000)) {
01156         <span class="keywordflow">goto</span> TestFailed;
01157     }
01158 
01159     Subtest += 1;
01160     SingleOperand = <a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> | ((SINGLE_EXPONENT_BIAS + 31) &lt;&lt; 23) | 0x1;
01161     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a79">RoundToLongwordFromSingle</a>(ROUND_TO_NEAREST,
01162                                          SingleOperand,
01163                                          &amp;LongwordResult);
01164 
01165     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
01166         (LongwordResult != INTEGER_NAN)) {
01167         <span class="keywordflow">goto</span> TestFailed;
01168     }
01169 
01170     Subtest += 1;
01171     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
01172     SingleOperand = ((SINGLE_EXPONENT_BIAS + 31) &lt;&lt; 23);
01173     <span class="keywordflow">try</span> {
01174         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a79">RoundToLongwordFromSingle</a>(EV | ROUND_TO_NEAREST,
01175                                              SingleOperand,
01176                                              &amp;LongwordResult);
01177 
01178     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
01179               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
01180         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
01181     }
01182 
01183     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
01184         <span class="keywordflow">goto</span> TestFailed;
01185     }
01186 
01187     <span class="comment">//</span>
01188     <span class="comment">// End of test 23.</span>
01189     <span class="comment">//</span>
01190 
01191     printf(<span class="stringliteral">"succeeded\n"</span>);
01192     <span class="keywordflow">return</span>;
01193 
01194     <span class="comment">//</span>
01195     <span class="comment">// Test 23 failed.</span>
01196     <span class="comment">//</span>
01197 
01198 TestFailed:
01199     printf(<span class="stringliteral">" subtest %d failed, fsr = %lx, result = %lx\n"</span>,
01200            Subtest,
01201            Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a>,
01202            LongwordResult);
01203 
01204     <span class="keywordflow">return</span>;
01205 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="flpt2.c::Test24" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID Test24           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d3/flpt2_8c-source.html#l01208">1208</a> of file <a class="el" href="../../d7/d3/flpt2_8c-source.html">flpt2.c</a>.
<p>
References <a class="el" href="../../d5/d4/flpt_8h.html#a36">ConvertToLongwordFromDouble()</a>, <a class="el" href="../../d5/d9/cmconfig_8c-source.html#l00051">Count</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00082">_FLOATING_STATUS::Data</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00040">EI</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00044">EV</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00056">EXCEPTION_CONTINUE_SEARCH</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00055">EXCEPTION_EXECUTE_HANDLER</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00060">MINUS_DOUBLE_INFINITY_VALUE</a>, <a class="el" href="../../d5/d4/flpt_8h.html#a78">RoundToLongwordFromDouble()</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00034">SI</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00074">SIGN</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00038">SV</a>, and <a class="el" href="../../d5/d4/flpt_8h.html#a80">TruncateToLongwordFromDouble()</a>.
<p>
Referenced by <a class="el" href="../../d5/d3/flpt_8c-source.html#l00028">main()</a>.
<p>
<pre class="fragment"><div>01212 {
01213 
01214     ULONG <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a>;
01215     <a class="code" href="../../d9/d2/union__FLOATING__STATUS.html">FLOATING_STATUS</a> Fsr;
01216     ULARGE_INTEGER DoubleOperand;
01217     ULONG LongwordResult;
01218     ULONG Subtest;
01219 
01220     <span class="comment">//</span>
01221     <span class="comment">// Test 24 - Convert to longword from double.</span>
01222     <span class="comment">//</span>
01223 
01224     Subtest = 0;
01225     printf(<span class="stringliteral">"    Test 24 - convert to longword from double ..."</span>);
01226     Subtest += 1;
01227     DoubleOperand.LowPart = DOUBLE_NAN_LOW;
01228     DoubleOperand.HighPart = DOUBLE_QUIET_NAN;
01229     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a36">ConvertToLongwordFromDouble</a>(ROUND_TO_NEAREST,
01230                                            &amp;DoubleOperand,
01231                                            &amp;LongwordResult);
01232 
01233     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
01234         (LongwordResult != INTEGER_NAN)) {
01235         <span class="keywordflow">goto</span> TestFailed;
01236     }
01237 
01238     Subtest += 1;
01239     DoubleOperand.LowPart = DOUBLE_NAN_LOW;
01240     DoubleOperand.HighPart = DOUBLE_SIGNAL_NAN;
01241     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a36">ConvertToLongwordFromDouble</a>(ROUND_TO_NEAREST,
01242                                            &amp;DoubleOperand,
01243                                            &amp;LongwordResult);
01244 
01245     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
01246         (LongwordResult != INTEGER_NAN)) {
01247         <span class="keywordflow">goto</span> TestFailed;
01248     }
01249 
01250     Subtest += 1;
01251     DoubleOperand.LowPart = DOUBLE_INFINITY_VALUE_LOW;
01252     DoubleOperand.HighPart = DOUBLE_INFINITY_VALUE_HIGH;
01253     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a36">ConvertToLongwordFromDouble</a>(ROUND_TO_NEAREST,
01254                                            &amp;DoubleOperand,
01255                                            &amp;LongwordResult);
01256 
01257     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
01258         (LongwordResult != 0x7fffffff)) {
01259         <span class="keywordflow">goto</span> TestFailed;
01260     }
01261 
01262     Subtest += 1;
01263     DoubleOperand.LowPart = DOUBLE_INFINITY_VALUE_LOW;
01264     DoubleOperand.HighPart = <a class="code" href="../../d5/d4/flpt_8h.html#a17">MINUS_DOUBLE_INFINITY_VALUE</a>;
01265     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a36">ConvertToLongwordFromDouble</a>(ROUND_TO_NEAREST,
01266                                            &amp;DoubleOperand,
01267                                            &amp;LongwordResult);
01268 
01269     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
01270         (LongwordResult != 0x80000000)) {
01271         <span class="keywordflow">goto</span> TestFailed;
01272     }
01273 
01274     Subtest += 1;
01275     DoubleOperand.LowPart = DOUBLE_NAN_LOW;
01276     DoubleOperand.HighPart = DOUBLE_QUIET_NAN;
01277     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a78">RoundToLongwordFromDouble</a>(ROUND_TO_NEAREST,
01278                                          &amp;DoubleOperand,
01279                                          &amp;LongwordResult);
01280 
01281     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
01282         (LongwordResult != INTEGER_NAN)) {
01283         <span class="keywordflow">goto</span> TestFailed;
01284     }
01285 
01286     Subtest += 1;
01287     DoubleOperand.LowPart = DOUBLE_NAN_LOW;
01288     DoubleOperand.HighPart = DOUBLE_SIGNAL_NAN;
01289     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a78">RoundToLongwordFromDouble</a>(ROUND_TO_NEAREST,
01290                                          &amp;DoubleOperand,
01291                                          &amp;LongwordResult);
01292 
01293     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
01294         (LongwordResult != INTEGER_NAN)) {
01295         <span class="keywordflow">goto</span> TestFailed;
01296     }
01297 
01298     Subtest += 1;
01299     DoubleOperand.LowPart = DOUBLE_INFINITY_VALUE_LOW;
01300     DoubleOperand.HighPart = DOUBLE_INFINITY_VALUE_HIGH;
01301     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a78">RoundToLongwordFromDouble</a>(ROUND_TO_NEAREST,
01302                                          &amp;DoubleOperand,
01303                                          &amp;LongwordResult);
01304 
01305     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
01306         (LongwordResult != 0x7fffffff)) {
01307         <span class="keywordflow">goto</span> TestFailed;
01308     }
01309 
01310     Subtest += 1;
01311     DoubleOperand.LowPart = DOUBLE_INFINITY_VALUE_LOW;
01312     DoubleOperand.HighPart = <a class="code" href="../../d5/d4/flpt_8h.html#a17">MINUS_DOUBLE_INFINITY_VALUE</a>;
01313     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a78">RoundToLongwordFromDouble</a>(ROUND_TO_NEAREST,
01314                                          &amp;DoubleOperand,
01315                                          &amp;LongwordResult);
01316 
01317     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
01318         (LongwordResult != 0x80000000)) {
01319         <span class="keywordflow">goto</span> TestFailed;
01320     }
01321 
01322     Subtest += 1;
01323     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
01324     DoubleOperand.LowPart = DOUBLE_NAN_LOW;
01325     DoubleOperand.HighPart = DOUBLE_QUIET_NAN;
01326     <span class="keywordflow">try</span> {
01327         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a36">ConvertToLongwordFromDouble</a>(EV | ROUND_TO_ZERO,
01328                                                &amp;DoubleOperand,
01329                                                &amp;LongwordResult);
01330 
01331     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
01332               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
01333         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
01334     }
01335 
01336     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
01337         <span class="keywordflow">goto</span> TestFailed;
01338     }
01339 
01340     Subtest += 1;
01341     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
01342     DoubleOperand.LowPart = DOUBLE_NAN_LOW;
01343     DoubleOperand.HighPart = DOUBLE_SIGNAL_NAN;
01344     <span class="keywordflow">try</span> {
01345         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a36">ConvertToLongwordFromDouble</a>(EV | ROUND_TO_ZERO,
01346                                                &amp;DoubleOperand,
01347                                                &amp;LongwordResult);
01348 
01349     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
01350               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
01351         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
01352     }
01353 
01354     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
01355         <span class="keywordflow">goto</span> TestFailed;
01356     }
01357 
01358     Subtest += 1;
01359     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
01360     DoubleOperand.LowPart = DOUBLE_INFINITY_VALUE_LOW;
01361     DoubleOperand.HighPart = DOUBLE_INFINITY_VALUE_HIGH;
01362     <span class="keywordflow">try</span> {
01363         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a36">ConvertToLongwordFromDouble</a>(EV | ROUND_TO_ZERO,
01364                                                &amp;DoubleOperand,
01365                                                &amp;LongwordResult);
01366 
01367     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
01368               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
01369         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
01370     }
01371 
01372     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
01373         <span class="keywordflow">goto</span> TestFailed;
01374     }
01375 
01376     Subtest += 1;
01377     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
01378     DoubleOperand.LowPart = DOUBLE_INFINITY_VALUE_LOW;
01379     DoubleOperand.HighPart = <a class="code" href="../../d5/d4/flpt_8h.html#a17">MINUS_DOUBLE_INFINITY_VALUE</a>;
01380     <span class="keywordflow">try</span> {
01381         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a36">ConvertToLongwordFromDouble</a>(EV | ROUND_TO_ZERO,
01382                                                &amp;DoubleOperand,
01383                                                &amp;LongwordResult);
01384 
01385     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
01386               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
01387         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
01388     }
01389 
01390     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
01391         <span class="keywordflow">goto</span> TestFailed;
01392     }
01393 
01394     Subtest += 1;
01395     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
01396     DoubleOperand.LowPart = DOUBLE_NAN_LOW;
01397     DoubleOperand.HighPart = DOUBLE_QUIET_NAN;
01398     <span class="keywordflow">try</span> {
01399         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a80">TruncateToLongwordFromDouble</a>(EV | ROUND_TO_ZERO,
01400                                                 &amp;DoubleOperand,
01401                                                 &amp;LongwordResult);
01402 
01403     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
01404               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
01405         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
01406     }
01407 
01408     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
01409         <span class="keywordflow">goto</span> TestFailed;
01410     }
01411 
01412     Subtest += 1;
01413     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
01414     DoubleOperand.LowPart = DOUBLE_NAN_LOW;
01415     DoubleOperand.HighPart = DOUBLE_SIGNAL_NAN;
01416     <span class="keywordflow">try</span> {
01417         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a80">TruncateToLongwordFromDouble</a>(EV | ROUND_TO_ZERO,
01418                                                 &amp;DoubleOperand,
01419                                                 &amp;LongwordResult);
01420 
01421     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
01422               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
01423         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
01424     }
01425 
01426     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
01427         <span class="keywordflow">goto</span> TestFailed;
01428     }
01429 
01430     Subtest += 1;
01431     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
01432     DoubleOperand.LowPart = DOUBLE_INFINITY_VALUE_LOW;
01433     DoubleOperand.HighPart = DOUBLE_INFINITY_VALUE_HIGH;
01434     <span class="keywordflow">try</span> {
01435         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a80">TruncateToLongwordFromDouble</a>(EV | ROUND_TO_ZERO,
01436                                                 &amp;DoubleOperand,
01437                                                 &amp;LongwordResult);
01438 
01439     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
01440               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
01441         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
01442     }
01443 
01444     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
01445         <span class="keywordflow">goto</span> TestFailed;
01446     }
01447 
01448     Subtest += 1;
01449     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
01450     DoubleOperand.LowPart = DOUBLE_INFINITY_VALUE_LOW;
01451     DoubleOperand.HighPart = <a class="code" href="../../d5/d4/flpt_8h.html#a17">MINUS_DOUBLE_INFINITY_VALUE</a>;
01452     <span class="keywordflow">try</span> {
01453         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a80">TruncateToLongwordFromDouble</a>(EV | ROUND_TO_ZERO,
01454                                                 &amp;DoubleOperand,
01455                                                 &amp;LongwordResult);
01456 
01457     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
01458               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
01459         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
01460     }
01461 
01462     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
01463         <span class="keywordflow">goto</span> TestFailed;
01464     }
01465 
01466     Subtest += 1;
01467     DoubleOperand.LowPart = 0x0;
01468     DoubleOperand.HighPart = 0x80000;
01469     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a36">ConvertToLongwordFromDouble</a>(ROUND_TO_NEAREST,
01470                                            &amp;DoubleOperand,
01471                                            &amp;LongwordResult);
01472 
01473     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a0">SI</a> | ROUND_TO_NEAREST)) ||
01474         (LongwordResult != 0x0)) {
01475         <span class="keywordflow">goto</span> TestFailed;
01476     }
01477 
01478     Subtest += 1;
01479     DoubleOperand.LowPart = 0x1;
01480     DoubleOperand.HighPart = 0x0;
01481     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a36">ConvertToLongwordFromDouble</a>(ROUND_TO_NEAREST,
01482                                            &amp;DoubleOperand,
01483                                            &amp;LongwordResult);
01484 
01485     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a0">SI</a> | ROUND_TO_NEAREST)) ||
01486         (LongwordResult != 0x0)) {
01487         <span class="keywordflow">goto</span> TestFailed;
01488     }
01489 
01490     Subtest += 1;
01491     DoubleOperand.LowPart = 0x0;
01492     DoubleOperand.HighPart = 0x80000;
01493     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a78">RoundToLongwordFromDouble</a>(ROUND_TO_NEAREST,
01494                                          &amp;DoubleOperand,
01495                                          &amp;LongwordResult);
01496 
01497     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a0">SI</a> | ROUND_TO_NEAREST)) ||
01498         (LongwordResult != 0x0)) {
01499         <span class="keywordflow">goto</span> TestFailed;
01500     }
01501 
01502     Subtest += 1;
01503     DoubleOperand.LowPart = 0x1;
01504     DoubleOperand.HighPart = 0x0;
01505     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a78">RoundToLongwordFromDouble</a>(ROUND_TO_NEAREST,
01506                                          &amp;DoubleOperand,
01507                                          &amp;LongwordResult);
01508 
01509     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a0">SI</a> | ROUND_TO_NEAREST)) ||
01510         (LongwordResult != 0x0)) {
01511         <span class="keywordflow">goto</span> TestFailed;
01512     }
01513 
01514     Subtest += 1;
01515     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
01516     DoubleOperand.LowPart = 0x0;
01517     DoubleOperand.HighPart = 0x80000;
01518     <span class="keywordflow">try</span> {
01519         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a36">ConvertToLongwordFromDouble</a>(EI | ROUND_TO_ZERO,
01520                                                &amp;DoubleOperand,
01521                                                &amp;LongwordResult);
01522 
01523     } except ((GetExceptionCode() == STATUS_FLOAT_INEXACT_RESULT) ?
01524               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
01525         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
01526     }
01527 
01528     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
01529         <span class="keywordflow">goto</span> TestFailed;
01530     }
01531 
01532     Subtest += 1;
01533     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
01534     DoubleOperand.LowPart = 0x0;
01535     DoubleOperand.HighPart = 0x80000;
01536     <span class="keywordflow">try</span> {
01537         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a80">TruncateToLongwordFromDouble</a>(EI | ROUND_TO_ZERO,
01538                                                 &amp;DoubleOperand,
01539                                                 &amp;LongwordResult);
01540 
01541     } except ((GetExceptionCode() == STATUS_FLOAT_INEXACT_RESULT) ?
01542               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
01543         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
01544     }
01545 
01546     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
01547         <span class="keywordflow">goto</span> TestFailed;
01548     }
01549 
01550     Subtest += 1;
01551     DoubleOperand.LowPart = 0x0;
01552     DoubleOperand.HighPart = ((DOUBLE_EXPONENT_BIAS + 32) &lt;&lt; 20);
01553     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a36">ConvertToLongwordFromDouble</a>(ROUND_TO_NEAREST,
01554                                            &amp;DoubleOperand,
01555                                            &amp;LongwordResult);
01556 
01557     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
01558         (LongwordResult != INTEGER_NAN)) {
01559         <span class="keywordflow">goto</span> TestFailed;
01560     }
01561 
01562     Subtest += 1;
01563     DoubleOperand.LowPart = 0x0;
01564     DoubleOperand.HighPart = ((DOUBLE_EXPONENT_BIAS + 31) &lt;&lt; 20);
01565     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a36">ConvertToLongwordFromDouble</a>(ROUND_TO_NEAREST,
01566                                            &amp;DoubleOperand,
01567                                            &amp;LongwordResult);
01568 
01569     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
01570         (LongwordResult != INTEGER_NAN)) {
01571         <span class="keywordflow">goto</span> TestFailed;
01572     }
01573 
01574     Subtest += 1;
01575     DoubleOperand.LowPart = 0x0;
01576     DoubleOperand.HighPart = <a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> | ((DOUBLE_EXPONENT_BIAS + 31) &lt;&lt; 20);
01577     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a36">ConvertToLongwordFromDouble</a>(ROUND_TO_NEAREST,
01578                                            &amp;DoubleOperand,
01579                                            &amp;LongwordResult);
01580 
01581     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
01582         (LongwordResult != 0x80000000)) {
01583         <span class="keywordflow">goto</span> TestFailed;
01584     }
01585 
01586     Subtest += 1;
01587     DoubleOperand.LowPart = 0x0;
01588     DoubleOperand.HighPart = <a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> | ((DOUBLE_EXPONENT_BIAS + 31) &lt;&lt; 20) | 0x1;
01589     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a36">ConvertToLongwordFromDouble</a>(ROUND_TO_NEAREST,
01590                                            &amp;DoubleOperand,
01591                                            &amp;LongwordResult);
01592 
01593     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
01594         (LongwordResult != INTEGER_NAN)) {
01595         <span class="keywordflow">goto</span> TestFailed;
01596     }
01597 
01598     Subtest += 1;
01599     DoubleOperand.LowPart = 0x0;
01600     DoubleOperand.HighPart = ((DOUBLE_EXPONENT_BIAS + 32) &lt;&lt; 20);
01601     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a78">RoundToLongwordFromDouble</a>(ROUND_TO_NEAREST,
01602                                          &amp;DoubleOperand,
01603                                          &amp;LongwordResult);
01604 
01605     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
01606         (LongwordResult != INTEGER_NAN)) {
01607         <span class="keywordflow">goto</span> TestFailed;
01608     }
01609 
01610     Subtest += 1;
01611     DoubleOperand.LowPart = 0x0;
01612     DoubleOperand.HighPart = ((DOUBLE_EXPONENT_BIAS + 31) &lt;&lt; 20);
01613     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a78">RoundToLongwordFromDouble</a>(ROUND_TO_NEAREST,
01614                                          &amp;DoubleOperand,
01615                                          &amp;LongwordResult);
01616 
01617     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
01618         (LongwordResult != INTEGER_NAN)) {
01619         <span class="keywordflow">goto</span> TestFailed;
01620     }
01621 
01622     Subtest += 1;
01623     DoubleOperand.LowPart = 0x0;
01624     DoubleOperand.HighPart = <a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> | ((DOUBLE_EXPONENT_BIAS + 31) &lt;&lt; 20);
01625     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a78">RoundToLongwordFromDouble</a>(ROUND_TO_NEAREST,
01626                                          &amp;DoubleOperand,
01627                                          &amp;LongwordResult);
01628 
01629     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
01630         (LongwordResult != 0x80000000)) {
01631         <span class="keywordflow">goto</span> TestFailed;
01632     }
01633 
01634     Subtest += 1;
01635     DoubleOperand.LowPart = 0x0;
01636     DoubleOperand.HighPart = <a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> | ((DOUBLE_EXPONENT_BIAS + 31) &lt;&lt; 20) | 0x1;
01637     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a78">RoundToLongwordFromDouble</a>(ROUND_TO_NEAREST,
01638                                          &amp;DoubleOperand,
01639                                          &amp;LongwordResult);
01640 
01641     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
01642         (LongwordResult != INTEGER_NAN)) {
01643         <span class="keywordflow">goto</span> TestFailed;
01644     }
01645 
01646     Subtest += 1;
01647     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
01648     DoubleOperand.LowPart = 0x0;
01649     DoubleOperand.HighPart = <a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> | ((DOUBLE_EXPONENT_BIAS + 31) &lt;&lt; 20) | 0x1;
01650     <span class="keywordflow">try</span> {
01651         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a36">ConvertToLongwordFromDouble</a>(EV | ROUND_TO_ZERO,
01652                                                &amp;DoubleOperand,
01653                                                &amp;LongwordResult);
01654 
01655     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
01656               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
01657         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
01658     }
01659 
01660     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
01661         <span class="keywordflow">goto</span> TestFailed;
01662     }
01663 
01664     Subtest += 1;
01665     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
01666     DoubleOperand.LowPart = 0x0;
01667     DoubleOperand.HighPart = <a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a> | ((DOUBLE_EXPONENT_BIAS + 31) &lt;&lt; 20) | 0x1;
01668     <span class="keywordflow">try</span> {
01669         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a80">TruncateToLongwordFromDouble</a>(EV | ROUND_TO_ZERO,
01670                                                 &amp;DoubleOperand,
01671                                                 &amp;LongwordResult);
01672 
01673     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
01674               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
01675         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
01676     }
01677 
01678     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
01679         <span class="keywordflow">goto</span> TestFailed;
01680     }
01681 
01682     Subtest += 1;
01683     DoubleOperand.LowPart = 0xfff00000;
01684     DoubleOperand.HighPart = ((DOUBLE_EXPONENT_BIAS + 30) &lt;&lt; 20) | 0xfffff;
01685     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a36">ConvertToLongwordFromDouble</a>(ROUND_TO_NEAREST,
01686                                            &amp;DoubleOperand,
01687                                            &amp;LongwordResult);
01688 
01689     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
01690         (LongwordResult != INTEGER_NAN)) {
01691         <span class="keywordflow">goto</span> TestFailed;
01692     }
01693 
01694     Subtest += 1;
01695     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
01696     DoubleOperand.LowPart = 0xfff00000;
01697     DoubleOperand.HighPart = ((DOUBLE_EXPONENT_BIAS + 30) &lt;&lt; 20) | 0xfffff;
01698     <span class="keywordflow">try</span> {
01699         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a36">ConvertToLongwordFromDouble</a>(EV | ROUND_TO_NEAREST,
01700                                                &amp;DoubleOperand,
01701                                                &amp;LongwordResult);
01702 
01703     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
01704               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
01705         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
01706     }
01707 
01708     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
01709         <span class="keywordflow">goto</span> TestFailed;
01710     }
01711 
01712     Subtest += 1;
01713     DoubleOperand.LowPart = 0xfff00000;
01714     DoubleOperand.HighPart = ((DOUBLE_EXPONENT_BIAS + 30) &lt;&lt; 20) | 0xfffff;
01715     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a78">RoundToLongwordFromDouble</a>(ROUND_TO_NEAREST,
01716                                          &amp;DoubleOperand,
01717                                          &amp;LongwordResult);
01718 
01719     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | ROUND_TO_NEAREST)) ||
01720         (LongwordResult != INTEGER_NAN)) {
01721         <span class="keywordflow">goto</span> TestFailed;
01722     }
01723 
01724     Subtest += 1;
01725     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
01726     DoubleOperand.LowPart = 0xfff00000;
01727     DoubleOperand.HighPart = ((DOUBLE_EXPONENT_BIAS + 30) &lt;&lt; 20) | 0xfffff;
01728     <span class="keywordflow">try</span> {
01729         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = <a class="code" href="../../d5/d4/flpt_8h.html#a78">RoundToLongwordFromDouble</a>(EV | ROUND_TO_NEAREST,
01730                                              &amp;DoubleOperand,
01731                                              &amp;LongwordResult);
01732 
01733     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
01734               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
01735         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
01736     }
01737 
01738     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
01739         <span class="keywordflow">goto</span> TestFailed;
01740     }
01741 
01742     <span class="comment">//</span>
01743     <span class="comment">// End of test 24.</span>
01744     <span class="comment">//</span>
01745 
01746     printf(<span class="stringliteral">"succeeded\n"</span>);
01747     <span class="keywordflow">return</span>;
01748 
01749     <span class="comment">//</span>
01750     <span class="comment">// Test 24 failed.</span>
01751     <span class="comment">//</span>
01752 
01753 TestFailed:
01754     printf(<span class="stringliteral">" subtest %d failed, fsr = %lx, result = %lx\n"</span>,
01755            Subtest,
01756            Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a>,
01757            LongwordResult);
01758 
01759     <span class="keywordflow">return</span>;
01760 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="flpt2.c::Test25" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID Test25           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d3/flpt2_8c-source.html#l01763">1763</a> of file <a class="el" href="../../d7/d3/flpt2_8c-source.html">flpt2.c</a>.
<p>
References <a class="el" href="../../d5/d9/cmconfig_8c-source.html#l00051">Count</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00082">_FLOATING_STATUS::Data</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00044">EV</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00056">EXCEPTION_CONTINUE_SEARCH</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00055">EXCEPTION_EXECUTE_HANDLER</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00060">MINUS_DOUBLE_INFINITY_VALUE</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00034">SI</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00074">SIGN</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00035">SU</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00038">SV</a>, and <a class="el" href="../../d6/d3/flpt_8h-source.html#l00050">XV</a>.
<p>
Referenced by <a class="el" href="../../d5/d3/flpt_8c-source.html#l00028">main()</a>.
<p>
<pre class="fragment"><div>01767 {
01768 
01769     ULONG <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a>;
01770     <a class="code" href="../../d9/d2/union__FLOATING__STATUS.html">FLOATING_STATUS</a> Fsr;
01771     ULARGE_INTEGER DoubleOperand;
01772     ULARGE_INTEGER DoubleResult;
01773     ULONG Subtest;
01774 
01775     <span class="comment">//</span>
01776     <span class="comment">// Test 25 - Square root double test.</span>
01777     <span class="comment">//</span>
01778 
01779     Subtest = 0;
01780     printf(<span class="stringliteral">"    Test 25 - square root double ..."</span>);
01781     Subtest += 1;
01782     DoubleOperand.LowPart = DOUBLE_NAN_LOW;
01783     DoubleOperand.HighPart = DOUBLE_QUIET_NAN;
01784     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = SquareRootDouble(ROUND_TO_NEAREST,
01785                                 &amp;DoubleOperand,
01786                                 &amp;DoubleResult);
01787 
01788     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
01789         (DoubleResult.LowPart != DOUBLE_NAN_LOW) ||
01790         (DoubleResult.HighPart != DOUBLE_QUIET_NAN)) {
01791         <span class="keywordflow">goto</span> TestFailed;
01792     }
01793 
01794     Subtest += 1;
01795     DoubleOperand.LowPart = DOUBLE_NAN_LOW;
01796     DoubleOperand.HighPart = DOUBLE_SIGNAL_NAN;
01797     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = SquareRootDouble(ROUND_TO_NEAREST,
01798                                 &amp;DoubleOperand,
01799                                 &amp;DoubleResult);
01800 
01801     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | <a class="code" href="../../d5/d4/flpt_8h.html#a14">XV</a> | ROUND_TO_NEAREST)) ||
01802         (DoubleResult.LowPart != DOUBLE_NAN_LOW) ||
01803         (DoubleResult.HighPart != DOUBLE_QUIET_NAN)) {
01804         <span class="keywordflow">goto</span> TestFailed;
01805     }
01806 
01807     Subtest += 1;
01808     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
01809     DoubleOperand.LowPart = DOUBLE_NAN_LOW;
01810     DoubleOperand.HighPart = DOUBLE_SIGNAL_NAN;
01811     <span class="keywordflow">try</span> {
01812         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = SquareRootDouble(EV | ROUND_TO_NEAREST,
01813                                     &amp;DoubleOperand,
01814                                     &amp;DoubleResult);
01815 
01816     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
01817               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
01818         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
01819     }
01820 
01821     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
01822         <span class="keywordflow">goto</span> TestFailed;
01823     }
01824 
01825     Subtest += 1;
01826     DoubleOperand.LowPart = DOUBLE_INFINITY_VALUE_LOW;
01827     DoubleOperand.HighPart = DOUBLE_INFINITY_VALUE_HIGH;
01828     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = SquareRootDouble(ROUND_TO_NEAREST,
01829                                 &amp;DoubleOperand,
01830                                 &amp;DoubleResult);
01831 
01832     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
01833         (DoubleResult.LowPart != DOUBLE_INFINITY_VALUE_LOW) ||
01834         (DoubleResult.HighPart != DOUBLE_INFINITY_VALUE_HIGH)) {
01835         <span class="keywordflow">goto</span> TestFailed;
01836     }
01837 
01838     Subtest += 1;
01839     DoubleOperand.LowPart = DOUBLE_INFINITY_VALUE_LOW;
01840     DoubleOperand.HighPart = <a class="code" href="../../d5/d4/flpt_8h.html#a17">MINUS_DOUBLE_INFINITY_VALUE</a>;
01841     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = SquareRootDouble(ROUND_TO_NEAREST,
01842                                 &amp;DoubleOperand,
01843                                 &amp;DoubleResult);
01844 
01845     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | <a class="code" href="../../d5/d4/flpt_8h.html#a14">XV</a> | ROUND_TO_NEAREST)) ||
01846         (DoubleResult.LowPart != DOUBLE_NAN_LOW) ||
01847         (DoubleResult.HighPart != DOUBLE_QUIET_NAN)) {
01848         <span class="keywordflow">goto</span> TestFailed;
01849     }
01850 
01851 <span class="comment">//    Subtest += 1;</span>
01852 <span class="comment">//    Count = 0;</span>
01853 <span class="comment">//    DoubleOperand.LowPart = DOUBLE_INFINITY_VALUE_LOW;</span>
01854 <span class="comment">//    DoubleOperand.HighPart = MINUS_DOUBLE_INFINITY_VALUE;</span>
01855 <span class="comment">//    try {</span>
01856 <span class="comment">//        Fsr.Data = SquareRootDouble(EV | ROUND_TO_NEAREST,</span>
01857 <span class="comment">//                                    &amp;DoubleOperand,</span>
01858 <span class="comment">//                                    &amp;DoubleResult);</span>
01859 <span class="comment">//</span>
01860 <span class="comment">//    } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?</span>
01861 <span class="comment">//              EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {</span>
01862 <span class="comment">//        Count += 1;</span>
01863 <span class="comment">//    }</span>
01864 <span class="comment">//</span>
01865 <span class="comment">//    if (Count == 0) {</span>
01866 <span class="comment">//        goto TestFailed;</span>
01867 <span class="comment">//    }</span>
01868 
01869     Subtest += 1;
01870     DoubleOperand.LowPart = 0;
01871     DoubleOperand.HighPart = 0;
01872     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = SquareRootDouble(ROUND_TO_NEAREST,
01873                                 &amp;DoubleOperand,
01874                                 &amp;DoubleResult);
01875 
01876     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
01877         (DoubleResult.LowPart != 0) ||
01878         (DoubleResult.HighPart != 0)) {
01879         <span class="keywordflow">goto</span> TestFailed;
01880     }
01881 
01882     Subtest += 1;
01883     DoubleOperand.LowPart = 0;
01884     DoubleOperand.HighPart = 0 | <a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a>;
01885     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = SquareRootDouble(ROUND_TO_NEAREST,
01886                                 &amp;DoubleOperand,
01887                                 &amp;DoubleResult);
01888 
01889     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
01890         (DoubleResult.LowPart != 0) ||
01891         (DoubleResult.HighPart != (0 | <a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a>))) {
01892         <span class="keywordflow">goto</span> TestFailed;
01893     }
01894 
01895 <span class="comment">// ****** //</span>
01896 
01897     Subtest += 1;
01898     DoubleOperand.LowPart = 0x0;
01899     DoubleOperand.HighPart = 0x40000;
01900     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = SquareRootDouble(ROUND_TO_NEAREST,
01901                                 &amp;DoubleOperand,
01902                                 &amp;DoubleResult);
01903 
01904     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
01905         (DoubleResult.LowPart != 0x0) ||
01906         (DoubleResult.HighPart != 0x80000)) {
01907         <span class="keywordflow">goto</span> TestFailed;
01908     }
01909 
01910     Subtest += 1;
01911     DoubleOperand.LowPart = 0x0;
01912     DoubleOperand.HighPart = 0x10000;
01913     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = SquareRootDouble(ROUND_TO_NEAREST,
01914                                 &amp;DoubleOperand,
01915                                 &amp;DoubleResult);
01916 
01917     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
01918         (DoubleResult.LowPart != 0x0) ||
01919         (DoubleResult.HighPart != 0x40000)) {
01920         <span class="keywordflow">goto</span> TestFailed;
01921     }
01922 
01923     Subtest += 1;
01924     DoubleOperand.LowPart = 0x0;
01925     DoubleOperand.HighPart = 0x4000;
01926     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = SquareRootDouble(ROUND_TO_NEAREST,
01927                                 &amp;DoubleOperand,
01928                                 &amp;DoubleResult);
01929 
01930     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
01931         (DoubleResult.LowPart != 0x0) ||
01932         (DoubleResult.HighPart != 0x20000)) {
01933         <span class="keywordflow">goto</span> TestFailed;
01934     }
01935 
01936     Subtest += 1;
01937     DoubleOperand.LowPart = 0x0;
01938     DoubleOperand.HighPart = 0x1000;
01939     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = SquareRootDouble(ROUND_TO_NEAREST,
01940                                 &amp;DoubleOperand,
01941                                 &amp;DoubleResult);
01942 
01943     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
01944         (DoubleResult.LowPart != 0x0) ||
01945         (DoubleResult.HighPart != 0x10000)) {
01946         <span class="keywordflow">goto</span> TestFailed;
01947     }
01948 
01949     Subtest += 1;
01950     DoubleOperand.LowPart = 0x0;
01951     DoubleOperand.HighPart = 0x80000;
01952     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = SquareRootDouble(ROUND_TO_NEAREST,
01953                                 &amp;DoubleOperand,
01954                                 &amp;DoubleResult);
01955 
01956     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a1">SU</a> | <a class="code" href="../../d5/d4/flpt_8h.html#a0">SI</a> | ROUND_TO_NEAREST)) ||
01957         (DoubleResult.LowPart != 0x333f9de6) ||
01958         (DoubleResult.HighPart != 0xb504f)) {
01959         <span class="keywordflow">goto</span> TestFailed;
01960     }
01961 
01962 <span class="comment">// ****** //</span>
01963 
01964     <span class="comment">//</span>
01965     <span class="comment">// End of test 25.</span>
01966     <span class="comment">//</span>
01967 
01968     printf(<span class="stringliteral">"succeeded\n"</span>);
01969     <span class="keywordflow">return</span>;
01970 
01971     <span class="comment">//</span>
01972     <span class="comment">// Test 25 failed.</span>
01973     <span class="comment">//</span>
01974 
01975 TestFailed:
01976     printf(<span class="stringliteral">" subtest %d failed, fsr = %lx, result = %lx, %lx\n"</span>,
01977            Subtest,
01978            Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a>,
01979            DoubleResult.LowPart,
01980            DoubleResult.HighPart);
01981 
01982     <span class="keywordflow">return</span>;
01983 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="flpt2.c::Test26" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID Test26           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d3/flpt2_8c-source.html#l01986">1986</a> of file <a class="el" href="../../d7/d3/flpt2_8c-source.html">flpt2.c</a>.
<p>
References <a class="el" href="../../d5/d9/cmconfig_8c-source.html#l00051">Count</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00082">_FLOATING_STATUS::Data</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00044">EV</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00056">EXCEPTION_CONTINUE_SEARCH</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00055">EXCEPTION_EXECUTE_HANDLER</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00061">MINUS_SINGLE_INFINITY_VALUE</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00034">SI</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00074">SIGN</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00035">SU</a>, <a class="el" href="../../d6/d3/flpt_8h-source.html#l00038">SV</a>, and <a class="el" href="../../d6/d3/flpt_8h-source.html#l00050">XV</a>.
<p>
Referenced by <a class="el" href="../../d5/d3/flpt_8c-source.html#l00028">main()</a>.
<p>
<pre class="fragment"><div>01990 {
01991 
01992     ULONG <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a>;
01993     <a class="code" href="../../d9/d2/union__FLOATING__STATUS.html">FLOATING_STATUS</a> Fsr;
01994     ULONG Subtest;
01995     ULONG SingleResult;
01996 
01997     <span class="comment">//</span>
01998     <span class="comment">// Test 26 - Square root single test.</span>
01999     <span class="comment">//</span>
02000 
02001     Subtest = 0;
02002     printf(<span class="stringliteral">"    Test 26 - square root single ..."</span>);
02003     Subtest += 1;
02004     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = SquareRootSingle(ROUND_TO_NEAREST,
02005                                SINGLE_QUIET_NAN,
02006                                &amp;SingleResult);
02007 
02008     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
02009         (SingleResult != SINGLE_QUIET_NAN)) {
02010         <span class="keywordflow">goto</span> TestFailed;
02011     }
02012 
02013     Subtest += 1;
02014     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = SquareRootSingle(ROUND_TO_NEAREST,
02015                                SINGLE_SIGNAL_NAN,
02016                                &amp;SingleResult);
02017 
02018     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | <a class="code" href="../../d5/d4/flpt_8h.html#a14">XV</a> | ROUND_TO_NEAREST)) ||
02019         (SingleResult != SINGLE_QUIET_NAN)) {
02020         <span class="keywordflow">goto</span> TestFailed;
02021     }
02022 
02023     Subtest += 1;
02024     <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> = 0;
02025     <span class="keywordflow">try</span> {
02026         Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = SquareRootSingle(EV | ROUND_TO_NEAREST,
02027                                    SINGLE_SIGNAL_NAN,
02028                                    &amp;SingleResult);
02029 
02030     } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?
02031               EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {
02032         <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> += 1;
02033     }
02034 
02035     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a> == 0) {
02036         <span class="keywordflow">goto</span> TestFailed;
02037     }
02038 
02039     Subtest += 1;
02040     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = SquareRootSingle(ROUND_TO_NEAREST,
02041                                 SINGLE_INFINITY_VALUE,
02042                                 &amp;SingleResult);
02043 
02044     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
02045         (SingleResult != SINGLE_INFINITY_VALUE)) {
02046         <span class="keywordflow">goto</span> TestFailed;
02047     }
02048 
02049     Subtest += 1;
02050     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = SquareRootSingle(ROUND_TO_NEAREST,
02051                                 MINUS_SINGLE_INFINITY_VALUE,
02052                                 &amp;SingleResult);
02053 
02054     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a4">SV</a> | <a class="code" href="../../d5/d4/flpt_8h.html#a14">XV</a> | ROUND_TO_NEAREST)) ||
02055         (SingleResult != SINGLE_QUIET_NAN)) {
02056         <span class="keywordflow">goto</span> TestFailed;
02057     }
02058 
02059 <span class="comment">//    Subtest += 1;</span>
02060 <span class="comment">//    Count = 0;</span>
02061 <span class="comment">//    try {</span>
02062 <span class="comment">//        Fsr.Data = SquareRootSingle(EV | ROUND_TO_NEAREST,</span>
02063 <span class="comment">//                                   MINUS_SINGLE_INFINITY_VALUE,</span>
02064 <span class="comment">//                                   &amp;SingleResult);</span>
02065 <span class="comment">//</span>
02066 <span class="comment">//    } except ((GetExceptionCode() == STATUS_FLOAT_INVALID_OPERATION) ?</span>
02067 <span class="comment">//              EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH) {</span>
02068 <span class="comment">//        Count += 1;</span>
02069 <span class="comment">//    }</span>
02070 <span class="comment">//</span>
02071 <span class="comment">//    if (Count == 0) {</span>
02072 <span class="comment">//        goto TestFailed;</span>
02073 <span class="comment">//    }</span>
02074 
02075     Subtest += 1;
02076     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = SquareRootSingle(ROUND_TO_NEAREST,
02077                                 0,
02078                                 &amp;SingleResult);
02079 
02080     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
02081         (SingleResult != 0)) {
02082         <span class="keywordflow">goto</span> TestFailed;
02083     }
02084 
02085     Subtest += 1;
02086     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = SquareRootSingle(ROUND_TO_NEAREST,
02087                                 0 | SIGN,
02088                                 &amp;SingleResult);
02089 
02090     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
02091         (SingleResult != (0 | <a class="code" href="../../d5/d4/flpt_8h.html#a21">SIGN</a>))) {
02092         <span class="keywordflow">goto</span> TestFailed;
02093     }
02094 
02095 <span class="comment">// ****** //</span>
02096 
02097     Subtest += 1;
02098     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = SquareRootSingle(ROUND_TO_NEAREST,
02099                                 0x200000,
02100                                 &amp;SingleResult);
02101 
02102     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
02103         (SingleResult != 0x400000)) {
02104         <span class="keywordflow">goto</span> TestFailed;
02105     }
02106 
02107     Subtest += 1;
02108     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = SquareRootSingle(ROUND_TO_NEAREST,
02109                                 0x80000,
02110                                 &amp;SingleResult);
02111 
02112     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
02113         (SingleResult != 0x200000)) {
02114         <span class="keywordflow">goto</span> TestFailed;
02115     }
02116 
02117     Subtest += 1;
02118     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = SquareRootSingle(ROUND_TO_NEAREST,
02119                                 0x20000,
02120                                 &amp;SingleResult);
02121 
02122     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
02123         (SingleResult != 0x100000)) {
02124         <span class="keywordflow">goto</span> TestFailed;
02125     }
02126 
02127     Subtest += 1;
02128     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = SquareRootSingle(ROUND_TO_NEAREST,
02129                                 0x8000,
02130                                 &amp;SingleResult);
02131 
02132     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != ROUND_TO_NEAREST) ||
02133         (SingleResult != 0x80000)) {
02134         <span class="keywordflow">goto</span> TestFailed;
02135     }
02136 
02137     Subtest += 1;
02138     Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> = SquareRootSingle(ROUND_TO_NEAREST,
02139                                 0x400000,
02140                                 &amp;SingleResult);
02141 
02142     <span class="keywordflow">if</span> ((Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a> != (<a class="code" href="../../d5/d4/flpt_8h.html#a1">SU</a> | <a class="code" href="../../d5/d4/flpt_8h.html#a0">SI</a> | ROUND_TO_NEAREST)) ||
02143         (SingleResult != 0x5a8279)) {
02144         <span class="keywordflow">goto</span> TestFailed;
02145     }
02146 
02147 <span class="comment">// ****** //</span>
02148 
02149     <span class="comment">//</span>
02150     <span class="comment">// End of test 26.</span>
02151     <span class="comment">//</span>
02152 
02153     printf(<span class="stringliteral">"succeeded\n"</span>);
02154     <span class="keywordflow">return</span>;
02155 
02156     <span class="comment">//</span>
02157     <span class="comment">// Test 26 failed.</span>
02158     <span class="comment">//</span>
02159 
02160 TestFailed:
02161     printf(<span class="stringliteral">" subtest %d failed, fsr = %lx, result = %lx\n"</span>,
02162            Subtest,
02163            Fsr.<a class="code" href="../../d9/d2/union__FLOATING__STATUS.html#o1">Data</a>,
02164            SingleResult);
02165 
02166     <span class="keywordflow">return</span>;
02167 }
</div></pre>    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:43:43 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
