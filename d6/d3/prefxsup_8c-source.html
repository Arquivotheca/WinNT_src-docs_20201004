<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: prefxsup.c Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>prefxsup.c</h1><a href="../../d5/d4/prefxsup_8c.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">/*++</span>
00002 <span class="comment"></span>
00003 <span class="comment">Copyright (c) 1989  Microsoft Corporation</span>
00004 <span class="comment"></span>
00005 <span class="comment">Module Name:</span>
00006 <span class="comment"></span>
00007 <span class="comment">    PrefxSup.c</span>
00008 <span class="comment"></span>
00009 <span class="comment">Abstract:</span>
00010 <span class="comment"></span>
00011 <span class="comment">    This module implements the Udfs Prefix support routines</span>
00012 <span class="comment"></span>
00013 <span class="comment">Author:</span>
00014 <span class="comment"></span>
00015 <span class="comment">    Dan Lovinger    [DanLo]     8-Oct-1996</span>
00016 <span class="comment"></span>
00017 <span class="comment">Revision History:</span>
00018 <span class="comment"></span>
00019 <span class="comment">--*/</span>
00020 
00021 <span class="preprocessor">#include "UdfProcs.h"</span>
00022 
00023 <span class="comment">//</span>
00024 <span class="comment">//  The Bug check file id for this module</span>
00025 <span class="comment">//</span>
00026 
<a name="l00027"></a><a class="code" href="../../d5/d4/prefxsup_8c.html#a0">00027</a> <span class="preprocessor">#define BugCheckFileId                   (UDFS_BUG_CHECK_PREFXSUP)</span>
00028 <span class="preprocessor"></span>
00029 <span class="comment">//</span>
00030 <span class="comment">//  The local debug trace level</span>
00031 <span class="comment">//</span>
00032 
<a name="l00033"></a><a class="code" href="../../d5/d4/prefxsup_8c.html#a1">00033</a> <span class="preprocessor">#define Dbg                              (UDFS_DEBUG_LEVEL_READ)</span>
00034 <span class="preprocessor"></span>
00035 <span class="comment">//</span>
00036 <span class="comment">//  Local support routines.</span>
00037 <span class="comment">//</span>
00038 
00039 <a class="code" href="../../d5/d9/struct__LCB.html">PLCB</a>
00040 <a class="code" href="../../d5/d4/prefxsup_8c.html#a2">UdfFindNameLink</a> (
00041     IN <a class="code" href="../../d0/d3/struct__IRP__CONTEXT.html">PIRP_CONTEXT</a> IrpContext,
00042     IN PRTL_SPLAY_LINKS *RootNode,
00043     IN PUNICODE_STRING Name
00044     );
00045 
00046 BOOLEAN
00047 <a class="code" href="../../d5/d4/prefxsup_8c.html#a3">UdfInsertNameLink</a> (
00048     IN <a class="code" href="../../d0/d3/struct__IRP__CONTEXT.html">PIRP_CONTEXT</a> IrpContext,
00049     IN PRTL_SPLAY_LINKS *RootNode,
00050     IN <a class="code" href="../../d5/d9/struct__LCB.html">PLCB</a> NameLink
00051     );
00052 
00053 <span class="preprocessor">#ifdef ALLOC_PRAGMA</span>
00054 <span class="preprocessor"></span><span class="preprocessor">#pragma alloc_text(PAGE, UdfFindNameLink)</span>
00055 <span class="preprocessor"></span><span class="preprocessor">#pragma alloc_text(PAGE, UdfFindPrefix)</span>
00056 <span class="preprocessor"></span><span class="preprocessor">#pragma alloc_text(PAGE, UdfInitializeLcbFromDirContext)</span>
00057 <span class="preprocessor"></span><span class="preprocessor">#pragma alloc_text(PAGE, UdfInsertNameLink)</span>
00058 <span class="preprocessor"></span><span class="preprocessor">#pragma alloc_text(PAGE, UdfInsertPrefix)</span>
00059 <span class="preprocessor"></span><span class="preprocessor">#pragma alloc_text(PAGE, UdfRemovePrefix)</span>
00060 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00061 <span class="preprocessor"></span>
00062 
00063 <a class="code" href="../../d5/d9/struct__LCB.html">PLCB</a>
<a name="l00064"></a><a class="code" href="../../d3/d8/udfprocs_8h.html#a194">00064</a> <a class="code" href="../../d3/d8/udfprocs_8h.html#a194">UdfInsertPrefix</a> (
00065     IN <a class="code" href="../../d0/d3/struct__IRP__CONTEXT.html">PIRP_CONTEXT</a> IrpContext,
00066     IN <a class="code" href="../../d7/d9/struct__FCB.html">PFCB</a> Fcb,
00067     IN PUNICODE_STRING Name,
00068     IN BOOLEAN ShortNameMatch,
00069     IN BOOLEAN IgnoreCase,
00070     IN <a class="code" href="../../d7/d9/struct__FCB.html">PFCB</a> ParentFcb
00071     )
00072 
00073 <span class="comment">/*++</span>
00074 <span class="comment"></span>
00075 <span class="comment">Routine Description:</span>
00076 <span class="comment"></span>
00077 <span class="comment">    This routine inserts an Lcb linking the two Fcbs together.</span>
00078 <span class="comment"></span>
00079 <span class="comment">Arguments:</span>
00080 <span class="comment"></span>
00081 <span class="comment">    Fcb - This is the Fcb whose name is being inserted into the tree.</span>
00082 <span class="comment"></span>
00083 <span class="comment">    Name - This is the name for the component.</span>
00084 <span class="comment">    </span>
00085 <span class="comment">    ShortNameMatch - Indicates whether this name was found on an explicit 8.3 search</span>
00086 <span class="comment"></span>
00087 <span class="comment">    IgnoreCase - Indicates if we should insert into the case-insensitive tree.</span>
00088 <span class="comment"></span>
00089 <span class="comment">    ParentFcb - This is the ParentFcb.  The prefix tree is attached to this.</span>
00090 <span class="comment"></span>
00091 <span class="comment">Return Value:</span>
00092 <span class="comment"></span>
00093 <span class="comment">    PLCB - the Lcb inserted.</span>
00094 <span class="comment"></span>
00095 <span class="comment">--*/</span>
00096 
00097 {
00098     <a class="code" href="../../d5/d9/struct__LCB.html">PLCB</a> Lcb;
00099     PRTL_SPLAY_LINKS *TreeRoot;
00100     PLIST_ENTRY ListLinks;
00101     ULONG Flags;
00102 
00103     PWCHAR NameBuffer;
00104 
00105     <a class="code" href="../../d0/d9/ntosdef_8h.html#a28">PAGED_CODE</a>();
00106 
00107     <span class="comment">//</span>
00108     <span class="comment">//  Check inputs.</span>
00109     <span class="comment">//</span>
00110 
00111     <a class="code" href="../../d1/d8/udfdata_8h.html#a28">ASSERT_IRP_CONTEXT</a>( IrpContext );
00112     <a class="code" href="../../d1/d8/udfdata_8h.html#a14">ASSERT_FCB</a>( Fcb );
00113 
00114     <a class="code" href="../../d1/d8/udfdata_8h.html#a43">ASSERT_EXCLUSIVE_FCB</a>( Fcb );
00115     <a class="code" href="../../d1/d8/udfdata_8h.html#a43">ASSERT_EXCLUSIVE_FCB</a>( ParentFcb );
00116     <a class="code" href="../../d1/d8/udfdata_8h.html#a18">ASSERT_FCB_INDEX</a>( ParentFcb );
00117 
00118     <span class="comment">//</span>
00119     <span class="comment">//  It must be the case that an index Fcb is only referenced by a single index.  Now</span>
00120     <span class="comment">//  we walk the child's Lcb queue to insure that if any prefixes have already been</span>
00121     <span class="comment">//  inserted, they all refer to the index Fcb we are linking to.  This is the only way</span>
00122     <span class="comment">//  we can detect directory cross-linkage.</span>
00123     <span class="comment">//</span>
00124 
00125     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d7/udfs_2nodetype_8h.html#a12">SafeNodeType</a>( Fcb ) == <a class="code" href="../../d1/d7/udfs_2nodetype_8h.html#a3">UDFS_NTC_FCB_INDEX</a>) {
00126 
00127         <span class="keywordflow">for</span> (ListLinks = Fcb-&gt;ParentLcbQueue.Flink;
00128              ListLinks != &amp;Fcb-&gt;ParentLcbQueue;
00129              ListLinks = ListLinks-&gt;Flink) {
00130 
00131             Lcb = CONTAINING_RECORD( ListLinks, <a class="code" href="../../d5/d9/struct__LCB.html">LCB</a>, ChildFcbLinks );
00132 
00133             <span class="keywordflow">if</span> (Lcb-&gt;<a class="code" href="../../d5/d9/struct__LCB.html#o9">ParentFcb</a> != ParentFcb) {
00134 
00135                 <a class="code" href="../../d3/d8/udfprocs_8h.html#a122">UdfRaiseStatus</a>( IrpContext, STATUS_DISK_CORRUPT_ERROR );
00136             }
00137         }
00138     }
00139     
00140     <span class="comment">//</span>
00141     <span class="comment">//  Capture the separate cases.</span>
00142     <span class="comment">//</span>
00143 
00144     <span class="keywordflow">if</span> (IgnoreCase) {
00145 
00146         TreeRoot = &amp;ParentFcb-&gt;IgnoreCaseRoot;
00147         Flags = <a class="code" href="../../d6/d8/udfstruc_8h.html#a9">LCB_FLAG_IGNORE_CASE</a>;
00148 
00149     } <span class="keywordflow">else</span> {
00150 
00151         TreeRoot = &amp;ParentFcb-&gt;ExactCaseRoot;
00152         Flags = 0;
00153     }
00154 
00155     <span class="keywordflow">if</span> (ShortNameMatch) {
00156 
00157         <a class="code" href="../../d5/d5/cc_8h.html#a60">SetFlag</a>( Flags, <a class="code" href="../../d6/d8/udfstruc_8h.html#a10">LCB_FLAG_SHORT_NAME</a> );
00158     }
00159 
00160     <span class="comment">//</span>
00161     <span class="comment">//  Allocate space for the Lcb.</span>
00162     <span class="comment">//</span>
00163 
00164     <span class="keywordflow">if</span> ( <span class="keyword">sizeof</span>( <a class="code" href="../../d5/d9/struct__LCB.html">LCB</a> ) + <a class="code" href="../../d8/d0/geninst_8c.html#a20">Name</a>-&gt;Length &gt; <a class="code" href="../../d6/d8/udfstruc_8h.html#a12">SIZEOF_LOOKASIDE_LCB</a> ) {
00165     
00166         Lcb = <a class="code" href="../../d1/d8/fsrtl_8h.html#a37">FsRtlAllocatePoolWithTag</a>( <a class="code" href="../../d3/d8/udfprocs_8h.html#a65">UdfPagedPool</a>,
00167                                         <span class="keyword">sizeof</span>( <a class="code" href="../../d5/d9/struct__LCB.html">LCB</a> ) + <a class="code" href="../../d8/d0/geninst_8c.html#a20">Name</a>-&gt;Length,
00168                                         <a class="code" href="../../d1/d7/udfs_2nodetype_8h.html#a81">TAG_LCB</a> );
00169 
00170         <a class="code" href="../../d5/d5/cc_8h.html#a60">SetFlag</a>( Flags, <a class="code" href="../../d6/d8/udfstruc_8h.html#a11">LCB_FLAG_POOL_ALLOCATED</a> );
00171 
00172     } <span class="keywordflow">else</span> {
00173 
00174         Lcb = <a class="code" href="../../d5/d8/ex_8h.html#a252">ExAllocateFromPagedLookasideList</a>( &amp;<a class="code" href="../../d0/d8/udfdata_8c.html#a28">UdfLcbLookasideList</a> );
00175     }
00176 
00177     <span class="comment">//</span>
00178     <span class="comment">//  Set the type and size.</span>
00179     <span class="comment">//</span>
00180 
00181     Lcb-&gt;<a class="code" href="../../d5/d9/struct__LCB.html#o0">NodeTypeCode</a> = <a class="code" href="../../d1/d7/udfs_2nodetype_8h.html#a9">UDFS_NTC_LCB</a>;
00182     Lcb-&gt;<a class="code" href="../../d5/d9/struct__LCB.html#o1">NodeByteSize</a> = <span class="keyword">sizeof</span>( <a class="code" href="../../d5/d9/struct__LCB.html">LCB</a> ) + <a class="code" href="../../d8/d0/geninst_8c.html#a20">Name</a>-&gt;Length;
00183 
00184     <span class="comment">//</span>
00185     <span class="comment">//  Initialize the name-based file attributes.</span>
00186     <span class="comment">//</span>
00187     
00188     Lcb-&gt;<a class="code" href="../../d5/d9/struct__LCB.html#o14">FileAttributes</a> = 0;
00189     
00190     <span class="comment">//</span>
00191     <span class="comment">//  Set up the filename in the Lcb.</span>
00192     <span class="comment">//</span>
00193 
00194     Lcb-&gt;<a class="code" href="../../d5/d9/struct__LCB.html#o16">FileName</a>.Length =
00195     Lcb-&gt;<a class="code" href="../../d5/d9/struct__LCB.html#o16">FileName</a>.MaximumLength = <a class="code" href="../../d8/d0/geninst_8c.html#a20">Name</a>-&gt;Length;
00196 
00197     Lcb-&gt;<a class="code" href="../../d5/d9/struct__LCB.html#o16">FileName</a>.Buffer = <a class="code" href="../../d2/d7/notify_8c.html#a7">Add2Ptr</a>( Lcb, <span class="keyword">sizeof</span>( <a class="code" href="../../d5/d9/struct__LCB.html">LCB</a> ), PWCHAR );
00198 
00199     RtlCopyMemory( Lcb-&gt;<a class="code" href="../../d5/d9/struct__LCB.html#o16">FileName</a>.Buffer,
00200                    <a class="code" href="../../d8/d0/geninst_8c.html#a20">Name</a>-&gt;Buffer,
00201                    <a class="code" href="../../d8/d0/geninst_8c.html#a20">Name</a>-&gt;Length );
00202     
00203     <span class="comment">//</span>
00204     <span class="comment">//  Insert the Lcb into the prefix tree.</span>
00205     <span class="comment">//</span>
00206     
00207     Lcb-&gt;<a class="code" href="../../d5/d9/struct__LCB.html#o13">Flags</a> = Flags;
00208     
00209     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d4/prefxsup_8c.html#a3">UdfInsertNameLink</a>( IrpContext,
00210                             TreeRoot,
00211                             Lcb )) {
00212 
00213         <span class="comment">//</span>
00214         <span class="comment">//  This will very rarely occur.</span>
00215         <span class="comment">//</span>
00216 
00217         <a class="code" href="../../d3/d8/udfprocs_8h.html#a124">UdfFreePool</a>( &amp;Lcb );
00218 
00219         Lcb = <a class="code" href="../../d5/d4/prefxsup_8c.html#a2">UdfFindNameLink</a>( IrpContext,
00220                                TreeRoot,
00221                                <a class="code" href="../../d8/d0/geninst_8c.html#a20">Name</a> );
00222 
00223         <span class="keywordflow">if</span> (Lcb == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00224 
00225             <span class="comment">//</span>
00226             <span class="comment">//  Even worse.</span>
00227             <span class="comment">//</span>
00228 
00229             <a class="code" href="../../d3/d8/udfprocs_8h.html#a122">UdfRaiseStatus</a>( IrpContext, STATUS_DRIVER_INTERNAL_ERROR );
00230         }
00231 
00232         <span class="keywordflow">return</span> Lcb;
00233     }
00234 
00235     <span class="comment">//</span>
00236     <span class="comment">//  Link the Fcbs together through the Lcb.</span>
00237     <span class="comment">//</span>
00238 
00239     Lcb-&gt;<a class="code" href="../../d5/d9/struct__LCB.html#o9">ParentFcb</a> = ParentFcb;
00240     Lcb-&gt;<a class="code" href="../../d5/d9/struct__LCB.html#o11">ChildFcb</a> = Fcb;
00241 
00242     InsertHeadList( &amp;ParentFcb-&gt;ChildLcbQueue, &amp;Lcb-&gt;<a class="code" href="../../d5/d9/struct__LCB.html#o8">ParentFcbLinks</a> );
00243     InsertHeadList( &amp;Fcb-&gt;ParentLcbQueue, &amp;Lcb-&gt;<a class="code" href="../../d5/d9/struct__LCB.html#o10">ChildFcbLinks</a> );
00244 
00245     <span class="comment">//</span>
00246     <span class="comment">//  Initialize the reference count.</span>
00247     <span class="comment">//</span>
00248 
00249     Lcb-&gt;<a class="code" href="../../d5/d9/struct__LCB.html#o12">Reference</a> = 0;
00250     
00251     <span class="keywordflow">return</span> Lcb;
00252 }
00253 
00254 
00255 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
<a name="l00256"></a><a class="code" href="../../d3/d8/udfprocs_8h.html#a195">00256</a> <a class="code" href="../../d3/d8/udfprocs_8h.html#a195">UdfRemovePrefix</a> (
00257     IN <a class="code" href="../../d0/d3/struct__IRP__CONTEXT.html">PIRP_CONTEXT</a> IrpContext,
00258     IN <a class="code" href="../../d5/d9/struct__LCB.html">PLCB</a> Lcb
00259     )
00260 
00261 <span class="comment">/*++</span>
00262 <span class="comment"></span>
00263 <span class="comment">Routine Description:</span>
00264 <span class="comment"></span>
00265 <span class="comment">    This routine is called to remove a given prefix of an Fcb.</span>
00266 <span class="comment"></span>
00267 <span class="comment">Arguments:</span>
00268 <span class="comment"></span>
00269 <span class="comment">    Lcb - the prefix being removed.</span>
00270 <span class="comment"></span>
00271 <span class="comment">Return Value:</span>
00272 <span class="comment"></span>
00273 <span class="comment">    None</span>
00274 <span class="comment"></span>
00275 <span class="comment">--*/</span>
00276 
00277 {
00278     <a class="code" href="../../d0/d9/ntosdef_8h.html#a28">PAGED_CODE</a>();
00279 
00280     <span class="comment">//</span>
00281     <span class="comment">//  Check inputs.</span>
00282     <span class="comment">//</span>
00283 
00284     <a class="code" href="../../d1/d8/udfdata_8h.html#a28">ASSERT_IRP_CONTEXT</a>( IrpContext );
00285     <a class="code" href="../../d1/d8/udfdata_8h.html#a26">ASSERT_LCB</a>( Lcb );
00286 
00287     <span class="comment">//</span>
00288     <span class="comment">//  Check the acquisition of the two Fcbs.</span>
00289     <span class="comment">//</span>
00290 
00291     <a class="code" href="../../d1/d8/udfdata_8h.html#a42">ASSERT_EXCLUSIVE_FCB_OR_VCB</a>( Lcb-&gt;ParentFcb );
00292     <a class="code" href="../../d1/d8/udfdata_8h.html#a42">ASSERT_EXCLUSIVE_FCB_OR_VCB</a>( Lcb-&gt;ChildFcb );
00293 
00294     <span class="comment">//</span>
00295     <span class="comment">//  Now remove the linkage and delete the Lcb.</span>
00296     <span class="comment">//</span>
00297     
00298     RemoveEntryList( &amp;Lcb-&gt;ParentFcbLinks );
00299     RemoveEntryList( &amp;Lcb-&gt;ChildFcbLinks );
00300 
00301     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5/cc_8h.html#a58">FlagOn</a>( Lcb-&gt;Flags, <a class="code" href="../../d6/d8/udfstruc_8h.html#a9">LCB_FLAG_IGNORE_CASE</a> )) {
00302 
00303         Lcb-&gt;ParentFcb-&gt;IgnoreCaseRoot = <a class="code" href="../../d3/d4/splay_8c.html#a4">RtlDelete</a>( &amp;Lcb-&gt;Links );
00304     
00305     } <span class="keywordflow">else</span> {
00306 
00307         Lcb-&gt;ParentFcb-&gt;ExactCaseRoot = <a class="code" href="../../d3/d4/splay_8c.html#a4">RtlDelete</a>( &amp;Lcb-&gt;Links );
00308     }
00309 
00310     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5/cc_8h.html#a58">FlagOn</a>( Lcb-&gt;Flags, <a class="code" href="../../d6/d8/udfstruc_8h.html#a11">LCB_FLAG_POOL_ALLOCATED</a> )) {
00311 
00312         <a class="code" href="../../d5/d8/ex_8h.html#a224">ExFreePool</a>( Lcb );
00313 
00314     } <span class="keywordflow">else</span> {
00315 
00316         <a class="code" href="../../d5/d8/ex_8h.html#a253">ExFreeToPagedLookasideList</a>( &amp;<a class="code" href="../../d0/d8/udfdata_8c.html#a28">UdfLcbLookasideList</a>, Lcb );
00317     }
00318     
00319     <span class="keywordflow">return</span>;
00320 }
00321 
00322 
00323 <a class="code" href="../../d5/d9/struct__LCB.html">PLCB</a>
<a name="l00324"></a><a class="code" href="../../d3/d8/udfprocs_8h.html#a192">00324</a> <a class="code" href="../../d3/d8/udfprocs_8h.html#a192">UdfFindPrefix</a> (
00325     IN <a class="code" href="../../d0/d3/struct__IRP__CONTEXT.html">PIRP_CONTEXT</a> IrpContext,
00326     IN OUT <a class="code" href="../../d7/d9/struct__FCB.html">PFCB</a> *CurrentFcb,
00327     IN OUT PUNICODE_STRING RemainingName,
00328     IN BOOLEAN IgnoreCase
00329     )
00330 
00331 <span class="comment">/*++</span>
00332 <span class="comment"></span>
00333 <span class="comment">Routine Description:</span>
00334 <span class="comment"></span>
00335 <span class="comment">    This routine begins from the given CurrentFcb and walks through all of</span>
00336 <span class="comment">    components of the name looking for the longest match in the prefix</span>
00337 <span class="comment">    splay trees.  The search is relative to the starting Fcb so the</span>
00338 <span class="comment">    full name may not begin with a '\'.  On return this routine will</span>
00339 <span class="comment">    update Current Fcb with the lowest point it has travelled in the</span>
00340 <span class="comment">    tree.  It will also hold only that resource on return and it must</span>
00341 <span class="comment">    hold that resource.</span>
00342 <span class="comment"></span>
00343 <span class="comment">Arguments:</span>
00344 <span class="comment"></span>
00345 <span class="comment">    CurrentFcb - Address to store the lowest Fcb we find on this search.</span>
00346 <span class="comment">        On return we will have acquired this Fcb.  On entry this is the</span>
00347 <span class="comment">        Fcb to examine.</span>
00348 <span class="comment">        </span>
00349 <span class="comment">    RemainingName - Supplies a buffer to store the exact case of the name being</span>
00350 <span class="comment">        searched for.  Initially will contain the upcase name based on the</span>
00351 <span class="comment">        IgnoreCase flag.</span>
00352 <span class="comment"></span>
00353 <span class="comment">    IgnoreCase - Indicates if we are doing a case-insensitive compare.</span>
00354 <span class="comment"></span>
00355 <span class="comment">Return Value:</span>
00356 <span class="comment"></span>
00357 <span class="comment">    The Lcb used to find the current Fcb, NULL if we didn't find any prefix</span>
00358 <span class="comment">    Fcbs.</span>
00359 <span class="comment"></span>
00360 <span class="comment">--*/</span>
00361 
00362 {
00363     UNICODE_STRING LocalRemainingName;
00364     UNICODE_STRING FinalName;
00365 
00366     <a class="code" href="../../d5/d9/struct__LCB.html">PLCB</a> NameLink;
00367     <a class="code" href="../../d5/d9/struct__LCB.html">PLCB</a> CurrentLcb = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00368 
00369     <a class="code" href="../../d0/d9/ntosdef_8h.html#a28">PAGED_CODE</a>();
00370 
00371     <span class="comment">//</span>
00372     <span class="comment">//  Check inputs.</span>
00373     <span class="comment">//</span>
00374 
00375     <a class="code" href="../../d1/d8/udfdata_8h.html#a28">ASSERT_IRP_CONTEXT</a>( IrpContext );
00376     <a class="code" href="../../d1/d8/udfdata_8h.html#a14">ASSERT_FCB</a>( *CurrentFcb );
00377     <a class="code" href="../../d1/d8/udfdata_8h.html#a43">ASSERT_EXCLUSIVE_FCB</a>( *CurrentFcb );
00378 
00379     <span class="comment">//</span>
00380     <span class="comment">//  Make a local copy of the input strings.</span>
00381     <span class="comment">//</span>
00382 
00383     LocalRemainingName = *RemainingName;
00384 
00385     <span class="comment">//</span>
00386     <span class="comment">//  Loop until we find the longest matching prefix.</span>
00387     <span class="comment">//</span>
00388 
00389     <span class="keywordflow">while</span> (<a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>) {
00390 
00391         <span class="comment">//</span>
00392         <span class="comment">//  If there are no characters left or we are not at an IndexFcb then</span>
00393         <span class="comment">//  return immediately.</span>
00394         <span class="comment">//</span>
00395 
00396         <span class="keywordflow">if</span> ((LocalRemainingName.Length == 0) ||
00397             (<a class="code" href="../../d1/d7/udfs_2nodetype_8h.html#a12">SafeNodeType</a>( *CurrentFcb ) != <a class="code" href="../../d1/d7/udfs_2nodetype_8h.html#a3">UDFS_NTC_FCB_INDEX</a>)) {
00398 
00399             <span class="keywordflow">return</span> CurrentLcb;
00400         }
00401 
00402         <span class="comment">//</span>
00403         <span class="comment">//  Split off the next component from the name.</span>
00404         <span class="comment">//</span>
00405 
00406         <a class="code" href="../../d3/d8/udfprocs_8h.html#a177">UdfDissectName</a>( IrpContext,
00407                         &amp;LocalRemainingName,
00408                         &amp;FinalName );
00409 
00410         <span class="comment">//</span>
00411         <span class="comment">//  Check if this name is in the splay tree for this Scb.</span>
00412         <span class="comment">//</span>
00413 
00414         <span class="keywordflow">if</span> (IgnoreCase) {
00415 
00416             NameLink = <a class="code" href="../../d5/d4/prefxsup_8c.html#a2">UdfFindNameLink</a>( IrpContext,
00417                                         &amp;(*CurrentFcb)-&gt;IgnoreCaseRoot,
00418                                         &amp;FinalName );
00419 
00420         } <span class="keywordflow">else</span> {
00421 
00422             NameLink = <a class="code" href="../../d5/d4/prefxsup_8c.html#a2">UdfFindNameLink</a>( IrpContext,
00423                                         &amp;(*CurrentFcb)-&gt;ExactCaseRoot,
00424                                         &amp;FinalName );
00425         }
00426 
00427         <span class="comment">//</span>
00428         <span class="comment">//  If we didn't find a match then exit.</span>
00429         <span class="comment">//</span>
00430 
00431         <span class="keywordflow">if</span> (NameLink == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) { 
00432 
00433             <span class="keywordflow">break</span>;
00434         }
00435 
00436         CurrentLcb = NameLink;
00437 
00438         <span class="comment">//</span>
00439         <span class="comment">//  If this is a case-insensitive match then copy the exact case of the name into</span>
00440         <span class="comment">//  the input buffer.</span>
00441         <span class="comment">//</span>
00442 
00443         <span class="keywordflow">if</span> (IgnoreCase) {
00444 
00445             RtlCopyMemory( FinalName.Buffer,
00446                            NameLink-&gt;FileName.Buffer,
00447                            NameLink-&gt;FileName.Length );
00448         }
00449 
00450         <span class="comment">//</span>
00451         <span class="comment">//  Update the caller's remaining name string to reflect the fact that we found</span>
00452         <span class="comment">//  a match.</span>
00453         <span class="comment">//</span>
00454 
00455         *RemainingName = LocalRemainingName;
00456 
00457         <span class="comment">//</span>
00458         <span class="comment">//  Move down to the next component in the tree.  Acquire without waiting.</span>
00459         <span class="comment">//  If this fails then lock the Fcb to reference this Fcb and then drop</span>
00460         <span class="comment">//  the parent and acquire the child.</span>
00461         <span class="comment">//</span>
00462 
00463         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>( NameLink-&gt;ParentFcb == *CurrentFcb );
00464 
00465         <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d8/udfprocs_8h.html#a83">UdfAcquireFcbExclusive</a>( IrpContext, NameLink-&gt;ChildFcb, <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> )) {
00466 
00467             <span class="comment">//</span>
00468             <span class="comment">//  If we can't wait then raise CANT_WAIT.</span>
00469             <span class="comment">//</span>
00470 
00471             <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d5/cc_8h.html#a58">FlagOn</a>( IrpContext-&gt;Flags, <a class="code" href="../../d6/d8/udfstruc_8h.html#a30">IRP_CONTEXT_FLAG_WAIT</a> )) {
00472 
00473                 <a class="code" href="../../d3/d8/udfprocs_8h.html#a122">UdfRaiseStatus</a>( IrpContext, STATUS_CANT_WAIT );
00474             }
00475 
00476             <a class="code" href="../../d3/d8/udfprocs_8h.html#a88">UdfLockVcb</a>( IrpContext, IrpContext-&gt;Vcb );
00477             NameLink-&gt;ChildFcb-&gt;FcbReference += 1;
00478             NameLink-&gt;Reference += 1;
00479             <a class="code" href="../../d3/d8/udfprocs_8h.html#a89">UdfUnlockVcb</a>( IrpContext, IrpContext-&gt;Vcb );
00480 
00481             <a class="code" href="../../d3/d8/udfprocs_8h.html#a85">UdfReleaseFcb</a>( IrpContext, *CurrentFcb );
00482             <a class="code" href="../../d3/d8/udfprocs_8h.html#a83">UdfAcquireFcbExclusive</a>( IrpContext, NameLink-&gt;ChildFcb, <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a> );
00483 
00484             <a class="code" href="../../d3/d8/udfprocs_8h.html#a88">UdfLockVcb</a>( IrpContext, IrpContext-&gt;Vcb );
00485             NameLink-&gt;ChildFcb-&gt;FcbReference -= 1;
00486             NameLink-&gt;Reference -= 1;
00487             <a class="code" href="../../d3/d8/udfprocs_8h.html#a89">UdfUnlockVcb</a>( IrpContext, IrpContext-&gt;Vcb );
00488 
00489         } <span class="keywordflow">else</span> {
00490 
00491             <a class="code" href="../../d3/d8/udfprocs_8h.html#a85">UdfReleaseFcb</a>( IrpContext, *CurrentFcb );
00492         }
00493 
00494         *CurrentFcb = NameLink-&gt;ChildFcb;
00495     }
00496 
00497     <span class="keywordflow">return</span> CurrentLcb;
00498 }
00499 
00500 
00501 
00502 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>            
<a name="l00503"></a><a class="code" href="../../d3/d8/udfprocs_8h.html#a193">00503</a> <a class="code" href="../../d3/d8/udfprocs_8h.html#a193">UdfInitializeLcbFromDirContext</a> (
00504     IN <a class="code" href="../../d0/d3/struct__IRP__CONTEXT.html">PIRP_CONTEXT</a> IrpContext,
00505     IN <a class="code" href="../../d5/d9/struct__LCB.html">PLCB</a> Lcb,
00506     IN <a class="code" href="../../d5/d5/struct__DIR__ENUM__CONTEXT.html">PDIR_ENUM_CONTEXT</a> DirContext
00507     )
00508 
00509 <span class="comment">/*++</span>
00510 <span class="comment"></span>
00511 <span class="comment">Routine Description:</span>
00512 <span class="comment"></span>
00513 <span class="comment">    This routine performs common initialization of Lcbs from found directory</span>
00514 <span class="comment">    entries.</span>
00515 <span class="comment"></span>
00516 <span class="comment">Arguments:</span>
00517 <span class="comment"></span>
00518 <span class="comment">    Lcb - the Lcb to initialize.</span>
00519 <span class="comment">    </span>
00520 <span class="comment">    DirContext - the directory enumeration context, enumerated to the FID associated</span>
00521 <span class="comment">        with this Lcb.</span>
00522 <span class="comment">    </span>
00523 <span class="comment">Return Value:</span>
00524 <span class="comment"></span>
00525 <span class="comment">    None.</span>
00526 <span class="comment"></span>
00527 <span class="comment">--*/</span>
00528 
00529 {
00530     <a class="code" href="../../d0/d9/ntosdef_8h.html#a28">PAGED_CODE</a>();
00531 
00532     <span class="comment">//</span>
00533     <span class="comment">//  Check inputs.</span>
00534     <span class="comment">//</span>
00535 
00536     <a class="code" href="../../d1/d8/udfdata_8h.html#a28">ASSERT_IRP_CONTEXT</a>( IrpContext );
00537     <a class="code" href="../../d1/d8/udfdata_8h.html#a26">ASSERT_LCB</a>( Lcb );
00538 
00539     <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>( DirContext-&gt;Fid != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a> );
00540 
00541     <span class="comment">//</span>
00542     <span class="comment">//  This is falling down trivial now.  Simply update the hidden flag in the Lcb.</span>
00543     <span class="comment">//</span>
00544 
00545     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5/cc_8h.html#a58">FlagOn</a>( DirContext-&gt;Fid-&gt;Flags, <a class="code" href="../../d0/d7/iso13346_8h.html#a88">NSR_FID_F_HIDDEN</a> )) {
00546 
00547         <a class="code" href="../../d5/d5/cc_8h.html#a60">SetFlag</a>( Lcb-&gt;FileAttributes, FILE_ATTRIBUTE_HIDDEN );
00548     }
00549 }
00550 
00551 
00552 <span class="comment">//</span>
00553 <span class="comment">//  Local support routine</span>
00554 <span class="comment">//</span>
00555 
00556 <a class="code" href="../../d5/d9/struct__LCB.html">PLCB</a>
<a name="l00557"></a><a class="code" href="../../d5/d4/prefxsup_8c.html#a2">00557</a> <a class="code" href="../../d5/d4/prefxsup_8c.html#a2">UdfFindNameLink</a> (
00558     IN <a class="code" href="../../d0/d3/struct__IRP__CONTEXT.html">PIRP_CONTEXT</a> IrpContext,
00559     IN PRTL_SPLAY_LINKS *RootNode,
00560     IN PUNICODE_STRING Name
00561     )
00562 
00563 <span class="comment">/*++</span>
00564 <span class="comment"></span>
00565 <span class="comment">Routine Description:</span>
00566 <span class="comment"></span>
00567 <span class="comment">    This routine searches through a splay link tree looking for a match for the</span>
00568 <span class="comment">    input name.  If we find the corresponding name we will rebalance the</span>
00569 <span class="comment">    tree.</span>
00570 <span class="comment"></span>
00571 <span class="comment">Arguments:</span>
00572 <span class="comment"></span>
00573 <span class="comment">    RootNode - Supplies the parent to search.</span>
00574 <span class="comment"></span>
00575 <span class="comment">    Name - This is the name to search for.  Note if we are doing a case</span>
00576 <span class="comment">        insensitive search the name would have been upcased already.</span>
00577 <span class="comment"></span>
00578 <span class="comment">Return Value:</span>
00579 <span class="comment"></span>
00580 <span class="comment">    PLCB - The name link found or NULL if there is no match.</span>
00581 <span class="comment"></span>
00582 <span class="comment">--*/</span>
00583 
00584 {
00585     <a class="code" href="../../d1/d8/fsrtl_8h.html#a70">FSRTL_COMPARISON_RESULT</a> Comparison;
00586     <a class="code" href="../../d5/d9/struct__LCB.html">PLCB</a> Node;
00587     PRTL_SPLAY_LINKS Links;
00588 
00589     <a class="code" href="../../d0/d9/ntosdef_8h.html#a28">PAGED_CODE</a>();
00590 
00591     Links = *RootNode;
00592 
00593     <span class="keywordflow">while</span> (Links != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00594 
00595         Node = CONTAINING_RECORD( Links, <a class="code" href="../../d5/d9/struct__LCB.html">LCB</a>, Links );
00596 
00597         <span class="comment">//</span>
00598         <span class="comment">//  Compare the prefix in the tree with the full name</span>
00599         <span class="comment">//</span>
00600 
00601         Comparison = <a class="code" href="../../d3/d8/udfprocs_8h.html#a185">UdfFullCompareNames</a>( IrpContext, &amp;Node-&gt;<a class="code" href="../../d5/d9/struct__LCB.html#o16">FileName</a>, <a class="code" href="../../d8/d0/geninst_8c.html#a20">Name</a> );
00602 
00603         <span class="comment">//</span>
00604         <span class="comment">//  See if they don't match</span>
00605         <span class="comment">//</span>
00606 
00607         <span class="keywordflow">if</span> (Comparison == <a class="code" href="../../d1/d8/fsrtl_8h.html#a189a91">GreaterThan</a>) {
00608 
00609             <span class="comment">//</span>
00610             <span class="comment">//  The prefix is greater than the full name</span>
00611             <span class="comment">//  so we go down the left child</span>
00612             <span class="comment">//</span>
00613 
00614             Links = RtlLeftChild( Links );
00615 
00616             <span class="comment">//</span>
00617             <span class="comment">//  And continue searching down this tree</span>
00618             <span class="comment">//</span>
00619 
00620         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Comparison == <a class="code" href="../../d1/d8/fsrtl_8h.html#a189a89">LessThan</a>) {
00621 
00622             <span class="comment">//</span>
00623             <span class="comment">//  The prefix is less than the full name</span>
00624             <span class="comment">//  so we go down the right child</span>
00625             <span class="comment">//</span>
00626 
00627             Links = RtlRightChild( Links );
00628 
00629             <span class="comment">//</span>
00630             <span class="comment">//  And continue searching down this tree</span>
00631             <span class="comment">//</span>
00632 
00633         } <span class="keywordflow">else</span> {
00634 
00635             <span class="comment">//</span>
00636             <span class="comment">//  We found it.</span>
00637             <span class="comment">//</span>
00638             <span class="comment">//  Splay the tree and save the new root.</span>
00639             <span class="comment">//</span>
00640 
00641             *RootNode = <a class="code" href="../../d3/d4/splay_8c.html#a3">RtlSplay</a>( Links );
00642 
00643             <span class="keywordflow">return</span> Node;
00644         }
00645     }
00646 
00647     <span class="comment">//</span>
00648     <span class="comment">//  We didn't find the Link.</span>
00649     <span class="comment">//</span>
00650 
00651     <span class="keywordflow">return</span> <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00652 }
00653 
00654 
00655 <span class="comment">//</span>
00656 <span class="comment">//  Local support routine</span>
00657 <span class="comment">//</span>
00658 
00659 BOOLEAN
<a name="l00660"></a><a class="code" href="../../d5/d4/prefxsup_8c.html#a3">00660</a> <a class="code" href="../../d5/d4/prefxsup_8c.html#a3">UdfInsertNameLink</a> (
00661     IN <a class="code" href="../../d0/d3/struct__IRP__CONTEXT.html">PIRP_CONTEXT</a> IrpContext,
00662     IN PRTL_SPLAY_LINKS *RootNode,
00663     IN <a class="code" href="../../d5/d9/struct__LCB.html">PLCB</a> NameLink
00664     )
00665 
00666 <span class="comment">/*++</span>
00667 <span class="comment"></span>
00668 <span class="comment">Routine Description:</span>
00669 <span class="comment"></span>
00670 <span class="comment">    This routine will insert a name in the splay tree pointed to</span>
00671 <span class="comment">    by RootNode.</span>
00672 <span class="comment"></span>
00673 <span class="comment">Arguments:</span>
00674 <span class="comment"></span>
00675 <span class="comment">    RootNode - Supplies a pointer to the table.</span>
00676 <span class="comment"></span>
00677 <span class="comment">    NameLink - Contains the new link to enter.</span>
00678 <span class="comment"></span>
00679 <span class="comment">Return Value:</span>
00680 <span class="comment"></span>
00681 <span class="comment">    BOOLEAN - TRUE if the name is inserted, FALSE otherwise.</span>
00682 <span class="comment"></span>
00683 <span class="comment">--*/</span>
00684 
00685 {
00686     <a class="code" href="../../d1/d8/fsrtl_8h.html#a70">FSRTL_COMPARISON_RESULT</a> Comparison;
00687     <a class="code" href="../../d5/d9/struct__LCB.html">PLCB</a> Node;
00688 
00689     <a class="code" href="../../d0/d9/ntosdef_8h.html#a28">PAGED_CODE</a>();
00690 
00691     <span class="comment">//</span>
00692     <span class="comment">//  Check inputs.</span>
00693     <span class="comment">//</span>
00694 
00695     <a class="code" href="../../d1/d8/udfdata_8h.html#a28">ASSERT_IRP_CONTEXT</a>( IrpContext );
00696 
00697     RtlInitializeSplayLinks( &amp;NameLink-&gt;Links );
00698 
00699     <span class="comment">//</span>
00700     <span class="comment">//  If we are the first entry in the tree, just become the root.</span>
00701     <span class="comment">//</span>
00702 
00703     <span class="keywordflow">if</span> (*RootNode == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00704 
00705         *RootNode = &amp;NameLink-&gt;Links;
00706 
00707         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00708     }
00709 
00710     Node = CONTAINING_RECORD( *RootNode, <a class="code" href="../../d5/d9/struct__LCB.html">LCB</a>, Links );
00711 
00712     <span class="keywordflow">while</span> (<a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>) {
00713 
00714         <span class="comment">//</span>
00715         <span class="comment">//  Compare the prefix in the tree with the prefix we want</span>
00716         <span class="comment">//  to insert.</span>
00717         <span class="comment">//</span>
00718 
00719         Comparison = <a class="code" href="../../d3/d8/udfprocs_8h.html#a185">UdfFullCompareNames</a>( IrpContext, &amp;Node-&gt;<a class="code" href="../../d5/d9/struct__LCB.html#o16">FileName</a>, &amp;NameLink-&gt;FileName );
00720 
00721         <span class="comment">//</span>
00722         <span class="comment">//  If we found the entry, return immediately.</span>
00723         <span class="comment">//</span>
00724 
00725         <span class="keywordflow">if</span> (Comparison == <a class="code" href="../../d1/d8/fsrtl_8h.html#a189a90">EqualTo</a>) { <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>; }
00726 
00727         <span class="comment">//</span>
00728         <span class="comment">//  If the tree prefix is greater than the new prefix then</span>
00729         <span class="comment">//  we go down the left subtree</span>
00730         <span class="comment">//</span>
00731 
00732         <span class="keywordflow">if</span> (Comparison == <a class="code" href="../../d1/d8/fsrtl_8h.html#a189a91">GreaterThan</a>) {
00733 
00734             <span class="comment">//</span>
00735             <span class="comment">//  We want to go down the left subtree, first check to see</span>
00736             <span class="comment">//  if we have a left subtree</span>
00737             <span class="comment">//</span>
00738 
00739             <span class="keywordflow">if</span> (RtlLeftChild( &amp;Node-&gt;<a class="code" href="../../d5/d9/struct__LCB.html#o15">Links</a> ) == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00740 
00741                 <span class="comment">//</span>
00742                 <span class="comment">//  there isn't a left child so we insert ourselves as the</span>
00743                 <span class="comment">//  new left child</span>
00744                 <span class="comment">//</span>
00745 
00746                 RtlInsertAsLeftChild( &amp;Node-&gt;<a class="code" href="../../d5/d9/struct__LCB.html#o15">Links</a>, &amp;NameLink-&gt;Links );
00747 
00748                 <span class="comment">//</span>
00749                 <span class="comment">//  and exit the while loop</span>
00750                 <span class="comment">//</span>
00751 
00752                 <span class="keywordflow">break</span>;
00753 
00754             } <span class="keywordflow">else</span> {
00755 
00756                 <span class="comment">//</span>
00757                 <span class="comment">//  there is a left child so simply go down that path, and</span>
00758                 <span class="comment">//  go back to the top of the loop</span>
00759                 <span class="comment">//</span>
00760 
00761                 Node = CONTAINING_RECORD( RtlLeftChild( &amp;Node-&gt;<a class="code" href="../../d5/d9/struct__LCB.html#o15">Links</a> ),
00762                                           <a class="code" href="../../d5/d9/struct__LCB.html">LCB</a>,
00763                                           Links );
00764             }
00765 
00766         } <span class="keywordflow">else</span> {
00767 
00768             <span class="comment">//</span>
00769             <span class="comment">//  The tree prefix is either less than or a proper prefix</span>
00770             <span class="comment">//  of the new string.  We treat both cases as less than when</span>
00771             <span class="comment">//  we do insert.  So we want to go down the right subtree,</span>
00772             <span class="comment">//  first check to see if we have a right subtree</span>
00773             <span class="comment">//</span>
00774 
00775             <span class="keywordflow">if</span> (RtlRightChild( &amp;Node-&gt;<a class="code" href="../../d5/d9/struct__LCB.html#o15">Links</a> ) == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00776 
00777                 <span class="comment">//</span>
00778                 <span class="comment">//  These isn't a right child so we insert ourselves as the</span>
00779                 <span class="comment">//  new right child</span>
00780                 <span class="comment">//</span>
00781 
00782                 RtlInsertAsRightChild( &amp;Node-&gt;<a class="code" href="../../d5/d9/struct__LCB.html#o15">Links</a>, &amp;NameLink-&gt;Links );
00783 
00784                 <span class="comment">//</span>
00785                 <span class="comment">//  and exit the while loop</span>
00786                 <span class="comment">//</span>
00787 
00788                 <span class="keywordflow">break</span>;
00789 
00790             } <span class="keywordflow">else</span> {
00791 
00792                 <span class="comment">//</span>
00793                 <span class="comment">//  there is a right child so simply go down that path, and</span>
00794                 <span class="comment">//  go back to the top of the loop</span>
00795                 <span class="comment">//</span>
00796 
00797                 Node = CONTAINING_RECORD( RtlRightChild( &amp;Node-&gt;<a class="code" href="../../d5/d9/struct__LCB.html#o15">Links</a> ),
00798                                           <a class="code" href="../../d5/d9/struct__LCB.html">LCB</a>,
00799                                           Links );
00800             }
00801         }
00802     }
00803 
00804     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00805 }
00806 
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:41:25 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
