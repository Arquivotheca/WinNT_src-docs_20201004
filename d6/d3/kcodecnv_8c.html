<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: kcodecnv.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>kcodecnv.c File Reference</h1><code>#include "<a class="el" href="../../d9/d2/w32_2ntuser_2imm_2precomp_8h-source.html">precomp.h</a>"</code><br>

<p>
<a href="../../d7/d2/kcodecnv_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d6/structtagHIGH__LOW.html">tagHIGH_LOW</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>union &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/uniontagWANSUNG.html">tagWANSUNG</a></td></tr>

<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d3/kcodecnv_8c.html#a0">IDD_2BEOL</a>&nbsp;&nbsp;&nbsp;100</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d3/kcodecnv_8c.html#a1">IDD_3BEOL1</a>&nbsp;&nbsp;&nbsp;101</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d3/kcodecnv_8c.html#a2">IDD_3BEOL2</a>&nbsp;&nbsp;&nbsp;102</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d3/kcodecnv_8c.html#a3">lpSource</a>(lpks)&nbsp;&nbsp;&nbsp;(LPSTR)((LPSTR)lpks+lpks-&gt;dchSource)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>(lpks)&nbsp;&nbsp;&nbsp;(LPSTR)((LPSTR)lpks+lpks-&gt;dchDest)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d3/kcodecnv_8c.html#a5">JOHAB_CP</a>&nbsp;&nbsp;&nbsp;1361</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d3/kcodecnv_8c.html#a6">WANSUNG_CP</a>&nbsp;&nbsp;&nbsp;949</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d3/kcodecnv_8c.html#a7">TWO_BYTE</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d3/kcodecnv_8c.html#a8">ONE_WORD</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td colspan=2><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d4/d6/structtagHIGH__LOW.html">tagHIGH_LOW</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d3/kcodecnv_8c.html#a9">HIGH_LOW</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d2/d9/uniontagWANSUNG.html">tagWANSUNG</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d3/kcodecnv_8c.html#a10">WANSUNG</a></td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>WORD&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d3/kcodecnv_8c.html#a14">JunjaToBanja</a> (LPSTR lpSrc, LPSTR lpDest)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>WORD&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d3/kcodecnv_8c.html#a15">BanjaToJunja</a> (LPSTR lpSrc, LPSTR lpDest)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>WORD&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d3/kcodecnv_8c.html#a16">JohabToKs</a> (LPSTR lpSrc, LPSTR lpDest)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>WORD&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d3/kcodecnv_8c.html#a17">KsToJohab</a> (LPSTR lpSrc, LPSTR lpDest)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>LRESULT&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d3/kcodecnv_8c.html#a18">TransCodeConvert</a> (HIMC hIMC, LPIMESTRUCT lpIme)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>LRESULT&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d3/kcodecnv_8c.html#a19">TransConvertList</a> (HIMC hImc, LPIMESTRUCT lpIme)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>LRESULT&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d3/kcodecnv_8c.html#a20">TransGetMNTable</a> (HIMC hImc, LPIMESTRUCT lpIme)</td></tr>

<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>CONST WORD&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d3/kcodecnv_8c.html#a11">HMNTable</a> [3][96]</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>CONST WORD&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d3/kcodecnv_8c.html#a12">wKSCompCode</a> [51]</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>CONST WORD&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d6/d3/kcodecnv_8c.html#a13">wKSCompCode2</a> [30]</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a0" doxytag="kcodecnv.c::IDD_2BEOL" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define IDD_2BEOL&nbsp;&nbsp;&nbsp;100          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00016">16</a> of file <a class="el" href="../../d7/d2/kcodecnv_8c-source.html">kcodecnv.c</a>.
<p>
Referenced by <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00723">TransGetMNTable()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="kcodecnv.c::IDD_3BEOL1" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define IDD_3BEOL1&nbsp;&nbsp;&nbsp;101          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00017">17</a> of file <a class="el" href="../../d7/d2/kcodecnv_8c-source.html">kcodecnv.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="kcodecnv.c::IDD_3BEOL2" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define IDD_3BEOL2&nbsp;&nbsp;&nbsp;102          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00018">18</a> of file <a class="el" href="../../d7/d2/kcodecnv_8c-source.html">kcodecnv.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="kcodecnv.c::JOHAB_CP" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define JOHAB_CP&nbsp;&nbsp;&nbsp;1361          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00023">23</a> of file <a class="el" href="../../d7/d2/kcodecnv_8c-source.html">kcodecnv.c</a>.
<p>
Referenced by <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00462">JohabToKs()</a>, and <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00566">KsToJohab()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="kcodecnv.c::lpDest" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define lpDest          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">lpks&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(LPSTR)((LPSTR)lpks+lpks-&gt;dchDest)</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00021">21</a> of file <a class="el" href="../../d7/d2/kcodecnv_8c-source.html">kcodecnv.c</a>.
<p>
Referenced by <a class="el" href="../../d6/d1/rtl_2drawtext_8c-source.html#l01604">AddEllipsisAndDrawLine()</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00415">BanjaToJunja()</a>, <a class="el" href="../../d9/d3/editec_8c-source.html#l00423">ECDoIMEMenuCommand()</a>, <a class="el" href="../../d6/d3/edecrare_8c-source.html#l01735">EcImeRequestHandler()</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00462">JohabToKs()</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00362">JunjaToBanja()</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00566">KsToJohab()</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00647">TransCodeConvert()</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00689">TransConvertList()</a>, <a class="el" href="../../d9/d7/aug98_2dll32_2csprof_8c-source.html#l01400">WriteAscii85()</a>, and <a class="el" href="../../d9/d7/aug98_2dll32_2csprof_8c-source.html#l01339">WriteASCII85Cont()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="kcodecnv.c::lpSource" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define lpSource          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">lpks&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(LPSTR)((LPSTR)lpks+lpks-&gt;dchSource)</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00020">20</a> of file <a class="el" href="../../d7/d2/kcodecnv_8c-source.html">kcodecnv.c</a>.
<p>
Referenced by <a class="el" href="../../d4/d6/stringar_8cpp-source.html#l00214">CString::LoadAndFormat()</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00647">TransCodeConvert()</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00689">TransConvertList()</a>, and <a class="el" href="../../d9/d7/aug98_2dll32_2csprof_8c-source.html#l01339">WriteASCII85Cont()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="kcodecnv.c::ONE_WORD" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define ONE_WORD&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00026">26</a> of file <a class="el" href="../../d7/d2/kcodecnv_8c-source.html">kcodecnv.c</a>.
<p>
Referenced by <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00462">JohabToKs()</a>, and <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00566">KsToJohab()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="kcodecnv.c::TWO_BYTE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TWO_BYTE&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00025">25</a> of file <a class="el" href="../../d7/d2/kcodecnv_8c-source.html">kcodecnv.c</a>.
<p>
Referenced by <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00462">JohabToKs()</a>, and <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00566">KsToJohab()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="kcodecnv.c::WANSUNG_CP" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define WANSUNG_CP&nbsp;&nbsp;&nbsp;949          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00024">24</a> of file <a class="el" href="../../d7/d2/kcodecnv_8c-source.html">kcodecnv.c</a>.
<p>
Referenced by <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00462">JohabToKs()</a>, and <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00566">KsToJohab()</a>.    </td>
  </tr>
</table>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="a9" doxytag="kcodecnv.c::HIGH_LOW" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d4/d6/structtagHIGH__LOW.html">tagHIGH_LOW</a>    <a class="el" href="../../d4/d6/structtagHIGH__LOW.html">HIGH_LOW</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="kcodecnv.c::WANSUNG" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef union <a class="el" href="../../d2/d9/uniontagWANSUNG.html">tagWANSUNG</a>    <a class="el" href="../../d2/d9/uniontagWANSUNG.html">WANSUNG</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a15" doxytag="kcodecnv.c::BanjaToJunja" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> WORD BanjaToJunja           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LPSTR&nbsp;</td>
          <td class="mdname" nowrap> <em>lpSrc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPSTR&nbsp;</td>
          <td class="mdname" nowrap> <em>lpDest</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00415">415</a> of file <a class="el" href="../../d7/d2/kcodecnv_8c-source.html">kcodecnv.c</a>.
<p>
References <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, and <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00021">lpDest</a>.
<p>
Referenced by <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00647">TransCodeConvert()</a>.
<p>
<pre class="fragment"><div>00422                    :
00423 
00424 Arguments:
00425 
00426 Return Value:
00427 
00428 --*/
00429 
00430 {
00431     WORD    wCount = 0;
00432 
00433     <span class="keywordflow">while</span> (*lpSrc)
00434     {
00435         <span class="keywordflow">if</span> ((<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)(*lpSrc) &lt; (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)0x80)
00436         {
00437             <span class="keywordflow">if</span> (*lpSrc++ == <span class="charliteral">' '</span>)
00438             {
00439                 *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)0xA1;
00440                 *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)0xA1;
00441                 wCount += 2;
00442             }
00443             <span class="keywordflow">else</span>
00444             {
00445                 *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)0xA3;
00446                 *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = *(lpSrc - 1) + (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)0x80;
00447                 wCount += 2;
00448             }
00449         }
00450         <span class="keywordflow">else</span>
00451         {
00452             *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = *lpSrc++;
00453             *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = *lpSrc++;
00454             wCount += 2;
00455         }
00456     }
00457     *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a> = <span class="charliteral">'\0'</span>;
00458     <span class="keywordflow">return</span> (wCount);
00459 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="kcodecnv.c::JohabToKs" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> WORD JohabToKs           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LPSTR&nbsp;</td>
          <td class="mdname" nowrap> <em>lpSrc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPSTR&nbsp;</td>
          <td class="mdname" nowrap> <em>lpDest</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00462">462</a> of file <a class="el" href="../../d7/d2/kcodecnv_8c-source.html">kcodecnv.c</a>.
<p>
References <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l00050">CHAR</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00035">tagWANSUNG::e</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00030">tagHIGH_LOW::high</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00023">JOHAB_CP</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00030">tagHIGH_LOW::low</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00021">lpDest</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00026">ONE_WORD</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00025">TWO_BYTE</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00036">tagWANSUNG::w</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00024">WANSUNG_CP</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00343">wKSCompCode</a>, and <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00353">wKSCompCode2</a>.
<p>
Referenced by <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00647">TransCodeConvert()</a>.
<p>
<pre class="fragment"><div>00469                    :
00470 
00471 Arguments:
00472 
00473 Return Value:
00474 
00475 --*/
00476 
00477 {
00478     WORD    wCount = 0;
00479 <span class="preprocessor">#if defined(OLD_CONV)</span>
00480 <span class="preprocessor"></span>    <a class="code" href="../../d2/d9/uniontagWANSUNG.html">WANSUNG</a> wsSCode, wsDCode;
00481     <span class="keywordtype">int</span>     iHead = 0, iTail = 2349, iMid;
00482     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>    bCount;
00483 <span class="preprocessor">#endif</span>
00484 <span class="preprocessor"></span>
00485     <span class="keywordflow">while</span> (*lpSrc)
00486     {
00487         <span class="keywordflow">if</span> ((<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)(*lpSrc) &lt; (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)0x80)
00488         {
00489             *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = *lpSrc++;
00490             wCount++;
00491         }
00492         <span class="keywordflow">else</span>
00493 <span class="preprocessor">#if defined(OLD_CONV)</span>
00494 <span class="preprocessor"></span>        {
00495             wsSCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o0">e</a>.<a class="code" href="../../d4/d6/structtagHIGH__LOW.html#o1">high</a> = *lpSrc++;
00496             wsSCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o0">e</a>.<a class="code" href="../../d4/d6/structtagHIGH__LOW.html#o0">low</a> = *lpSrc++;
00497             <span class="keywordflow">for</span> (bCount = 0; bCount &lt; 51 &amp;&amp; <a class="code" href="../../d6/d3/kcodecnv_8c.html#a12">wKSCompCode</a>[bCount] != wsSCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o1">w</a>; bCount++)
00498                 ;
00499             wsDCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o1">w</a> = (bCount == 51)? 0: bCount + 0xA4A1;
00500             <span class="keywordflow">if</span> (wsDCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o1">w</a>)
00501             {
00502                 *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = wsDCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o0">e</a>.<a class="code" href="../../d4/d6/structtagHIGH__LOW.html#o1">high</a>;
00503                 *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = wsDCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o0">e</a>.<a class="code" href="../../d4/d6/structtagHIGH__LOW.html#o0">low</a>;
00504                 wCount += 2;
00505                 <span class="keywordflow">continue</span>;
00506             }
00507             <span class="keywordflow">for</span> (bCount = 0; bCount &lt; 30 &amp;&amp; <a class="code" href="../../d6/d3/kcodecnv_8c.html#a13">wKSCompCode2</a>[bCount] != wsSCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o1">w</a>; bCount++)
00508                 ;
00509             wsDCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o1">w</a> = (bCount == 30)? 0: bCount + 0xA4A1;
00510             <span class="keywordflow">if</span> (wsDCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o1">w</a>)
00511             {
00512                 *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = wsDCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o0">e</a>.<a class="code" href="../../d4/d6/structtagHIGH__LOW.html#o1">high</a>;
00513                 *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = wsDCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o0">e</a>.<a class="code" href="../../d4/d6/structtagHIGH__LOW.html#o0">low</a>;
00514                 wCount += 2;
00515                 <span class="keywordflow">continue</span>;
00516             }
00517             <span class="keywordflow">while</span> (iHead &lt;= iTail &amp;&amp; !wsDCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o1">w</a>)
00518             {
00519                 iMid = (iHead + iTail) / 2;
00520                 <span class="keywordflow">if</span> (wKSCharCode[iMid] &gt; wsSCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o1">w</a>)
00521                     iTail = iMid - 1;
00522                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (wKSCharCode[iMid] &lt; wsSCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o1">w</a>)
00523                     iHead = iMid + 1;
00524                 <span class="keywordflow">else</span>
00525                     wsDCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o1">w</a> = ((iMid / 94 + 0xB0) &lt;&lt; 8) | (iMid % 94 + 0xA1);
00526             }
00527             <span class="keywordflow">if</span> (wsDCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o1">w</a>)
00528             {
00529                 *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = wsDCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o0">e</a>.<a class="code" href="../../d4/d6/structtagHIGH__LOW.html#o1">high</a>;
00530                 *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = wsDCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o0">e</a>.<a class="code" href="../../d4/d6/structtagHIGH__LOW.html#o0">low</a>;
00531                 wCount += 2;
00532             }
00533             <span class="keywordflow">else</span>
00534             {
00535                 *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = wsSCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o0">e</a>.<a class="code" href="../../d4/d6/structtagHIGH__LOW.html#o1">high</a>;
00536                 *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = wsSCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o0">e</a>.<a class="code" href="../../d4/d6/structtagHIGH__LOW.html#o0">low</a>;
00537                 wCount += 2;
00538             }
00539         }
00540 <span class="preprocessor">#else</span>
00541 <span class="preprocessor"></span>        {
00542                 <span class="comment">// for simple implementation, converting one character by character</span>
00543                 <span class="comment">// we have to change it string to string conversion.</span>
00544                 WCHAR wUni;
00545                 <a class="code" href="../../d1/d1/bench_8c.html#a16">CHAR</a>  chTmp[2];
00546 
00547                 chTmp[0] = *lpSrc++;
00548                 chTmp[1] = *lpSrc++;
00549 
00550                 MultiByteToWideChar(JOHAB_CP, MB_PRECOMPOSED, chTmp, TWO_BYTE, &amp;wUni, ONE_WORD);
00551 
00552                 WideCharToMultiByte(WANSUNG_CP, 0, &amp;wUni, ONE_WORD, chTmp, TWO_BYTE, NULL, NULL);
00553 
00554                 *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = chTmp[0];
00555                 *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = chTmp[1];
00556 
00557                 wCount += 2;
00558         }
00559 <span class="preprocessor">#endif</span>
00560 <span class="preprocessor"></span>    }
00561     *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a> = <span class="charliteral">'\0'</span>;
00562     <span class="keywordflow">return</span> (wCount);
00563 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="kcodecnv.c::JunjaToBanja" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> WORD JunjaToBanja           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LPSTR&nbsp;</td>
          <td class="mdname" nowrap> <em>lpSrc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPSTR&nbsp;</td>
          <td class="mdname" nowrap> <em>lpDest</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00362">362</a> of file <a class="el" href="../../d7/d2/kcodecnv_8c-source.html">kcodecnv.c</a>.
<p>
References <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00035">tagWANSUNG::e</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00030">tagHIGH_LOW::high</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00030">tagHIGH_LOW::low</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00021">lpDest</a>, and <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00036">tagWANSUNG::w</a>.
<p>
Referenced by <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00647">TransCodeConvert()</a>.
<p>
<pre class="fragment"><div>00369                    :
00370 
00371 Arguments:
00372 
00373 Return Value:
00374 
00375 --*/
00376 
00377 {
00378     <a class="code" href="../../d2/d9/uniontagWANSUNG.html">WANSUNG</a> wsCode;
00379     WORD    wCount = 0;
00380 
00381     <span class="keywordflow">while</span> (*lpSrc)
00382     {
00383         <span class="keywordflow">if</span> ((<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)(*lpSrc) &lt; (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)0x80)
00384         {
00385             *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = *lpSrc++;
00386             wCount++;
00387         }
00388         <span class="keywordflow">else</span>
00389         {
00390             wsCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o0">e</a>.<a class="code" href="../../d4/d6/structtagHIGH__LOW.html#o1">high</a> = *lpSrc++;
00391             wsCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o0">e</a>.<a class="code" href="../../d4/d6/structtagHIGH__LOW.html#o0">low</a> = *lpSrc++;
00392             <span class="keywordflow">if</span> (wsCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o1">w</a> == 0xA1A1)
00393             {
00394                 *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = <span class="charliteral">' '</span>;
00395                 wCount++;
00396             }
00397             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (wsCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o1">w</a> &gt;= 0xA3A1 &amp;&amp; wsCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o1">w</a> &lt;= 0xA3FE)
00398             {
00399                 *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = wsCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o0">e</a>.<a class="code" href="../../d4/d6/structtagHIGH__LOW.html#o0">low</a> - (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)0x80;
00400                 wCount++;
00401             }
00402             <span class="keywordflow">else</span>
00403             {
00404                 *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = wsCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o0">e</a>.<a class="code" href="../../d4/d6/structtagHIGH__LOW.html#o1">high</a>;
00405                 *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = wsCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o0">e</a>.<a class="code" href="../../d4/d6/structtagHIGH__LOW.html#o0">low</a>;
00406                 wCount += 2;
00407             }
00408         }
00409     }
00410     *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a> = <span class="charliteral">'\0'</span>;
00411     <span class="keywordflow">return</span> (wCount);
00412 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="kcodecnv.c::KsToJohab" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> WORD KsToJohab           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LPSTR&nbsp;</td>
          <td class="mdname" nowrap> <em>lpSrc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPSTR&nbsp;</td>
          <td class="mdname" nowrap> <em>lpDest</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00566">566</a> of file <a class="el" href="../../d7/d2/kcodecnv_8c-source.html">kcodecnv.c</a>.
<p>
References <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l00050">CHAR</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00035">tagWANSUNG::e</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00030">tagHIGH_LOW::high</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00023">JOHAB_CP</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00030">tagHIGH_LOW::low</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00021">lpDest</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00026">ONE_WORD</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00025">TWO_BYTE</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00036">tagWANSUNG::w</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00024">WANSUNG_CP</a>, and <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00343">wKSCompCode</a>.
<p>
Referenced by <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00647">TransCodeConvert()</a>.
<p>
<pre class="fragment"><div>00573                    :
00574 
00575 Arguments:
00576 
00577 Return Value:
00578 
00579 --*/
00580 
00581 {
00582 <span class="preprocessor">#if defined(OLD_CONV)</span>
00583 <span class="preprocessor"></span>    <a class="code" href="../../d2/d9/uniontagWANSUNG.html">WANSUNG</a> wsSCode, wsDCode;
00584     WORD    wCount = 0, wLoc;
00585 <span class="preprocessor">#else</span>
00586 <span class="preprocessor"></span>    WORD    wCount = 0;
00587 <span class="preprocessor">#endif</span>
00588 <span class="preprocessor"></span>
00589     <span class="keywordflow">while</span> (*lpSrc)
00590     {
00591         <span class="keywordflow">if</span> ((<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)(*lpSrc) &lt; (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)0x80)
00592         {
00593             *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = *lpSrc++;
00594             wCount++;
00595         }
00596         <span class="keywordflow">else</span>
00597 <span class="preprocessor">#if defined(OLD_CONV)</span>
00598 <span class="preprocessor"></span>        {
00599             wsSCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o0">e</a>.<a class="code" href="../../d4/d6/structtagHIGH__LOW.html#o1">high</a> = *lpSrc++;
00600             wsSCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o0">e</a>.<a class="code" href="../../d4/d6/structtagHIGH__LOW.html#o0">low</a> = *lpSrc++;
00601             <span class="keywordflow">if</span> (wsSCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o1">w</a> &gt;= (WORD)0xA4A1 &amp;&amp; wsSCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o1">w</a> &lt;= (WORD)0xA4D3)
00602             {
00603                 wsDCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o1">w</a> = <a class="code" href="../../d6/d3/kcodecnv_8c.html#a12">wKSCompCode</a>[wsSCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o1">w</a> - 0xA4A1];
00604                 *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = wsDCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o0">e</a>.<a class="code" href="../../d4/d6/structtagHIGH__LOW.html#o1">high</a>;
00605                 *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = wsDCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o0">e</a>.<a class="code" href="../../d4/d6/structtagHIGH__LOW.html#o0">low</a>;
00606             }
00607             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (wsSCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o1">w</a> &gt;= (WORD)0xB0A1 &amp;&amp; wsSCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o1">w</a> &lt;= (WORD)0xC8FE
00608                     &amp;&amp; wsSCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o0">e</a>.<a class="code" href="../../d4/d6/structtagHIGH__LOW.html#o0">low</a> != (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)0xFF)
00609             {
00610                 wLoc = (wsSCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o0">e</a>.<a class="code" href="../../d4/d6/structtagHIGH__LOW.html#o1">high</a> - 176) * 94;
00611                 wLoc += wsSCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o0">e</a>.<a class="code" href="../../d4/d6/structtagHIGH__LOW.html#o0">low</a>  - 161;
00612                 wsDCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o1">w</a> = wKSCharCode[wLoc];
00613                 *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = wsDCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o0">e</a>.<a class="code" href="../../d4/d6/structtagHIGH__LOW.html#o1">high</a>;
00614                 *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = wsDCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o0">e</a>.<a class="code" href="../../d4/d6/structtagHIGH__LOW.html#o0">low</a>;
00615             }
00616             <span class="keywordflow">else</span>
00617             {
00618                 *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = wsSCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o0">e</a>.<a class="code" href="../../d4/d6/structtagHIGH__LOW.html#o1">high</a>;
00619                 *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = wsSCode.<a class="code" href="../../d2/d9/uniontagWANSUNG.html#o0">e</a>.<a class="code" href="../../d4/d6/structtagHIGH__LOW.html#o0">low</a>;
00620             }
00621             wCount += 2;
00622         }
00623 <span class="preprocessor">#else</span>
00624 <span class="preprocessor"></span>        {
00625             WCHAR wUni;
00626             <a class="code" href="../../d1/d1/bench_8c.html#a16">CHAR</a>  chTmp[2];
00627 
00628             chTmp[0] = *lpSrc++;
00629             chTmp[1] = *lpSrc++;
00630 
00631             MultiByteToWideChar(WANSUNG_CP, MB_PRECOMPOSED, chTmp, TWO_BYTE, &amp;wUni, ONE_WORD);
00632 
00633             WideCharToMultiByte(JOHAB_CP, 0, &amp;wUni, ONE_WORD, chTmp, TWO_BYTE, NULL, NULL);
00634 
00635             *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = chTmp[0];
00636             *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>++ = chTmp[1];
00637 
00638             wCount += 2;
00639         }
00640 <span class="preprocessor">#endif</span>
00641 <span class="preprocessor"></span>    }
00642     *<a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a> = <span class="charliteral">'\0'</span>;
00643     <span class="keywordflow">return</span> (wCount);
00644 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="kcodecnv.c::TransCodeConvert" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> LRESULT TransCodeConvert           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HIMC&nbsp;</td>
          <td class="mdname" nowrap> <em>hIMC</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPIMESTRUCT&nbsp;</td>
          <td class="mdname" nowrap> <em>lpIme</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00647">647</a> of file <a class="el" href="../../d7/d2/kcodecnv_8c-source.html">kcodecnv.c</a>.
<p>
References <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00415">BanjaToJunja()</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00462">JohabToKs()</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00362">JunjaToBanja()</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00566">KsToJohab()</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00021">lpDest</a>, and <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00020">lpSource</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/transsub_8c-source.html#l00054">TranslateIMESubFunctions()</a>.
<p>
<pre class="fragment"><div>00654                    :
00655 
00656 Arguments:
00657 
00658 Return Value:
00659 
00660 --*/
00661 
00662 {
00663     UNREFERENCED_PARAMETER(hIMC);
00664 
00665     <span class="keywordflow">switch</span> (lpIme-&gt;wParam)
00666     {
00667         <span class="keywordflow">case</span> IME_JUNJAtoBANJA:
00668             lpIme-&gt;wCount = <a class="code" href="../../d6/d3/kcodecnv_8c.html#a14">JunjaToBanja</a>(<a class="code" href="../../d6/d3/kcodecnv_8c.html#a3">lpSource</a>(lpIme), <a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>(lpIme));
00669             <span class="keywordflow">break</span>;
00670 
00671         <span class="keywordflow">case</span> IME_BANJAtoJUNJA:
00672             lpIme-&gt;wCount = <a class="code" href="../../d6/d3/kcodecnv_8c.html#a15">BanjaToJunja</a>(<a class="code" href="../../d6/d3/kcodecnv_8c.html#a3">lpSource</a>(lpIme), <a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>(lpIme));
00673             <span class="keywordflow">break</span>;
00674 
00675         <span class="keywordflow">case</span> IME_JOHABtoKS:
00676             lpIme-&gt;wCount = <a class="code" href="../../d6/d3/kcodecnv_8c.html#a16">JohabToKs</a>(<a class="code" href="../../d6/d3/kcodecnv_8c.html#a3">lpSource</a>(lpIme), <a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>(lpIme));
00677             <span class="keywordflow">break</span>;
00678 
00679         <span class="keywordflow">case</span> IME_KStoJOHAB:
00680             lpIme-&gt;wCount = <a class="code" href="../../d6/d3/kcodecnv_8c.html#a17">KsToJohab</a>(<a class="code" href="../../d6/d3/kcodecnv_8c.html#a3">lpSource</a>(lpIme), <a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>(lpIme));
00681             <span class="keywordflow">break</span>;
00682 
00683         <span class="keywordflow">default</span>:
00684             lpIme-&gt;wCount = 0;
00685     }
00686     <span class="keywordflow">return</span> (lpIme-&gt;wCount);
00687 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a19" doxytag="kcodecnv.c::TransConvertList" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> LRESULT TransConvertList           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HIMC&nbsp;</td>
          <td class="mdname" nowrap> <em>hImc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPIMESTRUCT&nbsp;</td>
          <td class="mdname" nowrap> <em>lpIme</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00689">689</a> of file <a class="el" href="../../d7/d2/kcodecnv_8c-source.html">kcodecnv.c</a>.
<p>
References <a class="el" href="../../d4/d7/client_8c-source.html#l04502">GetKeyboardLayout()</a>, <a class="el" href="../../d5/d0/ctxtinfo_8c-source.html#l01841">ImmGetConversionListA()</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00021">lpDest</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00020">lpSource</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, and <a class="el" href="../../d0/d5/ndismain_8h-source.html#l00026">UINT</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/transsub_8c-source.html#l00054">TranslateIMESubFunctions()</a>.
<p>
<pre class="fragment"><div>00690 {
00691     LPSTR           lpSrc;
00692     LPSTR           lpDst;
00693     HGLOBAL         hCandList;
00694     LPCANDIDATELIST lpCandList;
00695     LPSTR           lpCandStr;
00696     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>            i, uBufLen;
00697     LRESULT         lRet = 0;
00698 
00699     lpSrc = <a class="code" href="../../d6/d3/kcodecnv_8c.html#a3">lpSource</a>(lpIme);
00700     lpDst = <a class="code" href="../../d6/d3/kcodecnv_8c.html#a4">lpDest</a>(lpIme);
00701     uBufLen = <a class="code" href="../../d4/d1/ctxtinfo_8c.html#a37">ImmGetConversionListA</a>(<a class="code" href="../../d3/d8/client_8c.html#a154">GetKeyboardLayout</a>(0), hImc, (LPCSTR)lpSrc,
00702             NULL, 0, GCL_CONVERSION);
00703     <span class="keywordflow">if</span> (uBufLen)
00704     {
00705         hCandList = GlobalAlloc(GHND, uBufLen);
00706         lpCandList = (LPCANDIDATELIST)GlobalLock(hCandList);
00707         lRet = <a class="code" href="../../d4/d1/ctxtinfo_8c.html#a37">ImmGetConversionListA</a>(<a class="code" href="../../d3/d8/client_8c.html#a154">GetKeyboardLayout</a>(0), hImc, (LPCSTR)lpSrc,
00708                 lpCandList, uBufLen, GCL_CONVERSION);
00709         <span class="keywordflow">for</span> (i = 0; i &lt; lpCandList-&gt;dwCount; i++)
00710         {
00711             lpCandStr = (LPSTR)lpCandList + lpCandList-&gt;dwOffset[i];
00712             *lpDst++ = *lpCandStr++;
00713             *lpDst++ = *lpCandStr++;
00714         }
00715         *lpDst = <span class="charliteral">'\0'</span>;
00716         lpIme-&gt;wCount = (WORD)lpCandList-&gt;dwCount * 2;
00717         GlobalUnlock(hCandList);
00718         GlobalFree(hCandList);
00719     }
00720     <span class="keywordflow">return</span> (lRet);
00721 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a20" doxytag="kcodecnv.c::TransGetMNTable" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> LRESULT TransGetMNTable           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HIMC&nbsp;</td>
          <td class="mdname" nowrap> <em>hImc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPIMESTRUCT&nbsp;</td>
          <td class="mdname" nowrap> <em>lpIme</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00723">723</a> of file <a class="el" href="../../d7/d2/kcodecnv_8c-source.html">kcodecnv.c</a>.
<p>
References <a class="el" href="../../d6/d8/ntrtlp_8h-source.html#l00184">HIBYTE</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00040">HMNTable</a>, <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00016">IDD_2BEOL</a>, <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>, <a class="el" href="../../d6/d8/ntrtlp_8h-source.html#l00183">LOBYTE</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/transsub_8c-source.html#l00054">TranslateIMESubFunctions()</a>.
<p>
<pre class="fragment"><div>00724 {
00725     LPSTR   lpMnemonic;
00726     <span class="keywordtype">int</span>     iCount, iCIM;
00727 
00728     UNREFERENCED_PARAMETER(hImc);
00729 
00730     lpMnemonic = (LPSTR)(lpIme-&gt;lParam1);
00731 <span class="comment">// BUGBUG: Will be changed to use Registry instead of WIN.INI</span>
00732     iCIM = GetProfileInt(L<span class="stringliteral">"WANSUNG"</span>, L<span class="stringliteral">"InputMethod"</span>, IDD_2BEOL) - <a class="code" href="../../d6/d3/kcodecnv_8c.html#a0">IDD_2BEOL</a>;
00733     <span class="keywordflow">for</span> (iCount = 0; iCount &lt; 96; iCount++, lpMnemonic += 2)
00734         {
00735         *lpMnemonic = <a class="code" href="../../d5/d9/ntrtlp_8h.html#a4">LOBYTE</a>(HMNTable[iCIM][iCount]);
00736         *(lpMnemonic+1) = <a class="code" href="../../d5/d9/ntrtlp_8h.html#a5">HIBYTE</a>(HMNTable[iCIM][iCount]);
00737         }
00738     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00739 }
</div></pre>    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a11" doxytag="kcodecnv.c::HMNTable" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> CONST WORD <a class="el" href="../../d6/d3/kcodecnv_8c.html#a11">HMNTable</a>[3][96]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00040">40</a> of file <a class="el" href="../../d7/d2/kcodecnv_8c-source.html">kcodecnv.c</a>.
<p>
Referenced by <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00723">TransGetMNTable()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="kcodecnv.c::wKSCompCode" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> CONST WORD <a class="el" href="../../d6/d3/kcodecnv_8c.html#a12">wKSCompCode</a>[51]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div>   
{
    0x8841,0x8C41,0x8444,0x9041,0x8446,0x8447,0x9441,0x9841,0x9C41,0x844A,
    0x844B,0x844C,0x844D,0x844E,0x844F,0x8450,0xA041,0xA441,0xA841,0x8454,
    0xAC41,0xB041,0xB441,0xB841,0xBC41,0xC041,0xC441,0xC841,0xCC41,0xD041,
    0x8461,0x8481,0x84A1,0x84C1,0x84E1,0x8541,0x8561,0x8581,0x85A1,0x85C1,
    0x85E1,0x8641,0x8661,0x8681,0x86A1,0x86C1,0x86E1,0x8741,0x8761,0x8781,
    0x87A1
}
</div></pre>
<p>
Definition at line <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00343">343</a> of file <a class="el" href="../../d7/d2/kcodecnv_8c-source.html">kcodecnv.c</a>.
<p>
Referenced by <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00462">JohabToKs()</a>, and <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00566">KsToJohab()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="kcodecnv.c::wKSCompCode2" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> CONST WORD <a class="el" href="../../d6/d3/kcodecnv_8c.html#a13">wKSCompCode2</a>[30]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div>   
{
    0x8442,0x8443,0x8444,0x8445,0x8446,0x8447,0x8448,0x9841,0x8449,0x844A,
    0x844B,0x844C,0x844D,0x844E,0x844F,0x8450,0x8451,0x8453,0xA841,0x8454,
    0x8455,0x8456,0x8457,0x8458,0xBC41,0x8459,0x845A,0x845B,0x845C,0x845D
}
</div></pre>
<p>
Definition at line <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00353">353</a> of file <a class="el" href="../../d7/d2/kcodecnv_8c-source.html">kcodecnv.c</a>.
<p>
Referenced by <a class="el" href="../../d7/d2/kcodecnv_8c-source.html#l00462">JohabToKs()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:44:24 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
