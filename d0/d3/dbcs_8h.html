<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: dbcs.h File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>dbcs.h File Reference</h1>
<p>
<a href="../../d1/d2/dbcs_8h-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d8/struct__MODE__FONT__PAIR.html">_MODE_FONT_PAIR</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d8/d0/struct__FS__CODEPAGE.html">_FS_CODEPAGE</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d7/structtagSTRINGBITMAP.html">tagSTRINGBITMAP</a></td></tr>

<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a0">UNICODE_DBCS_PADDING</a>&nbsp;&nbsp;&nbsp;0xffff</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a1">DEFAULT_FONTSIZE</a>&nbsp;&nbsp;&nbsp;256</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a2">DEFAULT_EUDCSIZE</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a3">VDM_EUDC_FONT_SIZE_X</a>&nbsp;&nbsp;&nbsp;16</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a4">VDM_EUDC_FONT_SIZE_Y</a>&nbsp;&nbsp;&nbsp;16</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a5">USACP</a>&nbsp;&nbsp;&nbsp;1252</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a6">KOREAN_CP</a>&nbsp;&nbsp;&nbsp;949</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a7">JAPAN_CP</a>&nbsp;&nbsp;&nbsp;932</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a8">FS_MODE_TEXT</a>&nbsp;&nbsp;&nbsp;0x0001</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a9">FS_MODE_GRAPHICS</a>&nbsp;&nbsp;&nbsp;0x0002</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a10">FS_MODE_FIND</a>&nbsp;&nbsp;&nbsp;0x8000</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a11">FS_TEXT</a>&nbsp;&nbsp;&nbsp;(FS_MODE_FIND+FS_MODE_TEXT)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a12">FS_GRAPHICS</a>&nbsp;&nbsp;&nbsp;(FS_MODE_FIND+FS_MODE_GRAPHICS)</td></tr>

<tr><td colspan=2><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d9/d8/struct__MODE__FONT__PAIR.html">_MODE_FONT_PAIR</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a16">MODE_FONT_PAIR</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d9/d8/struct__MODE__FONT__PAIR.html">_MODE_FONT_PAIR</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a17">PMODE_FONT_PAIR</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d8/d0/struct__FS__CODEPAGE.html">_FS_CODEPAGE</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a18">FS_CODEPAGE</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d8/d0/struct__FS__CODEPAGE.html">_FS_CODEPAGE</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a19">PFS_CODEPAGE</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d4/d7/structtagSTRINGBITMAP.html">tagSTRINGBITMAP</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a26">STRINGBITMAP</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d4/d7/structtagSTRINGBITMAP.html">tagSTRINGBITMAP</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a27">LPSTRINGBITMAP</a></td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>UINT&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a28">GetStringBitmapW</a> (HDC hdc, LPWSTR pwc, UINT cwc, UINT cbData, <a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> *pSB)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a29">SetLineChar</a> (IN <a class="el" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a30">CheckBisectStringA</a> (IN <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> CodePage, IN PCHAR <a class="el" href="../../d8/d6/ttri_8c.html#a3">Buffer</a>, IN <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> NumBytes, IN LPCPINFO lpCPInfo)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a31">BisectWrite</a> (IN <a class="el" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a13">SHORT</a> StringLength, IN COORD TargetPoint, IN <a class="el" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a32">BisectClipbrd</a> (IN <a class="el" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a13">SHORT</a> StringLength, IN COORD TargetPoint, IN <a class="el" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo, OUT PSMALL_RECT SmallRect)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a33">BisectWriteAttr</a> (IN <a class="el" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a13">SHORT</a> StringLength, IN COORD TargetPoint, IN <a class="el" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a34">RemoveDbcsMark</a> (IN PWCHAR Dst, IN PWCHAR Src, IN <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> NumBytes, IN PCHAR SrcA, IN BOOL OS2OemFormat)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a35">RemoveDbcsMarkCell</a> (IN PCHAR_INFO Dst, IN PCHAR_INFO Src, IN <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> NumBytes)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a36">RemoveDbcsMarkAll</a> (IN <a class="el" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo, IN <a class="el" href="../../d9/d4/struct__ROW.html">PROW</a> Row, IN <a class="el" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a21">PSHORT</a> LeftChar, IN PRECT TextRect, IN int *TextLeft, IN PWCHAR <a class="el" href="../../d8/d6/ttri_8c.html#a3">Buffer</a>, IN <a class="el" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a13">SHORT</a> NumberOfChars)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a37">IsDBCSLeadByteConsole</a> (IN <a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> AsciiChar, IN LPCPINFO lpCPInfo)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>NTSTATUS&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a38">AdjustFont</a> (IN <a class="el" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console, IN UINT CodePage)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>NTSTATUS&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a39">ConvertToCodePage</a> (IN <a class="el" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console, IN UINT PrevCodePage)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>NTSTATUS&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a40">ConvertOutputOemToNonOemUnicode</a> (IN OUT LPWSTR Source, IN OUT <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> KAttrRows, IN int SourceLength, IN UINT Codepage)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a41">TextOutEverything</a> (IN <a class="el" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console, IN <a class="el" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo, IN <a class="el" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a13">SHORT</a> LeftWindowPos, IN OUT <a class="el" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a21">PSHORT</a> RightWindowPos, IN OUT <a class="el" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a21">PSHORT</a> CountOfAttr, IN <a class="el" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a13">SHORT</a> CountOfAttrOriginal, IN OUT PBOOL DoubleColorDBCS, IN BOOL LocalEUDCFlag, IN <a class="el" href="../../d9/d4/struct__ROW.html">PROW</a> Row, IN <a class="el" href="../../d3/d2/struct__ATTR__PAIR.html">PATTR_PAIR</a> Attr, IN <a class="el" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a13">SHORT</a> LeftTextPos, IN <a class="el" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a13">SHORT</a> RightTextPos, IN int WindowRectLeft, IN RECT WindowRect, IN <a class="el" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a13">SHORT</a> NumberOfChars)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a42">TextOutCommonLVB</a> (IN <a class="el" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console, IN WORD Attributes, IN RECT CommonLVBRect)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>NTSTATUS&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a43">MakeAltRasterFont</a> (UINT CodePage, COORD <a class="el" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a10">DefaultFontSize</a>, COORD *AltFontSize, <a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> *AltFontFamily, ULONG *AltFontIndex, LPWSTR AltFaceName)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>NTSTATUS&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a44">InitializeDbcsMisc</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a45">CodePageToCharSet</a> (UINT CodePage)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a46">IsAvailableFarEastCodePage</a> (UINT CodePage)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>LPTTFONTLIST&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a47">SearchTTFont</a> (LPWSTR pwszFace, BOOL fCodePage, UINT CodePage)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a48">IsAvailableTTFont</a> (LPWSTR pwszFace)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a49">IsAvailableTTFontCP</a> (LPWSTR pwszFace, UINT CodePage)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>LPWSTR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a50">GetAltFaceName</a> (LPWSTR pwszFace)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a51">IsAvailableFsCodePage</a> (UINT CodePage)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a52">RegisterKeisenOfTTFont</a> (IN <a class="el" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>ULONG&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a53">TranslateUnicodeToOem</a> (IN <a class="el" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console, IN PWCHAR UnicodeBuffer, IN ULONG UnicodeCharCount, OUT PCHAR AnsiBuffer, IN ULONG AnsiByteCount, OUT PINPUT_RECORD DbcsLeadInpRec)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a54">ImmConversionToConsole</a> (<a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> fdwConversion)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a55">ImmConversionFromConsole</a> (<a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwNlsMode)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a56">CreateDbcsScreenBuffer</a> (IN <a class="el" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console, IN COORD dwScreenBufferSize, OUT PDBCS_SCREEN_BUFFER DbcsScreenBuffer)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a57">DeleteDbcsScreenBuffer</a> (IN PDBCS_SCREEN_BUFFER DbcsScreenBuffer)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a58">ReCreateDbcsScreenBuffer</a> (IN <a class="el" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console, IN UINT OldCodePage)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a59">FE_PolyTextOutCandidate</a> (IN <a class="el" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo, IN PSMALL_RECT Region)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a60">FE_ConsolePolyTextOut</a> (IN <a class="el" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo, IN PSMALL_RECT Region)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>NTSTATUS&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a61">SetRAMFontCodePage</a> (IN <a class="el" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>NTSTATUS&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a62">SetRAMFont</a> (IN <a class="el" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo, IN PCHAR_INFO ScreenBufPtr, IN <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> Length)</td></tr>

<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>ULONG&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a13">DefaultFontIndex</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>COORD&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a14">DefaultFontSize</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a15">DefaultFontFamily</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a22">PUSHORT</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a20">RegInitialPalette</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PUCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a21">RegColorBuffer</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PUCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a22">RegColorBufferNoTranslate</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a23">NUMBER_OF_MODE_FONT_PAIRS</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d9/d8/struct__MODE__FONT__PAIR.html">PMODE_FONT_PAIR</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a24">RegModeFontPairs</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>SINGLE_LIST_ENTRY&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d3/dbcs_8h.html#a25">gRegFullScreenCodePage</a></td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a2" doxytag="dbcs.h::DEFAULT_EUDCSIZE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DEFAULT_EUDCSIZE&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00021">21</a> of file <a class="el" href="../../d1/d2/dbcs_8h-source.html">dbcs.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="dbcs.h::DEFAULT_FONTSIZE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DEFAULT_FONTSIZE&nbsp;&nbsp;&nbsp;256          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00020">20</a> of file <a class="el" href="../../d1/d2/dbcs_8h-source.html">dbcs.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="dbcs.h::FS_GRAPHICS" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define FS_GRAPHICS&nbsp;&nbsp;&nbsp;(FS_MODE_FIND+FS_MODE_GRAPHICS)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00054">54</a> of file <a class="el" href="../../d1/d2/dbcs_8h-source.html">dbcs.h</a>.
<p>
Referenced by <a class="el" href="../../d8/d3/server_2private_8c-source.html#l02280">SrvSetConsoleHardwareState()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="dbcs.h::FS_MODE_FIND" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define FS_MODE_FIND&nbsp;&nbsp;&nbsp;0x8000          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00052">52</a> of file <a class="el" href="../../d1/d2/dbcs_8h-source.html">dbcs.h</a>.
<p>
Referenced by <a class="el" href="../../d8/d3/server_2private_8c-source.html#l02089">InitializeFullScreen()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="dbcs.h::FS_MODE_GRAPHICS" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define FS_MODE_GRAPHICS&nbsp;&nbsp;&nbsp;0x0002          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00051">51</a> of file <a class="el" href="../../d1/d2/dbcs_8h-source.html">dbcs.h</a>.
<p>
Referenced by <a class="el" href="../../d8/d3/server_2private_8c-source.html#l01567">DisplayModeTransition()</a>, <a class="el" href="../../d8/d3/server_2private_8c-source.html#l02089">InitializeFullScreen()</a>, and <a class="el" href="../../d8/d3/server_2private_8c-source.html#l00980">UnregisterVDM()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="dbcs.h::FS_MODE_TEXT" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define FS_MODE_TEXT&nbsp;&nbsp;&nbsp;0x0001          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00050">50</a> of file <a class="el" href="../../d1/d2/dbcs_8h-source.html">dbcs.h</a>.
<p>
Referenced by <a class="el" href="../../d8/d3/server_2private_8c-source.html#l02089">InitializeFullScreen()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="dbcs.h::FS_TEXT" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define FS_TEXT&nbsp;&nbsp;&nbsp;(FS_MODE_FIND+FS_MODE_TEXT)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00053">53</a> of file <a class="el" href="../../d1/d2/dbcs_8h-source.html">dbcs.h</a>.
<p>
Referenced by <a class="el" href="../../d8/d3/server_2private_8c-source.html#l02280">SrvSetConsoleHardwareState()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="dbcs.h::JAPAN_CP" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define JAPAN_CP&nbsp;&nbsp;&nbsp;932          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00028">28</a> of file <a class="el" href="../../d1/d2/dbcs_8h-source.html">dbcs.h</a>.
<p>
Referenced by <a class="el" href="../../d8/d3/server_2private_8c-source.html#l00980">UnregisterVDM()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="dbcs.h::KOREAN_CP" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define KOREAN_CP&nbsp;&nbsp;&nbsp;949          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00027">27</a> of file <a class="el" href="../../d1/d2/dbcs_8h-source.html">dbcs.h</a>.
<p>
Referenced by <a class="el" href="../../d8/d3/server_2private_8c-source.html#l00980">UnregisterVDM()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="dbcs.h::UNICODE_DBCS_PADDING" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define UNICODE_DBCS_PADDING&nbsp;&nbsp;&nbsp;0xffff          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00018">18</a> of file <a class="el" href="../../d1/d2/dbcs_8h-source.html">dbcs.h</a>.
<p>
Referenced by <a class="el" href="../../d3/d7/directio_8c-source.html#l01115">FE_TranslateOutputToAnsiUnicodeInternal()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="dbcs.h::USACP" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define USACP&nbsp;&nbsp;&nbsp;1252          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00026">26</a> of file <a class="el" href="../../d1/d2/dbcs_8h-source.html">dbcs.h</a>.
<p>
Referenced by <a class="el" href="../../d5/d9/w32_2ntcon_2server_2misc_8c-source.html#l01676">FalseUnicodeToRealUnicode()</a>, <a class="el" href="../../d7/d1/output_8c-source.html#l01795">ReadOutputString()</a>, <a class="el" href="../../d5/d9/w32_2ntcon_2server_2misc_8c-source.html#l01573">RealUnicodeToFalseUnicode()</a>, <a class="el" href="../../d3/d7/directio_8c-source.html#l00801">SB_TranslateOutputToOem()</a>, <a class="el" href="../../d3/d7/directio_8c-source.html#l00976">SB_TranslateOutputToUnicode()</a>, <a class="el" href="../../d6/d0/w32_2ntcon_2server_2bitmap_8c-source.html#l00168">SrvInvalidateBitMapRect()</a>, <a class="el" href="../../d1/d2/__stream_8h-source.html#l01020">WWSB_DoSrvWriteConsole()</a>, <a class="el" href="../../d9/d1/__output_8h-source.html#l01530">WWSB_FillOutput()</a>, and <a class="el" href="../../d9/d1/__output_8h-source.html#l01002">WWSB_WriteOutputString()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="dbcs.h::VDM_EUDC_FONT_SIZE_X" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define VDM_EUDC_FONT_SIZE_X&nbsp;&nbsp;&nbsp;16          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00023">23</a> of file <a class="el" href="../../d1/d2/dbcs_8h-source.html">dbcs.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="dbcs.h::VDM_EUDC_FONT_SIZE_Y" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define VDM_EUDC_FONT_SIZE_Y&nbsp;&nbsp;&nbsp;16          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00024">24</a> of file <a class="el" href="../../d1/d2/dbcs_8h-source.html">dbcs.h</a>.    </td>
  </tr>
</table>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="a18" doxytag="dbcs.h::FS_CODEPAGE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d8/d0/struct__FS__CODEPAGE.html">_FS_CODEPAGE</a>  <a class="el" href="../../d8/d0/struct__FS__CODEPAGE.html">FS_CODEPAGE</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a27" doxytag="dbcs.h::LPSTRINGBITMAP" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d4/d7/structtagSTRINGBITMAP.html">tagSTRINGBITMAP</a> * <a class="el" href="../../d4/d7/structtagSTRINGBITMAP.html">LPSTRINGBITMAP</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d8/d3/server_2private_8c-source.html#l03175">SetRAMFontCodePage()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="dbcs.h::MODE_FONT_PAIR" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d9/d8/struct__MODE__FONT__PAIR.html">_MODE_FONT_PAIR</a>  <a class="el" href="../../d9/d8/struct__MODE__FONT__PAIR.html">MODE_FONT_PAIR</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a19" doxytag="dbcs.h::PFS_CODEPAGE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d8/d0/struct__FS__CODEPAGE.html">_FS_CODEPAGE</a> * <a class="el" href="../../d8/d0/struct__FS__CODEPAGE.html">PFS_CODEPAGE</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="dbcs.h::PMODE_FONT_PAIR" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d9/d8/struct__MODE__FONT__PAIR.html">_MODE_FONT_PAIR</a> * <a class="el" href="../../d9/d8/struct__MODE__FONT__PAIR.html">PMODE_FONT_PAIR</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a26" doxytag="dbcs.h::STRINGBITMAP" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d4/d7/structtagSTRINGBITMAP.html">tagSTRINGBITMAP</a>  <a class="el" href="../../d4/d7/structtagSTRINGBITMAP.html">STRINGBITMAP</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d8/d3/server_2private_8c-source.html#l03175">SetRAMFontCodePage()</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a38" doxytag="dbcs.h::AdjustFont" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NTSTATUS AdjustFont           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Console</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>CodePage</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a32" doxytag="dbcs.h::BisectClipbrd" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID BisectClipbrd           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a13">SHORT</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>StringLength</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN COORD&nbsp;</td>
          <td class="mdname" nowrap> <em>TargetPoint</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ScreenInfo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>OUT PSMALL_RECT&nbsp;</td>
          <td class="mdname" nowrap> <em>SmallRect</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d8/d7/ntcon_2server_2clipbrd_8c-source.html#l00070">MyInvert()</a>, and <a class="el" href="../../d8/d7/ntcon_2server_2clipbrd_8c-source.html#l00452">StoreSelection()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a31" doxytag="dbcs.h::BisectWrite" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID BisectWrite           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a13">SHORT</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>StringLength</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN COORD&nbsp;</td>
          <td class="mdname" nowrap> <em>TargetPoint</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ScreenInfo</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d9/d1/__output_8h-source.html#l00061">FE_StreamWriteToScreenBuffer()</a>, <a class="el" href="../../d1/d2/__stream_8h-source.html#l00809">WWSB_DoWriteConsole()</a>, <a class="el" href="../../d9/d1/__output_8h-source.html#l01530">WWSB_FillOutput()</a>, <a class="el" href="../../d9/d1/__output_8h-source.html#l01918">WWSB_FillRectangle()</a>, <a class="el" href="../../d9/d1/__output_8h-source.html#l01002">WWSB_WriteOutputString()</a>, and <a class="el" href="../../d9/d1/__output_8h-source.html#l00187">WWSB_WriteRectToScreenBuffer()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a33" doxytag="dbcs.h::BisectWriteAttr" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID BisectWriteAttr           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a13">SHORT</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>StringLength</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN COORD&nbsp;</td>
          <td class="mdname" nowrap> <em>TargetPoint</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ScreenInfo</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d9/d1/__output_8h-source.html#l01530">WWSB_FillOutput()</a>, and <a class="el" href="../../d9/d1/__output_8h-source.html#l01002">WWSB_WriteOutputString()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a30" doxytag="dbcs.h::CheckBisectStringA" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL CheckBisectStringA           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>CodePage</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>NumBytes</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN LPCPINFO&nbsp;</td>
          <td class="mdname" nowrap> <em>lpCPInfo</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d1/d2/__stream_8h-source.html#l01020">WWSB_DoSrvWriteConsole()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a45" doxytag="dbcs.h::CodePageToCharSet" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> CodePageToCharSet           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>CodePage</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d5/d9/w32_2ntcon_2server_2misc_8c-source.html#l00650">FindCreateFont()</a>, and <a class="el" href="../../d4/d2/ntcon_2server_2input_8c-source.html#l02397">HandleKeyEvent()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a40" doxytag="dbcs.h::ConvertOutputOemToNonOemUnicode" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NTSTATUS ConvertOutputOemToNonOemUnicode           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN OUT LPWSTR&nbsp;</td>
          <td class="mdname" nowrap> <em>Source</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN OUT <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>KAttrRows</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN int&nbsp;</td>
          <td class="mdname" nowrap> <em>SourceLength</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>Codepage</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a39" doxytag="dbcs.h::ConvertToCodePage" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NTSTATUS ConvertToCodePage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Console</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>PrevCodePage</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a56" doxytag="dbcs.h::CreateDbcsScreenBuffer" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL CreateDbcsScreenBuffer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Console</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN COORD&nbsp;</td>
          <td class="mdname" nowrap> <em>dwScreenBufferSize</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>OUT PDBCS_SCREEN_BUFFER&nbsp;</td>
          <td class="mdname" nowrap> <em>DbcsScreenBuffer</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d1/output_8c-source.html#l05870">5870</a> of file <a class="el" href="../../d7/d1/output_8c-source.html">output.c</a>.
<p>
References <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d9/d4/consrv_8h-source.html#l00180">ConsoleHeapAlloc</a>, <a class="el" href="../../d9/d4/consrv_8h-source.html#l00193">ConsoleHeapFree</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d0/d2/ldrp_8h-source.html#l00457">MAKE_TAG</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d7/d1/output_8c-source.html#l00485">CreateScreenBuffer()</a>, <a class="el" href="../../d7/d1/output_8c-source.html#l05940">ReCreateDbcsScreenBufferWorker()</a>, and <a class="el" href="../../d7/d1/output_8c-source.html#l02231">ResizeScreenBuffer()</a>.
<p>
<pre class="fragment"><div>05875 {
05876     <span class="keywordflow">if</span> (CONSOLE_IS_DBCS_OUTPUTCP(Console)) {
05877         DbcsScreenBuffer-&gt;TransBufferCharacter =
05878             (PWCHAR)<a class="code" href="../../d8/d5/consrv_8h.html#a36">ConsoleHeapAlloc</a>(
05879                               <a class="code" href="../../d9/d2/ldrp_8h.html#a11">MAKE_TAG</a>( SCREEN_DBCS_TAG ),
05880                               (dwScreenBufferSize.X*dwScreenBufferSize.Y*<span class="keyword">sizeof</span>(WCHAR))+<span class="keyword">sizeof</span>(WCHAR));
05881         <span class="keywordflow">if</span> (DbcsScreenBuffer-&gt;TransBufferCharacter == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
05882             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
05883         }
05884 
05885         DbcsScreenBuffer-&gt;TransBufferAttribute =
05886             (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)<a class="code" href="../../d8/d5/consrv_8h.html#a36">ConsoleHeapAlloc</a>(
05887                              <a class="code" href="../../d9/d2/ldrp_8h.html#a11">MAKE_TAG</a>( SCREEN_DBCS_TAG ),
05888                              (dwScreenBufferSize.X*dwScreenBufferSize.Y*<span class="keyword">sizeof</span>(BYTE))+<span class="keyword">sizeof</span>(BYTE));
05889         <span class="keywordflow">if</span> (DbcsScreenBuffer-&gt;TransBufferAttribute == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
05890             <a class="code" href="../../d8/d5/consrv_8h.html#a38">ConsoleHeapFree</a>(DbcsScreenBuffer-&gt;TransBufferCharacter);
05891             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
05892         }
05893 
05894         DbcsScreenBuffer-&gt;TransWriteConsole =
05895             (PWCHAR)<a class="code" href="../../d8/d5/consrv_8h.html#a36">ConsoleHeapAlloc</a>(
05896                               <a class="code" href="../../d9/d2/ldrp_8h.html#a11">MAKE_TAG</a>( SCREEN_DBCS_TAG ),
05897                               (dwScreenBufferSize.X*dwScreenBufferSize.Y*<span class="keyword">sizeof</span>(WCHAR))+<span class="keyword">sizeof</span>(WCHAR));
05898         <span class="keywordflow">if</span> (DbcsScreenBuffer-&gt;TransWriteConsole == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
05899             <a class="code" href="../../d8/d5/consrv_8h.html#a38">ConsoleHeapFree</a>(DbcsScreenBuffer-&gt;TransBufferAttribute);
05900             <a class="code" href="../../d8/d5/consrv_8h.html#a38">ConsoleHeapFree</a>(DbcsScreenBuffer-&gt;TransBufferCharacter);
05901             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
05902         }
05903 
05904         DbcsScreenBuffer-&gt;KAttrRows =
05905             (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)<a class="code" href="../../d8/d5/consrv_8h.html#a36">ConsoleHeapAlloc</a>(
05906                              <a class="code" href="../../d9/d2/ldrp_8h.html#a11">MAKE_TAG</a>( SCREEN_DBCS_TAG ),
05907                              dwScreenBufferSize.X*dwScreenBufferSize.Y*<span class="keyword">sizeof</span>(BYTE));
05908         <span class="keywordflow">if</span> (DbcsScreenBuffer-&gt;KAttrRows == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
05909             <a class="code" href="../../d8/d5/consrv_8h.html#a38">ConsoleHeapFree</a>(DbcsScreenBuffer-&gt;TransWriteConsole);
05910             <a class="code" href="../../d8/d5/consrv_8h.html#a38">ConsoleHeapFree</a>(DbcsScreenBuffer-&gt;TransBufferAttribute);
05911             <a class="code" href="../../d8/d5/consrv_8h.html#a38">ConsoleHeapFree</a>(DbcsScreenBuffer-&gt;TransBufferCharacter);
05912             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
05913         }
05914     }
05915     <span class="keywordflow">else</span> {
05916         DbcsScreenBuffer-&gt;TransBufferCharacter = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
05917         DbcsScreenBuffer-&gt;TransBufferAttribute = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
05918         DbcsScreenBuffer-&gt;TransWriteConsole = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
05919         DbcsScreenBuffer-&gt;KAttrRows = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
05920     }
05921 
05922     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
05923 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a57" doxytag="dbcs.h::DeleteDbcsScreenBuffer" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL DeleteDbcsScreenBuffer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PDBCS_SCREEN_BUFFER&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>DbcsScreenBuffer</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d1/output_8c-source.html#l05926">5926</a> of file <a class="el" href="../../d7/d1/output_8c-source.html">output.c</a>.
<p>
References <a class="el" href="../../d9/d4/consrv_8h-source.html#l00193">ConsoleHeapFree</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d7/d1/output_8c-source.html#l01021">FreeScreenBuffer()</a>, <a class="el" href="../../d7/d1/output_8c-source.html#l05985">ReCreateDbcsScreenBuffer()</a>, and <a class="el" href="../../d7/d1/output_8c-source.html#l02231">ResizeScreenBuffer()</a>.
<p>
<pre class="fragment"><div>05929 {
05930     <span class="keywordflow">if</span> (DbcsScreenBuffer-&gt;KAttrRows) {
05931         <a class="code" href="../../d8/d5/consrv_8h.html#a38">ConsoleHeapFree</a>(DbcsScreenBuffer-&gt;TransBufferCharacter);
05932         <a class="code" href="../../d8/d5/consrv_8h.html#a38">ConsoleHeapFree</a>(DbcsScreenBuffer-&gt;TransBufferAttribute);
05933         <a class="code" href="../../d8/d5/consrv_8h.html#a38">ConsoleHeapFree</a>(DbcsScreenBuffer-&gt;TransWriteConsole);
05934         <a class="code" href="../../d8/d5/consrv_8h.html#a38">ConsoleHeapFree</a>(DbcsScreenBuffer-&gt;KAttrRows);
05935     }
05936     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
05937 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a60" doxytag="dbcs.h::FE_ConsolePolyTextOut" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID FE_ConsolePolyTextOut           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ScreenInfo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PSMALL_RECT&nbsp;</td>
          <td class="mdname" nowrap> <em>Region</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a59" doxytag="dbcs.h::FE_PolyTextOutCandidate" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL FE_PolyTextOutCandidate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ScreenInfo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PSMALL_RECT&nbsp;</td>
          <td class="mdname" nowrap> <em>Region</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a50" doxytag="dbcs.h::GetAltFaceName" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> LPWSTR GetAltFaceName           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LPWSTR&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pwszFace</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d5/d9/w32_2ntcon_2server_2misc_8c-source.html#l00650">FindCreateFont()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a28" doxytag="dbcs.h::GetStringBitmapW" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> UINT GetStringBitmapW           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HDC&nbsp;</td>
          <td class="mdname" nowrap> <em>hdc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPWSTR&nbsp;</td>
          <td class="mdname" nowrap> <em>pwc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>cwc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>cbData</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>pSB</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d8/d3/server_2private_8c-source.html#l03336">SetRAMFont()</a>, and <a class="el" href="../../d8/d3/server_2private_8c-source.html#l03175">SetRAMFontCodePage()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a55" doxytag="dbcs.h::ImmConversionFromConsole" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> ImmConversionFromConsole           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dwNlsMode</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d7/d1/output_8c-source.html#l04700">ConsoleWindowProc()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a54" doxytag="dbcs.h::ImmConversionToConsole" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> ImmConversionToConsole           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>fdwConversion</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d4/d2/ntcon_2server_2input_8c-source.html#l02397">HandleKeyEvent()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a44" doxytag="dbcs.h::InitializeDbcsMisc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NTSTATUS InitializeDbcsMisc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d1/d4/srvinit_8c-source.html#l00626">InitWindowsStuff()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a46" doxytag="dbcs.h::IsAvailableFarEastCodePage" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL IsAvailableFarEastCodePage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>CodePage</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d1/d4/srvinit_8c-source.html#l00737">ConServerDllInitialization()</a>, <a class="el" href="../../d7/d1/output_8c-source.html#l00270">DoCreateScreenBuffer()</a>, <a class="el" href="../../d5/d9/w32_2ntcon_2server_2misc_8c-source.html#l00650">FindCreateFont()</a>, <a class="el" href="../../d1/d4/srvinit_8c-source.html#l02210">GetRegistryValues()</a>, <a class="el" href="../../d2/d6/ntcon_2server_2menu_8c-source.html#l00459">PropertiesUpdate()</a>, <a class="el" href="../../d7/d1/output_8c-source.html#l05985">ReCreateDbcsScreenBuffer()</a>, and <a class="el" href="../../d0/d4/ntcon_2server_2getset_8c-source.html#l01229">SrvSetConsoleCP()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a51" doxytag="dbcs.h::IsAvailableFsCodePage" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL IsAvailableFsCodePage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>CodePage</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d8/d3/server_2private_8c-source.html#l01567">DisplayModeTransition()</a>, <a class="el" href="../../d8/d3/server_2private_8c-source.html#l02280">SrvSetConsoleHardwareState()</a>, and <a class="el" href="../../d8/d3/server_2private_8c-source.html#l00980">UnregisterVDM()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a48" doxytag="dbcs.h::IsAvailableTTFont" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL IsAvailableTTFont           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LPWSTR&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pwszFace</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d5/d9/w32_2ntcon_2server_2misc_8c-source.html#l00650">FindCreateFont()</a>, and <a class="el" href="../../d5/d9/w32_2ntcon_2server_2misc_8c-source.html#l00152">FontEnum()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a49" doxytag="dbcs.h::IsAvailableTTFontCP" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL IsAvailableTTFontCP           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LPWSTR&nbsp;</td>
          <td class="mdname" nowrap> <em>pwszFace</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>CodePage</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d5/d9/w32_2ntcon_2server_2misc_8c-source.html#l00152">FontEnum()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a37" doxytag="dbcs.h::IsDBCSLeadByteConsole" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL IsDBCSLeadByteConsole           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>AsciiChar</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN LPCPINFO&nbsp;</td>
          <td class="mdname" nowrap> <em>lpCPInfo</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d9/d1/__output_8h-source.html#l01530">WWSB_FillOutput()</a>, <a class="el" href="../../d9/d1/__output_8h-source.html#l01002">WWSB_WriteOutputString()</a>, and <a class="el" href="../../d9/d1/__output_8h-source.html#l00187">WWSB_WriteRectToScreenBuffer()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a43" doxytag="dbcs.h::MakeAltRasterFont" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NTSTATUS MakeAltRasterFont           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>CodePage</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>COORD&nbsp;</td>
          <td class="mdname" nowrap> <em>DefaultFontSize</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>COORD *&nbsp;</td>
          <td class="mdname" nowrap> <em>AltFontSize</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>AltFontFamily</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG *&nbsp;</td>
          <td class="mdname" nowrap> <em>AltFontIndex</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPWSTR&nbsp;</td>
          <td class="mdname" nowrap> <em>AltFaceName</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d5/d9/w32_2ntcon_2server_2misc_8c-source.html#l00650">FindCreateFont()</a>, and <a class="el" href="../../d8/d3/server_2private_8c-source.html#l03175">SetRAMFontCodePage()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a58" doxytag="dbcs.h::ReCreateDbcsScreenBuffer" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL ReCreateDbcsScreenBuffer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Console</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>OldCodePage</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d1/output_8c-source.html#l05985">5985</a> of file <a class="el" href="../../d7/d1/output_8c-source.html">output.c</a>.
<p>
References <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00146">ASSERT</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d8/d1/output_8h-source.html#l00148">CONSOLE_TEXTMODE_BUFFER</a>, <a class="el" href="../../d9/d4/consrv_8h-source.html#l00180">ConsoleHeapAlloc</a>, <a class="el" href="../../d9/d4/consrv_8h-source.html#l00193">ConsoleHeapFree</a>, <a class="el" href="../../d7/d1/output_8c-source.html#l05978">_DBCS_SCREEN_BUFFER_TRACKER::data</a>, <a class="el" href="../../d7/d1/output_8c-source.html#l05926">DeleteDbcsScreenBuffer()</a>, <a class="el" href="../../d0/d1/fedefs_8h-source.html#l00051">exit</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d0/d3/dbcs_8h.html#a46">IsAvailableFarEastCodePage()</a>, <a class="el" href="../../d0/d2/ldrp_8h-source.html#l00457">MAKE_TAG</a>, <a class="el" href="../../d8/d1/output_8h-source.html#l00177">_SCREEN_INFORMATION::Next</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d6/d2/output_8c.html#a30">PDBCS_SCREEN_BUFFER_TRACKER</a>, <a class="el" href="../../d7/d1/output_8c-source.html#l05940">ReCreateDbcsScreenBufferWorker()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d0/d5/ndismain_8h-source.html#l00026">UINT</a>.
<p>
Referenced by <a class="el" href="../../d0/d4/ntcon_2server_2getset_8c-source.html#l01229">SrvSetConsoleCP()</a>.
<p>
<pre class="fragment"><div>05988 {
05989     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> fResult = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
05990     <a class="code" href="../../d1/d0/struct__DBCS__SCREEN__BUFFER__TRACKER.html">PDBCS_SCREEN_BUFFER_TRACKER</a> pDbcsScreenBuffer;
05991     <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> pScreenInfo;
05992     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> nScreen;
05993     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> i;
05994 <span class="preprocessor">#if DBG</span>
05995 <span class="preprocessor"></span>    <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> nScreenSave;
05996 <span class="preprocessor">#endif</span>
05997 <span class="preprocessor"></span>
05998     <span class="comment">//</span>
05999     <span class="comment">// If DbcsBuffers don't need to be modified, just bail out.</span>
06000     <span class="comment">//</span>
06001     <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d3/dbcs_8h.html#a46">IsAvailableFarEastCodePage</a>(OldCodePage) == !CONSOLE_IS_DBCS_OUTPUTCP(pConsole) )
06002         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
06003 
06004     <span class="comment">//</span>
06005     <span class="comment">// Count the number of screens allocated.</span>
06006     <span class="comment">//</span>
06007     <span class="keywordflow">for</span> (nScreen = 0, pScreenInfo = pConsole-&gt;ScreenBuffers; pScreenInfo; pScreenInfo = pScreenInfo-&gt;<a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o23">Next</a>) {
06008         <span class="comment">//</span>
06009         <span class="comment">// Ignore graphic mode buffer.</span>
06010         <span class="comment">//</span>
06011         <span class="keywordflow">if</span> (pScreenInfo-&gt;Flags &amp; <a class="code" href="../../d7/d2/output_8h.html#a0">CONSOLE_TEXTMODE_BUFFER</a>) {
06012             ++nScreen;
06013         }
06014     }
06015 <span class="preprocessor">#if DBG</span>
06016 <span class="preprocessor"></span>    nScreenSave = nScreen;
06017 <span class="preprocessor">#endif</span>
06018 <span class="preprocessor"></span>
06019     <span class="comment">//</span>
06020     <span class="comment">// Allocate the temporary buffer to store the old values</span>
06021     <span class="comment">//</span>
06022     pDbcsScreenBuffer = <a class="code" href="../../d8/d5/consrv_8h.html#a36">ConsoleHeapAlloc</a>(<a class="code" href="../../d9/d2/ldrp_8h.html#a11">MAKE_TAG</a>(TMP_DBCS_TAG), <span class="keyword">sizeof</span> *pDbcsScreenBuffer * nScreen);
06023     <span class="keywordflow">if</span> (pDbcsScreenBuffer == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
06024         RIPMSG0(RIP_WARNING, <span class="stringliteral">"ReCreateDbcsScreenBuffer: not enough memory."</span>);
06025         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
06026     }
06027 
06028     <span class="comment">//</span>
06029     <span class="comment">// Try to allocate or de-allocate the necessary DBCS buffers</span>
06030     <span class="comment">//</span>
06031     <span class="keywordflow">for</span> (nScreen = 0, pScreenInfo = pConsole-&gt;ScreenBuffers; pScreenInfo; pScreenInfo = pScreenInfo-&gt;Next) {
06032         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>(nScreen &lt; nScreenSave);  <span class="comment">// make sure ScreenBuffers are not changed</span>
06033 
06034         <span class="comment">//</span>
06035         <span class="comment">// We only handle the text mode screen buffer.</span>
06036         <span class="comment">//</span>
06037         <span class="keywordflow">if</span> (pScreenInfo-&gt;Flags &amp; <a class="code" href="../../d7/d2/output_8h.html#a0">CONSOLE_TEXTMODE_BUFFER</a>) {
06038             <span class="comment">//</span>
06039             <span class="comment">// Save the previous value just in case something goes bad.</span>
06040             <span class="comment">//</span>
06041 <span class="preprocessor">#if DBG</span>
06042 <span class="preprocessor"></span>            pDbcsScreenBuffer[nScreen].pScreenInfo = pScreenInfo;
06043 <span class="preprocessor">#endif</span>
06044 <span class="preprocessor"></span>            pDbcsScreenBuffer[nScreen++].<a class="code" href="../../d1/d0/struct__DBCS__SCREEN__BUFFER__TRACKER.html#o0">data</a> = pScreenInfo-&gt;BufferInfo.TextInfo.DbcsScreenBuffer;
06045 
06046             <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d2/output_8c.html#a88">ReCreateDbcsScreenBufferWorker</a>(pConsole, pScreenInfo)) {
06047                 <span class="comment">//</span>
06048                 <span class="comment">// If we fail to ReCreate the DbcsScreenBuffer,</span>
06049                 <span class="comment">// free all allocation to this point, and restore the orginal.</span>
06050                 <span class="comment">//</span>
06051                 RIPMSG0(RIP_WARNING, <span class="stringliteral">"ReCreateDbcsScreenBuffer: failed to recreate dbcs screen buffer."</span>);
06052 
06053                 <span class="keywordflow">for</span> (i = 0, pScreenInfo = pConsole-&gt;ScreenBuffers; i &lt; nScreen;  pScreenInfo = pScreenInfo-&gt;Next) {
06054                     <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>(pScreenInfo);
06055 
06056                     <span class="keywordflow">if</span> (pScreenInfo-&gt;Flags &amp; <a class="code" href="../../d7/d2/output_8h.html#a0">CONSOLE_TEXTMODE_BUFFER</a>) {
06057                         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>(pDbcsScreenBuffer[i].pScreenInfo == pScreenInfo);
06058                         <span class="keywordflow">if</span> (i &lt; nScreen - 1) {
06059                             <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>(pScreenInfo-&gt;BufferInfo.TextInfo.DbcsScreenBuffer.KAttrRows != pDbcsScreenBuffer[i].data.KAttrRows);
06060                             <a class="code" href="../../d6/d2/output_8c.html#a87">DeleteDbcsScreenBuffer</a>(&amp;pScreenInfo-&gt;BufferInfo.TextInfo.DbcsScreenBuffer);
06061                         }
06062 
06063                         pScreenInfo-&gt;BufferInfo.TextInfo.DbcsScreenBuffer = pDbcsScreenBuffer[i++].<a class="code" href="../../d1/d0/struct__DBCS__SCREEN__BUFFER__TRACKER.html#o0">data</a>;
06064                     }
06065                 }
06066                 <span class="keywordflow">goto</span> <a class="code" href="../../d9/d1/fedefs_8h.html#a16">exit</a>;
06067             }
06068         }
06069     }
06070 
06071     <span class="comment">//</span>
06072     <span class="comment">// All allocation succeeded. Now we can delete the old allocation.</span>
06073     <span class="comment">//</span>
06074     <span class="keywordflow">for</span> (i = 0; i &lt; nScreen; ++i) {
06075         <a class="code" href="../../d6/d2/output_8c.html#a87">DeleteDbcsScreenBuffer</a>(&amp;pDbcsScreenBuffer[i].data);
06076     }
06077 
06078     fResult = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
06079 
06080 <a class="code" href="../../d9/d1/fedefs_8h.html#a16">exit</a>:
06081     <a class="code" href="../../d8/d5/consrv_8h.html#a38">ConsoleHeapFree</a>(pDbcsScreenBuffer);
06082 
06083     <span class="keywordflow">return</span> fResult;
06084 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a52" doxytag="dbcs.h::RegisterKeisenOfTTFont" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL RegisterKeisenOfTTFont           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ScreenInfo</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d7/d1/output_8c-source.html#l00834">CreateWindowsWindow()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a34" doxytag="dbcs.h::RemoveDbcsMark" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> RemoveDbcsMark           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PWCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>Dst</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PWCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>Src</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>NumBytes</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>SrcA</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN BOOL&nbsp;</td>
          <td class="mdname" nowrap> <em>OS2OemFormat</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a36" doxytag="dbcs.h::RemoveDbcsMarkAll" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> RemoveDbcsMarkAll           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ScreenInfo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d9/d4/struct__ROW.html">PROW</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Row</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a21">PSHORT</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>LeftChar</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PRECT&nbsp;</td>
          <td class="mdname" nowrap> <em>TextRect</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN int *&nbsp;</td>
          <td class="mdname" nowrap> <em>TextLeft</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PWCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a13">SHORT</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>NumberOfChars</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d9/d1/__output_8h-source.html#l02145">WWSB_ConsolePolyTextOut()</a>, and <a class="el" href="../../d9/d1/__output_8h-source.html#l00552">WWSB_WriteRegionToScreen()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a35" doxytag="dbcs.h::RemoveDbcsMarkCell" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> RemoveDbcsMarkCell           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PCHAR_INFO&nbsp;</td>
          <td class="mdname" nowrap> <em>Dst</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PCHAR_INFO&nbsp;</td>
          <td class="mdname" nowrap> <em>Src</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>NumBytes</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a47" doxytag="dbcs.h::SearchTTFont" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> LPTTFONTLIST SearchTTFont           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LPWSTR&nbsp;</td>
          <td class="mdname" nowrap> <em>pwszFace</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOL&nbsp;</td>
          <td class="mdname" nowrap> <em>fCodePage</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>CodePage</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a29" doxytag="dbcs.h::SetLineChar" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID SetLineChar           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ScreenInfo</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d7/d1/output_8c-source.html#l00485">CreateScreenBuffer()</a>, and <a class="el" href="../../d5/d9/w32_2ntcon_2server_2misc_8c-source.html#l01077">SetScreenBufferFont()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a62" doxytag="dbcs.h::SetRAMFont" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NTSTATUS SetRAMFont           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ScreenInfo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PCHAR_INFO&nbsp;</td>
          <td class="mdname" nowrap> <em>ScreenBufPtr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Length</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d8/d3/server_2private_8c-source.html#l03336">3336</a> of file <a class="el" href="../../d8/d3/server_2private_8c-source.html">server/private.c</a>.
<p>
References <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00078">tagSTRINGBITMAP::ajBits</a>, <a class="el" href="../../d7/d1/rtqkey_8c-source.html#l00045">BufferSize</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d7/d5/foncache_8h-source.html#l00074">BYTE_ALIGN</a>, <a class="el" href="../../d5/d5/fullscr_2vga_2foncache_8c-source.html#l00041">CalcBitmapBufferSize()</a>, <a class="el" href="../../d9/d4/consrv_8h-source.html#l00180">ConsoleHeapAlloc</a>, <a class="el" href="../../d9/d4/consrv_8h-source.html#l00193">ConsoleHeapFree</a>, <a class="el" href="../../d9/d4/consrv_8h-source.html#l00199">ConsoleHeapSize</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d5/ntcon_2server_2globals_8h-source.html#l00023">FontInfo</a>, <a class="el" href="../../d8/d3/server_2private_8c-source.html#l00115">_MODE_FONT_PAIR::FontSize</a>, <a class="el" href="../../d7/d5/foncache_8h-source.html#l00046">_FONT_CACHE_INFORMATION::FullScreenFontIndex</a>, <a class="el" href="../../d7/d5/foncache_8h-source.html#l00047">_FONT_CACHE_INFORMATION::FullScreenFontSize</a>, <a class="el" href="../../d6/d6/foncache_8h.html#a30">GetExpandFontImage()</a>, <a class="el" href="../../d6/d6/foncache_8h.html#a25">GetFontImage()</a>, <a class="el" href="../../d0/d3/dbcs_8h.html#a28">GetStringBitmapW()</a>, <a class="el" href="../../d0/d2/ldrp_8h-source.html#l00457">MAKE_TAG</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00069">RegModeFontPairs</a>, <a class="el" href="../../d6/d6/foncache_8h.html#a28">SetFontImage()</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00062">SHORT</a>, <a class="el" href="../../d3/d0/cttoken_8c-source.html#l00135">Status</a>, and <a class="el" href="../../d7/d5/foncache_8h-source.html#l00075">WORD_ALIGN</a>.
<p>
Referenced by <a class="el" href="../../d0/d2/__priv_8h-source.html#l00041">FE_WriteRegionToScreenHW()</a>.
<p>
<pre class="fragment"><div>03341 {
03342     ULONG ModeIndex = ScreenInfo-&gt;BufferInfo.TextInfo.ModeIndex;
03343     COORD FsFontSize1 = <a class="code" href="../../d0/d3/dbcs_8h.html#a24">RegModeFontPairs</a>[ModeIndex].<a class="code" href="../../d9/d8/struct__MODE__FONT__PAIR.html#o3">FontSize</a>;
03344     COORD FsFontSize2 = FsFontSize1;
03345     COORD GdiFontSize1;
03346     COORD GdiFontSize2;
03347     COORD RetFontSize;
03348     WCHAR wCharBuf[2];
03349     <a class="code" href="../../d4/d7/structtagSTRINGBITMAP.html">LPSTRINGBITMAP</a> StringBitmap;
03350     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d6/d2/rtqkey_8c.html#a5">BufferSize</a>;
03351     PWORD FontImage;
03352     <a class="code" href="../../d1/d9/struct__FONT__CACHE__INFORMATION.html">PFONT_CACHE_INFORMATION</a> FontCache;
03353     HFONT hOldFont;
03354     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
03355 
03356     FontCache = (<a class="code" href="../../d1/d9/struct__FONT__CACHE__INFORMATION.html">PFONT_CACHE_INFORMATION</a>)ScreenInfo-&gt;Console-&gt;FontCacheInformation;
03357     <span class="keywordflow">if</span> (FontCache==<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
03358     {
03359         RIPMSG0(RIP_ERROR, <span class="stringliteral">"SetRAMFont: ScreenInfo-&gt;Console-&gt;FontCacheInformation == NULL."</span>);
03360         <span class="keywordflow">return</span> STATUS_UNSUCCESSFUL;
03361     }
03362 
03363     GdiFontSize1 = FontCache-&gt;<a class="code" href="../../d1/d9/struct__FONT__CACHE__INFORMATION.html#o1">FullScreenFontSize</a>;
03364     GdiFontSize2 = GdiFontSize1;
03365     GdiFontSize2.X *= 2;
03366     FsFontSize2.X *= 2;
03367 
03368     <a class="code" href="../../d6/d2/rtqkey_8c.html#a5">BufferSize</a> = <a class="code" href="../../d6/d6/foncache_8h.html#a29">CalcBitmapBufferSize</a>(GdiFontSize2,BYTE_ALIGN);
03369     StringBitmap = <a class="code" href="../../d8/d5/consrv_8h.html#a36">ConsoleHeapAlloc</a>( <a class="code" href="../../d9/d2/ldrp_8h.html#a11">MAKE_TAG</a>(TMP_DBCS_TAG),
03370                              <span class="keyword">sizeof</span>(<a class="code" href="../../d4/d7/structtagSTRINGBITMAP.html">STRINGBITMAP</a>) + <span class="keyword">sizeof</span>(StringBitmap-&gt;<a class="code" href="../../d4/d7/structtagSTRINGBITMAP.html#o2">ajBits</a>) * BufferSize);
03371     <span class="keywordflow">if</span> (StringBitmap==<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
03372     {
03373         RIPMSG0(RIP_WARNING, <span class="stringliteral">"SetRAMFont: failed to allocate StringBitmap"</span>);
03374         <span class="keywordflow">return</span> STATUS_UNSUCCESSFUL;
03375     }
03376 
03377     <span class="comment">/*</span>
03378 <span class="comment">     * Change GDI font to full screen font that best matched.</span>
03379 <span class="comment">     */</span>
03380     hOldFont = SelectObject(ScreenInfo-&gt;Console-&gt;hDC,FontInfo[FontCache-&gt;<a class="code" href="../../d1/d9/struct__FONT__CACHE__INFORMATION.html#o0">FullScreenFontIndex</a>].hFont);
03381 
03382     <span class="keywordflow">while</span> (Length--)
03383     {
03384         <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d6/d6/foncache_8h.html#a25">GetFontImage</a>(ScreenInfo-&gt;Console-&gt;FontCacheInformation,
03385                               ScreenBufPtr-&gt;Char.UnicodeChar,
03386                               (ScreenBufPtr-&gt;Attributes &amp; COMMON_LVB_SBCSDBCS) ? FsFontSize2 : FsFontSize1,
03387                               0,
03388                               NULL);
03389         <span class="keywordflow">if</span> (! <a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(Status) )
03390         {
03391             wCharBuf[0] = ScreenBufPtr-&gt;Char.UnicodeChar;
03392             wCharBuf[1] = TEXT(<span class="charliteral">'\0'</span>);
03393             <a class="code" href="../../d0/d3/dbcs_8h.html#a28">GetStringBitmapW</a>(ScreenInfo-&gt;Console-&gt;hDC,
03394                              wCharBuf,
03395                              1,
03396                              (ULONG)<a class="code" href="../../d8/d5/consrv_8h.html#a39">ConsoleHeapSize</a>(StringBitmap),
03397                              (BYTE*)StringBitmap
03398                             );
03399 
03400             RetFontSize.X = (<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a13">SHORT</a>)StringBitmap-&gt;uiWidth;
03401             RetFontSize.Y = (<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a13">SHORT</a>)StringBitmap-&gt;uiHeight;
03402 
03403             <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d6/d6/foncache_8h.html#a28">SetFontImage</a>(ScreenInfo-&gt;Console-&gt;FontCacheInformation,
03404                                   ScreenBufPtr-&gt;Char.UnicodeChar,
03405                                   RetFontSize,
03406                                   BYTE_ALIGN,
03407                                   StringBitmap-&gt;ajBits
03408                                  );
03409             <span class="keywordflow">if</span> (! <a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(Status)) {
03410                 RIPMSG3(RIP_WARNING, <span class="stringliteral">"SetRAMFont: failed to set font image. wc=%04x sz=(%x,%x)"</span>,
03411                         ScreenBufPtr-&gt;Char.UnicodeChar, RetFontSize.X, RetFontSize.Y);
03412             }
03413 
03414             <span class="keywordflow">if</span> ( ( (ScreenBufPtr-&gt;Attributes &amp; COMMON_LVB_SBCSDBCS) &amp;&amp;
03415                     (GdiFontSize2.X != FsFontSize2.X || GdiFontSize2.Y != FsFontSize2.Y)) ||
03416                  (!(ScreenBufPtr-&gt;Attributes &amp; COMMON_LVB_SBCSDBCS) &amp;&amp;
03417                     (GdiFontSize1.X != FsFontSize1.X || GdiFontSize1.Y != FsFontSize1.Y))    )
03418             {
03419                 <a class="code" href="../../d6/d2/rtqkey_8c.html#a5">BufferSize</a> = <a class="code" href="../../d6/d6/foncache_8h.html#a29">CalcBitmapBufferSize</a>(FsFontSize2,WORD_ALIGN);
03420                 FontImage = <a class="code" href="../../d8/d5/consrv_8h.html#a36">ConsoleHeapAlloc</a>( <a class="code" href="../../d9/d2/ldrp_8h.html#a11">MAKE_TAG</a>(TMP_DBCS_TAG),
03421                                       BufferSize
03422                                      );
03423                 <span class="keywordflow">if</span> (FontImage!=<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03424 
03425                     <a class="code" href="../../d6/d6/foncache_8h.html#a30">GetExpandFontImage</a>(ScreenInfo-&gt;Console-&gt;FontCacheInformation,
03426                                        ScreenBufPtr-&gt;Char.UnicodeChar,
03427                                        (ScreenBufPtr-&gt;Attributes &amp; COMMON_LVB_SBCSDBCS) ? GdiFontSize2 : GdiFontSize1,
03428                                        (ScreenBufPtr-&gt;Attributes &amp; COMMON_LVB_SBCSDBCS) ? FsFontSize2 : FsFontSize1,
03429                                        FontImage
03430                                       );
03431 
03432                     <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d6/d6/foncache_8h.html#a28">SetFontImage</a>(ScreenInfo-&gt;Console-&gt;FontCacheInformation,
03433                                           ScreenBufPtr-&gt;Char.UnicodeChar,
03434                                           (ScreenBufPtr-&gt;Attributes &amp; COMMON_LVB_SBCSDBCS) ? FsFontSize2 : FsFontSize1,
03435                                           WORD_ALIGN,
03436                                           FontImage
03437                                          );
03438                     <span class="keywordflow">if</span> (! <a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(Status)) {
03439                         RIPMSG3(RIP_WARNING, <span class="stringliteral">"SetRAMFont: failed to set font image. wc=%04x sz=(%x,%x)"</span>,
03440                                 ScreenBufPtr-&gt;Char.UnicodeChar,
03441                                 ((ScreenBufPtr-&gt;Attributes &amp; COMMON_LVB_SBCSDBCS) ? FsFontSize2 : FsFontSize1).X,
03442                                 ((ScreenBufPtr-&gt;Attributes &amp; COMMON_LVB_SBCSDBCS) ? FsFontSize2 : FsFontSize1).Y);
03443                     }
03444 
03445                     <a class="code" href="../../d8/d5/consrv_8h.html#a38">ConsoleHeapFree</a>(FontImage);
03446                 } <span class="keywordflow">else</span> {
03447                     RIPMSG0(RIP_WARNING, <span class="stringliteral">"SetRAMFont: failed to allocate FontImage."</span>);
03448                 }
03449             }
03450         }
03451 
03452         <span class="keywordflow">if</span> (ScreenBufPtr-&gt;Attributes &amp; COMMON_LVB_SBCSDBCS)
03453         {
03454             ScreenBufPtr += 2;
03455             <span class="keywordflow">if</span> (Length &gt;= 1)
03456                 Length -= 1;
03457             <span class="keywordflow">else</span>
03458                 <span class="keywordflow">break</span>;
03459         }
03460         <span class="keywordflow">else</span>
03461         {
03462             ScreenBufPtr++;
03463         }
03464     }
03465 
03466     <a class="code" href="../../d8/d5/consrv_8h.html#a38">ConsoleHeapFree</a>(StringBitmap);
03467 
03468     <span class="comment">/*</span>
03469 <span class="comment">     * Back to GDI font</span>
03470 <span class="comment">     */</span>
03471     SelectObject(ScreenInfo-&gt;Console-&gt;hDC,hOldFont);
03472 
03473     <span class="keywordflow">return</span> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
03474 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a61" doxytag="dbcs.h::SetRAMFontCodePage" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NTSTATUS SetRAMFontCodePage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ScreenInfo</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d8/d3/server_2private_8c-source.html#l03175">3175</a> of file <a class="el" href="../../d8/d3/server_2private_8c-source.html">server/private.c</a>.
<p>
References <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00078">tagSTRINGBITMAP::ajBits</a>, <a class="el" href="../../d7/d1/rtqkey_8c-source.html#l00045">BufferSize</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d7/d5/foncache_8h-source.html#l00074">BYTE_ALIGN</a>, <a class="el" href="../../d5/d5/fullscr_2vga_2foncache_8c-source.html#l00041">CalcBitmapBufferSize()</a>, <a class="el" href="../../d9/d4/consrv_8h-source.html#l00180">ConsoleHeapAlloc</a>, <a class="el" href="../../d9/d4/consrv_8h-source.html#l00193">ConsoleHeapFree</a>, <a class="el" href="../../d9/d4/consrv_8h-source.html#l00199">ConsoleHeapSize</a>, <a class="el" href="../../d6/d6/foncache_8h.html#a23">CreateFontCache()</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d5/ntcon_2server_2globals_8h-source.html#l00023">FontInfo</a>, <a class="el" href="../../d8/d3/server_2private_8c-source.html#l00115">_MODE_FONT_PAIR::FontSize</a>, <a class="el" href="../../d7/d5/foncache_8h-source.html#l00046">_FONT_CACHE_INFORMATION::FullScreenFontIndex</a>, <a class="el" href="../../d7/d5/foncache_8h-source.html#l00047">_FONT_CACHE_INFORMATION::FullScreenFontSize</a>, <a class="el" href="../../d6/d6/foncache_8h.html#a30">GetExpandFontImage()</a>, <a class="el" href="../../d0/d3/dbcs_8h.html#a28">GetStringBitmapW()</a>, <a class="el" href="../../d0/d3/dbcs_8h.html#a27">LPSTRINGBITMAP</a>, <a class="el" href="../../d0/d2/ldrp_8h-source.html#l00457">MAKE_TAG</a>, <a class="el" href="../../d0/d3/dbcs_8h.html#a43">MakeAltRasterFont()</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d7/d5/ntcon_2server_2globals_8h-source.html#l00025">OEMCP</a>, <a class="el" href="../../d6/d6/foncache_8h.html#a20">PFONT_CACHE_INFORMATION</a>, <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00069">RegModeFontPairs</a>, <a class="el" href="../../d9/d4/consrv_8h-source.html#l00124">SCR_FONTCODEPAGE()</a>, <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00055">_MODE_FONT_PAIR::ScreenSize</a>, <a class="el" href="../../d6/d6/foncache_8h.html#a28">SetFontImage()</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00062">SHORT</a>, <a class="el" href="../../d3/d0/cttoken_8c-source.html#l00135">Status</a>, <a class="el" href="../../d0/d3/dbcs_8h.html#a26">STRINGBITMAP</a>, and <a class="el" href="../../d7/d5/foncache_8h-source.html#l00075">WORD_ALIGN</a>.
<p>
Referenced by <a class="el" href="../../d0/d2/__priv_8h-source.html#l00041">FE_WriteRegionToScreenHW()</a>.
<p>
<pre class="fragment"><div>03178 {
03179     FSVIDEO_SCREEN_INFORMATION ScreenInformation;
03180     ULONG ModeIndex = ScreenInfo-&gt;BufferInfo.TextInfo.ModeIndex;
03181     COORD FontSize;
03182     WCHAR wChar;
03183     WCHAR wCharBuf[2];
03184     <a class="code" href="../../d4/d7/structtagSTRINGBITMAP.html">LPSTRINGBITMAP</a> StringBitmap;
03185     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d6/d2/rtqkey_8c.html#a5">BufferSize</a>;
03186     PWORD FontImage;
03187     <a class="code" href="../../d1/d9/struct__FONT__CACHE__INFORMATION.html">PFONT_CACHE_INFORMATION</a> FontCache;
03188     WCHAR AltFaceName[LF_FACESIZE];
03189     COORD AltFontSize;
03190     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>  AltFontFamily;
03191     ULONG AltFontIndex = 0;
03192     HFONT hOldFont;
03193     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
03194 
03195     ScreenInformation.ScreenSize = <a class="code" href="../../d0/d3/dbcs_8h.html#a24">RegModeFontPairs</a>[ModeIndex].<a class="code" href="../../d9/d8/struct__MODE__FONT__PAIR.html#o1">ScreenSize</a>;
03196     ScreenInformation.FontSize = <a class="code" href="../../d0/d3/dbcs_8h.html#a24">RegModeFontPairs</a>[ModeIndex].<a class="code" href="../../d9/d8/struct__MODE__FONT__PAIR.html#o3">FontSize</a>;
03197     <span class="keywordflow">if</span> (ScreenInfo-&gt;Console-&gt;FontCacheInformation == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
03198     {
03199         <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d6/d6/foncache_8h.html#a23">CreateFontCache</a>(&amp;FontCache);
03200         <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(Status)) {
03201             RIPMSG1(RIP_WARNING, <span class="stringliteral">"SetRAMFontCodePage: failed in CreateFontCache. Status=%08x"</span>, Status);
03202             <span class="keywordflow">return</span> STATUS_UNSUCCESSFUL;
03203         }
03204         (<a class="code" href="../../d1/d9/struct__FONT__CACHE__INFORMATION.html">PFONT_CACHE_INFORMATION</a>)ScreenInfo-&gt;Console-&gt;FontCacheInformation = FontCache;
03205 
03206         <a class="code" href="../../d0/d3/dbcs_8h.html#a43">MakeAltRasterFont</a>(<a class="code" href="../../d8/d5/consrv_8h.html#a68">SCR_FONTCODEPAGE</a>(ScreenInfo),
03207                           RegModeFontPairs[ModeIndex].FontSize,
03208                           &amp;AltFontSize, &amp;AltFontFamily, &amp;AltFontIndex, AltFaceName);
03209         FontCache-&gt;<a class="code" href="../../d1/d9/struct__FONT__CACHE__INFORMATION.html#o0">FullScreenFontIndex</a> = AltFontIndex;
03210         FontCache-&gt;<a class="code" href="../../d1/d9/struct__FONT__CACHE__INFORMATION.html#o1">FullScreenFontSize</a>  = AltFontSize;
03211 
03212         <a class="code" href="../../d6/d2/rtqkey_8c.html#a5">BufferSize</a> = <a class="code" href="../../d6/d6/foncache_8h.html#a29">CalcBitmapBufferSize</a>(FontCache-&gt;<a class="code" href="../../d1/d9/struct__FONT__CACHE__INFORMATION.html#o1">FullScreenFontSize</a>,BYTE_ALIGN);
03213         StringBitmap = <a class="code" href="../../d8/d5/consrv_8h.html#a36">ConsoleHeapAlloc</a>( <a class="code" href="../../d9/d2/ldrp_8h.html#a11">MAKE_TAG</a>(TMP_DBCS_TAG),
03214                                  <span class="keyword">sizeof</span>(<a class="code" href="../../d4/d7/structtagSTRINGBITMAP.html">STRINGBITMAP</a>) + <span class="keyword">sizeof</span>(StringBitmap-&gt;<a class="code" href="../../d4/d7/structtagSTRINGBITMAP.html#o2">ajBits</a>) * BufferSize);
03215         <span class="keywordflow">if</span> (StringBitmap==<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
03216         {
03217             RIPMSG0(RIP_WARNING, <span class="stringliteral">"SetRAMFontCodePage: failed to allocate StringBitmap"</span>);
03218             <span class="keywordflow">return</span> STATUS_UNSUCCESSFUL;
03219         }
03220 
03221 
03222         <span class="comment">/*</span>
03223 <span class="comment">         * Change GDI font to full screen font that best matched.</span>
03224 <span class="comment">         */</span>
03225         hOldFont = SelectObject(ScreenInfo-&gt;Console-&gt;hDC,FontInfo[FontCache-&gt;<a class="code" href="../../d1/d9/struct__FONT__CACHE__INFORMATION.html#o0">FullScreenFontIndex</a>].hFont);
03226 
03227 
03228         <span class="keywordflow">for</span> (wChar=0x00; wChar &lt; 0x80; wChar++) {
03229             wCharBuf[0] = wChar;
03230             wCharBuf[1] = TEXT(<span class="charliteral">'\0'</span>);
03231             <a class="code" href="../../d0/d3/dbcs_8h.html#a28">GetStringBitmapW</a>(ScreenInfo-&gt;Console-&gt;hDC,
03232                              wCharBuf,
03233                              1,
03234                              (ULONG)<a class="code" href="../../d8/d5/consrv_8h.html#a39">ConsoleHeapSize</a>(StringBitmap),
03235                              (BYTE*)StringBitmap
03236                             );
03237 
03238             FontSize.X = (<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a13">SHORT</a>)StringBitmap-&gt;uiWidth;
03239             FontSize.Y = (<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a13">SHORT</a>)StringBitmap-&gt;uiHeight;
03240 
03241 <span class="preprocessor">#if defined(LATER_DBCS_FOR_GRID_CHAR)  // by kazum</span>
03242 <span class="preprocessor"></span>            <a class="code" href="../../d6/d2/rtqkey_8c.html#a5">BufferSize</a> = <a class="code" href="../../d6/d6/foncache_8h.html#a29">CalcBitmapBufferSize</a>(FontSize,BYTE_ALIGN);
03243             *(StringBitmap-&gt;ajBits + <a class="code" href="../../d6/d2/rtqkey_8c.html#a5">BufferSize</a>) = 0;
03244             *(StringBitmap-&gt;ajBits + <a class="code" href="../../d6/d2/rtqkey_8c.html#a5">BufferSize</a> + 1) = 0;
03245 
03246             <span class="keywordflow">if</span> (gpGridCharacter) {
03247                 PGRID_CHARACTER_INFORMATION GridCharacter;
03248                 PWCHAR CodePoint;
03249 
03250                 GridCharacter = gpGridCharacter;
03251                 <span class="keywordflow">do</span> {
03252                     <span class="keywordflow">if</span> (GridCharacter-&gt;CodePage == <a class="code" href="../../d6/d6/ntcon_2server_2globals_8h.html#a2">OEMCP</a>) {
03253                         CodePoint = GridCharacter-&gt;CodePoint;
03254                         <span class="keywordflow">while</span> (*CodePoint) {
03255                             <span class="keywordflow">if</span> (*CodePoint == wChar) {
03256                                 <span class="keywordflow">if</span> (FontSize.X &lt;= 8)
03257                                     *(StringBitmap-&gt;ajBits + <a class="code" href="../../d6/d2/rtqkey_8c.html#a5">BufferSize</a>) = *(StringBitmap-&gt;ajBits + <a class="code" href="../../d6/d2/rtqkey_8c.html#a5">BufferSize</a> - 1);
03258                                 <span class="keywordflow">else</span> {
03259                                     *(StringBitmap-&gt;ajBits + <a class="code" href="../../d6/d2/rtqkey_8c.html#a5">BufferSize</a>) = *(StringBitmap-&gt;ajBits + <a class="code" href="../../d6/d2/rtqkey_8c.html#a5">BufferSize</a> - 2);
03260                                     *(StringBitmap-&gt;ajBits + <a class="code" href="../../d6/d2/rtqkey_8c.html#a5">BufferSize</a> + 1) = *(StringBitmap-&gt;ajBits + <a class="code" href="../../d6/d2/rtqkey_8c.html#a5">BufferSize</a> - 1);
03261                                 }
03262                                 <span class="keywordflow">break</span>;
03263                             }
03264                             <span class="keywordflow">else</span>
03265                                 CodePoint++;
03266                         }
03267                         <span class="keywordflow">break</span>;
03268                     }
03269                 } <span class="keywordflow">while</span> (GridCharacter = GridCharacter-&gt;pNext);
03270             }
03271 <span class="preprocessor">#endif // LATER_DBCS_FOR_GRID_CHAR  // by kazum</span>
03272 <span class="preprocessor"></span>
03273             <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d6/d6/foncache_8h.html#a28">SetFontImage</a>(ScreenInfo-&gt;Console-&gt;FontCacheInformation,
03274                                   wChar,
03275                                   FontSize,
03276                                   BYTE_ALIGN,
03277                                   StringBitmap-&gt;ajBits
03278                                  );
03279             <span class="keywordflow">if</span> (! <a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(Status)) {
03280                 RIPMSG3(RIP_WARNING, <span class="stringliteral">"SetRAMFontCodePage: failed to set font image. wc=%04x sz=(%x, %x)."</span>,
03281                         wChar, FontSize.X, FontSize.Y);
03282             }
03283 
03284             <span class="keywordflow">if</span> (FontSize.X != ScreenInformation.FontSize.X ||
03285                 FontSize.Y != ScreenInformation.FontSize.Y)
03286             {
03287                 <a class="code" href="../../d6/d2/rtqkey_8c.html#a5">BufferSize</a> = <a class="code" href="../../d6/d6/foncache_8h.html#a29">CalcBitmapBufferSize</a>(ScreenInformation.FontSize,WORD_ALIGN);
03288                 FontImage = <a class="code" href="../../d8/d5/consrv_8h.html#a36">ConsoleHeapAlloc</a>( <a class="code" href="../../d9/d2/ldrp_8h.html#a11">MAKE_TAG</a>(TMP_DBCS_TAG),
03289                                       BufferSize
03290                                      );
03291                 <span class="keywordflow">if</span> (FontImage!=<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03292 
03293                     <a class="code" href="../../d6/d6/foncache_8h.html#a30">GetExpandFontImage</a>(ScreenInfo-&gt;Console-&gt;FontCacheInformation,
03294                                        wChar,
03295                                        FontSize,
03296                                        ScreenInformation.FontSize,
03297                                        FontImage
03298                                       );
03299 
03300                     <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d6/d6/foncache_8h.html#a28">SetFontImage</a>(ScreenInfo-&gt;Console-&gt;FontCacheInformation,
03301                                           wChar,
03302                                           ScreenInformation.FontSize,
03303                                           WORD_ALIGN,
03304                                           FontImage
03305                                          );
03306                     <span class="keywordflow">if</span> (! <a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(Status)) {
03307                         RIPMSG3(RIP_WARNING, <span class="stringliteral">"SetRAMFontCodePage: failed to set font image. wc=%04x, sz=(%x,%x)"</span>,
03308                                 wChar, ScreenInformation.FontSize.X, ScreenInformation.FontSize.Y);
03309                     }
03310 
03311                     <a class="code" href="../../d8/d5/consrv_8h.html#a38">ConsoleHeapFree</a>(FontImage);
03312                 } <span class="keywordflow">else</span> {
03313                     RIPMSG0(RIP_WARNING, <span class="stringliteral">"SetRAMFontCodePage: failed to allocate FontImage."</span>);
03314                 }
03315             }
03316         }
03317 
03318         <a class="code" href="../../d8/d5/consrv_8h.html#a38">ConsoleHeapFree</a>(StringBitmap);
03319 
03320         <span class="comment">/*</span>
03321 <span class="comment">         * Back to GDI font</span>
03322 <span class="comment">         */</span>
03323         SelectObject(ScreenInfo-&gt;Console-&gt;hDC,hOldFont);
03324     }
03325 
03326     <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = GdiFullscreenControl(FullscreenControlSetScreenInformation,
03327                                   &amp;ScreenInformation,
03328                                   <span class="keyword">sizeof</span>(ScreenInformation),
03329                                   NULL,
03330                                   NULL);
03331 
03332     <span class="keywordflow">return</span> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
03333 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a42" doxytag="dbcs.h::TextOutCommonLVB" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID TextOutCommonLVB           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Console</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN WORD&nbsp;</td>
          <td class="mdname" nowrap> <em>Attributes</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN RECT&nbsp;</td>
          <td class="mdname" nowrap> <em>CommonLVBRect</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d9/d1/__output_8h-source.html#l02145">WWSB_ConsolePolyTextOut()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a41" doxytag="dbcs.h::TextOutEverything" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID TextOutEverything           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Console</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ScreenInfo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a13">SHORT</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>LeftWindowPos</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN OUT <a class="el" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a21">PSHORT</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>RightWindowPos</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN OUT <a class="el" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a21">PSHORT</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>CountOfAttr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a13">SHORT</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>CountOfAttrOriginal</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN OUT PBOOL&nbsp;</td>
          <td class="mdname" nowrap> <em>DoubleColorDBCS</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN BOOL&nbsp;</td>
          <td class="mdname" nowrap> <em>LocalEUDCFlag</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d9/d4/struct__ROW.html">PROW</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Row</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d3/d2/struct__ATTR__PAIR.html">PATTR_PAIR</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Attr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a13">SHORT</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>LeftTextPos</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a13">SHORT</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>RightTextPos</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN int&nbsp;</td>
          <td class="mdname" nowrap> <em>WindowRectLeft</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN RECT&nbsp;</td>
          <td class="mdname" nowrap> <em>WindowRect</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a13">SHORT</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>NumberOfChars</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d9/d1/__output_8h-source.html#l00552">WWSB_WriteRegionToScreen()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a53" doxytag="dbcs.h::TranslateUnicodeToOem" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ULONG TranslateUnicodeToOem           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Console</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PWCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>UnicodeBuffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>UnicodeCharCount</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>OUT PCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>AnsiBuffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>AnsiByteCount</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>OUT PINPUT_RECORD&nbsp;</td>
          <td class="mdname" nowrap> <em>DbcsLeadInpRec</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d1/d6/server_2stream_8c-source.html#l01237">CookedRead()</a>, <a class="el" href="../../d1/d6/server_2stream_8c-source.html#l00471">RawReadWaitRoutine()</a>, and <a class="el" href="../../d1/d6/server_2stream_8c-source.html#l01778">ReadChars()</a>.    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a15" doxytag="dbcs.h::DefaultFontFamily" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> <a class="el" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a11">DefaultFontFamily</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00045">45</a> of file <a class="el" href="../../d1/d2/dbcs_8h-source.html">dbcs.h</a>.
<p>
Referenced by <a class="el" href="../../d5/d9/w32_2ntcon_2server_2misc_8c-source.html#l00515">EnumerateFonts()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="dbcs.h::DefaultFontIndex" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ULONG <a class="el" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a12">DefaultFontIndex</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00043">43</a> of file <a class="el" href="../../d1/d2/dbcs_8h-source.html">dbcs.h</a>.
<p>
Referenced by <a class="el" href="../../d5/d9/w32_2ntcon_2server_2misc_8c-source.html#l00515">EnumerateFonts()</a>, <a class="el" href="../../d5/d9/w32_2ntcon_2server_2misc_8c-source.html#l00650">FindCreateFont()</a>, and <a class="el" href="../../d5/d9/w32_2ntcon_2server_2misc_8c-source.html#l00152">FontEnum()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="dbcs.h::DefaultFontSize" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> COORD <a class="el" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a10">DefaultFontSize</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00044">44</a> of file <a class="el" href="../../d1/d2/dbcs_8h-source.html">dbcs.h</a>.
<p>
Referenced by <a class="el" href="../../d5/d9/w32_2ntcon_2server_2misc_8c-source.html#l00515">EnumerateFonts()</a>, and <a class="el" href="../../d5/d9/w32_2ntcon_2server_2misc_8c-source.html#l00650">FindCreateFont()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a25" doxytag="dbcs.h::gRegFullScreenCodePage" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> SINGLE_LIST_ENTRY <a class="el" href="../../d0/d3/dbcs_8h.html#a25">gRegFullScreenCodePage</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00070">70</a> of file <a class="el" href="../../d1/d2/dbcs_8h-source.html">dbcs.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a23" doxytag="dbcs.h::NUMBER_OF_MODE_FONT_PAIRS" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="el" href="../../d0/d3/dbcs_8h.html#a23">NUMBER_OF_MODE_FONT_PAIRS</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00068">68</a> of file <a class="el" href="../../d1/d2/dbcs_8h-source.html">dbcs.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a21" doxytag="dbcs.h::RegColorBuffer" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PUCHAR <a class="el" href="../../d0/d3/dbcs_8h.html#a21">RegColorBuffer</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00066">66</a> of file <a class="el" href="../../d1/d2/dbcs_8h-source.html">dbcs.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a22" doxytag="dbcs.h::RegColorBufferNoTranslate" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PUCHAR <a class="el" href="../../d0/d3/dbcs_8h.html#a22">RegColorBufferNoTranslate</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00067">67</a> of file <a class="el" href="../../d1/d2/dbcs_8h-source.html">dbcs.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a20" doxytag="dbcs.h::RegInitialPalette" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a22">PUSHORT</a> <a class="el" href="../../d0/d3/dbcs_8h.html#a20">RegInitialPalette</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00065">65</a> of file <a class="el" href="../../d1/d2/dbcs_8h-source.html">dbcs.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a24" doxytag="dbcs.h::RegModeFontPairs" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d9/d8/struct__MODE__FONT__PAIR.html">PMODE_FONT_PAIR</a> <a class="el" href="../../d0/d3/dbcs_8h.html#a24">RegModeFontPairs</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d1/d2/dbcs_8h-source.html#l00069">69</a> of file <a class="el" href="../../d1/d2/dbcs_8h-source.html">dbcs.h</a>.
<p>
Referenced by <a class="el" href="../../d8/d3/server_2private_8c-source.html#l01567">DisplayModeTransition()</a>, <a class="el" href="../../d0/d2/__priv_8h-source.html#l00041">FE_WriteRegionToScreenHW()</a>, <a class="el" href="../../d8/d3/server_2private_8c-source.html#l02089">InitializeFullScreen()</a>, <a class="el" href="../../d8/d3/server_2private_8c-source.html#l03336">SetRAMFont()</a>, <a class="el" href="../../d8/d3/server_2private_8c-source.html#l03175">SetRAMFontCodePage()</a>, <a class="el" href="../../d8/d3/server_2private_8c-source.html#l02232">SrvGetConsoleHardwareState()</a>, <a class="el" href="../../d8/d3/server_2private_8c-source.html#l02280">SrvSetConsoleHardwareState()</a>, and <a class="el" href="../../d8/d3/server_2private_8c-source.html#l00980">UnregisterVDM()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:43:23 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
