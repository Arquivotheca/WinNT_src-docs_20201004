<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: ndismain.h Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>ndismain.h</h1><a href="../../d9/d5/ndismain_8h.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">//</span>
00002 <span class="comment">// Indicate that we're building for NT. NDIS_NT is always used for</span>
00003 <span class="comment">// miniport builds.</span>
00004 <span class="comment">//</span>
00005 
<a name="l00006"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a0">00006</a> <span class="preprocessor">#define NDIS_NT 1</span>
00007 <span class="preprocessor"></span>
00008 <span class="preprocessor">#if defined(NDIS_DOS)</span>
00009 <span class="preprocessor"></span><span class="preprocessor">#undef NDIS_DOS</span>
00010 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00011 <span class="preprocessor"></span>
00012 
00013 <span class="comment">//</span>
00014 <span class="comment">// Define status codes and event log codes.</span>
00015 <span class="comment">//</span>
00016 
00017 <span class="preprocessor">#include &lt;ntstatus.h&gt;</span>
00018 <span class="preprocessor">#include &lt;netevent.h&gt;</span>
00019 
00020 <span class="comment">//</span>
00021 <span class="comment">// Define a couple of extra types.</span>
00022 <span class="comment">//</span>
00023 
00024 <span class="preprocessor">#if !defined(_WINDEF_)          // these are defined in windows.h too</span>
<a name="l00025"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a264">00025</a> <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keywordtype">signed</span> <span class="keywordtype">int</span> <a class="code" href="../../d9/d5/ndismain_8h.html#a263">INT</a>, *<a class="code" href="../../d9/d5/ndismain_8h.html#a264">PINT</a>;
<a name="l00026"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a265">00026</a> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>, *<a class="code" href="../../d9/d5/ndismain_8h.html#a266">PUINT</a>;
00027 <span class="preprocessor">#endif</span>
00028 <span class="preprocessor"></span>
<a name="l00029"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a268">00029</a> <span class="keyword">typedef</span> UNICODE_STRING <a class="code" href="../../d9/d5/ndismain_8h.html#a267">NDIS_STRING</a>, *<a class="code" href="../../d9/d5/ndismain_8h.html#a268">PNDIS_STRING</a>;
00030 
00031 
00032 <span class="comment">//</span>
00033 <span class="comment">// Portability extentions</span>
00034 <span class="comment">//</span>
00035 
<a name="l00036"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a1">00036</a> <span class="preprocessor">#define NDIS_INIT_FUNCTION(_F)          alloc_text(INIT,_F)</span>
<a name="l00037"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a2">00037</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_PAGABLE_FUNCTION(_F)       alloc_text(PAGE,_F)</span>
<a name="l00038"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a3">00038</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_PAGEABLE_FUNCTION(_F)      alloc_text(PAGE,_F)</span>
00039 <span class="preprocessor"></span>
00040 <span class="comment">//</span>
00041 <span class="comment">// This file contains the definition of an NDIS_OID as</span>
00042 <span class="comment">// well as #defines for all the current OID values.</span>
00043 <span class="comment">//</span>
00044 
00045 <span class="comment">//</span>
00046 <span class="comment">// Define NDIS_STATUS and NDIS_HANDLE here</span>
00047 <span class="comment">//</span>
<a name="l00048"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a270">00048</a> <span class="keyword">typedef</span> PVOID <a class="code" href="../../d9/d5/ndismain_8h.html#a269">NDIS_HANDLE</a>, *<a class="code" href="../../d9/d5/ndismain_8h.html#a270">PNDIS_HANDLE</a>;
00049 
<a name="l00050"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a272">00050</a> <span class="keyword">typedef</span> <span class="keywordtype">int</span> <a class="code" href="../../d9/d5/ndismain_8h.html#a271">NDIS_STATUS</a>, *<a class="code" href="../../d9/d5/ndismain_8h.html#a272">PNDIS_STATUS</a>; <span class="comment">// note default size</span>
00051 
00052 <span class="preprocessor">#include &lt;ntddndis.h&gt;</span>
00053 
00054 <span class="comment">//</span>
00055 <span class="comment">// Ndis defines for configuration manager data structures</span>
00056 <span class="comment">//</span>
<a name="l00057"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a274">00057</a> <span class="keyword">typedef</span> CM_MCA_POS_DATA <a class="code" href="../../d9/d5/ndismain_8h.html#a273">NDIS_MCA_POS_DATA</a>, *<a class="code" href="../../d9/d5/ndismain_8h.html#a274">PNDIS_MCA_POS_DATA</a>;
<a name="l00058"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a276">00058</a> <span class="keyword">typedef</span> CM_EISA_SLOT_INFORMATION <a class="code" href="../../d9/d5/ndismain_8h.html#a275">NDIS_EISA_SLOT_INFORMATION</a>, *<a class="code" href="../../d9/d5/ndismain_8h.html#a276">PNDIS_EISA_SLOT_INFORMATION</a>;
<a name="l00059"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a278">00059</a> <span class="keyword">typedef</span> CM_EISA_FUNCTION_INFORMATION <a class="code" href="../../d9/d5/ndismain_8h.html#a277">NDIS_EISA_FUNCTION_INFORMATION</a>, *<a class="code" href="../../d9/d5/ndismain_8h.html#a278">PNDIS_EISA_FUNCTION_INFORMATION</a>;
00060 
00061 <span class="comment">//</span>
00062 <span class="comment">// Define an exported function.</span>
00063 <span class="comment">//</span>
00064 <span class="preprocessor">#if defined(NDIS_WRAPPER)</span>
00065 <span class="preprocessor"></span><span class="preprocessor">#define EXPORT</span>
00066 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00067"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a4">00067</a> <span class="preprocessor"></span><span class="preprocessor">#define EXPORT DECLSPEC_IMPORT</span>
00068 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00069 <span class="preprocessor"></span>
00070 <span class="comment">//</span>
00071 <span class="comment">// Memory manipulation functions.</span>
00072 <span class="comment">//</span>
<a name="l00073"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a5">00073</a> <span class="preprocessor">#define NdisMoveMemory(Destination, Source, Length)     RtlCopyMemory(Destination, Source, Length)</span>
<a name="l00074"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a6">00074</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisZeroMemory(Destination, Length)                     RtlZeroMemory(Destination, Length)</span>
<a name="l00075"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a7">00075</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisEqualMemory(Source1, Source2, Length)       RtlEqualMemory(Source1, Source2, Length)</span>
<a name="l00076"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a8">00076</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisFillMemory(Destination, Length, Fill)       RtlFillMemory(Destination, Length, Fill)</span>
<a name="l00077"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a9">00077</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisRetrieveUlong(Destination, Source)          RtlRetrieveUlong(Destination, Source)</span>
<a name="l00078"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a10">00078</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisStoreUlong(Destination, Value)                      RtlStoreUlong(Destination, Value)</span>
00079 <span class="preprocessor"></span>
<a name="l00080"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a11">00080</a> <span class="preprocessor">#define NDIS_STRING_CONST(x)    {sizeof(L##x)-2, sizeof(L##x), L##x}</span>
00081 <span class="preprocessor"></span>
00082 <span class="comment">//</span>
00083 <span class="comment">// On a RISC machine, I/O mapped memory can't be accessed with</span>
00084 <span class="comment">// the Rtl routines.</span>
00085 <span class="comment">//</span>
00086 <span class="preprocessor">#if defined(_M_IX86)</span>
00087 <span class="preprocessor"></span>
00088 <span class="preprocessor">#define NdisMoveMappedMemory(Destination,Source,Length) RtlCopyMemory(Destination,Source,Length)</span>
00089 <span class="preprocessor"></span><span class="preprocessor">#define NdisZeroMappedMemory(Destination,Length)                RtlZeroMemory(Destination,Length)</span>
00090 <span class="preprocessor"></span>
00091 <span class="preprocessor">#elif defined(_M_IA64)</span>
00092 <span class="preprocessor"></span>
00093 <span class="preprocessor">#define NdisMoveMappedMemory(Destination,Source,Length)                                         \</span>
00094 <span class="preprocessor">{                                                                                                                                                       \</span>
00095 <span class="preprocessor">        PUCHAR _Src = (Source);                                                                                                 \</span>
00096 <span class="preprocessor">        PUCHAR _Dest = (Destination);                                                                                   \</span>
00097 <span class="preprocessor">        PUCHAR _End = _Dest + (Length);                                                                                 \</span>
00098 <span class="preprocessor">        while (_Dest &lt; _End)                                                                                                    \</span>
00099 <span class="preprocessor">        {                                                                                                                                               \</span>
00100 <span class="preprocessor">                *_Dest++ = *_Src++;                                                                                                     \</span>
00101 <span class="preprocessor">        }                                                                                                                                               \</span>
00102 <span class="preprocessor">}</span>
00103 <span class="preprocessor"></span>
00104 <span class="preprocessor">#define NdisZeroMappedMemory(Destination,Length)                                                        \</span>
00105 <span class="preprocessor">{                                                                                                                                                       \</span>
00106 <span class="preprocessor">        PUCHAR _Dest = (Destination);                                                                                   \</span>
00107 <span class="preprocessor">        PUCHAR _End = _Dest + (Length);                                                                                 \</span>
00108 <span class="preprocessor">        while (_Dest &lt; _End)                                                                                                    \</span>
00109 <span class="preprocessor">        {                                                                                                                                               \</span>
00110 <span class="preprocessor">                *_Dest++ = 0;                                                                                                           \</span>
00111 <span class="preprocessor">        }                                                                                                                                               \</span>
00112 <span class="preprocessor">}</span>
00113 <span class="preprocessor"></span>
00114 <span class="preprocessor">#elif defined(_ALPHA_)</span>
00115 <span class="preprocessor"></span>
00116 <span class="preprocessor">#define NdisMoveMappedMemory(Destination,Source,Length)                                         \</span>
00117 <span class="preprocessor">{                                                                                                                                                       \</span>
00118 <span class="preprocessor">        PUCHAR _Src = (Source);                                                                                                 \</span>
00119 <span class="preprocessor">        PUCHAR _Dest = (Destination);                                                                                   \</span>
00120 <span class="preprocessor">        PUCHAR _End = _Dest + (Length);                                                                                 \</span>
00121 <span class="preprocessor">        while (_Dest &lt; _End)                                                                                                    \</span>
00122 <span class="preprocessor">        {                                                                                                                                               \</span>
00123 <span class="preprocessor">                NdisReadRegisterUchar(_Src, _Dest);                                                                     \</span>
00124 <span class="preprocessor">                _Src++;                                                                                                                         \</span>
00125 <span class="preprocessor">                _Dest++;                                                                                                                        \</span>
00126 <span class="preprocessor">        }                                                                                                                                               \</span>
00127 <span class="preprocessor">}</span>
00128 <span class="preprocessor"></span>
00129 <span class="preprocessor">#define NdisZeroMappedMemory(Destination,Length)                                                        \</span>
00130 <span class="preprocessor">{                                                                                                                                                       \</span>
00131 <span class="preprocessor">        PUCHAR _Dest = (Destination);                                                                                   \</span>
00132 <span class="preprocessor">        PUCHAR _End = _Dest + (Length);                                                                                 \</span>
00133 <span class="preprocessor">        while (_Dest &lt; _End)                                                                                                    \</span>
00134 <span class="preprocessor">        {                                                                                                                                               \</span>
00135 <span class="preprocessor">                NdisWriteRegisterUchar(_Dest,0);                                                                        \</span>
00136 <span class="preprocessor">                _Dest++;                                                                                                                        \</span>
00137 <span class="preprocessor">        }                                                                                                                                               \</span>
00138 <span class="preprocessor">}</span>
00139 <span class="preprocessor"></span>
00140 <span class="preprocessor">#endif</span>
00141 <span class="preprocessor"></span>
00142 
00143 <span class="comment">//</span>
00144 <span class="comment">// On Mips and Intel systems, these are the same. On Alpha, they are different.</span>
00145 <span class="comment">//</span>
00146 
00147 <span class="preprocessor">#if defined(_ALPHA_)</span>
00148 <span class="preprocessor"></span>
00149 <span class="preprocessor">#define NdisMoveToMappedMemory(Destination,Source,Length)                                       \</span>
00150 <span class="preprocessor">                                                        WRITE_REGISTER_BUFFER_UCHAR(Destination,Source,Length)</span>
00151 <span class="preprocessor"></span><span class="preprocessor">#define NdisMoveFromMappedMemory(Destination,Source,Length)                                     \</span>
00152 <span class="preprocessor">                                                        READ_REGISTER_BUFFER_UCHAR(Source,Destination,Length)</span>
00153 <span class="preprocessor"></span><span class="preprocessor">#else</span>
00154 <span class="preprocessor"></span>
<a name="l00155"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a12">00155</a> <span class="preprocessor">#define NdisMoveToMappedMemory(Destination,Source,Length)                                       \</span>
00156 <span class="preprocessor">                                                        NdisMoveMappedMemory(Destination,Source,Length)</span>
<a name="l00157"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a13">00157</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisMoveFromMappedMemory(Destination,Source,Length)                                     \</span>
00158 <span class="preprocessor">                                                        NdisMoveMappedMemory(Destination,Source,Length)</span>
00159 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00160 <span class="preprocessor"></span>
00161 
00162 <span class="comment">//</span>
00163 <span class="comment">// definition of the basic spin lock structure</span>
00164 <span class="comment">//</span>
00165 
<a name="l00166"></a><a class="code" href="../../d5/d7/struct__NDIS__SPIN__LOCK.html">00166</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d5/d7/struct__NDIS__SPIN__LOCK.html">_NDIS_SPIN_LOCK</a>
00167 {
<a name="l00168"></a><a class="code" href="../../d5/d7/struct__NDIS__SPIN__LOCK.html#o0">00168</a>         KSPIN_LOCK      <a class="code" href="../../d5/d7/struct__NDIS__SPIN__LOCK.html#o0">SpinLock</a>;
<a name="l00169"></a><a class="code" href="../../d5/d7/struct__NDIS__SPIN__LOCK.html#o1">00169</a>         KIRQL           <a class="code" href="../../d5/d7/struct__NDIS__SPIN__LOCK.html#o1">OldIrql</a>;
00170 } <a class="code" href="../../d5/d7/struct__NDIS__SPIN__LOCK.html">NDIS_SPIN_LOCK</a>, * <a class="code" href="../../d5/d7/struct__NDIS__SPIN__LOCK.html">PNDIS_SPIN_LOCK</a>;
00171 
00172 
00173 <span class="comment">//</span>
00174 <span class="comment">// definition of the ndis event structure</span>
00175 <span class="comment">//</span>
<a name="l00176"></a><a class="code" href="../../d9/d3/struct__NDIS__EVENT.html">00176</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d3/struct__NDIS__EVENT.html">_NDIS_EVENT</a>
00177 {
<a name="l00178"></a><a class="code" href="../../d9/d3/struct__NDIS__EVENT.html#o0">00178</a>         <a class="code" href="../../d2/d6/struct__KEVENT.html">KEVENT</a>          <a class="code" href="../../d9/d3/struct__NDIS__EVENT.html#o0">Event</a>;  
00179 } <a class="code" href="../../d9/d3/struct__NDIS__EVENT.html">NDIS_EVENT</a>, *<a class="code" href="../../d9/d3/struct__NDIS__EVENT.html">PNDIS_EVENT</a>;
00180 
<a name="l00181"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a283">00181</a> <span class="keyword">typedef</span> <a class="code" href="../../d0/d6/iop_8h.html#a145">VOID</a>    (*<a class="code" href="../../d9/d5/ndismain_8h.html#a283">NDIS_PROC</a>)(<span class="keyword">struct </span><a class="code" href="../../d7/d1/struct__NDIS__WORK__ITEM.html">_NDIS_WORK_ITEM</a> *, PVOID);
00182 
00183 <span class="comment">//</span>
00184 <span class="comment">// Definition of an ndis work-item</span>
00185 <span class="comment">//</span>
<a name="l00186"></a><a class="code" href="../../d7/d1/struct__NDIS__WORK__ITEM.html">00186</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d1/struct__NDIS__WORK__ITEM.html">_NDIS_WORK_ITEM</a>
00187 {
<a name="l00188"></a><a class="code" href="../../d7/d1/struct__NDIS__WORK__ITEM.html#o0">00188</a>         PVOID                   <a class="code" href="../../d7/d1/struct__NDIS__WORK__ITEM.html#o0">Context</a>;
<a name="l00189"></a><a class="code" href="../../d7/d1/struct__NDIS__WORK__ITEM.html#o1">00189</a>         <a class="code" href="../../d9/d5/ndismain_8h.html#a283">NDIS_PROC</a>               <a class="code" href="../../d7/d1/struct__NDIS__WORK__ITEM.html#o1">Routine</a>;
<a name="l00190"></a><a class="code" href="../../d7/d1/struct__NDIS__WORK__ITEM.html#o2">00190</a>         UCHAR                   <a class="code" href="../../d7/d1/struct__NDIS__WORK__ITEM.html#o2">WrapperReserved</a>[8*<span class="keyword">sizeof</span>(PVOID)];
00191 } <a class="code" href="../../d7/d1/struct__NDIS__WORK__ITEM.html">NDIS_WORK_ITEM</a>, *<a class="code" href="../../d7/d1/struct__NDIS__WORK__ITEM.html">PNDIS_WORK_ITEM</a>;
00192 
<a name="l00193"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a14">00193</a> <span class="preprocessor">#define NdisInterruptLatched                    Latched</span>
<a name="l00194"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a15">00194</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisInterruptLevelSensitive             LevelSensitive</span>
<a name="l00195"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a287">00195</a> <span class="preprocessor"></span><span class="keyword">typedef</span> <a class="code" href="../../d4/d9/ke_8h.html#a50">KINTERRUPT_MODE</a> <a class="code" href="../../d9/d5/ndismain_8h.html#a286">NDIS_INTERRUPT_MODE</a>, *<a class="code" href="../../d9/d5/ndismain_8h.html#a287">PNDIS_INTERRUPT_MODE</a>;
00196 
00197 <span class="comment">//</span>
00198 <span class="comment">// Configuration definitions</span>
00199 <span class="comment">//</span>
00200 
00201 <span class="comment">//</span>
00202 <span class="comment">// Possible data types</span>
00203 <span class="comment">//</span>
00204 
<a name="l00205"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a508">00205</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d9/d5/ndismain_8h.html#a508">_NDIS_PARAMETER_TYPE</a>
00206 {
00207         <a class="code" href="../../d9/d5/ndismain_8h.html#a508a381">NdisParameterInteger</a>,
00208         <a class="code" href="../../d9/d5/ndismain_8h.html#a508a382">NdisParameterHexInteger</a>,
00209         <a class="code" href="../../d9/d5/ndismain_8h.html#a508a383">NdisParameterString</a>,
00210         <a class="code" href="../../d9/d5/ndismain_8h.html#a508a384">NdisParameterMultiString</a>,
00211         <a class="code" href="../../d9/d5/ndismain_8h.html#a508a385">NdisParameterBinary</a>
00212 } <a class="code" href="../../d9/d5/ndismain_8h.html#a288">NDIS_PARAMETER_TYPE</a>, *<a class="code" href="../../d9/d5/ndismain_8h.html#a289">PNDIS_PARAMETER_TYPE</a>;
00213 
<a name="l00214"></a><a class="code" href="../../d0/d1/structBINARY__DATA.html">00214</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
00215 <span class="keyword"></span>{
<a name="l00216"></a><a class="code" href="../../d0/d1/structBINARY__DATA.html#o0">00216</a>         <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>                  Length;
<a name="l00217"></a><a class="code" href="../../d0/d1/structBINARY__DATA.html#o1">00217</a>         PVOID                   <a class="code" href="../../d6/d2/rtqkey_8c.html#a3">Buffer</a>;
00218 } <a class="code" href="../../d0/d1/structBINARY__DATA.html">BINARY_DATA</a>;
00219 
00220 <span class="comment">//</span>
00221 <span class="comment">// To store configuration information</span>
00222 <span class="comment">//</span>
<a name="l00223"></a><a class="code" href="../../d3/d3/struct__NDIS__CONFIGURATION__PARAMETER.html">00223</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d3/d3/struct__NDIS__CONFIGURATION__PARAMETER.html">_NDIS_CONFIGURATION_PARAMETER</a>
00224 {
<a name="l00225"></a><a class="code" href="../../d3/d3/struct__NDIS__CONFIGURATION__PARAMETER.html#o0">00225</a>         <a class="code" href="../../d9/d5/ndismain_8h.html#a288">NDIS_PARAMETER_TYPE</a> <a class="code" href="../../d3/d3/struct__NDIS__CONFIGURATION__PARAMETER.html#o0">ParameterType</a>;
00226         <span class="keyword">union</span>
00227 <span class="keyword">        </span>{
<a name="l00228"></a><a class="code" href="../../d3/d3/struct__NDIS__CONFIGURATION__PARAMETER.html#o1">00228</a>                 ULONG                   <a class="code" href="../../d3/d3/struct__NDIS__CONFIGURATION__PARAMETER.html#o1">IntegerData</a>;
<a name="l00229"></a><a class="code" href="../../d3/d3/struct__NDIS__CONFIGURATION__PARAMETER.html#o2">00229</a>                 <a class="code" href="../../d9/d5/ndismain_8h.html#a267">NDIS_STRING</a>             <a class="code" href="../../d3/d3/struct__NDIS__CONFIGURATION__PARAMETER.html#o2">StringData</a>;
<a name="l00230"></a><a class="code" href="../../d3/d3/struct__NDIS__CONFIGURATION__PARAMETER.html#o3">00230</a>                 <a class="code" href="../../d0/d1/structBINARY__DATA.html">BINARY_DATA</a>             <a class="code" href="../../d3/d3/struct__NDIS__CONFIGURATION__PARAMETER.html#o3">BinaryData</a>;
00231         } ParameterData;
00232 } <a class="code" href="../../d3/d3/struct__NDIS__CONFIGURATION__PARAMETER.html">NDIS_CONFIGURATION_PARAMETER</a>, *<a class="code" href="../../d3/d3/struct__NDIS__CONFIGURATION__PARAMETER.html">PNDIS_CONFIGURATION_PARAMETER</a>;
00233 
00234 
00235 <span class="comment">//</span>
00236 <span class="comment">// Definitions for the "ProcessorType" keyword</span>
00237 <span class="comment">//</span>
<a name="l00238"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a509">00238</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d9/d5/ndismain_8h.html#a509">_NDIS_PROCESSOR_TYPE</a>
00239 {
00240         <a class="code" href="../../d9/d5/ndismain_8h.html#a509a386">NdisProcessorX86</a>,
00241         <a class="code" href="../../d9/d5/ndismain_8h.html#a509a387">NdisProcessorMips</a>,
00242         <a class="code" href="../../d9/d5/ndismain_8h.html#a509a388">NdisProcessorAlpha</a>,
00243         <a class="code" href="../../d9/d5/ndismain_8h.html#a509a389">NdisProcessorPpc</a>
00244 } <a class="code" href="../../d9/d5/ndismain_8h.html#a292">NDIS_PROCESSOR_TYPE</a>, *<a class="code" href="../../d9/d5/ndismain_8h.html#a293">PNDIS_PROCESSOR_TYPE</a>;
00245 
00246 <span class="comment">//</span>
00247 <span class="comment">// Definitions for the "Environment" keyword</span>
00248 <span class="comment">//</span>
<a name="l00249"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a510">00249</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d9/d5/ndismain_8h.html#a510">_NDIS_ENVIRONMENT_TYPE</a>
00250 {
00251         <a class="code" href="../../d9/d5/ndismain_8h.html#a510a390">NdisEnvironmentWindows</a>,
00252         <a class="code" href="../../d9/d5/ndismain_8h.html#a510a391">NdisEnvironmentWindowsNt</a>
00253 } <a class="code" href="../../d9/d5/ndismain_8h.html#a294">NDIS_ENVIRONMENT_TYPE</a>, *<a class="code" href="../../d9/d5/ndismain_8h.html#a295">PNDIS_ENVIRONMENT_TYPE</a>;
00254 
00255 
00256 <span class="comment">//</span>
00257 <span class="comment">// Possible Hardware Architecture. Define these to</span>
00258 <span class="comment">// match the HAL INTERFACE_TYPE enum.</span>
00259 <span class="comment">//</span>
<a name="l00260"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a511">00260</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d9/d5/ndismain_8h.html#a511">_NDIS_INTERFACE_TYPE</a>
00261 {
00262         <a class="code" href="../../d9/d5/ndismain_8h.html#a511a392">NdisInterfaceInternal</a> = Internal,
00263         <a class="code" href="../../d9/d5/ndismain_8h.html#a511a393">NdisInterfaceIsa</a> = Isa,
00264         <a class="code" href="../../d9/d5/ndismain_8h.html#a511a394">NdisInterfaceEisa</a> = Eisa,
00265         <a class="code" href="../../d9/d5/ndismain_8h.html#a511a395">NdisInterfaceMca</a> = MicroChannel,
00266         <a class="code" href="../../d9/d5/ndismain_8h.html#a511a396">NdisInterfaceTurboChannel</a> = TurboChannel,
00267         <a class="code" href="../../d9/d5/ndismain_8h.html#a511a397">NdisInterfacePci</a> = PCIBus,
00268         <a class="code" href="../../d9/d5/ndismain_8h.html#a511a398">NdisInterfacePcMcia</a> = PCMCIABus
00269 } <a class="code" href="../../d9/d5/ndismain_8h.html#a296">NDIS_INTERFACE_TYPE</a>, *<a class="code" href="../../d9/d5/ndismain_8h.html#a297">PNDIS_INTERFACE_TYPE</a>;
00270 
00271 <span class="comment">//</span>
00272 <span class="comment">// Definition for shutdown handler</span>
00273 <span class="comment">//</span>
00274 
00275 <span class="keyword">typedef</span>
00276 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
<a name="l00277"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a298">00277</a> (*ADAPTER_SHUTDOWN_HANDLER) (
00278         IN      PVOID ShutdownContext
00279         );
00280 
00281 <span class="comment">//</span>
00282 <span class="comment">// Stuff for PCI configuring</span>
00283 <span class="comment">//</span>
00284 
<a name="l00285"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a300">00285</a> <span class="keyword">typedef</span> CM_PARTIAL_RESOURCE_LIST <a class="code" href="../../d9/d5/ndismain_8h.html#a299">NDIS_RESOURCE_LIST</a>, *<a class="code" href="../../d9/d5/ndismain_8h.html#a300">PNDIS_RESOURCE_LIST</a>;
00286 
00287 
00288 <span class="comment">//</span>
00289 <span class="comment">// The structure passed up on a WAN_LINE_UP indication</span>
00290 <span class="comment">//</span>
00291 
<a name="l00292"></a><a class="code" href="../../d2/d1/struct__NDIS__WAN__LINE__UP.html">00292</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d2/d1/struct__NDIS__WAN__LINE__UP.html">_NDIS_WAN_LINE_UP</a>
00293 {
<a name="l00294"></a><a class="code" href="../../d2/d1/struct__NDIS__WAN__LINE__UP.html#o0">00294</a>         IN ULONG                                <a class="code" href="../../d2/d1/struct__NDIS__WAN__LINE__UP.html#o0">LinkSpeed</a>;                      <span class="comment">// 100 bps units</span>
<a name="l00295"></a><a class="code" href="../../d2/d1/struct__NDIS__WAN__LINE__UP.html#o1">00295</a>         IN ULONG                                <a class="code" href="../../d2/d1/struct__NDIS__WAN__LINE__UP.html#o1">MaximumTotalSize</a>;       <span class="comment">// suggested max for send packets</span>
<a name="l00296"></a><a class="code" href="../../d2/d1/struct__NDIS__WAN__LINE__UP.html#o2">00296</a>         IN NDIS_WAN_QUALITY             <a class="code" href="../../d2/d1/struct__NDIS__WAN__LINE__UP.html#o2">Quality</a>;
<a name="l00297"></a><a class="code" href="../../d2/d1/struct__NDIS__WAN__LINE__UP.html#o3">00297</a>         IN <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>                               <a class="code" href="../../d2/d1/struct__NDIS__WAN__LINE__UP.html#o3">SendWindow</a>;                     <span class="comment">// suggested by the MAC</span>
<a name="l00298"></a><a class="code" href="../../d2/d1/struct__NDIS__WAN__LINE__UP.html#o4">00298</a>         IN UCHAR                                <a class="code" href="../../d2/d1/struct__NDIS__WAN__LINE__UP.html#o4">RemoteAddress</a>[6];
<a name="l00299"></a><a class="code" href="../../d2/d1/struct__NDIS__WAN__LINE__UP.html#o5">00299</a>         IN OUT UCHAR                    <a class="code" href="../../d2/d1/struct__NDIS__WAN__LINE__UP.html#o5">LocalAddress</a>[6];
<a name="l00300"></a><a class="code" href="../../d2/d1/struct__NDIS__WAN__LINE__UP.html#o6">00300</a>         IN ULONG                                <a class="code" href="../../d2/d1/struct__NDIS__WAN__LINE__UP.html#o6">ProtocolBufferLength</a>;   <span class="comment">// Length of protocol info buffer</span>
<a name="l00301"></a><a class="code" href="../../d2/d1/struct__NDIS__WAN__LINE__UP.html#o7">00301</a>         IN PUCHAR                               <a class="code" href="../../d2/d1/struct__NDIS__WAN__LINE__UP.html#o7">ProtocolBuffer</a>;         <span class="comment">// Information used by protocol</span>
<a name="l00302"></a><a class="code" href="../../d2/d1/struct__NDIS__WAN__LINE__UP.html#o8">00302</a>         IN <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>                               <a class="code" href="../../d2/d1/struct__NDIS__WAN__LINE__UP.html#o8">ProtocolType</a>;           <span class="comment">// Protocol ID</span>
<a name="l00303"></a><a class="code" href="../../d2/d1/struct__NDIS__WAN__LINE__UP.html#o9">00303</a>         IN OUT <a class="code" href="../../d9/d5/ndismain_8h.html#a267">NDIS_STRING</a>              <a class="code" href="../../d2/d1/struct__NDIS__WAN__LINE__UP.html#o9">DeviceName</a>;
00304 } <a class="code" href="../../d2/d1/struct__NDIS__WAN__LINE__UP.html">NDIS_WAN_LINE_UP</a>, *<a class="code" href="../../d2/d1/struct__NDIS__WAN__LINE__UP.html">PNDIS_WAN_LINE_UP</a>;
00305 
00306 <span class="comment">//</span>
00307 <span class="comment">// The structure passed up on a WAN_LINE_DOWN indication</span>
00308 <span class="comment">//</span>
00309 
<a name="l00310"></a><a class="code" href="../../d1/d1/struct__NDIS__WAN__LINE__DOWN.html">00310</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d1/d1/struct__NDIS__WAN__LINE__DOWN.html">_NDIS_WAN_LINE_DOWN</a>
00311 {
<a name="l00312"></a><a class="code" href="../../d1/d1/struct__NDIS__WAN__LINE__DOWN.html#o0">00312</a>         IN UCHAR        <a class="code" href="../../d1/d1/struct__NDIS__WAN__LINE__DOWN.html#o0">RemoteAddress</a>[6];
<a name="l00313"></a><a class="code" href="../../d1/d1/struct__NDIS__WAN__LINE__DOWN.html#o1">00313</a>         IN UCHAR        <a class="code" href="../../d1/d1/struct__NDIS__WAN__LINE__DOWN.html#o1">LocalAddress</a>[6];
00314 } <a class="code" href="../../d1/d1/struct__NDIS__WAN__LINE__DOWN.html">NDIS_WAN_LINE_DOWN</a>, *<a class="code" href="../../d1/d1/struct__NDIS__WAN__LINE__DOWN.html">PNDIS_WAN_LINE_DOWN</a>;
00315 
00316 <span class="comment">//</span>
00317 <span class="comment">// The structure passed up on a WAN_FRAGMENT indication</span>
00318 <span class="comment">//</span>
00319 
<a name="l00320"></a><a class="code" href="../../d4/d0/struct__NDIS__WAN__FRAGMENT.html">00320</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d4/d0/struct__NDIS__WAN__FRAGMENT.html">_NDIS_WAN_FRAGMENT</a>
00321 {
<a name="l00322"></a><a class="code" href="../../d4/d0/struct__NDIS__WAN__FRAGMENT.html#o0">00322</a>         IN UCHAR        <a class="code" href="../../d4/d0/struct__NDIS__WAN__FRAGMENT.html#o0">RemoteAddress</a>[6];
<a name="l00323"></a><a class="code" href="../../d4/d0/struct__NDIS__WAN__FRAGMENT.html#o1">00323</a>         IN UCHAR        <a class="code" href="../../d4/d0/struct__NDIS__WAN__FRAGMENT.html#o1">LocalAddress</a>[6];
00324 } <a class="code" href="../../d4/d0/struct__NDIS__WAN__FRAGMENT.html">NDIS_WAN_FRAGMENT</a>, *<a class="code" href="../../d4/d0/struct__NDIS__WAN__FRAGMENT.html">PNDIS_WAN_FRAGMENT</a>;
00325 
00326 <span class="comment">//</span>
00327 <span class="comment">// The structure passed up on a WAN_GET_STATS indication</span>
00328 <span class="comment">//</span>
00329 
<a name="l00330"></a><a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html">00330</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html">_NDIS_WAN_GET_STATS</a>
00331 {
<a name="l00332"></a><a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o0">00332</a>         IN  UCHAR       <a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o0">LocalAddress</a>[6];
<a name="l00333"></a><a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o1">00333</a>         OUT ULONG       <a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o1">BytesSent</a>;
<a name="l00334"></a><a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o2">00334</a>         OUT ULONG       <a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o2">BytesRcvd</a>;
<a name="l00335"></a><a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o3">00335</a>         OUT ULONG       <a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o3">FramesSent</a>;
<a name="l00336"></a><a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o4">00336</a>         OUT ULONG       <a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o4">FramesRcvd</a>;
<a name="l00337"></a><a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o5">00337</a>         OUT ULONG       <a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o5">CRCErrors</a>;                                              <span class="comment">// Serial-like info only</span>
<a name="l00338"></a><a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o6">00338</a>         OUT ULONG       <a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o6">TimeoutErrors</a>;                                  <span class="comment">// Serial-like info only</span>
<a name="l00339"></a><a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o7">00339</a>         OUT ULONG       <a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o7">AlignmentErrors</a>;                                <span class="comment">// Serial-like info only</span>
<a name="l00340"></a><a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o8">00340</a>         OUT ULONG       <a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o8">SerialOverrunErrors</a>;                    <span class="comment">// Serial-like info only</span>
<a name="l00341"></a><a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o9">00341</a>         OUT ULONG       <a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o9">FramingErrors</a>;                                  <span class="comment">// Serial-like info only</span>
<a name="l00342"></a><a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o10">00342</a>         OUT ULONG       <a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o10">BufferOverrunErrors</a>;                    <span class="comment">// Serial-like info only</span>
<a name="l00343"></a><a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o11">00343</a>         OUT ULONG       <a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o11">BytesTransmittedUncompressed</a>;   <span class="comment">// Compression info only</span>
<a name="l00344"></a><a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o12">00344</a>         OUT ULONG       <a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o12">BytesReceivedUncompressed</a>;              <span class="comment">// Compression info only</span>
<a name="l00345"></a><a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o13">00345</a>         OUT ULONG       <a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o13">BytesTransmittedCompressed</a>;             <span class="comment">// Compression info only</span>
<a name="l00346"></a><a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o14">00346</a>         OUT ULONG       <a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html#o14">BytesReceivedCompressed</a>;                <span class="comment">// Compression info only</span>
00347 } <a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html">NDIS_WAN_GET_STATS</a>, *<a class="code" href="../../d8/d0/struct__NDIS__WAN__GET__STATS.html">PNDIS_WAN_GET_STATS</a>;
00348 
00349 
00350 <span class="comment">//</span>
00351 <span class="comment">// DMA Channel information</span>
00352 <span class="comment">//</span>
<a name="l00353"></a><a class="code" href="../../d6/d3/struct__NDIS__DMA__DESCRIPTION.html">00353</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d6/d3/struct__NDIS__DMA__DESCRIPTION.html">_NDIS_DMA_DESCRIPTION</a>
00354 {
<a name="l00355"></a><a class="code" href="../../d6/d3/struct__NDIS__DMA__DESCRIPTION.html#o0">00355</a>         BOOLEAN         <a class="code" href="../../d6/d3/struct__NDIS__DMA__DESCRIPTION.html#o0">DemandMode</a>;
<a name="l00356"></a><a class="code" href="../../d6/d3/struct__NDIS__DMA__DESCRIPTION.html#o1">00356</a>         BOOLEAN         <a class="code" href="../../d6/d3/struct__NDIS__DMA__DESCRIPTION.html#o1">AutoInitialize</a>;
<a name="l00357"></a><a class="code" href="../../d6/d3/struct__NDIS__DMA__DESCRIPTION.html#o2">00357</a>         BOOLEAN         <a class="code" href="../../d6/d3/struct__NDIS__DMA__DESCRIPTION.html#o2">DmaChannelSpecified</a>;
<a name="l00358"></a><a class="code" href="../../d6/d3/struct__NDIS__DMA__DESCRIPTION.html#o3">00358</a>         DMA_WIDTH       <a class="code" href="../../d6/d3/struct__NDIS__DMA__DESCRIPTION.html#o3">DmaWidth</a>;
<a name="l00359"></a><a class="code" href="../../d6/d3/struct__NDIS__DMA__DESCRIPTION.html#o4">00359</a>         DMA_SPEED       <a class="code" href="../../d6/d3/struct__NDIS__DMA__DESCRIPTION.html#o4">DmaSpeed</a>;
<a name="l00360"></a><a class="code" href="../../d6/d3/struct__NDIS__DMA__DESCRIPTION.html#o5">00360</a>         ULONG           <a class="code" href="../../d6/d3/struct__NDIS__DMA__DESCRIPTION.html#o5">DmaPort</a>;
<a name="l00361"></a><a class="code" href="../../d6/d3/struct__NDIS__DMA__DESCRIPTION.html#o6">00361</a>         ULONG           <a class="code" href="../../d6/d3/struct__NDIS__DMA__DESCRIPTION.html#o6">DmaChannel</a>;
00362 } <a class="code" href="../../d6/d3/struct__NDIS__DMA__DESCRIPTION.html">NDIS_DMA_DESCRIPTION</a>, *<a class="code" href="../../d6/d3/struct__NDIS__DMA__DESCRIPTION.html">PNDIS_DMA_DESCRIPTION</a>;
00363 
00364 <span class="comment">//</span>
00365 <span class="comment">// Internal structure representing an NDIS DMA channel</span>
00366 <span class="comment">//</span>
<a name="l00367"></a><a class="code" href="../../d5/d3/struct__NDIS__DMA__BLOCK.html">00367</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d5/d3/struct__NDIS__DMA__BLOCK.html">_NDIS_DMA_BLOCK</a>
00368 {
<a name="l00369"></a><a class="code" href="../../d5/d3/struct__NDIS__DMA__BLOCK.html#o0">00369</a>         PVOID                           <a class="code" href="../../d5/d3/struct__NDIS__DMA__BLOCK.html#o0">MapRegisterBase</a>;
<a name="l00370"></a><a class="code" href="../../d5/d3/struct__NDIS__DMA__BLOCK.html#o1">00370</a>         <a class="code" href="../../d2/d6/struct__KEVENT.html">KEVENT</a>                          <a class="code" href="../../d5/d3/struct__NDIS__DMA__BLOCK.html#o1">AllocationEvent</a>;
<a name="l00371"></a><a class="code" href="../../d5/d3/struct__NDIS__DMA__BLOCK.html#o2">00371</a>         <a class="code" href="../../d7/d5/struct__ADAPTER__OBJECT.html">PADAPTER_OBJECT</a>         <a class="code" href="../../d5/d3/struct__NDIS__DMA__BLOCK.html#o2">SystemAdapterObject</a>;
<a name="l00372"></a><a class="code" href="../../d5/d3/struct__NDIS__DMA__BLOCK.html#o3">00372</a>         BOOLEAN                         <a class="code" href="../../d5/d3/struct__NDIS__DMA__BLOCK.html#o3">InProgress</a>;
00373 } <a class="code" href="../../d5/d3/struct__NDIS__DMA__BLOCK.html">NDIS_DMA_BLOCK</a>, *<a class="code" href="../../d5/d3/struct__NDIS__DMA__BLOCK.html">PNDIS_DMA_BLOCK</a>;
00374 
00375 
00376 
00377 <span class="preprocessor">#if defined(NDIS_WRAPPER)</span>
00378 <span class="preprocessor"></span><span class="comment">//</span>
00379 <span class="comment">// definitions for PnP state</span>
00380 <span class="comment">//</span>
00381 
00382 <span class="keyword">typedef</span> <span class="keyword">enum</span> _NDIS_PNP_DEVICE_STATE
00383 {
00384         NdisPnPDeviceAdded,
00385         NdisPnPDeviceStarted,
00386         NdisPnPDeviceQueryStopped,
00387         NdisPnPDeviceStopped,
00388         NdisPnPDeviceQueryRemoved,
00389         NdisPnPDeviceRemoved,
00390         NdisPnPDeviceSurpriseRemoved
00391 } NDIS_PNP_DEVICE_STATE;
00392 
00393 <span class="comment">//</span>
00394 <span class="comment">// flags to use in PnPCapabilities Flag</span>
00395 <span class="comment">//</span>
00396 <span class="preprocessor">#define NDIS_DEVICE_NOT_STOPPABLE                                       0x00000001              // the debvice is not stoppable i.e. ISA</span>
00397 <span class="preprocessor"></span><span class="preprocessor">#define NDIS_DEVICE_NOT_REMOVEABLE                                      0x00000002              // the device can not be safely removed</span>
00398 <span class="preprocessor"></span><span class="preprocessor">#define NDIS_DEVICE_NOT_SUSPENDABLE                                     0x00000004              // the device can not be safely suspended</span>
00399 <span class="preprocessor"></span><span class="preprocessor">#define NDIS_DEVICE_DISABLE_PM                                          0x00000008              // disable all PM features</span>
00400 <span class="preprocessor"></span><span class="preprocessor">#define NDIS_DEVICE_DISABLE_WAKE_UP                                     0x00000010              // disable device waking up the system</span>
00401 <span class="preprocessor"></span><span class="preprocessor">#define NDIS_DEVICE_DISABLE_WAKE_ON_RECONNECT           0x00000020              // disable device waking up the -system- due to a cable re-connect</span>
00402 <span class="preprocessor"></span><span class="preprocessor">#ifdef NDIS_WOL_QFE</span>
00403 <span class="preprocessor"></span><span class="preprocessor">#define NDIS_DEVICE_RESERVED                                            0x00000040              // should not be used</span>
00404 <span class="preprocessor"></span><span class="preprocessor">#define NDIS_DEVICE_DISABLE_WAKE_ON_MAGIC_PACKET        0x00000080              // disable device waking up the -system- due to a magic packet</span>
00405 <span class="preprocessor"></span><span class="preprocessor">#define NDIS_DEVICE_DISABLE_WAKE_ON_PATTERN_MATCH       0x00000100              // disable device waking up the -system- due to a pattern match</span>
00406 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00407 <span class="preprocessor"></span>
00408 <span class="preprocessor">#endif // NDIS_WRAPPER defined</span>
00409 <span class="preprocessor"></span>
00410 
00411 
00412 <span class="comment">//</span>
00413 <span class="comment">// Ndis Buffer is actually an Mdl</span>
00414 <span class="comment">//</span>
<a name="l00415"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a314">00415</a> <span class="keyword">typedef</span> <a class="code" href="../../d6/d7/struct__MDL.html">MDL</a> <a class="code" href="../../d6/d7/struct__MDL.html">NDIS_BUFFER</a>, *<a class="code" href="../../d6/d7/struct__MDL.html">PNDIS_BUFFER</a>;
00416 
00417 <span class="keyword">struct </span><a class="code" href="../../d6/d5/struct__NDIS__PACKET.html">_NDIS_PACKET</a>;
<a name="l00418"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a315">00418</a> <span class="keyword">typedef</span> <a class="code" href="../../d9/d5/ndismain_8h.html#a269">NDIS_HANDLE</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a315">PNDIS_PACKET_POOL</a>;
00419 
00420 <span class="comment">//</span>
00421 <span class="comment">//</span>
00422 <span class="comment">// wrapper-specific part of a packet</span>
00423 <span class="comment">//</span>
00424 
<a name="l00425"></a><a class="code" href="../../d4/d6/struct__NDIS__PACKET__PRIVATE.html">00425</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d4/d6/struct__NDIS__PACKET__PRIVATE.html">_NDIS_PACKET_PRIVATE</a>
00426 {
<a name="l00427"></a><a class="code" href="../../d4/d6/struct__NDIS__PACKET__PRIVATE.html#o0">00427</a>         <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>                            <a class="code" href="../../d4/d6/struct__NDIS__PACKET__PRIVATE.html#o0">PhysicalCount</a>;  <span class="comment">// number of physical pages in packet.</span>
<a name="l00428"></a><a class="code" href="../../d4/d6/struct__NDIS__PACKET__PRIVATE.html#o1">00428</a>         <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>                            <a class="code" href="../../d4/d6/struct__NDIS__PACKET__PRIVATE.html#o1">TotalLength</a>;    <span class="comment">// Total amount of data in the packet.</span>
<a name="l00429"></a><a class="code" href="../../d4/d6/struct__NDIS__PACKET__PRIVATE.html#o2">00429</a>         <a class="code" href="../../d9/d5/ndismain_8h.html#a314">PNDIS_BUFFER</a>            <a class="code" href="../../d4/d6/struct__NDIS__PACKET__PRIVATE.html#o2">Head</a>;                   <span class="comment">// first buffer in the chain</span>
<a name="l00430"></a><a class="code" href="../../d4/d6/struct__NDIS__PACKET__PRIVATE.html#o3">00430</a>         <a class="code" href="../../d9/d5/ndismain_8h.html#a314">PNDIS_BUFFER</a>            <a class="code" href="../../d4/d6/struct__NDIS__PACKET__PRIVATE.html#o3">Tail</a>;                   <span class="comment">// last buffer in the chain</span>
00431 
00432         <span class="comment">// if Head is NULL the chain is empty; Tail doesn't have to be NULL also</span>
00433 
<a name="l00434"></a><a class="code" href="../../d4/d6/struct__NDIS__PACKET__PRIVATE.html#o4">00434</a>         <a class="code" href="../../d9/d5/ndismain_8h.html#a315">PNDIS_PACKET_POOL</a>       <a class="code" href="../../d4/d6/struct__NDIS__PACKET__PRIVATE.html#o4">Pool</a>;                   <span class="comment">// so we know where to free it back to</span>
<a name="l00435"></a><a class="code" href="../../d4/d6/struct__NDIS__PACKET__PRIVATE.html#o5">00435</a>         <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>                            <a class="code" href="../../d4/d6/struct__NDIS__PACKET__PRIVATE.html#o5">Count</a>;
<a name="l00436"></a><a class="code" href="../../d4/d6/struct__NDIS__PACKET__PRIVATE.html#o6">00436</a>         ULONG                           <a class="code" href="../../d4/d6/struct__NDIS__PACKET__PRIVATE.html#o6">Flags</a>;                  
<a name="l00437"></a><a class="code" href="../../d4/d6/struct__NDIS__PACKET__PRIVATE.html#o7">00437</a>         BOOLEAN                         <a class="code" href="../../d4/d6/struct__NDIS__PACKET__PRIVATE.html#o7">ValidCounts</a>;
<a name="l00438"></a><a class="code" href="../../d4/d6/struct__NDIS__PACKET__PRIVATE.html#o8">00438</a>         UCHAR                           <a class="code" href="../../d4/d6/struct__NDIS__PACKET__PRIVATE.html#o8">NdisPacketFlags</a>;        <span class="comment">// See fPACKET_xxx bits below</span>
<a name="l00439"></a><a class="code" href="../../d4/d6/struct__NDIS__PACKET__PRIVATE.html#o9">00439</a>         <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>                          <a class="code" href="../../d4/d6/struct__NDIS__PACKET__PRIVATE.html#o9">NdisPacketOobOffset</a>;
00440 } <a class="code" href="../../d4/d6/struct__NDIS__PACKET__PRIVATE.html">NDIS_PACKET_PRIVATE</a>, * <a class="code" href="../../d4/d6/struct__NDIS__PACKET__PRIVATE.html">PNDIS_PACKET_PRIVATE</a>;
00441 
00442 <span class="comment">//</span>
00443 <span class="comment">// The bits define the bits in the NDIS flags</span>
00444 <span class="comment">//</span>
<a name="l00445"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a16">00445</a> <span class="preprocessor">#define NDIS_FLAGS_PROTOCOL_ID_MASK                             0x0000000F      // The low 4 bits are defined for protocol-id</span>
00446 <span class="preprocessor"></span>                                                                                                                        <span class="comment">// The values are defined in ntddndis.h</span>
<a name="l00447"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a17">00447</a> <span class="preprocessor">#define NDIS_FLAGS_MULTICAST_PACKET                             0x00000010</span>
<a name="l00448"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a18">00448</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_FLAGS_BROADCAST_PACKET                             0x00000020</span>
<a name="l00449"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a19">00449</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_FLAGS_DIRECTED_PACKET                              0x00000040</span>
<a name="l00450"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a20">00450</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_FLAGS_DONT_LOOPBACK                                0x00000080</span>
<a name="l00451"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a21">00451</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_FLAGS_IS_LOOPBACK_PACKET                   0x00000100      // Valid on receive path only</span>
<a name="l00452"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a22">00452</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_FLAGS_LOOPBACK_ONLY                                0x00000200</span>
<a name="l00453"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a23">00453</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_FLAGS_SKIP_LOOPBACK                                0x00000400      // Internal use only</span>
00454 <span class="preprocessor"></span>
00455 <span class="comment">//</span>
00456 <span class="comment">// Low-bits in the NdisPacketFlags are reserved by NDIS Wrapper for internal use</span>
00457 <span class="comment">//</span>
<a name="l00458"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a24">00458</a> <span class="preprocessor">#define fPACKET_WRAPPER_RESERVED                                0x3F</span>
<a name="l00459"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a25">00459</a> <span class="preprocessor"></span><span class="preprocessor">#define fPACKET_CONTAINS_MEDIA_SPECIFIC_INFO    0x40</span>
<a name="l00460"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a26">00460</a> <span class="preprocessor"></span><span class="preprocessor">#define fPACKET_ALLOCATED_BY_NDIS                               0x80</span>
00461 <span class="preprocessor"></span>
00462 <span class="comment">//</span>
00463 <span class="comment">// Definition for layout of the media-specific data. More than one class of media-specific</span>
00464 <span class="comment">// information can be tagged onto a packet.</span>
00465 <span class="comment">//</span>
<a name="l00466"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a512">00466</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d9/d5/ndismain_8h.html#a512">_NDIS_CLASS_ID</a>
00467 {
00468         <a class="code" href="../../d9/d5/ndismain_8h.html#a512a399">NdisClass802_3Priority</a>,
00469         <a class="code" href="../../d9/d5/ndismain_8h.html#a512a400">NdisClassWirelessWanMbxMailbox</a>,
00470         <a class="code" href="../../d9/d5/ndismain_8h.html#a512a401">NdisClassIrdaPacketInfo</a>,
00471         <a class="code" href="../../d9/d5/ndismain_8h.html#a512a402">NdisClassAtmAALInfo</a>
00472 
00473 } <a class="code" href="../../d9/d5/ndismain_8h.html#a318">NDIS_CLASS_ID</a>;
00474 
<a name="l00475"></a><a class="code" href="../../d9/d7/struct__MEDIA__SPECIFIC__INFORMATION.html">00475</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d7/struct__MEDIA__SPECIFIC__INFORMATION.html">_MEDIA_SPECIFIC_INFORMATION</a>
00476 {
<a name="l00477"></a><a class="code" href="../../d9/d7/struct__MEDIA__SPECIFIC__INFORMATION.html#o0">00477</a>         <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>                    <a class="code" href="../../d9/d7/struct__MEDIA__SPECIFIC__INFORMATION.html#o0">NextEntryOffset</a>;
<a name="l00478"></a><a class="code" href="../../d9/d7/struct__MEDIA__SPECIFIC__INFORMATION.html#o1">00478</a>         <a class="code" href="../../d9/d5/ndismain_8h.html#a318">NDIS_CLASS_ID</a>   <a class="code" href="../../d9/d7/struct__MEDIA__SPECIFIC__INFORMATION.html#o1">ClassId</a>;
<a name="l00479"></a><a class="code" href="../../d9/d7/struct__MEDIA__SPECIFIC__INFORMATION.html#o2">00479</a>         <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>                    <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a0">Size</a>;
<a name="l00480"></a><a class="code" href="../../d9/d7/struct__MEDIA__SPECIFIC__INFORMATION.html#o3">00480</a>         UCHAR                   <a class="code" href="../../d9/d7/struct__MEDIA__SPECIFIC__INFORMATION.html#o3">ClassInformation</a>[1];
00481 
00482 } <a class="code" href="../../d9/d7/struct__MEDIA__SPECIFIC__INFORMATION.html">MEDIA_SPECIFIC_INFORMATION</a>, *<a class="code" href="../../d9/d7/struct__MEDIA__SPECIFIC__INFORMATION.html">PMEDIA_SPECIFIC_INFORMATION</a>;
00483 
<a name="l00484"></a><a class="code" href="../../d2/d6/struct__NDIS__PACKET__OOB__DATA.html">00484</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d2/d6/struct__NDIS__PACKET__OOB__DATA.html">_NDIS_PACKET_OOB_DATA</a>
00485 {
00486         <span class="keyword">union</span>
00487 <span class="keyword">        </span>{
<a name="l00488"></a><a class="code" href="../../d2/d6/struct__NDIS__PACKET__OOB__DATA.html#o0">00488</a>                 ULONGLONG       <a class="code" href="../../d2/d6/struct__NDIS__PACKET__OOB__DATA.html#o0">TimeToSend</a>;
<a name="l00489"></a><a class="code" href="../../d2/d6/struct__NDIS__PACKET__OOB__DATA.html#o1">00489</a>                 ULONGLONG       <a class="code" href="../../d2/d6/struct__NDIS__PACKET__OOB__DATA.html#o1">TimeSent</a>;
00490         };
<a name="l00491"></a><a class="code" href="../../d2/d6/struct__NDIS__PACKET__OOB__DATA.html#o2">00491</a>         ULONGLONG               <a class="code" href="../../d2/d6/struct__NDIS__PACKET__OOB__DATA.html#o2">TimeReceived</a>;
<a name="l00492"></a><a class="code" href="../../d2/d6/struct__NDIS__PACKET__OOB__DATA.html#o3">00492</a>         <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>                    <a class="code" href="../../d2/d6/struct__NDIS__PACKET__OOB__DATA.html#o3">HeaderSize</a>;
<a name="l00493"></a><a class="code" href="../../d2/d6/struct__NDIS__PACKET__OOB__DATA.html#o4">00493</a>         <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>                    <a class="code" href="../../d2/d6/struct__NDIS__PACKET__OOB__DATA.html#o4">SizeMediaSpecificInfo</a>;
<a name="l00494"></a><a class="code" href="../../d2/d6/struct__NDIS__PACKET__OOB__DATA.html#o5">00494</a>         PVOID                   <a class="code" href="../../d2/d6/struct__NDIS__PACKET__OOB__DATA.html#o5">MediaSpecificInformation</a>;
00495 
<a name="l00496"></a><a class="code" href="../../d2/d6/struct__NDIS__PACKET__OOB__DATA.html#o6">00496</a>         <a class="code" href="../../d9/d5/ndismain_8h.html#a271">NDIS_STATUS</a>             <a class="code" href="../../d2/d6/struct__NDIS__PACKET__OOB__DATA.html#o6">Status</a>;
00497 } <a class="code" href="../../d2/d6/struct__NDIS__PACKET__OOB__DATA.html">NDIS_PACKET_OOB_DATA</a>, *<a class="code" href="../../d2/d6/struct__NDIS__PACKET__OOB__DATA.html">PNDIS_PACKET_OOB_DATA</a>;
00498 
<a name="l00499"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a27">00499</a> <span class="preprocessor">#define NDIS_GET_PACKET_PROTOCOL_TYPE(_Packet_) ((_Packet_)-&gt;Private.Flags &amp; NDIS_PROTOCOL_ID_MASK)</span>
00500 <span class="preprocessor"></span>        
<a name="l00501"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a28">00501</a> <span class="preprocessor">#define NDIS_OOB_DATA_FROM_PACKET(_p)                                                                   \</span>
00502 <span class="preprocessor">                                                (PNDIS_PACKET_OOB_DATA)((PUCHAR)(_p) +                  \</span>
00503 <span class="preprocessor">                                                (_p)-&gt;Private.NdisPacketOobOffset)</span>
<a name="l00504"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a29">00504</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_GET_PACKET_HEADER_SIZE(_Packet)                                                    \</span>
00505 <span class="preprocessor">                                                ((PNDIS_PACKET_OOB_DATA)((PUCHAR)(_Packet) +    \</span>
00506 <span class="preprocessor">                                                (_Packet)-&gt;Private.NdisPacketOobOffset))-&gt;HeaderSize</span>
<a name="l00507"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a30">00507</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_GET_PACKET_STATUS(_Packet)                                                                 \</span>
00508 <span class="preprocessor">                                                ((PNDIS_PACKET_OOB_DATA)((PUCHAR)(_Packet) +    \</span>
00509 <span class="preprocessor">                                                (_Packet)-&gt;Private.NdisPacketOobOffset))-&gt;Status</span>
<a name="l00510"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a31">00510</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_GET_PACKET_TIME_TO_SEND(_Packet)                                                   \</span>
00511 <span class="preprocessor">                                                ((PNDIS_PACKET_OOB_DATA)((PUCHAR)(_Packet) +    \</span>
00512 <span class="preprocessor">                                                (_Packet)-&gt;Private.NdisPacketOobOffset))-&gt;TimeToSend</span>
<a name="l00513"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a32">00513</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_GET_PACKET_TIME_SENT(_Packet)                                                              \</span>
00514 <span class="preprocessor">                                                ((PNDIS_PACKET_OOB_DATA)((PUCHAR)(_Packet) +    \</span>
00515 <span class="preprocessor">                                                (_Packet)-&gt;Private.NdisPacketOobOffset))-&gt;TimeSent</span>
<a name="l00516"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a33">00516</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_GET_PACKET_TIME_RECEIVED(_Packet)                                                  \</span>
00517 <span class="preprocessor">                                                ((PNDIS_PACKET_OOB_DATA)((PUCHAR)(_Packet) +    \</span>
00518 <span class="preprocessor">                                                (_Packet)-&gt;Private.NdisPacketOobOffset))-&gt;TimeReceived</span>
00519 <span class="preprocessor"></span><span class="preprocessor">#define NDIS_GET_PACKET_MEDIA_SPECIFIC_INFO(_Packet,                                    \</span>
00520 <span class="preprocessor">                                                                                        _pMediaSpecificInfo,            \</span>
<a name="l00521"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a34">00521</a> <span class="preprocessor">                                                                                        _pSizeMediaSpecificInfo)        \</span>
00522 <span class="preprocessor">{                                                                                                                                               \</span>
00523 <span class="preprocessor">        if (!((_Packet)-&gt;Private.NdisPacketFlags &amp; fPACKET_ALLOCATED_BY_NDIS) ||\</span>
00524 <span class="preprocessor">                !((_Packet)-&gt;Private.NdisPacketFlags &amp; fPACKET_CONTAINS_MEDIA_SPECIFIC_INFO))\</span>
00525 <span class="preprocessor">        {                                                                                                                                       \</span>
00526 <span class="preprocessor">                *(_pMediaSpecificInfo) = NULL;                                                                  \</span>
00527 <span class="preprocessor">                *(_pSizeMediaSpecificInfo) = 0;                                                                 \</span>
00528 <span class="preprocessor">        }                                                                                                                                       \</span>
00529 <span class="preprocessor">        else                                                                                                                            \</span>
00530 <span class="preprocessor">        {                                                                                                                                       \</span>
00531 <span class="preprocessor">                *(_pMediaSpecificInfo) =((PNDIS_PACKET_OOB_DATA)((PUCHAR)(_Packet) +\</span>
00532 <span class="preprocessor">                                        (_Packet)-&gt;Private.NdisPacketOobOffset))-&gt;MediaSpecificInformation;\</span>
00533 <span class="preprocessor">                *(_pSizeMediaSpecificInfo) = ((PNDIS_PACKET_OOB_DATA)((PUCHAR)(_Packet) +\</span>
00534 <span class="preprocessor">                                        (_Packet)-&gt;Private.NdisPacketOobOffset))-&gt;SizeMediaSpecificInfo;\</span>
00535 <span class="preprocessor">        }                                                                                                                                       \</span>
00536 <span class="preprocessor">}</span>
00537 <span class="preprocessor"></span>
<a name="l00538"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a35">00538</a> <span class="preprocessor">#define NDIS_SET_PACKET_HEADER_SIZE(_Packet, _HdrSize)                                  \</span>
00539 <span class="preprocessor">                                                ((PNDIS_PACKET_OOB_DATA)((PUCHAR)(_Packet) +    \</span>
00540 <span class="preprocessor">                                                (_Packet)-&gt;Private.NdisPacketOobOffset))-&gt;HeaderSize = (_HdrSize)</span>
<a name="l00541"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a36">00541</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_SET_PACKET_STATUS(_Packet, _Status)                                                \</span>
00542 <span class="preprocessor">                                                ((PNDIS_PACKET_OOB_DATA)((PUCHAR)(_Packet) +    \</span>
00543 <span class="preprocessor">                                                (_Packet)-&gt;Private.NdisPacketOobOffset))-&gt;Status = (_Status)</span>
<a name="l00544"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a37">00544</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_SET_PACKET_TIME_TO_SEND(_Packet, _TimeToSend)                              \</span>
00545 <span class="preprocessor">                                                ((PNDIS_PACKET_OOB_DATA)((PUCHAR)(_Packet) +    \</span>
00546 <span class="preprocessor">                                                (_Packet)-&gt;Private.NdisPacketOobOffset))-&gt;TimeToSend = (_TimeToSend)</span>
<a name="l00547"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a38">00547</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_SET_PACKET_TIME_SENT(_Packet, _TimeSent)                                   \</span>
00548 <span class="preprocessor">                                                ((PNDIS_PACKET_OOB_DATA)((PUCHAR)(_Packet) +    \</span>
00549 <span class="preprocessor">                                                (_Packet)-&gt;Private.NdisPacketOobOffset))-&gt;TimeSent = (_TimeSent)</span>
<a name="l00550"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a39">00550</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_SET_PACKET_TIME_RECEIVED(_Packet, _TimeReceived)                   \</span>
00551 <span class="preprocessor">                                                ((PNDIS_PACKET_OOB_DATA)((PUCHAR)(_Packet) +    \</span>
00552 <span class="preprocessor">                                                (_Packet)-&gt;Private.NdisPacketOobOffset))-&gt;TimeReceived = (_TimeReceived)</span>
00553 <span class="preprocessor"></span><span class="preprocessor">#define NDIS_SET_PACKET_MEDIA_SPECIFIC_INFO(_Packet,                                    \</span>
00554 <span class="preprocessor">                                                                                        _MediaSpecificInfo,                     \</span>
<a name="l00555"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a40">00555</a> <span class="preprocessor">                                                                                        _SizeMediaSpecificInfo)         \</span>
00556 <span class="preprocessor">{                                                                                                                                               \</span>
00557 <span class="preprocessor">        if ((_Packet)-&gt;Private.NdisPacketFlags &amp; fPACKET_ALLOCATED_BY_NDIS)     \</span>
00558 <span class="preprocessor">        {                                                                                                                                       \</span>
00559 <span class="preprocessor">                (_Packet)-&gt;Private.NdisPacketFlags |= fPACKET_CONTAINS_MEDIA_SPECIFIC_INFO;\</span>
00560 <span class="preprocessor">                ((PNDIS_PACKET_OOB_DATA)((PUCHAR)(_Packet) +                                    \</span>
00561 <span class="preprocessor">                                                                                  (_Packet)-&gt;Private.NdisPacketOobOffset))-&gt;MediaSpecificInformation = (_MediaSpecificInfo);\</span>
00562 <span class="preprocessor">                ((PNDIS_PACKET_OOB_DATA)((PUCHAR)(_Packet) +                                    \</span>
00563 <span class="preprocessor">                                                                                  (_Packet)-&gt;Private.NdisPacketOobOffset))-&gt;SizeMediaSpecificInfo = (_SizeMediaSpecificInfo);\</span>
00564 <span class="preprocessor">        }                                                                                                                                       \</span>
00565 <span class="preprocessor">}</span>
00566 <span class="preprocessor"></span>
00567 <span class="comment">//</span>
00568 <span class="comment">// packet definition</span>
00569 <span class="comment">//</span>
<a name="l00570"></a><a class="code" href="../../d6/d5/struct__NDIS__PACKET.html">00570</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d6/d5/struct__NDIS__PACKET.html">_NDIS_PACKET</a>
00571 {
<a name="l00572"></a><a class="code" href="../../d6/d5/struct__NDIS__PACKET.html#o0">00572</a>         <a class="code" href="../../d4/d6/struct__NDIS__PACKET__PRIVATE.html">NDIS_PACKET_PRIVATE</a>     <a class="code" href="../../d6/d5/struct__NDIS__PACKET.html#o0">Private</a>;
00573 
00574         <span class="keyword">union</span>
00575 <span class="keyword">        </span>{
00576                 <span class="keyword">struct                                  </span><span class="comment">// For Connection-less miniports</span>
00577                 {
<a name="l00578"></a><a class="code" href="../../d6/d5/struct__NDIS__PACKET.html#o1">00578</a>                         UCHAR   <a class="code" href="../../d6/d5/struct__NDIS__PACKET.html#o1">MiniportReserved</a>[2*<span class="keyword">sizeof</span>(PVOID)];
<a name="l00579"></a><a class="code" href="../../d6/d5/struct__NDIS__PACKET.html#o2">00579</a>                         UCHAR   <a class="code" href="../../d6/d5/struct__NDIS__PACKET.html#o2">WrapperReserved</a>[2*<span class="keyword">sizeof</span>(PVOID)];
00580                 };
00581 
00582                 <span class="keyword">struct</span>
00583 <span class="keyword">                </span>{
00584                         <span class="comment">//</span>
00585                         <span class="comment">// For de-serialized miniports. And by implication conn-oriented miniports.</span>
00586                         <span class="comment">// This is for the send-path only. Packets indicated will use WrapperReserved</span>
00587                         <span class="comment">// instead of WrapperReservedEx</span>
00588                         <span class="comment">//</span>
<a name="l00589"></a><a class="code" href="../../d6/d5/struct__NDIS__PACKET.html#o3">00589</a>                         UCHAR   <a class="code" href="../../d6/d5/struct__NDIS__PACKET.html#o3">MiniportReservedEx</a>[3*<span class="keyword">sizeof</span>(PVOID)];
<a name="l00590"></a><a class="code" href="../../d6/d5/struct__NDIS__PACKET.html#o4">00590</a>                         UCHAR   <a class="code" href="../../d6/d5/struct__NDIS__PACKET.html#o4">WrapperReservedEx</a>[<span class="keyword">sizeof</span>(PVOID)];
00591                 };
00592 
00593                 <span class="keyword">struct</span>
00594 <span class="keyword">                </span>{
<a name="l00595"></a><a class="code" href="../../d6/d5/struct__NDIS__PACKET.html#o5">00595</a>                         UCHAR   <a class="code" href="../../d6/d5/struct__NDIS__PACKET.html#o5">MacReserved</a>[4*<span class="keyword">sizeof</span>(PVOID)];
00596                 };
00597         };
00598 
<a name="l00599"></a><a class="code" href="../../d6/d5/struct__NDIS__PACKET.html#o6">00599</a>         ULONG_PTR               <a class="code" href="../../d6/d5/struct__NDIS__PACKET.html#o6">Reserved</a>[2];                    <span class="comment">// For compatibility with Win95</span>
<a name="l00600"></a><a class="code" href="../../d6/d5/struct__NDIS__PACKET.html#o7">00600</a>         UCHAR                   <a class="code" href="../../d6/d5/struct__NDIS__PACKET.html#o7">ProtocolReserved</a>[1];
00601 
00602 } <a class="code" href="../../d6/d5/struct__NDIS__PACKET.html">NDIS_PACKET</a>, *<a class="code" href="../../d6/d5/struct__NDIS__PACKET.html">PNDIS_PACKET</a>, **<a class="code" href="../../d6/d5/struct__NDIS__PACKET.html">PPNDIS_PACKET</a>;
00603 
00604 <span class="comment">//</span>
00605 <span class="comment">//      NDIS per-packet information.</span>
00606 <span class="comment">//</span>
<a name="l00607"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a513">00607</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d9/d5/ndismain_8h.html#a513">_NDIS_PER_PACKET_INFO</a>
00608 {
00609         <a class="code" href="../../d9/d5/ndismain_8h.html#a513a403">TcpIpChecksumPacketInfo</a>,
00610         <a class="code" href="../../d9/d5/ndismain_8h.html#a513a404">IpSecPacketInfo</a>,
00611         <a class="code" href="../../d9/d5/ndismain_8h.html#a513a405">TcpLargeSendPacketInfo</a>,
00612         <a class="code" href="../../d9/d5/ndismain_8h.html#a513a406">ClassificationHandlePacketInfo</a>,
00613         <a class="code" href="../../d9/d5/ndismain_8h.html#a513a407">HeaderIndexInfo</a>,                                <span class="comment">// Internal NDIS use only</span>
00614         <a class="code" href="../../d9/d5/ndismain_8h.html#a513a408">ScatterGatherListPacketInfo</a>,
00615         <a class="code" href="../../d9/d5/ndismain_8h.html#a513a409">Ieee8021pPriority</a>,
00616         <a class="code" href="../../d9/d5/ndismain_8h.html#a513a410">OriginalPacketInfo</a>,
00617         <a class="code" href="../../d9/d5/ndismain_8h.html#a513a411">NdisInternalExtension1</a>,                 <span class="comment">// Internal NDIS use only</span>
00618         <a class="code" href="../../d9/d5/ndismain_8h.html#a513a412">NdisInternalExtension2</a>,                 <span class="comment">// Internal NDIS use only</span>
00619 <span class="preprocessor">#if     PKT_DBG</span>
00620 <span class="preprocessor"></span>        NdisInternalPktDebug,                   <span class="comment">// Internal NDIS use only</span>
00621 <span class="preprocessor">#endif</span>
00622 <span class="preprocessor"></span>        <a class="code" href="../../d9/d5/ndismain_8h.html#a513a413">MaxPerPacketInfo</a>
00623 } <a class="code" href="../../d9/d5/ndismain_8h.html#a326">NDIS_PER_PACKET_INFO</a>, *<a class="code" href="../../d9/d5/ndismain_8h.html#a327">PNDIS_PER_PACKET_INFO</a>;
00624 
<a name="l00625"></a><a class="code" href="../../d1/d6/struct__NDIS__PACKET__EXTENSION.html">00625</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d1/d6/struct__NDIS__PACKET__EXTENSION.html">_NDIS_PACKET_EXTENSION</a>
00626 {
<a name="l00627"></a><a class="code" href="../../d1/d6/struct__NDIS__PACKET__EXTENSION.html#o0">00627</a>         PVOID           <a class="code" href="../../d1/d6/struct__NDIS__PACKET__EXTENSION.html#o0">NdisPacketInfo</a>[<a class="code" href="../../d9/d5/ndismain_8h.html#a513a413">MaxPerPacketInfo</a>];
00628 } <a class="code" href="../../d1/d6/struct__NDIS__PACKET__EXTENSION.html">NDIS_PACKET_EXTENSION</a>, *<a class="code" href="../../d1/d6/struct__NDIS__PACKET__EXTENSION.html">PNDIS_PACKET_EXTENSION</a>;
00629 
<a name="l00630"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a41">00630</a> <span class="preprocessor">#define NDIS_PACKET_EXTENSION_FROM_PACKET(_P)           ((PNDIS_PACKET_EXTENSION)((PUCHAR)(_P) + (_P)-&gt;Private.NdisPacketOobOffset + sizeof(NDIS_PACKET_OOB_DATA)))</span>
<a name="l00631"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a42">00631</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_PER_PACKET_INFO_FROM_PACKET(_P, _Id)       ((PNDIS_PACKET_EXTENSION)((PUCHAR)(_P) + (_P)-&gt;Private.NdisPacketOobOffset + sizeof(NDIS_PACKET_OOB_DATA)))-&gt;NdisPacketInfo[(_Id)]</span>
<a name="l00632"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a43">00632</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_GET_ORIGINAL_PACKET(_P)                            NDIS_PER_PACKET_INFO_FROM_PACKET(_P, OriginalPacketInfo)</span>
<a name="l00633"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a44">00633</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_SET_ORIGINAL_PACKET(_P, _OP)                       NDIS_PER_PACKET_INFO_FROM_PACKET(_P, OriginalPacketInfo) = _OP</span>
00634 <span class="preprocessor"></span>
00635 <span class="comment">//</span>
00636 <span class="comment">//      Per-packet information for TcpIpChecksumPacketInfo.</span>
00637 <span class="comment">//</span>
<a name="l00638"></a><a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html">00638</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html">_NDIS_TCP_IP_CHECKSUM_PACKET_INFO</a>
00639 {
00640         <span class="keyword">union</span>
00641 <span class="keyword">        </span>{
00642                 <span class="keyword">struct</span>
00643 <span class="keyword">                </span>{       
<a name="l00644"></a><a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html#o0">00644</a>                         ULONG   <a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html#o0">NdisPacketChecksumV4</a>:1;
<a name="l00645"></a><a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html#o1">00645</a>                         ULONG   <a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html#o1">NdisPacketChecksumV6</a>:1;
<a name="l00646"></a><a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html#o2">00646</a>                         ULONG   <a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html#o2">NdisPacketTcpChecksum</a>:1;
<a name="l00647"></a><a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html#o3">00647</a>                         ULONG   <a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html#o3">NdisPacketUdpChecksum</a>:1;
<a name="l00648"></a><a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html#o4">00648</a>                         ULONG   <a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html#o4">NdisPacketIpChecksum</a>:1;
00649                 } Transmit;
00650 
00651                 <span class="keyword">struct</span>
00652 <span class="keyword">                </span>{
<a name="l00653"></a><a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html#o6">00653</a>                         ULONG   <a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html#o6">NdisPacketTcpChecksumFailed</a>:1;
<a name="l00654"></a><a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html#o7">00654</a>                         ULONG   <a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html#o7">NdisPacketUdpChecksumFailed</a>:1;
<a name="l00655"></a><a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html#o8">00655</a>                         ULONG   <a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html#o8">NdisPacketIpChecksumFailed</a>:1;
<a name="l00656"></a><a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html#o9">00656</a>                         ULONG   <a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html#o9">NdisPacketTcpChecksumSucceeded</a>:1;
<a name="l00657"></a><a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html#o10">00657</a>                         ULONG   <a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html#o10">NdisPacketUdpChecksumSucceeded</a>:1;
<a name="l00658"></a><a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html#o11">00658</a>                         ULONG   <a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html#o11">NdisPacketIpChecksumSucceeded</a>:1;
<a name="l00659"></a><a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html#o12">00659</a>                         ULONG   <a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html#o12">NdisPacketLoopback</a>:1;
00660                 } Receive;
00661 
<a name="l00662"></a><a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html#o14">00662</a>                 ULONG   <a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html#o14">Value</a>;
00663         };
00664 } <a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html">NDIS_TCP_IP_CHECKSUM_PACKET_INFO</a>, *<a class="code" href="../../d8/d8/struct__NDIS__TCP__IP__CHECKSUM__PACKET__INFO.html">PNDIS_TCP_IP_CHECKSUM_PACKET_INFO</a>;
00665 
00666 
00667 
<a name="l00668"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a45">00668</a> <span class="preprocessor">#define MAX_HASHES                      4</span>
<a name="l00669"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a46">00669</a> <span class="preprocessor"></span><span class="preprocessor">#define TRUNCATED_HASH_LEN      12</span>
00670 <span class="preprocessor"></span>
<a name="l00671"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a47">00671</a> <span class="preprocessor">#define CRYPTO_SUCCESS                                          0</span>
<a name="l00672"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a48">00672</a> <span class="preprocessor"></span><span class="preprocessor">#define CRYPTO_GENERIC_ERROR                            1</span>
<a name="l00673"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a49">00673</a> <span class="preprocessor"></span><span class="preprocessor">#define CRYPTO_TRANSPORT_AH_AUTH_FAILED         2</span>
<a name="l00674"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a50">00674</a> <span class="preprocessor"></span><span class="preprocessor">#define CRYPTO_TRANSPORT_ESP_AUTH_FAILED        3</span>
<a name="l00675"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a51">00675</a> <span class="preprocessor"></span><span class="preprocessor">#define CRYPTO_TUNNEL_AH_AUTH_FAILED            4</span>
<a name="l00676"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a52">00676</a> <span class="preprocessor"></span><span class="preprocessor">#define CRYPTO_TUNNEL_ESP_AUTH_FAILED           5</span>
<a name="l00677"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a53">00677</a> <span class="preprocessor"></span><span class="preprocessor">#define CRYPTO_INVALID_PACKET_SYNTAX            6</span>
<a name="l00678"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a54">00678</a> <span class="preprocessor"></span><span class="preprocessor">#define CRYPTO_INVALID_PROTOCOL                         7</span>
00679 <span class="preprocessor"></span>
<a name="l00680"></a><a class="code" href="../../d1/d4/struct__NDIS__IPSEC__PACKET__INFO.html">00680</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d1/d4/struct__NDIS__IPSEC__PACKET__INFO.html">_NDIS_IPSEC_PACKET_INFO</a>
00681 {
00682         <span class="keyword">union</span>
00683 <span class="keyword">        </span>{
00684                 <span class="keyword">struct</span>
00685 <span class="keyword">                </span>{
<a name="l00686"></a><a class="code" href="../../d1/d4/struct__NDIS__IPSEC__PACKET__INFO.html#o0">00686</a>                         <a class="code" href="../../d9/d5/ndismain_8h.html#a269">NDIS_HANDLE</a>     <a class="code" href="../../d1/d4/struct__NDIS__IPSEC__PACKET__INFO.html#o0">OffloadHandle</a>;  
<a name="l00687"></a><a class="code" href="../../d1/d4/struct__NDIS__IPSEC__PACKET__INFO.html#o1">00687</a>                         <a class="code" href="../../d9/d5/ndismain_8h.html#a269">NDIS_HANDLE</a>     <a class="code" href="../../d1/d4/struct__NDIS__IPSEC__PACKET__INFO.html#o1">NextOffloadHandle</a>;
00688 
00689                 } Transmit;
00690 
00691                 <span class="keyword">struct</span>
00692 <span class="keyword">                </span>{
<a name="l00693"></a><a class="code" href="../../d1/d4/struct__NDIS__IPSEC__PACKET__INFO.html#o3">00693</a>                         ULONG   <a class="code" href="../../d1/d4/struct__NDIS__IPSEC__PACKET__INFO.html#o3">SA_DELETE_REQ</a>:1;                
<a name="l00694"></a><a class="code" href="../../d1/d4/struct__NDIS__IPSEC__PACKET__INFO.html#o4">00694</a>                         ULONG   <a class="code" href="../../d1/d4/struct__NDIS__IPSEC__PACKET__INFO.html#o4">CRYPTO_DONE</a>:1;
<a name="l00695"></a><a class="code" href="../../d1/d4/struct__NDIS__IPSEC__PACKET__INFO.html#o5">00695</a>                         ULONG   <a class="code" href="../../d1/d4/struct__NDIS__IPSEC__PACKET__INFO.html#o5">NEXT_CRYPTO_DONE</a>:1;
<a name="l00696"></a><a class="code" href="../../d1/d4/struct__NDIS__IPSEC__PACKET__INFO.html#o6">00696</a>                         ULONG   <a class="code" href="../../d1/d4/struct__NDIS__IPSEC__PACKET__INFO.html#o6">CryptoStatus</a>;
00697                 } Receive;
00698         };
00699 } <a class="code" href="../../d1/d4/struct__NDIS__IPSEC__PACKET__INFO.html">NDIS_IPSEC_PACKET_INFO</a>, *<a class="code" href="../../d1/d4/struct__NDIS__IPSEC__PACKET__INFO.html">PNDIS_IPSEC_PACKET_INFO</a>;
00700 
00701 
00703 <span class="comment">//      NDIS Task Off-Load data structures.</span>
00705 <span class="comment"></span>
<a name="l00706"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a55">00706</a> <span class="preprocessor">#define NDIS_TASK_OFFLOAD_VERSION 1</span>
00707 <span class="preprocessor"></span>
00708 <span class="comment">//</span>
00709 <span class="comment">//      The following defines are used in the Task field above to define</span>
00710 <span class="comment">//      the type of task offloading necessary.</span>
00711 <span class="comment">//</span>
<a name="l00712"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a514">00712</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d9/d5/ndismain_8h.html#a514">_NDIS_TASK</a>
00713 {
00714         <a class="code" href="../../d9/d5/ndismain_8h.html#a514a414">TcpIpChecksumNdisTask</a>,
00715         <a class="code" href="../../d9/d5/ndismain_8h.html#a514a415">IpSecNdisTask</a>,
00716         <a class="code" href="../../d9/d5/ndismain_8h.html#a514a416">TcpLargeSendNdisTask</a>,
00717         <a class="code" href="../../d9/d5/ndismain_8h.html#a514a417">MaxNdisTask</a>
00718 } <a class="code" href="../../d9/d5/ndismain_8h.html#a334">NDIS_TASK</a>, *<a class="code" href="../../d9/d5/ndismain_8h.html#a335">PNDIS_TASK</a>;
00719 
<a name="l00720"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a515">00720</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d9/d5/ndismain_8h.html#a515">_NDIS_ENCAPSULATION</a>
00721 {
00722         <a class="code" href="../../d9/d5/ndismain_8h.html#a515a418">UNSPECIFIED_Encapsulation</a>,
00723         <a class="code" href="../../d9/d5/ndismain_8h.html#a515a419">NULL_Encapsulation</a>,
00724         <a class="code" href="../../d9/d5/ndismain_8h.html#a515a420">IEEE_802_3_Encapsulation</a>,
00725         <a class="code" href="../../d9/d5/ndismain_8h.html#a515a421">IEEE_802_5_Encapsulation</a>,
00726         <a class="code" href="../../d9/d5/ndismain_8h.html#a515a422">LLC_SNAP_ROUTED_Encapsulation</a>,
00727         <a class="code" href="../../d9/d5/ndismain_8h.html#a515a423">LLC_SNAP_BRIDGED_Encapsulation</a>
00728 
00729 } <a class="code" href="../../d9/d5/ndismain_8h.html#a336">NDIS_ENCAPSULATION</a>;
00730 
00731 <span class="comment">//</span>
00732 <span class="comment">// Encapsulation header format</span>
00733 <span class="comment">//</span>
<a name="l00734"></a><a class="code" href="../../d7/d3/struct__NDIS__ENCAPSULATION__FORMAT.html">00734</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d3/struct__NDIS__ENCAPSULATION__FORMAT.html">_NDIS_ENCAPSULATION_FORMAT</a>
00735 {
<a name="l00736"></a><a class="code" href="../../d7/d3/struct__NDIS__ENCAPSULATION__FORMAT.html#o0">00736</a>         <a class="code" href="../../d9/d5/ndismain_8h.html#a336">NDIS_ENCAPSULATION</a>      <a class="code" href="../../d7/d3/struct__NDIS__ENCAPSULATION__FORMAT.html#o0">Encapsulation</a>;                          <span class="comment">// Encapsulation type</span>
00737         <span class="keyword">struct</span>
00738 <span class="keyword">        </span>{
<a name="l00739"></a><a class="code" href="../../d7/d3/struct__NDIS__ENCAPSULATION__FORMAT.html#o1">00739</a>                 ULONG   <a class="code" href="../../d7/d3/struct__NDIS__ENCAPSULATION__FORMAT.html#o1">FixedHeaderSize</a>:1;
<a name="l00740"></a><a class="code" href="../../d7/d3/struct__NDIS__ENCAPSULATION__FORMAT.html#o2">00740</a>                 ULONG   <a class="code" href="../../d7/d3/struct__NDIS__ENCAPSULATION__FORMAT.html#o2">Reserved</a>:31;
00741         } Flags;
00742 
<a name="l00743"></a><a class="code" href="../../d7/d3/struct__NDIS__ENCAPSULATION__FORMAT.html#o4">00743</a>         ULONG    <a class="code" href="../../d7/d3/struct__NDIS__ENCAPSULATION__FORMAT.html#o4">EncapsulationHeaderSize</a>;                               <span class="comment">// Encapsulation header size</span>
00744 
00745 } <a class="code" href="../../d7/d3/struct__NDIS__ENCAPSULATION__FORMAT.html">NDIS_ENCAPSULATION_FORMAT</a>,*<a class="code" href="../../d7/d3/struct__NDIS__ENCAPSULATION__FORMAT.html">PNDIS_ENCAPSULATION_FORMAT</a>;
00746 
00747 
00748 <span class="comment">//</span>
00749 <span class="comment">// OFFLOAD header structure for OID_TCP_TASK_OFFLOAD</span>
00750 <span class="comment">//</span>
<a name="l00751"></a><a class="code" href="../../d1/d8/struct__NDIS__TASK__OFFLOAD__HEADER.html">00751</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d1/d8/struct__NDIS__TASK__OFFLOAD__HEADER.html">_NDIS_TASK_OFFLOAD_HEADER</a>
00752 {
<a name="l00753"></a><a class="code" href="../../d1/d8/struct__NDIS__TASK__OFFLOAD__HEADER.html#o0">00753</a>         ULONG           <a class="code" href="../../d1/d8/struct__NDIS__TASK__OFFLOAD__HEADER.html#o0">Version</a>;                                                        <span class="comment">// set to NDIS_TASK_OFFLOAD_VERSION</span>
<a name="l00754"></a><a class="code" href="../../d1/d8/struct__NDIS__TASK__OFFLOAD__HEADER.html#o1">00754</a>         ULONG           <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a0">Size</a>;                                                           <span class="comment">// Size of this structure</span>
<a name="l00755"></a><a class="code" href="../../d1/d8/struct__NDIS__TASK__OFFLOAD__HEADER.html#o2">00755</a>         ULONG           <a class="code" href="../../d1/d8/struct__NDIS__TASK__OFFLOAD__HEADER.html#o2">Reserved</a>;                                                       <span class="comment">// Reserved for future use</span>
<a name="l00756"></a><a class="code" href="../../d1/d8/struct__NDIS__TASK__OFFLOAD__HEADER.html#o3">00756</a>         ULONG           <a class="code" href="../../d1/d8/struct__NDIS__TASK__OFFLOAD__HEADER.html#o3">OffsetFirstTask</a>;                                        <span class="comment">// Offset to the first</span>
<a name="l00757"></a><a class="code" href="../../d1/d8/struct__NDIS__TASK__OFFLOAD__HEADER.html#o4">00757</a>         <a class="code" href="../../d7/d3/struct__NDIS__ENCAPSULATION__FORMAT.html">NDIS_ENCAPSULATION_FORMAT</a>  <a class="code" href="../../d1/d8/struct__NDIS__TASK__OFFLOAD__HEADER.html#o4">EncapsulationFormat</a>; <span class="comment">// Encapsulation information.</span>
00758                                                                                                         <span class="comment">// NDIS_TASK_OFFLOAD structure(s)</span>
00759 
00760 } <a class="code" href="../../d1/d8/struct__NDIS__TASK__OFFLOAD__HEADER.html">NDIS_TASK_OFFLOAD_HEADER</a>, *<a class="code" href="../../d1/d8/struct__NDIS__TASK__OFFLOAD__HEADER.html">PNDIS_TASK_OFFLOAD_HEADER</a>;
00761 
00762 
00763 <span class="comment">//</span>
00764 <span class="comment">//      Task offload Structure, which follows the above header in ndis query</span>
00765 <span class="comment">//</span>
<a name="l00766"></a><a class="code" href="../../d0/d8/struct__NDIS__TASK__OFFLOAD.html">00766</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d0/d8/struct__NDIS__TASK__OFFLOAD.html">_NDIS_TASK_OFFLOAD</a>
00767 {
<a name="l00768"></a><a class="code" href="../../d0/d8/struct__NDIS__TASK__OFFLOAD.html#o0">00768</a>         ULONG           <a class="code" href="../../d0/d8/struct__NDIS__TASK__OFFLOAD.html#o0">Version</a>;                                                        <span class="comment">// NDIS_TASK_OFFLOAD_VERSION</span>
<a name="l00769"></a><a class="code" href="../../d0/d8/struct__NDIS__TASK__OFFLOAD.html#o1">00769</a>         ULONG           <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a0">Size</a>;                                                           <span class="comment">//      Size of this structure. Used for version checking.</span>
<a name="l00770"></a><a class="code" href="../../d0/d8/struct__NDIS__TASK__OFFLOAD.html#o2">00770</a>         <a class="code" href="../../d9/d5/ndismain_8h.html#a334">NDIS_TASK</a>       <a class="code" href="../../d0/d8/struct__NDIS__TASK__OFFLOAD.html#o2">Task</a>;                                                           <span class="comment">//      Task.</span>
<a name="l00771"></a><a class="code" href="../../d0/d8/struct__NDIS__TASK__OFFLOAD.html#o3">00771</a>         ULONG           <a class="code" href="../../d0/d8/struct__NDIS__TASK__OFFLOAD.html#o3">OffsetNextTask</a>;                                         <span class="comment">//      Offset to the next NDIS_TASK_OFFLOAD</span>
<a name="l00772"></a><a class="code" href="../../d0/d8/struct__NDIS__TASK__OFFLOAD.html#o4">00772</a>         ULONG           <a class="code" href="../../d0/d8/struct__NDIS__TASK__OFFLOAD.html#o4">TaskBufferLength</a>;                                       <span class="comment">//      Length of the task offload information.</span>
<a name="l00773"></a><a class="code" href="../../d0/d8/struct__NDIS__TASK__OFFLOAD.html#o5">00773</a>         UCHAR           <a class="code" href="../../d0/d8/struct__NDIS__TASK__OFFLOAD.html#o5">TaskBuffer</a>[1];                                          <span class="comment">//      The task offload information.</span>
00774 } <a class="code" href="../../d0/d8/struct__NDIS__TASK__OFFLOAD.html">NDIS_TASK_OFFLOAD</a>, *<a class="code" href="../../d0/d8/struct__NDIS__TASK__OFFLOAD.html">PNDIS_TASK_OFFLOAD</a>;
00775 
00776 <span class="comment">//</span>
00777 <span class="comment">//      Offload structure for NDIS_TASK_TCP_IP_CHECKSUM</span>
00778 <span class="comment">//</span>
<a name="l00779"></a><a class="code" href="../../d2/d8/struct__NDIS__TASK__TCP__IP__CHECKSUM.html">00779</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d2/d8/struct__NDIS__TASK__TCP__IP__CHECKSUM.html">_NDIS_TASK_TCP_IP_CHECKSUM</a>
00780 {
00781         <span class="keyword">struct</span>
00782 <span class="keyword">        </span>{
00783                 ULONG           <a class="code" href="../../d2/d8/struct__NDIS__TASK__TCP__IP__CHECKSUM.html#o0">IpOptionsSupported</a>:1;
00784                 ULONG           <a class="code" href="../../d2/d8/struct__NDIS__TASK__TCP__IP__CHECKSUM.html#o1">TcpOptionsSupported</a>:1;
00785                 ULONG           <a class="code" href="../../d2/d8/struct__NDIS__TASK__TCP__IP__CHECKSUM.html#o2">TcpChecksum</a>:1;
00786                 ULONG           <a class="code" href="../../d2/d8/struct__NDIS__TASK__TCP__IP__CHECKSUM.html#o3">UdpChecksum</a>:1;
00787                 ULONG           <a class="code" href="../../d2/d8/struct__NDIS__TASK__TCP__IP__CHECKSUM.html#o4">IpChecksum</a>:1;
00788         } <a class="code" href="../../d2/d8/struct__NDIS__TASK__TCP__IP__CHECKSUM.html#o5">V4Transmit</a>;
00789 
00790         <span class="keyword">struct</span>
00791 <span class="keyword">        </span>{       
00792                 ULONG           <a class="code" href="../../d2/d8/struct__NDIS__TASK__TCP__IP__CHECKSUM.html#o0">IpOptionsSupported</a>:1;
00793                 ULONG           <a class="code" href="../../d2/d8/struct__NDIS__TASK__TCP__IP__CHECKSUM.html#o1">TcpOptionsSupported</a>:1;
00794                 ULONG           <a class="code" href="../../d2/d8/struct__NDIS__TASK__TCP__IP__CHECKSUM.html#o2">TcpChecksum</a>:1;
00795                 ULONG           <a class="code" href="../../d2/d8/struct__NDIS__TASK__TCP__IP__CHECKSUM.html#o3">UdpChecksum</a>:1;
<a name="l00796"></a><a class="code" href="../../d2/d8/struct__NDIS__TASK__TCP__IP__CHECKSUM.html#o4">00796</a>                 ULONG           <a class="code" href="../../d2/d8/struct__NDIS__TASK__TCP__IP__CHECKSUM.html#o4">IpChecksum</a>:1;
00797         } V4Receive;
00798 
00799 
00800         <span class="keyword">struct</span>
00801 <span class="keyword">        </span>{
00802                 ULONG           IpOptionsSupported:1;
00803                 ULONG           TcpOptionsSupported:1;
00804                 ULONG           TcpChecksum:1;
00805                 ULONG           UdpChecksum:1;
00806 
00807         } <a class="code" href="../../d2/d8/struct__NDIS__TASK__TCP__IP__CHECKSUM.html#o7">V6Transmit</a>;
00808 
00809         <span class="keyword">struct</span>
00810 <span class="keyword">        </span>{       
<a name="l00811"></a><a class="code" href="../../d2/d8/struct__NDIS__TASK__TCP__IP__CHECKSUM.html#o0">00811</a>                 ULONG           <a class="code" href="../../d2/d8/struct__NDIS__TASK__TCP__IP__CHECKSUM.html#o0">IpOptionsSupported</a>:1;
<a name="l00812"></a><a class="code" href="../../d2/d8/struct__NDIS__TASK__TCP__IP__CHECKSUM.html#o1">00812</a>                 ULONG           <a class="code" href="../../d2/d8/struct__NDIS__TASK__TCP__IP__CHECKSUM.html#o1">TcpOptionsSupported</a>:1;
<a name="l00813"></a><a class="code" href="../../d2/d8/struct__NDIS__TASK__TCP__IP__CHECKSUM.html#o2">00813</a>                 ULONG           <a class="code" href="../../d2/d8/struct__NDIS__TASK__TCP__IP__CHECKSUM.html#o2">TcpChecksum</a>:1;
<a name="l00814"></a><a class="code" href="../../d2/d8/struct__NDIS__TASK__TCP__IP__CHECKSUM.html#o3">00814</a>                 ULONG           <a class="code" href="../../d2/d8/struct__NDIS__TASK__TCP__IP__CHECKSUM.html#o3">UdpChecksum</a>:1;
00815                 
00816         } V6Receive;
00817 
00818 
00819 } <a class="code" href="../../d2/d8/struct__NDIS__TASK__TCP__IP__CHECKSUM.html">NDIS_TASK_TCP_IP_CHECKSUM</a>, *<a class="code" href="../../d2/d8/struct__NDIS__TASK__TCP__IP__CHECKSUM.html">PNDIS_TASK_TCP_IP_CHECKSUM</a>;
00820 
00821 <span class="comment">//</span>
00822 <span class="comment">//      Off-load structure for NDIS_TASK_TCP_LARGE_SEND</span>
00823 <span class="comment">//</span>
<a name="l00824"></a><a class="code" href="../../d7/d8/struct__NDIS__TASK__TCP__LARGE__SEND.html">00824</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d8/struct__NDIS__TASK__TCP__LARGE__SEND.html">_NDIS_TASK_TCP_LARGE_SEND</a>
00825 {
<a name="l00826"></a><a class="code" href="../../d7/d8/struct__NDIS__TASK__TCP__LARGE__SEND.html#o0">00826</a>         ULONG     <a class="code" href="../../d7/d8/struct__NDIS__TASK__TCP__LARGE__SEND.html#o0">Version</a>;
<a name="l00827"></a><a class="code" href="../../d7/d8/struct__NDIS__TASK__TCP__LARGE__SEND.html#o1">00827</a>         ULONG     <a class="code" href="../../d7/d8/struct__NDIS__TASK__TCP__LARGE__SEND.html#o1">MaxOffLoadSize</a>;
<a name="l00828"></a><a class="code" href="../../d7/d8/struct__NDIS__TASK__TCP__LARGE__SEND.html#o2">00828</a>         ULONG            <a class="code" href="../../d7/d8/struct__NDIS__TASK__TCP__LARGE__SEND.html#o2">MinSegmentCount</a>;
<a name="l00829"></a><a class="code" href="../../d7/d8/struct__NDIS__TASK__TCP__LARGE__SEND.html#o3">00829</a>         BOOLEAN   <a class="code" href="../../d7/d8/struct__NDIS__TASK__TCP__LARGE__SEND.html#o3">TcpOptions</a>;
<a name="l00830"></a><a class="code" href="../../d7/d8/struct__NDIS__TASK__TCP__LARGE__SEND.html#o4">00830</a>         BOOLEAN   <a class="code" href="../../d7/d8/struct__NDIS__TASK__TCP__LARGE__SEND.html#o4">IpOptions</a>;
00831 
00832 } <a class="code" href="../../d7/d8/struct__NDIS__TASK__TCP__LARGE__SEND.html">NDIS_TASK_TCP_LARGE_SEND</a>, *<a class="code" href="../../d7/d8/struct__NDIS__TASK__TCP__LARGE__SEND.html">PNDIS_TASK_TCP_LARGE_SEND</a>;
00833 
00834 
<a name="l00835"></a><a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html">00835</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html">_NDIS_TASK_IPSEC</a>
00836 {
00837         <span class="keyword">struct</span>
00838 <span class="keyword">        </span>{
<a name="l00839"></a><a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o0">00839</a>                 ULONG   <a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o0">AH_ESP_COMBINED</a>;
<a name="l00840"></a><a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o1">00840</a>                 ULONG   <a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o1">TRANSPORT_TUNNEL_COMBINED</a>;
<a name="l00841"></a><a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o2">00841</a>                 ULONG   <a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o2">V4_OPTIONS</a>;
00842                 ULONG   <a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o3">RESERVED</a>;
00843         } Supported;
00844 
00845         <span class="keyword">struct</span>
00846 <span class="keyword">        </span>{
<a name="l00847"></a><a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o5">00847</a>                 ULONG   <a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o5">MD5</a>:1;
<a name="l00848"></a><a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o6">00848</a>                 ULONG   <a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o6">SHA_1</a>:1;
00849                 ULONG   <a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o7">Transport</a>:1;
00850                 ULONG   <a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o8">Tunnel</a>:1;
00851                 ULONG   <a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o9">Send</a>:1;
00852                 ULONG   <a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o10">Receive</a>:1;
00853         } V4AH;
00854 
00855         <span class="keyword">struct</span>
00856 <span class="keyword">        </span>{
<a name="l00857"></a><a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o12">00857</a>                 ULONG   <a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o12">DES</a>:1;
<a name="l00858"></a><a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o3">00858</a>                 ULONG   <a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o3">RESERVED</a>:1;
<a name="l00859"></a><a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o13">00859</a>                 ULONG   <a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o13">TRIPLE_DES</a>:1;
<a name="l00860"></a><a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o14">00860</a>                 ULONG   <a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o14">NULL_ESP</a>:1;
<a name="l00861"></a><a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o7">00861</a>                 ULONG   <a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o7">Transport</a>:1;
<a name="l00862"></a><a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o8">00862</a>                 ULONG   <a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o8">Tunnel</a>:1;
<a name="l00863"></a><a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o9">00863</a>                 ULONG   <a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o9">Send</a>:1;
<a name="l00864"></a><a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o10">00864</a>                 ULONG   <a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html#o10">Receive</a>:1;
00865         } V4ESP;
00866 
00867 } <a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html">NDIS_TASK_IPSEC</a>, *<a class="code" href="../../d6/d7/struct__NDIS__TASK__IPSEC.html">PNDIS_TASK_IPSEC</a>;
00868 
<a name="l00869"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a349">00869</a> <span class="keyword">typedef</span> <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>    <a class="code" href="../../d9/d5/ndismain_8h.html#a349">IEEE8021PPRIORITY</a>;
00870 
00871 <span class="comment">//</span>
00872 <span class="comment">// WAN Packet. This is used by WAN miniports only. This is the legacy model.</span>
00873 <span class="comment">// Co-Ndis is the preferred model for WAN miniports</span>
00874 <span class="comment">//</span>
<a name="l00875"></a><a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html">00875</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html">_NDIS_WAN_PACKET</a>
00876 {
<a name="l00877"></a><a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html#o0">00877</a>         LIST_ENTRY                      <a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html#o0">WanPacketQueue</a>;
<a name="l00878"></a><a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html#o1">00878</a>         PUCHAR                          <a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html#o1">CurrentBuffer</a>;
<a name="l00879"></a><a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html#o2">00879</a>         ULONG                           <a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html#o2">CurrentLength</a>;
<a name="l00880"></a><a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html#o3">00880</a>         PUCHAR                          <a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html#o3">StartBuffer</a>;
<a name="l00881"></a><a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html#o4">00881</a>         PUCHAR                          <a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html#o4">EndBuffer</a>;
<a name="l00882"></a><a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html#o5">00882</a>         PVOID                           <a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html#o5">ProtocolReserved1</a>;
<a name="l00883"></a><a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html#o6">00883</a>         PVOID                           <a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html#o6">ProtocolReserved2</a>;
<a name="l00884"></a><a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html#o7">00884</a>         PVOID                           <a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html#o7">ProtocolReserved3</a>;
<a name="l00885"></a><a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html#o8">00885</a>         PVOID                           <a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html#o8">ProtocolReserved4</a>;
<a name="l00886"></a><a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html#o9">00886</a>         PVOID                           <a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html#o9">MacReserved1</a>;
<a name="l00887"></a><a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html#o10">00887</a>         PVOID                           <a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html#o10">MacReserved2</a>;
<a name="l00888"></a><a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html#o11">00888</a>         PVOID                           <a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html#o11">MacReserved3</a>;
<a name="l00889"></a><a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html#o12">00889</a>         PVOID                           <a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html#o12">MacReserved4</a>;
00890 } <a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html">NDIS_WAN_PACKET</a>, *<a class="code" href="../../d3/d1/struct__NDIS__WAN__PACKET.html">PNDIS_WAN_PACKET</a>;
00891 
00892 <span class="comment">//</span>
00893 <span class="comment">// Routines to get/set packet flags</span>
00894 <span class="comment">//</span>
00895 
00896 <span class="comment">/*++</span>
00897 <span class="comment"></span>
00898 <span class="comment">UINT</span>
00899 <span class="comment">NdisGetPacketFlags(</span>
00900 <span class="comment">        IN      PNDIS_PACKET    Packet</span>
00901 <span class="comment">        );</span>
00902 <span class="comment"></span>
00903 <span class="comment">--*/</span>
00904 
<a name="l00905"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a56">00905</a> <span class="preprocessor">#define NdisGetPacketFlags(_Packet)             (_Packet)-&gt;Private.Flags</span>
00906 <span class="preprocessor"></span>
00907 <span class="comment">/*++</span>
00908 <span class="comment"></span>
00909 <span class="comment">VOID</span>
00910 <span class="comment">NdisSetPacketFlags(</span>
00911 <span class="comment">        IN      PNDIS_PACKET Packet,</span>
00912 <span class="comment">        IN      UINT Flags</span>
00913 <span class="comment">        );</span>
00914 <span class="comment"></span>
00915 <span class="comment">--*/</span>
00916 
<a name="l00917"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a57">00917</a> <span class="preprocessor">#define NdisSetPacketFlags(_Packet, _Flags)             (_Packet)-&gt;Private.Flags |= (_Flags)</span>
<a name="l00918"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a58">00918</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisClearPacketFlags(_Packet, _Flags)   (_Packet)-&gt;Private.Flags &amp;= ~(_Flags)</span>
00919 <span class="preprocessor"></span>
00920 <span class="comment">//</span>
00921 <span class="comment">// Request types used by NdisRequest; constants are added for</span>
00922 <span class="comment">// all entry points in the MAC, for those that want to create</span>
00923 <span class="comment">// their own internal requests.</span>
00924 <span class="comment">//</span>
00925 
<a name="l00926"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a516">00926</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d9/d5/ndismain_8h.html#a516">_NDIS_REQUEST_TYPE</a>
00927 {
00928         <a class="code" href="../../d9/d5/ndismain_8h.html#a516a424">NdisRequestQueryInformation</a>,
00929         <a class="code" href="../../d9/d5/ndismain_8h.html#a516a425">NdisRequestSetInformation</a>,
00930         <a class="code" href="../../d9/d5/ndismain_8h.html#a516a426">NdisRequestQueryStatistics</a>,
00931         <a class="code" href="../../d9/d5/ndismain_8h.html#a516a427">NdisRequestOpen</a>,
00932         <a class="code" href="../../d9/d5/ndismain_8h.html#a516a428">NdisRequestClose</a>,
00933         <a class="code" href="../../d9/d5/ndismain_8h.html#a516a429">NdisRequestSend</a>,
00934         <a class="code" href="../../d9/d5/ndismain_8h.html#a516a430">NdisRequestTransferData</a>,
00935         <a class="code" href="../../d9/d5/ndismain_8h.html#a516a431">NdisRequestReset</a>,
00936         <a class="code" href="../../d9/d5/ndismain_8h.html#a516a432">NdisRequestGeneric1</a>,
00937         <a class="code" href="../../d9/d5/ndismain_8h.html#a516a433">NdisRequestGeneric2</a>,
00938         <a class="code" href="../../d9/d5/ndismain_8h.html#a516a434">NdisRequestGeneric3</a>,
00939         <a class="code" href="../../d9/d5/ndismain_8h.html#a516a435">NdisRequestGeneric4</a>
00940 } <a class="code" href="../../d9/d5/ndismain_8h.html#a352">NDIS_REQUEST_TYPE</a>, *<a class="code" href="../../d9/d5/ndismain_8h.html#a353">PNDIS_REQUEST_TYPE</a>;
00941 
00942 
00943 <span class="comment">//</span>
00944 <span class="comment">// Structure of requests sent via NdisRequest</span>
00945 <span class="comment">//</span>
00946 
<a name="l00947"></a><a class="code" href="../../d7/d6/struct__NDIS__REQUEST.html">00947</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d6/struct__NDIS__REQUEST.html">_NDIS_REQUEST</a>
00948 {
<a name="l00949"></a><a class="code" href="../../d7/d6/struct__NDIS__REQUEST.html#o0">00949</a>         UCHAR                           <a class="code" href="../../d7/d6/struct__NDIS__REQUEST.html#o0">MacReserved</a>[4*<span class="keyword">sizeof</span>(PVOID)];
<a name="l00950"></a><a class="code" href="../../d7/d6/struct__NDIS__REQUEST.html#o1">00950</a>         <a class="code" href="../../d9/d5/ndismain_8h.html#a352">NDIS_REQUEST_TYPE</a>       <a class="code" href="../../d7/d6/struct__NDIS__REQUEST.html#o1">RequestType</a>;
<a name="l00951"></a><a class="code" href="../../d8/d6/union__NDIS__REQUEST_1_1__DATA.html">00951</a>         <span class="keyword">union </span><a class="code" href="../../d8/d6/union__NDIS__REQUEST_1_1__DATA.html">_DATA</a>
00952         {
<a name="l00953"></a><a class="code" href="../../d9/d6/struct__NDIS__REQUEST_1_1__DATA_1_1__QUERY__INFORMATION.html">00953</a>                 <span class="keyword">struct </span><a class="code" href="../../d9/d6/struct__NDIS__REQUEST_1_1__DATA_1_1__QUERY__INFORMATION.html">_QUERY_INFORMATION</a>
00954                 {
<a name="l00955"></a><a class="code" href="../../d9/d6/struct__NDIS__REQUEST_1_1__DATA_1_1__QUERY__INFORMATION.html#o0">00955</a>                         NDIS_OID        <a class="code" href="../../d9/d6/struct__NDIS__REQUEST_1_1__DATA_1_1__QUERY__INFORMATION.html#o0">Oid</a>;
<a name="l00956"></a><a class="code" href="../../d9/d6/struct__NDIS__REQUEST_1_1__DATA_1_1__QUERY__INFORMATION.html#o1">00956</a>                         PVOID           <a class="code" href="../../d9/d6/struct__NDIS__REQUEST_1_1__DATA_1_1__QUERY__INFORMATION.html#o1">InformationBuffer</a>;
<a name="l00957"></a><a class="code" href="../../d9/d6/struct__NDIS__REQUEST_1_1__DATA_1_1__QUERY__INFORMATION.html#o2">00957</a>                         <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>            <a class="code" href="../../d9/d6/struct__NDIS__REQUEST_1_1__DATA_1_1__QUERY__INFORMATION.html#o2">InformationBufferLength</a>;
<a name="l00958"></a><a class="code" href="../../d9/d6/struct__NDIS__REQUEST_1_1__DATA_1_1__QUERY__INFORMATION.html#o3">00958</a>                         <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>            <a class="code" href="../../d9/d6/struct__NDIS__REQUEST_1_1__DATA_1_1__QUERY__INFORMATION.html#o3">BytesWritten</a>;
<a name="l00959"></a><a class="code" href="../../d9/d6/struct__NDIS__REQUEST_1_1__DATA_1_1__QUERY__INFORMATION.html#o4">00959</a>                         <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>            <a class="code" href="../../d9/d6/struct__NDIS__REQUEST_1_1__DATA_1_1__QUERY__INFORMATION.html#o4">BytesNeeded</a>;
00960                 } <a class="code" href="../../d8/d6/union__NDIS__REQUEST_1_1__DATA.html#o0">QUERY_INFORMATION</a>;
00961 
<a name="l00962"></a><a class="code" href="../../d0/d7/struct__NDIS__REQUEST_1_1__DATA_1_1__SET__INFORMATION.html">00962</a>                 <span class="keyword">struct </span><a class="code" href="../../d0/d7/struct__NDIS__REQUEST_1_1__DATA_1_1__SET__INFORMATION.html">_SET_INFORMATION</a>
00963                 {
<a name="l00964"></a><a class="code" href="../../d0/d7/struct__NDIS__REQUEST_1_1__DATA_1_1__SET__INFORMATION.html#o0">00964</a>                         NDIS_OID        <a class="code" href="../../d0/d7/struct__NDIS__REQUEST_1_1__DATA_1_1__SET__INFORMATION.html#o0">Oid</a>;
<a name="l00965"></a><a class="code" href="../../d0/d7/struct__NDIS__REQUEST_1_1__DATA_1_1__SET__INFORMATION.html#o1">00965</a>                         PVOID           <a class="code" href="../../d0/d7/struct__NDIS__REQUEST_1_1__DATA_1_1__SET__INFORMATION.html#o1">InformationBuffer</a>;
<a name="l00966"></a><a class="code" href="../../d0/d7/struct__NDIS__REQUEST_1_1__DATA_1_1__SET__INFORMATION.html#o2">00966</a>                         <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>            <a class="code" href="../../d0/d7/struct__NDIS__REQUEST_1_1__DATA_1_1__SET__INFORMATION.html#o2">InformationBufferLength</a>;
<a name="l00967"></a><a class="code" href="../../d0/d7/struct__NDIS__REQUEST_1_1__DATA_1_1__SET__INFORMATION.html#o3">00967</a>                         <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>            <a class="code" href="../../d0/d7/struct__NDIS__REQUEST_1_1__DATA_1_1__SET__INFORMATION.html#o3">BytesRead</a>;
<a name="l00968"></a><a class="code" href="../../d0/d7/struct__NDIS__REQUEST_1_1__DATA_1_1__SET__INFORMATION.html#o4">00968</a>                         <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>            <a class="code" href="../../d0/d7/struct__NDIS__REQUEST_1_1__DATA_1_1__SET__INFORMATION.html#o4">BytesNeeded</a>;
00969                 } <a class="code" href="../../d8/d6/union__NDIS__REQUEST_1_1__DATA.html#o1">SET_INFORMATION</a>;
00970 
00971         } <a class="code" href="../../d7/d6/struct__NDIS__REQUEST.html#o2">DATA</a>;
00972 <span class="preprocessor">#if (defined(NDIS50) || defined(NDIS50_MINIPORT))</span>
00973 <span class="preprocessor"></span>        UCHAR                           NdisReserved[9*<span class="keyword">sizeof</span>(PVOID)];
00974         <span class="keyword">union</span>
00975 <span class="keyword">        </span>{
00976                 UCHAR                   CallMgrReserved[2*<span class="keyword">sizeof</span>(PVOID)];
00977                 UCHAR                   ProtocolReserved[2*<span class="keyword">sizeof</span>(PVOID)];
00978         };
00979         UCHAR                           MiniportReserved[2*<span class="keyword">sizeof</span>(PVOID)];
00980 <span class="preprocessor">#endif</span>
00981 <span class="preprocessor"></span>} <a class="code" href="../../d7/d6/struct__NDIS__REQUEST.html">NDIS_REQUEST</a>, *<a class="code" href="../../d7/d6/struct__NDIS__REQUEST.html">PNDIS_REQUEST</a>;
00982 
00983 
00984 <span class="comment">//</span>
00985 <span class="comment">// NDIS Address Family definitions.</span>
00986 <span class="comment">//</span>
<a name="l00987"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a357">00987</a> <span class="keyword">typedef</span> ULONG                   <a class="code" href="../../d9/d5/ndismain_8h.html#a356">NDIS_AF</a>, *<a class="code" href="../../d9/d5/ndismain_8h.html#a357">PNDIS_AF</a>;
<a name="l00988"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a59">00988</a> <span class="preprocessor">#define CO_ADDRESS_FAMILY_Q2931                         ((NDIS_AF)0x1)  // ATM</span>
<a name="l00989"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a60">00989</a> <span class="preprocessor"></span><span class="preprocessor">#define CO_ADDRESS_FAMILY_PSCHED                        ((NDIS_AF)0x2)  // Packet scheduler</span>
<a name="l00990"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a61">00990</a> <span class="preprocessor"></span><span class="preprocessor">#define CO_ADDRESS_FAMILY_L2TP                          ((NDIS_AF)0x3)</span>
<a name="l00991"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a62">00991</a> <span class="preprocessor"></span><span class="preprocessor">#define CO_ADDRESS_FAMILY_IRDA                          ((NDIS_AF)0x4)</span>
<a name="l00992"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a63">00992</a> <span class="preprocessor"></span><span class="preprocessor">#define CO_ADDRESS_FAMILY_1394                          ((NDIS_AF)0x5)</span>
<a name="l00993"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a64">00993</a> <span class="preprocessor"></span><span class="preprocessor">#define CO_ADDRESS_FAMILY_PPP               ((NDIS_AF)0x6)</span>
<a name="l00994"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a65">00994</a> <span class="preprocessor"></span><span class="preprocessor">#define CO_ADDRESS_FAMILY_TAPI                          ((NDIS_AF)0x800)</span>
<a name="l00995"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a66">00995</a> <span class="preprocessor"></span><span class="preprocessor">#define CO_ADDRESS_FAMILY_TAPI_PROXY            ((NDIS_AF)0x801)</span>
00996 <span class="preprocessor"></span>
00997 <span class="comment">//</span>
00998 <span class="comment">// The following is OR'ed with the base AF to denote proxy support</span>
00999 <span class="comment">//</span>
<a name="l01000"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a67">01000</a> <span class="preprocessor">#define CO_ADDRESS_FAMILY_PROXY                         0x80000000</span>
01001 <span class="preprocessor"></span>
01002 
01003 <span class="comment">//</span>
01004 <span class="comment">//      Address family structure registered/opened via</span>
01005 <span class="comment">//              NdisCmRegisterAddressFamily</span>
01006 <span class="comment">//              NdisClOpenAddressFamily</span>
01007 <span class="comment">//</span>
<a name="l01008"></a><a class="code" href="../../d7/d4/structCO__ADDRESS__FAMILY.html">01008</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
01009 <span class="keyword"></span>{
<a name="l01010"></a><a class="code" href="../../d7/d4/structCO__ADDRESS__FAMILY.html#o0">01010</a>         <a class="code" href="../../d9/d5/ndismain_8h.html#a356">NDIS_AF</a>                                         AddressFamily;  <span class="comment">// one of the CO_ADDRESS_FAMILY_xxx values above</span>
<a name="l01011"></a><a class="code" href="../../d7/d4/structCO__ADDRESS__FAMILY.html#o1">01011</a>         ULONG                                           MajorVersion;   <span class="comment">// the major version of call manager</span>
<a name="l01012"></a><a class="code" href="../../d7/d4/structCO__ADDRESS__FAMILY.html#o2">01012</a>         ULONG                                           MinorVersion;   <span class="comment">// the minor version of call manager</span>
01013 } <a class="code" href="../../d7/d4/structCO__ADDRESS__FAMILY.html">CO_ADDRESS_FAMILY</a>, *<a class="code" href="../../d9/d5/ndismain_8h.html#a358">PCO_ADDRESS_FAMILY</a>;
01014 
01015 <span class="comment">//</span>
01016 <span class="comment">// Definition for a SAP</span>
01017 <span class="comment">//</span>
<a name="l01018"></a><a class="code" href="../../d8/d4/structCO__SAP.html">01018</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
01019 <span class="keyword"></span>{
<a name="l01020"></a><a class="code" href="../../d8/d4/structCO__SAP.html#o0">01020</a>         ULONG                                           SapType;
<a name="l01021"></a><a class="code" href="../../d8/d4/structCO__SAP.html#o1">01021</a>         ULONG                                           SapLength;
<a name="l01022"></a><a class="code" href="../../d8/d4/structCO__SAP.html#o2">01022</a>         UCHAR                                           Sap[1];
01023 } <a class="code" href="../../d8/d4/structCO__SAP.html">CO_SAP</a>, *<a class="code" href="../../d9/d5/ndismain_8h.html#a359">PCO_SAP</a>;
01024 
01025 <span class="comment">//</span>
01026 <span class="comment">// Definitions for physical address.</span>
01027 <span class="comment">//</span>
01028 
<a name="l01029"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a361">01029</a> <span class="keyword">typedef</span> PHYSICAL_ADDRESS <a class="code" href="../../d9/d5/ndismain_8h.html#a360">NDIS_PHYSICAL_ADDRESS</a>, *<a class="code" href="../../d9/d5/ndismain_8h.html#a361">PNDIS_PHYSICAL_ADDRESS</a>;
<a name="l01030"></a><a class="code" href="../../d5/d6/struct__NDIS__PHYSICAL__ADDRESS__UNIT.html">01030</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d5/d6/struct__NDIS__PHYSICAL__ADDRESS__UNIT.html">_NDIS_PHYSICAL_ADDRESS_UNIT</a>
01031 {
<a name="l01032"></a><a class="code" href="../../d5/d6/struct__NDIS__PHYSICAL__ADDRESS__UNIT.html#o0">01032</a>         <a class="code" href="../../d9/d5/ndismain_8h.html#a360">NDIS_PHYSICAL_ADDRESS</a>           <a class="code" href="../../d5/d6/struct__NDIS__PHYSICAL__ADDRESS__UNIT.html#o0">PhysicalAddress</a>;
<a name="l01033"></a><a class="code" href="../../d5/d6/struct__NDIS__PHYSICAL__ADDRESS__UNIT.html#o1">01033</a>         <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>                                            <a class="code" href="../../d5/d6/struct__NDIS__PHYSICAL__ADDRESS__UNIT.html#o1">Length</a>;
01034 } <a class="code" href="../../d5/d6/struct__NDIS__PHYSICAL__ADDRESS__UNIT.html">NDIS_PHYSICAL_ADDRESS_UNIT</a>, *<a class="code" href="../../d5/d6/struct__NDIS__PHYSICAL__ADDRESS__UNIT.html">PNDIS_PHYSICAL_ADDRESS_UNIT</a>;
01035 
01036 
01037 <span class="comment">/*++</span>
01038 <span class="comment"></span>
01039 <span class="comment">ULONG</span>
01040 <span class="comment">NdisGetPhysicalAddressHigh(</span>
01041 <span class="comment">        IN      NDIS_PHYSICAL_ADDRESS   PhysicalAddress</span>
01042 <span class="comment">        );</span>
01043 <span class="comment"></span>
01044 <span class="comment">--*/</span>
01045 
<a name="l01046"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a68">01046</a> <span class="preprocessor">#define NdisGetPhysicalAddressHigh(_PhysicalAddress)                    \</span>
01047 <span class="preprocessor">                ((_PhysicalAddress).HighPart)</span>
01048 <span class="preprocessor"></span>
01049 <span class="comment">/*++</span>
01050 <span class="comment"></span>
01051 <span class="comment">VOID</span>
01052 <span class="comment">NdisSetPhysicalAddressHigh(</span>
01053 <span class="comment">        IN      NDIS_PHYSICAL_ADDRESS   PhysicalAddress,</span>
01054 <span class="comment">        IN      ULONG                                   Value</span>
01055 <span class="comment">        );</span>
01056 <span class="comment"></span>
01057 <span class="comment">--*/</span>
01058 
<a name="l01059"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a69">01059</a> <span class="preprocessor">#define NdisSetPhysicalAddressHigh(_PhysicalAddress, _Value)    \</span>
01060 <span class="preprocessor">         ((_PhysicalAddress).HighPart) = (_Value)</span>
01061 <span class="preprocessor"></span>
01062 
01063 <span class="comment">/*++</span>
01064 <span class="comment"></span>
01065 <span class="comment">ULONG</span>
01066 <span class="comment">NdisGetPhysicalAddressLow(</span>
01067 <span class="comment">        IN      NDIS_PHYSICAL_ADDRESS PhysicalAddress</span>
01068 <span class="comment">        );</span>
01069 <span class="comment"></span>
01070 <span class="comment">--*/</span>
01071 
<a name="l01072"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a70">01072</a> <span class="preprocessor">#define NdisGetPhysicalAddressLow(_PhysicalAddress)                             \</span>
01073 <span class="preprocessor">        ((_PhysicalAddress).LowPart)</span>
01074 <span class="preprocessor"></span>
01075 
01076 <span class="comment">/*++</span>
01077 <span class="comment"></span>
01078 <span class="comment">VOID</span>
01079 <span class="comment">NdisSetPhysicalAddressLow(</span>
01080 <span class="comment">        IN      NDIS_PHYSICAL_ADDRESS   PhysicalAddress,</span>
01081 <span class="comment">        IN      ULONG                                   Value</span>
01082 <span class="comment">        );</span>
01083 <span class="comment"></span>
01084 <span class="comment">--*/</span>
01085 
<a name="l01086"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a71">01086</a> <span class="preprocessor">#define NdisSetPhysicalAddressLow(_PhysicalAddress, _Value)             \</span>
01087 <span class="preprocessor">        ((_PhysicalAddress).LowPart) = (_Value)</span>
01088 <span class="preprocessor"></span>
01089 <span class="comment">//</span>
01090 <span class="comment">// Macro to initialize an NDIS_PHYSICAL_ADDRESS constant</span>
01091 <span class="comment">//</span>
01092 
<a name="l01093"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a72">01093</a> <span class="preprocessor">#define NDIS_PHYSICAL_ADDRESS_CONST(_Low, _High)                                \</span>
01094 <span class="preprocessor">        { (ULONG)(_Low), (LONG)(_High) }</span>
01095 <span class="preprocessor"></span>
01096 
01097 <span class="comment">//</span>
01098 <span class="comment">// block used for references...</span>
01099 <span class="comment">//</span>
<a name="l01100"></a><a class="code" href="../../d8/d2/struct__REFERENCE.html">01100</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/d2/struct__REFERENCE.html">_REFERENCE</a>
01101 {
<a name="l01102"></a><a class="code" href="../../d8/d2/struct__REFERENCE.html#o0">01102</a>         KSPIN_LOCK                                      <a class="code" href="../../d8/d2/struct__REFERENCE.html#o0">SpinLock</a>;
<a name="l01103"></a><a class="code" href="../../d8/d2/struct__REFERENCE.html#o1">01103</a>         <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>                                          <a class="code" href="../../d8/d2/struct__REFERENCE.html#o1">ReferenceCount</a>;
<a name="l01104"></a><a class="code" href="../../d8/d2/struct__REFERENCE.html#o2">01104</a>         BOOLEAN                                         <a class="code" href="../../d8/d2/struct__REFERENCE.html#o2">Closing</a>;
01105 } <a class="code" href="../../d8/d2/struct__REFERENCE.html">REFERENCE</a>, * <a class="code" href="../../d8/d2/struct__REFERENCE.html">PREFERENCE</a>;
01106 
01107 
01108 <span class="comment">//</span>
01109 <span class="comment">// This holds a map register entry.</span>
01110 <span class="comment">//</span>
01111 
<a name="l01112"></a><a class="code" href="../../d4/d6/struct__MAP__REGISTER__ENTRY.html">01112</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d4/d6/struct__MAP__REGISTER__ENTRY.html">_MAP_REGISTER_ENTRY</a>
01113 {
<a name="l01114"></a><a class="code" href="../../d4/d6/struct__MAP__REGISTER__ENTRY.html#o0">01114</a>         PVOID                                           <a class="code" href="../../d4/d6/struct__MAP__REGISTER__ENTRY.html#o0">MapRegister</a>;
<a name="l01115"></a><a class="code" href="../../d4/d6/struct__MAP__REGISTER__ENTRY.html#o1">01115</a>         BOOLEAN                                         <a class="code" href="../../d4/d6/struct__MAP__REGISTER__ENTRY.html#o1">WriteToDevice</a>;
01116 } <a class="code" href="../../d4/d6/struct__MAP__REGISTER__ENTRY.html">MAP_REGISTER_ENTRY</a>, * <a class="code" href="../../d4/d6/struct__MAP__REGISTER__ENTRY.html">PMAP_REGISTER_ENTRY</a>;
01117 
01118 <span class="comment">//</span>
01119 <span class="comment">// Types of Memory (not mutually exclusive)</span>
01120 <span class="comment">//</span>
01121 
<a name="l01122"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a73">01122</a> <span class="preprocessor">#define NDIS_MEMORY_CONTIGUOUS          0x00000001</span>
<a name="l01123"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a74">01123</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_MEMORY_NONCACHED           0x00000002</span>
01124 <span class="preprocessor"></span>
01125 <span class="comment">//</span>
01126 <span class="comment">// Open options</span>
01127 <span class="comment">//</span>
<a name="l01128"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a75">01128</a> <span class="preprocessor">#define NDIS_OPEN_RECEIVE_NOT_REENTRANT 0x00000001</span>
01129 <span class="preprocessor"></span>
01130 <span class="comment">//</span>
01131 <span class="comment">// NDIS_STATUS values</span>
01132 <span class="comment">//</span>
01133 
<a name="l01134"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a76">01134</a> <span class="preprocessor">#define NDIS_STATUS_SUCCESS                                             ((NDIS_STATUS)STATUS_SUCCESS)</span>
<a name="l01135"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a77">01135</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_PENDING                                             ((NDIS_STATUS) STATUS_PENDING)</span>
<a name="l01136"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a78">01136</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_NOT_RECOGNIZED                              ((NDIS_STATUS)0x00010001L)</span>
<a name="l01137"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a79">01137</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_NOT_COPIED                                  ((NDIS_STATUS)0x00010002L)</span>
<a name="l01138"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a80">01138</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_NOT_ACCEPTED                                ((NDIS_STATUS)0x00010003L)</span>
<a name="l01139"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a81">01139</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_CALL_ACTIVE                                 ((NDIS_STATUS)0x00010007L)</span>
01140 <span class="preprocessor"></span>
<a name="l01141"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a82">01141</a> <span class="preprocessor">#define NDIS_STATUS_ONLINE                                              ((NDIS_STATUS)0x40010003L)</span>
<a name="l01142"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a83">01142</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_RESET_START                                 ((NDIS_STATUS)0x40010004L)</span>
<a name="l01143"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a84">01143</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_RESET_END                                   ((NDIS_STATUS)0x40010005L)</span>
<a name="l01144"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a85">01144</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_RING_STATUS                                 ((NDIS_STATUS)0x40010006L)</span>
<a name="l01145"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a86">01145</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_CLOSED                                              ((NDIS_STATUS)0x40010007L)</span>
<a name="l01146"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a87">01146</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_WAN_LINE_UP                                 ((NDIS_STATUS)0x40010008L)</span>
<a name="l01147"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a88">01147</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_WAN_LINE_DOWN                               ((NDIS_STATUS)0x40010009L)</span>
<a name="l01148"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a89">01148</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_WAN_FRAGMENT                                ((NDIS_STATUS)0x4001000AL)</span>
<a name="l01149"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a90">01149</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_MEDIA_CONNECT                               ((NDIS_STATUS)0x4001000BL)</span>
<a name="l01150"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a91">01150</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_MEDIA_DISCONNECT                    ((NDIS_STATUS)0x4001000CL)</span>
<a name="l01151"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a92">01151</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_HARDWARE_LINE_UP                    ((NDIS_STATUS)0x4001000DL)</span>
<a name="l01152"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a93">01152</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_HARDWARE_LINE_DOWN                  ((NDIS_STATUS)0x4001000EL)</span>
<a name="l01153"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a94">01153</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_INTERFACE_UP                                ((NDIS_STATUS)0x4001000FL)</span>
<a name="l01154"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a95">01154</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_INTERFACE_DOWN                              ((NDIS_STATUS)0x40010010L)</span>
<a name="l01155"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a96">01155</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_MEDIA_BUSY                                  ((NDIS_STATUS)0x40010011L)</span>
<a name="l01156"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a97">01156</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_MEDIA_SPECIFIC_INDICATION   ((NDIS_STATUS)0x40010012L)</span>
<a name="l01157"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a98">01157</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_WW_INDICATION                               NDIS_STATUS_MEDIA_SPECIFIC_INDICATION</span>
<a name="l01158"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a99">01158</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_LINK_SPEED_CHANGE                   ((NDIS_STATUS)0x40010013L)</span>
<a name="l01159"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a100">01159</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_WAN_GET_STATS                               ((NDIS_STATUS)0x40010014L)</span>
<a name="l01160"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a101">01160</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_WAN_CO_FRAGMENT             ((NDIS_STATUS)0x40010015L)</span>
<a name="l01161"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a102">01161</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_WAN_CO_LINKPARAMS           ((NDIS_STATUS)0x40010016L)</span>
01162 <span class="preprocessor"></span>
<a name="l01163"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a103">01163</a> <span class="preprocessor">#define NDIS_STATUS_NOT_RESETTABLE                              ((NDIS_STATUS)0x80010001L)</span>
<a name="l01164"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a104">01164</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_SOFT_ERRORS                                 ((NDIS_STATUS)0x80010003L)</span>
<a name="l01165"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a105">01165</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_HARD_ERRORS                                 ((NDIS_STATUS)0x80010004L)</span>
<a name="l01166"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a106">01166</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_BUFFER_OVERFLOW                             ((NDIS_STATUS)STATUS_BUFFER_OVERFLOW)</span>
01167 <span class="preprocessor"></span>
<a name="l01168"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a107">01168</a> <span class="preprocessor">#define NDIS_STATUS_FAILURE                                             ((NDIS_STATUS) STATUS_UNSUCCESSFUL)</span>
<a name="l01169"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a108">01169</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_RESOURCES                                   ((NDIS_STATUS)STATUS_INSUFFICIENT_RESOURCES)</span>
<a name="l01170"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a109">01170</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_CLOSING                                             ((NDIS_STATUS)0xC0010002L)</span>
<a name="l01171"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a110">01171</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_BAD_VERSION                                 ((NDIS_STATUS)0xC0010004L)</span>
<a name="l01172"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a111">01172</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_BAD_CHARACTERISTICS                 ((NDIS_STATUS)0xC0010005L)</span>
<a name="l01173"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a112">01173</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_ADAPTER_NOT_FOUND                   ((NDIS_STATUS)0xC0010006L)</span>
<a name="l01174"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a113">01174</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_OPEN_FAILED                                 ((NDIS_STATUS)0xC0010007L)</span>
<a name="l01175"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a114">01175</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_DEVICE_FAILED                               ((NDIS_STATUS)0xC0010008L)</span>
<a name="l01176"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a115">01176</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_MULTICAST_FULL                              ((NDIS_STATUS)0xC0010009L)</span>
<a name="l01177"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a116">01177</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_MULTICAST_EXISTS                    ((NDIS_STATUS)0xC001000AL)</span>
<a name="l01178"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a117">01178</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_MULTICAST_NOT_FOUND                 ((NDIS_STATUS)0xC001000BL)</span>
<a name="l01179"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a118">01179</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_REQUEST_ABORTED                             ((NDIS_STATUS)0xC001000CL)</span>
<a name="l01180"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a119">01180</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_RESET_IN_PROGRESS                   ((NDIS_STATUS)0xC001000DL)</span>
<a name="l01181"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a120">01181</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_CLOSING_INDICATING                  ((NDIS_STATUS)0xC001000EL)</span>
<a name="l01182"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a121">01182</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_NOT_SUPPORTED                               ((NDIS_STATUS)STATUS_NOT_SUPPORTED)</span>
<a name="l01183"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a122">01183</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_INVALID_PACKET                              ((NDIS_STATUS)0xC001000FL)</span>
<a name="l01184"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a123">01184</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_OPEN_LIST_FULL                              ((NDIS_STATUS)0xC0010010L)</span>
<a name="l01185"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a124">01185</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_ADAPTER_NOT_READY                   ((NDIS_STATUS)0xC0010011L)</span>
<a name="l01186"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a125">01186</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_ADAPTER_NOT_OPEN                    ((NDIS_STATUS)0xC0010012L)</span>
<a name="l01187"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a126">01187</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_NOT_INDICATING                              ((NDIS_STATUS)0xC0010013L)</span>
<a name="l01188"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a127">01188</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_INVALID_LENGTH                              ((NDIS_STATUS)0xC0010014L)</span>
<a name="l01189"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a128">01189</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_INVALID_DATA                                ((NDIS_STATUS)0xC0010015L)</span>
<a name="l01190"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a129">01190</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_BUFFER_TOO_SHORT                    ((NDIS_STATUS)0xC0010016L)</span>
<a name="l01191"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a130">01191</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_INVALID_OID                                 ((NDIS_STATUS)0xC0010017L)</span>
<a name="l01192"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a131">01192</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_ADAPTER_REMOVED                             ((NDIS_STATUS)0xC0010018L)</span>
<a name="l01193"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a132">01193</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_UNSUPPORTED_MEDIA                   ((NDIS_STATUS)0xC0010019L)</span>
<a name="l01194"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a133">01194</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_GROUP_ADDRESS_IN_USE                ((NDIS_STATUS)0xC001001AL)</span>
<a name="l01195"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a134">01195</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_FILE_NOT_FOUND                              ((NDIS_STATUS)0xC001001BL)</span>
<a name="l01196"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a135">01196</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_ERROR_READING_FILE                  ((NDIS_STATUS)0xC001001CL)</span>
<a name="l01197"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a136">01197</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_ALREADY_MAPPED                              ((NDIS_STATUS)0xC001001DL)</span>
<a name="l01198"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a137">01198</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_RESOURCE_CONFLICT                   ((NDIS_STATUS)0xC001001EL)</span>
<a name="l01199"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a138">01199</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_NO_CABLE                                    ((NDIS_STATUS)0xC001001FL)</span>
01200 <span class="preprocessor"></span>
<a name="l01201"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a139">01201</a> <span class="preprocessor">#define NDIS_STATUS_INVALID_SAP                                 ((NDIS_STATUS)0xC0010020L)</span>
<a name="l01202"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a140">01202</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_SAP_IN_USE                                  ((NDIS_STATUS)0xC0010021L)</span>
<a name="l01203"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a141">01203</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_INVALID_ADDRESS                             ((NDIS_STATUS)0xC0010022L)</span>
<a name="l01204"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a142">01204</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_VC_NOT_ACTIVATED                    ((NDIS_STATUS)0xC0010023L)</span>
<a name="l01205"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a143">01205</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_DEST_OUT_OF_ORDER                   ((NDIS_STATUS)0xC0010024L)      // cause 27</span>
<a name="l01206"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a144">01206</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_VC_NOT_AVAILABLE                    ((NDIS_STATUS)0xC0010025L)      // cause 35,45</span>
<a name="l01207"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a145">01207</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_CELLRATE_NOT_AVAILABLE              ((NDIS_STATUS)0xC0010026L)      // cause 37</span>
<a name="l01208"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a146">01208</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_INCOMPATABLE_QOS                    ((NDIS_STATUS)0xC0010027L)      // cause 49</span>
<a name="l01209"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a147">01209</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_AAL_PARAMS_UNSUPPORTED              ((NDIS_STATUS)0xC0010028L)      // cause 93</span>
<a name="l01210"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a148">01210</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_NO_ROUTE_TO_DESTINATION             ((NDIS_STATUS)0xC0010029L)      // cause 3</span>
01211 <span class="preprocessor"></span>
<a name="l01212"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a149">01212</a> <span class="preprocessor">#define NDIS_STATUS_TOKEN_RING_OPEN_ERROR               ((NDIS_STATUS)0xC0011000L)</span>
<a name="l01213"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a150">01213</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_INVALID_DEVICE_REQUEST              ((NDIS_STATUS)STATUS_INVALID_DEVICE_REQUEST)</span>
<a name="l01214"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a151">01214</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_STATUS_NETWORK_UNREACHABLE                 ((NDIS_STATUS)STATUS_NETWORK_UNREACHABLE)</span>
01215 <span class="preprocessor"></span>
01216 
01217 <span class="comment">//</span>
01218 <span class="comment">// used in error logging</span>
01219 <span class="comment">//</span>
01220 
<a name="l01221"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a152">01221</a> <span class="preprocessor">#define NDIS_ERROR_CODE ULONG</span>
01222 <span class="preprocessor"></span>
<a name="l01223"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a153">01223</a> <span class="preprocessor">#define NDIS_ERROR_CODE_RESOURCE_CONFLICT                       EVENT_NDIS_RESOURCE_CONFLICT</span>
<a name="l01224"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a154">01224</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_ERROR_CODE_OUT_OF_RESOURCES                        EVENT_NDIS_OUT_OF_RESOURCE</span>
<a name="l01225"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a155">01225</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_ERROR_CODE_HARDWARE_FAILURE                        EVENT_NDIS_HARDWARE_FAILURE</span>
<a name="l01226"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a156">01226</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_ERROR_CODE_ADAPTER_NOT_FOUND                       EVENT_NDIS_ADAPTER_NOT_FOUND</span>
<a name="l01227"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a157">01227</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_ERROR_CODE_INTERRUPT_CONNECT                       EVENT_NDIS_INTERRUPT_CONNECT</span>
<a name="l01228"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a158">01228</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_ERROR_CODE_DRIVER_FAILURE                          EVENT_NDIS_DRIVER_FAILURE</span>
<a name="l01229"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a159">01229</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_ERROR_CODE_BAD_VERSION                                     EVENT_NDIS_BAD_VERSION</span>
<a name="l01230"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a160">01230</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_ERROR_CODE_TIMEOUT                                         EVENT_NDIS_TIMEOUT</span>
<a name="l01231"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a161">01231</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_ERROR_CODE_NETWORK_ADDRESS                         EVENT_NDIS_NETWORK_ADDRESS</span>
<a name="l01232"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a162">01232</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_ERROR_CODE_UNSUPPORTED_CONFIGURATION       EVENT_NDIS_UNSUPPORTED_CONFIGURATION</span>
<a name="l01233"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a163">01233</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_ERROR_CODE_INVALID_VALUE_FROM_ADAPTER      EVENT_NDIS_INVALID_VALUE_FROM_ADAPTER</span>
<a name="l01234"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a164">01234</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_ERROR_CODE_MISSING_CONFIGURATION_PARAMETER EVENT_NDIS_MISSING_CONFIGURATION_PARAMETER</span>
<a name="l01235"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a165">01235</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_ERROR_CODE_BAD_IO_BASE_ADDRESS                     EVENT_NDIS_BAD_IO_BASE_ADDRESS</span>
<a name="l01236"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a166">01236</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_ERROR_CODE_RECEIVE_SPACE_SMALL                     EVENT_NDIS_RECEIVE_SPACE_SMALL</span>
<a name="l01237"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a167">01237</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIS_ERROR_CODE_ADAPTER_DISABLED                        EVENT_NDIS_ADAPTER_DISABLED</span>
01238 <span class="preprocessor"></span>
01239 <span class="preprocessor">#if BINARY_COMPATIBLE</span>
01240 <span class="preprocessor"></span>
01241 <span class="preprocessor">#if     USE_KLOCKS</span>
01242 <span class="preprocessor"></span>
01243 <span class="preprocessor">#define DISPATCH_LEVEL          2</span>
01244 <span class="preprocessor"></span>
01245 <span class="preprocessor">#define NdisAllocateSpinLock(_SpinLock) KeInitializeSpinLock(&amp;(_SpinLock)-&gt;SpinLock)</span>
01246 <span class="preprocessor"></span>
01247 <span class="preprocessor">#define NdisFreeSpinLock(_SpinLock)</span>
01248 <span class="preprocessor"></span>
01249 <span class="preprocessor">#define NdisAcquireSpinLock(_SpinLock)  KeAcquireSpinLock(&amp;(_SpinLock)-&gt;SpinLock, &amp;(_SpinLock)-&gt;OldIrql)</span>
01250 <span class="preprocessor"></span>
01251 <span class="preprocessor">#define NdisReleaseSpinLock(_SpinLock)  KeReleaseSpinLock(&amp;(_SpinLock)-&gt;SpinLock,(_SpinLock)-&gt;OldIrql)</span>
01252 <span class="preprocessor"></span>
01253 <span class="preprocessor">#define NdisDprAcquireSpinLock(_SpinLock)                                               \</span>
01254 <span class="preprocessor">{                                                                                                                               \</span>
01255 <span class="preprocessor">        KeAcquireSpinLockAtDpcLevel(&amp;(_SpinLock)-&gt;SpinLock);            \</span>
01256 <span class="preprocessor">        (_SpinLock)-&gt;OldIrql = DISPATCH_LEVEL;                                          \</span>
01257 <span class="preprocessor">}</span>
01258 <span class="preprocessor"></span>
01259 <span class="preprocessor">#define NdisDprReleaseSpinLock(_SpinLock) KeReleaseSpinLockFromDpcLevel(&amp;(_SpinLock)-&gt;SpinLock)</span>
01260 <span class="preprocessor"></span>
01261 <span class="preprocessor">#else</span>
01262 <span class="preprocessor"></span>
01263 <span class="comment">//</span>
01264 <span class="comment">// Ndis Spin Locks</span>
01265 <span class="comment">//</span>
01266 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01267 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01268 <a class="code" href="../../d9/d5/ndismain_8h.html#a168">NdisAllocateSpinLock</a>(
01269         IN      PNDIS_SPIN_LOCK                 SpinLock
01270         );
01271 
01272 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01273 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01274 <a class="code" href="../../d9/d5/ndismain_8h.html#a169">NdisFreeSpinLock</a>(
01275         IN      PNDIS_SPIN_LOCK                 SpinLock
01276         );
01277 
01278 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01279 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01280 <a class="code" href="../../d9/d5/ndismain_8h.html#a170">NdisAcquireSpinLock</a>(
01281         IN      PNDIS_SPIN_LOCK                 SpinLock
01282         );
01283 
01284 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01285 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01286 <a class="code" href="../../d9/d5/ndismain_8h.html#a171">NdisReleaseSpinLock</a>(
01287         IN      PNDIS_SPIN_LOCK                 SpinLock
01288         );
01289 
01290 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01291 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01292 <a class="code" href="../../d9/d5/ndismain_8h.html#a172">NdisDprAcquireSpinLock</a>(
01293         IN      PNDIS_SPIN_LOCK                 SpinLock
01294         );
01295 
01296 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01297 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01298 <a class="code" href="../../d9/d5/ndismain_8h.html#a173">NdisDprReleaseSpinLock</a>(
01299         IN      PNDIS_SPIN_LOCK                 SpinLock
01300         );
01301 
01302 <span class="preprocessor">#endif</span>
01303 <span class="preprocessor"></span>
01304 
01305 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01306 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01307 <a class="code" href="../../d9/d5/ndismain_8h.html#a174">NdisGetCurrentSystemTime</a>(
01308         PLARGE_INTEGER                          pSystemTime
01309         );
01310 
01311 <span class="comment">//</span>
01312 <span class="comment">// Interlocked support functions</span>
01313 <span class="comment">//</span>
01314 
01315 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01316 ULONG
01317 <a class="code" href="../../d9/d5/ndismain_8h.html#a175">NdisInterlockedIncrement</a>(
01318         IN      PLONG                                   Addend
01319         );
01320 
01321 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01322 ULONG
01323 <a class="code" href="../../d9/d5/ndismain_8h.html#a176">NdisInterlockedDecrement</a>(
01324         IN      PLONG                                   Addend
01325         );
01326 
01327 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01328 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01329 <a class="code" href="../../d9/d5/ndismain_8h.html#a177">NdisInterlockedAddUlong</a>(
01330         IN      PULONG                                  Addend,
01331         IN      ULONG                                   Increment,
01332         IN      PNDIS_SPIN_LOCK                 SpinLock
01333         );
01334 
01335 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01336 PLIST_ENTRY
01337 <a class="code" href="../../d9/d5/ndismain_8h.html#a178">NdisInterlockedInsertHeadList</a>(
01338         IN      PLIST_ENTRY                             ListHead,
01339         IN      PLIST_ENTRY                             ListEntry,
01340         IN      PNDIS_SPIN_LOCK                 SpinLock
01341         );
01342 
01343 
01344 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01345 PLIST_ENTRY
01346 <a class="code" href="../../d9/d5/ndismain_8h.html#a179">NdisInterlockedInsertTailList</a>(
01347         IN      PLIST_ENTRY                             ListHead,
01348         IN      PLIST_ENTRY                             ListEntry,
01349         IN      PNDIS_SPIN_LOCK                 SpinLock
01350         );
01351 
01352 
01353 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01354 PLIST_ENTRY
01355 <a class="code" href="../../d9/d5/ndismain_8h.html#a180">NdisInterlockedRemoveHeadList</a>(
01356         IN      PLIST_ENTRY                             ListHead,
01357         IN      PNDIS_SPIN_LOCK                 SpinLock
01358         );
01359 
01360 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01361 LARGE_INTEGER
01362 NdisInterlockedAddLargeInteger(
01363         IN      PLARGE_INTEGER                  Addend,
01364         IN      ULONG                                   Increment,
01365         IN      PKSPIN_LOCK                             Lock
01366         );
01367 
01368 <span class="preprocessor">#else // BINARY_COMPATIBLE</span>
01369 <span class="preprocessor"></span>
<a name="l01370"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a168">01370</a> <span class="preprocessor">#define NdisAllocateSpinLock(_SpinLock) KeInitializeSpinLock(&amp;(_SpinLock)-&gt;SpinLock)</span>
01371 <span class="preprocessor"></span>
<a name="l01372"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a169">01372</a> <span class="preprocessor">#define NdisFreeSpinLock(_SpinLock)</span>
01373 <span class="preprocessor"></span>
<a name="l01374"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a170">01374</a> <span class="preprocessor">#define NdisAcquireSpinLock(_SpinLock)  KeAcquireSpinLock(&amp;(_SpinLock)-&gt;SpinLock, &amp;(_SpinLock)-&gt;OldIrql)</span>
01375 <span class="preprocessor"></span>
<a name="l01376"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a171">01376</a> <span class="preprocessor">#define NdisReleaseSpinLock(_SpinLock)  KeReleaseSpinLock(&amp;(_SpinLock)-&gt;SpinLock,(_SpinLock)-&gt;OldIrql)</span>
01377 <span class="preprocessor"></span>
<a name="l01378"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a172">01378</a> <span class="preprocessor">#define NdisDprAcquireSpinLock(_SpinLock)                                                                       \</span>
01379 <span class="preprocessor">{                                                                                                                                                       \</span>
01380 <span class="preprocessor">        KeAcquireSpinLockAtDpcLevel(&amp;(_SpinLock)-&gt;SpinLock);                                    \</span>
01381 <span class="preprocessor">        (_SpinLock)-&gt;OldIrql = DISPATCH_LEVEL;                                                                  \</span>
01382 <span class="preprocessor">}</span>
01383 <span class="preprocessor"></span>
<a name="l01384"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a173">01384</a> <span class="preprocessor">#define NdisDprReleaseSpinLock(_SpinLock) KeReleaseSpinLockFromDpcLevel(&amp;(_SpinLock)-&gt;SpinLock)</span>
01385 <span class="preprocessor"></span>
<a name="l01386"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a174">01386</a> <span class="preprocessor">#define NdisGetCurrentSystemTime(_pSystemTime)                                                          \</span>
01387 <span class="preprocessor">        {                                                                                                                                               \</span>
01388 <span class="preprocessor">                KeQuerySystemTime(_pSystemTime);                                                                        \</span>
01389 <span class="preprocessor">        }</span>
01390 <span class="preprocessor"></span>
01391 <span class="comment">//</span>
01392 <span class="comment">// Interlocked support functions</span>
01393 <span class="comment">//</span>
01394 
<a name="l01395"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a175">01395</a> <span class="preprocessor">#define NdisInterlockedIncrement(Addend)        InterlockedIncrement(Addend)</span>
01396 <span class="preprocessor"></span>
<a name="l01397"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a176">01397</a> <span class="preprocessor">#define NdisInterlockedDecrement(Addend)        InterlockedDecrement(Addend)</span>
01398 <span class="preprocessor"></span>
<a name="l01399"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a177">01399</a> <span class="preprocessor">#define NdisInterlockedAddUlong(_Addend, _Increment, _SpinLock) \</span>
01400 <span class="preprocessor">        ExInterlockedAddUlong(_Addend, _Increment, &amp;(_SpinLock)-&gt;SpinLock)</span>
01401 <span class="preprocessor"></span>
<a name="l01402"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a178">01402</a> <span class="preprocessor">#define NdisInterlockedInsertHeadList(_ListHead, _ListEntry, _SpinLock) \</span>
01403 <span class="preprocessor">        ExInterlockedInsertHeadList(_ListHead, _ListEntry, &amp;(_SpinLock)-&gt;SpinLock)</span>
01404 <span class="preprocessor"></span>
<a name="l01405"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a179">01405</a> <span class="preprocessor">#define NdisInterlockedInsertTailList(_ListHead, _ListEntry, _SpinLock) \</span>
01406 <span class="preprocessor">        ExInterlockedInsertTailList(_ListHead, _ListEntry, &amp;(_SpinLock)-&gt;SpinLock)</span>
01407 <span class="preprocessor"></span>
<a name="l01408"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a180">01408</a> <span class="preprocessor">#define NdisInterlockedRemoveHeadList(_ListHead, _SpinLock) \</span>
01409 <span class="preprocessor">        ExInterlockedRemoveHeadList(_ListHead, &amp;(_SpinLock)-&gt;SpinLock)</span>
01410 <span class="preprocessor"></span>
<a name="l01411"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a181">01411</a> <span class="preprocessor">#define NdisInterlockedPushEntryList(ListHead, ListEntry, Lock) \</span>
01412 <span class="preprocessor">        ExInterlockedPushEntryList(ListHead, ListEntry, &amp;(Lock)-&gt;SpinLock)</span>
01413 <span class="preprocessor"></span>
<a name="l01414"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a182">01414</a> <span class="preprocessor">#define NdisInterlockedPopEntryList(ListHead, Lock) \</span>
01415 <span class="preprocessor">        ExInterlockedPopEntryList(ListHead, &amp;(Lock)-&gt;SpinLock)</span>
01416 <span class="preprocessor"></span>
01417 <span class="preprocessor">#endif // BINARY_COMPATIBLE</span>
01418 <span class="preprocessor"></span>
01419 <span class="preprocessor">#ifndef MAXIMUM_PROCESSORS</span>
<a name="l01420"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a183">01420</a> <span class="preprocessor"></span><span class="preprocessor">#define MAXIMUM_PROCESSORS      32</span>
01421 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
01422 <span class="preprocessor"></span>
<a name="l01423"></a><a class="code" href="../../d4/d7/union__NDIS__RW__LOCK__REFCOUNT.html">01423</a> <span class="keyword">typedef</span> <span class="keyword">union </span><a class="code" href="../../d4/d7/union__NDIS__RW__LOCK__REFCOUNT.html">_NDIS_RW_LOCK_REFCOUNT</a>
01424 {
<a name="l01425"></a><a class="code" href="../../d4/d7/union__NDIS__RW__LOCK__REFCOUNT.html#o0">01425</a>         <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>                                            <a class="code" href="../../d4/d7/union__NDIS__RW__LOCK__REFCOUNT.html#o0">RefCount</a>;
<a name="l01426"></a><a class="code" href="../../d4/d7/union__NDIS__RW__LOCK__REFCOUNT.html#o1">01426</a>         UCHAR                                           <a class="code" href="../../d4/d7/union__NDIS__RW__LOCK__REFCOUNT.html#o1">cacheLine</a>[16];  <span class="comment">// One refCount per cache line</span>
01427 } <a class="code" href="../../d4/d7/union__NDIS__RW__LOCK__REFCOUNT.html">NDIS_RW_LOCK_REFCOUNT</a>;
01428 
<a name="l01429"></a><a class="code" href="../../d1/d7/struct__NDIS__RW__LOCK.html">01429</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d1/d7/struct__NDIS__RW__LOCK.html">_NDIS_RW_LOCK</a>
01430 {
01431         <span class="keyword">union</span>
01432 <span class="keyword">        </span>{
01433                 <span class="keyword">struct</span>
01434 <span class="keyword">                </span>{
<a name="l01435"></a><a class="code" href="../../d1/d7/struct__NDIS__RW__LOCK.html#o0">01435</a>                         KSPIN_LOCK                      <a class="code" href="../../d1/d7/struct__NDIS__RW__LOCK.html#o0">SpinLock</a>;
<a name="l01436"></a><a class="code" href="../../d1/d7/struct__NDIS__RW__LOCK.html#o1">01436</a>                         PVOID                           <a class="code" href="../../d1/d7/struct__NDIS__RW__LOCK.html#o1">Context</a>;
01437                 };
<a name="l01438"></a><a class="code" href="../../d1/d7/struct__NDIS__RW__LOCK.html#o2">01438</a>                 UCHAR                                   <a class="code" href="../../d1/d7/struct__NDIS__RW__LOCK.html#o2">Reserved</a>[16];
01439         };
01440 
<a name="l01441"></a><a class="code" href="../../d1/d7/struct__NDIS__RW__LOCK.html#o3">01441</a>         <a class="code" href="../../d4/d7/union__NDIS__RW__LOCK__REFCOUNT.html">NDIS_RW_LOCK_REFCOUNT</a>           <a class="code" href="../../d1/d7/struct__NDIS__RW__LOCK.html#o3">RefCount</a>[<a class="code" href="../../d9/d5/ndismain_8h.html#a183">MAXIMUM_PROCESSORS</a>];
01442 } <a class="code" href="../../d1/d7/struct__NDIS__RW__LOCK.html">NDIS_RW_LOCK</a>, *<a class="code" href="../../d1/d7/struct__NDIS__RW__LOCK.html">PNDIS_RW_LOCK</a>;
01443 
<a name="l01444"></a><a class="code" href="../../d9/d2/struct__LOCK__STATE.html">01444</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d2/struct__LOCK__STATE.html">_LOCK_STATE</a>
01445 {
<a name="l01446"></a><a class="code" href="../../d9/d2/struct__LOCK__STATE.html#o0">01446</a>         <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>                                          <a class="code" href="../../d9/d2/struct__LOCK__STATE.html#o0">LockState</a>;
<a name="l01447"></a><a class="code" href="../../d9/d2/struct__LOCK__STATE.html#o1">01447</a>         KIRQL                                           <a class="code" href="../../d9/d2/struct__LOCK__STATE.html#o1">OldIrql</a>;
01448 } <a class="code" href="../../d9/d2/struct__LOCK__STATE.html">LOCK_STATE</a>, *<a class="code" href="../../d9/d2/struct__LOCK__STATE.html">PLOCK_STATE</a>;
01449 
01450 
01451 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01452 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01453 <a class="code" href="../../d9/d5/ndismain_8h.html#a436">NdisInitializeReadWriteLock</a>(
01454         IN      PNDIS_RW_LOCK                   Lock
01455         );
01456 
01457 
01458 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01459 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01460 <a class="code" href="../../d9/d5/ndismain_8h.html#a437">NdisAcquireReadWriteLock</a>(
01461         IN      PNDIS_RW_LOCK                   Lock,
01462         IN      BOOLEAN                                 fWrite,                 <span class="comment">// TRUE -&gt; Write, FALSE -&gt; Read</span>
01463         IN      PLOCK_STATE                             LockState
01464         );
01465 
01466 
01467 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01468 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01469 <a class="code" href="../../d9/d5/ndismain_8h.html#a438">NdisReleaseReadWriteLock</a>(
01470         IN      PNDIS_RW_LOCK                   Lock,
01471         IN      PLOCK_STATE                             LockState
01472         );
01473 
01474 
<a name="l01475"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a184">01475</a> <span class="preprocessor">#define NdisInterlockedAddLargeStatistic(_Addend, _Increment)   \</span>
01476 <span class="preprocessor">        ExInterlockedAddLargeStatistic((PLARGE_INTEGER)_Addend, _Increment)</span>
01477 <span class="preprocessor"></span>
01478 <span class="comment">//</span>
01479 <span class="comment">// S-List support</span>
01480 <span class="comment">//</span>
01481 
<a name="l01482"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a185">01482</a> <span class="preprocessor">#define NdisInterlockedPushEntrySList(SListHead, SListEntry, Lock) \</span>
01483 <span class="preprocessor">        ExInterlockedPushEntrySList(SListHead, SListEntry, &amp;(Lock)-&gt;SpinLock)</span>
01484 <span class="preprocessor"></span>
<a name="l01485"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a186">01485</a> <span class="preprocessor">#define NdisInterlockedPopEntrySList(SListHead, Lock) \</span>
01486 <span class="preprocessor">        ExInterlockedPopEntrySList(SListHead, &amp;(Lock)-&gt;SpinLock)</span>
01487 <span class="preprocessor"></span>
<a name="l01488"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a187">01488</a> <span class="preprocessor">#define NdisInterlockedFlushSList(SListHead) ExInterlockedFlushSList(SListHead)</span>
01489 <span class="preprocessor"></span>
<a name="l01490"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a188">01490</a> <span class="preprocessor">#define NdisInitializeSListHead(SListHead)      ExInitializeSListHead(SListHead)</span>
01491 <span class="preprocessor"></span>
<a name="l01492"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a189">01492</a> <span class="preprocessor">#define NdisQueryDepthSList(SListHead)  ExQueryDepthSList(SListHead)</span>
01493 <span class="preprocessor"></span>
01494 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01495 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01496 <a class="code" href="../../d9/d5/ndismain_8h.html#a439">NdisGetCurrentProcessorCpuUsage</a>(
01497         OUT     PULONG                                  pCpuUsage
01498         );
01499 
01500 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01501 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01502 <a class="code" href="../../d9/d5/ndismain_8h.html#a440">NdisGetCurrentProcessorCounts</a>(
01503         OUT     PULONG                                  pIdleCount,
01504         OUT     PULONG                                  pKernelAndUser,
01505         OUT     PULONG                                  pIndex
01506         );
01507 
01508 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01509 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01510 <a class="code" href="../../d9/d5/ndismain_8h.html#a441">NdisGetSystemUpTime</a>(
01511         OUT     PULONG                                  pSystemUpTime
01512         );
01513 
01514 <span class="comment">//</span>
01515 <span class="comment">// List manipulation</span>
01516 <span class="comment">//</span>
01517 
01518 <span class="comment">/*++</span>
01519 <span class="comment"></span>
01520 <span class="comment">VOID</span>
01521 <span class="comment">NdisInitializeListHead(</span>
01522 <span class="comment">        IN      PLIST_ENTRY ListHead</span>
01523 <span class="comment">        );</span>
01524 <span class="comment"></span>
01525 <span class="comment">--*/</span>
<a name="l01526"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a190">01526</a> <span class="preprocessor">#define NdisInitializeListHead(_ListHead) InitializeListHead(_ListHead)</span>
01527 <span class="preprocessor"></span>
01528 
01529 <span class="comment">//</span>
01530 <span class="comment">// Configuration Requests</span>
01531 <span class="comment">//</span>
01532 
01533 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01534 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01535 <a class="code" href="../../d9/d5/ndismain_8h.html#a442">NdisOpenConfiguration</a>(
01536         OUT PNDIS_STATUS                        Status,
01537         OUT PNDIS_HANDLE                        ConfigurationHandle,
01538         IN      NDIS_HANDLE                             WrapperConfigurationContext
01539         );
01540 
01541 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01542 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01543 <a class="code" href="../../d9/d5/ndismain_8h.html#a443">NdisOpenConfigurationKeyByName</a>(
01544         OUT PNDIS_STATUS                        Status,
01545         IN      NDIS_HANDLE                             ConfigurationHandle,
01546         IN      PNDIS_STRING                    SubKeyName,
01547         OUT PNDIS_HANDLE                        SubKeyHandle
01548         );
01549 
01550 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01551 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01552 <a class="code" href="../../d9/d5/ndismain_8h.html#a444">NdisOpenConfigurationKeyByIndex</a>(
01553         OUT PNDIS_STATUS                        Status,
01554         IN      NDIS_HANDLE                             ConfigurationHandle,
01555         IN      ULONG                                   Index,
01556         OUT     PNDIS_STRING                    KeyName,
01557         OUT PNDIS_HANDLE                        KeyHandle
01558         );
01559 
01560 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01561 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01562 <a class="code" href="../../d9/d5/ndismain_8h.html#a445">NdisReadConfiguration</a>(
01563         OUT PNDIS_STATUS                        Status,
01564         OUT PNDIS_CONFIGURATION_PARAMETER *ParameterValue,
01565         IN      NDIS_HANDLE                             ConfigurationHandle,
01566         IN      PNDIS_STRING                    Keyword,
01567         IN      NDIS_PARAMETER_TYPE             ParameterType
01568         );
01569 
01570 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01571 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01572 <a class="code" href="../../d9/d5/ndismain_8h.html#a446">NdisWriteConfiguration</a>(
01573         OUT PNDIS_STATUS                        Status,
01574         IN      NDIS_HANDLE                             ConfigurationHandle,
01575         IN      PNDIS_STRING                    Keyword,
01576         IN      PNDIS_CONFIGURATION_PARAMETER ParameterValue
01577         );
01578 
01579 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01580 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01581 <a class="code" href="../../d9/d5/ndismain_8h.html#a447">NdisCloseConfiguration</a>(
01582         IN      NDIS_HANDLE                             ConfigurationHandle
01583         );
01584 
01585 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01586 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01587 <a class="code" href="../../d9/d5/ndismain_8h.html#a448">NdisReadNetworkAddress</a>(
01588         OUT PNDIS_STATUS                        Status,
01589         OUT PVOID *                                     NetworkAddress,
01590         OUT PUINT                                       NetworkAddressLength,
01591         IN      NDIS_HANDLE                             ConfigurationHandle
01592         );
01593 
01594 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01595 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01596 <a class="code" href="../../d9/d5/ndismain_8h.html#a449">NdisReadEisaSlotInformation</a>(
01597         OUT PNDIS_STATUS                        Status,
01598         IN      NDIS_HANDLE                             WrapperConfigurationContext,
01599         OUT PUINT                                       SlotNumber,
01600         OUT PNDIS_EISA_FUNCTION_INFORMATION EisaData
01601         );
01602 
01603 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01604 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01605 <a class="code" href="../../d9/d5/ndismain_8h.html#a450">NdisReadEisaSlotInformationEx</a>(
01606         OUT PNDIS_STATUS                        Status,
01607         IN      NDIS_HANDLE                             WrapperConfigurationContext,
01608         OUT PUINT                                       SlotNumber,
01609         OUT PNDIS_EISA_FUNCTION_INFORMATION *EisaData,
01610         OUT PUINT                                       NumberOfFunctions
01611         );
01612 
01613 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01614 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01615 <a class="code" href="../../d9/d5/ndismain_8h.html#a451">NdisReadMcaPosInformation</a>(
01616         OUT PNDIS_STATUS                        Status,
01617         IN      NDIS_HANDLE                             WrapperConfigurationContext,
01618         IN      PUINT                                   ChannelNumber,
01619         OUT PNDIS_MCA_POS_DATA          McaData
01620         );
01621 
01622 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01623 ULONG
01624 <a class="code" href="../../d9/d5/ndismain_8h.html#a452">NdisReadPciSlotInformation</a>(
01625         IN      NDIS_HANDLE                             NdisAdapterHandle,
01626         IN      ULONG                                   SlotNumber,
01627         IN      ULONG                                   Offset,
01628         IN      PVOID                                   Buffer,
01629         IN      ULONG                                   Length
01630         );
01631 
01632 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01633 ULONG
01634 <a class="code" href="../../d9/d5/ndismain_8h.html#a453">NdisWritePciSlotInformation</a>(
01635         IN      NDIS_HANDLE                             NdisAdapterHandle,
01636         IN      ULONG                                   SlotNumber,
01637         IN      ULONG                                   Offset,
01638         IN      PVOID                                   Buffer,
01639         IN      ULONG                                   Length
01640         );
01641 
01642 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01643 <a class="code" href="../../d9/d5/ndismain_8h.html#a271">NDIS_STATUS</a>
01644 <a class="code" href="../../d9/d5/ndismain_8h.html#a454">NdisPciAssignResources</a>(
01645         IN      NDIS_HANDLE                             NdisMacHandle,
01646         IN      NDIS_HANDLE                             NdisWrapperHandle,
01647         IN      NDIS_HANDLE                             WrapperConfigurationContext,
01648         IN      ULONG                                   SlotNumber,
01649         OUT PNDIS_RESOURCE_LIST *       AssignedResources
01650         );
01651 
01652 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01653 ULONG
01654 <a class="code" href="../../d9/d5/ndismain_8h.html#a455">NdisReadPcmciaAttributeMemory</a>(
01655         IN NDIS_HANDLE                          NdisAdapterHandle,
01656         IN ULONG                                        Offset,
01657         IN PVOID                                        Buffer,
01658         IN ULONG                                        Length
01659         );
01660         
01661 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01662 ULONG
01663 <a class="code" href="../../d9/d5/ndismain_8h.html#a456">NdisWritePcmciaAttributeMemory</a>(
01664         IN NDIS_HANDLE                          NdisAdapterHandle,
01665         IN ULONG                                        Offset,
01666         IN PVOID                                        Buffer,
01667         IN ULONG                                        Length
01668         );
01669 
01670 <span class="comment">//</span>
01671 <span class="comment">// Buffer Pool</span>
01672 <span class="comment">//</span>
01673 
01674 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01675 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01676 <a class="code" href="../../d9/d5/ndismain_8h.html#a457">NdisAllocateBufferPool</a>(
01677         OUT PNDIS_STATUS                        Status,
01678         OUT PNDIS_HANDLE                        PoolHandle,
01679         IN      UINT                                    NumberOfDescriptors
01680         );
01681 
01682 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01683 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01684 <a class="code" href="../../d9/d5/ndismain_8h.html#a458">NdisFreeBufferPool</a>(
01685         IN      NDIS_HANDLE                             PoolHandle
01686         );
01687 
01688 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01689 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01690 <a class="code" href="../../d9/d5/ndismain_8h.html#a459">NdisAllocateBuffer</a>(
01691         OUT PNDIS_STATUS                        Status,
01692         OUT PNDIS_BUFFER *                      Buffer,
01693         IN      NDIS_HANDLE                             PoolHandle,
01694         IN      PVOID                                   VirtualAddress,
01695         IN      UINT                                    Length
01696         );
01697 
01698 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01699 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01700 <a class="code" href="../../d9/d5/ndismain_8h.html#a460">NdisCopyBuffer</a>(
01701         OUT PNDIS_STATUS                        Status,
01702         OUT PNDIS_BUFFER *                      Buffer,
01703         IN      NDIS_HANDLE                             PoolHandle,
01704         IN      PVOID                                   MemoryDescriptor,
01705         IN      UINT                                    Offset,
01706         IN      UINT                                    Length
01707         );
01708 
01709 
01710 <span class="comment">//</span>
01711 <span class="comment">//      VOID</span>
01712 <span class="comment">//      NdisCopyLookaheadData(</span>
01713 <span class="comment">//              IN      PVOID                                   Destination,</span>
01714 <span class="comment">//              IN      PVOID                                   Source,</span>
01715 <span class="comment">//              IN      ULONG                                   Length,</span>
01716 <span class="comment">//              IN      ULONG                                   ReceiveFlags</span>
01717 <span class="comment">//              );</span>
01718 <span class="comment">//</span>
01719 
01720 <span class="preprocessor">#ifdef _M_IX86</span>
01721 <span class="preprocessor"></span><span class="preprocessor">#define NdisCopyLookaheadData(_Destination, _Source, _Length, _MacOptions)      \</span>
01722 <span class="preprocessor">                RtlCopyMemory(_Destination, _Source, _Length)</span>
01723 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l01724"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a191">01724</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisCopyLookaheadData(_Destination, _Source, _Length, _MacOptions)      \</span>
01725 <span class="preprocessor">        {                                                                                                                                               \</span>
01726 <span class="preprocessor">                if ((_MacOptions) &amp; NDIS_MAC_OPTION_COPY_LOOKAHEAD_DATA)                        \</span>
01727 <span class="preprocessor">                {                                                                                                                                       \</span>
01728 <span class="preprocessor">                        RtlCopyMemory(_Destination, _Source, _Length);                                  \</span>
01729 <span class="preprocessor">                }                                                                                                                                       \</span>
01730 <span class="preprocessor">                else                                                                                                                            \</span>
01731 <span class="preprocessor">                {                                                                                                                                       \</span>
01732 <span class="preprocessor">                        PUCHAR _Src = (PUCHAR)(_Source);                                                                \</span>
01733 <span class="preprocessor">                        PUCHAR _Dest = (PUCHAR)(_Destination);                                                  \</span>
01734 <span class="preprocessor">                        PUCHAR _End = _Dest + (_Length);                                                                \</span>
01735 <span class="preprocessor">                        while (_Dest &lt; _End)                                                                                    \</span>
01736 <span class="preprocessor">                        {                                                                                                                               \</span>
01737 <span class="preprocessor">                                *_Dest++ = *_Src++;                                                                                     \</span>
01738 <span class="preprocessor">                        }                                                                                                                               \</span>
01739 <span class="preprocessor">                }                                                                                                                                       \</span>
01740 <span class="preprocessor">        }</span>
01741 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
01742 <span class="preprocessor"></span>
01743 <span class="comment">//</span>
01744 <span class="comment">// Packet Pool</span>
01745 <span class="comment">//</span>
01746 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01747 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01748 <a class="code" href="../../d9/d5/ndismain_8h.html#a461">NdisAllocatePacketPool</a>(
01749         OUT PNDIS_STATUS                        Status,
01750         OUT PNDIS_HANDLE                        PoolHandle,
01751         IN      UINT                                    NumberOfDescriptors,
01752         IN      UINT                                    ProtocolReservedLength
01753         );
01754 
01755 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01756 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01757 <a class="code" href="../../d9/d5/ndismain_8h.html#a462">NdisAllocatePacketPoolEx</a>(
01758         OUT PNDIS_STATUS                        Status,
01759         OUT PNDIS_HANDLE                        PoolHandle,
01760         IN      UINT                                    NumberOfDescriptors,
01761         IN      UINT                                    NumberOfOverflowDescriptors,
01762         IN      UINT                                    ProtocolReservedLength
01763         );
01764 
01765 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01766 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01767 <a class="code" href="../../d9/d5/ndismain_8h.html#a463">NdisSetPacketPoolProtocolId</a>(
01768         IN      NDIS_HANDLE                             PacketPoolHandle,
01769         IN      UINT                                    ProtocolId
01770         );
01771 
01772 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01773 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>
01774 <a class="code" href="../../d9/d5/ndismain_8h.html#a464">NdisPacketPoolUsage</a>(
01775         IN      NDIS_HANDLE                             PoolHandle
01776         );
01777 
01778 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01779 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01780 <a class="code" href="../../d9/d5/ndismain_8h.html#a465">NdisFreePacketPool</a>(
01781         IN      NDIS_HANDLE                             PoolHandle
01782         );
01783 
01784 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01785 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01786 <a class="code" href="../../d9/d5/ndismain_8h.html#a466">NdisFreePacket</a>(
01787         IN      PNDIS_PACKET                    Packet
01788         );
01789 
01790 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01791 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01792 <a class="code" href="../../d9/d5/ndismain_8h.html#a467">NdisDprFreePacket</a>(
01793         IN      PNDIS_PACKET                    Packet
01794         );
01795 
01796 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01797 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01798 <a class="code" href="../../d9/d5/ndismain_8h.html#a468">NdisDprFreePacketNonInterlocked</a>(
01799         IN      PNDIS_PACKET                    Packet
01800         );
01801 
01802 
01803 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01804 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01805 <a class="code" href="../../d9/d5/ndismain_8h.html#a469">NdisAllocatePacket</a>(
01806         OUT PNDIS_STATUS                        Status,
01807         OUT PNDIS_PACKET *                      Packet,
01808         IN      NDIS_HANDLE                             PoolHandle
01809         );
01810 
01811 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01812 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01813 <a class="code" href="../../d9/d5/ndismain_8h.html#a470">NdisDprAllocatePacket</a>(
01814         OUT PNDIS_STATUS                        Status,
01815         OUT PNDIS_PACKET *                      Packet,
01816         IN      NDIS_HANDLE                             PoolHandle
01817         );
01818 
01819 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01820 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01821 <a class="code" href="../../d9/d5/ndismain_8h.html#a471">NdisDprAllocatePacketNonInterlocked</a>(
01822         OUT PNDIS_STATUS                        Status,
01823         OUT PNDIS_PACKET *                      Packet,
01824         IN      NDIS_HANDLE                             PoolHandle
01825         );
01826 
01827 <span class="comment">// VOID</span>
01828 <span class="comment">// NdisReinitializePacket(</span>
01829 <span class="comment">//      IN OUT PNDIS_PACKET                     Packet</span>
01830 <span class="comment">//      );</span>
<a name="l01831"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a192">01831</a> <span class="preprocessor">#define NdisReinitializePacket(Packet)                                                                          \</span>
01832 <span class="preprocessor">{                                                                                                                                                       \</span>
01833 <span class="preprocessor">        (Packet)-&gt;Private.Head = (PNDIS_BUFFER)NULL;                                                    \</span>
01834 <span class="preprocessor">        (Packet)-&gt;Private.ValidCounts = FALSE;                                                                  \</span>
01835 <span class="preprocessor">}</span>
01836 <span class="preprocessor"></span>
01837 
01838 <span class="preprocessor">#if BINARY_COMPATIBLE</span>
01839 <span class="preprocessor"></span>
01840 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01841 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01842 <a class="code" href="../../d9/d5/ndismain_8h.html#a193">NdisFreeBuffer</a>(
01843         IN      PNDIS_BUFFER                    Buffer
01844         );
01845 
01846 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01847 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01848 <a class="code" href="../../d9/d5/ndismain_8h.html#a194">NdisQueryBuffer</a>(
01849         IN      PNDIS_BUFFER                    Buffer,
01850         OUT PVOID *                                     VirtualAddress OPTIONAL,
01851         OUT PUINT                                       Length
01852         );
01853 
01854 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01855 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01856 <a class="code" href="../../d9/d5/ndismain_8h.html#a195">NdisQueryBufferSafe</a>(
01857         IN      PNDIS_BUFFER                    Buffer,
01858         OUT PVOID *                                     VirtualAddress OPTIONAL,
01859         OUT PUINT                                       Length,
01860         IN      UINT                                    Priority
01861         );
01862 
01863 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01864 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01865 <a class="code" href="../../d9/d5/ndismain_8h.html#a196">NdisQueryBufferOffset</a>(
01866         IN      PNDIS_BUFFER                    Buffer,
01867         OUT PUINT                                       Offset,
01868         OUT PUINT                                       Length
01869         );
01870 
01871 <span class="comment">//</span>
01872 <span class="comment">// This is a combination of NdisQueryPacket and NdisQueryBuffer and</span>
01873 <span class="comment">// optimized for protocols to get the first Buffer, its VA and its size.</span>
01874 <span class="comment">//</span>
01875 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01876 <a class="code" href="../../d9/d5/ndismain_8h.html#a197">NdisGetFirstBufferFromPacket</a>(
01877         IN      PNDIS_PACKET                    Packet,
01878         OUT PNDIS_BUFFER *                      FirstBuffer,
01879         OUT PVOID *                                     FirstBufferVA,
01880         OUT PUINT                                       FirstBufferLength,
01881         OUT     PUINT                                   TotalBufferLength
01882         );
01883 
01884 <span class="comment">//</span>
01885 <span class="comment">// This is used to determine how many physical pieces</span>
01886 <span class="comment">// an NDIS_BUFFER will take up when mapped.</span>
01887 <span class="comment">//</span>
01888 
01889 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01890 ULONG
01891 <a class="code" href="../../d9/d5/ndismain_8h.html#a198">NDIS_BUFFER_TO_SPAN_PAGES</a>(
01892         IN      PNDIS_BUFFER                            Buffer
01893         );
01894 
01895 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
01896 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01897 <a class="code" href="../../d9/d5/ndismain_8h.html#a199">NdisGetBufferPhysicalArraySize</a>(
01898         IN      PNDIS_BUFFER                            Buffer,
01899         OUT PUINT                                               ArraySize
01900         );
01901 
01902 <span class="preprocessor">#else // BINARY_COMPATIBLE</span>
01903 <span class="preprocessor"></span>
<a name="l01904"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a193">01904</a> <span class="preprocessor">#define NdisFreeBuffer(Buffer)  IoFreeMdl(Buffer)</span>
01905 <span class="preprocessor"></span>
<a name="l01906"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a194">01906</a> <span class="preprocessor">#define NdisQueryBuffer(_Buffer, _VirtualAddress, _Length)                                      \</span>
01907 <span class="preprocessor">{                                                                                                                                                       \</span>
01908 <span class="preprocessor">        if (ARGUMENT_PRESENT(_VirtualAddress))                                                                  \</span>
01909 <span class="preprocessor">        {                                                                                                                                               \</span>
01910 <span class="preprocessor">                *(PVOID *)(_VirtualAddress) = MmGetSystemAddressForMdl(_Buffer);        \</span>
01911 <span class="preprocessor">        }                                                                                                                                               \</span>
01912 <span class="preprocessor">        *(_Length) = MmGetMdlByteCount(_Buffer);                                                                \</span>
01913 <span class="preprocessor">}</span>
01914 <span class="preprocessor"></span>
<a name="l01915"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a195">01915</a> <span class="preprocessor">#define NdisQueryBufferSafe(_Buffer, _VirtualAddress, _Length, _Priority)       \</span>
01916 <span class="preprocessor">{                                                                                                                                                       \</span>
01917 <span class="preprocessor">        PVOID   _VA;                                                                                                                    \</span>
01918 <span class="preprocessor">                                                                                                                                                        \</span>
01919 <span class="preprocessor">        _VA = MmGetSystemAddressForMdlSafe(_Buffer, _Priority);                                 \</span>
01920 <span class="preprocessor">        if (ARGUMENT_PRESENT(_VirtualAddress))                                                                  \</span>
01921 <span class="preprocessor">        {                                                                                                                                               \</span>
01922 <span class="preprocessor">                *(PVOID *)(_VirtualAddress) = _VA;                                                                      \</span>
01923 <span class="preprocessor">        }                                                                                                                                               \</span>
01924 <span class="preprocessor">        *(_Length) = (_VA != NULL) ? MmGetMdlByteCount(_Buffer) : 0;                    \</span>
01925 <span class="preprocessor">}</span>
01926 <span class="preprocessor"></span>
<a name="l01927"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a196">01927</a> <span class="preprocessor">#define NdisQueryBufferOffset(_Buffer, _Offset, _Length)                                        \</span>
01928 <span class="preprocessor">{                                                                                                                                                       \</span>
01929 <span class="preprocessor">        *(_Offset) = MmGetMdlByteOffset(_Buffer);                                                               \</span>
01930 <span class="preprocessor">        *(_Length) = MmGetMdlByteCount(_Buffer);                                                                \</span>
01931 <span class="preprocessor">}</span>
01932 <span class="preprocessor"></span>
01933 
01934 <span class="preprocessor">#define NdisGetFirstBufferFromPacket(_Packet,                                                           \</span>
01935 <span class="preprocessor">                                                                         _FirstBuffer,                                                  \</span>
01936 <span class="preprocessor">                                                                         _FirstBufferVA,                                                \</span>
01937 <span class="preprocessor">                                                                         _FirstBufferLength,                                    \</span>
<a name="l01938"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a197">01938</a> <span class="preprocessor">                                                                         _TotalBufferLength)                                    \</span>
01939 <span class="preprocessor">        {                                                                                                                                               \</span>
01940 <span class="preprocessor">                PNDIS_BUFFER    _pBuf;                                                                                          \</span>
01941 <span class="preprocessor">                                                                                                                                                        \</span>
01942 <span class="preprocessor">                _pBuf = (_Packet)-&gt;Private.Head;                                                                        \</span>
01943 <span class="preprocessor">                *(_FirstBuffer) = _pBuf;                                                                                        \</span>
01944 <span class="preprocessor">                *(_FirstBufferVA) =     MmGetMdlVirtualAddress(_pBuf);                                  \</span>
01945 <span class="preprocessor">                *(_FirstBufferLength) =                                                                                         \</span>
01946 <span class="preprocessor">                *(_TotalBufferLength) = MmGetMdlByteCount(_pBuf);                                       \</span>
01947 <span class="preprocessor">                for (_pBuf = _pBuf-&gt;Next;                                                                                       \</span>
01948 <span class="preprocessor">                         _pBuf != NULL;                                                                                                 \</span>
01949 <span class="preprocessor">                         _pBuf = _pBuf-&gt;Next)                                                                                   \</span>
01950 <span class="preprocessor">                {                                                                                                                                               \</span>
01951 <span class="preprocessor">                        *(_TotalBufferLength) += MmGetMdlByteCount(_pBuf);                              \</span>
01952 <span class="preprocessor">                }                                                                                                                                       \</span>
01953 <span class="preprocessor">        }</span>
01954 <span class="preprocessor"></span>
<a name="l01955"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a198">01955</a> <span class="preprocessor">#define NDIS_BUFFER_TO_SPAN_PAGES(_Buffer)                                                                      \</span>
01956 <span class="preprocessor">        (MmGetMdlByteCount(_Buffer)==0 ?                                                                                \</span>
01957 <span class="preprocessor">                                1 :                                                                                                                     \</span>
01958 <span class="preprocessor">                                (COMPUTE_PAGES_SPANNED(                                                                         \</span>
01959 <span class="preprocessor">                                                MmGetMdlVirtualAddress(_Buffer),                                        \</span>
01960 <span class="preprocessor">                                                MmGetMdlByteCount(_Buffer))))</span>
01961 <span class="preprocessor"></span>
<a name="l01962"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a199">01962</a> <span class="preprocessor">#define NdisGetBufferPhysicalArraySize(Buffer, ArraySize)                                       \</span>
01963 <span class="preprocessor">        (*(ArraySize) = NDIS_BUFFER_TO_SPAN_PAGES(Buffer))</span>
01964 <span class="preprocessor"></span>
01965 <span class="preprocessor">#endif // BINARY_COMPATIBLE</span>
01966 <span class="preprocessor"></span>
01967 
01968 <span class="comment">/*++</span>
01969 <span class="comment"></span>
01970 <span class="comment">NDIS_BUFFER_LINKAGE(</span>
01971 <span class="comment">        IN      PNDIS_BUFFER                    Buffer</span>
01972 <span class="comment">        );</span>
01973 <span class="comment"></span>
01974 <span class="comment">--*/</span>
01975 
<a name="l01976"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a200">01976</a> <span class="preprocessor">#define NDIS_BUFFER_LINKAGE(Buffer)     ((Buffer)-&gt;Next)</span>
01977 <span class="preprocessor"></span>
01978 
01979 <span class="comment">/*++</span>
01980 <span class="comment"></span>
01981 <span class="comment">VOID</span>
01982 <span class="comment">NdisRecalculatePacketCounts(</span>
01983 <span class="comment">        IN OUT PNDIS_PACKET                     Packet</span>
01984 <span class="comment">        );</span>
01985 <span class="comment"></span>
01986 <span class="comment">--*/</span>
01987 
<a name="l01988"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a201">01988</a> <span class="preprocessor">#define NdisRecalculatePacketCounts(Packet)                                                                     \</span>
01989 <span class="preprocessor">{                                                                                                                                                       \</span>
01990 <span class="preprocessor">        {                                                                                                                                               \</span>
01991 <span class="preprocessor">                PNDIS_BUFFER TmpBuffer = (Packet)-&gt;Private.Head;                                        \</span>
01992 <span class="preprocessor">                if (TmpBuffer)                                                                                                          \</span>
01993 <span class="preprocessor">                {                                                                                                                                       \</span>
01994 <span class="preprocessor">                        while (TmpBuffer-&gt;Next)                                                                                 \</span>
01995 <span class="preprocessor">                        {                                                                                                                               \</span>
01996 <span class="preprocessor">                                TmpBuffer = TmpBuffer-&gt;Next;                                                            \</span>
01997 <span class="preprocessor">                        }                                                                                                                               \</span>
01998 <span class="preprocessor">                        (Packet)-&gt;Private.Tail = TmpBuffer;                                                     \</span>
01999 <span class="preprocessor">                }                                                                                                                                       \</span>
02000 <span class="preprocessor">                (Packet)-&gt;Private.ValidCounts = FALSE;                                                          \</span>
02001 <span class="preprocessor">        }                                                                                                                                               \</span>
02002 <span class="preprocessor">}</span>
02003 <span class="preprocessor"></span>
02004 
02005 <span class="comment">/*++</span>
02006 <span class="comment"></span>
02007 <span class="comment">VOID</span>
02008 <span class="comment">NdisChainBufferAtFront(</span>
02009 <span class="comment">        IN OUT PNDIS_PACKET                     Packet,</span>
02010 <span class="comment">        IN OUT PNDIS_BUFFER                     Buffer</span>
02011 <span class="comment">        );</span>
02012 <span class="comment"></span>
02013 <span class="comment">--*/</span>
02014 
<a name="l02015"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a202">02015</a> <span class="preprocessor">#define NdisChainBufferAtFront(Packet, Buffer)                                                          \</span>
02016 <span class="preprocessor">{                                                                                                                                                       \</span>
02017 <span class="preprocessor">        PNDIS_BUFFER TmpBuffer = (Buffer);                                                                              \</span>
02018 <span class="preprocessor">                                                                                                                                                        \</span>
02019 <span class="preprocessor">        for (;;)                                                                                                                                \</span>
02020 <span class="preprocessor">        {                                                                                                                                               \</span>
02021 <span class="preprocessor">                if (TmpBuffer-&gt;Next == (PNDIS_BUFFER)NULL)                                                      \</span>
02022 <span class="preprocessor">                        break;                                                                                                                  \</span>
02023 <span class="preprocessor">                TmpBuffer = TmpBuffer-&gt;Next;                                                                            \</span>
02024 <span class="preprocessor">        }                                                                                                                                               \</span>
02025 <span class="preprocessor">        if ((Packet)-&gt;Private.Head == NULL)                                                                             \</span>
02026 <span class="preprocessor">        {                                                                                                                                               \</span>
02027 <span class="preprocessor">                (Packet)-&gt;Private.Tail = TmpBuffer;                                                                     \</span>
02028 <span class="preprocessor">        }                                                                                                                                               \</span>
02029 <span class="preprocessor">        TmpBuffer-&gt;Next = (Packet)-&gt;Private.Head;                                                               \</span>
02030 <span class="preprocessor">        (Packet)-&gt;Private.Head = (Buffer);                                                                              \</span>
02031 <span class="preprocessor">        (Packet)-&gt;Private.ValidCounts = FALSE;                                                                  \</span>
02032 <span class="preprocessor">}</span>
02033 <span class="preprocessor"></span>
02034 <span class="comment">/*++</span>
02035 <span class="comment"></span>
02036 <span class="comment">VOID</span>
02037 <span class="comment">NdisChainBufferAtBack(</span>
02038 <span class="comment">        IN OUT PNDIS_PACKET                     Packet,</span>
02039 <span class="comment">        IN OUT PNDIS_BUFFER                     Buffer</span>
02040 <span class="comment">        );</span>
02041 <span class="comment"></span>
02042 <span class="comment">--*/</span>
02043 
<a name="l02044"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a203">02044</a> <span class="preprocessor">#define NdisChainBufferAtBack(Packet, Buffer)                                                           \</span>
02045 <span class="preprocessor">{                                                                                                                                                       \</span>
02046 <span class="preprocessor">        PNDIS_BUFFER TmpBuffer = (Buffer);                                                                              \</span>
02047 <span class="preprocessor">                                                                                                                                                        \</span>
02048 <span class="preprocessor">        for (;;)                                                                                                                                \</span>
02049 <span class="preprocessor">        {                                                                                                                                               \</span>
02050 <span class="preprocessor">                if (TmpBuffer-&gt;Next == NULL)                                                                            \</span>
02051 <span class="preprocessor">                        break;                                                                                                                  \</span>
02052 <span class="preprocessor">                TmpBuffer = TmpBuffer-&gt;Next;                                                                            \</span>
02053 <span class="preprocessor">        }                                                                                                                                               \</span>
02054 <span class="preprocessor">        if ((Packet)-&gt;Private.Head != NULL)                                                                             \</span>
02055 <span class="preprocessor">        {                                                                                                                                               \</span>
02056 <span class="preprocessor">                (Packet)-&gt;Private.Tail-&gt;Next = (Buffer);                                                        \</span>
02057 <span class="preprocessor">        }                                                                                                                                               \</span>
02058 <span class="preprocessor">        else                                                                                                                                    \</span>
02059 <span class="preprocessor">        {                                                                                                                                               \</span>
02060 <span class="preprocessor">                (Packet)-&gt;Private.Head = (Buffer);                                                                      \</span>
02061 <span class="preprocessor">        }                                                                                                                                               \</span>
02062 <span class="preprocessor">        (Packet)-&gt;Private.Tail = TmpBuffer;                                                                             \</span>
02063 <span class="preprocessor">        TmpBuffer-&gt;Next = NULL;                                                                                                 \</span>
02064 <span class="preprocessor">        (Packet)-&gt;Private.ValidCounts = FALSE;                                                                  \</span>
02065 <span class="preprocessor">}</span>
02066 <span class="preprocessor"></span>
02067 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
02068 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02069 <a class="code" href="../../d9/d5/ndismain_8h.html#a472">NdisUnchainBufferAtFront</a>(
02070         IN OUT PNDIS_PACKET                     Packet,
02071         OUT PNDIS_BUFFER *                      Buffer
02072         );
02073 
02074 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
02075 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02076 <a class="code" href="../../d9/d5/ndismain_8h.html#a473">NdisUnchainBufferAtBack</a>(
02077         IN OUT PNDIS_PACKET                     Packet,
02078         OUT PNDIS_BUFFER *                      Buffer
02079         );
02080 
02081 
02082 <span class="comment">/*++</span>
02083 <span class="comment"></span>
02084 <span class="comment">VOID</span>
02085 <span class="comment">NdisQueryPacket(</span>
02086 <span class="comment">        IN      PNDIS_PACKET                    _Packet,</span>
02087 <span class="comment">        OUT PUINT                                       _PhysicalBufferCount OPTIONAL,</span>
02088 <span class="comment">        OUT PUINT                                       _BufferCount OPTIONAL,</span>
02089 <span class="comment">        OUT PNDIS_BUFFER *                      _FirstBuffer OPTIONAL,</span>
02090 <span class="comment">        OUT PUINT                                       _TotalPacketLength OPTIONAL</span>
02091 <span class="comment">        );</span>
02092 <span class="comment"></span>
02093 <span class="comment">--*/</span>
02094 
02095 <span class="preprocessor">#define NdisQueryPacket(_Packet,                                                                                        \</span>
02096 <span class="preprocessor">                                                _PhysicalBufferCount,                                                           \</span>
02097 <span class="preprocessor">                                                _BufferCount,                                                                           \</span>
02098 <span class="preprocessor">                                                _FirstBuffer,                                                                           \</span>
<a name="l02099"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a204">02099</a> <span class="preprocessor">                                                _TotalPacketLength)                                                                     \</span>
02100 <span class="preprocessor">{                                                                                                                                                       \</span>
02101 <span class="preprocessor">        if ((_FirstBuffer) != NULL)                                                                                             \</span>
02102 <span class="preprocessor">        {                                                                                                                                               \</span>
02103 <span class="preprocessor">                PNDIS_BUFFER * __FirstBuffer = (_FirstBuffer);                                          \</span>
02104 <span class="preprocessor">                *(__FirstBuffer) = (_Packet)-&gt;Private.Head;                                                     \</span>
02105 <span class="preprocessor">        }                                                                                                                                               \</span>
02106 <span class="preprocessor">        if ((_TotalPacketLength) || (_BufferCount) || (_PhysicalBufferCount))   \</span>
02107 <span class="preprocessor">        {                                                                                                                                               \</span>
02108 <span class="preprocessor">                if (!(_Packet)-&gt;Private.ValidCounts)                                                            \</span>
02109 <span class="preprocessor">                {                                                                                                                                       \</span>
02110 <span class="preprocessor">                        PNDIS_BUFFER TmpBuffer = (_Packet)-&gt;Private.Head;                               \</span>
02111 <span class="preprocessor">                        UINT PTotalLength = 0, PPhysicalCount = 0, PAddedCount = 0;             \</span>
02112 <span class="preprocessor">                        UINT PacketLength, Offset;                                                                              \</span>
02113 <span class="preprocessor">                                                                                                                                                        \</span>
02114 <span class="preprocessor">                        while (TmpBuffer != (PNDIS_BUFFER)NULL)                                                 \</span>
02115 <span class="preprocessor">                        {                                                                                                                               \</span>
02116 <span class="preprocessor">                                NdisQueryBufferOffset(TmpBuffer, &amp;Offset, &amp;PacketLength);       \</span>
02117 <span class="preprocessor">                                PTotalLength += PacketLength;                                                           \</span>
02118 <span class="preprocessor">                                PPhysicalCount += (UINT)NDIS_BUFFER_TO_SPAN_PAGES(TmpBuffer);\</span>
02119 <span class="preprocessor">                                ++PAddedCount;                                                                                          \</span>
02120 <span class="preprocessor">                                TmpBuffer = TmpBuffer-&gt;Next;                                                            \</span>
02121 <span class="preprocessor">                        }                                                                                                                               \</span>
02122 <span class="preprocessor">                        (_Packet)-&gt;Private.Count = PAddedCount;                                                 \</span>
02123 <span class="preprocessor">                        (_Packet)-&gt;Private.TotalLength = PTotalLength;                                  \</span>
02124 <span class="preprocessor">                        (_Packet)-&gt;Private.PhysicalCount = PPhysicalCount;                              \</span>
02125 <span class="preprocessor">                        (_Packet)-&gt;Private.ValidCounts = TRUE;                                                  \</span>
02126 <span class="preprocessor">                }                                                                                                                                       \</span>
02127 <span class="preprocessor">                                                                                                                                                        \</span>
02128 <span class="preprocessor">                if (_PhysicalBufferCount)                                                                                       \</span>
02129 <span class="preprocessor">                {                                                                                                                                       \</span>
02130 <span class="preprocessor">                        PUINT __PhysicalBufferCount = (_PhysicalBufferCount);                   \</span>
02131 <span class="preprocessor">                        *(__PhysicalBufferCount) = (_Packet)-&gt;Private.PhysicalCount;    \</span>
02132 <span class="preprocessor">                }                                                                                                                                       \</span>
02133 <span class="preprocessor">                if (_BufferCount)                                                                                                       \</span>
02134 <span class="preprocessor">                {                                                                                                                                       \</span>
02135 <span class="preprocessor">                        PUINT __BufferCount = (_BufferCount);                                                   \</span>
02136 <span class="preprocessor">                        *(__BufferCount) = (_Packet)-&gt;Private.Count;                                    \</span>
02137 <span class="preprocessor">                }                                                                                                                                       \</span>
02138 <span class="preprocessor">                if (_TotalPacketLength)                                                                                         \</span>
02139 <span class="preprocessor">                {                                                                                                                                       \</span>
02140 <span class="preprocessor">                        PUINT __TotalPacketLength = (_TotalPacketLength);                               \</span>
02141 <span class="preprocessor">                        *(__TotalPacketLength) = (_Packet)-&gt;Private.TotalLength;                \</span>
02142 <span class="preprocessor">                }                                                                                                                                       \</span>
02143 <span class="preprocessor">        }                                                                                                                                               \</span>
02144 <span class="preprocessor">}</span>
02145 <span class="preprocessor"></span>
02146 
02147 <span class="comment">/*++</span>
02148 <span class="comment"></span>
02149 <span class="comment">VOID</span>
02150 <span class="comment">NdisGetNextBuffer(</span>
02151 <span class="comment">        IN      PNDIS_BUFFER                    CurrentBuffer,</span>
02152 <span class="comment">        OUT PNDIS_BUFFER *                      NextBuffer</span>
02153 <span class="comment">        );</span>
02154 <span class="comment"></span>
02155 <span class="comment">--*/</span>
02156 
<a name="l02157"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a205">02157</a> <span class="preprocessor">#define NdisGetNextBuffer(CurrentBuffer, NextBuffer)                                            \</span>
02158 <span class="preprocessor">{                                                                                                                                                       \</span>
02159 <span class="preprocessor">        *(NextBuffer) = (CurrentBuffer)-&gt;Next;                                                                  \</span>
02160 <span class="preprocessor">}</span>
02161 <span class="preprocessor"></span>
02162 <span class="preprocessor">#if BINARY_COMPATIBLE</span>
02163 <span class="preprocessor"></span>
02164 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02165 <a class="code" href="../../d9/d5/ndismain_8h.html#a206">NdisAdjustBufferLength</a>(
02166         IN      PNDIS_BUFFER                    Buffer,
02167         IN      UINT                                    Length
02168         );
02169 
02170 <span class="preprocessor">#else // BINARY_COMPATIBLE</span>
02171 <span class="preprocessor"></span>
02172 <span class="preprocessor">#if NDIS_NT</span>
<a name="l02173"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a206">02173</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisAdjustBufferLength(Buffer, Length)  (((Buffer)-&gt;ByteCount) = (Length))</span>
02174 <span class="preprocessor"></span><span class="preprocessor">#else</span>
02175 <span class="preprocessor"></span><span class="preprocessor">#define NdisAdjustBufferLength(Buffer, Length)  (((Buffer)-&gt;Length) = (Length))</span>
02176 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
02177 <span class="preprocessor"></span>
02178 <span class="preprocessor">#endif // BINARY_COMPATIBLE</span>
02179 <span class="preprocessor"></span>
02180 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
02181 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02182 <a class="code" href="../../d9/d5/ndismain_8h.html#a474">NdisCopyFromPacketToPacket</a>(
02183         IN      PNDIS_PACKET                    Destination,
02184         IN      UINT                                    DestinationOffset,
02185         IN      UINT                                    BytesToCopy,
02186         IN      PNDIS_PACKET                    Source,
02187         IN      UINT                                    SourceOffset,
02188         OUT PUINT                                       BytesCopied
02189         );
02190 
02191 
02192 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
02193 <a class="code" href="../../d9/d5/ndismain_8h.html#a271">NDIS_STATUS</a>
02194 <a class="code" href="../../d9/d5/ndismain_8h.html#a475">NdisAllocateMemory</a>(
02195         OUT PVOID *                                     VirtualAddress,
02196         IN      UINT                                    Length,
02197         IN      UINT                                    MemoryFlags,
02198         IN      NDIS_PHYSICAL_ADDRESS   HighestAcceptableAddress
02199         );
02200 
02201 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
02202 <a class="code" href="../../d9/d5/ndismain_8h.html#a271">NDIS_STATUS</a>
02203 <a class="code" href="../../d9/d5/ndismain_8h.html#a476">NdisAllocateMemoryWithTag</a>(
02204         OUT PVOID *                                     VirtualAddress,
02205         IN      UINT                                    Length,
02206         IN      ULONG                                   Tag
02207         );
02208 
02209 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
02210 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02211 <a class="code" href="../../d9/d5/ndismain_8h.html#a477">NdisFreeMemory</a>(
02212         IN      PVOID                                   VirtualAddress,
02213         IN      UINT                                    Length,
02214         IN      UINT                                    MemoryFlags
02215         );
02216 
02217 
02218 <span class="comment">/*++</span>
02219 <span class="comment">VOID</span>
02220 <span class="comment">NdisStallExecution(</span>
02221 <span class="comment">        IN      UINT                                    MicrosecondsToStall</span>
02222 <span class="comment">        )</span>
02223 <span class="comment">--*/</span>
02224 
<a name="l02225"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a207">02225</a> <span class="preprocessor">#define NdisStallExecution(MicroSecondsToStall)         KeStallExecutionProcessor(MicroSecondsToStall)</span>
02226 <span class="preprocessor"></span>
02227 
02228 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
02229 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02230 <a class="code" href="../../d9/d5/ndismain_8h.html#a478">NdisInitializeEvent</a>(
02231         IN      PNDIS_EVENT                             Event
02232 );
02233 
02234 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
02235 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02236 <a class="code" href="../../d9/d5/ndismain_8h.html#a479">NdisSetEvent</a>(
02237         IN      PNDIS_EVENT                             Event
02238 );
02239 
02240 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
02241 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02242 <a class="code" href="../../d9/d5/ndismain_8h.html#a480">NdisResetEvent</a>(
02243         IN      PNDIS_EVENT                             Event
02244 );
02245 
02246 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
02247 BOOLEAN
02248 <a class="code" href="../../d9/d5/ndismain_8h.html#a481">NdisWaitEvent</a>(
02249         IN      PNDIS_EVENT                             Event,
02250         IN      UINT                                    msToWait
02251 );
02252 
02253 <span class="comment">/*++</span>
02254 <span class="comment">VOID</span>
02255 <span class="comment">NdisInitializeWorkItem(</span>
02256 <span class="comment">        IN      PNDIS_WORK_ITEM                 WorkItem,</span>
02257 <span class="comment">        IN      NDIS_PROC                               Routine,</span>
02258 <span class="comment">        IN      PVOID                                   Context</span>
02259 <span class="comment">        );</span>
02260 <span class="comment">--*/</span>
02261 
<a name="l02262"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a208">02262</a> <span class="preprocessor">#define NdisInitializeWorkItem(_WI_, _R_, _C_)  \</span>
02263 <span class="preprocessor">        {                                                                                       \</span>
02264 <span class="preprocessor">                (_WI_)-&gt;Context = _C_;                                  \</span>
02265 <span class="preprocessor">                (_WI_)-&gt;Routine = _R_;                                  \</span>
02266 <span class="preprocessor">        }</span>
02267 <span class="preprocessor"></span>
02268 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
02269 <a class="code" href="../../d9/d5/ndismain_8h.html#a271">NDIS_STATUS</a>
02270 <a class="code" href="../../d9/d5/ndismain_8h.html#a482">NdisScheduleWorkItem</a>(
02271         IN      PNDIS_WORK_ITEM                 WorkItem
02272         );
02273 
02274 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
02275 <a class="code" href="../../d9/d5/ndismain_8h.html#a271">NDIS_STATUS</a>
02276 <a class="code" href="../../d9/d5/ndismain_8h.html#a483">NdisQueryMapRegisterCount</a>(
02277         IN      NDIS_INTERFACE_TYPE             BusType,
02278         OUT     PUINT                                   MapRegisterCount
02279 );
02280 
02281 <span class="comment">//</span>
02282 <span class="comment">// Simple I/O support</span>
02283 <span class="comment">//</span>
02284 
02285 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
02286 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02287 <a class="code" href="../../d9/d5/ndismain_8h.html#a484">NdisOpenFile</a>(
02288         OUT PNDIS_STATUS                        Status,
02289         OUT PNDIS_HANDLE                        FileHandle,
02290         OUT PUINT                                       FileLength,
02291         IN      PNDIS_STRING                    FileName,
02292         IN      NDIS_PHYSICAL_ADDRESS   HighestAcceptableAddress
02293         );
02294 
02295 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
02296 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02297 <a class="code" href="../../d9/d5/ndismain_8h.html#a485">NdisCloseFile</a>(
02298         IN      NDIS_HANDLE                             FileHandle
02299         );
02300 
02301 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
02302 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02303 <a class="code" href="../../d9/d5/ndismain_8h.html#a486">NdisMapFile</a>(
02304         OUT PNDIS_STATUS                        Status,
02305         OUT PVOID *                                     MappedBuffer,
02306         IN      NDIS_HANDLE                             FileHandle
02307         );
02308 
02309 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
02310 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02311 <a class="code" href="../../d9/d5/ndismain_8h.html#a487">NdisUnmapFile</a>(
02312         IN      NDIS_HANDLE                             FileHandle
02313         );
02314 
02315 
02316 <span class="comment">//</span>
02317 <span class="comment">// Portability extensions</span>
02318 <span class="comment">//</span>
02319 
02320 <span class="comment">/*++</span>
02321 <span class="comment">VOID</span>
02322 <span class="comment">NdisFlushBuffer(</span>
02323 <span class="comment">        IN      PNDIS_BUFFER                    Buffer,</span>
02324 <span class="comment">        IN      BOOLEAN                                 WriteToDevice</span>
02325 <span class="comment">        )</span>
02326 <span class="comment">--*/</span>
02327 
<a name="l02328"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a209">02328</a> <span class="preprocessor">#define NdisFlushBuffer(Buffer,WriteToDevice)                                                           \</span>
02329 <span class="preprocessor">                KeFlushIoBuffers((Buffer),!(WriteToDevice), TRUE)</span>
02330 <span class="preprocessor"></span>
02331 <span class="comment">/*++</span>
02332 <span class="comment">ULONG</span>
02333 <span class="comment">NdisGetCacheFillSize(</span>
02334 <span class="comment">        )</span>
02335 <span class="comment">--*/</span>
<a name="l02336"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a210">02336</a> <span class="preprocessor">#define NdisGetCacheFillSize()  HalGetDmaAlignmentRequirement()</span>
02337 <span class="preprocessor"></span>
02338 <span class="comment">//</span>
02339 <span class="comment">// This macro is used to convert a port number as the caller</span>
02340 <span class="comment">// thinks of it, to a port number as it should be passed to</span>
02341 <span class="comment">// READ/WRITE_PORT.</span>
02342 <span class="comment">//</span>
02343 
<a name="l02344"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a211">02344</a> <span class="preprocessor">#define NDIS_PORT_TO_PORT(Handle,Port)  (((PNDIS_ADAPTER_BLOCK)(Handle))-&gt;PortOffset + (Port))</span>
02345 <span class="preprocessor"></span>
02346 
02347 <span class="comment">//</span>
02348 <span class="comment">// Write Port</span>
02349 <span class="comment">//</span>
02350 
02351 <span class="comment">/*++</span>
02352 <span class="comment">VOID</span>
02353 <span class="comment">NdisWritePortUchar(</span>
02354 <span class="comment">        IN      NDIS_HANDLE                             NdisAdapterHandle,</span>
02355 <span class="comment">        IN      ULONG                                   Port,</span>
02356 <span class="comment">        IN      UCHAR                                   Data</span>
02357 <span class="comment">        )</span>
02358 <span class="comment">--*/</span>
<a name="l02359"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a212">02359</a> <span class="preprocessor">#define NdisWritePortUchar(Handle,Port,Data)                                                            \</span>
02360 <span class="preprocessor">                WRITE_PORT_UCHAR((PUCHAR)(NDIS_PORT_TO_PORT(Handle,Port)),(UCHAR)(Data))</span>
02361 <span class="preprocessor"></span>
02362 <span class="comment">/*++</span>
02363 <span class="comment">VOID</span>
02364 <span class="comment">NdisWritePortUshort(</span>
02365 <span class="comment">        IN      NDIS_HANDLE                             NdisAdapterHandle,</span>
02366 <span class="comment">        IN      ULONG                                   Port,</span>
02367 <span class="comment">        IN      USHORT                                  Data</span>
02368 <span class="comment">        )</span>
02369 <span class="comment">--*/</span>
<a name="l02370"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a213">02370</a> <span class="preprocessor">#define NdisWritePortUshort(Handle,Port,Data)                                                           \</span>
02371 <span class="preprocessor">                WRITE_PORT_USHORT((PUSHORT)(NDIS_PORT_TO_PORT(Handle,Port)),(USHORT)(Data))</span>
02372 <span class="preprocessor"></span>
02373 
02374 <span class="comment">/*++</span>
02375 <span class="comment">VOID</span>
02376 <span class="comment">NdisWritePortUlong(</span>
02377 <span class="comment">        IN      NDIS_HANDLE                             NdisAdapterHandle,</span>
02378 <span class="comment">        IN      ULONG                                   Port,</span>
02379 <span class="comment">        IN      ULONG                                   Data</span>
02380 <span class="comment">        )</span>
02381 <span class="comment">--*/</span>
<a name="l02382"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a214">02382</a> <span class="preprocessor">#define NdisWritePortUlong(Handle,Port,Data)                                                            \</span>
02383 <span class="preprocessor">                WRITE_PORT_ULONG((PULONG)(NDIS_PORT_TO_PORT(Handle,Port)),(ULONG)(Data))</span>
02384 <span class="preprocessor"></span>
02385 
02386 <span class="comment">//</span>
02387 <span class="comment">// Write Port Buffers</span>
02388 <span class="comment">//</span>
02389 
02390 <span class="comment">/*++</span>
02391 <span class="comment">VOID</span>
02392 <span class="comment">NdisWritePortBufferUchar(</span>
02393 <span class="comment">        IN      NDIS_HANDLE                             NdisAdapterHandle,</span>
02394 <span class="comment">        IN      ULONG                                   Port,</span>
02395 <span class="comment">        IN      PUCHAR                                  Buffer,</span>
02396 <span class="comment">        IN      ULONG                                   Length</span>
02397 <span class="comment">        )</span>
02398 <span class="comment">--*/</span>
<a name="l02399"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a215">02399</a> <span class="preprocessor">#define NdisWritePortBufferUchar(Handle,Port,Buffer,Length)                                     \</span>
02400 <span class="preprocessor">                NdisRawWritePortBufferUchar(NDIS_PORT_TO_PORT((Handle),(Port)),(Buffer),(Length))</span>
02401 <span class="preprocessor"></span>
02402 <span class="comment">/*++</span>
02403 <span class="comment">VOID</span>
02404 <span class="comment">NdisWritePortBufferUshort(</span>
02405 <span class="comment">        IN      NDIS_HANDLE                             NdisAdapterHandle,</span>
02406 <span class="comment">        IN      ULONG                                   Port,</span>
02407 <span class="comment">        IN      PUSHORT                                 Buffer,</span>
02408 <span class="comment">        IN      ULONG                                   Length</span>
02409 <span class="comment">        )</span>
02410 <span class="comment">--*/</span>
<a name="l02411"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a216">02411</a> <span class="preprocessor">#define NdisWritePortBufferUshort(Handle,Port,Buffer,Length)                            \</span>
02412 <span class="preprocessor">                NdisRawWritePortBufferUshort(NDIS_PORT_TO_PORT((Handle),(Port)),(Buffer),(Length))</span>
02413 <span class="preprocessor"></span>
02414 
02415 <span class="comment">/*++</span>
02416 <span class="comment">VOID</span>
02417 <span class="comment">NdisWritePortBufferUlong(</span>
02418 <span class="comment">        IN      NDIS_HANDLE                             NdisAdapterHandle,</span>
02419 <span class="comment">        IN      ULONG                                   Port,</span>
02420 <span class="comment">        IN      PULONG                                  Buffer,</span>
02421 <span class="comment">        IN      ULONG                                   Length</span>
02422 <span class="comment">        )</span>
02423 <span class="comment">--*/</span>
<a name="l02424"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a217">02424</a> <span class="preprocessor">#define NdisWritePortBufferUlong(Handle,Port,Buffer,Length)                                     \</span>
02425 <span class="preprocessor">                NdisRawWritePortBufferUlong(NDIS_PORT_TO_PORT((Handle),(Port)),(Buffer),(Length))</span>
02426 <span class="preprocessor"></span>
02427 
02428 <span class="comment">//</span>
02429 <span class="comment">// Read Ports</span>
02430 <span class="comment">//</span>
02431 
02432 <span class="comment">/*++</span>
02433 <span class="comment">VOID</span>
02434 <span class="comment">NdisReadPortUchar(</span>
02435 <span class="comment">        IN      NDIS_HANDLE                             NdisAdapterHandle,</span>
02436 <span class="comment">        IN      ULONG                                   Port,</span>
02437 <span class="comment">        OUT PUCHAR                                      Data</span>
02438 <span class="comment">        )</span>
02439 <span class="comment">--*/</span>
<a name="l02440"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a218">02440</a> <span class="preprocessor">#define NdisReadPortUchar(Handle,Port, Data)                                                            \</span>
02441 <span class="preprocessor">                NdisRawReadPortUchar(NDIS_PORT_TO_PORT((Handle),(Port)),(Data))</span>
02442 <span class="preprocessor"></span>
02443 <span class="comment">/*++</span>
02444 <span class="comment">VOID</span>
02445 <span class="comment">NdisReadPortUshort(</span>
02446 <span class="comment">        IN      NDIS_HANDLE                             NdisAdapterHandle,</span>
02447 <span class="comment">        IN      ULONG                                   Port,</span>
02448 <span class="comment">        OUT PUSHORT                                     Data</span>
02449 <span class="comment">        )</span>
02450 <span class="comment">--*/</span>
<a name="l02451"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a219">02451</a> <span class="preprocessor">#define NdisReadPortUshort(Handle,Port,Data)                                                            \</span>
02452 <span class="preprocessor">                NdisRawReadPortUshort(NDIS_PORT_TO_PORT((Handle),(Port)),(Data))</span>
02453 <span class="preprocessor"></span>
02454 
02455 <span class="comment">/*++</span>
02456 <span class="comment">VOID</span>
02457 <span class="comment">NdisReadPortUlong(</span>
02458 <span class="comment">        IN      NDIS_HANDLE                             NdisAdapterHandle,</span>
02459 <span class="comment">        IN      ULONG                                   Port,</span>
02460 <span class="comment">        OUT PULONG                                      Data</span>
02461 <span class="comment">        )</span>
02462 <span class="comment">--*/</span>
<a name="l02463"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a220">02463</a> <span class="preprocessor">#define NdisReadPortUlong(Handle,Port,Data)                                                                     \</span>
02464 <span class="preprocessor">                NdisRawReadPortUlong(NDIS_PORT_TO_PORT((Handle),(Port)),(Data))</span>
02465 <span class="preprocessor"></span>
02466 <span class="comment">//</span>
02467 <span class="comment">// Read Buffer Ports</span>
02468 <span class="comment">//</span>
02469 
02470 <span class="comment">/*++</span>
02471 <span class="comment">VOID</span>
02472 <span class="comment">NdisReadPortBufferUchar(</span>
02473 <span class="comment">        IN      NDIS_HANDLE                             NdisAdapterHandle,</span>
02474 <span class="comment">        IN      ULONG                                   Port,</span>
02475 <span class="comment">        OUT PUCHAR                                      Buffer,</span>
02476 <span class="comment">        IN      ULONG                                   Length</span>
02477 <span class="comment">        )</span>
02478 <span class="comment">--*/</span>
<a name="l02479"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a221">02479</a> <span class="preprocessor">#define NdisReadPortBufferUchar(Handle,Port,Buffer,Length)                                      \</span>
02480 <span class="preprocessor">                NdisRawReadPortBufferUchar(NDIS_PORT_TO_PORT((Handle),(Port)),(Buffer),(Length))</span>
02481 <span class="preprocessor"></span>
02482 <span class="comment">/*++</span>
02483 <span class="comment">VOID</span>
02484 <span class="comment">NdisReadPortBufferUshort(</span>
02485 <span class="comment">        IN      NDIS_HANDLE                             NdisAdapterHandle,</span>
02486 <span class="comment">        IN      ULONG                                   Port,</span>
02487 <span class="comment">        OUT PUSHORT                                     Buffer,</span>
02488 <span class="comment">        IN      ULONG                                   Length</span>
02489 <span class="comment">        )</span>
02490 <span class="comment">--*/</span>
<a name="l02491"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a222">02491</a> <span class="preprocessor">#define NdisReadPortBufferUshort(Handle,Port,Buffer,Length)                             \</span>
02492 <span class="preprocessor">                NdisRawReadPortBufferUshort(NDIS_PORT_TO_PORT((Handle),(Port)),(Buffer),(Length))</span>
02493 <span class="preprocessor"></span>
02494 <span class="comment">/*++</span>
02495 <span class="comment">VOID</span>
02496 <span class="comment">NdisReadPortBufferUlong(</span>
02497 <span class="comment">        IN      NDIS_HANDLE                             NdisAdapterHandle,</span>
02498 <span class="comment">        IN      ULONG                                   Port,</span>
02499 <span class="comment">        OUT PULONG                                      Buffer,</span>
02500 <span class="comment">        IN      ULONG                                   Length</span>
02501 <span class="comment">        )</span>
02502 <span class="comment">--*/</span>
<a name="l02503"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a223">02503</a> <span class="preprocessor">#define NdisReadPortBufferUlong(Handle,Port,Buffer)                                             \</span>
02504 <span class="preprocessor">                NdisRawReadPortBufferUlong(NDIS_PORT_TO_PORT((Handle),(Port)),(Buffer),(Length))</span>
02505 <span class="preprocessor"></span>
02506 <span class="comment">//</span>
02507 <span class="comment">// Raw Routines</span>
02508 <span class="comment">//</span>
02509 
02510 <span class="comment">//</span>
02511 <span class="comment">// Write Port Raw</span>
02512 <span class="comment">//</span>
02513 
02514 <span class="comment">/*++</span>
02515 <span class="comment">VOID</span>
02516 <span class="comment">NdisRawWritePortUchar(</span>
02517 <span class="comment">        IN      ULONG_PTR                               Port,</span>
02518 <span class="comment">        IN      UCHAR                                   Data</span>
02519 <span class="comment">        )</span>
02520 <span class="comment">--*/</span>
<a name="l02521"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a224">02521</a> <span class="preprocessor">#define NdisRawWritePortUchar(Port,Data)                                                                        \</span>
02522 <span class="preprocessor">                WRITE_PORT_UCHAR((PUCHAR)(Port),(UCHAR)(Data))</span>
02523 <span class="preprocessor"></span>
02524 <span class="comment">/*++</span>
02525 <span class="comment">VOID</span>
02526 <span class="comment">NdisRawWritePortUshort(</span>
02527 <span class="comment">        IN      ULONG_PTR                               Port,</span>
02528 <span class="comment">        IN      USHORT                                  Data</span>
02529 <span class="comment">        )</span>
02530 <span class="comment">--*/</span>
<a name="l02531"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a225">02531</a> <span class="preprocessor">#define NdisRawWritePortUshort(Port,Data)                                                                       \</span>
02532 <span class="preprocessor">                WRITE_PORT_USHORT((PUSHORT)(Port),(USHORT)(Data))</span>
02533 <span class="preprocessor"></span>
02534 <span class="comment">/*++</span>
02535 <span class="comment">VOID</span>
02536 <span class="comment">NdisRawWritePortUlong(</span>
02537 <span class="comment">        IN      ULONG_PTR                               Port,</span>
02538 <span class="comment">        IN      ULONG                                   Data</span>
02539 <span class="comment">        )</span>
02540 <span class="comment">--*/</span>
<a name="l02541"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a226">02541</a> <span class="preprocessor">#define NdisRawWritePortUlong(Port,Data)                                                                        \</span>
02542 <span class="preprocessor">                WRITE_PORT_ULONG((PULONG)(Port),(ULONG)(Data))</span>
02543 <span class="preprocessor"></span>
02544 
02545 <span class="comment">//</span>
02546 <span class="comment">// Raw Write Port Buffers</span>
02547 <span class="comment">//</span>
02548 
02549 <span class="comment">/*++</span>
02550 <span class="comment">VOID</span>
02551 <span class="comment">NdisRawWritePortBufferUchar(</span>
02552 <span class="comment">        IN      ULONG_PTR                               Port,</span>
02553 <span class="comment">        IN      PUCHAR                                  Buffer,</span>
02554 <span class="comment">        IN      ULONG                                   Length</span>
02555 <span class="comment">        )</span>
02556 <span class="comment">--*/</span>
<a name="l02557"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a227">02557</a> <span class="preprocessor">#define NdisRawWritePortBufferUchar(Port,Buffer,Length) \</span>
02558 <span class="preprocessor">                WRITE_PORT_BUFFER_UCHAR((PUCHAR)(Port),(PUCHAR)(Buffer),(Length))</span>
02559 <span class="preprocessor"></span>
02560 <span class="comment">/*++</span>
02561 <span class="comment">VOID</span>
02562 <span class="comment">NdisRawWritePortBufferUshort(</span>
02563 <span class="comment">        IN      ULONG_PTR                               Port,</span>
02564 <span class="comment">        IN      PUSHORT                                 Buffer,</span>
02565 <span class="comment">        IN      ULONG                                   Length</span>
02566 <span class="comment">        )</span>
02567 <span class="comment">--*/</span>
02568 <span class="preprocessor">#if defined(_M_IX86)</span>
02569 <span class="preprocessor"></span><span class="preprocessor">#define NdisRawWritePortBufferUshort(Port,Buffer,Length)                                        \</span>
02570 <span class="preprocessor">                WRITE_PORT_BUFFER_USHORT((PUSHORT)(Port),(PUSHORT)(Buffer),(Length))</span>
02571 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l02572"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a228">02572</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisRawWritePortBufferUshort(Port,Buffer,Length)                                        \</span>
02573 <span class="preprocessor">{                                                                                                                                                       \</span>
02574 <span class="preprocessor">                ULONG_PTR _Port = (ULONG_PTR)(Port);                                                            \</span>
02575 <span class="preprocessor">                PUSHORT _Current = (Buffer);                                                                            \</span>
02576 <span class="preprocessor">                PUSHORT _End = _Current + (Length);                                                                     \</span>
02577 <span class="preprocessor">                for ( ; _Current &lt; _End; ++_Current)                                                            \</span>
02578 <span class="preprocessor">                {                                                                                                                                       \</span>
02579 <span class="preprocessor">                        WRITE_PORT_USHORT((PUSHORT)_Port,*(UNALIGNED USHORT *)_Current);\</span>
02580 <span class="preprocessor">                }                                                                                                                                       \</span>
02581 <span class="preprocessor">}</span>
02582 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
02583 <span class="preprocessor"></span>
02584 
02585 <span class="comment">/*++</span>
02586 <span class="comment">VOID</span>
02587 <span class="comment">NdisRawWritePortBufferUlong(</span>
02588 <span class="comment">        IN      ULONG_PTR                               Port,</span>
02589 <span class="comment">        IN      PULONG                                  Buffer,</span>
02590 <span class="comment">        IN      ULONG                                   Length</span>
02591 <span class="comment">        )</span>
02592 <span class="comment">--*/</span>
02593 <span class="preprocessor">#if defined(_M_IX86)</span>
02594 <span class="preprocessor"></span><span class="preprocessor">#define NdisRawWritePortBufferUlong(Port,Buffer,Length)                                         \</span>
02595 <span class="preprocessor">                WRITE_PORT_BUFFER_ULONG((PULONG)(Port),(PULONG)(Buffer),(Length))</span>
02596 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l02597"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a229">02597</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisRawWritePortBufferUlong(Port,Buffer,Length)                                         \</span>
02598 <span class="preprocessor">{                                                                                                                                                       \</span>
02599 <span class="preprocessor">                ULONG_PTR _Port = (ULONG_PTR)(Port);                                                            \</span>
02600 <span class="preprocessor">                PULONG _Current = (Buffer);                                                                                     \</span>
02601 <span class="preprocessor">                PULONG _End = _Current + (Length);                                                                      \</span>
02602 <span class="preprocessor">                for ( ; _Current &lt; _End; ++_Current)                                                            \</span>
02603 <span class="preprocessor">                {                                                                                                                                       \</span>
02604 <span class="preprocessor">                        WRITE_PORT_ULONG((PULONG)_Port,*(UNALIGNED ULONG *)_Current);   \</span>
02605 <span class="preprocessor">                }                                                                                                                                       \</span>
02606 <span class="preprocessor">}</span>
02607 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
02608 <span class="preprocessor"></span>
02609 
02610 <span class="comment">//</span>
02611 <span class="comment">// Raw Read Ports</span>
02612 <span class="comment">//</span>
02613 
02614 <span class="comment">/*++</span>
02615 <span class="comment">VOID</span>
02616 <span class="comment">NdisRawReadPortUchar(</span>
02617 <span class="comment">        IN      ULONG_PTR                               Port,</span>
02618 <span class="comment">        OUT PUCHAR                                      Data</span>
02619 <span class="comment">        )</span>
02620 <span class="comment">--*/</span>
<a name="l02621"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a230">02621</a> <span class="preprocessor">#define NdisRawReadPortUchar(Port, Data) \</span>
02622 <span class="preprocessor">                *(Data) = READ_PORT_UCHAR((PUCHAR)(Port))</span>
02623 <span class="preprocessor"></span>
02624 <span class="comment">/*++</span>
02625 <span class="comment">VOID</span>
02626 <span class="comment">NdisRawReadPortUshort(</span>
02627 <span class="comment">        IN      ULONG_PTR                               Port,</span>
02628 <span class="comment">        OUT PUSHORT                                     Data</span>
02629 <span class="comment">        )</span>
02630 <span class="comment">--*/</span>
<a name="l02631"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a231">02631</a> <span class="preprocessor">#define NdisRawReadPortUshort(Port,Data) \</span>
02632 <span class="preprocessor">                *(Data) = READ_PORT_USHORT((PUSHORT)(Port))</span>
02633 <span class="preprocessor"></span>
02634 <span class="comment">/*++</span>
02635 <span class="comment">VOID</span>
02636 <span class="comment">NdisRawReadPortUlong(</span>
02637 <span class="comment">        IN      ULONG_PTR                               Port,</span>
02638 <span class="comment">        OUT PULONG                                      Data</span>
02639 <span class="comment">        )</span>
02640 <span class="comment">--*/</span>
<a name="l02641"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a232">02641</a> <span class="preprocessor">#define NdisRawReadPortUlong(Port,Data) \</span>
02642 <span class="preprocessor">                *(Data) = READ_PORT_ULONG((PULONG)(Port))</span>
02643 <span class="preprocessor"></span>
02644 
02645 <span class="comment">//</span>
02646 <span class="comment">// Raw Read Buffer Ports</span>
02647 <span class="comment">//</span>
02648 
02649 <span class="comment">/*++</span>
02650 <span class="comment">VOID</span>
02651 <span class="comment">NdisRawReadPortBufferUchar(</span>
02652 <span class="comment">        IN      ULONG_PTR                               Port,</span>
02653 <span class="comment">        OUT PUCHAR                                      Buffer,</span>
02654 <span class="comment">        IN      ULONG                                   Length</span>
02655 <span class="comment">        )</span>
02656 <span class="comment">--*/</span>
<a name="l02657"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a233">02657</a> <span class="preprocessor">#define NdisRawReadPortBufferUchar(Port,Buffer,Length)                                          \</span>
02658 <span class="preprocessor">                READ_PORT_BUFFER_UCHAR((PUCHAR)(Port),(PUCHAR)(Buffer),(Length))</span>
02659 <span class="preprocessor"></span>
02660 
02661 <span class="comment">/*++</span>
02662 <span class="comment">VOID</span>
02663 <span class="comment">NdisRawReadPortBufferUshort(</span>
02664 <span class="comment">        IN      ULONG_PTR                               Port,</span>
02665 <span class="comment">        OUT PUSHORT                                     Buffer,</span>
02666 <span class="comment">        IN      ULONG                                   Length</span>
02667 <span class="comment">        )</span>
02668 <span class="comment">--*/</span>
02669 <span class="preprocessor">#if defined(_M_IX86)</span>
02670 <span class="preprocessor"></span><span class="preprocessor">#define NdisRawReadPortBufferUshort(Port,Buffer,Length)                                         \</span>
02671 <span class="preprocessor">                READ_PORT_BUFFER_USHORT((PUSHORT)(Port),(PUSHORT)(Buffer),(Length))</span>
02672 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l02673"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a234">02673</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisRawReadPortBufferUshort(Port,Buffer,Length)                                         \</span>
02674 <span class="preprocessor">{                                                                                                                                                       \</span>
02675 <span class="preprocessor">                ULONG_PTR _Port = (ULONG_PTR)(Port);                                                            \</span>
02676 <span class="preprocessor">                PUSHORT _Current = (Buffer);                                                                            \</span>
02677 <span class="preprocessor">                PUSHORT _End = _Current + (Length);                                                                     \</span>
02678 <span class="preprocessor">                for ( ; _Current &lt; _End; ++_Current)                                                            \</span>
02679 <span class="preprocessor">                {                                                                                                                                       \</span>
02680 <span class="preprocessor">                        *(UNALIGNED USHORT *)_Current = READ_PORT_USHORT((PUSHORT)_Port); \</span>
02681 <span class="preprocessor">                }                                                                                                                                       \</span>
02682 <span class="preprocessor">}</span>
02683 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
02684 <span class="preprocessor"></span>
02685 
02686 <span class="comment">/*++</span>
02687 <span class="comment">VOID</span>
02688 <span class="comment">NdisRawReadPortBufferUlong(</span>
02689 <span class="comment">        IN      ULONG_PTR                               Port,</span>
02690 <span class="comment">        OUT PULONG                                      Buffer,</span>
02691 <span class="comment">        IN      ULONG                                   Length</span>
02692 <span class="comment">        )</span>
02693 <span class="comment">--*/</span>
02694 <span class="preprocessor">#if defined(_M_IX86)</span>
02695 <span class="preprocessor"></span><span class="preprocessor">#define NdisRawReadPortBufferUlong(Port,Buffer,Length)                                          \</span>
02696 <span class="preprocessor">                READ_PORT_BUFFER_ULONG((PULONG)(Port),(PULONG)(Buffer),(Length))</span>
02697 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l02698"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a235">02698</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisRawReadPortBufferUlong(Port,Buffer,Length)                                          \</span>
02699 <span class="preprocessor">{                                                                                                                                                       \</span>
02700 <span class="preprocessor">                ULONG_PTR _Port = (ULONG_PTR)(Port);                                                            \</span>
02701 <span class="preprocessor">                PULONG _Current = (Buffer);                                                                                     \</span>
02702 <span class="preprocessor">                PULONG _End = _Current + (Length);                                                                      \</span>
02703 <span class="preprocessor">                for ( ; _Current &lt; _End; ++_Current)                                                            \</span>
02704 <span class="preprocessor">                {                                                                                                                                       \</span>
02705 <span class="preprocessor">                        *(UNALIGNED ULONG *)_Current = READ_PORT_ULONG((PULONG)_Port);  \</span>
02706 <span class="preprocessor">                }                                                                                                                                       \</span>
02707 <span class="preprocessor">}</span>
02708 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
02709 <span class="preprocessor"></span>
02710 
02711 <span class="comment">//</span>
02712 <span class="comment">// Write Registers</span>
02713 <span class="comment">//</span>
02714 
02715 <span class="comment">/*++</span>
02716 <span class="comment">VOID</span>
02717 <span class="comment">NdisWriteRegisterUchar(</span>
02718 <span class="comment">        IN      PUCHAR                                  Register,</span>
02719 <span class="comment">        IN      UCHAR                                   Data</span>
02720 <span class="comment">        )</span>
02721 <span class="comment">--*/</span>
02722 
02723 <span class="preprocessor">#if defined(_M_IX86)</span>
02724 <span class="preprocessor"></span><span class="preprocessor">#define NdisWriteRegisterUchar(Register,Data)                                                           \</span>
02725 <span class="preprocessor">                WRITE_REGISTER_UCHAR((Register),(Data))</span>
02726 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l02727"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a236">02727</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisWriteRegisterUchar(Register,Data)                                                           \</span>
02728 <span class="preprocessor">        {                                                                                                                                               \</span>
02729 <span class="preprocessor">                WRITE_REGISTER_UCHAR((Register),(Data));                                                        \</span>
02730 <span class="preprocessor">                READ_REGISTER_UCHAR(Register);                                                                          \</span>
02731 <span class="preprocessor">        }</span>
02732 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
02733 <span class="preprocessor"></span>
02734 <span class="comment">/*++</span>
02735 <span class="comment">VOID</span>
02736 <span class="comment">NdisWriteRegisterUshort(</span>
02737 <span class="comment">        IN      PUCHAR                                  Register,</span>
02738 <span class="comment">        IN      USHORT                                  Data</span>
02739 <span class="comment">        )</span>
02740 <span class="comment">--*/</span>
02741 
02742 <span class="preprocessor">#if defined(_M_IX86)</span>
02743 <span class="preprocessor"></span><span class="preprocessor">#define NdisWriteRegisterUshort(Register,Data)                                                          \</span>
02744 <span class="preprocessor">                WRITE_REGISTER_USHORT((Register),(Data))</span>
02745 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l02746"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a237">02746</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisWriteRegisterUshort(Register,Data)                                                          \</span>
02747 <span class="preprocessor">        {                                                                                                                                               \</span>
02748 <span class="preprocessor">                WRITE_REGISTER_USHORT((Register),(Data));                                                       \</span>
02749 <span class="preprocessor">                READ_REGISTER_USHORT(Register);                                                                         \</span>
02750 <span class="preprocessor">        }</span>
02751 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
02752 <span class="preprocessor"></span>
02753 <span class="comment">/*++</span>
02754 <span class="comment">VOID</span>
02755 <span class="comment">NdisWriteRegisterUlong(</span>
02756 <span class="comment">        IN      PUCHAR                                  Register,</span>
02757 <span class="comment">        IN      ULONG                                   Data</span>
02758 <span class="comment">        )</span>
02759 <span class="comment">--*/</span>
02760 
02761 <span class="preprocessor">#if defined(_M_IX86)</span>
02762 <span class="preprocessor"></span><span class="preprocessor">#define NdisWriteRegisterUlong(Register,Data)   WRITE_REGISTER_ULONG((Register),(Data))</span>
02763 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l02764"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a238">02764</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisWriteRegisterUlong(Register,Data)                                                           \</span>
02765 <span class="preprocessor">        {                                                                                                                                               \</span>
02766 <span class="preprocessor">                WRITE_REGISTER_ULONG((Register),(Data));                                                        \</span>
02767 <span class="preprocessor">                READ_REGISTER_ULONG(Register);                                                                          \</span>
02768 <span class="preprocessor">        }</span>
02769 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
02770 <span class="preprocessor"></span>
02771 <span class="comment">/*++</span>
02772 <span class="comment">VOID</span>
02773 <span class="comment">NdisWriteRegisterUcharWithStall(</span>
02774 <span class="comment">        IN      PUCHAR                                  Register,</span>
02775 <span class="comment">        IN      UCHAR                                   Data,</span>
02776 <span class="comment">        IN      UINT                                    StallTimeInMicroSeconds</span>
02777 <span class="comment">        )</span>
02778 <span class="comment">--*/</span>
02779 
02780 <span class="preprocessor">#if defined(_M_IX86)</span>
02781 <span class="preprocessor"></span><span class="preprocessor">#define NdisWriteRegisterUcharWithStall(Register, Data, StallTime)                      \</span>
02782 <span class="preprocessor">                WRITE_REGISTER_UCHAR((Register),(Data))</span>
02783 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l02784"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a239">02784</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisWriteRegisterUcharWithStall(Register, Data, StallTime)                                      \</span>
02785 <span class="preprocessor">        {                                                                                                                                               \</span>
02786 <span class="preprocessor">                WRITE_REGISTER_UCHAR((Register),(Data));                                                        \</span>
02787 <span class="preprocessor">                NdisStallExecution(StallTime);                                                                          \</span>
02788 <span class="preprocessor">                READ_REGISTER_UCHAR(Register);                                                                          \</span>
02789 <span class="preprocessor">        }</span>
02790 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
02791 <span class="preprocessor"></span>
02792 <span class="comment">/*++</span>
02793 <span class="comment">VOID</span>
02794 <span class="comment">NdisWriteRegisterUshortWithStall(</span>
02795 <span class="comment">        IN      PUCHAR                                  Register,</span>
02796 <span class="comment">        IN      USHORT                                  Data,</span>
02797 <span class="comment">        IN      UINT                                    StallTimeInMicroSeconds</span>
02798 <span class="comment">        )</span>
02799 <span class="comment">--*/</span>
02800 
02801 <span class="preprocessor">#if defined(_M_IX86)</span>
02802 <span class="preprocessor"></span><span class="preprocessor">#define NdisWriteRegisterUshortWithStall(Register, Data, StallTime)                     \</span>
02803 <span class="preprocessor">                WRITE_REGISTER_USHORT((Register),(Data))</span>
02804 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l02805"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a240">02805</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisWriteRegisterUshortWithStall(Register, Data, StallTime)                     \</span>
02806 <span class="preprocessor">        {                                                                                                                                               \</span>
02807 <span class="preprocessor">                WRITE_REGISTER_USHORT((Register),(Data));                                                       \</span>
02808 <span class="preprocessor">                NdisStallExecution(StallTime);                                                                          \</span>
02809 <span class="preprocessor">                READ_REGISTER_USHORT(Register);                                                                         \</span>
02810 <span class="preprocessor">        }</span>
02811 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
02812 <span class="preprocessor"></span>
02813 <span class="comment">/*++</span>
02814 <span class="comment">VOID</span>
02815 <span class="comment">NdisWriteRegisterUlongWithStall(</span>
02816 <span class="comment">        IN      PUCHAR                                  Register,</span>
02817 <span class="comment">        IN      ULONG                                   Data,</span>
02818 <span class="comment">        IN      UINT                                    StallTimeInMicroSeconds</span>
02819 <span class="comment">        )</span>
02820 <span class="comment">--*/</span>
02821 
02822 <span class="preprocessor">#if defined(_M_IX86)</span>
02823 <span class="preprocessor"></span><span class="preprocessor">#define NdisWriteRegisterUlongWithStall(Register,Data, StallTime)                       \</span>
02824 <span class="preprocessor">                WRITE_REGISTER_ULONG((Register),(Data))</span>
02825 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l02826"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a241">02826</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisWriteRegisterUlongWithStall(Register,Data, StallTime)                       \</span>
02827 <span class="preprocessor">        {                                                                                                                                               \</span>
02828 <span class="preprocessor">                WRITE_REGISTER_ULONG((Register),(Data));                                                        \</span>
02829 <span class="preprocessor">                NdisStallExecution(StallTime);                                                                          \</span>
02830 <span class="preprocessor">                READ_REGISTER_ULONG(Register);                                                                          \</span>
02831 <span class="preprocessor">        }</span>
02832 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
02833 <span class="preprocessor"></span>
02834 <span class="comment">/*++</span>
02835 <span class="comment">VOID</span>
02836 <span class="comment">NdisReadRegisterUchar(</span>
02837 <span class="comment">        IN      PUCHAR                                  Register,</span>
02838 <span class="comment">        OUT PUCHAR                                      Data</span>
02839 <span class="comment">        )</span>
02840 <span class="comment">--*/</span>
02841 <span class="preprocessor">#if defined(_M_IX86)</span>
02842 <span class="preprocessor"></span><span class="preprocessor">#define NdisReadRegisterUchar(Register,Data)    *((PUCHAR)(Data)) = *(Register)</span>
02843 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l02844"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a242">02844</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisReadRegisterUchar(Register,Data)    *(Data) = READ_REGISTER_UCHAR((PUCHAR)(Register))</span>
02845 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
02846 <span class="preprocessor"></span>
02847 <span class="comment">/*++</span>
02848 <span class="comment">VOID</span>
02849 <span class="comment">NdisReadRegisterUshort(</span>
02850 <span class="comment">        IN      PUSHORT                                 Register,</span>
02851 <span class="comment">        OUT PUSHORT                                     Data</span>
02852 <span class="comment">        )</span>
02853 <span class="comment">--*/</span>
02854 <span class="preprocessor">#if defined(_M_IX86)</span>
02855 <span class="preprocessor"></span><span class="preprocessor">#define NdisReadRegisterUshort(Register,Data)   *((PUSHORT)(Data)) = *(Register)</span>
02856 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l02857"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a243">02857</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisReadRegisterUshort(Register,Data)   *(Data) = READ_REGISTER_USHORT((PUSHORT)(Register))</span>
02858 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
02859 <span class="preprocessor"></span>
02860 <span class="comment">/*++</span>
02861 <span class="comment">VOID</span>
02862 <span class="comment">NdisReadRegisterUlong(</span>
02863 <span class="comment">        IN      PULONG                                  Register,</span>
02864 <span class="comment">        OUT PULONG                                      Data</span>
02865 <span class="comment">        )</span>
02866 <span class="comment">--*/</span>
02867 <span class="preprocessor">#if defined(_M_IX86)</span>
02868 <span class="preprocessor"></span><span class="preprocessor">#define NdisReadRegisterUlong(Register,Data)    *((PULONG)(Data)) = *(Register)</span>
02869 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l02870"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a244">02870</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisReadRegisterUlong(Register,Data)    *(Data) = READ_REGISTER_ULONG((PULONG)(Register))</span>
02871 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
02872 <span class="preprocessor"></span>
<a name="l02873"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a245">02873</a> <span class="preprocessor">#define NdisEqualAnsiString(_String1,_String2, _CaseInsensitive)                        \</span>
02874 <span class="preprocessor">                        RtlEqualAnsiString(_String1, _String2, _CaseInsensitive)</span>
02875 <span class="preprocessor"></span>
<a name="l02876"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a246">02876</a> <span class="preprocessor">#define NdisEqualString(_String1, _String2, _CaseInsensitive)                           \</span>
02877 <span class="preprocessor">                        RtlEqualUnicodeString(_String1, _String2, _CaseInsensitive)</span>
02878 <span class="preprocessor"></span>
<a name="l02879"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a247">02879</a> <span class="preprocessor">#define NdisEqualUnicodeString(_String1, _String2, _CaseInsensitive)            \</span>
02880 <span class="preprocessor">                        RtlEqualUnicodeString(_String1, _String2, _CaseInsensitive)</span>
02881 <span class="preprocessor"></span>
02882 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
02883 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02884 <a class="code" href="../../d9/d5/ndismain_8h.html#a488">NdisWriteErrorLogEntry</a>(
02885         IN      NDIS_HANDLE                             NdisAdapterHandle,
02886         IN      NDIS_ERROR_CODE                 ErrorCode,
02887         IN      ULONG                                   NumberOfErrorValues,
02888         ...
02889         );
02890 
02891 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
02892 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02893 <a class="code" href="../../d9/d5/ndismain_8h.html#a489">NdisInitializeString</a>(
02894         OUT     PNDIS_STRING    Destination,
02895         IN      PUCHAR                  Source
02896         );
02897 
<a name="l02898"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a248">02898</a> <span class="preprocessor">#define NdisFreeString(String) NdisFreeMemory((String).Buffer, (String).MaximumLength, 0)</span>
02899 <span class="preprocessor"></span>
<a name="l02900"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a249">02900</a> <span class="preprocessor">#define NdisPrintString(String) DbgPrint("%ls",(String).Buffer)</span>
02901 <span class="preprocessor"></span>
02902 
02903 <span class="preprocessor">#if !defined(_ALPHA_)</span>
02904 <span class="preprocessor"></span><span class="comment">/*++</span>
02905 <span class="comment"></span>
02906 <span class="comment">VOID</span>
02907 <span class="comment">NdisCreateLookaheadBufferFromSharedMemory(</span>
02908 <span class="comment">        IN      PVOID                                   pSharedMemory,</span>
02909 <span class="comment">        IN      UINT                                    LookaheadLength,</span>
02910 <span class="comment">        OUT PVOID *                                     pLookaheadBuffer</span>
02911 <span class="comment">        );</span>
02912 <span class="comment"></span>
02913 <span class="comment">--*/</span>
02914 
<a name="l02915"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a250">02915</a> <span class="preprocessor">#define NdisCreateLookaheadBufferFromSharedMemory(_S, _L, _B)   ((*(_B)) = (_S))</span>
02916 <span class="preprocessor"></span>
02917 <span class="comment">/*++</span>
02918 <span class="comment"></span>
02919 <span class="comment">VOID</span>
02920 <span class="comment">NdisDestroyLookaheadBufferFromSharedMemory(</span>
02921 <span class="comment">        IN      PVOID                                   pLookaheadBuffer</span>
02922 <span class="comment">        );</span>
02923 <span class="comment"></span>
02924 <span class="comment">--*/</span>
02925 
<a name="l02926"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a251">02926</a> <span class="preprocessor">#define NdisDestroyLookaheadBufferFromSharedMemory(_B)</span>
02927 <span class="preprocessor"></span>
02928 <span class="preprocessor">#else // Alpha</span>
02929 <span class="preprocessor"></span>
02930 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
02931 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02932 <a class="code" href="../../d9/d5/ndismain_8h.html#a250">NdisCreateLookaheadBufferFromSharedMemory</a>(
02933         IN      PVOID                                   pSharedMemory,
02934         IN      UINT                                    LookaheadLength,
02935         OUT PVOID *                                     pLookaheadBuffer
02936         );
02937 
02938 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
02939 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02940 <a class="code" href="../../d9/d5/ndismain_8h.html#a251">NdisDestroyLookaheadBufferFromSharedMemory</a>(
02941         IN      PVOID                                   pLookaheadBuffer
02942         );
02943 
02944 <span class="preprocessor">#endif</span>
02945 <span class="preprocessor"></span>
02946 
02947 <span class="comment">//</span>
02948 <span class="comment">// The following declarations are shared between ndismac.h and ndismini.h. They</span>
02949 <span class="comment">// are meant to be for internal use only. They should not be used directly by</span>
02950 <span class="comment">// miniport drivers.</span>
02951 <span class="comment">//</span>
02952 
02953 <span class="comment">//</span>
02954 <span class="comment">// declare these first since they point to each other</span>
02955 <span class="comment">//</span>
02956 
<a name="l02957"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a373">02957</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>_NDIS_WRAPPER_HANDLE     NDIS_WRAPPER_HANDLE, *<a class="code" href="../../d9/d5/ndismain_8h.html#a373">PNDIS_WRAPPER_HANDLE</a>;
<a name="l02958"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a374">02958</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>_NDIS_MAC_BLOCK          NDIS_MAC_BLOCK, *<a class="code" href="../../d9/d5/ndismain_8h.html#a374">PNDIS_MAC_BLOCK</a>;
<a name="l02959"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a375">02959</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/d2/struct__NDIS__ADAPTER__BLOCK.html">_NDIS_ADAPTER_BLOCK</a>      NDIS_ADAPTER_BLOCK, *<a class="code" href="../../d9/d5/ndismain_8h.html#a375">PNDIS_ADAPTER_BLOCK</a>;
<a name="l02960"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a376">02960</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>_NDIS_PROTOCOL_BLOCK NDIS_PROTOCOL_BLOCK, *<a class="code" href="../../d9/d5/ndismain_8h.html#a376">PNDIS_PROTOCOL_BLOCK</a>;
<a name="l02961"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a377">02961</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d3/d5/struct__NDIS__OPEN__BLOCK.html">_NDIS_OPEN_BLOCK</a>         NDIS_OPEN_BLOCK, *<a class="code" href="../../d9/d5/ndismain_8h.html#a377">PNDIS_OPEN_BLOCK</a>;
02962 
02963 <span class="comment">//</span>
02964 <span class="comment">// Timers.</span>
02965 <span class="comment">//</span>
02966 
02967 <span class="keyword">typedef</span>
02968 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
<a name="l02969"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a378">02969</a> (*PNDIS_TIMER_FUNCTION) (
02970         IN      PVOID                                   SystemSpecific1,
02971         IN      PVOID                                   FunctionContext,
02972         IN      PVOID                                   SystemSpecific2,
02973         IN      PVOID                                   SystemSpecific3
02974         );
02975 
<a name="l02976"></a><a class="code" href="../../d2/d9/struct__NDIS__TIMER.html">02976</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d2/d9/struct__NDIS__TIMER.html">_NDIS_TIMER</a>
02977 {
<a name="l02978"></a><a class="code" href="../../d2/d9/struct__NDIS__TIMER.html#o0">02978</a>         <a class="code" href="../../d3/d8/struct__KTIMER.html">KTIMER</a>          <a class="code" href="../../d2/d9/struct__NDIS__TIMER.html#o0">Timer</a>;
<a name="l02979"></a><a class="code" href="../../d2/d9/struct__NDIS__TIMER.html#o1">02979</a>         <a class="code" href="../../d1/d6/struct__KDPC.html">KDPC</a>            <a class="code" href="../../d2/d9/struct__NDIS__TIMER.html#o1">Dpc</a>;
02980 } <a class="code" href="../../d2/d9/struct__NDIS__TIMER.html">NDIS_TIMER</a>, *<a class="code" href="../../d2/d9/struct__NDIS__TIMER.html">PNDIS_TIMER</a>;
02981 
02982 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
02983 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02984 <a class="code" href="../../d9/d5/ndismain_8h.html#a490">NdisSetTimer</a>(
02985         IN      PNDIS_TIMER                             Timer,
02986         IN      UINT                                    MillisecondsToDelay
02987         );
02988 
02989 <span class="comment">//</span>
02990 <span class="comment">// DMA operations.</span>
02991 <span class="comment">//</span>
02992 
02993 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
02994 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02995 <a class="code" href="../../d9/d5/ndismain_8h.html#a491">NdisAllocateDmaChannel</a>(
02996         OUT PNDIS_STATUS                        Status,
02997         OUT PNDIS_HANDLE                        NdisDmaHandle,
02998         IN      NDIS_HANDLE                             NdisAdapterHandle,
02999         IN      PNDIS_DMA_DESCRIPTION   DmaDescription,
03000         IN      ULONG                                   MaximumLength
03001         );
03002 
03003 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
03004 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
03005 <a class="code" href="../../d9/d5/ndismain_8h.html#a492">NdisFreeDmaChannel</a>(
03006         IN      NDIS_HANDLE                             NdisDmaHandle
03007         );
03008 
03009 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
03010 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
03011 <a class="code" href="../../d9/d5/ndismain_8h.html#a493">NdisSetupDmaTransfer</a>(
03012         OUT PNDIS_STATUS                        Status,
03013         IN      NDIS_HANDLE                             NdisDmaHandle,
03014         IN      PNDIS_BUFFER                    Buffer,
03015         IN      ULONG                                   Offset,
03016         IN      ULONG                                   Length,
03017         IN      BOOLEAN                                 WriteToDevice
03018         );
03019 
03020 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
03021 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
03022 <a class="code" href="../../d9/d5/ndismain_8h.html#a494">NdisCompleteDmaTransfer</a>(
03023         OUT PNDIS_STATUS                        Status,
03024         IN      NDIS_HANDLE                             NdisDmaHandle,
03025         IN      PNDIS_BUFFER                    Buffer,
03026         IN      ULONG                                   Offset,
03027         IN      ULONG                                   Length,
03028         IN      BOOLEAN                                 WriteToDevice
03029         );
03030 
03031 <span class="comment">/*++</span>
03032 <span class="comment">ULONG</span>
03033 <span class="comment">NdisReadDmaCounter(</span>
03034 <span class="comment">        IN      NDIS_HANDLE                             NdisDmaHandle</span>
03035 <span class="comment">        )</span>
03036 <span class="comment">--*/</span>
03037 
<a name="l03038"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a252">03038</a> <span class="preprocessor">#define NdisReadDmaCounter(_NdisDmaHandle) \</span>
03039 <span class="preprocessor">        HalReadDmaCounter(((PNDIS_DMA_BLOCK)(_NdisDmaHandle))-&gt;SystemAdapterObject)</span>
03040 <span class="preprocessor"></span>
03041 <span class="comment">//</span>
03042 <span class="comment">// Wrapper initialization and termination.</span>
03043 <span class="comment">//</span>
03044 
03045 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
03046 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
03047 <a class="code" href="../../d9/d5/ndismain_8h.html#a495">NdisInitializeWrapper</a>(
03048         OUT PNDIS_HANDLE                        NdisWrapperHandle,
03049         IN      PVOID                                   SystemSpecific1,
03050         IN      PVOID                                   SystemSpecific2,
03051         IN      PVOID                                   SystemSpecific3
03052         );
03053 
03054 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
03055 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
03056 <a class="code" href="../../d9/d5/ndismain_8h.html#a496">NdisTerminateWrapper</a>(
03057         IN      NDIS_HANDLE                             NdisWrapperHandle,
03058         IN      PVOID                                   SystemSpecific
03059         );
03060 
03061 <span class="comment">//</span>
03062 <span class="comment">// Shared memory</span>
03063 <span class="comment">//</span>
03064 
<a name="l03065"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a253">03065</a> <span class="preprocessor">#define NdisUpdateSharedMemory(_H, _L, _V, _P)</span>
03066 <span class="preprocessor"></span>
03067 <span class="comment">//</span>
03068 <span class="comment">// System processor count</span>
03069 <span class="comment">//</span>
03070 
03071 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
03072 CCHAR
03073 <a class="code" href="../../d9/d5/ndismain_8h.html#a497">NdisSystemProcessorCount</a>(
03074         VOID
03075         );
03076 
03077 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
03078 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
03079 <a class="code" href="../../d9/d5/ndismain_8h.html#a498">NdisImmediateReadPortUchar</a>(
03080         IN      NDIS_HANDLE                             WrapperConfigurationContext,
03081         IN      ULONG                                   Port,
03082         OUT PUCHAR                                      Data
03083         );
03084 
03085 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
03086 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
03087 <a class="code" href="../../d9/d5/ndismain_8h.html#a499">NdisImmediateReadPortUshort</a>(
03088         IN      NDIS_HANDLE                             WrapperConfigurationContext,
03089         IN      ULONG                                   Port,
03090         OUT PUSHORT Data
03091         );
03092 
03093 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
03094 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
03095 <a class="code" href="../../d9/d5/ndismain_8h.html#a500">NdisImmediateReadPortUlong</a>(
03096         IN      NDIS_HANDLE                             WrapperConfigurationContext,
03097         IN      ULONG                                   Port,
03098         OUT PULONG Data
03099         );
03100 
03101 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
03102 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
03103 <a class="code" href="../../d9/d5/ndismain_8h.html#a501">NdisImmediateWritePortUchar</a>(
03104         IN      NDIS_HANDLE                             WrapperConfigurationContext,
03105         IN      ULONG                                   Port,
03106         IN      UCHAR                                   Data
03107         );
03108 
03109 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
03110 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
03111 <a class="code" href="../../d9/d5/ndismain_8h.html#a502">NdisImmediateWritePortUshort</a>(
03112         IN      NDIS_HANDLE                             WrapperConfigurationContext,
03113         IN      ULONG                                   Port,
03114         IN      USHORT                                  Data
03115         );
03116 
03117 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
03118 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
03119 <a class="code" href="../../d9/d5/ndismain_8h.html#a503">NdisImmediateWritePortUlong</a>(
03120         IN      NDIS_HANDLE                             WrapperConfigurationContext,
03121         IN      ULONG                                   Port,
03122         IN      ULONG                                   Data
03123         );
03124 
03125 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
03126 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
03127 <a class="code" href="../../d9/d5/ndismain_8h.html#a504">NdisImmediateReadSharedMemory</a>(
03128         IN      NDIS_HANDLE                             WrapperConfigurationContext,
03129         IN      ULONG                                   SharedMemoryAddress,
03130         IN      PUCHAR                                  Buffer,
03131         IN      ULONG                                   Length
03132         );
03133 
03134 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
03135 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
03136 <a class="code" href="../../d9/d5/ndismain_8h.html#a505">NdisImmediateWriteSharedMemory</a>(
03137         IN      NDIS_HANDLE                             WrapperConfigurationContext,
03138         IN      ULONG                                   SharedMemoryAddress,
03139         IN      PUCHAR                                  Buffer,
03140         IN      ULONG                                   Length
03141         );
03142 
03143 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
03144 ULONG
03145 <a class="code" href="../../d9/d5/ndismain_8h.html#a506">NdisImmediateReadPciSlotInformation</a>(
03146         IN      NDIS_HANDLE                             WrapperConfigurationContext,
03147         IN      ULONG                                   SlotNumber,
03148         IN      ULONG                                   Offset,
03149         IN      PVOID                                   Buffer,
03150         IN      ULONG                                   Length
03151         );
03152 
03153 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
03154 ULONG
03155 <a class="code" href="../../d9/d5/ndismain_8h.html#a507">NdisImmediateWritePciSlotInformation</a>(
03156         IN      NDIS_HANDLE                             WrapperConfigurationContext,
03157         IN      ULONG                                   SlotNumber,
03158         IN      ULONG                                   Offset,
03159         IN      PVOID                                   Buffer,
03160         IN      ULONG                                   Length
03161         );
03162 
03163 <span class="comment">//</span>
03164 <span class="comment">// Ansi/Unicode support routines</span>
03165 <span class="comment">//</span>
03166 
03167 <span class="preprocessor">#if BINARY_COMPATIBLE</span>
03168 <span class="preprocessor"></span>
03169 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
03170 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
03171 <a class="code" href="../../d9/d5/ndismain_8h.html#a254">NdisInitAnsiString</a>(
03172         IN OUT  PANSI_STRING            DestinationString,
03173         IN              PCSTR                           SourceString
03174         );
03175 
03176 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
03177 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
03178 <a class="code" href="../../d9/d5/ndismain_8h.html#a255">NdisInitUnicodeString</a>(
03179         IN OUT  PUNICODE_STRING         DestinationString,
03180         IN              PCWSTR                          SourceString
03181         );
03182 
03183 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
03184 <a class="code" href="../../d9/d5/ndismain_8h.html#a271">NDIS_STATUS</a>
03185 <a class="code" href="../../d9/d5/ndismain_8h.html#a256">NdisAnsiStringToUnicodeString</a>(
03186         IN OUT  PUNICODE_STRING         DestinationString,
03187         IN              PANSI_STRING            SourceString
03188         );
03189 
03190 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
03191 <a class="code" href="../../d9/d5/ndismain_8h.html#a271">NDIS_STATUS</a>
03192 <a class="code" href="../../d9/d5/ndismain_8h.html#a257">NdisUnicodeStringToAnsiString</a>(
03193         IN OUT  PANSI_STRING            DestinationString,
03194         IN              PUNICODE_STRING         SourceString
03195         );
03196 
03197 <a class="code" href="../../d9/d5/ndismain_8h.html#a4">EXPORT</a>
03198 <a class="code" href="../../d9/d5/ndismain_8h.html#a271">NDIS_STATUS</a>
03199 <a class="code" href="../../d9/d5/ndismain_8h.html#a258">NdisUpcaseUnicodeString</a>(
03200         OUT     PUNICODE_STRING                 DestinationString,
03201         IN      PUNICODE_STRING                 SourceString
03202         );
03203 
03204 <span class="preprocessor">#else // BINARY_COMPATIBLE</span>
03205 <span class="preprocessor"></span>
<a name="l03206"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a254">03206</a> <span class="preprocessor">#define NdisInitAnsiString(_as, s)                              RtlInitString(_as, s)</span>
<a name="l03207"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a255">03207</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisInitUnicodeString(_us, s)                   RtlInitUnicodeString(_us, s)</span>
<a name="l03208"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a256">03208</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisAnsiStringToUnicodeString(_us, _as) RtlAnsiStringToUnicodeString(_us, _as, FALSE)</span>
<a name="l03209"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a257">03209</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisUnicodeStringToAnsiString(_as, _us) RtlUnicodeStringToAnsiString(_as, _us, FALSE)</span>
<a name="l03210"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a258">03210</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisUpcaseUnicodeString(_d, _s)                 RtlUpcaseUnicodeString(_d, _s, FALSE)</span>
03211 <span class="preprocessor"></span>
03212 <span class="preprocessor">#endif // BINARY_COMPATIBLE</span>
03213 <span class="preprocessor"></span>
03214 <span class="comment">//</span>
03215 <span class="comment">// Non-paged lookaside list support routines</span>
03216 <span class="comment">//</span>
03217 
<a name="l03218"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a259">03218</a> <span class="preprocessor">#define NdisInitializeNPagedLookasideList(_L, _AR, _FR, _Fl, _S, _T, _D) \</span>
03219 <span class="preprocessor">                                ExInitializeNPagedLookasideList(_L, _AR, _FR, _Fl, _S, _T, _D)</span>
03220 <span class="preprocessor"></span>
<a name="l03221"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a260">03221</a> <span class="preprocessor">#define NdisDeleteNPagedLookasideList(_L)                       ExDeleteNPagedLookasideList(_L)</span>
<a name="l03222"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a261">03222</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisAllocateFromNPagedLookasideList(_L)         ExAllocateFromNPagedLookasideList(_L)</span>
<a name="l03223"></a><a class="code" href="../../d9/d5/ndismain_8h.html#a262">03223</a> <span class="preprocessor"></span><span class="preprocessor">#define NdisFreeToNPagedLookasideList(_L, _E)           ExFreeToNPagedLookasideList(_L, _E)</span>
03224 <span class="preprocessor"></span>
03225 
03226 <span class="preprocessor">#if defined(NDIS_WRAPPER)</span>
03227 <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keyword">struct </span>_OID_LIST        OID_LIST, *POID_LIST;
03228 <span class="preprocessor">#endif // NDIS_WRAPPER defined</span>
03229 <span class="preprocessor"></span>
03230 
03231 
03232 
03233 
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:40:54 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
