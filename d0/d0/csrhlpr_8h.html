<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: csrhlpr.h File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>csrhlpr.h File Reference</h1>
<p>
<a href="../../d1/d9/csrhlpr_8h-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>NTSTATUS APIENTRY&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d0/csrhlpr_8h.html#a0">CallUserpExitWindowsEx</a> (IN UINT uFlags, IN <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwReserved, OUT PBOOL pfSuccess)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>NTSTATUS APIENTRY&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d0/csrhlpr_8h.html#a1">CallUserpRegisterLogonProcess</a> (IN <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwProcessId)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID APIENTRY&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d0/csrhlpr_8h.html#a2">Logon</a> (IN BOOL fLogon)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID APIENTRY&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d0/csrhlpr_8h.html#a3">CsrWin32HeapFail</a> (IN <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="el" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a>, IN BOOL bFail)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>UINT APIENTRY&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d0/csrhlpr_8h.html#a4">CsrWin32HeapStat</a> (PDBGHEAPSTAT phs, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwLen)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>NTSTATUS APIENTRY&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d0/csrhlpr_8h.html#a5">UserConnectToServer</a> (IN PWSTR ObjectDirectory, IN OUT <a class="el" href="../../d6/d4/struct__USERCONNECT.html">PUSERCONNECT</a> ConnectionInformation, IN OUT PULONG ConnectionInformationLength OPTIONAL, OUT PBOOLEAN CalledFromServer OPTIONAL)</td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a0" doxytag="csrhlpr.h::CallUserpExitWindowsEx" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NTSTATUS APIENTRY CallUserpExitWindowsEx           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>uFlags</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dwReserved</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>OUT PBOOL&nbsp;</td>
          <td class="mdname" nowrap> <em>pfSuccess</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d9/csrstubs_8c-source.html#l00042">42</a> of file <a class="el" href="../../d4/d9/csrstubs_8c-source.html">csrstubs.c</a>.
<p>
References <a class="el" href="../../d9/d8/wow64csr_8c-source.html#l00075">CsrClientCallServer()</a>, <a class="el" href="../../d3/d9/csrmsg_8h-source.html#l00033">_EXITWINDOWSEXMSG::dwReserved</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d4/d9/csrstubs_8c-source.html#l00036">SET_LAST_ERROR_RETURNED</a>, <a class="el" href="../../d3/d4/struct__USER__API__MSG.html#o15">_USER_API_MSG::u</a>, <a class="el" href="../../d3/d9/csrmsg_8h-source.html#l00032">_EXITWINDOWSEXMSG::uFlags</a>, and <a class="el" href="../../d2/d0/csrmsg_8h.html#a35a24">UserpExitWindowsEx</a>.
<p>
Referenced by <a class="el" href="../../d4/d9/csrstubs_8c-source.html#l00084">ExitWindowsWorker()</a>.
<p>
<pre class="fragment"><div>00046 {
00047 
00048     <a class="code" href="../../d3/d4/struct__USER__API__MSG.html">USER_API_MSG</a> m;
00049     <a class="code" href="../../d1/d9/struct__EXITWINDOWSEXMSG.html">PEXITWINDOWSEXMSG</a> a = &amp;m.<a class="code" href="../../d3/d4/struct__USER__API__MSG.html#o15">u</a>.ExitWindowsEx;
00050 
00051     a-&gt;<a class="code" href="../../d1/d9/struct__EXITWINDOWSEXMSG.html#o1">uFlags</a> = uFlags;
00052     a-&gt;<a class="code" href="../../d1/d9/struct__EXITWINDOWSEXMSG.html#o2">dwReserved</a> = dwReserved;
00053     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00054                          NULL,
00055                          CSR_MAKE_API_NUMBER( USERSRV_SERVERDLL_INDEX,
00056                                               UserpExitWindowsEx
00057                                             ),
00058                          <span class="keyword">sizeof</span>( *a )
00059                        );
00060 
00061     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue ) || m.ReturnValue == STATUS_CANT_WAIT) {
00062         <a class="code" href="../../d3/d0/csrstubs_8c.html#a0">SET_LAST_ERROR_RETURNED</a>();
00063         *pfSuccess = a-&gt;<a class="code" href="../../d1/d9/struct__EXITWINDOWSEXMSG.html#o3">fSuccess</a>;
00064     } <span class="keywordflow">else</span> {
00065         RIPNTERR0(m.ReturnValue, RIP_VERBOSE, <span class="stringliteral">""</span>);
00066         *pfSuccess = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00067     }
00068 
00069     <span class="keywordflow">return</span> m.ReturnValue;
00070 
00071 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="csrhlpr.h::CallUserpRegisterLogonProcess" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NTSTATUS APIENTRY CallUserpRegisterLogonProcess           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dwProcessId</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d4/d9/csrstubs_8c-source.html#l00228">228</a> of file <a class="el" href="../../d4/d9/csrstubs_8c-source.html">csrstubs.c</a>.
<p>
References <a class="el" href="../../d9/d8/wow64csr_8c-source.html#l00075">CsrClientCallServer()</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d3/d0/cttoken_8c-source.html#l00135">Status</a>, <a class="el" href="../../d3/d4/struct__USER__API__MSG.html#o15">_USER_API_MSG::u</a>, and <a class="el" href="../../d2/d0/csrmsg_8h.html#a35a31">UserpRegisterLogonProcess</a>.
<p>
Referenced by <a class="el" href="../../d4/d9/csrstubs_8c-source.html#l00252">RegisterLogonProcess()</a>.
<p>
<pre class="fragment"><div>00230 {
00231 
00232     <a class="code" href="../../d3/d4/struct__USER__API__MSG.html">USER_API_MSG</a> m;
00233     <a class="code" href="../../d4/d3/struct__LOGONMSG.html">PLOGONMSG</a> a = &amp;m.<a class="code" href="../../d3/d4/struct__USER__API__MSG.html#o15">u</a>.Logon;
00234     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
00235 
00236     m.<a class="code" href="../../d3/d4/struct__USER__API__MSG.html#o15">u</a>.IdLogon = dwProcessId;
00237     <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00238                                   NULL,
00239                                   CSR_MAKE_API_NUMBER( USERSRV_SERVERDLL_INDEX,
00240                                                        UserpRegisterLogonProcess),
00241                                   <span class="keyword">sizeof</span>(*a));
00242 
00243     <span class="keywordflow">return</span> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
00244 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="csrhlpr.h::CsrWin32HeapFail" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID APIENTRY CsrWin32HeapFail           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dwFlags</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN BOOL&nbsp;</td>
          <td class="mdname" nowrap> <em>bFail</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="csrhlpr.h::CsrWin32HeapStat" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> UINT APIENTRY CsrWin32HeapStat           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PDBGHEAPSTAT&nbsp;</td>
          <td class="mdname" nowrap> <em>phs</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dwLen</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="csrhlpr.h::Logon" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID APIENTRY Logon           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN BOOL&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>fLogon</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d9/d8/client_2ntstubs_8c-source.html#l01039">SetWindowStationUser()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="csrhlpr.h::UserConnectToServer" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> _inline NTSTATUS UserConnectToServer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PWSTR&nbsp;</td>
          <td class="mdname" nowrap> <em>ObjectDirectory</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN OUT <a class="el" href="../../d6/d4/struct__USERCONNECT.html">PUSERCONNECT</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ConnectionInformation</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN OUT PULONG ConnectionInformationLength&nbsp;</td>
          <td class="mdname" nowrap> <em>OPTIONAL</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>OUT PBOOLEAN CalledFromServer&nbsp;</td>
          <td class="mdname" nowrap> <em>OPTIONAL</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d1/d9/csrhlpr_8h-source.html#l00055">55</a> of file <a class="el" href="../../d1/d9/csrhlpr_8h-source.html">csrhlpr.h</a>.
<p>
References <a class="el" href="../../d9/d8/wow64csr_8c-source.html#l00031">CsrClientConnectToServer()</a>, and <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>.
<p>
Referenced by <a class="el" href="../../d7/d7/clinit_8c-source.html#l00059">UserClientDllInitialize()</a>.
<p>
<pre class="fragment"><div>00060       {
00061 
00062     <span class="keywordflow">return</span> <a class="code" href="../../d8/d9/wow64csr_8c.html#a0">CsrClientConnectToServer</a>(ObjectDirectory,
00063                                     USERSRV_SERVERDLL_INDEX,
00064                                     NULL,
00065                                     ConnectionInformation,
00066                                     ConnectionInformationLength,
00067                                     CalledFromServer);
00068 
00069 }
</div></pre>    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:43:20 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
