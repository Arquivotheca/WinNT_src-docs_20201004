<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: f3ahvoas.c Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>f3ahvoas.c</h1><a href="../../d9/d0/f3ahvoas_8c.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">/***************************************************************************\</span>
00002 <span class="comment">* Module Name: f3ahvoas.</span>
00003 <span class="comment">*</span>
00004 <span class="comment">* Copyright (c) 1985-92, Microsoft Corporation</span>
00005 <span class="comment">*</span>
00006 <span class="comment">* History:</span>
00007 <span class="comment">\***************************************************************************/</span>
00008 
00009 <span class="preprocessor">#include &lt;nt.h&gt;</span>
00010 <span class="preprocessor">#include &lt;ntrtl.h&gt;</span>
00011 <span class="preprocessor">#include &lt;nturtl.h&gt;</span>
00012 <span class="preprocessor">#include &lt;windows.h&gt;</span>
00013 <span class="preprocessor">#include &lt;ime.h&gt;</span>
00014 <span class="preprocessor">#include "<a class="code" href="../../d4/d6/vkoem_8h.html">vkoem.h</a>"</span>
00015 <span class="preprocessor">#include "<a class="code" href="../../d7/d1/kbdjpn_8h.html">kbdjpn.h</a>"</span>
00016 <span class="preprocessor">#include "<a class="code" href="../../d1/d1/f3ahvoas_8h.html">f3ahvoas.h</a>"</span>
00017 
00018 <span class="preprocessor">#include "cscall.h"</span>
00019 <span class="preprocessor">#include "<a class="code" href="../../d5/d0/usercall_8h.html">usercall.h</a>"</span>
00020 
00021 <span class="preprocessor">#if defined(_M_IA64)</span>
00022 <span class="preprocessor"></span><span class="preprocessor">#pragma section(".data")</span>
00023 <span class="preprocessor"></span><span class="preprocessor">#define ALLOC_SECTION_LDATA __declspec(allocate(".data"))</span>
00024 <span class="preprocessor"></span><span class="preprocessor">#else</span>
00025 <span class="preprocessor"></span><span class="preprocessor">#pragma data_seg(".data")</span>
<a name="l00026"></a><a class="code" href="../../d9/d0/f3ahvoas_8c.html#a0">00026</a> <span class="preprocessor"></span><span class="preprocessor">#define ALLOC_SECTION_LDATA</span>
00027 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00028 <span class="preprocessor"></span>
00029 <span class="comment">/***************************************************************************\</span>
00030 <span class="comment">* ausVK[] - Virtual Scan Code to Virtual Key conversion table for F3AHVOAS</span>
00031 <span class="comment">\***************************************************************************/</span>
00032 
<a name="l00033"></a><a class="code" href="../../d9/d0/f3ahvoas_8c.html#a1">00033</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> <a class="code" href="../../d9/d0/f3ahvoas_8c.html#a1">ausVK</a>[] = {
00034     T00, T01, T02, T03, T04, T05, T06, T07,
00035     T08, T09, T0A, T0B, T0C, T0D, T0E, T0F,
00036     T10, T11, T12, T13, T14, T15, T16, T17,
00037     T18, T19, T1A, T1B, T1C, T1D, T1E, T1F,
00038     T20, T21, T22, T23, T24, T25, T26, T27,
00039     T28,
00040 
00041     <span class="comment">/*</span>
00042 <span class="comment">     * Hankaku/Zenkaku/Kanji key must have KBDSPECIAL bit set (NLS key)</span>
00043 <span class="comment">     */</span>
00044     T29 | KBDSPECIAL,
00045 
00046               T2A, T2B, T2C, T2D, T2E, T2F,
00047     T30, T31, T32, T33, T34, T35,
00048 
00049     <span class="comment">/*</span>
00050 <span class="comment">     * Right-hand Shift key must have KBDEXT bit set.</span>
00051 <span class="comment">     */</span>
00052     T36 | KBDEXT,
00053 
00054     <span class="comment">/*</span>
00055 <span class="comment">     * numpad_* + Shift/Alt -&gt; SnapShot</span>
00056 <span class="comment">     */</span>
00057     T37 | KBDMULTIVK,
00058 
00059     T38, T39,
00060 
00061     <span class="comment">/*</span>
00062 <span class="comment">     * Alphanumeric/CapsLock key must have KBDSPECIAL bit set (NLS key)</span>
00063 <span class="comment">     */</span>
00064     T3A | KBDSPECIAL,
00065 
00066                    T3B, T3C, T3D, T3E, T3F,
00067     T40, T41, T42, T43, T44,
00068 
00069     <span class="comment">/*</span>
00070 <span class="comment">     * NumLock Key:</span>
00071 <span class="comment">     *     KBDEXT     - VK_NUMLOCK is an Extended key</span>
00072 <span class="comment">     *     KBDMULTIVK - VK_NUMLOCK or VK_PAUSE (without or with CTRL)</span>
00073 <span class="comment">     */</span>
00074     T45 | KBDEXT | KBDMULTIVK,
00075 
00076     T46 | KBDMULTIVK,
00077 
00078     <span class="comment">/*</span>
00079 <span class="comment">     * Number Pad keys:</span>
00080 <span class="comment">     *     KBDNUMPAD  - digits 0-9 and decimal point.</span>
00081 <span class="comment">     *     KBDSPECIAL - require special processing by Windows</span>
00082 <span class="comment">     */</span>
00083     T47 | KBDNUMPAD | KBDSPECIAL,   <span class="comment">// Numpad 7 (Home)</span>
00084     T48 | KBDNUMPAD | KBDSPECIAL,   <span class="comment">// Numpad 8 (Up),</span>
00085     T49 | KBDNUMPAD | KBDSPECIAL,   <span class="comment">// Numpad 9 (PgUp),</span>
00086     T4A,
00087     T4B | KBDNUMPAD | KBDSPECIAL,   <span class="comment">// Numpad 4 (Left),</span>
00088     T4C | KBDNUMPAD | KBDSPECIAL,   <span class="comment">// Numpad 5 (Clear),</span>
00089     T4D | KBDNUMPAD | KBDSPECIAL,   <span class="comment">// Numpad 6 (Right),</span>
00090     T4E,
00091     T4F | KBDNUMPAD | KBDSPECIAL,   <span class="comment">// Numpad 1 (End),</span>
00092     T50 | KBDNUMPAD | KBDSPECIAL,   <span class="comment">// Numpad 2 (Down),</span>
00093     T51 | KBDNUMPAD | KBDSPECIAL,   <span class="comment">// Numpad 3 (PgDn),</span>
00094     T52 | KBDNUMPAD | KBDSPECIAL,   <span class="comment">// Numpad 0 (Ins),</span>
00095     T53 | KBDNUMPAD | KBDSPECIAL,   <span class="comment">// Numpad . (Del),</span>
00096 
00097     T54, T55, T56, T57, T58, T59, T5A, T5B,
00098     T5C, T5D, T5E, T5F, T60, T61, T62, T63,
00099     T64, T65, T66, T67, T68, T69, T6A, T6B,
00100     T6C, T6D, T6E, T6F,
00101 
00102     <span class="comment">/*</span>
00103 <span class="comment">     * Hiragana/Katakana/Roman key must have KBDSPECIAL bit set (NLS key)</span>
00104 <span class="comment">     */</span>
00105     T70 | KBDSPECIAL,
00106 
00107                              T71, T72, T73,
00108     T74, T75, T76, T77, T78,
00109 
00110     <span class="comment">/*</span>
00111 <span class="comment">     * Conversion key must have KBDSPECIAL bit set (NLS key)</span>
00112 <span class="comment">     */</span>
00113     T79 | KBDSPECIAL,
00114 
00115                                   T7A,
00116 
00117     <span class="comment">/*</span>
00118 <span class="comment">     * Non-Conversion key must have KBDSPECIAL bit set (NLS key)</span>
00119 <span class="comment">     */</span>
00120     T7B | KBDSPECIAL,
00121 
00122     T7C, T7D, T7E, T7F
00123 
00124 };
00125 
<a name="l00126"></a><a class="code" href="../../d9/d0/f3ahvoas_8c.html#a2">00126</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> VSC_VK <a class="code" href="../../d9/d0/f3ahvoas_8c.html#a2">aE0VscToVk</a>[] = {
00127         { 0x1C, X1C | KBDEXT              },  <span class="comment">// Numpad Enter</span>
00128         { 0x1D, X1D | KBDEXT              },  <span class="comment">// RControl</span>
00129         { 0x35, X35 | KBDEXT              },  <span class="comment">// Numpad Divide</span>
00130         { 0x37, X37 | KBDEXT              },  <span class="comment">// Snapshot</span>
00131         { 0x38, X38 | KBDEXT              },  <span class="comment">// RMenu</span>
00132         { 0x46, X46 | KBDEXT              },  <span class="comment">// Break (Ctrl + Pause)</span>
00133         { 0x47, X47 | KBDEXT              },  <span class="comment">// Home</span>
00134         { 0x48, X48 | KBDEXT              },  <span class="comment">// Up</span>
00135         { 0x49, X49 | KBDEXT              },  <span class="comment">// Prior</span>
00136         { 0x4B, X4B | KBDEXT              },  <span class="comment">// Left</span>
00137         { 0x4D, X4D | KBDEXT              },  <span class="comment">// Right</span>
00138         { 0x4F, X4F | KBDEXT              },  <span class="comment">// End</span>
00139         { 0x50, X50 | KBDEXT              },  <span class="comment">// Down</span>
00140         { 0x51, X51 | KBDEXT              },  <span class="comment">// Next</span>
00141         { 0x52, X52 | KBDEXT              },  <span class="comment">// Insert</span>
00142         { 0x53, X53 | KBDEXT              },  <span class="comment">// Delete</span>
00143         { 0x5B, X5B | KBDEXT              },  <span class="comment">// Left Win</span>
00144         { 0x5C, X5C | KBDEXT              },  <span class="comment">// Right Win</span>
00145         { 0x5D, X5D | KBDEXT              },  <span class="comment">// Application</span>
00146         { 0,      0                       }
00147 };
00148 
<a name="l00149"></a><a class="code" href="../../d9/d0/f3ahvoas_8c.html#a3">00149</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> VSC_VK <a class="code" href="../../d9/d0/f3ahvoas_8c.html#a3">aE1VscToVk</a>[] = {
00150         { 0x1D, Y1D                       },  <span class="comment">// Pause</span>
00151         { 0   ,   0                       }
00152 };
00153 
00154 <span class="comment">/***************************************************************************\</span>
00155 <span class="comment">* aVkToBits[]  - map Virtual Keys to Modifier Bits</span>
00156 <span class="comment">*</span>
00157 <span class="comment">* See kbd.h for a full description.</span>
00158 <span class="comment">*</span>
00159 <span class="comment">* US Keyboard has only three shifter keys:</span>
00160 <span class="comment">*     SHIFT (L &amp; R) affects alphabnumeric keys,</span>
00161 <span class="comment">*     CTRL  (L &amp; R) is used to generate control characters</span>
00162 <span class="comment">*     ALT   (L &amp; R) used for generating characters by number with numpad</span>
00163 <span class="comment">\***************************************************************************/</span>
00164 
<a name="l00165"></a><a class="code" href="../../d9/d0/f3ahvoas_8c.html#a4">00165</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> VK_TO_BIT <a class="code" href="../../d9/d0/f3ahvoas_8c.html#a4">aVkToBits</a>[] = {
00166     { VK_SHIFT,   KBDSHIFT },
00167     { VK_CONTROL, KBDCTRL  },
00168     { VK_MENU,    KBDALT   },
00169     { VK_KANA,    KBDKANA  },
00170     { 0,          0        }
00171 };
00172 
00173 <span class="comment">/***************************************************************************\</span>
00174 <span class="comment">* aModification[]  - map character modifier bits to modification number</span>
00175 <span class="comment">*</span>
00176 <span class="comment">* See kbd.h for a full description.</span>
00177 <span class="comment">*</span>
00178 <span class="comment">\***************************************************************************/</span>
00179 
<a name="l00180"></a><a class="code" href="../../d9/d0/f3ahvoas_8c.html#a5">00180</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> MODIFIERS <a class="code" href="../../d9/d0/f3ahvoas_8c.html#a5">CharModifiers</a> = {
00181     &amp;<a class="code" href="../../d9/d0/f3ahvoas_8c.html#a4">aVkToBits</a>[0],
00182     11,
00183     {
00184     <span class="comment">//  Modification# //  Keys Pressed  : Explanation</span>
00185     <span class="comment">//  ============= // ============== : =============================</span>
00186         0,            <span class="comment">//                : unshifted characters</span>
00187         1,            <span class="comment">//          SHIFT : capitals, ~!@#$%^&amp;*()_+{}:"&lt;&gt;? etc.</span>
00188         4,            <span class="comment">//     CTRL       : control characters</span>
00189         6,            <span class="comment">//     CTRL SHIFT :</span>
00190         SHFT_INVALID, <span class="comment">// ALT            : invalid</span>
00191         SHFT_INVALID, <span class="comment">// ALT      SHIFT : invalid</span>
00192         SHFT_INVALID, <span class="comment">// ALT CTRL       : invalid</span>
00193         SHFT_INVALID, <span class="comment">// ALT CTRL SHIFT : invalid</span>
00194         2,            <span class="comment">//KANA</span>
00195         3,            <span class="comment">//KANA      SHIFT</span>
00196         5,            <span class="comment">//KANA CTRL</span>
00197         7             <span class="comment">//KANA CTRL SHIFT</span>
00198     }
00199 };
00200 
00201 <span class="comment">/***************************************************************************\</span>
00202 <span class="comment">*</span>
00203 <span class="comment">* aVkToWch2[]  - Virtual Key to WCHAR translation for 2 shift states</span>
00204 <span class="comment">* aVkToWch3[]  - Virtual Key to WCHAR translation for 3 shift states</span>
00205 <span class="comment">* aVkToWch4[]  - Virtual Key to WCHAR translation for 4 shift states</span>
00206 <span class="comment">*</span>
00207 <span class="comment">* Table attributes: Unordered Scan, null-terminated</span>
00208 <span class="comment">*</span>
00209 <span class="comment">* Search this table for an entry with a matching Virtual Key to find the</span>
00210 <span class="comment">* corresponding unshifted and shifted WCHAR characters.</span>
00211 <span class="comment">*</span>
00212 <span class="comment">* Reserved VirtualKey values (first column)</span>
00213 <span class="comment">*     -1            - this line contains dead characters (diacritic)</span>
00214 <span class="comment">*     0             - terminator</span>
00215 <span class="comment">*</span>
00216 <span class="comment">* Reserved Attribute values (second column)</span>
00217 <span class="comment">*     CAPLOK        - CapsLock affects this key like Shift</span>
00218 <span class="comment">*     KANALOK       - The KANA-LOCK key affects this key like KANA</span>
00219 <span class="comment">*</span>
00220 <span class="comment">* Reserved character values (third through last column)</span>
00221 <span class="comment">*     WCH_NONE      - No character</span>
00222 <span class="comment">*     WCH_DEAD      - Dead character (diacritic) value is in next line</span>
00223 <span class="comment">*</span>
00224 <span class="comment">\***************************************************************************/</span>
00225 
<a name="l00226"></a><a class="code" href="../../d9/d0/f3ahvoas_8c.html#a6">00226</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> VK_TO_WCHARS4 <a class="code" href="../../d9/d0/f3ahvoas_8c.html#a6">aVkToWch4</a>[] = {
00227     <span class="comment">//                               |          |   SHIFT  |  KANA  | K+SHFT |</span>
00228     <span class="comment">//                               |          |==========|========|========|</span>
00229     {<span class="charliteral">'0'</span>          ,          KANALOK ,<span class="charliteral">'0'</span>       ,WCH_NONE  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a104">WCH_WA</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a50">WCH_WO</a>  },
00230     {<span class="charliteral">'1'</span>          ,          KANALOK ,<span class="charliteral">'1'</span>       ,<span class="charliteral">'!'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a83">WCH_NU</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a83">WCH_NU</a>  },
00231     {<span class="charliteral">'3'</span>          ,          KANALOK ,<span class="charliteral">'3'</span>       ,<span class="charliteral">'#'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a61">WCH_A</a>   ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a51">WCH_AA</a>  },
00232     {<span class="charliteral">'4'</span>          ,          KANALOK ,<span class="charliteral">'4'</span>       ,<span class="charliteral">'$'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a63">WCH_U</a>   ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a53">WCH_UU</a>  },
00233     {<span class="charliteral">'5'</span>          ,          KANALOK ,<span class="charliteral">'5'</span>       ,<span class="charliteral">'%'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a64">WCH_E</a>   ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a54">WCH_EE</a>  },
00234     {<span class="charliteral">'7'</span>          ,          KANALOK ,<span class="charliteral">'7'</span>       ,0x27      ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a96">WCH_YA</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a56">WCH_YAA</a> },
00235     {<span class="charliteral">'8'</span>          ,          KANALOK ,<span class="charliteral">'8'</span>       ,<span class="charliteral">'('</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a97">WCH_YU</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a57">WCH_YUU</a> },
00236     {<span class="charliteral">'9'</span>          ,          KANALOK ,<span class="charliteral">'9'</span>       ,<span class="charliteral">')'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a98">WCH_YO</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a58">WCH_YOO</a> },
00237     {<span class="charliteral">'A'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'a'</span>       ,<span class="charliteral">'A'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a77">WCH_TI</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a77">WCH_TI</a>  },
00238     {<span class="charliteral">'B'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'b'</span>       ,<span class="charliteral">'B'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a70">WCH_KO</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a70">WCH_KO</a>  },
00239     {<span class="charliteral">'C'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'c'</span>       ,<span class="charliteral">'C'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a75">WCH_SO</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a75">WCH_SO</a>  },
00240     {<span class="charliteral">'D'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'d'</span>       ,<span class="charliteral">'D'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a72">WCH_SI</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a72">WCH_SI</a>  },
00241     {<span class="charliteral">'E'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'e'</span>       ,<span class="charliteral">'E'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a62">WCH_I</a>   ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a52">WCH_II</a>  },
00242     {<span class="charliteral">'F'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'f'</span>       ,<span class="charliteral">'F'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a86">WCH_HA</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a86">WCH_HA</a>  },
00243     {<span class="charliteral">'G'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'g'</span>       ,<span class="charliteral">'G'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a67">WCH_KI</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a67">WCH_KI</a>  },
00244     {<span class="charliteral">'H'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'h'</span>       ,<span class="charliteral">'H'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a68">WCH_KU</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a68">WCH_KU</a>  },
00245     {<span class="charliteral">'I'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'i'</span>       ,<span class="charliteral">'I'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a82">WCH_NI</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a82">WCH_NI</a>  },
00246     {<span class="charliteral">'J'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'j'</span>       ,<span class="charliteral">'J'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a91">WCH_MA</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a91">WCH_MA</a>  },
00247     {<span class="charliteral">'K'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'k'</span>       ,<span class="charliteral">'K'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a85">WCH_NO</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a85">WCH_NO</a>  },
00248     {<span class="charliteral">'L'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'l'</span>       ,<span class="charliteral">'L'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a100">WCH_RI</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a100">WCH_RI</a>  },
00249     {<span class="charliteral">'M'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'m'</span>       ,<span class="charliteral">'M'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a95">WCH_MO</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a95">WCH_MO</a>  },
00250     {<span class="charliteral">'N'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'n'</span>       ,<span class="charliteral">'N'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a92">WCH_MI</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a92">WCH_MI</a>  },
00251     {<span class="charliteral">'O'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'o'</span>       ,<span class="charliteral">'O'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a99">WCH_RA</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a99">WCH_RA</a>  },
00252     {<span class="charliteral">'P'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'p'</span>       ,<span class="charliteral">'P'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a74">WCH_SE</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a74">WCH_SE</a>  },
00253     {<span class="charliteral">'Q'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'q'</span>       ,<span class="charliteral">'Q'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a76">WCH_TA</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a76">WCH_TA</a>  },
00254     {<span class="charliteral">'R'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'r'</span>       ,<span class="charliteral">'R'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a73">WCH_SU</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a73">WCH_SU</a>  },
00255     {<span class="charliteral">'S'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'s'</span>       ,<span class="charliteral">'S'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a80">WCH_TO</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a80">WCH_TO</a>  },
00256     {<span class="charliteral">'T'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'t'</span>       ,<span class="charliteral">'T'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a66">WCH_KA</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a66">WCH_KA</a>  },
00257     {<span class="charliteral">'U'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'u'</span>       ,<span class="charliteral">'U'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a81">WCH_NA</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a81">WCH_NA</a>  },
00258     {<span class="charliteral">'V'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'v'</span>       ,<span class="charliteral">'V'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a87">WCH_HI</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a87">WCH_HI</a>  },
00259     {<span class="charliteral">'W'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'w'</span>       ,<span class="charliteral">'W'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a79">WCH_TE</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a79">WCH_TE</a>  },
00260     {<span class="charliteral">'X'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'x'</span>       ,<span class="charliteral">'X'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a71">WCH_SA</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a71">WCH_SA</a>  },
00261     {<span class="charliteral">'Y'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'y'</span>       ,<span class="charliteral">'Y'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a105">WCH_NN</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a105">WCH_NN</a>  },
00262     {<span class="charliteral">'Z'</span>          , CAPLOK | KANALOK ,<span class="charliteral">'z'</span>       ,<span class="charliteral">'Z'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a78">WCH_TU</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a59">WCH_TUU</a> },
00263     {VK_OEM_1     ,          KANALOK ,<span class="charliteral">':'</span>       ,<span class="charliteral">'*'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a69">WCH_KE</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a69">WCH_KE</a>  },
00264     {VK_OEM_2     ,          KANALOK ,<span class="charliteral">'/'</span>       ,<span class="charliteral">'?'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a94">WCH_ME</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a49">WCH_MD</a>  },
00265     {VK_OEM_3     ,          KANALOK ,<span class="charliteral">'@'</span>       ,<span class="charliteral">'`'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a106">WCH_VS</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a106">WCH_VS</a>  },
00266     {VK_OEM_7     ,          KANALOK ,<span class="charliteral">'^'</span>       ,<span class="charliteral">'~'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a89">WCH_HE</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a89">WCH_HE</a>  },
00267     {VK_OEM_8     , 0                ,WCH_NONE  ,WCH_NONE  ,WCH_NONE,WCH_NONE},
00268     {VK_OEM_COMMA ,          KANALOK ,<span class="charliteral">','</span>       ,<span class="charliteral">'&lt;'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a84">WCH_NE</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a48">WCH_IC</a>  },
00269     {VK_OEM_PERIOD,          KANALOK ,<span class="charliteral">'.'</span>       ,<span class="charliteral">'&gt;'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a101">WCH_RU</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a45">WCH_IP</a>  },
00270     {VK_OEM_PLUS  ,          KANALOK ,<span class="charliteral">';'</span>       ,<span class="charliteral">'+'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a102">WCH_RE</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a102">WCH_RE</a>  },
00271     {VK_TAB       , 0                ,<span class="charliteral">'\t'</span>      ,<span class="charliteral">'\t'</span>      ,<span class="charliteral">'\t'</span>    ,<span class="charliteral">'\t'</span>    },
00272     {VK_ADD       , 0                ,<span class="charliteral">'+'</span>       ,<span class="charliteral">'+'</span>       ,<span class="charliteral">'+'</span>     ,<span class="charliteral">'+'</span>     },
00273     {VK_DECIMAL   , 0                ,<span class="charliteral">'.'</span>       ,<span class="charliteral">'.'</span>       ,<span class="charliteral">'.'</span>     ,<span class="charliteral">'.'</span>     },
00274     {VK_DIVIDE    , 0                ,<span class="charliteral">'/'</span>       ,<span class="charliteral">'/'</span>       ,<span class="charliteral">'/'</span>     ,<span class="charliteral">'/'</span>     },
00275     {VK_MULTIPLY  , 0                ,<span class="charliteral">'*'</span>       ,<span class="charliteral">'*'</span>       ,<span class="charliteral">'*'</span>     ,<span class="charliteral">'*'</span>     },
00276     {VK_SUBTRACT  , 0                ,<span class="charliteral">'-'</span>       ,<span class="charliteral">'-'</span>       ,<span class="charliteral">'-'</span>     ,<span class="charliteral">'-'</span>     },
00277     {0            , 0                ,0         ,0         ,0       ,0       }
00278 };
00279 
<a name="l00280"></a><a class="code" href="../../d9/d0/f3ahvoas_8c.html#a7">00280</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> VK_TO_WCHARS6 <a class="code" href="../../d9/d0/f3ahvoas_8c.html#a7">aVkToWch6</a>[] = {
00281     <span class="comment">//                      |          |   SHIFT  |  KANA  | K+SHFT |  CONTROL  |  K+CTRL   |</span>
00282     <span class="comment">//                      |          |==========|========|========|===========|===========|</span>
00283     {VK_BACK      , 0       ,<span class="charliteral">'\b'</span>      ,<span class="charliteral">'\b'</span>      ,<span class="charliteral">'\b'</span>    ,<span class="charliteral">'\b'</span>    , 0x7f      , 0x7f      },
00284     {VK_CANCEL    , 0       ,0x03      ,0x03      ,0x03    ,0x03    , 0x03      , 0x03      },
00285     {VK_ESCAPE    , 0       ,0x1b      ,0x1b      ,0x1b    ,0x1b    , 0x1b      , 0x1b      },
00286     {VK_OEM_4     , KANALOK ,<span class="charliteral">'['</span>       ,<span class="charliteral">'{'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a107">WCH_SVS</a> ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a46">WCH_OB</a>  , 0x1b      , 0x1b      },
00287     {VK_OEM_5     , KANALOK ,<span class="charliteral">'\\'</span>      ,<span class="charliteral">'|'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a60">WCH_PS</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a60">WCH_PS</a>  , 0x1c      , 0x1c      },
00288     {VK_OEM_102   , KANALOK ,<span class="charliteral">'\\'</span>      ,<span class="charliteral">'_'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a103">WCH_RO</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a103">WCH_RO</a>  , 0x1c      , 0x1c      },
00289     {VK_OEM_6     , KANALOK ,<span class="charliteral">']'</span>       ,<span class="charliteral">'}'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a93">WCH_MU</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a47">WCH_CB</a>  , 0x1d      , 0x1d      },
00290     {VK_RETURN    , 0       ,<span class="charliteral">'\r'</span>      ,<span class="charliteral">'\r'</span>      ,<span class="charliteral">'\r'</span>    ,<span class="charliteral">'\r'</span>    , <span class="charliteral">'\n'</span>      , <span class="charliteral">'\n'</span>      },
00291     {VK_SPACE     , 0       ,<span class="charliteral">' '</span>       ,<span class="charliteral">' '</span>       ,<span class="charliteral">' '</span>     ,<span class="charliteral">' '</span>     , 0x20      , 0x20      },
00292     {0            , 0       ,0         ,0         ,0       ,0       , 0         , 0         }
00293 };
00294 
<a name="l00295"></a><a class="code" href="../../d9/d0/f3ahvoas_8c.html#a8">00295</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> VK_TO_WCHARS8 <a class="code" href="../../d9/d0/f3ahvoas_8c.html#a8">aVkToWch8</a>[] = {
00296     <span class="comment">//                      |          |   SHIFT  |  KANA  | K+SHFT |  CONTROL  |  K+CTRL   | SHFT+CTRL |K+SHFT+CTRL|</span>
00297     <span class="comment">//                      |          |==========|========|========|===========|===========|===========|===========|</span>
00298     {<span class="charliteral">'2'</span>          , KANALOK ,<span class="charliteral">'2'</span>       ,<span class="charliteral">'"'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a88">WCH_HU</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a88">WCH_HU</a>  , WCH_NONE  , WCH_NONE  , 0x00      , 0x00      },
00299     {<span class="charliteral">'6'</span>          , KANALOK ,<span class="charliteral">'6'</span>       ,<span class="charliteral">'&amp;'</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a65">WCH_O</a>   ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a55">WCH_OO</a>  , WCH_NONE  , WCH_NONE  , 0x1e      , 0x1e      },
00300     {VK_OEM_MINUS , KANALOK ,<span class="charliteral">'-'</span>       ,<span class="charliteral">'='</span>       ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a90">WCH_HO</a>  ,<a class="code" href="../../d7/d1/kbdjpn_8h.html#a108a90">WCH_HO</a>  , WCH_NONE  , WCH_NONE  , 0x1f      , 0x1f      },
00301     {0            , 0       ,0         ,0         ,0       ,0       , 0         , 0         , 0         , 0         }
00302 };
00303 
00304 <span class="comment">// Put this last so that VkKeyScan interprets number characters</span>
00305 <span class="comment">// as coming from the main section of the kbd (aVkToWch2 and</span>
00306 <span class="comment">// aVkToWch4) before considering the numpad (aVkToWch1).</span>
00307 
<a name="l00308"></a><a class="code" href="../../d9/d0/f3ahvoas_8c.html#a9">00308</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> VK_TO_WCHARS4 <a class="code" href="../../d9/d0/f3ahvoas_8c.html#a9">aVkToWch1</a>[] = {
00309     <span class="comment">//                     |          |   SHIFT  |  KANA  | K+SHFT |</span>
00310     <span class="comment">//                     |          |==========|========|========|</span>
00311     { VK_NUMPAD0   , 0      ,  <span class="charliteral">'0'</span>    , WCH_NONE ,   <span class="charliteral">'0'</span>  ,WCH_NONE},
00312     { VK_NUMPAD1   , 0      ,  <span class="charliteral">'1'</span>    , WCH_NONE ,   <span class="charliteral">'1'</span>  ,WCH_NONE},
00313     { VK_NUMPAD2   , 0      ,  <span class="charliteral">'2'</span>    , WCH_NONE ,   <span class="charliteral">'2'</span>  ,WCH_NONE},
00314     { VK_NUMPAD3   , 0      ,  <span class="charliteral">'3'</span>    , WCH_NONE ,   <span class="charliteral">'3'</span>  ,WCH_NONE},
00315     { VK_NUMPAD4   , 0      ,  <span class="charliteral">'4'</span>    , WCH_NONE ,   <span class="charliteral">'4'</span>  ,WCH_NONE},
00316     { VK_NUMPAD5   , 0      ,  <span class="charliteral">'5'</span>    , WCH_NONE ,   <span class="charliteral">'5'</span>  ,WCH_NONE},
00317     { VK_NUMPAD6   , 0      ,  <span class="charliteral">'6'</span>    , WCH_NONE ,   <span class="charliteral">'6'</span>  ,WCH_NONE},
00318     { VK_NUMPAD7   , 0      ,  <span class="charliteral">'7'</span>    , WCH_NONE ,   <span class="charliteral">'7'</span>  ,WCH_NONE},
00319     { VK_NUMPAD8   , 0      ,  <span class="charliteral">'8'</span>    , WCH_NONE ,   <span class="charliteral">'8'</span>  ,WCH_NONE},
00320     { VK_NUMPAD9   , 0      ,  <span class="charliteral">'9'</span>    , WCH_NONE ,   <span class="charliteral">'9'</span>  ,WCH_NONE},
00321     { 0            , 0      ,  <span class="charliteral">'\0'</span>   , 0        ,   0    ,0       }   <span class="comment">//null terminator</span>
00322 };
00323 
00324 <span class="comment">/***************************************************************************\</span>
00325 <span class="comment">* aVkToWcharTable: table of pointers to Character Tables</span>
00326 <span class="comment">*</span>
00327 <span class="comment">* Describes the character tables and the order they should be searched.</span>
00328 <span class="comment">*</span>
00329 <span class="comment">* Note: the order determines the behavior of VkKeyScan() : this function</span>
00330 <span class="comment">*       takes a character and attempts to find a Virtual Key and character-</span>
00331 <span class="comment">*       modifier key combination that produces that character.  The table</span>
00332 <span class="comment">*       containing the numeric keypad (aVkToWch1) must appear last so that</span>
00333 <span class="comment">*       VkKeyScan('0') will be interpreted as one of keys from the main</span>
00334 <span class="comment">*       section, not the numpad.  etc.</span>
00335 <span class="comment">\***************************************************************************/</span>
00336 
<a name="l00337"></a><a class="code" href="../../d9/d0/f3ahvoas_8c.html#a10">00337</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> VK_TO_WCHAR_TABLE <a class="code" href="../../d9/d0/f3ahvoas_8c.html#a10">aVkToWcharTable</a>[] = {
00338     {  (PVK_TO_WCHARS1)<a class="code" href="../../d9/d0/f3ahvoas_8c.html#a7">aVkToWch6</a>, 6, <span class="keyword">sizeof</span>(<a class="code" href="../../d9/d0/f3ahvoas_8c.html#a7">aVkToWch6</a>[0]) },
00339     {  (PVK_TO_WCHARS1)<a class="code" href="../../d9/d0/f3ahvoas_8c.html#a8">aVkToWch8</a>, 8, <span class="keyword">sizeof</span>(<a class="code" href="../../d9/d0/f3ahvoas_8c.html#a8">aVkToWch8</a>[0]) },
00340     {  (PVK_TO_WCHARS1)<a class="code" href="../../d9/d0/f3ahvoas_8c.html#a6">aVkToWch4</a>, 4, <span class="keyword">sizeof</span>(<a class="code" href="../../d9/d0/f3ahvoas_8c.html#a6">aVkToWch4</a>[0]) },
00341     {  (PVK_TO_WCHARS1)<a class="code" href="../../d9/d0/f3ahvoas_8c.html#a9">aVkToWch1</a>, 4, <span class="keyword">sizeof</span>(<a class="code" href="../../d9/d0/f3ahvoas_8c.html#a9">aVkToWch1</a>[0]) },  <span class="comment">// must come last</span>
00342     {                       <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, 0, 0                    }
00343 };
00344 
00345 <span class="comment">/***************************************************************************\</span>
00346 <span class="comment">* aKeyNames[], aKeyNamesExt[]  - Scan Code -&gt; Key Name tables</span>
00347 <span class="comment">*</span>
00348 <span class="comment">* For the GetKeyNameText() API function</span>
00349 <span class="comment">*</span>
00350 <span class="comment">* Tables for non-extended and extended (KBDEXT) keys.</span>
00351 <span class="comment">* (Keys producing printable characters are named by the character itself)</span>
00352 <span class="comment">\***************************************************************************/</span>
00353 
<a name="l00354"></a><a class="code" href="../../d9/d0/f3ahvoas_8c.html#a11">00354</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> VSC_LPWSTR <a class="code" href="../../d9/d0/f3ahvoas_8c.html#a11">aKeyNames</a>[] = {
00355     0x01,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Esc"</span>,
00356     0x0e,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Backspace"</span>,
00357     0x0f,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Tab"</span>,
00358     0x1c,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Enter"</span>,
00359     0x1d,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Ctrl"</span>,
00360     0x29,    (LPWSTR)<a class="code" href="../../d7/d1/kbdjpn_8h.html#a4">SZ_KEY_NAME_HANKAKU_ZENKAKU</a>,  <span class="comment">// NLS Key</span>
00361     0x2a,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Shift"</span>,
00362     0x36,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Right Shift"</span>,
00363     0x37,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num *"</span>,
00364     0x38,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Alt"</span>,
00365     0x39,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Space"</span>,
00366     0x3a,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Caps Lock"</span>,
00367     0x3b,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"F1"</span>,
00368     0x3c,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"F2"</span>,
00369     0x3d,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"F3"</span>,
00370     0x3e,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"F4"</span>,
00371     0x3f,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"F5"</span>,
00372     0x40,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"F6"</span>,
00373     0x41,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"F7"</span>,
00374     0x42,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"F8"</span>,
00375     0x43,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"F9"</span>,
00376     0x44,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"F10"</span>,
00377     0x45,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Pause"</span>,
00378     0x46,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Scroll Lock"</span>,
00379     0x47,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num 7"</span>,
00380     0x48,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num 8"</span>,
00381     0x49,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num 9"</span>,
00382     0x4a,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num -"</span>,
00383     0x4b,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num 4"</span>,
00384     0x4c,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num 5"</span>,
00385     0x4d,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num 6"</span>,
00386     0x4e,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num +"</span>,
00387     0x4f,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num 1"</span>,
00388     0x50,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num 2"</span>,
00389     0x51,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num 3"</span>,
00390     0x52,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num 0"</span>,
00391     0x53,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num Del"</span>,
00392     0x54,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Sys Req"</span>,
00393     0x57,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"F11"</span>,
00394     0x58,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"F12"</span>,
00395     0x70,    (LPWSTR)<a class="code" href="../../d7/d1/kbdjpn_8h.html#a6">SZ_KEY_NAME_HIRAGANA</a>,
00396     0x79,    (LPWSTR)<a class="code" href="../../d7/d1/kbdjpn_8h.html#a0">SZ_KEY_NAME_HENKAN</a>,
00397     0x7b,    (LPWSTR)<a class="code" href="../../d7/d1/kbdjpn_8h.html#a1">SZ_KEY_NAME_MUHENKAN</a>,
00398     0x7C,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"F13"</span>,
00399     0   ,    <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>
00400 };
00401 
<a name="l00402"></a><a class="code" href="../../d9/d0/f3ahvoas_8c.html#a12">00402</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> VSC_LPWSTR <a class="code" href="../../d9/d0/f3ahvoas_8c.html#a12">aKeyNamesExt</a>[] = {
00403     0x1c,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num Enter"</span>,
00404     0x1d,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Right Control"</span>,
00405     0x35,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num /"</span>,
00406     0x37,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Prnt Scrn"</span>,
00407     0x38,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Right Alt"</span>,
00408     0x45,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Num Lock"</span>,
00409     0x46,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Break"</span>,
00410     0x47,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Home"</span>,
00411     0x48,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Up"</span>,
00412     0x49,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Page Up"</span>,
00413     0x4b,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Left"</span>,
00414     0x4d,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Right"</span>,
00415     0x4f,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"End"</span>,
00416     0x50,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Down"</span>,
00417     0x51,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Page Down"</span>,
00418     0x52,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Insert"</span>,
00419     0x53,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Delete"</span>,
00420     0x5B,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Left Windows"</span>,
00421     0x5C,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Right Windows"</span>,
00422     0x5D,    <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Application"</span>,
00423     0   ,    <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>
00424 };
00425 
<a name="l00426"></a><a class="code" href="../../d9/d0/f3ahvoas_8c.html#a13">00426</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> KBDTABLES <a class="code" href="../../d9/d0/f3ahvoas_8c.html#a13">KbdTables</a> = {
00427     <span class="comment">/*</span>
00428 <span class="comment">     * Modifier keys</span>
00429 <span class="comment">     */</span>
00430     &amp;<a class="code" href="../../d9/d0/f3ahvoas_8c.html#a5">CharModifiers</a>,
00431 
00432     <span class="comment">/*</span>
00433 <span class="comment">     * Characters tables</span>
00434 <span class="comment">     */</span>
00435     <a class="code" href="../../d9/d0/f3ahvoas_8c.html#a10">aVkToWcharTable</a>,
00436 
00437     <span class="comment">/*</span>
00438 <span class="comment">     * Diacritics  (none for US English)</span>
00439 <span class="comment">     */</span>
00440     <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
00441 
00442     <span class="comment">/*</span>
00443 <span class="comment">     * Names of Keys  (no dead keys)</span>
00444 <span class="comment">     */</span>
00445     <a class="code" href="../../d9/d0/f3ahvoas_8c.html#a11">aKeyNames</a>,
00446     <a class="code" href="../../d9/d0/f3ahvoas_8c.html#a12">aKeyNamesExt</a>,
00447     <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
00448 
00449     <span class="comment">/*</span>
00450 <span class="comment">     * Scan codes to Virtual Keys</span>
00451 <span class="comment">     */</span>
00452     <a class="code" href="../../d9/d0/f3ahvoas_8c.html#a1">ausVK</a>,
00453     <span class="keyword">sizeof</span>(<a class="code" href="../../d9/d0/f3ahvoas_8c.html#a1">ausVK</a>) / <span class="keyword">sizeof</span>(<a class="code" href="../../d9/d0/f3ahvoas_8c.html#a1">ausVK</a>[0]),
00454     <a class="code" href="../../d9/d0/f3ahvoas_8c.html#a2">aE0VscToVk</a>,
00455     <a class="code" href="../../d9/d0/f3ahvoas_8c.html#a3">aE1VscToVk</a>,
00456 
00457     <span class="comment">/*</span>
00458 <span class="comment">     * No Locale-specific special processing</span>
00459 <span class="comment">     */</span>
00460     0
00461 };
00462 
<a name="l00463"></a><a class="code" href="../../d9/d0/f3ahvoas_8c.html#a16">00463</a> PKBDTABLES <a class="code" href="../../d0/d0/kbd103_8c.html#a16">KbdLayerDescriptor</a>(VOID)
00464 {
00465     <span class="keywordflow">return</span> &amp;<a class="code" href="../../d9/d0/f3ahvoas_8c.html#a13">KbdTables</a>;
00466 }
00467 
00468 <span class="comment">/***********************************************************************\</span>
00469 <span class="comment">* VkToFuncTable_F3AHVOAS[]</span>
00470 <span class="comment">*</span>
00471 <span class="comment">\***********************************************************************/</span>
00472 
<a name="l00473"></a><a class="code" href="../../d9/d0/f3ahvoas_8c.html#a14">00473</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> VK_F <a class="code" href="../../d9/d0/f3ahvoas_8c.html#a14">VkToFuncTable_F3AHVOAS</a>[] = {
00474     {
00475         VK_DBE_ALPHANUMERIC,  <span class="comment">// Base Vk</span>
00476         KBDNLS_TYPE_TOGGLE,   <span class="comment">// NLSFEProcType</span>
00477         KBDNLS_INDEX_NORMAL,  <span class="comment">// NLSFEProcCurrent</span>
00478         0x02, <span class="comment">/* 00000010 */</span>  <span class="comment">// NLSFEProcSwitch</span>
00479         {                     <span class="comment">// NLSFEProc</span>
00480             {KBDNLS_ALPHANUM,0},               <span class="comment">// Base</span>
00481             {KBDNLS_SEND_PARAM_VK,VK_CAPITAL}, <span class="comment">// Shift</span>
00482             {KBDNLS_ALPHANUM,0},               <span class="comment">// Control</span>
00483             {KBDNLS_ALPHANUM,0},               <span class="comment">// Shift+Control</span>
00484             {KBDNLS_ALPHANUM,0},               <span class="comment">// Alt</span>
00485             {KBDNLS_ALPHANUM,0},               <span class="comment">// Shift+Alt</span>
00486             {KBDNLS_CODEINPUT,0},              <span class="comment">// Control+Alt</span>
00487             {KBDNLS_CODEINPUT,0}               <span class="comment">// Shift+Control+Alt</span>
00488         },
00489         {                     <span class="comment">// NLSFEProcAlt</span>
00490             {KBDNLS_SEND_PARAM_VK,VK_CAPITAL}, <span class="comment">// Base</span>
00491             {KBDNLS_SEND_PARAM_VK,VK_CAPITAL}, <span class="comment">// Shift</span>
00492             {KBDNLS_NOEVENT,0},                <span class="comment">// Control</span>
00493             {KBDNLS_NOEVENT,0},                <span class="comment">// Shift+Control</span>
00494             {KBDNLS_NOEVENT,0},                <span class="comment">// Alt</span>
00495             {KBDNLS_NOEVENT,0},                <span class="comment">// Shift+Alt</span>
00496             {KBDNLS_NOEVENT,0},                <span class="comment">// Control+Alt</span>
00497             {KBDNLS_NOEVENT,0}                 <span class="comment">// Shift+Control+Alt</span>
00498         }
00499     },
00500     {
00501         VK_DBE_HIRAGANA,     <span class="comment">// Base Vk</span>
00502         KBDNLS_TYPE_TOGGLE,  <span class="comment">// NLSFEProcType</span>
00503         KBDNLS_INDEX_NORMAL, <span class="comment">// NLSFEProcCurrent</span>
00504         0x08, <span class="comment">/* 00001000 */</span> <span class="comment">// NLSFEProcSwitch</span>
00505         {                    <span class="comment">// NLSFEProc</span>
00506             {KBDNLS_HIRAGANA,0},             <span class="comment">// Base</span>
00507             {KBDNLS_KATAKANA,0},             <span class="comment">// Shift</span>
00508             {KBDNLS_HIRAGANA,0},             <span class="comment">// Control</span>
00509             {KBDNLS_KANAEVENT,VK_KANA},      <span class="comment">// Shift+Control</span>
00510             {KBDNLS_ROMAN,0},                <span class="comment">// Alt</span>
00511             {KBDNLS_ROMAN,0},                <span class="comment">// Shift+Alt</span>
00512             {KBDNLS_ROMAN,0},                <span class="comment">// Control+Alt</span>
00513             {KBDNLS_NOEVENT,0}               <span class="comment">// Shift+Control+Alt</span>
00514         },
00515         {                    <span class="comment">// NLSFEProcIndexAlt</span>
00516             {KBDNLS_KANAEVENT,VK_KANA},      <span class="comment">// Base</span>
00517             {KBDNLS_KANAEVENT,VK_KANA},      <span class="comment">// Shift</span>
00518             {KBDNLS_KANAEVENT,VK_KANA},      <span class="comment">// Control</span>
00519             {KBDNLS_KANAEVENT,VK_KANA},      <span class="comment">// Shift+Control</span>
00520             {KBDNLS_NOEVENT,0},              <span class="comment">// Alt</span>
00521             {KBDNLS_NOEVENT,0},              <span class="comment">// Shift+Alt</span>
00522             {KBDNLS_NOEVENT,0},              <span class="comment">// Control+Alt</span>
00523             {KBDNLS_NOEVENT,0}               <span class="comment">// Shift+Control+Alt</span>
00524         }
00525     },
00526     {
00527         VK_DBE_SBCSCHAR,     <span class="comment">// Base Vk</span>
00528         KBDNLS_TYPE_NORMAL,  <span class="comment">// NLSFEProcType</span>
00529         KBDNLS_INDEX_NORMAL, <span class="comment">// NLSFEProcCurrent</span>
00530         0x0,                 <span class="comment">// NLSFEProcSwitch</span>
00531         {                    <span class="comment">// NLSFEProc</span>
00532             {KBDNLS_SBCSDBCS,0},             <span class="comment">// Base</span>
00533             {KBDNLS_SBCSDBCS,0},             <span class="comment">// Shift</span>
00534             {KBDNLS_SBCSDBCS,0},             <span class="comment">// Control</span>
00535             {KBDNLS_SBCSDBCS,0},             <span class="comment">// Shift+Control</span>
00536             {KBDNLS_SEND_PARAM_VK,VK_KANJI}, <span class="comment">// Alt</span>
00537             {KBDNLS_SBCSDBCS,0},             <span class="comment">// Shift+Alt</span>
00538             {KBDNLS_SEND_PARAM_VK,VK_DBE_ENTERIMECONFIGMODE}, <span class="comment">// Control+Alt</span>
00539             {KBDNLS_SEND_PARAM_VK,VK_DBE_ENTERIMECONFIGMODE}  <span class="comment">// Shift+Control+Alt</span>
00540         },
00541         {                    <span class="comment">// NLSFEProcIndexAlt</span>
00542             {KBDNLS_NULL,0},  <span class="comment">// Base</span>
00543             {KBDNLS_NULL,0},  <span class="comment">// Shift</span>
00544             {KBDNLS_NULL,0},  <span class="comment">// Control</span>
00545             {KBDNLS_NULL,0},  <span class="comment">// Shift+Control</span>
00546             {KBDNLS_NULL,0},  <span class="comment">// Alt</span>
00547             {KBDNLS_NULL,0},  <span class="comment">// Shift+Alt</span>
00548             {KBDNLS_NULL,0},  <span class="comment">// Control+Alt</span>
00549             {KBDNLS_NULL,0}   <span class="comment">// Shift+Control+Alt</span>
00550         }
00551     },
00552     {
00553         VK_CONVERT,          <span class="comment">// Base Vk</span>
00554         KBDNLS_TYPE_NORMAL,  <span class="comment">// NLSFEProcType</span>
00555         KBDNLS_INDEX_NORMAL, <span class="comment">// NLSFEProcCurrent</span>
00556         0x0,                 <span class="comment">// NLSFEProcSwitch</span>
00557         {                    <span class="comment">// NLSFEProc</span>
00558             {KBDNLS_CONV_OR_NONCONV,0},      <span class="comment">// Base</span>
00559             {KBDNLS_CONV_OR_NONCONV,0},      <span class="comment">// Shift</span>
00560             {KBDNLS_CONV_OR_NONCONV,0},      <span class="comment">// Control</span>
00561             {KBDNLS_CONV_OR_NONCONV,0},      <span class="comment">// Shift+Control</span>
00562             {KBDNLS_CONV_OR_NONCONV,0},      <span class="comment">// Alt</span>
00563             {KBDNLS_CONV_OR_NONCONV,0},      <span class="comment">// Shift+Alt</span>
00564             {KBDNLS_CONV_OR_NONCONV,0},      <span class="comment">// Control+Alt</span>
00565             {KBDNLS_CONV_OR_NONCONV,0},      <span class="comment">// Shift+Control+Alt</span>
00566         },
00567         {                         <span class="comment">// NLSFEProcIndexAlt</span>
00568             {KBDNLS_NULL,0},  <span class="comment">// Base</span>
00569             {KBDNLS_NULL,0},  <span class="comment">// Shift</span>
00570             {KBDNLS_NULL,0},  <span class="comment">// Control</span>
00571             {KBDNLS_NULL,0},  <span class="comment">// Shift+Control</span>
00572             {KBDNLS_NULL,0},  <span class="comment">// Alt</span>
00573             {KBDNLS_NULL,0},  <span class="comment">// Shift+Alt</span>
00574             {KBDNLS_NULL,0},  <span class="comment">// Control+Alt</span>
00575             {KBDNLS_NULL,0}   <span class="comment">// Shift+Control+Alt</span>
00576         }
00577     },
00578     {
00579         VK_NONCONVERT,       <span class="comment">// Base Vk</span>
00580         KBDNLS_TYPE_NORMAL,  <span class="comment">// NLSFEProcType</span>
00581         KBDNLS_INDEX_NORMAL, <span class="comment">// NLSFEProcCurrent</span>
00582         0x0,                 <span class="comment">// NLSFEProcSwitch</span>
00583         {                    <span class="comment">// NLSFEProc</span>
00584             {KBDNLS_CONV_OR_NONCONV,0},      <span class="comment">// Base</span>
00585             {KBDNLS_CONV_OR_NONCONV,0},      <span class="comment">// Shift</span>
00586             {KBDNLS_CONV_OR_NONCONV,0},      <span class="comment">// Control</span>
00587             {KBDNLS_CONV_OR_NONCONV,0},      <span class="comment">// Shift+Control</span>
00588             {KBDNLS_CONV_OR_NONCONV,0},      <span class="comment">// Alt</span>
00589             {KBDNLS_CONV_OR_NONCONV,0},      <span class="comment">// Shift+Alt</span>
00590             {KBDNLS_SEND_PARAM_VK,VK_DBE_ENTERWORDREGISTERMODE}, <span class="comment">// Control+Alt</span>
00591             {KBDNLS_SEND_PARAM_VK,VK_DBE_ENTERWORDREGISTERMODE}  <span class="comment">// Shift+Control+Alt</span>
00592         },
00593         {                         <span class="comment">// NLSFEProcIndexAlt</span>
00594             {KBDNLS_NULL,0},  <span class="comment">// Base</span>
00595             {KBDNLS_NULL,0},  <span class="comment">// Shift</span>
00596             {KBDNLS_NULL,0},  <span class="comment">// Control</span>
00597             {KBDNLS_NULL,0},  <span class="comment">// Shift+Control</span>
00598             {KBDNLS_NULL,0},  <span class="comment">// Alt</span>
00599             {KBDNLS_NULL,0},  <span class="comment">// Shift+Alt</span>
00600             {KBDNLS_NULL,0},  <span class="comment">// Control+Alt</span>
00601             {KBDNLS_NULL,0}   <span class="comment">// Shift+Control+Alt</span>
00602         }
00603     }
00604 };
00605 
00606 <span class="comment">/***********************************************************************\</span>
00607 <span class="comment">* KbdNlsTables</span>
00608 <span class="comment">*</span>
00609 <span class="comment">\***********************************************************************/</span>
00610 
<a name="l00611"></a><a class="code" href="../../d9/d0/f3ahvoas_8c.html#a15">00611</a> <span class="keyword">static</span> <a class="code" href="../../d8/d8/kbd101_8c.html#a0">ALLOC_SECTION_LDATA</a> KBDNLSTABLES <a class="code" href="../../d9/d0/f3ahvoas_8c.html#a15">KbdNlsTables</a> = {
00612     NLSKBD_OEM_FUJITSU,                    <span class="comment">// OEM ID (0 = Microsoft)</span>
00613     NLSKBD_INFO_SEND_IME_NOTIFICATION |
00614     NLSKBD_INFO_EMURATE_106_KEYBOARD,      <span class="comment">// Information</span>
00615     5,                                     <span class="comment">// Number of VK_F entry</span>
00616     <a class="code" href="../../d9/d0/f3ahvoas_8c.html#a14">VkToFuncTable_F3AHVOAS</a>,                <span class="comment">// Pointer to VK_F array</span>
00617     0,                                     <span class="comment">// Pointer to MouseVk entry</span>
00618     <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>                                   <span class="comment">// Pointer to MouseVk array</span>
00619 };
00620 
<a name="l00621"></a><a class="code" href="../../d9/d0/f3ahvoas_8c.html#a17">00621</a> PKBDNLSTABLES <a class="code" href="../../d0/d0/kbd103_8c.html#a17">KbdNlsLayerDescriptor</a>(VOID)
00622 {
00623     <span class="keywordflow">return</span> &amp;<a class="code" href="../../d9/d0/f3ahvoas_8c.html#a15">KbdNlsTables</a>;
00624 }
00625 
<a name="l00626"></a><a class="code" href="../../d9/d0/f3ahvoas_8c.html#a18">00626</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d9/d0/f3ahvoas_8c.html#a18">FujitsuOyayubiControl</a>(DWORD dwOpen, DWORD dwConversion)
00627 {
00628     <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a180">NtUserCallTwoParam</a>(dwOpen, dwConversion, SFI_NLSKBDSENDIMENOTIFICATION);
00629 }
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:39:58 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
