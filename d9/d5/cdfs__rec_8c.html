<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: cdfs_rec.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>cdfs_rec.c File Reference</h1><code>#include "<a class="el" href="../../d8/d6/fs__rec_8h-source.html">fs_rec.h</a>"</code><br>

<p>
<a href="../../d0/d5/cdfs__rec_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d5/cdfs__rec_8c.html#a0">Dbg</a>&nbsp;&nbsp;&nbsp;(FSREC_DEBUG_LEVEL_CDFS)</td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>NTSTATUS&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d5/cdfs__rec_8c.html#a1">CdfsRecFsControl</a> (IN <a class="el" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> DeviceObject, IN <a class="el" href="../../d0/d2/struct__IRP.html">PIRP</a> <a class="el" href="../../d0/d6/iop_8h.html#a35">Irp</a>)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a0" doxytag="cdfs_rec.c::Dbg" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define Dbg&nbsp;&nbsp;&nbsp;(FSREC_DEBUG_LEVEL_CDFS)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d5/cdfs__rec_8c-source.html#l00032">32</a> of file <a class="el" href="../../d0/d5/cdfs__rec_8c-source.html">cdfs_rec.c</a>.
<p>
Referenced by <a class="el" href="../../d6/d1/oplock_8c-source.html#l01678">FsRtlAcknowledgeOplockBreak()</a>, <a class="el" href="../../d2/d0/largemcb_8c-source.html#l00977">FsRtlAddLargeMcbEntry()</a>, <a class="el" href="../../d6/d1/oplock_8c-source.html#l01221">FsRtlAllocateOplock()</a>, <a class="el" href="../../d6/d1/oplock_8c-source.html#l03519">FsRtlCancelExclusiveIrp()</a>, <a class="el" href="../../d3/d6/notify_8c-source.html#l02555">FsRtlCancelNotify()</a>, <a class="el" href="../../d6/d1/oplock_8c-source.html#l03396">FsRtlCancelOplockIIIrp()</a>, <a class="el" href="../../d6/d1/oplock_8c-source.html#l03288">FsRtlCancelWaitIrp()</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l01315">FsRtlCheckLockForReadAccess()</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l01416">FsRtlCheckLockForWriteAccess()</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l02469">FsRtlCheckNoExclusiveConflict()</a>, <a class="el" href="../../d6/d1/oplock_8c-source.html#l00823">FsRtlCheckOplock()</a>, <a class="el" href="../../d6/d1/oplock_8c-source.html#l03241">FsRtlCompletionRoutinePriv()</a>, <a class="el" href="../../d6/d1/oplock_8c-source.html#l01169">FsRtlCurrentBatchOplock()</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l02582">FsRtlFastCheckLockForRead()</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l02718">FsRtlFastCheckLockForWrite()</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l03589">FsRtlFastUnlockSingleExclusive()</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l03337">FsRtlFastUnlockSingleShared()</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l01951">FsRtlGetNextFileLock()</a>, <a class="el" href="../../d2/d0/largemcb_8c-source.html#l01970">FsRtlGetNextLargeMcbEntry()</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l00829">FsRtlInitializeFileLock()</a>, <a class="el" href="../../d2/d0/largemcb_8c-source.html#l00572">FsRtlInitializeLargeMcb()</a>, <a class="el" href="../../d6/d1/oplock_8c-source.html#l00373">FsRtlInitializeOplock()</a>, <a class="el" href="../../d2/d2/dbcsname_8c-source.html#l00771">FsRtlIsDbcsInExpression()</a>, <a class="el" href="../../d5/d4/name_8c-source.html#l00482">FsRtlIsNameInExpressionPrivate()</a>, <a class="el" href="../../d3/d6/notify_8c-source.html#l01920">FsRtlIsNotifyOnList()</a>, <a class="el" href="../../d2/d0/largemcb_8c-source.html#l01600">FsRtlLookupLargeMcbEntry()</a>, <a class="el" href="../../d2/d0/largemcb_8c-source.html#l01763">FsRtlLookupLastLargeMcbEntry()</a>, <a class="el" href="../../d2/d0/largemcb_8c-source.html#l01841">FsRtlLookupLastLargeMcbEntryAndIndex()</a>, <a class="el" href="../../d3/d6/notify_8c-source.html#l00469">FsRtlNotifyChangeDirectory()</a>, <a class="el" href="../../d3/d6/notify_8c-source.html#l01795">FsRtlNotifyCleanup()</a>, <a class="el" href="../../d3/d6/notify_8c-source.html#l02000">FsRtlNotifyCompleteIrp()</a>, <a class="el" href="../../d3/d6/notify_8c-source.html#l02467">FsRtlNotifyCompleteIrpList()</a>, <a class="el" href="../../d6/d1/oplock_8c-source.html#l03698">FsRtlNotifyCompletion()</a>, <a class="el" href="../../d3/d6/notify_8c-source.html#l00547">FsRtlNotifyFullChangeDirectory()</a>, <a class="el" href="../../d3/d6/notify_8c-source.html#l00973">FsRtlNotifyFullReportChange()</a>, <a class="el" href="../../d3/d6/notify_8c-source.html#l00371">FsRtlNotifyInitializeSync()</a>, <a class="el" href="../../d3/d6/notify_8c-source.html#l00897">FsRtlNotifyReportChange()</a>, <a class="el" href="../../d3/d6/notify_8c-source.html#l02195">FsRtlNotifySetCancelRoutine()</a>, <a class="el" href="../../d3/d6/notify_8c-source.html#l00426">FsRtlNotifyUninitializeSync()</a>, <a class="el" href="../../d3/d6/notify_8c-source.html#l02286">FsRtlNotifyUpdateBuffer()</a>, <a class="el" href="../../d2/d0/largemcb_8c-source.html#l01924">FsRtlNumberOfRunsInLargeMcb()</a>, <a class="el" href="../../d6/d1/oplock_8c-source.html#l01937">FsRtlOpBatchBreakClosePending()</a>, <a class="el" href="../../d6/d1/oplock_8c-source.html#l02111">FsRtlOplockBreakNotify()</a>, <a class="el" href="../../d6/d1/oplock_8c-source.html#l02454">FsRtlOplockBreakToII()</a>, <a class="el" href="../../d6/d1/oplock_8c-source.html#l02690">FsRtlOplockBreakToNone()</a>, <a class="el" href="../../d6/d1/oplock_8c-source.html#l02249">FsRtlOplockCleanup()</a>, <a class="el" href="../../d6/d1/oplock_8c-source.html#l00581">FsRtlOplockFsctrl()</a>, <a class="el" href="../../d6/d1/oplock_8c-source.html#l01116">FsRtlOplockIsFastIoPossible()</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l05721">FsRtlPrivateCancelFileLockIrp()</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l04722">FsRtlPrivateCheckWaitingLocks()</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l05254">FsRtlPrivateFastUnlockAll()</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l04343">FsRtlPrivateInsertSharedLock()</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l03867">FsRtlPrivateLock()</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l01173">FsRtlProcessFileLock()</a>, <a class="el" href="../../d6/d1/oplock_8c-source.html#l02952">FsRtlRemoveAndCompleteIrp()</a>, <a class="el" href="../../d6/d1/oplock_8c-source.html#l03623">FsRtlRemoveAndCompleteWaitIrp()</a>, <a class="el" href="../../d2/d0/largemcb_8c-source.html#l01528">FsRtlRemoveLargeMcbEntry()</a>, <a class="el" href="../../d2/d0/largemcb_8c-source.html#l00392">FsRtlRemoveMcbEntry()</a>, <a class="el" href="../../d2/d0/largemcb_8c-source.html#l02297">FsRtlRemoveMcbEntryPrivate()</a>, <a class="el" href="../../d6/d1/oplock_8c-source.html#l01299">FsRtlRequestExclusiveOplock()</a>, <a class="el" href="../../d6/d1/oplock_8c-source.html#l01514">FsRtlRequestOplockII()</a>, <a class="el" href="../../d2/d0/largemcb_8c-source.html#l02066">FsRtlSplitLargeMcb()</a>, <a class="el" href="../../d2/d0/largemcb_8c-source.html#l00743">FsRtlTruncateLargeMcb()</a>, <a class="el" href="../../d6/d2/filelock_8c-source.html#l00995">FsRtlUninitializeFileLock()</a>, <a class="el" href="../../d2/d0/largemcb_8c-source.html#l00670">FsRtlUninitializeLargeMcb()</a>, <a class="el" href="../../d6/d1/oplock_8c-source.html#l00413">FsRtlUninitializeOplock()</a>, <a class="el" href="../../d6/d1/oplock_8c-source.html#l03025">FsRtlWaitOnIrp()</a>, <a class="el" href="../../d8/d6/io_2remlock_8c-source.html#l00114">IoAcquireRemoveLockEx()</a>, <a class="el" href="../../d5/d7/udfs__rec_8c-source.html#l00157">IsUdfsVolume()</a>, <a class="el" href="../../d1/d6/lfs_2registry_8c-source.html#l04463">LfsAddClientToList()</a>, <a class="el" href="../../d9/d6/lfs_2strucsup_8c-source.html#l00041">LfsAllocateLfcb()</a>, <a class="el" href="../../d7/d4/logpgsup_8c-source.html#l00113">LfsAllocateSpanningBuffer()</a>, <a class="el" href="../../d1/d6/lfs_2registry_8c-source.html#l04188">LfsCheckSubsequentLogPage()</a>, <a class="el" href="../../d1/d6/lfs_2registry_8c-source.html#l00706">LfsCloseLogFile()</a>, <a class="el" href="../../d8/d1/lfs_2cachesup_8c-source.html#l00339">LfsCopyReadLogRecord()</a>, <a class="el" href="../../d8/d4/lfs_2verfysup_8c-source.html#l00036">LfsCurrentAvailSpace()</a>, <a class="el" href="../../d9/d6/lfs_2strucsup_8c-source.html#l00188">LfsDeallocateLfcb()</a>, <a class="el" href="../../d4/d2/querylog_8c-source.html#l01004">LfsFindClientNextLsn()</a>, <a class="el" href="../../d8/d4/lfs_2verfysup_8c-source.html#l00412">LfsFindCurrentAvail()</a>, <a class="el" href="../../d8/d1/lfs_2cachesup_8c-source.html#l02191">LfsFindFirstIo()</a>, <a class="el" href="../../d1/d6/lfs_2registry_8c-source.html#l03193">LfsFindLastLsn()</a>, <a class="el" href="../../d4/d2/querylog_8c-source.html#l00809">LfsFindLogRecord()</a>, <a class="el" href="../../d0/d7/lsnsup_8c-source.html#l00148">LfsFindNextLsn()</a>, <a class="el" href="../../d8/d9/rstrtsup_8c-source.html#l00189">LfsFindOldestClientLsn()</a>, <a class="el" href="../../d8/d0/lbcbsup_8c-source.html#l00037">LfsFlushLbcb()</a>, <a class="el" href="../../d8/d1/lfs_2cachesup_8c-source.html#l00551">LfsFlushLfcb()</a>, <a class="el" href="../../d2/d9/lfs_2write_8c-source.html#l00360">LfsFlushToLsn()</a>, <a class="el" href="../../d8/d0/lbcbsup_8c-source.html#l00134">LfsFlushToLsnPriv()</a>, <a class="el" href="../../d2/d9/lfs_2write_8c-source.html#l00197">LfsForceWrite()</a>, <a class="el" href="../../d7/d4/logpgsup_8c-source.html#l00297">LfsFreeSpanningBuffer()</a>, <a class="el" href="../../d8/d0/lbcbsup_8c-source.html#l00311">LfsGetLbcb()</a>, <a class="el" href="../../d1/d6/lfs_2registry_8c-source.html#l00150">LfsInitializeLogFile()</a>, <a class="el" href="../../d1/d6/lfs_2registry_8c-source.html#l03065">LfsInitializeLogFilePriv()</a>, <a class="el" href="../../d8/d7/sysinit_8c-source.html#l00040">LfsInitializeLogFileService()</a>, <a class="el" href="../../d0/d7/lsnsup_8c-source.html#l00036">LfsLsnFinalOffset()</a>, <a class="el" href="../../d7/d4/logpgsup_8c-source.html#l00040">LfsNextLogPageOffset()</a>, <a class="el" href="../../d1/d6/lfs_2registry_8c-source.html#l02246">LfsNormalizeBasicLogFile()</a>, <a class="el" href="../../d1/d6/lfs_2registry_8c-source.html#l00366">LfsOpenLogFile()</a>, <a class="el" href="../../d8/d1/lfs_2cachesup_8c-source.html#l00084">LfsPinOrMapData()</a>, <a class="el" href="../../d8/d1/lfs_2cachesup_8c-source.html#l00248">LfsPinOrMapLogRecordHeader()</a>, <a class="el" href="../../d8/d4/logrcsup_8c-source.html#l00431">LfsPrepareLfcbForLogRecord()</a>, <a class="el" href="../../d4/d2/querylog_8c-source.html#l00701">LfsQueryLastLsn()</a>, <a class="el" href="../../d1/d6/lfs_2registry_8c-source.html#l01141">LfsReadLogFileInformation()</a>, <a class="el" href="../../d4/d2/querylog_8c-source.html#l00072">LfsReadLogRecord()</a>, <a class="el" href="../../d4/d2/querylog_8c-source.html#l00299">LfsReadNextLogRecord()</a>, <a class="el" href="../../d8/d1/lfs_2cachesup_8c-source.html#l01402">LfsReadRestart()</a>, <a class="el" href="../../d6/d8/restart_8c-source.html#l00046">LfsReadRestartArea()</a>, <a class="el" href="../../d1/d6/lfs_2registry_8c-source.html#l04383">LfsRemoveClientFromList()</a>, <a class="el" href="../../d1/d6/lfs_2registry_8c-source.html#l01361">LfsResetUndoTotal()</a>, <a class="el" href="../../d1/d6/lfs_2registry_8c-source.html#l01534">LfsRestartLogFile()</a>, <a class="el" href="../../d4/d2/querylog_8c-source.html#l01116">LfsSearchForwardByClient()</a>, <a class="el" href="../../d6/d8/restart_8c-source.html#l00447">LfsSetBaseLsn()</a>, <a class="el" href="../../d6/d8/restart_8c-source.html#l00582">LfsSetBaseLsnPriv()</a>, <a class="el" href="../../d4/d2/querylog_8c-source.html#l00594">LfsTerminateLogQuery()</a>, <a class="el" href="../../d8/d4/logrcsup_8c-source.html#l00556">LfsTransferLogBytes()</a>, <a class="el" href="../../d1/d6/lfs_2registry_8c-source.html#l02514">LfsUpdateLfcbFromNoRestart()</a>, <a class="el" href="../../d1/d6/lfs_2registry_8c-source.html#l02390">LfsUpdateLfcbFromPgHeader()</a>, <a class="el" href="../../d1/d6/lfs_2registry_8c-source.html#l02697">LfsUpdateLfcbFromRestart()</a>, <a class="el" href="../../d1/d6/lfs_2registry_8c-source.html#l02964">LfsUpdateRestartAreaFromLfcb()</a>, <a class="el" href="../../d8/d4/lfs_2verfysup_8c-source.html#l00114">LfsVerifyLogSpaceAvail()</a>, <a class="el" href="../../d2/d9/lfs_2write_8c-source.html#l00039">LfsWrite()</a>, <a class="el" href="../../d8/d9/rstrtsup_8c-source.html#l00036">LfsWriteLfsRestart()</a>, <a class="el" href="../../d8/d4/logrcsup_8c-source.html#l00055">LfsWriteLogRecordIntoLogPage()</a>, <a class="el" href="../../d6/d8/restart_8c-source.html#l00270">LfsWriteRestartArea()</a>, <a class="el" href="../../d3/d5/allocsup_8c-source.html#l00724">UdfAddToPcb()</a>, <a class="el" href="../../d7/d5/vmcbsup_8c-source.html#l00637">UdfAddVmcbMapping()</a>, <a class="el" href="../../d6/d4/namesup_8c-source.html#l00819">UdfCheckLegalCS0Dstring()</a>, <a class="el" href="../../d9/d6/udfs_2cleanup_8c-source.html#l00042">UdfCommonCleanup()</a>, <a class="el" href="../../d3/d8/close_8c-source.html#l00498">UdfCommonClosePrivate()</a>, <a class="el" href="../../d4/d7/udfs_2create_8c-source.html#l01955">UdfCompleteFcbOpen()</a>, <a class="el" href="../../d3/d5/allocsup_8c-source.html#l00804">UdfCompletePcb()</a>, <a class="el" href="../../d9/d1/udfs_2cachesup_8c-source.html#l00046">UdfCreateInternalStream()</a>, <a class="el" href="../../d4/d7/udfprocs_8h-source.html#l01239">UdfCS0DstringContainsLegalCharacters()</a>, <a class="el" href="../../d0/d7/udfs_2fsctrl_8c-source.html#l03817">UdfDetermineVolumeBounding()</a>, <a class="el" href="../../d4/d7/udfprocs_8h-source.html#l01988">UdfEqualEntityId()</a>, <a class="el" href="../../d1/d7/udfdata_8c-source.html#l00448">UdfExceptionFilter()</a>, <a class="el" href="../../d0/d7/udfs_2fsctrl_8c-source.html#l03307">UdfFindAnchorVolumeDescriptor()</a>, <a class="el" href="../../d5/d7/dirsup_8c-source.html#l00726">UdfFindDirEntry()</a>, <a class="el" href="../../d0/d7/udfs_2fsctrl_8c-source.html#l02558">UdfFindFileSetDescriptor()</a>, <a class="el" href="../../d0/d7/udfs_2fsctrl_8c-source.html#l02832">UdfFindVolumeDescriptors()</a>, <a class="el" href="../../d3/d8/close_8c-source.html#l00099">UdfFspClose()</a>, <a class="el" href="../../d0/d7/udfs_2strucsup_8c-source.html#l03388">UdfInitializeAllocations()</a>, <a class="el" href="../../d3/d5/allocsup_8c-source.html#l00367">UdfInitializePcb()</a>, <a class="el" href="../../d7/d5/vmcbsup_8c-source.html#l00219">UdfInitializeVmcb()</a>, <a class="el" href="../../d0/d7/udfs_2fsctrl_8c-source.html#l02439">UdfIsRemount()</a>, <a class="el" href="../../d3/d5/allocsup_8c-source.html#l01406">UdfLoadSparingTables()</a>, <a class="el" href="../../d3/d5/allocsup_8c-source.html#l00069">UdfLookupAllocation()</a>, <a class="el" href="../../d5/d7/dirsup_8c-source.html#l00916">UdfLookupDirEntryPostProcessing()</a>, <a class="el" href="../../d3/d5/allocsup_8c-source.html#l01017">UdfLookupPsnOfExtent()</a>, <a class="el" href="../../d0/d7/udfs_2fsctrl_8c-source.html#l01444">UdfMountVolume()</a>, <a class="el" href="../../d4/d7/udfs_2create_8c-source.html#l01632">UdfOpenObjectFromDirContext()</a>, <a class="el" href="../../d3/d8/close_8c-source.html#l00634">UdfQueueClose()</a>, <a class="el" href="../../d4/d6/deviosup_8c-source.html#l00685">UdfReadSectors()</a>, <a class="el" href="../../d0/d7/udfs_2fsctrl_8c-source.html#l03457">UdfRecognizeVolume()</a>, <a class="el" href="../../d7/d5/vmcbsup_8c-source.html#l00867">UdfRemoveVmcbMapping()</a>, <a class="el" href="../../d7/d5/vmcbsup_8c-source.html#l00370">UdfResetVmcb()</a>, <a class="el" href="../../d7/d5/vmcbsup_8c-source.html#l00413">UdfSetMaximumLbnVmcb()</a>, <a class="el" href="../../d0/d7/udfs_2strucsup_8c-source.html#l01606">UdfTeardownStructures()</a>, <a class="el" href="../../d7/d5/vmcbsup_8c-source.html#l00325">UdfUninitializeVmcb()</a>, <a class="el" href="../../d5/d7/dirsup_8c-source.html#l00360">UdfUpdateDirNames()</a>, <a class="el" href="../../d0/d7/udfs_2strucsup_8c-source.html#l00477">UdfUpdateVcbPhase0()</a>, <a class="el" href="../../d0/d7/udfs_2strucsup_8c-source.html#l00997">UdfUpdateVcbPhase1()</a>, <a class="el" href="../../d0/d7/udfs_2fsctrl_8c-source.html#l04056">UdfUpdateVolumeLabel()</a>, <a class="el" href="../../d0/d7/udfs_2strucsup_8c-source.html#l02617">UdfVerifyDescriptor()</a>, <a class="el" href="../../d0/d7/udfs_2fsctrl_8c-source.html#l02043">UdfVerifyVolume()</a>, <a class="el" href="../../d7/d5/vmcbsup_8c-source.html#l00553">UdfVmcbLbnToVbn()</a>, and <a class="el" href="../../d7/d5/vmcbsup_8c-source.html#l00461">UdfVmcbVbnToLbn()</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a1" doxytag="cdfs_rec.c::CdfsRecFsControl" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NTSTATUS CdfsRecFsControl           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>DeviceObject</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d0/d2/struct__IRP.html">PIRP</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Irp</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d5/cdfs__rec_8c-source.html#l00040">40</a> of file <a class="el" href="../../d0/d5/cdfs__rec_8c-source.html">cdfs_rec.c</a>.
<p>
References <a class="el" href="../../d7/d6/fs__rec_8c-source.html#l00579">FsRecLoadFileSystem()</a>, <a class="el" href="../../d8/d7/exboosts_8h-source.html#l00056">IO_NO_INCREMENT</a>, <a class="el" href="../../d1/d4/io_8h-source.html#l02960">IoCompleteRequest</a>, <a class="el" href="../../d1/d4/io_8h-source.html#l03252">IoGetCurrentIrpStackLocation</a>, <a class="el" href="../../d1/d4/io_8h-source.html#l01635">_IRP::IoStatus</a>, <a class="el" href="../../d1/d5/iop_8h-source.html#l00130">Irp</a>, <a class="el" href="../../d1/d4/io_8h-source.html#l00115">IRP_MN_LOAD_FILE_SYSTEM</a>, <a class="el" href="../../d1/d4/io_8h-source.html#l00113">IRP_MN_MOUNT_VOLUME</a>, <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>, <a class="el" href="../../d1/d4/io_8h-source.html#l02029">_IO_STACK_LOCATION::MinorFunction</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d1/d8/ntosdef_8h-source.html#l00462">PAGED_CODE</a>, and <a class="el" href="../../d7/d7/fs__rec_8h.html#a14">PDEVICE_EXTENSION</a>.
<p>
Referenced by <a class="el" href="../../d7/d6/fs__rec_8c-source.html#l00446">FsRecFsControl()</a>.
<p>
<pre class="fragment"><div>00047                    :
00048 
00049     This function performs <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> mount and driver reload <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a16">functions</a> <span class="keywordflow">for</span> <span class="keyword">this</span> mini-
00050     <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a9">file</a> system recognizer driver.
00051 
00052 Arguments:
00053 
00054     DeviceObject - Pointer to <span class="keyword">this</span> driver's device object.
00055 
00056     <a class="code" href="../../d0/d6/iop_8h.html#a35">Irp</a> - Pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> I/O <a class="code" href="../../d5/d4/kernel_2ddetrack_8c.html#a24">Request</a> Packet (<a class="code" href="../../d0/d2/struct__IRP.html">IRP</a>) representing the function to
00057         be performed.
00058 
00059 Return Value:
00060 
00061     The function value is the final status of the operation.
00062 
00063 
00064  -*/
00065 
00066 {
00067     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> status;
00068     <a class="code" href="../../d2/d5/struct__IO__STACK__LOCATION.html">PIO_STACK_LOCATION</a> irpSp;
00069     <a class="code" href="../../d8/d3/struct__DEVICE__EXTENSION.html">PDEVICE_EXTENSION</a> deviceExtension;
00070 
00071     <a class="code" href="../../d0/d9/ntosdef_8h.html#a28">PAGED_CODE</a>();
00072 
00073     <span class="comment">//</span>
00074     <span class="comment">// Begin by determining what function that is to be performed.</span>
00075     <span class="comment">//</span>
00076 
00077     deviceExtension = (<a class="code" href="../../d8/d3/struct__DEVICE__EXTENSION.html">PDEVICE_EXTENSION</a>) DeviceObject-&gt;DeviceExtension;
00078     irpSp = <a class="code" href="../../d0/d5/io_8h.html#a228">IoGetCurrentIrpStackLocation</a>( Irp );
00079 
00080     <span class="keywordflow">switch</span> ( irpSp-&gt;<a class="code" href="../../d2/d5/struct__IO__STACK__LOCATION.html#o1">MinorFunction</a> ) {
00081 
00082     <span class="keywordflow">case</span> <a class="code" href="../../d0/d5/io_8h.html#a47">IRP_MN_MOUNT_VOLUME</a>:
00083 
00084         <span class="comment">//</span>
00085         <span class="comment">//  Always request the filesystem driver.</span>
00086         <span class="comment">//</span>
00087         
00088         status = STATUS_FS_DRIVER_REQUIRED;
00089         <span class="keywordflow">break</span>;
00090 
00091     <span class="keywordflow">case</span> <a class="code" href="../../d0/d5/io_8h.html#a49">IRP_MN_LOAD_FILE_SYSTEM</a>:
00092 
00093         status = <a class="code" href="../../d7/d7/fs__rec_8h.html#a29">FsRecLoadFileSystem</a>( DeviceObject,
00094                                       L<span class="stringliteral">"\\Registry\\Machine\\System\\CurrentControlSet\\Services\\Cdfs"</span> );
00095         <span class="keywordflow">break</span>;
00096 
00097     <span class="keywordflow">default</span>:
00098         
00099         status = STATUS_INVALID_DEVICE_REQUEST;
00100         <span class="keywordflow">break</span>;
00101     }
00102 
00103     <span class="comment">//</span>
00104     <span class="comment">// Finally, complete the request and return the same status code to the</span>
00105     <span class="comment">// caller.</span>
00106     <span class="comment">//</span>
00107 
00108     <a class="code" href="../../d0/d6/iop_8h.html#a35">Irp</a>-&gt;<a class="code" href="../../d0/d2/struct__IRP.html#o9">IoStatus</a>.Status = status;
00109     <a class="code" href="../../d0/d5/io_8h.html#a224">IoCompleteRequest</a>( Irp, IO_NO_INCREMENT );
00110 
00111     <span class="keywordflow">return</span> status;
00112 }
}
</div></pre>    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:43:03 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
