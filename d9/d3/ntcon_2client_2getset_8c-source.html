<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: getset.c Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>getset.c</h1><a href="../../d8/d4/ntcon_2client_2getset_8c.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">/*++</span>
00002 <span class="comment"></span>
00003 <span class="comment">Copyright (c) 1985 - 1999, Microsoft Corporation</span>
00004 <span class="comment"></span>
00005 <span class="comment">Module Name:</span>
00006 <span class="comment">                  </span>
00007 <span class="comment">    getset.c      </span>
00008 <span class="comment">                  </span>
00009 <span class="comment">Abstract:         </span>
00010 <span class="comment"></span>
00011 <span class="comment">    This module contains the stubs for the console get/set API.</span>
00012 <span class="comment"></span>
00013 <span class="comment">Author:</span>
00014 <span class="comment"></span>
00015 <span class="comment">    Therese Stowell (thereses) 14-Nov-1990</span>
00016 <span class="comment"></span>
00017 <span class="comment">Revision History:</span>
00018 <span class="comment">    </span>
00019 <span class="comment">--*/</span>
00020 
00021 <span class="preprocessor">#include "<a class="code" href="../../d4/d3/w32_2ntcon_2client_2precomp_8h.html">precomp.h</a>"</span>
00022 <span class="preprocessor">#pragma hdrstop</span>
00023 <span class="preprocessor"></span><span class="preprocessor">#pragma hdrstop</span>
00024 <span class="preprocessor"></span>
00025 <span class="preprocessor">#if !defined(BUILD_WOW6432)</span>
00026 <span class="preprocessor"></span>
00027 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
00028 WINAPI
<a name="l00029"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a0">00029</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a0">GetConsoleMode</a>(
00030     IN HANDLE hConsoleHandle,
00031     OUT LPDWORD lpMode
00032     )
00033 
00034 <span class="comment">/*++</span>
00035 <span class="comment"></span>
00036 <span class="comment">Parameters:</span>
00037 <span class="comment"></span>
00038 <span class="comment">    hConsoleHandle - Supplies a console input or output handle.</span>
00039 <span class="comment"></span>
00040 <span class="comment">    lpMode - Supplies a pointer to a dword in which to store the mode.</span>
00041 <span class="comment"></span>
00042 <span class="comment">        Input Mode Flags:</span>
00043 <span class="comment"></span>
00044 <span class="comment">            ENABLE_LINE_INPUT - line oriented input is on.</span>
00045 <span class="comment"></span>
00046 <span class="comment">            ENABLE_ECHO_INPUT - characters will be written to the screen as they are</span>
00047 <span class="comment">                read.</span>
00048 <span class="comment"></span>
00049 <span class="comment">            ENABLE_WINDOW_INPUT - the caller is windows-aware</span>
00050 <span class="comment"></span>
00051 <span class="comment">        Output Mode Flags:</span>
00052 <span class="comment"></span>
00053 <span class="comment">            ENABLE_LINE_OUTPUT - line oriented output is on.</span>
00054 <span class="comment"></span>
00055 <span class="comment">            ENABLE_WRAP_AT_EOL_OUTPUT - the cursor will move to the</span>
00056 <span class="comment">                beginning of the next line when the end of the row</span>
00057 <span class="comment">                is reached.</span>
00058 <span class="comment"></span>
00059 <span class="comment">Return Value:</span>
00060 <span class="comment"></span>
00061 <span class="comment">    TRUE - The operation was successful.</span>
00062 <span class="comment"></span>
00063 <span class="comment">    FALSE/NULL - The operation failed. Extended error status is available</span>
00064 <span class="comment">        using GetLastError.</span>
00065 <span class="comment"></span>
00066 <span class="comment"></span>
00067 <span class="comment">--*/</span>
00068 
00069 {
00070 
00071     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00072     <a class="code" href="../../d6/d3/struct__CONSOLE__MODE__MSG.html">PCONSOLE_MODE_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.GetConsoleMode;
00073 
00074     a-&gt;<a class="code" href="../../d6/d3/struct__CONSOLE__MODE__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00075     a-&gt;<a class="code" href="../../d6/d3/struct__CONSOLE__MODE__MSG.html#o1">Handle</a> = hConsoleHandle;
00076     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00077                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
00078                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00079                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a171">ConsolepGetMode</a>
00080                                             ),
00081                          <span class="keyword">sizeof</span>( *a )
00082                        );
00083     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
00084         <span class="keywordflow">try</span> {
00085             *lpMode = a-&gt;Mode;
00086         } except( <a class="code" href="../../d6/d7/halmips_8h.html#a33">EXCEPTION_EXECUTE_HANDLER</a> ) {
00087             <a class="code" href="../../d6/d4/condll_8h.html#a2">SET_LAST_ERROR</a> (ERROR_INVALID_ACCESS);
00088             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00089         }
00090         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00091     } <span class="keywordflow">else</span> {
00092         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
00093         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00094     }
00095 
00096 }
00097 
00098 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>
00099 WINAPI
<a name="l00100"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a1">00100</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a1">GetNumberOfConsoleFonts</a>(
00101     VOID
00102     )
00103 
00104 <span class="comment">/*++</span>
00105 <span class="comment"></span>
00106 <span class="comment">Parameters:</span>
00107 <span class="comment"></span>
00108 <span class="comment">    none.</span>
00109 <span class="comment"></span>
00110 <span class="comment">Return Value:</span>
00111 <span class="comment"></span>
00112 <span class="comment">    NON-NULL - Returns the number of fonts available.</span>
00113 <span class="comment"></span>
00114 <span class="comment">    FALSE/NULL - The operation failed.</span>
00115 <span class="comment">        Extended error status is available using GetLastError.</span>
00116 <span class="comment"></span>
00117 <span class="comment">--*/</span>
00118 
00119 {
00120 
00121     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00122     <a class="code" href="../../d6/d2/struct__CONSOLE__GETNUMBEROFFONTS__MSG.html">PCONSOLE_GETNUMBEROFFONTS_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.GetNumberOfConsoleFonts;
00123 
00124     a-&gt;<a class="code" href="../../d6/d2/struct__CONSOLE__GETNUMBEROFFONTS__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00125     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00126                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
00127                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00128                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a172">ConsolepGetNumberOfFonts</a>
00129                                             ),
00130                          <span class="keyword">sizeof</span>( *a )
00131                        );
00132     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
00133         <span class="keywordflow">return</span> a-&gt;NumberOfFonts;
00134     } <span class="keywordflow">else</span> {
00135         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
00136         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00137     }
00138 
00139 }
00140 
00141 
00142 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
00143 WINAPI
<a name="l00144"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a2">00144</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a2">GetNumberOfConsoleInputEvents</a>(
00145     IN HANDLE hConsoleInput,
00146     OUT LPDWORD lpNumberOfEvents
00147     )
00148 
00149 <span class="comment">/*++</span>
00150 <span class="comment"></span>
00151 <span class="comment">Parameters:</span>
00152 <span class="comment"></span>
00153 <span class="comment">    hConsoleInput - Supplies an open handle to console input.</span>
00154 <span class="comment"></span>
00155 <span class="comment">    lpNumberOfEvents - Pointer to number of events in input buffer.</span>
00156 <span class="comment"></span>
00157 <span class="comment">Return Value:</span>
00158 <span class="comment"></span>
00159 <span class="comment">    TRUE - The operation was successful.</span>
00160 <span class="comment"></span>
00161 <span class="comment">    FALSE/NULL - The operation failed.</span>
00162 <span class="comment">        Extended error status is available using GetLastError.</span>
00163 <span class="comment"></span>
00164 <span class="comment">--*/</span>
00165 
00166 {
00167 
00168     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00169     <a class="code" href="../../d7/d2/struct__CONSOLE__GETNUMBEROFINPUTEVENTS__MSG.html">PCONSOLE_GETNUMBEROFINPUTEVENTS_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.GetNumberOfConsoleInputEvents;
00170 
00171     a-&gt;<a class="code" href="../../d7/d2/struct__CONSOLE__GETNUMBEROFINPUTEVENTS__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00172     a-&gt;<a class="code" href="../../d7/d2/struct__CONSOLE__GETNUMBEROFINPUTEVENTS__MSG.html#o1">InputHandle</a> = hConsoleInput;
00173     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00174                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
00175                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00176                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a173">ConsolepGetNumberOfInputEvents</a>
00177                                             ),
00178                          <span class="keyword">sizeof</span>( *a )
00179                        );
00180     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
00181         <span class="keywordflow">try</span> {
00182             *lpNumberOfEvents = a-&gt;ReadyEvents;
00183         } except( <a class="code" href="../../d6/d7/halmips_8h.html#a33">EXCEPTION_EXECUTE_HANDLER</a> ) {
00184             <a class="code" href="../../d6/d4/condll_8h.html#a2">SET_LAST_ERROR</a> (ERROR_INVALID_ACCESS);
00185             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00186         }
00187         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00188     }
00189     <span class="keywordflow">else</span> {
00190         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
00191         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00192     }
00193 
00194 }
00195 
00196 COORD
00197 WINAPI
<a name="l00198"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a3">00198</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a3">GetLargestConsoleWindowSize</a>(
00199     IN HANDLE hConsoleOutput
00200     )
00201 
00202 <span class="comment">/*++</span>
00203 <span class="comment"></span>
00204 <span class="comment">    Returns largest window possible, given the current font.  The return value</span>
00205 <span class="comment">    does not take the screen buffer size into account.</span>
00206 <span class="comment"></span>
00207 <span class="comment">Parameters:</span>
00208 <span class="comment"></span>
00209 <span class="comment">    hConsoleOutput - Supplies an open handle to console output.</span>
00210 <span class="comment"></span>
00211 <span class="comment">Return Value:</span>
00212 <span class="comment"></span>
00213 <span class="comment">    The return value is the maximum window size in rows and columns.  A size</span>
00214 <span class="comment">    of zero will be returned if an error occurs.  Extended error information</span>
00215 <span class="comment">    can be retrieved by calling the GetLastError function.</span>
00216 <span class="comment"></span>
00217 <span class="comment">--*/</span>
00218 
00219 {
00220 
00221     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00222     <a class="code" href="../../d4/d2/struct__CONSOLE__GETLARGESTWINDOWSIZE__MSG.html">PCONSOLE_GETLARGESTWINDOWSIZE_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.GetLargestConsoleWindowSize;
00223 
00224     a-&gt;<a class="code" href="../../d4/d2/struct__CONSOLE__GETLARGESTWINDOWSIZE__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00225     a-&gt;<a class="code" href="../../d4/d2/struct__CONSOLE__GETLARGESTWINDOWSIZE__MSG.html#o1">OutputHandle</a> = hConsoleOutput;
00226     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00227                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
00228                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00229                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a183">ConsolepGetLargestWindowSize</a>
00230                                             ),
00231                          <span class="keyword">sizeof</span>( *a )
00232                        );
00233     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
00234         <span class="keywordflow">return</span> a-&gt;Size;
00235     } <span class="keywordflow">else</span> {
00236         COORD Dummy;
00237         Dummy.X = Dummy.Y = 0;
00238         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
00239         <span class="keywordflow">return</span> Dummy;
00240     }
00241 
00242 }
00243 
00244 
00245 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
00246 WINAPI
<a name="l00247"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a4">00247</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a4">GetConsoleScreenBufferInfo</a>(
00248     IN HANDLE hConsoleOutput,
00249     OUT PCONSOLE_SCREEN_BUFFER_INFO lpConsoleScreenBufferInfo
00250     )
00251 
00252 <span class="comment">/*++</span>
00253 <span class="comment"></span>
00254 <span class="comment">Parameters:</span>
00255 <span class="comment"></span>
00256 <span class="comment">    hConsoleOutput - Supplies an open handle to console output.</span>
00257 <span class="comment"></span>
00258 <span class="comment">    lpConsoleScreenBufferInfo - A pointer to a buffer to receive the</span>
00259 <span class="comment">        requested information.</span>
00260 <span class="comment"></span>
00261 <span class="comment">Return Value:</span>
00262 <span class="comment"></span>
00263 <span class="comment">    TRUE - The operation was successful.</span>
00264 <span class="comment"></span>
00265 <span class="comment">    FALSE/NULL - The operation failed. Extended error status is available</span>
00266 <span class="comment">        using GetLastError.</span>
00267 <span class="comment"></span>
00268 <span class="comment">--*/</span>
00269 
00270 {
00271 
00272     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00273     <a class="code" href="../../d8/d2/struct__CONSOLE__GETSCREENBUFFERINFO__MSG.html">PCONSOLE_GETSCREENBUFFERINFO_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.GetConsoleScreenBufferInfo;
00274 
00275     a-&gt;<a class="code" href="../../d8/d2/struct__CONSOLE__GETSCREENBUFFERINFO__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00276     a-&gt;<a class="code" href="../../d8/d2/struct__CONSOLE__GETSCREENBUFFERINFO__MSG.html#o1">OutputHandle</a> = hConsoleOutput;
00277     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00278                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
00279                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00280                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a174">ConsolepGetScreenBufferInfo</a>
00281                                             ),
00282                          <span class="keyword">sizeof</span>( *a )
00283                        );
00284     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
00285         <span class="keywordflow">try</span> {
00286             lpConsoleScreenBufferInfo-&gt;dwSize =              a-&gt;Size;
00287             lpConsoleScreenBufferInfo-&gt;dwCursorPosition =    a-&gt;CursorPosition;
00288             lpConsoleScreenBufferInfo-&gt;wAttributes =         a-&gt;Attributes;
00289             lpConsoleScreenBufferInfo-&gt;srWindow.Left = a-&gt;ScrollPosition.X;
00290             lpConsoleScreenBufferInfo-&gt;srWindow.Top = a-&gt;ScrollPosition.Y;
00291             lpConsoleScreenBufferInfo-&gt;srWindow.Right = lpConsoleScreenBufferInfo-&gt;srWindow.Left + a-&gt;CurrentWindowSize.X-1;
00292             lpConsoleScreenBufferInfo-&gt;srWindow.Bottom = lpConsoleScreenBufferInfo-&gt;srWindow.Top + a-&gt;CurrentWindowSize.Y-1;
00293             lpConsoleScreenBufferInfo-&gt;dwMaximumWindowSize = a-&gt;MaximumWindowSize;
00294         } except( <a class="code" href="../../d6/d7/halmips_8h.html#a33">EXCEPTION_EXECUTE_HANDLER</a> ) {
00295             <a class="code" href="../../d6/d4/condll_8h.html#a2">SET_LAST_ERROR</a> (ERROR_INVALID_ACCESS);
00296             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00297         }
00298         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00299     } <span class="keywordflow">else</span> {
00300         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
00301         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00302     }
00303 
00304 }
00305 
00306 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
00307 WINAPI
<a name="l00308"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a5">00308</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a5">GetConsoleCursorInfo</a>(
00309     IN HANDLE hConsoleOutput,
00310     OUT PCONSOLE_CURSOR_INFO lpConsoleCursorInfo
00311     )
00312 
00313 <span class="comment">/*++</span>
00314 <span class="comment"></span>
00315 <span class="comment">Parameters:</span>
00316 <span class="comment"></span>
00317 <span class="comment">    hConsoleOutput - Supplies an open handle to console output.</span>
00318 <span class="comment"></span>
00319 <span class="comment">    lpConsoleCursorInfo - A pointer to a buffer to receive the</span>
00320 <span class="comment">        requested information.</span>
00321 <span class="comment"></span>
00322 <span class="comment">Return Value:</span>
00323 <span class="comment"></span>
00324 <span class="comment">    TRUE - The operation was successful.</span>
00325 <span class="comment"></span>
00326 <span class="comment">    FALSE/NULL - The operation failed. Extended error status is available</span>
00327 <span class="comment">        using GetLastError.</span>
00328 <span class="comment"></span>
00329 <span class="comment">--*/</span>
00330 
00331 {
00332 
00333     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00334     <a class="code" href="../../d6/d1/struct__CONSOLE__GETCURSORINFO__MSG.html">PCONSOLE_GETCURSORINFO_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.GetConsoleCursorInfo;
00335 
00336     a-&gt;<a class="code" href="../../d6/d1/struct__CONSOLE__GETCURSORINFO__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00337     a-&gt;<a class="code" href="../../d6/d1/struct__CONSOLE__GETCURSORINFO__MSG.html#o1">OutputHandle</a> = hConsoleOutput;
00338     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00339                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
00340                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00341                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a175">ConsolepGetCursorInfo</a>
00342                                             ),
00343                          <span class="keyword">sizeof</span>( *a )
00344                        );
00345     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
00346         <span class="keywordflow">try</span> {
00347             lpConsoleCursorInfo-&gt;dwSize = a-&gt;CursorSize;
00348             lpConsoleCursorInfo-&gt;bVisible = a-&gt;Visible;
00349         } except( <a class="code" href="../../d6/d7/halmips_8h.html#a33">EXCEPTION_EXECUTE_HANDLER</a> ) {
00350             <a class="code" href="../../d6/d4/condll_8h.html#a2">SET_LAST_ERROR</a> (ERROR_INVALID_ACCESS);
00351             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00352         }
00353         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00354     } <span class="keywordflow">else</span> {
00355         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
00356         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00357     }
00358 
00359 }
00360 
00361 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
00362 WINAPI
<a name="l00363"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a6">00363</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a6">GetNumberOfConsoleMouseButtons</a>(
00364     OUT LPDWORD lpNumberOfMouseButtons
00365     )
00366 
00367 <span class="comment">/*++</span>
00368 <span class="comment"></span>
00369 <span class="comment">Parameters:</span>
00370 <span class="comment"></span>
00371 <span class="comment">    hConsoleInput - Supplies an open handle to console input.</span>
00372 <span class="comment"></span>
00373 <span class="comment">    lpNumberOfMouseButtons - pointer to the number of mouse buttons</span>
00374 <span class="comment"></span>
00375 <span class="comment">Return Value:</span>
00376 <span class="comment"></span>
00377 <span class="comment">    TRUE - The operation was successful.</span>
00378 <span class="comment"></span>
00379 <span class="comment">    FALSE/NULL - The operation failed. Extended error status is available</span>
00380 <span class="comment">        using GetLastError.</span>
00381 <span class="comment"></span>
00382 <span class="comment">--*/</span>
00383 
00384 {
00385 
00386     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00387     <a class="code" href="../../d5/d2/struct__CONSOLE__GETMOUSEINFO__MSG.html">PCONSOLE_GETMOUSEINFO_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.GetConsoleMouseInfo;
00388 
00389     a-&gt;<a class="code" href="../../d5/d2/struct__CONSOLE__GETMOUSEINFO__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00390     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00391                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
00392                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00393                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a176">ConsolepGetMouseInfo</a>
00394                                             ),
00395                          <span class="keyword">sizeof</span>( *a )
00396                        );
00397     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
00398         <span class="keywordflow">try</span> {
00399             *lpNumberOfMouseButtons = a-&gt;NumButtons;
00400         } except( <a class="code" href="../../d6/d7/halmips_8h.html#a33">EXCEPTION_EXECUTE_HANDLER</a> ) {
00401             <a class="code" href="../../d6/d4/condll_8h.html#a2">SET_LAST_ERROR</a> (ERROR_INVALID_ACCESS);
00402             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00403         }
00404         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00405     } <span class="keywordflow">else</span> {
00406         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
00407         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00408     }
00409 
00410 }
00411 
00412 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>
00413 WINAPI
<a name="l00414"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a7">00414</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a7">GetConsoleFontInfo</a>(
00415     IN HANDLE hConsoleOutput,
00416     IN BOOL bMaximumWindow,
00417     IN DWORD nLength,
00418     OUT PCONSOLE_FONT_INFO lpConsoleFontInfo
00419     )
00420 
00421 <span class="comment">/*++</span>
00422 <span class="comment"></span>
00423 <span class="comment">Parameters:</span>
00424 <span class="comment"></span>
00425 <span class="comment">    hConsoleOutput - Supplies an open handle to console output.</span>
00426 <span class="comment"></span>
00427 <span class="comment">    bMaximumWindow - TRUE if caller wants available fonts for the maximum</span>
00428 <span class="comment">        window size.  FALSE if caller wants available fonts for the current</span>
00429 <span class="comment">        window size.</span>
00430 <span class="comment"></span>
00431 <span class="comment">    nLength - Length of buffer in CONSOLE_FONT_INFOs.</span>
00432 <span class="comment"></span>
00433 <span class="comment">    lpConsoleFontInfo - A pointer to a buffer to receive the</span>
00434 <span class="comment">        requested information.</span>
00435 <span class="comment"></span>
00436 <span class="comment">Return Value:</span>
00437 <span class="comment"></span>
00438 <span class="comment">    NON-NULL - Returns the number of fonts returned in lpConsoleFontInfo.</span>
00439 <span class="comment"></span>
00440 <span class="comment">    FALSE/NULL - The operation failed. Extended error status is available</span>
00441 <span class="comment">        using GetLastError.</span>
00442 <span class="comment"></span>
00443 <span class="comment">--*/</span>
00444 
00445 {
00446 
00447     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00448     <a class="code" href="../../d8/d1/struct__CONSOLE__GETFONTINFO__MSG.html">PCONSOLE_GETFONTINFO_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.GetConsoleFontInfo;
00449     PCSR_CAPTURE_HEADER CaptureBuffer;
00450 
00451     a-&gt;<a class="code" href="../../d8/d1/struct__CONSOLE__GETFONTINFO__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00452     a-&gt;<a class="code" href="../../d8/d1/struct__CONSOLE__GETFONTINFO__MSG.html#o1">OutputHandle</a> = hConsoleOutput;
00453     a-&gt;<a class="code" href="../../d8/d1/struct__CONSOLE__GETFONTINFO__MSG.html#o2">MaximumWindow</a> = (BOOLEAN) bMaximumWindow;
00454     a-&gt;<a class="code" href="../../d8/d1/struct__CONSOLE__GETFONTINFO__MSG.html#o4">NumFonts</a> = nLength;
00455 
00456     CaptureBuffer = <a class="code" href="../../d8/d9/wow64csr_8c.html#a5">CsrAllocateCaptureBuffer</a>( 1,
00457                                               nLength * <span class="keyword">sizeof</span>(CONSOLE_FONT_INFO)
00458                                             );
00459     <span class="keywordflow">if</span> (CaptureBuffer == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00460         <a class="code" href="../../d6/d4/condll_8h.html#a2">SET_LAST_ERROR</a>(ERROR_NOT_ENOUGH_MEMORY);
00461         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00462     }
00463     <a class="code" href="../../d8/d9/wow64csr_8c.html#a8">CsrCaptureMessageBuffer</a>( CaptureBuffer,
00464                              <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
00465                              nLength * <span class="keyword">sizeof</span>(CONSOLE_FONT_INFO),
00466                              (PVOID *) &amp;a-&gt;<a class="code" href="../../d8/d1/struct__CONSOLE__GETFONTINFO__MSG.html#o3">BufPtr</a>
00467                            );
00468 
00469     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00470                          CaptureBuffer,
00471                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00472                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a177">ConsolepGetFontInfo</a>
00473                                             ),
00474                          <span class="keyword">sizeof</span>( *a )
00475                        );
00476     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
00477         <span class="keywordflow">try</span> {
00478             RtlCopyMemory( lpConsoleFontInfo, a-&gt;BufPtr, a-&gt;NumFonts * <span class="keyword">sizeof</span>(CONSOLE_FONT_INFO));
00479         } except( <a class="code" href="../../d6/d7/halmips_8h.html#a33">EXCEPTION_EXECUTE_HANDLER</a> ) {
00480             <a class="code" href="../../d8/d9/wow64csr_8c.html#a6">CsrFreeCaptureBuffer</a>( CaptureBuffer );
00481             <a class="code" href="../../d6/d4/condll_8h.html#a2">SET_LAST_ERROR</a>(ERROR_INVALID_ACCESS);
00482             <span class="keywordflow">return</span> 0;
00483         }
00484     }
00485     <span class="keywordflow">else</span> {
00486         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
00487     }
00488     <a class="code" href="../../d8/d9/wow64csr_8c.html#a6">CsrFreeCaptureBuffer</a>( CaptureBuffer );
00489     <span class="keywordflow">return</span> a-&gt;NumFonts;
00490 
00491 }
00492 
00493 COORD
00494 WINAPI
<a name="l00495"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a8">00495</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a8">GetConsoleFontSize</a>(
00496     IN HANDLE hConsoleOutput,
00497     IN DWORD nFont
00498     )
00499 
00500 <span class="comment">/*++</span>
00501 <span class="comment"></span>
00502 <span class="comment">Parameters:</span>
00503 <span class="comment"></span>
00504 <span class="comment">    hConsoleOutput - Supplies an open handle to console output.</span>
00505 <span class="comment"></span>
00506 <span class="comment">    nFont - Supplies the index of the font to return the size of.</span>
00507 <span class="comment"></span>
00508 <span class="comment">Return Value:</span>
00509 <span class="comment"></span>
00510 <span class="comment">    The return value is the height and width of each character in the font.</span>
00511 <span class="comment">    X field contains width. Y field contains height. Font size</span>
00512 <span class="comment">    is expressed in pixels.  If both the x and y sizes are 0, the function</span>
00513 <span class="comment">    was unsuccessful.  Extended error information can be retrieved by calling</span>
00514 <span class="comment">    the GetLastError function.</span>
00515 <span class="comment"></span>
00516 <span class="comment">--*/</span>
00517 
00518 {
00519 
00520     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00521     <a class="code" href="../../d9/d1/struct__CONSOLE__GETFONTSIZE__MSG.html">PCONSOLE_GETFONTSIZE_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.GetConsoleFontSize;
00522     COORD Dummy;
00523 
00524     a-&gt;<a class="code" href="../../d9/d1/struct__CONSOLE__GETFONTSIZE__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00525     a-&gt;<a class="code" href="../../d9/d1/struct__CONSOLE__GETFONTSIZE__MSG.html#o1">OutputHandle</a> = hConsoleOutput;
00526     a-&gt;<a class="code" href="../../d9/d1/struct__CONSOLE__GETFONTSIZE__MSG.html#o2">FontIndex</a> = nFont;
00527     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00528                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
00529                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00530                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a178">ConsolepGetFontSize</a>
00531                                             ),
00532                          <span class="keyword">sizeof</span>( *a )
00533                        );
00534     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
00535         <span class="keywordflow">return</span> a-&gt;FontSize;
00536     } <span class="keywordflow">else</span> {
00537         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
00538         Dummy.X = Dummy.Y = 0;
00539         <span class="keywordflow">return</span> Dummy;
00540     }
00541 
00542 }
00543 
00544 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
00545 WINAPI
<a name="l00546"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a9">00546</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a9">GetCurrentConsoleFont</a>(
00547     IN HANDLE hConsoleOutput,
00548     IN BOOL bMaximumWindow,
00549     OUT PCONSOLE_FONT_INFO lpConsoleCurrentFont
00550     )
00551 
00552 <span class="comment">/*++</span>
00553 <span class="comment"></span>
00554 <span class="comment">Parameters:</span>
00555 <span class="comment"></span>
00556 <span class="comment">    hConsoleOutput - Supplies an open handle to console output.</span>
00557 <span class="comment"></span>
00558 <span class="comment">    bMaximumWindow - TRUE if caller wants current font for the maximum</span>
00559 <span class="comment">        window size.  FALSE if caller wants current font for the current</span>
00560 <span class="comment">        window size.</span>
00561 <span class="comment"></span>
00562 <span class="comment">    lpConsoleCurrentFont - A pointer to a buffer to receive the</span>
00563 <span class="comment">        requested information.</span>
00564 <span class="comment"></span>
00565 <span class="comment">Return Value:</span>
00566 <span class="comment"></span>
00567 <span class="comment">    TRUE - The operation was successful.</span>
00568 <span class="comment"></span>
00569 <span class="comment">    FALSE/NULL - The operation failed. Extended error status is available</span>
00570 <span class="comment">        using GetLastError.</span>
00571 <span class="comment"></span>
00572 <span class="comment">--*/</span>
00573 
00574 {
00575 
00576     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00577     <a class="code" href="../../d5/d1/struct__CONSOLE__GETCURRENTFONT__MSG.html">PCONSOLE_GETCURRENTFONT_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.GetCurrentConsoleFont;
00578 
00579     a-&gt;<a class="code" href="../../d5/d1/struct__CONSOLE__GETCURRENTFONT__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00580     a-&gt;<a class="code" href="../../d5/d1/struct__CONSOLE__GETCURRENTFONT__MSG.html#o1">OutputHandle</a> = hConsoleOutput;
00581     a-&gt;<a class="code" href="../../d5/d1/struct__CONSOLE__GETCURRENTFONT__MSG.html#o2">MaximumWindow</a> = (BOOLEAN) bMaximumWindow;
00582     a-&gt;<a class="code" href="../../d5/d1/struct__CONSOLE__GETCURRENTFONT__MSG.html#o1">OutputHandle</a> = hConsoleOutput;
00583     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00584                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
00585                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00586                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a179">ConsolepGetCurrentFont</a>
00587                                             ),
00588                          <span class="keyword">sizeof</span>( *a )
00589                        );
00590     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
00591         <span class="keywordflow">try</span> {
00592             lpConsoleCurrentFont-&gt;dwFontSize = a-&gt;FontSize;
00593             lpConsoleCurrentFont-&gt;nFont = a-&gt;FontIndex;
00594         } except( <a class="code" href="../../d6/d7/halmips_8h.html#a33">EXCEPTION_EXECUTE_HANDLER</a> ) {
00595             <a class="code" href="../../d6/d4/condll_8h.html#a2">SET_LAST_ERROR</a>(ERROR_INVALID_ACCESS);
00596             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00597         }
00598         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00599     } <span class="keywordflow">else</span> {
00600         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
00601         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00602     }
00603 
00604 }
00605 
00606 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
00607 WINAPI
<a name="l00608"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a10">00608</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a10">SetConsoleMode</a>(
00609     IN HANDLE hConsoleHandle,
00610     IN DWORD dwMode
00611     )
00612 
00613 <span class="comment">/*++</span>
00614 <span class="comment"></span>
00615 <span class="comment">Parameters:</span>
00616 <span class="comment"></span>
00617 <span class="comment">    hConsoleHandle - Supplies a console input or output handle.</span>
00618 <span class="comment"></span>
00619 <span class="comment">    dwMode - Supplies mode.</span>
00620 <span class="comment"></span>
00621 <span class="comment">        Input Mode Flags:</span>
00622 <span class="comment"></span>
00623 <span class="comment">            ENABLE_LINE_INPUT - line oriented input is on.</span>
00624 <span class="comment"></span>
00625 <span class="comment">            ENABLE_ECHO_INPUT - characters will be written to the screen as they are</span>
00626 <span class="comment">                read.</span>
00627 <span class="comment"></span>
00628 <span class="comment">            ENABLE_WINDOW_INPUT - the caller is windows-aware</span>
00629 <span class="comment"></span>
00630 <span class="comment">        Output Mode Flags:</span>
00631 <span class="comment"></span>
00632 <span class="comment">            ENABLE_LINE_OUTPUT - line oriented output is on.</span>
00633 <span class="comment"></span>
00634 <span class="comment">            ENABLE_WRAP_AT_EOL_OUTPUT - the cursor will move to the</span>
00635 <span class="comment">                beginning of the next line when the end of the row</span>
00636 <span class="comment">                is reached.</span>
00637 <span class="comment"></span>
00638 <span class="comment"></span>
00639 <span class="comment">Return Value:</span>
00640 <span class="comment"></span>
00641 <span class="comment">    TRUE - The operation was successful.</span>
00642 <span class="comment"></span>
00643 <span class="comment">    FALSE/NULL - The operation failed. Extended error status is available</span>
00644 <span class="comment">        using GetLastError.</span>
00645 <span class="comment"></span>
00646 <span class="comment">--*/</span>
00647 
00648 {
00649 
00650     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00651     <a class="code" href="../../d6/d3/struct__CONSOLE__MODE__MSG.html">PCONSOLE_MODE_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.SetConsoleMode;
00652 
00653     a-&gt;<a class="code" href="../../d6/d3/struct__CONSOLE__MODE__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00654     a-&gt;<a class="code" href="../../d6/d3/struct__CONSOLE__MODE__MSG.html#o1">Handle</a> = hConsoleHandle;
00655     a-&gt;<a class="code" href="../../d6/d3/struct__CONSOLE__MODE__MSG.html#o2">Mode</a> = dwMode;
00656     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00657                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
00658                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00659                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a180">ConsolepSetMode</a>
00660                                             ),
00661                          <span class="keyword">sizeof</span>( *a )
00662                        );
00663     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
00664         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00665     } <span class="keywordflow">else</span> {
00666         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
00667         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00668     }
00669 
00670 }
00671 
00672 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
00673 WINAPI
<a name="l00674"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a11">00674</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a11">GenerateConsoleCtrlEvent</a>(
00675     IN DWORD dwCtrlEvent,
00676     IN DWORD dwProcessGroupId
00677     )
00678 
00679 <span class="comment">/*++</span>
00680 <span class="comment"></span>
00681 <span class="comment">Parameters:</span>
00682 <span class="comment"></span>
00683 <span class="comment">    dwCtrlEvent - Supplies event(s) to generate.</span>
00684 <span class="comment"></span>
00685 <span class="comment">    dwProcessGroupId - Supplies id of process group to generate</span>
00686 <span class="comment">                  event for.  Event will be generated in each</span>
00687 <span class="comment">                  process with that id within the console.  If 0,</span>
00688 <span class="comment">                  specified event will be generated in all processes</span>
00689 <span class="comment">                  within the console.</span>
00690 <span class="comment"></span>
00691 <span class="comment">Return Value:</span>
00692 <span class="comment"></span>
00693 <span class="comment">    TRUE - The operation was successful.</span>
00694 <span class="comment"></span>
00695 <span class="comment">    FALSE/NULL - The operation failed. Extended error status is available</span>
00696 <span class="comment">        using GetLastError.</span>
00697 <span class="comment"></span>
00698 <span class="comment">--*/</span>
00699 
00700 {
00701 
00702     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00703     <a class="code" href="../../d9/d9/struct__CONSOLE__CTRLEVENT__MSG.html">PCONSOLE_CTRLEVENT_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.GenerateConsoleCtrlEvent;
00704 
00705     <span class="comment">//</span>
00706     <span class="comment">// Check for valid Ctrl Events</span>
00707     <span class="comment">//</span>
00708 
00709     <span class="keywordflow">if</span> ((dwCtrlEvent != CTRL_C_EVENT) &amp;&amp; (dwCtrlEvent != CTRL_BREAK_EVENT)) {
00710         <a class="code" href="../../d6/d4/condll_8h.html#a2">SET_LAST_ERROR</a> (ERROR_INVALID_PARAMETER);
00711         <span class="keywordflow">return</span>(<a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>);
00712     }
00713 
00714 
00715     a-&gt;<a class="code" href="../../d9/d9/struct__CONSOLE__CTRLEVENT__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00716     a-&gt;<a class="code" href="../../d9/d9/struct__CONSOLE__CTRLEVENT__MSG.html#o1">CtrlEvent</a> = dwCtrlEvent;
00717     a-&gt;<a class="code" href="../../d9/d9/struct__CONSOLE__CTRLEVENT__MSG.html#o2">ProcessGroupId</a> = dwProcessGroupId;
00718     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00719                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
00720                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00721                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a231">ConsolepGenerateCtrlEvent</a>
00722                                             ),
00723                          <span class="keyword">sizeof</span>( *a )
00724                        );
00725     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
00726         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00727     } <span class="keywordflow">else</span> {
00728         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
00729         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00730     }
00731 
00732 }
00733 
00734 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
00735 WINAPI
<a name="l00736"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a12">00736</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a12">SetConsoleActiveScreenBuffer</a>(
00737     IN HANDLE hConsoleOutput
00738     )
00739 
00740 <span class="comment">/*++</span>
00741 <span class="comment"></span>
00742 <span class="comment">Parameters:</span>
00743 <span class="comment"></span>
00744 <span class="comment">    hConsoleOutput - Supplies an open handle to console output.  The screen</span>
00745 <span class="comment">        buffer attached to this handle becomes the displayed screen buffer.</span>
00746 <span class="comment"></span>
00747 <span class="comment">Return Value:</span>
00748 <span class="comment"></span>
00749 <span class="comment">    TRUE - The operation was successful.</span>
00750 <span class="comment"></span>
00751 <span class="comment">    FALSE/NULL - The operation failed. Extended error status is available</span>
00752 <span class="comment">        using GetLastError.</span>
00753 <span class="comment"></span>
00754 <span class="comment">--*/</span>
00755 
00756 {
00757     
00758     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00759     <a class="code" href="../../d9/d4/struct__CONSOLE__SETACTIVESCREENBUFFER__MSG.html">PCONSOLE_SETACTIVESCREENBUFFER_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.SetConsoleActiveScreenBuffer;
00760 
00761     a-&gt;<a class="code" href="../../d9/d4/struct__CONSOLE__SETACTIVESCREENBUFFER__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00762     a-&gt;<a class="code" href="../../d9/d4/struct__CONSOLE__SETACTIVESCREENBUFFER__MSG.html#o1">OutputHandle</a> = hConsoleOutput;
00763     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00764                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
00765                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00766                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a181">ConsolepSetActiveScreenBuffer</a>
00767                                             ),
00768                          <span class="keyword">sizeof</span>( *a )
00769                        );
00770     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
00771         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00772     } <span class="keywordflow">else</span> {
00773         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
00774         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00775     }
00776 
00777 }
00778 
00779 
00780 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
00781 WINAPI
<a name="l00782"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a13">00782</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a13">FlushConsoleInputBuffer</a>(
00783     IN HANDLE hConsoleInput
00784     )
00785 
00786 <span class="comment">/*++</span>
00787 <span class="comment"></span>
00788 <span class="comment">Parameters:</span>
00789 <span class="comment"></span>
00790 <span class="comment">    hConsoleInput - Supplies an open handle to console input.</span>
00791 <span class="comment"></span>
00792 <span class="comment">Return Value:</span>
00793 <span class="comment"></span>
00794 <span class="comment">    TRUE - The operation was successful.</span>
00795 <span class="comment"></span>
00796 <span class="comment">    FALSE/NULL - The operation failed. Extended error status is available</span>
00797 <span class="comment">        using GetLastError.</span>
00798 <span class="comment"></span>
00799 <span class="comment">--*/</span>
00800 
00801 {
00802 
00803     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00804     <a class="code" href="../../d3/d0/struct__CONSOLE__FLUSHINPUTBUFFER__MSG.html">PCONSOLE_FLUSHINPUTBUFFER_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.FlushConsoleInputBuffer;
00805 
00806     a-&gt;<a class="code" href="../../d3/d0/struct__CONSOLE__FLUSHINPUTBUFFER__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00807     a-&gt;<a class="code" href="../../d3/d0/struct__CONSOLE__FLUSHINPUTBUFFER__MSG.html#o1">InputHandle</a> = hConsoleInput;
00808     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00809                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
00810                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00811                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a182">ConsolepFlushInputBuffer</a>
00812                                             ),
00813                          <span class="keyword">sizeof</span>( *a )
00814                        );
00815     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
00816         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00817     } <span class="keywordflow">else</span> {
00818         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
00819         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00820     }
00821 
00822 }
00823 
00824 
00825 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
00826 WINAPI
<a name="l00827"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a14">00827</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a14">SetConsoleScreenBufferSize</a>(
00828     IN HANDLE hConsoleOutput,
00829     IN COORD dwSize
00830     )
00831 
00832 <span class="comment">/*++</span>
00833 <span class="comment"></span>
00834 <span class="comment">Parameters:</span>
00835 <span class="comment"></span>
00836 <span class="comment">    hConsoleInput - Supplies an open handle to console input.</span>
00837 <span class="comment"></span>
00838 <span class="comment">    dwSize - New size of screen buffer in rows and columns</span>
00839 <span class="comment"></span>
00840 <span class="comment">Return Value:</span>
00841 <span class="comment"></span>
00842 <span class="comment">    TRUE - The operation was successful.</span>
00843 <span class="comment"></span>
00844 <span class="comment">    FALSE/NULL - The operation failed. Extended error status is available</span>
00845 <span class="comment">        using GetLastError.</span>
00846 <span class="comment"></span>
00847 <span class="comment">--*/</span>
00848 
00849 {
00850 
00851     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00852     <a class="code" href="../../d4/d6/struct__CONSOLE__SETSCREENBUFFERSIZE__MSG.html">PCONSOLE_SETSCREENBUFFERSIZE_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.SetConsoleScreenBufferSize;
00853 
00854     a-&gt;<a class="code" href="../../d4/d6/struct__CONSOLE__SETSCREENBUFFERSIZE__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00855     a-&gt;<a class="code" href="../../d4/d6/struct__CONSOLE__SETSCREENBUFFERSIZE__MSG.html#o1">OutputHandle</a> = hConsoleOutput;
00856     a-&gt;<a class="code" href="../../d4/d6/struct__CONSOLE__SETSCREENBUFFERSIZE__MSG.html#o2">Size</a> = dwSize;
00857     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00858                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
00859                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00860                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a184">ConsolepSetScreenBufferSize</a>
00861                                             ),
00862                          <span class="keyword">sizeof</span>( *a )
00863                        );
00864     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
00865         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00866     } <span class="keywordflow">else</span> {
00867         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
00868         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00869     }
00870 
00871 
00872 }
00873 
00874 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
00875 WINAPI
<a name="l00876"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a15">00876</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a15">SetConsoleCursorPosition</a>(
00877     IN HANDLE hConsoleOutput,
00878     IN COORD dwCursorPosition
00879     )
00880 
00881 <span class="comment">/*++</span>
00882 <span class="comment"></span>
00883 <span class="comment">Parameters:</span>
00884 <span class="comment"></span>
00885 <span class="comment">    hConsoleOutput - Supplies an open handle to console output.</span>
00886 <span class="comment"></span>
00887 <span class="comment">    dwCursorPosition - Position of cursor in screen buffer</span>
00888 <span class="comment"></span>
00889 <span class="comment">Return Value:</span>
00890 <span class="comment"></span>
00891 <span class="comment">    TRUE - The operation was successful.</span>
00892 <span class="comment"></span>
00893 <span class="comment">    FALSE/NULL - The operation failed. Extended error status is available</span>
00894 <span class="comment">        using GetLastError.</span>
00895 <span class="comment"></span>
00896 <span class="comment">--*/</span>
00897 
00898 {  
00899 
00900     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00901     <a class="code" href="../../d4/d5/struct__CONSOLE__SETCURSORPOSITION__MSG.html">PCONSOLE_SETCURSORPOSITION_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.SetConsoleCursorPosition;
00902 
00903     a-&gt;<a class="code" href="../../d4/d5/struct__CONSOLE__SETCURSORPOSITION__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00904     a-&gt;<a class="code" href="../../d4/d5/struct__CONSOLE__SETCURSORPOSITION__MSG.html#o1">OutputHandle</a> = hConsoleOutput;
00905     a-&gt;<a class="code" href="../../d4/d5/struct__CONSOLE__SETCURSORPOSITION__MSG.html#o2">CursorPosition</a> = dwCursorPosition;
00906     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00907                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
00908                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00909                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a185">ConsolepSetCursorPosition</a>
00910                                             ),
00911                          <span class="keyword">sizeof</span>( *a )
00912                        );
00913     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
00914         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00915     } <span class="keywordflow">else</span> {
00916         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
00917         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00918     }
00919 
00920 
00921 }
00922 
00923 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
00924 WINAPI
<a name="l00925"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a16">00925</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a16">SetConsoleCursorInfo</a>(
00926     IN HANDLE hConsoleOutput,
00927     IN CONST CONSOLE_CURSOR_INFO *lpConsoleCursorInfo
00928     )
00929 
00930 <span class="comment">/*++</span>
00931 <span class="comment"></span>
00932 <span class="comment">Parameters:</span>
00933 <span class="comment"></span>
00934 <span class="comment">    hConsoleOutput - Supplies an open handle to console output.</span>
00935 <span class="comment"></span>
00936 <span class="comment">    lpConsoleCursorOrigin - A pointer to a buffer containing the data</span>
00937 <span class="comment">        to set.</span>
00938 <span class="comment"></span>
00939 <span class="comment">Return Value:</span>
00940 <span class="comment"></span>
00941 <span class="comment">    TRUE - The operation was successful.</span>
00942 <span class="comment"></span>
00943 <span class="comment">    FALSE/NULL - The operation failed. Extended error status is available</span>
00944 <span class="comment">        using GetLastError.</span>
00945 <span class="comment"></span>
00946 <span class="comment">--*/</span>
00947 
00948 {
00949 
00950     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
00951     <a class="code" href="../../d3/d5/struct__CONSOLE__SETCURSORINFO__MSG.html">PCONSOLE_SETCURSORINFO_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.SetConsoleCursorInfo;
00952 
00953     a-&gt;<a class="code" href="../../d3/d5/struct__CONSOLE__SETCURSORINFO__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
00954     a-&gt;<a class="code" href="../../d3/d5/struct__CONSOLE__SETCURSORINFO__MSG.html#o1">OutputHandle</a> = hConsoleOutput;
00955     <span class="keywordflow">try</span> {
00956         a-&gt;<a class="code" href="../../d3/d5/struct__CONSOLE__SETCURSORINFO__MSG.html#o2">CursorSize</a> = lpConsoleCursorInfo-&gt;dwSize;
00957         a-&gt;<a class="code" href="../../d3/d5/struct__CONSOLE__SETCURSORINFO__MSG.html#o3">Visible</a> = (BOOLEAN) lpConsoleCursorInfo-&gt;bVisible;
00958     } except( <a class="code" href="../../d6/d7/halmips_8h.html#a33">EXCEPTION_EXECUTE_HANDLER</a> ) {
00959         <a class="code" href="../../d6/d4/condll_8h.html#a2">SET_LAST_ERROR</a>(ERROR_INVALID_ACCESS);
00960         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00961     }
00962     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
00963                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
00964                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
00965                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a186">ConsolepSetCursorInfo</a>
00966                                             ),
00967                          <span class="keyword">sizeof</span>( *a )
00968                        );
00969     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
00970         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00971     } <span class="keywordflow">else</span> {
00972         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
00973         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00974     }
00975 
00976 }
00977 
00978 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
00979 WINAPI
<a name="l00980"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a17">00980</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a17">SetConsoleWindowInfo</a>(
00981     IN HANDLE hConsoleOutput,
00982     IN BOOL bAbsolute,
00983     IN CONST SMALL_RECT *lpConsoleWindow
00984     )
00985 
00986 <span class="comment">/*++</span>
00987 <span class="comment"></span>
00988 <span class="comment">Parameters:</span>
00989 <span class="comment"></span>
00990 <span class="comment">    hConsoleOutput - Supplies an open handle to console output.</span>
00991 <span class="comment"></span>
00992 <span class="comment">    lpConsoleWindow - A pointer to a rectangle containing the new</span>
00993 <span class="comment">        dimensions of the console window in screen buffer coordinates.</span>
00994 <span class="comment"></span>
00995 <span class="comment">Return Value:</span>
00996 <span class="comment"></span>
00997 <span class="comment">    TRUE - The operation was successful.</span>
00998 <span class="comment"></span>
00999 <span class="comment">    FALSE/NULL - The operation failed. Extended error status is available</span>
01000 <span class="comment">        using GetLastError.</span>
01001 <span class="comment"></span>
01002 <span class="comment">--*/</span>
01003 
01004 {
01005 
01006     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
01007     <a class="code" href="../../d7/d6/struct__CONSOLE__SETWINDOWINFO__MSG.html">PCONSOLE_SETWINDOWINFO_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.SetConsoleWindowInfo;
01008 
01009     a-&gt;<a class="code" href="../../d7/d6/struct__CONSOLE__SETWINDOWINFO__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
01010     a-&gt;<a class="code" href="../../d7/d6/struct__CONSOLE__SETWINDOWINFO__MSG.html#o1">OutputHandle</a> = hConsoleOutput;
01011     a-&gt;<a class="code" href="../../d7/d6/struct__CONSOLE__SETWINDOWINFO__MSG.html#o2">Absolute</a> = bAbsolute;
01012     <span class="keywordflow">try</span> {
01013         a-&gt;<a class="code" href="../../d7/d6/struct__CONSOLE__SETWINDOWINFO__MSG.html#o3">Window</a> = *lpConsoleWindow;
01014     } except( <a class="code" href="../../d6/d7/halmips_8h.html#a33">EXCEPTION_EXECUTE_HANDLER</a> ) {
01015         <a class="code" href="../../d6/d4/condll_8h.html#a2">SET_LAST_ERROR</a>(ERROR_INVALID_ACCESS);
01016         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01017     }
01018     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
01019                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
01020                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
01021                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a187">ConsolepSetWindowInfo</a>
01022                                             ),
01023                          <span class="keyword">sizeof</span>( *a )
01024                        );
01025     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
01026         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01027     } <span class="keywordflow">else</span> {
01028         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
01029         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01030     }
01031 
01032 }
01033 
01034 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
01035 <a class="code" href="../../d1/d1/bench_8c.html#a0">APIENTRY</a>
<a name="l01036"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a18">01036</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a18">ScrollConsoleScreenBufferInternal</a>(
01037     IN HANDLE hConsoleOutput,
01038     IN CONST SMALL_RECT *lpScrollRectangle,
01039     IN CONST SMALL_RECT *lpClipRectangle,
01040     IN COORD dwDestinationOrigin,
01041     IN CONST CHAR_INFO *lpFill,
01042     IN BOOLEAN Unicode
01043     )
01044 
01045 <span class="comment">/*++</span>
01046 <span class="comment"></span>
01047 <span class="comment">Parameters:</span>
01048 <span class="comment"></span>
01049 <span class="comment">    hConsoleOutput - Supplies an open handle to console output.</span>
01050 <span class="comment"></span>
01051 <span class="comment">    lpScrollRectangle - Pointer to region within screen buffer to move.</span>
01052 <span class="comment"></span>
01053 <span class="comment">    lpClipRectangle -  Pointer to region within screen buffer that may be</span>
01054 <span class="comment">        affected by this scroll.  This pointer may be NULL.</span>
01055 <span class="comment"></span>
01056 <span class="comment">    dwDestinationOrigin - Upper left corner of new location of ScrollRectangle</span>
01057 <span class="comment">        contents.</span>
01058 <span class="comment"></span>
01059 <span class="comment">    lpFill - Pointer to structure containing new contents of ScrollRectangle region.</span>
01060 <span class="comment"></span>
01061 <span class="comment">Return Value:</span>
01062 <span class="comment"></span>
01063 <span class="comment">    TRUE - The operation was successful.</span>
01064 <span class="comment"></span>
01065 <span class="comment">    FALSE/NULL - The operation failed. Extended error status is available</span>
01066 <span class="comment">        using GetLastError.</span>
01067 <span class="comment"></span>
01068 <span class="comment">--*/</span>
01069 
01070 {
01071 
01072     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
01073     <a class="code" href="../../d8/d4/struct__CONSOLE__SCROLLSCREENBUFFER__MSG.html">PCONSOLE_SCROLLSCREENBUFFER_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.ScrollConsoleScreenBuffer;
01074 
01075     a-&gt;<a class="code" href="../../d8/d4/struct__CONSOLE__SCROLLSCREENBUFFER__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
01076     a-&gt;<a class="code" href="../../d8/d4/struct__CONSOLE__SCROLLSCREENBUFFER__MSG.html#o1">OutputHandle</a> = hConsoleOutput;
01077     a-&gt;<a class="code" href="../../d8/d4/struct__CONSOLE__SCROLLSCREENBUFFER__MSG.html#o7">Unicode</a> = <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a96">Unicode</a>;
01078     <span class="keywordflow">try</span> {
01079         a-&gt;<a class="code" href="../../d8/d4/struct__CONSOLE__SCROLLSCREENBUFFER__MSG.html#o2">ScrollRectangle</a> = *lpScrollRectangle;
01080         <span class="keywordflow">if</span> (lpClipRectangle != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
01081             a-&gt;<a class="code" href="../../d8/d4/struct__CONSOLE__SCROLLSCREENBUFFER__MSG.html#o4">Clip</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01082             a-&gt;<a class="code" href="../../d8/d4/struct__CONSOLE__SCROLLSCREENBUFFER__MSG.html#o3">ClipRectangle</a> = *lpClipRectangle;
01083         }
01084         <span class="keywordflow">else</span> {
01085             a-&gt;<a class="code" href="../../d8/d4/struct__CONSOLE__SCROLLSCREENBUFFER__MSG.html#o4">Clip</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01086         }
01087         a-&gt;<a class="code" href="../../d8/d4/struct__CONSOLE__SCROLLSCREENBUFFER__MSG.html#o6">Fill</a> = *lpFill;
01088         a-&gt;<a class="code" href="../../d8/d4/struct__CONSOLE__SCROLLSCREENBUFFER__MSG.html#o5">DestinationOrigin</a> = dwDestinationOrigin;
01089     } except( <a class="code" href="../../d6/d7/halmips_8h.html#a33">EXCEPTION_EXECUTE_HANDLER</a> ) {
01090         <a class="code" href="../../d6/d4/condll_8h.html#a2">SET_LAST_ERROR</a>(ERROR_INVALID_ACCESS);
01091         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01092     }
01093     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
01094                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
01095                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
01096                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a188">ConsolepScrollScreenBuffer</a>
01097                                             ),
01098                          <span class="keyword">sizeof</span>( *a )
01099                        );
01100     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
01101         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01102     } <span class="keywordflow">else</span> {
01103         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
01104         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01105     }
01106 
01107 }
01108 
01109 <span class="preprocessor">#endif </span>
01110 <span class="preprocessor"></span>
01111 <span class="preprocessor"></span><span class="preprocessor">#if !defined(BUILD_WOW64)</span>
01112 <span class="preprocessor"></span>
01113 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
01114 <a class="code" href="../../d1/d1/bench_8c.html#a0">APIENTRY</a>
<a name="l01115"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a19">01115</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a19">ScrollConsoleScreenBufferA</a>(
01116     HANDLE hConsoleOutput,
01117     CONST SMALL_RECT *lpScrollRectangle,
01118     CONST SMALL_RECT *lpClipRectangle,
01119     COORD dwDestinationOrigin,
01120     CONST CHAR_INFO *lpFill
01121     )
01122 {
01123     <span class="keywordflow">return</span> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a18">ScrollConsoleScreenBufferInternal</a>(hConsoleOutput,
01124                                       lpScrollRectangle,
01125                                       lpClipRectangle,
01126                                       dwDestinationOrigin,
01127                                       lpFill,
01128                                       <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>);
01129 }
01130 
01131 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
01132 <a class="code" href="../../d1/d1/bench_8c.html#a0">APIENTRY</a>
<a name="l01133"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a20">01133</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a20">ScrollConsoleScreenBufferW</a>(
01134     HANDLE hConsoleOutput,
01135     CONST SMALL_RECT *lpScrollRectangle,
01136     CONST SMALL_RECT *lpClipRectangle,
01137     COORD dwDestinationOrigin,
01138     CONST CHAR_INFO *lpFill
01139     )
01140 {
01141     <span class="keywordflow">return</span> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a18">ScrollConsoleScreenBufferInternal</a>(hConsoleOutput,
01142                                       lpScrollRectangle,
01143                                       lpClipRectangle,
01144                                       dwDestinationOrigin,
01145                                       lpFill,
01146                                       <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>);
01147 }
01148 
01149 <span class="preprocessor">#endif </span>
01150 <span class="preprocessor"></span>
01151 <span class="preprocessor"></span><span class="preprocessor">#if !defined(BUILD_WOW6432)</span>
01152 <span class="preprocessor"></span>
01153 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
01154 WINAPI
<a name="l01155"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a21">01155</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a21">SetConsoleTextAttribute</a>(
01156     IN HANDLE hConsoleOutput,
01157     IN WORD wAttributes
01158     )
01159 
01160 <span class="comment">/*++</span>
01161 <span class="comment"></span>
01162 <span class="comment">Parameters:</span>
01163 <span class="comment"></span>
01164 <span class="comment">    hConsoleOutput - Supplies an open handle to console output.</span>
01165 <span class="comment"></span>
01166 <span class="comment">    wAttributes - Character display attributes.</span>
01167 <span class="comment"></span>
01168 <span class="comment">Return Value:</span>
01169 <span class="comment"></span>
01170 <span class="comment">    TRUE - The operation was successful.</span>
01171 <span class="comment"></span>
01172 <span class="comment">    FALSE/NULL - The operation failed. Extended error status is available</span>
01173 <span class="comment">        using GetLastError.</span>
01174 <span class="comment"></span>
01175 <span class="comment">--*/</span>
01176 
01177 {
01178 
01179     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
01180     <a class="code" href="../../d5/d6/struct__CONSOLE__SETTEXTATTRIBUTE__MSG.html">PCONSOLE_SETTEXTATTRIBUTE_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.SetConsoleTextAttribute;
01181 
01182     a-&gt;<a class="code" href="../../d5/d6/struct__CONSOLE__SETTEXTATTRIBUTE__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
01183     a-&gt;<a class="code" href="../../d5/d6/struct__CONSOLE__SETTEXTATTRIBUTE__MSG.html#o1">OutputHandle</a> = hConsoleOutput;
01184     a-&gt;<a class="code" href="../../d5/d6/struct__CONSOLE__SETTEXTATTRIBUTE__MSG.html#o2">Attributes</a> = wAttributes;
01185     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
01186                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
01187                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
01188                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a189">ConsolepSetTextAttribute</a>
01189                                             ),
01190                          <span class="keyword">sizeof</span>( *a )
01191                        );
01192     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
01193         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01194     } <span class="keywordflow">else</span> {
01195         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
01196         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01197     }
01198 
01199 }
01200 
01201 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
01202 WINAPI
<a name="l01203"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a22">01203</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a22">SetConsoleFont</a>(
01204     IN HANDLE hConsoleOutput,
01205     IN DWORD nFont
01206     )
01207 
01208 <span class="comment">/*++</span>
01209 <span class="comment"></span>
01210 <span class="comment">Parameters:</span>
01211 <span class="comment"></span>
01212 <span class="comment">    hConsoleOutput - Supplies an open handle to console output.</span>
01213 <span class="comment"></span>
01214 <span class="comment">    nFont - Number of font to set as current font</span>
01215 <span class="comment"></span>
01216 <span class="comment">Return Value:</span>
01217 <span class="comment"></span>
01218 <span class="comment">    TRUE - The operation was successful.</span>
01219 <span class="comment"></span>
01220 <span class="comment">    FALSE/NULL - The operation failed. Extended error status is available</span>
01221 <span class="comment">        using GetLastError.</span>
01222 <span class="comment"></span>
01223 <span class="comment">--*/</span>
01224 
01225 {
01226 
01227     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
01228     <a class="code" href="../../d6/d5/struct__CONSOLE__SETFONT__MSG.html">PCONSOLE_SETFONT_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.SetConsoleFont;
01229 
01230     a-&gt;<a class="code" href="../../d6/d5/struct__CONSOLE__SETFONT__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
01231     a-&gt;<a class="code" href="../../d6/d5/struct__CONSOLE__SETFONT__MSG.html#o1">OutputHandle</a> = hConsoleOutput;
01232     a-&gt;<a class="code" href="../../d6/d5/struct__CONSOLE__SETFONT__MSG.html#o2">FontIndex</a> = nFont;
01233     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
01234                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
01235                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
01236                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a190">ConsolepSetFont</a>
01237                                             ),
01238                          <span class="keyword">sizeof</span>( *a )
01239                        );
01240     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
01241         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01242     } <span class="keywordflow">else</span> {
01243         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
01244         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01245     }
01246 
01247 }
01248 
01249 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
01250 WINAPI
<a name="l01251"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a23">01251</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a23">SetConsoleIcon</a>(
01252     IN HICON hIcon
01253     )
01254 
01255 <span class="comment">/*++</span>
01256 <span class="comment"></span>
01257 <span class="comment">Parameters:</span>
01258 <span class="comment"></span>
01259 <span class="comment">    hIcon - Supplies an icon handle.</span>
01260 <span class="comment"></span>
01261 <span class="comment">Return Value:</span>
01262 <span class="comment"></span>
01263 <span class="comment">    TRUE - The operation was successful.</span>
01264 <span class="comment"></span>
01265 <span class="comment">    FALSE/NULL - The operation failed. Extended error status is available</span>
01266 <span class="comment">        using GetLastError.</span>
01267 <span class="comment"></span>
01268 <span class="comment">--*/</span>
01269 
01270 {
01271 
01272     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
01273     <a class="code" href="../../d9/d5/struct__CONSOLE__SETICON__MSG.html">PCONSOLE_SETICON_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.SetConsoleIcon;
01274 
01275     a-&gt;<a class="code" href="../../d9/d5/struct__CONSOLE__SETICON__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
01276     a-&gt;<a class="code" href="../../d9/d5/struct__CONSOLE__SETICON__MSG.html#o1">hIcon</a> = hIcon;
01277     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
01278                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
01279                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
01280                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a191">ConsolepSetIcon</a>
01281                                             ),
01282                          <span class="keyword">sizeof</span>( *a )
01283                        );
01284     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
01285         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01286     } <span class="keywordflow">else</span> {
01287         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
01288         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01289     }
01290 
01291 }
01292 
01293 <span class="preprocessor">#endif </span>
01294 <span class="preprocessor"></span>
01295 <span class="preprocessor"></span><span class="preprocessor">#if !defined(BUILD_WOW64)</span>
01296 <span class="preprocessor"></span>
01297 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
01298 <a class="code" href="../../d1/d1/bench_8c.html#a0">APIENTRY</a>
<a name="l01299"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a24">01299</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a24">SetConsoleMaximumWindowSize</a>(
01300     HANDLE hConsoleOutput,
01301     COORD dwWindowSize
01302     )
01303 {
01304     UNREFERENCED_PARAMETER(hConsoleOutput);
01305     UNREFERENCED_PARAMETER(dwWindowSize);
01306 
01307     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01308 }
01309 
01310 <span class="preprocessor">#endif </span>
01311 <span class="preprocessor"></span>
01312 <span class="preprocessor"></span><span class="preprocessor">#if !defined(BUILD_WOW6432)</span>
01313 <span class="preprocessor"></span>
01314 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>
01315 WINAPI
<a name="l01316"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a25">01316</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a25">GetConsoleCP</a>( VOID )
01317 
01318 
01331 {
01332 
01333     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
01334     <a class="code" href="../../d4/d1/struct__CONSOLE__GETCP__MSG.html">PCONSOLE_GETCP_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.GetConsoleCP;
01335 
01336     a-&gt;<a class="code" href="../../d4/d1/struct__CONSOLE__GETCP__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
01337     a-&gt;<a class="code" href="../../d4/d1/struct__CONSOLE__GETCP__MSG.html#o2">Output</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01338     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
01339                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
01340                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
01341                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a226">ConsolepGetCP</a>
01342                                             ),
01343                          <span class="keyword">sizeof</span>( *a )
01344                        );
01345     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
01346         <span class="keywordflow">return</span> a-&gt;wCodePageID;
01347     } <span class="keywordflow">else</span> {
01348         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
01349         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01350     }
01351 
01352 }
01353 
01354 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
01355 WINAPI
<a name="l01356"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a26">01356</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a26">SetConsoleCP</a>(
01357     IN UINT wCodePageID
01358     )
01359 
01360 
01376 {
01377 
01378     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
01379     <a class="code" href="../../d1/d5/struct__CONSOLE__SETCP__MSG.html">PCONSOLE_SETCP_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.SetConsoleCP;
01380     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
01381 
01382     a-&gt;<a class="code" href="../../d1/d5/struct__CONSOLE__SETCP__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
01383     a-&gt;<a class="code" href="../../d1/d5/struct__CONSOLE__SETCP__MSG.html#o2">Output</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01384     a-&gt;<a class="code" href="../../d1/d5/struct__CONSOLE__SETCP__MSG.html#o1">wCodePageID</a> = wCodePageID;
01385 <span class="preprocessor">#if defined(FE_SB)</span>
01386 <span class="preprocessor"></span>    <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d0/d8/ex_2event_8c.html#a5">NtCreateEvent</a>(&amp;(a-&gt;hEvent),
01387                            EVENT_ALL_ACCESS, 
01388                            <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
01389                            SynchronizationEvent,
01390                            (BOOLEAN)<a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>
01391                            );
01392     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(<a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>)) {
01393        <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a>(<a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>);
01394        <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01395     }
01396 <span class="preprocessor">#endif</span>
01397 <span class="preprocessor"></span>    <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
01398                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
01399                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
01400                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a227">ConsolepSetCP</a>
01401                                             ),
01402                          <span class="keyword">sizeof</span>( *a )
01403                        );
01404     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
01405 <span class="preprocessor">#if defined(FE_SB)</span>
01406 <span class="preprocessor"></span>        <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
01407 
01408         <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d1/d2/obwait_8c.html#a4">NtWaitForSingleObject</a>(a-&gt;hEvent, <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
01409         <a class="code" href="../../d5/d0/obclose_8c.html#a1">NtClose</a>(a-&gt;hEvent);
01410         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> != 0) {
01411             <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a>(<a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>);
01412             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01413         }
01414 <span class="preprocessor">#endif</span>
01415 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01416     } <span class="keywordflow">else</span> {
01417 <span class="preprocessor">#if defined(FE_SB)</span>
01418 <span class="preprocessor"></span>        <a class="code" href="../../d5/d0/obclose_8c.html#a1">NtClose</a>(a-&gt;hEvent);
01419 <span class="preprocessor">#endif</span>
01420 <span class="preprocessor"></span>        <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
01421         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01422     }
01423 
01424 }
01425 
01426 
01427 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>
01428 WINAPI
<a name="l01429"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a27">01429</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a27">GetConsoleOutputCP</a>( VOID )
01430 
01431 
01444 {
01445 
01446     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
01447     <a class="code" href="../../d4/d1/struct__CONSOLE__GETCP__MSG.html">PCONSOLE_GETCP_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.GetConsoleCP;
01448 
01449     a-&gt;<a class="code" href="../../d4/d1/struct__CONSOLE__GETCP__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
01450     a-&gt;<a class="code" href="../../d4/d1/struct__CONSOLE__GETCP__MSG.html#o2">Output</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01451     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
01452                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
01453                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
01454                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a226">ConsolepGetCP</a>
01455                                             ),
01456                          <span class="keyword">sizeof</span>( *a )
01457                        );
01458     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
01459         <span class="keywordflow">return</span> a-&gt;wCodePageID;
01460     } <span class="keywordflow">else</span> {
01461         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
01462         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01463     }
01464 
01465 }
01466 
01467 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01468 <a class="code" href="../../d1/d1/bench_8c.html#a0">APIENTRY</a>
<a name="l01469"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a28">01469</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a28">SetConsoleOutputCPInternal</a>(
01470     IN UINT wCodePageID
01471     )
01472 {
01473     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
01474     <a class="code" href="../../d1/d5/struct__CONSOLE__SETCP__MSG.html">PCONSOLE_SETCP_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.SetConsoleCP;
01475 
01476     a-&gt;<a class="code" href="../../d1/d5/struct__CONSOLE__SETCP__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
01477     a-&gt;<a class="code" href="../../d1/d5/struct__CONSOLE__SETCP__MSG.html#o2">Output</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01478     a-&gt;<a class="code" href="../../d1/d5/struct__CONSOLE__SETCP__MSG.html#o1">wCodePageID</a> = wCodePageID;
01479 <span class="preprocessor">#if defined(FE_SB)</span>
01480 <span class="preprocessor"></span>    a-&gt;hEvent = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01481 <span class="preprocessor">#endif</span>
01482 <span class="preprocessor"></span>
01483     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
01484                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
01485                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
01486                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a227">ConsolepSetCP</a>
01487                                             ),
01488                          <span class="keyword">sizeof</span>( *a )
01489                        );
01490    
01491     <span class="keywordflow">return</span> m.ReturnValue;
01492 }
01493 
01494 <span class="preprocessor">#endif </span>
01495 <span class="preprocessor"></span>
01496 <span class="preprocessor"></span>
01497 <span class="preprocessor">#if !defined(BUILD_WOW64)</span>
01498 <span class="preprocessor"></span>
01499 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
01500 WINAPI
<a name="l01501"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a29">01501</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a29">SetConsoleOutputCP</a>(
01502     IN UINT wCodePageID
01503     )
01504 
01505 
01521 {
01522 
01523     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
01524     
01525     <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a28">SetConsoleOutputCPInternal</a>(wCodePageID);
01526     
01527     <span class="keywordflow">if</span>(<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(<a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>)) {
01528         <a class="code" href="../../d8/d9/dllinit_8c.html#a17">SetTEBLangID</a>();
01529         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01530     }
01531     <span class="keywordflow">else</span> {
01532         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (<a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>);
01533         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01534     }
01535 }
01536 
01537 <span class="preprocessor">#endif </span>
01538 <span class="preprocessor"></span>
01539 <span class="preprocessor"></span><span class="preprocessor">#if !defined(BUILD_WOW6432)</span>
01540 <span class="preprocessor"></span>
01541 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
01542 <a class="code" href="../../d1/d1/bench_8c.html#a0">APIENTRY</a>
<a name="l01543"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a30">01543</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a30">GetConsoleKeyboardLayoutNameWorker</a>(
01544     OUT LPSTR pszLayout,
01545     IN BOOL bAnsi)
01546 
01547 
01562 {
01563 
01564     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
01565     <a class="code" href="../../d2/d2/struct__CONSOLE__GETKEYBOARDLAYOUTNAME__MSG.html">PCONSOLE_GETKEYBOARDLAYOUTNAME_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.GetKeyboardLayoutName;
01566 
01567     a-&gt;<a class="code" href="../../d2/d2/struct__CONSOLE__GETKEYBOARDLAYOUTNAME__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
01568     a-&gt;<a class="code" href="../../d2/d2/struct__CONSOLE__GETKEYBOARDLAYOUTNAME__MSG.html#o3">bAnsi</a> = bAnsi;
01569 
01570     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
01571                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
01572                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
01573                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a232">ConsolepGetKeyboardLayoutName</a>
01574                                             ),
01575                          <span class="keyword">sizeof</span>( *a )
01576                        );
01577     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
01578         <span class="keywordflow">if</span> (bAnsi) {
01579            strncpy(pszLayout, a-&gt;achLayout, 9);
01580         } <span class="keywordflow">else</span> {
01581            wcsncpy((LPWSTR)pszLayout, a-&gt;awchLayout, 9);
01582         }
01583         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01584     } <span class="keywordflow">else</span> {
01585         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
01586         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01587     }
01588 
01589 }
01590 
01591 
01592 <span class="preprocessor">#endif </span>
01593 <span class="preprocessor"></span>
01594 <span class="preprocessor"></span>
01595 <span class="preprocessor">#if !defined(BUILD_WOW64)</span>
01596 <span class="preprocessor"></span>
01597 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
<a name="l01598"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a31">01598</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a31">GetConsoleKeyboardLayoutNameA</a>(
01599     LPSTR pszLayout)
01600 {
01601     <span class="keywordflow">return</span> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a30">GetConsoleKeyboardLayoutNameWorker</a>(pszLayout, <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>);
01602 }
01603 
01604 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
<a name="l01605"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a32">01605</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a32">GetConsoleKeyboardLayoutNameW</a>(
01606     LPWSTR pwszLayout)
01607 {
01608     <span class="keywordflow">return</span> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a30">GetConsoleKeyboardLayoutNameWorker</a>((LPSTR)pwszLayout, <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>);
01609 }
01610 
01611 <span class="preprocessor">#endif </span>
01612 <span class="preprocessor"></span>
01613 <span class="preprocessor"></span><span class="preprocessor">#if !defined(BUILD_WOW6432)</span>
01614 <span class="preprocessor"></span>
01615 HANDLE
01616 <a class="code" href="../../d1/d1/bench_8c.html#a0">APIENTRY</a>
<a name="l01617"></a><a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a33">01617</a> <a class="code" href="../../d8/d4/ntcon_2client_2getset_8c.html#a33">GetConsoleWindow</a>(
01618     VOID)
01619 {
01620 
01621     <a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html">CONSOLE_API_MSG</a> m;
01622     <a class="code" href="../../d3/d1/struct__CONSOLE__GETCONSOLEWINDOW__MSG.html">PCONSOLE_GETCONSOLEWINDOW_MSG</a> a = &amp;m.<a class="code" href="../../d5/d9/struct__CONSOLE__API__MSG.html#o77">u</a>.GetConsoleWindow;
01623 
01624     a-&gt;<a class="code" href="../../d3/d1/struct__CONSOLE__GETCONSOLEWINDOW__MSG.html#o0">ConsoleHandle</a> = <a class="code" href="../../d6/d4/condll_8h.html#a1">GET_CONSOLE_HANDLE</a>;
01625     <a class="code" href="../../d8/d9/wow64csr_8c.html#a4">CsrClientCallServer</a>( (PCSR_API_MSG)&amp;m,
01626                          <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
01627                          CSR_MAKE_API_NUMBER( CONSRV_SERVERDLL_INDEX,
01628                                               <a class="code" href="../../d5/d5/conmsg_8h.html#a236a233">ConsolepGetConsoleWindow</a>
01629                                             ),
01630                          <span class="keyword">sizeof</span>( *a )
01631                        );
01632     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( m.ReturnValue )) {
01633         <span class="keywordflow">return</span> a-&gt;hwnd;
01634     } <span class="keywordflow">else</span> {
01635         <a class="code" href="../../d6/d4/condll_8h.html#a3">SET_LAST_NT_ERROR</a> (m.ReturnValue);
01636         <span class="keywordflow">return</span> <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01637     }
01638 
01639 }
01640 
01641 <span class="preprocessor">#endif </span>
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:40:12 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
