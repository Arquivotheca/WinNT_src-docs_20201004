<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: membaspr.c Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>membaspr.c</h1><a href="../../d8/d5/mscmm_2membaspr_8c.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">/*</span>
00002 <span class="comment">        File:           MemBasPr.c</span>
00003 <span class="comment"></span>
00004 <span class="comment">        Contains:       </span>
00005 <span class="comment">                creation of mem based profiles</span>
00006 <span class="comment"></span>
00007 <span class="comment">        Written by:     U. J. Krabbenhoeft</span>
00008 <span class="comment"></span>
00009 <span class="comment">        Copyright:      © 1993-1996 by Linotype-Hell AG, all rights reserved.</span>
00010 <span class="comment"></span>
00011 <span class="comment">        Version:        </span>
00012 <span class="comment">*/</span>
00013 
00014 <span class="preprocessor">#include "Windef.h"</span>
00015 <span class="preprocessor">#include "WinGdi.h"</span>
00016 <span class="preprocessor">#include &lt;wtypes.h&gt;</span>
00017 <span class="preprocessor">#include &lt;winbase.h&gt;</span>
00018 <span class="preprocessor">#include &lt;windowsX.h&gt;</span>
00019 <span class="preprocessor">#include "ICM.h"</span>
00020 
00021 <span class="preprocessor">#ifndef LHGeneralIncs_h</span>
00022 <span class="preprocessor"></span><span class="preprocessor">#include "General.h"</span>
00023 <span class="preprocessor">#endif</span>
00024 <span class="preprocessor"></span>
00025 <span class="preprocessor">#ifndef MSNewMemProfile_h</span>
00026 <span class="preprocessor"></span><span class="preprocessor">#include "MemProf.h"</span>
00027 <span class="preprocessor">#endif</span>
00028 <span class="preprocessor"></span>
00029 <span class="preprocessor">#ifdef _DEBUG</span>
00030 <span class="preprocessor"></span><span class="comment">//#define WRITE_PROFILE</span>
00031 <span class="preprocessor">#endif</span>
00032 <span class="preprocessor"></span>
00033 <span class="preprocessor">#ifdef WRITE_PROFILE</span>
00034 <span class="preprocessor"></span>        <span class="keywordtype">void</span> <a class="code" href="../../d9/d6/w98_2mscmm_2icm32_8c.html#a26">WriteProf</a>( LPSTR name, <a class="code" href="../../d6/d3/structicProfile.html">icProfile</a> *theProf, <span class="keywordtype">long</span> currentSize );
00035 <span class="preprocessor">#endif</span>
00036 <span class="preprocessor"></span>
<a name="l00037"></a><a class="code" href="../../d8/d5/mscmm_2membaspr_8c.html#a0">00037</a> <span class="preprocessor">#define MyTagCount 5</span>
<a name="l00038"></a><a class="code" href="../../d8/d5/mscmm_2membaspr_8c.html#a1">00038</a> <span class="preprocessor"></span><span class="preprocessor">#define LINK_BUFFER_MAX 3000</span>
00039 <span class="preprocessor"></span>
<a name="l00040"></a><a class="code" href="../../d8/d5/mscmm_2membaspr_8c.html#a2">00040</a> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a11">CMError</a> <a class="code" href="../../d0/d7/w98_2mscmm_2memprof_8h.html#a6">DeviceLinkFill</a>( CMWorldRef cw, <a class="code" href="../../d9/d3/structCMConcatProfileSet.html">CMConcatProfileSet</a> *profileSet, <a class="code" href="../../d6/d3/structicProfile.html">icProfile</a> **theProf,
00041                 <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aIntent )
00042 {
00043         <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a11">CMError</a>                 err = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a56">unimpErr</a>;
00044         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a35">OSErr</a>                   aOSerr = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a56">unimpErr</a>;
00045 <span class="preprocessor">#ifdef __MWERKS__</span>
00046 <span class="preprocessor"></span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>                   theText[] = <span class="stringliteral">"\pDeviceLink profile  "</span>;
00047 <span class="preprocessor">#else</span>
00048 <span class="preprocessor"></span>      <span class="keywordtype">char</span>                      theText[] = <span class="stringliteral">"\026DeviceLink profile   "</span>;
00049 <span class="preprocessor">#endif</span>
00050 <span class="preprocessor"></span>      <span class="keywordtype">char</span>      copyrightText[] = <span class="stringliteral">"\037©1996 by Linotype-Hell  U.J.K."</span>;
00051         <a class="code" href="../../d6/d3/structicProfile.html">icProfile</a>               *aProf=0;
00052         <span class="keywordtype">long</span>                    theTagTabSize;
00053         <span class="keywordtype">long</span>                    theHeaderSize;
00054         <span class="keywordtype">long</span>                    theDescSize;
00055         <span class="keywordtype">long</span>                    theMediaSize;
00056         <span class="keywordtype">long</span>                    theSequenceDescSize;
00057         <span class="keywordtype">long</span>                    theA2B0Size;
00058         <span class="keywordtype">long</span>                    theCopyRightSize;
00059         <span class="keywordtype">long</span>                    currentSize=0;
00060         <span class="keywordtype">long</span>                    theTotalSize=0;
00061         <a class="code" href="../../d5/d4/structicTag.html">icTag</a>                   aTag;
00062         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a>                  sCS,dCS,clutSize;
00063         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>                             aPtr=0;
00064 
00065         <a class="code" href="../../d5/d1/structMyDoubleXYZ.html">MyDoubleXYZ</a> D50XYZ = { 0.9642, 1.0000, 0.8249 };
00066         <a class="code" href="../../d8/d6/structicXYZNumber.html">icXYZNumber</a> D50 = { (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)(D50XYZ.<a class="code" href="../../d5/d1/structMyDoubleXYZ.html#o0">X</a> * 65536), (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)(D50XYZ.<a class="code" href="../../d5/d1/structMyDoubleXYZ.html#o1">Y</a> * 65536), (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)(D50XYZ.<a class="code" href="../../d5/d1/structMyDoubleXYZ.html#o2">Z</a> * 65536)};
00067         theHeaderSize = <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d2/structicHeader.html">icHeader</a>);
00068         theDescSize   =                                                                           <span class="keyword">sizeof</span>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a34">OSType</a>)                        <span class="comment">/* type descriptor */</span>
00069                                                                                                                 + <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)         <span class="comment">/* reserved */</span>
00070                                                                                                                 + <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)         <span class="comment">/* ASCII length */</span>
00071                                                                                                                 + theText[0]                            <span class="comment">/* ASCII profile description */</span>
00072                                                                                                                 + <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)         <span class="comment">/* Unicode code */</span>
00073                                                                                                                 + <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)         <span class="comment">/* Unicode character count */</span>
00074                                                                                                                 + <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)        <span class="comment">/* Macintosh script code */</span>
00075                                                                                                                 + <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)         <span class="comment">/* Macintosh string length */</span>
00076                                                                                                                 + 67                                            <span class="comment">/* Macintosh string */</span>
00077                                                                                                                 ;
00078         theCopyRightSize   =                                                              <span class="keyword">sizeof</span>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a34">OSType</a>)                        <span class="comment">/* type descriptor */</span>
00079                                                                                                                 + <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)         <span class="comment">/* reserved */</span>
00080                                                                                                                 + copyrightText[0]                      <span class="comment">/* ASCII profile description */</span>
00081                                                                                                                 ;
00082         theMediaSize = <span class="keyword">sizeof</span>( <a class="code" href="../../d9/d6/structicXYZType.html">icXYZType</a> );;
00083 
00084         theTagTabSize = <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a3">MyTagCount</a> * <span class="keyword">sizeof</span>( <a class="code" href="../../d5/d4/structicTag.html">icTag</a> ) + <span class="keyword">sizeof</span>( <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> );
00085         
00086         *theProf = 0;
00087         
00088         <span class="keywordflow">if</span>( ((<a class="code" href="../../d3/d7/lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>)cw)-&gt;hasNamedColorProf != <a class="code" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a16">NoNamedColorProfile</a> ){
00089                 err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a31">cmProfileError</a>;
00090                 <span class="keywordflow">goto</span> CleanupAndExit;
00091         }
00092         err = <a class="code" href="../../d3/d6/w98_2lh__core_2memlink_8h.html#a4">MyGetColorSpaces</a>( profileSet, &amp;sCS, &amp;dCS );
00093         <span class="keywordflow">if</span> (err)
00094                 <span class="keywordflow">goto</span> CleanupAndExit;
00095                 
00096         aProf = (<a class="code" href="../../d6/d3/structicProfile.html">icProfile</a> *)<a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a6">SmartNewPtrClear</a>( <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a5">LINK_BUFFER_MAX</a>, &amp;aOSerr );
00097         err = aOSerr;
00098         <span class="keywordflow">if</span> (err)
00099                 <span class="keywordflow">goto</span> CleanupAndExit;
00100 
00101         err = <a class="code" href="../../d3/d6/w98_2lh__core_2memlink_8h.html#a6">MyAdd_NL_Header</a>(theTotalSize, (<a class="code" href="../../d1/d2/structicHeader.html">icHeader</a>*)((<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>)aProf+currentSize), aIntent, <a class="code" href="../../d7/d4/aug98_2dll32_2icc_8h.html#a125">icSigLinkClass</a>, sCS, dCS );
00102         <span class="keywordflow">if</span> (err)
00103                 <span class="keywordflow">goto</span> CleanupAndExit;
00104                 
00105         <span class="comment">/*----------------------------------------------------------------------------------------- cmProfileDescriptionTag */</span>
00106         currentSize = theHeaderSize + theTagTabSize;
00107         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aProf-&gt;<a class="code" href="../../d6/d3/structicProfile.html#o3">tagList</a>.<a class="code" href="../../d7/d4/structicTagList.html#o0">count</a> ), <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a3">MyTagCount</a>);
00108 
00109         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o0">sig</a> ), <a class="code" href="../../d7/d4/aug98_2dll32_2icc_8h.html#a44">icSigProfileDescriptionTag</a>);
00110         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o1">offset</a> ), currentSize);
00111         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o2">size</a> ), theDescSize);
00112         aProf-&gt;<a class="code" href="../../d6/d3/structicProfile.html#o3">tagList</a>.<a class="code" href="../../d7/d4/structicTagList.html#o1">tags</a>[0] = aTag;
00113         err =<a class="code" href="../../d3/d6/w98_2lh__core_2memlink_8h.html#a7">MyAdd_NL_DescriptionTag</a>    ( (CMTextDescriptionType *)((<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>)aProf+currentSize), (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)theText );
00114         <span class="keywordflow">if</span> (err)
00115                 <span class="keywordflow">goto</span> CleanupAndExit;  
00116         currentSize += theDescSize;
00117         currentSize = ( currentSize + 3 ) &amp; ~ 3;
00118 
00119         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o0">sig</a> ), <a class="code" href="../../d7/d4/aug98_2dll32_2icc_8h.html#a39">icSigMediaWhitePointTag</a>);
00120         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o1">offset</a> ), currentSize );
00121         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o2">size</a> ), theMediaSize);
00122         aProf-&gt;<a class="code" href="../../d6/d3/structicProfile.html#o3">tagList</a>.<a class="code" href="../../d7/d4/structicTagList.html#o1">tags</a>[1] = aTag;
00123         <a class="code" href="../../d3/d6/w98_2lh__core_2memlink_8h.html#a8">MyAdd_NL_ColorantTag</a>((<a class="code" href="../../d9/d6/structicXYZType.html">icXYZType</a> *)((<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>)aProf+currentSize), &amp;D50);
00124         currentSize += theMediaSize;
00125         currentSize = ( currentSize + 3 ) &amp; ~ 3;
00126 
00127         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o0">sig</a> ), <a class="code" href="../../d7/d4/aug98_2dll32_2icc_8h.html#a29">icSigCopyrightTag</a>);
00128         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o1">offset</a> ), currentSize );
00129         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o2">size</a> ), theCopyRightSize);
00130         aProf-&gt;<a class="code" href="../../d6/d3/structicProfile.html#o3">tagList</a>.<a class="code" href="../../d7/d4/structicTagList.html#o1">tags</a>[2] = aTag;
00131         err = <a class="code" href="../../d3/d6/w98_2lh__core_2memlink_8h.html#a10">MyAdd_NL_CopyrightTag</a>( (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)copyrightText, (CMTextType *)((<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>)aProf+currentSize));
00132         <span class="keywordflow">if</span> (err)
00133                 <span class="keywordflow">goto</span> CleanupAndExit;
00134         currentSize += theCopyRightSize;
00135         currentSize = ( currentSize + 3 ) &amp; ~ 3;
00136                 
00137         err = <a class="code" href="../../d3/d6/w98_2lh__core_2memlink_8h.html#a11">MyAdd_NL_SequenceDescTag</a>( profileSet, (<a class="code" href="../../d8/d3/structicProfileSequenceDescType.html">icProfileSequenceDescType</a> *)((<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>)aProf+currentSize), &amp;theSequenceDescSize );
00138         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o0">sig</a> ), <a class="code" href="../../d7/d4/aug98_2dll32_2icc_8h.html#a45">icSigProfileSequenceDescTag</a>);
00139         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o1">offset</a> ), currentSize );
00140         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o2">size</a> ), theSequenceDescSize);
00141         aProf-&gt;<a class="code" href="../../d6/d3/structicProfile.html#o3">tagList</a>.<a class="code" href="../../d7/d4/structicTagList.html#o1">tags</a>[3] = aTag;
00142         currentSize += theSequenceDescSize;
00143         currentSize = ( currentSize + 3 ) &amp; ~ 3;
00144 
00145     theA2B0Size = <a class="code" href="../../d0/d7/w98_2mscmm_2memprof_8h.html#a7">GetSizes</a>( (<a class="code" href="../../d3/d7/lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>)cw, &amp;clutSize );
00146 
00147         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o0">sig</a> ), <a class="code" href="../../d7/d4/aug98_2dll32_2icc_8h.html#a17">icSigAToB0Tag</a>);
00148         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o1">offset</a> ), currentSize );
00149         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>(&amp;(aTag.<a class="code" href="../../d5/d4/structicTag.html#o2">size</a> ), theA2B0Size);
00150         aProf-&gt;<a class="code" href="../../d6/d3/structicProfile.html#o3">tagList</a>.<a class="code" href="../../d7/d4/structicTagList.html#o1">tags</a>[4] = aTag;
00151 
00152         <span class="comment">/* aPtr =  SmartNewPtr( theA2B0Size+currentSize, &amp;aOSerr );</span>
00153 <span class="comment">        err = aOSerr;</span>
00154 <span class="comment">        if( err ){</span>
00155 <span class="comment">                goto CleanupAndExit;</span>
00156 <span class="comment">        }*/</span>
00157         aPtr = GlobalAllocPtr( GHND, theA2B0Size+currentSize );
00158 
00159         <span class="keywordflow">if</span>( aPtr == 0 ){
00160                 err = GetLastError();
00161                 <span class="keywordflow">goto</span> CleanupAndExit;
00162         }
00163 
00164         <span class="keywordflow">if</span> ( ((<a class="code" href="../../d3/d7/lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>)cw)-&gt;lutParam.colorLutWordSize == 8 )
00165         err = <a class="code" href="../../d3/d6/w98_2lh__core_2memlink_8h.html#a12">MyAdd_NL_AToB0Tag_mft1</a>( (<a class="code" href="../../d3/d7/lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>)cw, (<a class="code" href="../../d9/d2/structicLut8Type.html">icLut8Type</a> *)(aPtr+currentSize), clutSize );
00166     <span class="keywordflow">else</span>
00167         err = <a class="code" href="../../d3/d6/w98_2lh__core_2memlink_8h.html#a13">MyAdd_NL_AToB0Tag_mft2</a>( (<a class="code" href="../../d3/d7/lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>)cw, (<a class="code" href="../../d7/d2/structicLut16Type.html">icLut16Type</a> *)(aPtr+currentSize), clutSize );
00168 
00169         <span class="keywordflow">if</span> (err)
00170                 <span class="keywordflow">goto</span> CleanupAndExit;
00171 
00172         <a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a10">BlockMove</a>( (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>)aProf, aPtr, currentSize );
00173         aProf = (<a class="code" href="../../d6/d3/structicProfile.html">icProfile</a> *)<a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a4">DisposeIfPtr</a>( (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>)aProf );
00174 
00175         <a class="code" href="../../d0/d6/lh__core_2memlink_8c.html#a1">CMHelperICC2int32Const</a>( aPtr, theA2B0Size+currentSize );
00176 
00177         *theProf = (<a class="code" href="../../d6/d3/structicProfile.html">icProfile</a> *)aPtr;
00178 <span class="preprocessor">#ifdef WRITE_PROFILE</span>
00179 <span class="preprocessor"></span>        <a class="code" href="../../d9/d6/w98_2mscmm_2icm32_8c.html#a26">WriteProf</a>( <span class="stringliteral">"DeviceLinkFill.pf"</span>, (<a class="code" href="../../d6/d3/structicProfile.html">icProfile</a> *)aPtr, theA2B0Size+currentSize );
00180 <span class="preprocessor">#endif</span>
00181 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
00182         
00183 CleanupAndExit:
00184         *theProf = (<a class="code" href="../../d6/d3/structicProfile.html">icProfile</a> *)<a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a4">DisposeIfPtr</a>( (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>)aProf );
00185         <span class="keywordflow">if</span>( aPtr )GlobalFreePtr( aPtr );
00186         <span class="keywordflow">return</span> err;
00187 }
00188 
00189 
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:40:43 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
