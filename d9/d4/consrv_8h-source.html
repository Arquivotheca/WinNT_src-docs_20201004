<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: consrv.h Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>consrv.h</h1><a href="../../d8/d5/consrv_8h.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">/*++</span>
00002 <span class="comment"></span>
00003 <span class="comment">Copyright (c) 1985 - 1999, Microsoft Corporation</span>
00004 <span class="comment"></span>
00005 <span class="comment">Module Name:</span>
00006 <span class="comment"></span>
00007 <span class="comment">    consrv.h</span>
00008 <span class="comment"></span>
00009 <span class="comment">Abstract:</span>
00010 <span class="comment"></span>
00011 <span class="comment">    This module contains the include files and definitions for the</span>
00012 <span class="comment">    console server DLL.</span>
00013 <span class="comment"></span>
00014 <span class="comment">Author:</span>
00015 <span class="comment"></span>
00016 <span class="comment">    Therese Stowell (thereses) 16-Nov-1990</span>
00017 <span class="comment"></span>
00018 <span class="comment">Revision History:</span>
00019 <span class="comment"></span>
00020 <span class="comment">--*/</span>
00021 
00022 <span class="preprocessor">#if DBG &amp;&amp; defined(DEBUG_PRINT)</span>
00023 <span class="preprocessor"></span><span class="preprocessor">  #define _DBGFONTS   0x00000001</span>
00024 <span class="preprocessor"></span><span class="preprocessor">  #define _DBGFONTS2  0x00000002</span>
00025 <span class="preprocessor"></span><span class="preprocessor">  #define _DBGCHARS   0x00000004</span>
00026 <span class="preprocessor"></span><span class="preprocessor">  #define _DBGOUTPUT  0x00000008</span>
00027 <span class="preprocessor"></span><span class="preprocessor">  #define _DBGFULLSCR 0x00000008</span>
00028 <span class="preprocessor"></span><span class="preprocessor">  #define _DBGALL     0xFFFFFFFF</span>
00029 <span class="preprocessor"></span>  <span class="keyword">extern</span> ULONG gDebugFlag;
00030 
00031 <span class="preprocessor">  #define DBGFONTS(_params_)   {if (gDebugFlag &amp; _DBGFONTS)  DbgPrint _params_ ; }</span>
00032 <span class="preprocessor"></span><span class="preprocessor">  #define DBGFONTS2(_params_)  {if (gDebugFlag &amp; _DBGFONTS2) DbgPrint _params_ ; }</span>
00033 <span class="preprocessor"></span><span class="preprocessor">  #define DBGCHARS(_params_)   {if (gDebugFlag &amp; _DBGCHARS)  DbgPrint _params_ ; }</span>
00034 <span class="preprocessor"></span><span class="preprocessor">  #define DBGOUTPUT(_params_)  {if (gDebugFlag &amp; _DBGOUTPUT) DbgPrint _params_ ; }</span>
00035 <span class="preprocessor"></span><span class="preprocessor">  #define DBGFULLSCR(_params_) {if (gDebugFlag &amp; _DBGFULLSCR)DbgPrint _params_ ; }</span>
00036 <span class="preprocessor"></span><span class="preprocessor">  #define DBGPRINT(_params_)  DbgPrint _params_</span>
00037 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00038"></a><a class="code" href="../../d8/d5/consrv_8h.html#a0">00038</a> <span class="preprocessor"></span><span class="preprocessor">  #define DBGFONTS(_params_)</span>
<a name="l00039"></a><a class="code" href="../../d8/d5/consrv_8h.html#a1">00039</a> <span class="preprocessor"></span><span class="preprocessor">  #define DBGFONTS2(_params_)</span>
<a name="l00040"></a><a class="code" href="../../d8/d5/consrv_8h.html#a2">00040</a> <span class="preprocessor"></span><span class="preprocessor">  #define DBGCHARS(_params_)</span>
<a name="l00041"></a><a class="code" href="../../d8/d5/consrv_8h.html#a3">00041</a> <span class="preprocessor"></span><span class="preprocessor">  #define DBGOUTPUT(_params_)</span>
<a name="l00042"></a><a class="code" href="../../d8/d5/consrv_8h.html#a4">00042</a> <span class="preprocessor"></span><span class="preprocessor">  #define DBGFULLSCR(_params_)</span>
<a name="l00043"></a><a class="code" href="../../d8/d5/consrv_8h.html#a5">00043</a> <span class="preprocessor"></span><span class="preprocessor">  #define DBGPRINT(_params_)</span>
00044 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00045 <span class="preprocessor"></span>
00046 <span class="preprocessor">#ifdef LATER</span>
00047 <span class="preprocessor"></span><span class="preprocessor">#if DBG</span>
00048 <span class="preprocessor"></span><span class="preprocessor">#undef  RIP_COMPONENT</span>
00049 <span class="preprocessor"></span><span class="preprocessor">#define RIP_COMPONENT RIP_CONSRV</span>
00050 <span class="preprocessor"></span><span class="preprocessor">#undef  ASSERT</span>
00051 <span class="preprocessor"></span><span class="preprocessor">#define ASSERT(exp) UserAssert(exp)</span>
00052 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00053 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00054 <span class="preprocessor"></span>
<a name="l00055"></a><a class="code" href="../../d8/d5/consrv_8h.html#a6">00055</a> <span class="preprocessor">#define CONSOLE_MAX_FONT_NAME_LENGTH 256</span>
00056 <span class="preprocessor"></span>
<a name="l00057"></a><a class="code" href="../../d8/d5/consrv_8h.html#a7">00057</a> <span class="preprocessor">#define DATA_CHUNK_SIZE 8192</span>
00058 <span class="preprocessor"></span>
00059 
<a name="l00060"></a><a class="code" href="../../d8/d5/consrv_8h.html#a8">00060</a> <span class="preprocessor">#define MAKE_TAG( t ) (RTL_HEAP_MAKE_TAG( dwConBaseTag, t ))</span>
00061 <span class="preprocessor"></span>
<a name="l00062"></a><a class="code" href="../../d8/d5/consrv_8h.html#a9">00062</a> <span class="preprocessor">#define TMP_TAG 0</span>
<a name="l00063"></a><a class="code" href="../../d8/d5/consrv_8h.html#a10">00063</a> <span class="preprocessor"></span><span class="preprocessor">#define BMP_TAG 1</span>
<a name="l00064"></a><a class="code" href="../../d8/d5/consrv_8h.html#a11">00064</a> <span class="preprocessor"></span><span class="preprocessor">#define ALIAS_TAG 2</span>
<a name="l00065"></a><a class="code" href="../../d8/d5/consrv_8h.html#a12">00065</a> <span class="preprocessor"></span><span class="preprocessor">#define HISTORY_TAG 3</span>
<a name="l00066"></a><a class="code" href="../../d8/d5/consrv_8h.html#a13">00066</a> <span class="preprocessor"></span><span class="preprocessor">#define TITLE_TAG 4</span>
<a name="l00067"></a><a class="code" href="../../d8/d5/consrv_8h.html#a14">00067</a> <span class="preprocessor"></span><span class="preprocessor">#define HANDLE_TAG 5</span>
<a name="l00068"></a><a class="code" href="../../d8/d5/consrv_8h.html#a15">00068</a> <span class="preprocessor"></span><span class="preprocessor">#define CONSOLE_TAG 6</span>
<a name="l00069"></a><a class="code" href="../../d8/d5/consrv_8h.html#a16">00069</a> <span class="preprocessor"></span><span class="preprocessor">#define ICON_TAG 7</span>
<a name="l00070"></a><a class="code" href="../../d8/d5/consrv_8h.html#a17">00070</a> <span class="preprocessor"></span><span class="preprocessor">#define BUFFER_TAG 8</span>
<a name="l00071"></a><a class="code" href="../../d8/d5/consrv_8h.html#a18">00071</a> <span class="preprocessor"></span><span class="preprocessor">#define WAIT_TAG 9</span>
<a name="l00072"></a><a class="code" href="../../d8/d5/consrv_8h.html#a19">00072</a> <span class="preprocessor"></span><span class="preprocessor">#define FONT_TAG 10</span>
<a name="l00073"></a><a class="code" href="../../d8/d5/consrv_8h.html#a20">00073</a> <span class="preprocessor"></span><span class="preprocessor">#define SCREEN_TAG 11</span>
00074 <span class="preprocessor"></span><span class="preprocessor">#if defined(FE_SB)</span>
00075 <span class="preprocessor"></span><span class="preprocessor">#define TMP_DBCS_TAG 12</span>
00076 <span class="preprocessor"></span><span class="preprocessor">#define SCREEN_DBCS_TAG 13</span>
00077 <span class="preprocessor"></span><span class="preprocessor">#define EUDC_TAG 14</span>
00078 <span class="preprocessor"></span><span class="preprocessor">#define CONVAREA_TAG 15</span>
00079 <span class="preprocessor"></span><span class="preprocessor">#define IME_TAG 16</span>
00080 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00081 <span class="preprocessor"></span>
00082 
<a name="l00083"></a><a class="code" href="../../d8/d5/consrv_8h.html#a21">00083</a> <span class="preprocessor">#define GetWindowConsole(hWnd)          (PCONSOLE_INFORMATION)GetWindowLongPtr((hWnd), GWLP_USERDATA)</span>
00084 <span class="preprocessor"></span>
00085 <span class="comment">/*</span>
00086 <span class="comment"> * Used to store some console attributes for the console.  This is a means</span>
00087 <span class="comment"> * to cache the color in the extra-window-bytes, so USER/KERNEL can get</span>
00088 <span class="comment"> * at it for hungapp drawing.  The window-offsets are defined in NTUSER\INC.</span>
00089 <span class="comment"> *</span>
00090 <span class="comment"> * The other macros are just convenient means for setting the other window</span>
00091 <span class="comment"> * bytes.</span>
00092 <span class="comment"> */</span>
<a name="l00093"></a><a class="code" href="../../d8/d5/consrv_8h.html#a22">00093</a> <span class="preprocessor">#define SetConsoleBkColor(hw,clr) SetWindowLong(hw, GWL_CONSOLE_BKCOLOR, clr)</span>
<a name="l00094"></a><a class="code" href="../../d8/d5/consrv_8h.html#a23">00094</a> <span class="preprocessor"></span><span class="preprocessor">#define SetConsolePid(hw,pid)     SetWindowLong(hw, GWL_CONSOLE_PID, pid)</span>
<a name="l00095"></a><a class="code" href="../../d8/d5/consrv_8h.html#a24">00095</a> <span class="preprocessor"></span><span class="preprocessor">#define SetConsoleTid(hw,tid)     SetWindowLong(hw, GWL_CONSOLE_TID, tid)</span>
00096 <span class="preprocessor"></span>
00097 
00098 <span class="comment">/*</span>
00099 <span class="comment"> * helpful macros</span>
00100 <span class="comment"> */</span>
<a name="l00101"></a><a class="code" href="../../d8/d5/consrv_8h.html#a25">00101</a> <span class="preprocessor">#define NELEM(array) (sizeof(array)/sizeof(array[0]))</span>
00102 <span class="preprocessor"></span>
00103 <span class="comment">// Text Information from PSCREEN_INFORMATION</span>
<a name="l00104"></a><a class="code" href="../../d8/d5/consrv_8h.html#a63">00104</a> __inline <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> <a class="code" href="../../d8/d5/consrv_8h.html#a63">SCR_FAMILY</a>(<a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> pScreen) {
00105     <span class="keywordflow">return</span> pScreen-&gt;<a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o22">BufferInfo</a>.TextInfo.CurrentTextBufferFont.Family;
00106 }
00107 
<a name="l00108"></a><a class="code" href="../../d8/d5/consrv_8h.html#a64">00108</a> __inline <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d8/d5/consrv_8h.html#a64">SCR_FONTNUMBER</a>(<a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> pScreen) {
00109     <span class="keywordflow">return</span> pScreen-&gt;<a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o22">BufferInfo</a>.TextInfo.CurrentTextBufferFont.FontNumber;
00110 }
00111 
<a name="l00112"></a><a class="code" href="../../d8/d5/consrv_8h.html#a65">00112</a> __inline LPWSTR <a class="code" href="../../d8/d5/consrv_8h.html#a65">SCR_FACENAME</a>(<a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> pScreen) {
00113     <span class="keywordflow">return</span> pScreen-&gt;<a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o22">BufferInfo</a>.TextInfo.CurrentTextBufferFont.FaceName;
00114 }
00115 
<a name="l00116"></a><a class="code" href="../../d8/d5/consrv_8h.html#a66">00116</a> __inline COORD <a class="code" href="../../d8/d5/consrv_8h.html#a66">SCR_FONTSIZE</a>(<a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> pScreen) {
00117     <span class="keywordflow">return</span> pScreen-&gt;<a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o22">BufferInfo</a>.TextInfo.CurrentTextBufferFont.FontSize;
00118 }
00119 
<a name="l00120"></a><a class="code" href="../../d8/d5/consrv_8h.html#a67">00120</a> __inline LONG <a class="code" href="../../d8/d5/consrv_8h.html#a67">SCR_FONTWEIGHT</a>(<a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> pScreen) {
00121     <span class="keywordflow">return</span> pScreen-&gt;<a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o22">BufferInfo</a>.TextInfo.CurrentTextBufferFont.Weight;
00122 }
00123 
<a name="l00124"></a><a class="code" href="../../d8/d5/consrv_8h.html#a68">00124</a> __inline <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> <a class="code" href="../../d8/d5/consrv_8h.html#a68">SCR_FONTCODEPAGE</a>(<a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> pScreen) {
00125     <span class="keywordflow">return</span> pScreen-&gt;<a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o22">BufferInfo</a>.TextInfo.CurrentTextBufferFont.FontCodePage;
00126 }
00127 
00128 
00129 <span class="comment">// Text Information from PCONSOLE_INFORMATION</span>
<a name="l00130"></a><a class="code" href="../../d8/d5/consrv_8h.html#a26">00130</a> <span class="preprocessor">#define CON_FAMILY(pCon)       SCR_FAMILY((pCon)-&gt;CurrentScreenBuffer)</span>
<a name="l00131"></a><a class="code" href="../../d8/d5/consrv_8h.html#a27">00131</a> <span class="preprocessor"></span><span class="preprocessor">#define CON_FONTNUMBER(pCon)   SCR_FONTNUMBER((pCon)-&gt;CurrentScreenBuffer)</span>
<a name="l00132"></a><a class="code" href="../../d8/d5/consrv_8h.html#a28">00132</a> <span class="preprocessor"></span><span class="preprocessor">#define CON_FACENAME(pCon)     SCR_FACENAME((pCon)-&gt;CurrentScreenBuffer)</span>
<a name="l00133"></a><a class="code" href="../../d8/d5/consrv_8h.html#a29">00133</a> <span class="preprocessor"></span><span class="preprocessor">#define CON_FONTSIZE(pCon)     SCR_FONTSIZE((pCon)-&gt;CurrentScreenBuffer)</span>
<a name="l00134"></a><a class="code" href="../../d8/d5/consrv_8h.html#a30">00134</a> <span class="preprocessor"></span><span class="preprocessor">#define CON_FONTWEIGHT(pCon)   SCR_FONTWEIGHT((pCon)-&gt;CurrentScreenBuffer)</span>
<a name="l00135"></a><a class="code" href="../../d8/d5/consrv_8h.html#a31">00135</a> <span class="preprocessor"></span><span class="preprocessor">#define CON_FONTCODEPAGE(pCon) SCR_FONTCODEPAGE((pCon)-&gt;CurrentScreenBuffer)</span>
00136 <span class="preprocessor"></span>
00137 <span class="preprocessor">#if defined(FE_SB)</span>
00138 <span class="preprocessor"></span>
00139 <span class="keyword">extern</span> BOOLEAN    gfIsDBCSACP;      <span class="comment">// TRUE if System ACP is associated with DBCS font</span>
00140 
00141 <span class="preprocessor">#define CONSOLE_IS_DBCS_ENABLED()   (gfIsDBCSACP)</span>
00142 <span class="preprocessor"></span><span class="preprocessor">#define CONSOLE_IS_IME_ENABLED()    (gfIsDBCSACP)</span>
00143 <span class="preprocessor"></span>
00144 <span class="preprocessor">#define CONSOLE_IS_DBCS_OUTPUTCP(Console)   ((Console)-&gt;fIsDBCSOutputCP)</span>
00145 <span class="preprocessor"></span><span class="preprocessor">#define CONSOLE_IS_DBCS_CP(Console)         ((Console)-&gt;fIsDBCSCP)</span>
00146 <span class="preprocessor"></span>
00147 <span class="preprocessor">#else   // FE_SB</span>
00148 <span class="preprocessor"></span>
<a name="l00149"></a><a class="code" href="../../d8/d5/consrv_8h.html#a32">00149</a> <span class="preprocessor">#define CONSOLE_IS_DBCS_ENABLED()   (FALSE)</span>
<a name="l00150"></a><a class="code" href="../../d8/d5/consrv_8h.html#a33">00150</a> <span class="preprocessor"></span><span class="preprocessor">#define CONSOLE_IS_IME_ENABLED()    (FALSE)</span>
00151 <span class="preprocessor"></span>
00152 <span class="preprocessor">#endif  // FE_SB</span>
00153 <span class="preprocessor"></span>
00154 <span class="preprocessor">#ifdef UNICODE</span>
00155 <span class="preprocessor"></span><span class="preprocessor">#define LoadStringEx    LoadStringExW</span>
00156 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00157"></a><a class="code" href="../../d8/d5/consrv_8h.html#a34">00157</a> <span class="preprocessor"></span><span class="preprocessor">#define LoadStringEx    LoadStringExA</span>
00158 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00159 <span class="preprocessor"></span>
00160 <span class="comment">//</span>
00161 <span class="comment">//  Cache the heap pointer for use by memory routines.</span>
00162 <span class="comment">//</span>
00163 
<a name="l00164"></a><a class="code" href="../../d8/d5/consrv_8h.html#a59">00164</a> <span class="keyword">extern</span> PWIN32HEAP <a class="code" href="../../d8/d5/consrv_8h.html#a59">pConHeap</a>;
<a name="l00165"></a><a class="code" href="../../d8/d5/consrv_8h.html#a60">00165</a> <span class="keyword">extern</span> <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      <a class="code" href="../../d8/d5/consrv_8h.html#a60">dwConBaseTag</a>;
00166 
00167 <span class="comment">//</span>
00168 <span class="comment">// Make sure the console heap is still valid.</span>
00169 <span class="comment">//</span>
00170 
<a name="l00171"></a><a class="code" href="../../d8/d5/consrv_8h.html#a35">00171</a> <span class="preprocessor">#define ValidateConsoleHeap()               \</span>
00172 <span class="preprocessor">    if (NtCurrentPeb()-&gt;BeingDebugged) {    \</span>
00173 <span class="preprocessor">        RtlValidateHeap(Win32HeapGetHandle(pConHeap), 0, NULL); \</span>
00174 <span class="preprocessor">    }</span>
00175 <span class="preprocessor"></span>
00176 <span class="comment">//</span>
00177 <span class="comment">// Wrappers for console heap code.</span>
00178 <span class="comment">//</span>
00179 
<a name="l00180"></a><a class="code" href="../../d8/d5/consrv_8h.html#a36">00180</a> <span class="preprocessor">#define ConsoleHeapAlloc(Flags, Size)                   \</span>
00181 <span class="preprocessor">    Win32HeapAlloc(pConHeap, Size, Flags, Flags)</span>
00182 <span class="preprocessor"></span>
<a name="l00183"></a><a class="code" href="../../d8/d5/consrv_8h.html#a37">00183</a> <span class="preprocessor">#define ConsoleHeapReAlloc(Flags, Address, Size)        \</span>
00184 <span class="preprocessor">    Win32HeapReAlloc(pConHeap, Address, Size, Flags)</span>
00185 <span class="preprocessor"></span>
00186 <span class="preprocessor">#if DBG</span>
00187 <span class="preprocessor"></span><span class="preprocessor">#define ConsoleHeapFree(Address)                        \</span>
00188 <span class="preprocessor">{                                                       \</span>
00189 <span class="preprocessor">    Win32HeapFree(pConHeap, Address);                   \</span>
00190 <span class="preprocessor">    Address = (PVOID)0xBAADF00D;                        \</span>
00191 <span class="preprocessor">}</span>
00192 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00193"></a><a class="code" href="../../d8/d5/consrv_8h.html#a38">00193</a> <span class="preprocessor"></span><span class="preprocessor">#define ConsoleHeapFree(Address)                        \</span>
00194 <span class="preprocessor">{                                                       \</span>
00195 <span class="preprocessor">    Win32HeapFree(pConHeap, Address);                   \</span>
00196 <span class="preprocessor">}</span>
00197 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00198 <span class="preprocessor"></span>
<a name="l00199"></a><a class="code" href="../../d8/d5/consrv_8h.html#a39">00199</a> <span class="preprocessor">#define ConsoleHeapSize(Address)                        \</span>
00200 <span class="preprocessor">    Win32HeapSize(pConHeap, Address)</span>
00201 <span class="preprocessor"></span>
00202 <span class="comment">//</span>
00203 <span class="comment">//  handle.c</span>
00204 <span class="comment">//</span>
00205 
00206 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00207 <a class="code" href="../../d2/d8/w32_2ntcon_2server_2handle_8c.html#a18">ConsoleAddProcessRoutine</a>(
00208     IN PCSR_PROCESS ParentProcess,
00209     IN PCSR_PROCESS Process
00210     );
00211 
00212 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00213 <a class="code" href="../../d2/d8/w32_2ntcon_2server_2handle_8c.html#a11">DereferenceConsoleHandle</a>(
00214     IN HANDLE ConsoleHandle,
00215     OUT <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> *Console
00216     );
00217 
00218 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00219 <a class="code" href="../../d2/d8/w32_2ntcon_2server_2handle_8c.html#a13">AllocateConsoleHandle</a>(
00220     OUT PHANDLE Handle
00221     );
00222 
00223 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00224 <a class="code" href="../../d2/d8/w32_2ntcon_2server_2handle_8c.html#a14">FreeConsoleHandle</a>(
00225     IN HANDLE Handle
00226     );
00227 
00228 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00229 <a class="code" href="../../d2/d8/w32_2ntcon_2server_2handle_8c.html#a15">ValidateConsole</a>(
00230     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
00231     );
00232 
00233 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00234 <a class="code" href="../../d2/d8/w32_2ntcon_2server_2handle_8c.html#a33">ApiPreamble</a>(
00235     IN HANDLE ConsoleHandle,
00236     OUT <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> *Console
00237     );
00238 
00239 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00240 <a class="code" href="../../d2/d8/w32_2ntcon_2server_2handle_8c.html#a34">RevalidateConsole</a>(
00241     IN HANDLE ConsoleHandle,
00242     OUT <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> *Console
00243     );
00244 
00245 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00246 <a class="code" href="../../d2/d8/w32_2ntcon_2server_2handle_8c.html#a10">InitializeConsoleHandleTable</a>( VOID );
00247 
00248 <span class="preprocessor">#ifdef DEBUG</span>
00249 <span class="preprocessor"></span>
00250 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d8/d5/consrv_8h.html#a40">LockConsoleHandleTable</a>(VOID);
00251 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d8/d5/consrv_8h.html#a41">UnlockConsoleHandleTable</a>(VOID);
00252 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d8/d5/consrv_8h.html#a42">LockConsole</a>(
00253     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
00254     );
00255 
00256 <span class="preprocessor">#else</span>
00257 <span class="preprocessor"></span>
<a name="l00258"></a><a class="code" href="../../d8/d5/consrv_8h.html#a40">00258</a> <span class="preprocessor">#define LockConsoleHandleTable()   RtlEnterCriticalSection(&amp;ConsoleHandleLock)</span>
<a name="l00259"></a><a class="code" href="../../d8/d5/consrv_8h.html#a41">00259</a> <span class="preprocessor"></span><span class="preprocessor">#define UnlockConsoleHandleTable() RtlLeaveCriticalSection(&amp;ConsoleHandleLock)</span>
<a name="l00260"></a><a class="code" href="../../d8/d5/consrv_8h.html#a42">00260</a> <span class="preprocessor"></span><span class="preprocessor">#define LockConsole(Con)           RtlEnterCriticalSection(&amp;(Con)-&gt;ConsoleLock)</span>
00261 <span class="preprocessor"></span>
00262 <span class="preprocessor">#endif</span>
00263 <span class="preprocessor"></span>
<a name="l00264"></a><a class="code" href="../../d8/d5/consrv_8h.html#a43">00264</a> <span class="preprocessor">#define ConvertAttrToRGB(Con, Attr) ((Con)-&gt;ColorTable[(Attr) &amp; 0x0F])</span>
00265 <span class="preprocessor"></span>
00266 
00267 BOOLEAN
00268 <a class="code" href="../../d8/d5/consrv_8h.html#a77">UnProtectHandle</a>(
00269     HANDLE hObject
00270     );
00271 
00272 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00273 <a class="code" href="../../d2/d8/w32_2ntcon_2server_2handle_8c.html#a19">AllocateConsole</a>(
00274     IN HANDLE ConsoleHandle,
00275     IN LPWSTR Title,
00276     IN USHORT TitleLength,
00277     IN HANDLE ClientProcessHandle,
00278     OUT PHANDLE StdIn,
00279     OUT PHANDLE StdOut,
00280     OUT PHANDLE StdErr,
00281     OUT <a class="code" href="../../d0/d4/struct__CONSOLE__PER__PROCESS__DATA.html">PCONSOLE_PER_PROCESS_DATA</a> ProcessData,
00282     IN OUT <a class="code" href="../../d0/d3/struct__CONSOLE__INFO.html">PCONSOLE_INFO</a> ConsoleInfo,
00283     IN BOOLEAN WindowVisible,
00284     IN DWORD ConsoleThreadId
00285     );
00286 
00287 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00288 <a class="code" href="../../d2/d8/w32_2ntcon_2server_2handle_8c.html#a20">DestroyConsole</a>(
00289     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
00290     );
00291 
00292 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00293 <a class="code" href="../../d2/d8/w32_2ntcon_2server_2handle_8c.html#a21">FreeCon</a>(
00294     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
00295     );
00296 
00297 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00298 <a class="code" href="../../d2/d8/w32_2ntcon_2server_2handle_8c.html#a22">InsertScreenBuffer</a>(
00299     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
00300     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo
00301     );
00302 
00303 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00304 <a class="code" href="../../d2/d8/w32_2ntcon_2server_2handle_8c.html#a23">RemoveScreenBuffer</a>(
00305     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
00306     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo
00307     );
00308 
00309 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00310 <a class="code" href="../../d2/d8/w32_2ntcon_2server_2handle_8c.html#a25">FreeProcessData</a>(
00311     IN <a class="code" href="../../d0/d4/struct__CONSOLE__PER__PROCESS__DATA.html">PCONSOLE_PER_PROCESS_DATA</a> ProcessData
00312     );
00313 
00314 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00315 <a class="code" href="../../d2/d8/w32_2ntcon_2server_2handle_8c.html#a28">AllocateIoHandle</a>(
00316     IN <a class="code" href="../../d0/d4/struct__CONSOLE__PER__PROCESS__DATA.html">PCONSOLE_PER_PROCESS_DATA</a> ProcessData,
00317     IN ULONG HandleType,
00318     OUT PHANDLE Handle
00319     );
00320 
00321 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00322 <a class="code" href="../../d2/d8/w32_2ntcon_2server_2handle_8c.html#a24">GrowIoHandleTable</a>(
00323     IN <a class="code" href="../../d0/d4/struct__CONSOLE__PER__PROCESS__DATA.html">PCONSOLE_PER_PROCESS_DATA</a> ProcessData
00324     );
00325 
00326 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00327 <a class="code" href="../../d2/d8/w32_2ntcon_2server_2handle_8c.html#a29">FreeIoHandle</a>(
00328     IN <a class="code" href="../../d0/d4/struct__CONSOLE__PER__PROCESS__DATA.html">PCONSOLE_PER_PROCESS_DATA</a> ProcessData,
00329     IN HANDLE Handle
00330     );
00331 
00332 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00333 <a class="code" href="../../d2/d8/w32_2ntcon_2server_2handle_8c.html#a30">DereferenceIoHandleNoCheck</a>(
00334     IN <a class="code" href="../../d0/d4/struct__CONSOLE__PER__PROCESS__DATA.html">PCONSOLE_PER_PROCESS_DATA</a> ProcessData,
00335     IN HANDLE Handle,
00336     OUT <a class="code" href="../../d4/d3/struct__HANDLE__DATA.html">PHANDLE_DATA</a> *HandleData
00337     );
00338 
00339 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00340 <a class="code" href="../../d2/d8/w32_2ntcon_2server_2handle_8c.html#a31">DereferenceIoHandle</a>(
00341     IN <a class="code" href="../../d0/d4/struct__CONSOLE__PER__PROCESS__DATA.html">PCONSOLE_PER_PROCESS_DATA</a> ProcessData,
00342     IN HANDLE Handle,
00343     IN ULONG HandleType,
00344     IN ACCESS_MASK Access,
00345     OUT <a class="code" href="../../d4/d3/struct__HANDLE__DATA.html">PHANDLE_DATA</a> *HandleData
00346     );
00347 
00348 BOOLEAN
00349 <a class="code" href="../../d2/d8/w32_2ntcon_2server_2handle_8c.html#a27">InitializeInputHandle</a>(
00350     <a class="code" href="../../d4/d3/struct__HANDLE__DATA.html">PHANDLE_DATA</a> HandleData,
00351     <a class="code" href="../../d7/d2/struct__INPUT__INFORMATION.html">PINPUT_INFORMATION</a> InputBuffer
00352     );
00353 
00354 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00355 <a class="code" href="../../d2/d8/w32_2ntcon_2server_2handle_8c.html#a26">InitializeOutputHandle</a>(
00356     <a class="code" href="../../d4/d3/struct__HANDLE__DATA.html">PHANDLE_DATA</a> HandleData,
00357     <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenBuffer
00358     );
00359 
00360 ULONG
00361 <a class="code" href="../../d2/d8/w32_2ntcon_2server_2handle_8c.html#a32">SrvVerifyConsoleIoHandle</a>(
00362     IN OUT PCSR_API_MSG m,
00363     IN OUT PCSR_REPLY_STATUS ReplyStatus
00364     );
00365 
00366 <span class="comment">//</span>
00367 <span class="comment">// share.c</span>
00368 <span class="comment">//</span>
00369 
00370 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00371 <a class="code" href="../../d7/d8/share_8c.html#a0">ConsoleAddShare</a>(
00372     IN ACCESS_MASK DesiredAccess,
00373     IN ULONG DesiredShareAccess,
00374     IN OUT <a class="code" href="../../d8/d6/struct__CONSOLE__SHARE__ACCESS.html">PCONSOLE_SHARE_ACCESS</a> ShareAccess,
00375     IN OUT <a class="code" href="../../d4/d3/struct__HANDLE__DATA.html">PHANDLE_DATA</a> HandleData
00376     );
00377 
00378 
00379 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00380 <a class="code" href="../../d7/d8/share_8c.html#a1">ConsoleDupShare</a>(
00381     IN ACCESS_MASK DesiredAccess,
00382     IN ULONG DesiredShareAccess,
00383     IN OUT <a class="code" href="../../d8/d6/struct__CONSOLE__SHARE__ACCESS.html">PCONSOLE_SHARE_ACCESS</a> ShareAccess,
00384     IN OUT <a class="code" href="../../d4/d3/struct__HANDLE__DATA.html">PHANDLE_DATA</a> TargetHandleData
00385     );
00386 
00387 
00388 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00389 <a class="code" href="../../d7/d8/share_8c.html#a2">ConsoleRemoveShare</a>(
00390     IN ULONG DesiredAccess,
00391     IN ULONG DesiredShareAccess,
00392     IN OUT <a class="code" href="../../d8/d6/struct__CONSOLE__SHARE__ACCESS.html">PCONSOLE_SHARE_ACCESS</a> ShareAccess
00393     );
00394 
00395 <span class="comment">//</span>
00396 <span class="comment">// find.c</span>
00397 <span class="comment">//</span>
00398 
00399 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00400 <a class="code" href="../../d0/d4/find_8c.html#a3">DoFind</a>(
00401    IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
00402    );
00403 
00404 <span class="comment">//</span>
00405 <span class="comment">// output.c</span>
00406 <span class="comment">//</span>
00407 
00408 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00409 <a class="code" href="../../d6/d2/output_8c.html#a61">ScrollScreen</a>(
00410     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
00411     IN PSMALL_RECT ScrollRect,
00412     IN PSMALL_RECT MergeRect,
00413     IN COORD TargetPoint
00414     );
00415 
00416 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00417 <a class="code" href="../../d6/d2/output_8c.html#a73">SetProcessForegroundRights</a>(
00418     IN PCSR_PROCESS Process,
00419     IN BOOL Foreground
00420     );
00421 
00422 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00423 <a class="code" href="../../d6/d2/output_8c.html#a72">SetProcessFocus</a>(
00424     IN PCSR_PROCESS Process,
00425     IN BOOL Foreground
00426     );
00427 
00428 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00429 <a class="code" href="../../d6/d2/output_8c.html#a74">ModifyConsoleProcessFocus</a>(
00430     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
00431     IN BOOL Foreground
00432     );
00433 
00434 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00435 <a class="code" href="../../d6/d2/output_8c.html#a38">InitializeSystemMetrics</a>( VOID );
00436 
00437 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00438 <a class="code" href="../../d6/d2/output_8c.html#a40">InitializeScreenInfo</a>( VOID );
00439 
00440 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00441 <a class="code" href="../../d6/d2/output_8c.html#a52">ReadScreenBuffer</a>(
00442     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInformation,
00443     OUT PCHAR_INFO Buffer,
00444     IN OUT PSMALL_RECT ReadRegion
00445     );
00446 
00447 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00448 <a class="code" href="../../d6/d2/output_8c.html#a53">WriteScreenBuffer</a>(
00449     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInformation,
00450     OUT PCHAR_INFO Buffer,
00451     IN OUT PSMALL_RECT WriteRegion
00452     );
00453 
00454 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00455 <a class="code" href="../../d6/d2/output_8c.html#a41">DoCreateScreenBuffer</a>(
00456     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
00457     IN <a class="code" href="../../d0/d3/struct__CONSOLE__INFO.html">PCONSOLE_INFO</a> ConsoleInfo
00458     );
00459 
00460 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00461 <a class="code" href="../../d6/d2/output_8c.html#a42">CreateScreenBuffer</a>(
00462     OUT <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> *ScreenInformation,
00463     IN COORD dwWindowSize OPTIONAL,
00464     IN DWORD nFont OPTIONAL,
00465     IN COORD dwScreenBufferSize OPTIONAL,
00466     IN CHAR_INFO Fill,
00467     IN CHAR_INFO PopupFill,
00468     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
00469     IN DWORD Flags,
00470     IN PCONSOLE_GRAPHICS_BUFFER_INFO GraphicsBufferInfo OPTIONAL,
00471     OUT PVOID *lpBitmap,
00472     OUT HANDLE *hMutex,
00473     IN UINT CursorSize,
00474     IN LPWSTR FaceName
00475     );
00476 
00477 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00478 <a class="code" href="../../d6/d2/output_8c.html#a79">AbortCreateConsole</a>(
00479     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
00480     );
00481 
00482 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00483 <a class="code" href="../../d6/d2/output_8c.html#a45">CreateWindowsWindow</a>(
00484     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
00485     );
00486 
00487 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00488 <a class="code" href="../../d6/d2/output_8c.html#a80">DestroyWindowsWindow</a>(
00489     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
00490     );
00491 
00492 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00493 <a class="code" href="../../d6/d2/output_8c.html#a46">FreeScreenBuffer</a>(
00494     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInformation
00495     );
00496 
00497 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00498 <a class="code" href="../../d6/d2/output_8c.html#a54">ReadOutputString</a>(
00499     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
00500     OUT PVOID Buffer,
00501     IN COORD ReadCoord,
00502     IN ULONG StringType,
00503     IN OUT PULONG NumRecords <span class="comment">// this value is valid even for error cases</span>
00504     );
00505 
00506 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00507 <a class="code" href="../../d6/d2/output_8c.html#a59">InitializeScrollBuffer</a>( VOID );
00508 
00509 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00510 <a class="code" href="../../d6/d2/output_8c.html#a55">GetScreenBufferInformation</a>(
00511     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
00512     OUT PCOORD Size,
00513     OUT PCOORD CursorPosition,
00514     OUT PCOORD ScrollPosition,
00515     OUT PWORD  Attributes,
00516     OUT PCOORD CurrentWindowSize,
00517     OUT PCOORD MaximumWindowSize
00518     );
00519 
00520 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00521 <a class="code" href="../../d6/d2/output_8c.html#a39">GetWindowLimits</a>(
00522     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
00523     OUT <a class="code" href="../../d0/d9/struct__WINDOW__LIMITS.html">PWINDOW_LIMITS</a> WindowLimits
00524     );
00525 
00526 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00527 <a class="code" href="../../d6/d2/output_8c.html#a67">ResizeWindow</a>(
00528     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
00529     IN PSMALL_RECT WindowDimensions,
00530     IN BOOL DoScrollBarUpdate
00531     );
00532 
00533 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00534 <a class="code" href="../../d6/d2/output_8c.html#a58">ResizeScreenBuffer</a>(
00535     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
00536     IN COORD NewScreenSize,
00537     IN BOOL DoScrollBarUpdate
00538     );
00539 
00540 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00541 <a class="code" href="../../d6/d2/output_8c.html#a65">ScrollRegion</a>(
00542     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
00543     IN PSMALL_RECT ScrollRectangle,
00544     IN PSMALL_RECT ClipRectangle OPTIONAL,
00545     IN COORD  DestinationOrigin,
00546     IN CHAR_INFO Fill
00547     );
00548 
00549 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00550 <a class="code" href="../../d6/d2/output_8c.html#a66">SetWindowOrigin</a>(
00551     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
00552     IN BOOLEAN Absolute,
00553     IN OUT COORD  WindowOrigin
00554     );
00555 
00556 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00557 <a class="code" href="../../d6/d2/output_8c.html#a68">SetWindowSize</a>(
00558     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo
00559     );
00560 
00561 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00562 <a class="code" href="../../d6/d2/output_8c.html#a71">SetActiveScreenBuffer</a>(
00563     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo
00564     );
00565 
00566 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00567 <a class="code" href="../../d6/d2/output_8c.html#a76">QueueConsoleMessage</a>(
00568     <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
00569     UINT Message,
00570     WPARAM wParam,
00571     LPARAM lParam
00572     );
00573 
00574 LRESULT <a class="code" href="../../d1/d1/bench_8c.html#a0">APIENTRY</a>
00575 <a class="code" href="../../d6/d2/output_8c.html#a83">ConsoleWindowProc</a>(
00576     HWND hWnd,
00577     UINT Message,
00578     WPARAM wParam,
00579     LPARAM lParam
00580     );
00581 
00582 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00583 <a class="code" href="../../d6/d2/output_8c.html#a81">VerticalScroll</a>(
00584     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
00585     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
00586     IN WORD ScrollCommand,
00587     IN WORD AbsoluteChange
00588     );
00589 
00590 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00591 <a class="code" href="../../d6/d2/output_8c.html#a82">HorizontalScroll</a>(
00592     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
00593     IN WORD ScrollCommand,
00594     IN WORD AbsoluteChange
00595     );
00596 
00597 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00598 <a class="code" href="../../d6/d2/output_8c.html#a64">StreamScrollRegion</a>(
00599     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo
00600     );
00601 
00602 <span class="preprocessor">#if defined(FE_SB)</span>
00603 <span class="preprocessor"></span><a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00604 <a class="code" href="../../d6/d2/output_8c.html#a47">FindAttrIndex</a>(
00605     IN <a class="code" href="../../d3/d2/struct__ATTR__PAIR.html">PATTR_PAIR</a> String,
00606     IN SHORT Index,
00607     OUT <a class="code" href="../../d3/d2/struct__ATTR__PAIR.html">PATTR_PAIR</a> *IndexedAttr,
00608     OUT PSHORT CountOfAttr
00609     );
00610 
00611 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00612 <a class="code" href="../../d6/d2/output_8c.html#a60">UpdateComplexRegion</a>(
00613     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
00614     IN COORD FontSize
00615     );
00616 
00617 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a13">SHORT</a>
00618 <a class="code" href="../../d6/d2/output_8c.html#a63">ScrollEntireScreen</a>(
00619     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
00620     IN SHORT ScrollValue,
00621     IN BOOL UpdateRowIndex
00622     );
00623 
00624 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00625 <a class="code" href="../../d6/d2/output_8c.html#a56">UpdateScrollBars</a>(
00626     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo
00627     );
00628 <span class="preprocessor">#endif</span>
00629 <span class="preprocessor"></span>
00630 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00631 <a class="code" href="../../d6/d2/output_8c.html#a50">ReadRectFromScreenBuffer</a>(
00632     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
00633     IN COORD SourcePoint,
00634     IN PCHAR_INFO Target,
00635     IN COORD TargetSize,
00636     IN PSMALL_RECT TargetRect
00637     );
00638 
00639 
00640 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00641 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a37">InitializeThreadMessages</a>(VOID);
00642 
00643 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00644 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a39">QueueThreadMessage</a>(
00645     DWORD dwThreadId,
00646     UINT Message,
00647     WPARAM wParam,
00648     LPARAM lParam
00649     );
00650 
00651 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
00652 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a40">UnqueueThreadMessage</a>(
00653     DWORD dwThreadId,
00654     UINT* pMessage,
00655     WPARAM* pwParam,
00656     LPARAM* plParam
00657     );
00658 
00659 
00660 <span class="comment">//</span>
00661 <span class="comment">// Drag/Drop on console windows (output.c)</span>
00662 <span class="comment">//</span>
00663 
00664 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> <a class="code" href="../../d6/d2/output_8c.html#a84">ConsoleDragQueryFile</a>(
00665     IN HANDLE hDrop,
00666     IN PVOID lpFile,
00667     IN UINT cb
00668     );
00669 
00670 
00671 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00672 <a class="code" href="../../d6/d2/output_8c.html#a85">DoDrop</a> (
00673     IN WPARAM wParam,
00674     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
00675     );
00676 
00677 
00678 <span class="comment">//</span>
00679 <span class="comment">// input.c</span>
00680 <span class="comment">//</span>
00681 
00682 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00683 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a15">ReadBuffer</a>(
00684     IN <a class="code" href="../../d7/d2/struct__INPUT__INFORMATION.html">PINPUT_INFORMATION</a> InputInformation,
00685     OUT PVOID Buffer,
00686     IN ULONG Length,
00687     OUT PULONG EventsRead,
00688     IN BOOL Peek,
00689     IN BOOL StreamRead,
00690     OUT PBOOL ResetWaitEvent,
00691     IN BOOLEAN Unicode
00692     );
00693 
00694 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00695 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a41">ConsoleInputThread</a>(
00696     IN <a class="code" href="../../d0/d3/struct__INPUT__THREAD__INIT__INFO.html">PINPUT_THREAD_INIT_INFO</a> pInputThreadInitInfo
00697     );
00698 
00699 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00700 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a31">StoreKeyInfo</a>(
00701     IN PMSG msg
00702     );
00703 
00704 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00705 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a32">RetrieveKeyInfo</a>(
00706     IN HWND hWnd,
00707     OUT PWORD pwVirtualKeyCode,
00708     OUT PWORD pwVirtualScanCode,
00709     IN BOOL FreeKeyInfo
00710     );
00711 
00712 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00713 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a33">ClearKeyInfo</a>(
00714     IN HWND hWnd
00715     );
00716 
00717 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00718 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a25">ReadInputBuffer</a>(
00719     IN <a class="code" href="../../d7/d2/struct__INPUT__INFORMATION.html">PINPUT_INFORMATION</a> InputInformation,
00720     OUT PINPUT_RECORD lpBuffer,
00721     IN OUT PDWORD nLength,
00722     IN BOOL Peek,
00723     IN BOOL WaitForData,
00724     IN BOOL StreamRead,
00725     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
00726     IN <a class="code" href="../../d4/d3/struct__HANDLE__DATA.html">PHANDLE_DATA</a> HandleData OPTIONAL,
00727     IN PCSR_API_MSG Message OPTIONAL,
00728     IN CSR_WAIT_ROUTINE WaitRoutine OPTIONAL,
00729     IN PVOID WaitParameter OPTIONAL,
00730     IN ULONG WaitParameterLength  OPTIONAL,
00731     IN BOOLEAN WaitBlockExists OPTIONAL
00732 #<span class="keywordflow">if</span> defined(FE_SB)
00733     ,
00734     IN BOOLEAN Unicode
00735 #endif
00736     );
00737 
00738 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>
00739 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a30">WriteInputBuffer</a>(
00740     <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
00741     <a class="code" href="../../d7/d2/struct__INPUT__INFORMATION.html">PINPUT_INFORMATION</a> InputBufferInformation,
00742     PINPUT_RECORD lpBuffer,
00743     DWORD nLength
00744     );
00745 
00746 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>
00747 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a29">PrependInputBuffer</a>(
00748     <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
00749     <a class="code" href="../../d7/d2/struct__INPUT__INFORMATION.html">PINPUT_INFORMATION</a> InputBufferInformation,
00750     PINPUT_RECORD lpBuffer,
00751     DWORD nLength
00752     );
00753 
00754 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00755 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a16">CreateInputBuffer</a>(
00756     IN ULONG NumberOfEvents OPTIONAL,
00757     IN <a class="code" href="../../d7/d2/struct__INPUT__INFORMATION.html">PINPUT_INFORMATION</a> InputBufferInformation
00758 #<span class="keywordflow">if</span> defined(FE_SB)
00759     ,
00760     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
00761 #endif
00762     );
00763 
00764 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00765 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a17">ReinitializeInputBuffer</a>(
00766     OUT <a class="code" href="../../d7/d2/struct__INPUT__INFORMATION.html">PINPUT_INFORMATION</a> InputBufferInformation
00767     );
00768 
00769 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00770 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a18">FreeInputBuffer</a>(
00771     IN <a class="code" href="../../d7/d2/struct__INPUT__INFORMATION.html">PINPUT_INFORMATION</a> InputBufferInformation
00772     );
00773 
00774 <span class="preprocessor">#if defined(FE_SB)</span>
00775 <span class="preprocessor"></span><a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00776 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a34">ProcessCreateConsoleWindow</a>(
00777     IN LPMSG lpMsg
00778     );
00779 
00780 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00781 <a class="code" href="../../d0/d7/server_2stream_8c.html#a14">WaitForMoreToRead</a>(
00782     IN <a class="code" href="../../d7/d2/struct__INPUT__INFORMATION.html">PINPUT_INFORMATION</a> InputInformation,
00783     IN PCSR_API_MSG Message OPTIONAL,
00784     IN CSR_WAIT_ROUTINE WaitRoutine OPTIONAL,
00785     IN PVOID WaitParameter OPTIONAL,
00786     IN ULONG WaitParameterLength  OPTIONAL,
00787     IN BOOLEAN WaitBlockExists OPTIONAL
00788     );
00789 
00790 ULONG
00791 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a42">GetControlKeyState</a>(
00792     LPARAM lParam
00793     );
00794 
00795 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00796 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a44">TerminateRead</a>(
00797     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
00798     IN <a class="code" href="../../d7/d2/struct__INPUT__INFORMATION.html">PINPUT_INFORMATION</a> InputInfo,
00799     IN DWORD Flag
00800     );
00801 <span class="preprocessor">#endif</span>
00802 <span class="preprocessor"></span>
00803 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00804 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a21">GetNumberOfReadyEvents</a>(
00805     IN <a class="code" href="../../d7/d2/struct__INPUT__INFORMATION.html">PINPUT_INFORMATION</a> InputInformation,
00806     OUT PULONG NumberOfEvents
00807     );
00808 
00809 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00810 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a23">FlushInputBuffer</a>(
00811     IN <a class="code" href="../../d7/d2/struct__INPUT__INFORMATION.html">PINPUT_INFORMATION</a> InputInformation
00812     );
00813 
00814 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00815 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a22">FlushAllButKeys</a>(
00816     <a class="code" href="../../d7/d2/struct__INPUT__INFORMATION.html">PINPUT_INFORMATION</a> InputInformation
00817     );
00818 
00819 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00820 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a24">SetInputBufferSize</a>(
00821     IN <a class="code" href="../../d7/d2/struct__INPUT__INFORMATION.html">PINPUT_INFORMATION</a> InputInformation,
00822     IN ULONG Size
00823     );
00824 
00825 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
00826 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a45">HandleSysKeyEvent</a>(
00827     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
00828     IN HWND hWnd,
00829     IN UINT Message,
00830     IN WPARAM wParam,
00831     IN LPARAM lParam
00832     );
00833 
00834 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00835 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a46">HandleKeyEvent</a>(
00836     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
00837     IN HWND hWnd,
00838     IN UINT Message,
00839     IN WPARAM wParam,
00840     IN LPARAM lParam
00841     );
00842 
00843 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
00844 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a47">HandleMouseEvent</a>(
00845     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
00846     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
00847     IN UINT Message,
00848     IN WPARAM wParam,
00849     IN LPARAM lParam
00850     );
00851 
00852 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00853 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a49">HandleMenuEvent</a>(
00854     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
00855     IN DWORD wParam
00856     );
00857 
00858 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00859 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a48">HandleFocusEvent</a>(
00860     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
00861     IN BOOL bSetFocus
00862     );
00863 
00864 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00865 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a50">HandleCtrlEvent</a>(
00866     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
00867     IN DWORD EventType
00868     );
00869 
<a name="l00870"></a><a class="code" href="../../d8/d5/consrv_8h.html#a44">00870</a> <span class="preprocessor">#define CONSOLE_SHUTDOWN_FAILED 0</span>
<a name="l00871"></a><a class="code" href="../../d8/d5/consrv_8h.html#a45">00871</a> <span class="preprocessor"></span><span class="preprocessor">#define CONSOLE_SHUTDOWN_SUCCEEDED 1</span>
<a name="l00872"></a><a class="code" href="../../d8/d5/consrv_8h.html#a46">00872</a> <span class="preprocessor"></span><span class="preprocessor">#define CONSOLE_SHUTDOWN_SYSTEM 2</span>
00873 <span class="preprocessor"></span>
00874 <span class="keywordtype">int</span>
00875 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a52">CreateCtrlThread</a>(
00876     IN <a class="code" href="../../d2/d4/struct__CONSOLE__PROCESS__TERMINATION__RECORD.html">PCONSOLE_PROCESS_TERMINATION_RECORD</a> ProcessHandleList,
00877     IN ULONG ProcessHandleListLength,
00878     IN PWCHAR Title,
00879     IN DWORD EventType,
00880     IN BOOL fForce
00881     );
00882 
00883 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00884 <a class="code" href="../../d3/d3/ntcon_2server_2input_8c.html#a54">UnlockConsole</a>(
00885     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
00886     );
00887 
00888 ULONG
00889 <a class="code" href="../../d8/d5/consrv_8h.html#a154">ShutdownConsole</a>(
00890     IN HANDLE ConsoleHandle,
00891     IN DWORD dwFlags
00892     );
00893 
00894 <span class="comment">//</span>
00895 <span class="comment">// link.c</span>
00896 <span class="comment">//</span>
00897 
<a name="l00898"></a><a class="code" href="../../d8/d5/consrv_8h.html#a47">00898</a> <span class="preprocessor">#define LINK_NOINFO      0</span>
<a name="l00899"></a><a class="code" href="../../d8/d5/consrv_8h.html#a48">00899</a> <span class="preprocessor"></span><span class="preprocessor">#define LINK_SIMPLEINFO  1</span>
<a name="l00900"></a><a class="code" href="../../d8/d5/consrv_8h.html#a49">00900</a> <span class="preprocessor"></span><span class="preprocessor">#define LINK_FULLINFO    2</span>
00901 <span class="preprocessor"></span>
00902 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>
00903 <a class="code" href="../../d3/d4/link_8c.html#a3">GetLinkProperties</a>(
00904     LPWSTR pszLinkName,
00905     LPVOID lpvBuffer,
00906     UINT cb
00907    );
00908 
00909 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>
00910 <a class="code" href="../../d3/d4/link_8c.html#a0">GetTitleFromLinkName</a>(
00911     IN  LPWSTR szLinkName,
00912     OUT LPWSTR szTitle
00913     );
00914 
00915 <span class="comment">//</span>
00916 <span class="comment">// misc.c</span>
00917 <span class="comment">//</span>
00918 
00919 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00920 <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a21">InitializeFonts</a>( VOID );
00921 
00922 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
00923 <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a44">InitializeCustomCP</a>( VOID );
00924 
<a name="l00925"></a><a class="code" href="../../d8/d5/consrv_8h.html#a50">00925</a> <span class="preprocessor">#define EF_NEW         0x0001 // a newly available face</span>
<a name="l00926"></a><a class="code" href="../../d8/d5/consrv_8h.html#a51">00926</a> <span class="preprocessor"></span><span class="preprocessor">#define EF_OLD         0x0002 // a previously available face</span>
<a name="l00927"></a><a class="code" href="../../d8/d5/consrv_8h.html#a52">00927</a> <span class="preprocessor"></span><span class="preprocessor">#define EF_ENUMERATED  0x0004 // all sizes have been enumerated</span>
<a name="l00928"></a><a class="code" href="../../d8/d5/consrv_8h.html#a53">00928</a> <span class="preprocessor"></span><span class="preprocessor">#define EF_OEMFONT     0x0008 // an OEM face</span>
<a name="l00929"></a><a class="code" href="../../d8/d5/consrv_8h.html#a54">00929</a> <span class="preprocessor"></span><span class="preprocessor">#define EF_TTFONT      0x0010 // a TT face</span>
<a name="l00930"></a><a class="code" href="../../d8/d5/consrv_8h.html#a55">00930</a> <span class="preprocessor"></span><span class="preprocessor">#define EF_DEFFACE     0x0020 // the default face</span>
00931 <span class="preprocessor"></span>
00932 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00933 <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a24">EnumerateFonts</a>( DWORD Flags );
00934 
00935 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00936 <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a19">InitializeMouseButtons</a>( VOID );
00937 
00938 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00939 <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a18">GetMouseButtons</a>(
00940     PULONG NumButtons
00941     );
00942 
00943 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00944 <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a26">FindTextBufferFontInfo</a>(
00945     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
00946     IN UINT CodePage,
00947     OUT <a class="code" href="../../d7/d0/struct__TEXT__BUFFER__FONT__INFO.html">PTEXT_BUFFER_FONT_INFO</a> TextFontInfo
00948     );
00949 
00950 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00951 <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a27">StoreTextBufferFontInfo</a>(
00952     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
00953     IN ULONG FontIndex,
00954     IN COORD FontSize,
00955     IN BYTE  FontFamily,
00956     IN LONG  FontWeight,
00957     IN LPWSTR FaceName,
00958     IN UINT CodePage
00959     );
00960 
00961 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00962 <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a28">RemoveTextBufferFontInfo</a>(
00963     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo
00964     );
00965 
00966 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00967 <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a29">GetNumFonts</a>(
00968     OUT PULONG NumberOfFonts
00969     );
00970 
00971 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00972 <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a30">GetAvailableFonts</a>(
00973     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
00974     IN BOOLEAN MaximumWindow,
00975     OUT PVOID Buffer,
00976     IN OUT PULONG NumFonts
00977     );
00978 
00979 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00980 <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a31">GetFontSize</a>(
00981     IN DWORD  FontIndex,
00982     OUT PCOORD FontSize
00983     );
00984 
00985 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00986 <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a32">GetCurrentFont</a>(
00987     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
00988     IN BOOLEAN MaximumWindow,
00989     OUT PULONG FontIndex,
00990     OUT PCOORD FontSize
00991     );
00992 
00993 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00994 <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a34">SetFont</a>(
00995     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo
00996     );
00997 
00998 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00999 <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a33">SetScreenBufferFont</a>(
01000     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
01001     IN ULONG FontIndex
01002 #<span class="keywordflow">if</span> defined(FE_SB)
01003     ,
01004     IN UINT CodePage
01005 #endif
01006     );
01007 
01008 <span class="keywordtype">int</span>
01009 <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a35">ConvertToOem</a>(
01010     IN UINT Codepage,
01011     IN LPWSTR Source,
01012     IN <span class="keywordtype">int</span> SourceLength,
01013     OUT LPSTR Target,
01014     IN <span class="keywordtype">int</span> TargetLength
01015     );
01016 
01017 <span class="keywordtype">int</span>
01018 <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a36">ConvertInputToUnicode</a>(
01019     IN UINT Codepage,
01020     IN LPSTR Source,
01021     IN <span class="keywordtype">int</span> SourceLength,
01022     OUT LPWSTR Target,
01023     IN <span class="keywordtype">int</span> TargetLength
01024     );
01025 
01026 <span class="preprocessor">#if defined(FE_SB)</span>
01027 <span class="preprocessor"></span>WCHAR
01028 SB_CharToWcharGlyph(
01029     IN UINT Codepage,
01030     IN <span class="keywordtype">char</span> Ch
01031     );
01032 
01033 WCHAR
01034 SB_CharToWchar(
01035     IN UINT Codepage,
01036     IN <span class="keywordtype">char</span> Ch
01037     );
01038 
01039 <span class="preprocessor">#else</span>
01040 <span class="preprocessor"></span>WCHAR
01041 <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a38">CharToWcharGlyph</a>(
01042     IN UINT Codepage,
01043     IN <span class="keywordtype">char</span> Ch
01044     );
01045 
01046 WCHAR
01047 <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a39">CharToWchar</a>(
01048     IN UINT Codepage,
01049     IN <span class="keywordtype">char</span> Ch
01050     );
01051 <span class="preprocessor">#endif</span>
01052 <span class="preprocessor"></span>
01053 <span class="keywordtype">char</span>
01054 <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a40">WcharToChar</a>(
01055     IN UINT Codepage,
01056     IN WCHAR Wchar
01057     );
01058 
01059 <span class="keywordtype">int</span>
01060 <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a37">ConvertOutputToUnicode</a>(
01061     IN UINT Codepage,
01062     IN LPSTR Source,
01063     IN <span class="keywordtype">int</span> SourceLength,
01064     OUT LPWSTR Target,
01065     IN <span class="keywordtype">int</span> TargetLength
01066     );
01067 
01068 <span class="keywordtype">int</span>
01069 <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a41">ConvertOutputToOem</a>(
01070     IN UINT Codepage,
01071     IN LPWSTR Source,
01072     IN <span class="keywordtype">int</span> SourceLength,    <span class="comment">// in chars</span>
01073     OUT LPSTR Target,
01074     IN <span class="keywordtype">int</span> TargetLength     <span class="comment">// in chars</span>
01075     );
01076 
01077 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01078 <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a42">RealUnicodeToFalseUnicode</a>(
01079     IN OUT LPWSTR Source,
01080     IN <span class="keywordtype">int</span> SourceLength, <span class="comment">// in chars</span>
01081     IN UINT Codepage
01082     );
01083 
01084 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01085 <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a43">FalseUnicodeToRealUnicode</a>(
01086     IN OUT LPWSTR Source,
01087     IN <span class="keywordtype">int</span> SourceLength, <span class="comment">// in chars</span>
01088     IN UINT Codepage
01089     );
01090 
01091 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01092 <a class="code" href="../../d8/d5/consrv_8h.html#a180">InitializeSubst</a>( VOID );
01093 
01094 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01095 <a class="code" href="../../d8/d5/consrv_8h.html#a181">ShutdownSubst</a>( VOID );
01096 
01097 ULONG
01098 <a class="code" href="../../d8/d5/consrv_8h.html#a182">SrvConsoleSubst</a>(
01099     IN OUT PCSR_API_MSG m,
01100     IN OUT PCSR_REPLY_STATUS ReplyStatus
01101     );
01102 
<a name="l01103"></a><a class="code" href="../../d9/d4/structtagFACENODE.html">01103</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d4/structtagFACENODE.html">tagFACENODE</a> {
<a name="l01104"></a><a class="code" href="../../d9/d4/structtagFACENODE.html#o0">01104</a>      <span class="keyword">struct </span><a class="code" href="../../d9/d4/structtagFACENODE.html">tagFACENODE</a> *<a class="code" href="../../d9/d4/structtagFACENODE.html#o0">pNext</a>;
<a name="l01105"></a><a class="code" href="../../d9/d4/structtagFACENODE.html#o1">01105</a>      <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d9/d4/structtagFACENODE.html#o1">dwFlag</a>;
<a name="l01106"></a><a class="code" href="../../d9/d4/structtagFACENODE.html#o2">01106</a>      WCHAR  <a class="code" href="../../d9/d4/structtagFACENODE.html#o2">awch</a>[];
01107 } <a class="code" href="../../d9/d4/structtagFACENODE.html">FACENODE</a>, *<a class="code" href="../../d9/d4/structtagFACENODE.html">PFACENODE</a>;
01108 
01109 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a23">DoFontEnum</a>(
01110     IN HDC hDC OPTIONAL,
01111     IN LPWSTR pwszFace OPTIONAL,
01112     IN SHORT TTPointSize);
01113 
01114 <span class="preprocessor">#if defined(FE_SB)</span>
01115 <span class="preprocessor"></span><a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01116 SetConsoleCPInfo(
01117     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
01118     IN BOOL Output
01119     );
01120 
01121 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
01122 CheckBisectStringW(
01123     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
01124     IN DWORD CodePage,
01125     IN PWCHAR Buffer,
01126     IN DWORD NumWords,
01127     IN DWORD NumBytes
01128     );
01129 
01130 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
01131 CheckBisectProcessW(
01132     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
01133     IN DWORD CodePage,
01134     IN PWCHAR Buffer,
01135     IN DWORD NumWords,
01136     IN DWORD NumBytes,
01137     IN SHORT OriginalXPosition,
01138     IN BOOL Echo
01139     );
01140 <span class="preprocessor">#endif // FE_SB</span>
01141 <span class="preprocessor"></span>
01142 <span class="comment">//</span>
01143 <span class="comment">// directio.c</span>
01144 <span class="comment">//</span>
01145 
01146 
01147 ULONG
01148 <a class="code" href="../../d2/d8/directio_8c.html#a3">SrvGetConsoleInput</a>(
01149     IN OUT PCSR_API_MSG m,
01150     IN OUT PCSR_REPLY_STATUS ReplyStatus
01151     );
01152 
01153 ULONG
01154 <a class="code" href="../../d2/d8/directio_8c.html#a4">SrvWriteConsoleInput</a>(
01155     IN OUT PCSR_API_MSG m,
01156     IN OUT PCSR_REPLY_STATUS ReplyStatus
01157     );
01158 
01159 ULONG
01160 <a class="code" href="../../d2/d8/directio_8c.html#a12">SrvReadConsoleOutput</a>(
01161     IN OUT PCSR_API_MSG m,
01162     IN OUT PCSR_REPLY_STATUS ReplyStatus
01163     );
01164 
01165 ULONG
01166 <a class="code" href="../../d2/d8/directio_8c.html#a13">SrvWriteConsoleOutput</a>(
01167     IN OUT PCSR_API_MSG m,
01168     IN OUT PCSR_REPLY_STATUS ReplyStatus
01169     );
01170 
01171 ULONG
01172 <a class="code" href="../../d2/d8/directio_8c.html#a14">SrvReadConsoleOutputString</a>(
01173     IN OUT PCSR_API_MSG m,
01174     IN OUT PCSR_REPLY_STATUS ReplyStatus
01175     );
01176 
01177 ULONG
01178 <a class="code" href="../../d2/d8/directio_8c.html#a15">SrvWriteConsoleOutputString</a>(
01179     IN OUT PCSR_API_MSG m,
01180     IN OUT PCSR_REPLY_STATUS ReplyStatus
01181     );
01182 
01183 ULONG
01184 <a class="code" href="../../d2/d8/directio_8c.html#a16">SrvFillConsoleOutput</a>(
01185     IN OUT PCSR_API_MSG m,
01186     IN OUT PCSR_REPLY_STATUS ReplyStatus
01187     );
01188 
01189 ULONG
01190 <a class="code" href="../../d2/d8/directio_8c.html#a17">SrvCreateConsoleScreenBuffer</a>(
01191     IN OUT PCSR_API_MSG m,
01192     IN OUT PCSR_REPLY_STATUS ReplyStatus
01193     );
01194 
01195 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01196 <a class="code" href="../../d2/d8/directio_8c.html#a11">TranslateOutputToPaddingUnicode</a>(
01197     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
01198     IN OUT PCHAR_INFO OutputBuffer,
01199     IN COORD Size,
01200     IN OUT PCHAR_INFO OutputBufferR
01201     );
01202 
01203 <span class="comment">//</span>
01204 <span class="comment">// getset.c</span>
01205 <span class="comment">//</span>
01206 
01207 ULONG
01208 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a0">SrvGetConsoleMode</a>(
01209     IN OUT PCSR_API_MSG m,
01210     IN OUT PCSR_REPLY_STATUS ReplyStatus
01211     );
01212 
01213 ULONG
01214 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a1">SrvGetConsoleNumberOfFonts</a>(
01215     IN OUT PCSR_API_MSG m,
01216     IN OUT PCSR_REPLY_STATUS ReplyStatus
01217     );
01218 
01219 ULONG
01220 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a2">SrvGetConsoleNumberOfInputEvents</a>(
01221     IN OUT PCSR_API_MSG m,
01222     IN OUT PCSR_REPLY_STATUS ReplyStatus
01223     );
01224 
01225 ULONG
01226 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a13">SrvGetLargestConsoleWindowSize</a>(
01227     IN OUT PCSR_API_MSG m,
01228     IN OUT PCSR_REPLY_STATUS ReplyStatus
01229     );
01230 
01231 ULONG
01232 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a3">SrvGetConsoleScreenBufferInfo</a>(
01233     IN OUT PCSR_API_MSG m,
01234     IN OUT PCSR_REPLY_STATUS ReplyStatus
01235     );
01236 
01237 ULONG
01238 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a4">SrvGetConsoleCursorInfo</a>(
01239     IN OUT PCSR_API_MSG m,
01240     IN OUT PCSR_REPLY_STATUS ReplyStatus
01241     );
01242 
01243 ULONG
01244 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a5">SrvGetConsoleMouseInfo</a>(
01245     IN OUT PCSR_API_MSG m,
01246     IN OUT PCSR_REPLY_STATUS ReplyStatus
01247     );
01248 
01249 ULONG
01250 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a6">SrvGetConsoleFontInfo</a>(
01251     IN OUT PCSR_API_MSG m,
01252     IN OUT PCSR_REPLY_STATUS ReplyStatus
01253     );
01254 
01255 ULONG
01256 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a7">SrvGetConsoleFontSize</a>(
01257     IN OUT PCSR_API_MSG m,
01258     IN OUT PCSR_REPLY_STATUS ReplyStatus
01259     );
01260 
01261 ULONG
01262 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a8">SrvGetConsoleCurrentFont</a>(
01263     IN OUT PCSR_API_MSG m,
01264     IN OUT PCSR_REPLY_STATUS ReplyStatus
01265     );
01266 
01267 ULONG
01268 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a9">SrvSetConsoleMode</a>(
01269     IN OUT PCSR_API_MSG m,
01270     IN OUT PCSR_REPLY_STATUS ReplyStatus
01271     );
01272 
01273 ULONG
01274 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a10">SrvGenerateConsoleCtrlEvent</a>(
01275     IN OUT PCSR_API_MSG m,
01276     IN OUT PCSR_REPLY_STATUS ReplyStatus
01277     );
01278 
01279 ULONG
01280 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a11">SrvSetConsoleActiveScreenBuffer</a>(
01281     IN OUT PCSR_API_MSG m,
01282     IN OUT PCSR_REPLY_STATUS ReplyStatus
01283     );
01284 
01285 ULONG
01286 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a12">SrvFlushConsoleInputBuffer</a>(
01287     IN OUT PCSR_API_MSG m,
01288     IN OUT PCSR_REPLY_STATUS ReplyStatus
01289     );
01290 
01291 ULONG
01292 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a14">SrvSetConsoleScreenBufferSize</a>(
01293     IN OUT PCSR_API_MSG m,
01294     IN OUT PCSR_REPLY_STATUS ReplyStatus
01295     );
01296 
01297 ULONG
01298 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a15">SrvSetConsoleCursorPosition</a>(
01299     IN OUT PCSR_API_MSG m,
01300     IN OUT PCSR_REPLY_STATUS ReplyStatus
01301     );
01302 
01303 ULONG
01304 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a16">SrvSetConsoleCursorInfo</a>(
01305     IN OUT PCSR_API_MSG m,
01306     IN OUT PCSR_REPLY_STATUS ReplyStatus
01307     );
01308 
01309 ULONG
01310 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a17">SrvSetConsoleWindowInfo</a>(
01311     IN OUT PCSR_API_MSG m,
01312     IN OUT PCSR_REPLY_STATUS ReplyStatus
01313     );
01314 
01315 ULONG
01316 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a18">SrvScrollConsoleScreenBuffer</a>(
01317     IN OUT PCSR_API_MSG m,
01318     IN OUT PCSR_REPLY_STATUS ReplyStatus
01319     );
01320 
01321 ULONG
01322 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a21">SrvSetConsoleTextAttribute</a>(
01323     IN OUT PCSR_API_MSG m,
01324     IN OUT PCSR_REPLY_STATUS ReplyStatus
01325     );
01326 
01327 ULONG
01328 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a22">SrvSetConsoleFont</a>(
01329     IN OUT PCSR_API_MSG m,
01330     IN OUT PCSR_REPLY_STATUS ReplyStatus
01331     );
01332 
01333 ULONG
01334 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a23">SrvSetConsoleIcon</a>(
01335     IN OUT PCSR_API_MSG m,
01336     IN OUT PCSR_REPLY_STATUS ReplyStatus
01337     );
01338 
01339 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01340 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a20">SetScreenColors</a>(
01341     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
01342     IN WORD Attributes,
01343     IN WORD PopupAttributes,
01344     IN BOOL UpdateWholeScreen
01345     );
01346 
01347 ULONG
01348 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a24">SrvSetConsoleCP</a>(
01349     IN OUT PCSR_API_MSG m,
01350     IN OUT PCSR_REPLY_STATUS ReplyStatus
01351     );
01352 
01353 ULONG
01354 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a25">SrvGetConsoleCP</a>(
01355     IN OUT PCSR_API_MSG m,
01356     IN OUT PCSR_REPLY_STATUS ReplyStatus
01357     );
01358 
01359 ULONG
01360 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a26">SrvGetConsoleKeyboardLayoutName</a>(
01361     IN OUT PCSR_API_MSG m,
01362     IN OUT PCSR_REPLY_STATUS ReplyStatus
01363     );
01364 
01365 ULONG
01366 <a class="code" href="../../d9/d4/ntcon_2server_2getset_8c.html#a27">SrvGetConsoleWindow</a>(
01367     IN OUT PCSR_API_MSG m,
01368     IN OUT PCSR_REPLY_STATUS ReplyStatus
01369     );
01370 
01371 
01372 <span class="comment">//</span>
01373 <span class="comment">// stream.c</span>
01374 <span class="comment">//</span>
01375 
01376 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01377 <a class="code" href="../../d0/d7/server_2stream_8c.html#a24">CookedRead</a>(
01378     IN <a class="code" href="../../d2/d8/struct__COOKED__READ__DATA.html">PCOOKED_READ_DATA</a> CookedReadData,
01379     IN PCSR_API_MSG WaitReplyMessage,
01380     IN PCSR_THREAD WaitingThread,
01381     IN BOOLEAN WaitRoutine
01382     );
01383 
01384 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01385 <a class="code" href="../../d0/d7/server_2stream_8c.html#a26">ReadChars</a>(
01386     IN <a class="code" href="../../d7/d2/struct__INPUT__INFORMATION.html">PINPUT_INFORMATION</a> InputInfo,
01387     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
01388     IN <a class="code" href="../../d0/d4/struct__CONSOLE__PER__PROCESS__DATA.html">PCONSOLE_PER_PROCESS_DATA</a> ProcessData,
01389     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
01390     IN OUT PWCHAR lpBuffer,
01391     IN OUT PDWORD NumBytes,
01392     IN DWORD InitialNumBytes,
01393     IN DWORD CtrlWakeupMask,
01394     IN <a class="code" href="../../d4/d3/struct__HANDLE__DATA.html">PHANDLE_DATA</a> HandleData,
01395     IN <a class="code" href="../../d9/d7/struct__COMMAND__HISTORY.html">PCOMMAND_HISTORY</a> CommandHistory,
01396     IN PCSR_API_MSG Message OPTIONAL,
01397     IN HANDLE HandleIndex,
01398     IN USHORT ExeNameLength,
01399     IN PWCHAR ExeName,
01400     IN BOOLEAN Unicode
01401     );
01402 
01403 ULONG
01404 <a class="code" href="../../d0/d7/server_2stream_8c.html#a17">SrvOpenConsole</a>(
01405     IN OUT PCSR_API_MSG m,
01406     IN OUT PCSR_REPLY_STATUS ReplyStatus
01407     );
01408 
01409 ULONG
01410 <a class="code" href="../../d0/d7/server_2stream_8c.html#a27">SrvReadConsole</a>(
01411     IN OUT PCSR_API_MSG m,
01412     IN OUT PCSR_REPLY_STATUS ReplyStatus
01413     );
01414 
01415 ULONG
01416 <a class="code" href="../../d0/d7/server_2stream_8c.html#a31">SrvWriteConsole</a>(
01417     IN OUT PCSR_API_MSG m,
01418     IN OUT PCSR_REPLY_STATUS ReplyStatus
01419     );
01420 
01421 ULONG
01422 <a class="code" href="../../d0/d7/server_2stream_8c.html#a32">SrvDuplicateHandle</a>(
01423     IN OUT PCSR_API_MSG m,
01424     IN OUT PCSR_REPLY_STATUS ReplyStatus
01425     );
01426 
01427 ULONG
01428 <a class="code" href="../../d0/d7/server_2stream_8c.html#a33">SrvGetHandleInformation</a>(
01429     IN OUT PCSR_API_MSG m,
01430     IN OUT PCSR_REPLY_STATUS ReplyStatus
01431     );
01432 
01433 ULONG
01434 <a class="code" href="../../d0/d7/server_2stream_8c.html#a34">SrvSetHandleInformation</a>(
01435     IN OUT PCSR_API_MSG m,
01436     IN OUT PCSR_REPLY_STATUS ReplyStatus
01437     );
01438 
01439 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01440 <a class="code" href="../../d0/d7/server_2stream_8c.html#a30">UnblockWriteConsole</a>(
01441     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
01442     IN DWORD Reason);
01443 
01444 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01445 <a class="code" href="../../d0/d7/server_2stream_8c.html#a35">CloseInputHandle</a>(
01446     IN <a class="code" href="../../d0/d4/struct__CONSOLE__PER__PROCESS__DATA.html">PCONSOLE_PER_PROCESS_DATA</a> ProcessData,
01447     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
01448     IN <a class="code" href="../../d4/d3/struct__HANDLE__DATA.html">PHANDLE_DATA</a> HandleData,
01449     IN HANDLE Handle
01450     );
01451 
01452 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01453 <a class="code" href="../../d0/d7/server_2stream_8c.html#a36">CloseOutputHandle</a>(
01454     IN <a class="code" href="../../d0/d4/struct__CONSOLE__PER__PROCESS__DATA.html">PCONSOLE_PER_PROCESS_DATA</a> ProcessData,
01455     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
01456     IN <a class="code" href="../../d4/d3/struct__HANDLE__DATA.html">PHANDLE_DATA</a> HandleData,
01457     IN HANDLE Handle,
01458     IN BOOLEAN FreeHandle
01459     );
01460 
01461 ULONG
01462 <a class="code" href="../../d0/d7/server_2stream_8c.html#a37">SrvCloseHandle</a>(
01463     IN OUT PCSR_API_MSG m,
01464     IN OUT PCSR_REPLY_STATUS ReplyStatus
01465     );
01466 
01467 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01468 <a class="code" href="../../d0/d7/server_2stream_8c.html#a28">MakeCursorVisible</a>(
01469     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
01470     IN COORD CursorPosition
01471     );
01472 
01473 <span class="preprocessor">#if defined(FE_SB)</span>
01474 <span class="preprocessor"></span>HANDLE
01475 <a class="code" href="../../d0/d7/server_2stream_8c.html#a16">FindActiveScreenBufferHandle</a>(
01476     IN <a class="code" href="../../d0/d4/struct__CONSOLE__PER__PROCESS__DATA.html">PCONSOLE_PER_PROCESS_DATA</a> ProcessData,
01477     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
01478     );
01479 
01480 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01481 WriteString(
01482     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
01483     IN PWCHAR String,
01484     IN ULONG NumChars,
01485     IN BOOL KeepCursorVisible,
01486     OUT PSHORT ScrollY OPTIONAL
01487     );
01488 <span class="preprocessor">#endif</span>
01489 <span class="preprocessor"></span>
01490 <span class="comment">//</span>
01491 <span class="comment">// cursor.c</span>
01492 <span class="comment">//</span>
01493 
01494 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01495 <a class="code" href="../../d6/d1/ntcon_2server_2cursor_8c.html#a4">SetCursorInformation</a>(
01496     <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
01497     ULONG Size,
01498     BOOLEAN Visible
01499     );
01500 
01501 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01502 <a class="code" href="../../d6/d1/ntcon_2server_2cursor_8c.html#a7">SetCursorPosition</a>(
01503     IN OUT <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
01504     IN COORD Position,
01505     IN BOOL  TurnOn
01506     );
01507 
01508 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01509 <a class="code" href="../../d6/d1/ntcon_2server_2cursor_8c.html#a5">SetCursorMode</a>(
01510     <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
01511     BOOLEAN DoubleCursor
01512     );
01513 
01514 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01515 <a class="code" href="../../d6/d1/ntcon_2server_2cursor_8c.html#a6">CursorTimerRoutine</a>(
01516     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo
01517     );
01518 
01519 <span class="preprocessor">#if defined(FE_SB)</span>
01520 <span class="preprocessor"></span><a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01521 SB_InvertPixels(
01522     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo
01523     );
01524 <span class="preprocessor">#endif</span>
01525 <span class="preprocessor"></span>
01526 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01527 <a class="code" href="../../d6/d1/ntcon_2server_2cursor_8c.html#a3">ConsoleHideCursor</a>(
01528     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo
01529     );
01530 
01531 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01532 <a class="code" href="../../d6/d1/ntcon_2server_2cursor_8c.html#a2">ConsoleShowCursor</a>(
01533     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo
01534     );
01535 
01536 <span class="preprocessor">#ifdef i386</span>
01537 <span class="preprocessor"></span><a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01538 SetCursorInformationHW(
01539     <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
01540     ULONG Size,
01541     BOOLEAN Visible
01542     );
01543 
01544 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01545 SetCursorPositionHW(
01546     IN OUT <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
01547     IN COORD Position
01548     );
01549 <span class="preprocessor">#endif</span>
01550 <span class="preprocessor"></span>
01551 <span class="comment">//</span>
01552 <span class="comment">// cmdline.c</span>
01553 <span class="comment">//</span>
01554 
01555 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01556 <a class="code" href="../../d8/d5/consrv_8h.html#a239">InitializeConsoleCommandData</a>(
01557     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
01558     );
01559 
01560 ULONG
01561 <a class="code" href="../../d8/d5/consrv_8h.html#a240">SrvAddConsoleAlias</a>(
01562     IN OUT PCSR_API_MSG m,
01563     IN OUT PCSR_REPLY_STATUS ReplyStatus
01564     );
01565 
01566 ULONG
01567 <a class="code" href="../../d8/d5/consrv_8h.html#a241">SrvGetConsoleAlias</a>(
01568     IN OUT PCSR_API_MSG m,
01569     IN OUT PCSR_REPLY_STATUS ReplyStatus
01570     );
01571 
01572 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>
01573 <a class="code" href="../../d8/d5/consrv_8h.html#a242">SrvGetConsoleAliasesLength</a>(
01574     IN OUT PCSR_API_MSG m,
01575     IN OUT PCSR_REPLY_STATUS ReplyStatus
01576     );
01577 
01578 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>
01579 <a class="code" href="../../d8/d5/consrv_8h.html#a243">SrvGetConsoleAliasExesLength</a>(
01580     IN OUT PCSR_API_MSG m,
01581     IN OUT PCSR_REPLY_STATUS ReplyStatus
01582     );
01583 
01584 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>
01585 <a class="code" href="../../d8/d5/consrv_8h.html#a244">SrvGetConsoleAliases</a>(
01586     IN OUT PCSR_API_MSG m,
01587     IN OUT PCSR_REPLY_STATUS ReplyStatus
01588     );
01589 
01590 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>
01591 <a class="code" href="../../d8/d5/consrv_8h.html#a245">SrvGetConsoleAliasExes</a>(
01592     IN OUT PCSR_API_MSG m,
01593     IN OUT PCSR_REPLY_STATUS ReplyStatus
01594     );
01595 
01596 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>
01597 <a class="code" href="../../d8/d5/consrv_8h.html#a246">SrvExpungeConsoleCommandHistory</a>(
01598     IN OUT PCSR_API_MSG m,
01599     IN OUT PCSR_REPLY_STATUS ReplyStatus
01600     );
01601 
01602 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>
01603 <a class="code" href="../../d8/d5/consrv_8h.html#a247">SrvSetConsoleNumberOfCommands</a>(
01604     IN OUT PCSR_API_MSG m,
01605     IN OUT PCSR_REPLY_STATUS ReplyStatus
01606     );
01607 
01608 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>
01609 <a class="code" href="../../d8/d5/consrv_8h.html#a248">SrvGetConsoleCommandHistoryLength</a>(
01610     IN OUT PCSR_API_MSG m,
01611     IN OUT PCSR_REPLY_STATUS ReplyStatus
01612     );
01613 
01614 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>
01615 <a class="code" href="../../d8/d5/consrv_8h.html#a249">SrvGetConsoleCommandHistory</a>(
01616     IN OUT PCSR_API_MSG m,
01617     IN OUT PCSR_REPLY_STATUS ReplyStatus
01618     );
01619 
01620 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>
01621 <a class="code" href="../../d8/d5/consrv_8h.html#a250">SrvSetConsoleCommandHistoryMode</a>(
01622     IN OUT PCSR_API_MSG m,
01623     IN OUT PCSR_REPLY_STATUS ReplyStatus
01624     );
01625 
01626 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01627 <a class="code" href="../../d8/d5/consrv_8h.html#a251">MatchandCopyAlias</a>(
01628     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
01629     IN PWCHAR Source,
01630     IN USHORT SourceLength,
01631     OUT PWCHAR TargetBuffer,
01632     IN OUT PUSHORT TargetLength,
01633     IN LPWSTR Exe,
01634     IN USHORT ExeLength,
01635     OUT PDWORD LineCount
01636     );
01637 
01638 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01639 <a class="code" href="../../d8/d5/consrv_8h.html#a252">AddCommand</a>(
01640     IN <a class="code" href="../../d9/d7/struct__COMMAND__HISTORY.html">PCOMMAND_HISTORY</a> CommandHistory,
01641     IN PWCHAR Command,
01642     IN USHORT Length,
01643     IN BOOL HistoryNoDup
01644     );
01645 
01646 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01647 <a class="code" href="../../d8/d5/consrv_8h.html#a253">RetrieveCommand</a>(
01648     IN <a class="code" href="../../d9/d7/struct__COMMAND__HISTORY.html">PCOMMAND_HISTORY</a> CommandHistory,
01649     IN WORD VirtualKeyCode,
01650     IN PWCHAR Buffer,
01651     IN ULONG BufferSize,
01652     OUT PULONG CommandSize
01653     );
01654 
01655 <a class="code" href="../../d9/d7/struct__COMMAND__HISTORY.html">PCOMMAND_HISTORY</a>
01656 <a class="code" href="../../d8/d5/consrv_8h.html#a254">AllocateCommandHistory</a>(
01657     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
01658     IN DWORD AppNameLength,
01659     IN PWCHAR AppName,
01660     IN HANDLE ProcessHandle
01661     );
01662 
01663 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01664 <a class="code" href="../../d8/d5/consrv_8h.html#a255">ResetCommandHistory</a>(
01665     IN <a class="code" href="../../d9/d7/struct__COMMAND__HISTORY.html">PCOMMAND_HISTORY</a> CommandHistory
01666     );
01667 
01668 ULONG
01669 <a class="code" href="../../d8/d5/consrv_8h.html#a256">SrvGetConsoleTitle</a>(
01670     IN OUT PCSR_API_MSG m,
01671     IN OUT PCSR_REPLY_STATUS ReplyStatus
01672     );
01673 
01674 ULONG
01675 <a class="code" href="../../d8/d5/consrv_8h.html#a257">SrvSetConsoleTitle</a>(
01676     IN OUT PCSR_API_MSG m,
01677     IN OUT PCSR_REPLY_STATUS ReplyStatus
01678     );
01679 
01680 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01681 <a class="code" href="../../d8/d5/consrv_8h.html#a258">FreeAliasBuffers</a>(
01682     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
01683     );
01684 
01685 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01686 <a class="code" href="../../d8/d5/consrv_8h.html#a259">FreeCommandHistory</a>(
01687     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
01688     IN HANDLE ProcessHandle
01689     );
01690 
01691 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01692 <a class="code" href="../../d8/d5/consrv_8h.html#a260">FreeCommandHistoryBuffers</a>(
01693     IN OUT <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
01694     );
01695 
01696 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01697 <a class="code" href="../../d8/d5/consrv_8h.html#a261">ResizeCommandHistoryBuffers</a>(
01698     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
01699     IN UINT NumCommands
01700     );
01701 
01702 <span class="keywordtype">int</span>
01703 <a class="code" href="../../d8/d5/consrv_8h.html#a262">MyStringCompareW</a>(
01704     IN LPWSTR Str1,
01705     IN LPWSTR Str2,
01706     IN USHORT Length,
01707     IN BOOLEAN bCaseInsensitive
01708     );
01709 
01710 <span class="keywordtype">int</span>
01711 <a class="code" href="../../d8/d5/consrv_8h.html#a263">LoadStringExW</a>(
01712     IN HINSTANCE hModule,
01713     IN UINT      wID,
01714     OUT LPWSTR   lpBuffer,
01715     IN <span class="keywordtype">int</span>       cchBufferMax,
01716     IN WORD      wLangId
01717     );
01718 
01719 <span class="comment">//</span>
01720 <span class="comment">// srvinit.c</span>
01721 <span class="comment">//</span>
01722 
01723 ULONG
01724 <a class="code" href="../../d0/d5/srvinit_8c.html#a38">SrvAllocConsole</a>(
01725     IN OUT PCSR_API_MSG m,
01726     IN OUT PCSR_REPLY_STATUS ReplyStatus
01727     );
01728 
01729 ULONG
01730 <a class="code" href="../../d0/d5/srvinit_8c.html#a39">SrvFreeConsole</a>(
01731     IN OUT PCSR_API_MSG m,
01732     IN OUT PCSR_REPLY_STATUS ReplyStatus
01733     );
01734 
01735 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01736 <a class="code" href="../../d0/d5/srvinit_8c.html#a37">RemoveConsole</a>(
01737     IN <a class="code" href="../../d0/d4/struct__CONSOLE__PER__PROCESS__DATA.html">PCONSOLE_PER_PROCESS_DATA</a> ProcessData,
01738     IN HANDLE ProcessHandle,
01739     IN HANDLE ProcessId
01740     );
01741 
01742 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
01743 <a class="code" href="../../d0/d5/srvinit_8c.html#a32">MapHandle</a>(
01744     IN HANDLE ClientProcessHandle,
01745     IN HANDLE ServerHandle,
01746     OUT PHANDLE ClientHandle
01747     );
01748 
01749 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01750 <a class="code" href="../../d0/d7/server_2server_8c.html#a42">InitializeConsoleAttributes</a>( VOID );
01751 
01752 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01753 <a class="code" href="../../d0/d5/srvinit_8c.html#a44">GetRegistryValues</a>(
01754     IN LPWSTR ConsoleTitle,
01755     OUT <a class="code" href="../../d7/d4/struct__CONSOLE__REGISTRY__INFO.html">PCONSOLE_REGISTRY_INFO</a> RegInfo
01756     );
01757 
01758 <span class="preprocessor">#if defined(FE_SB)</span>
01759 <span class="preprocessor"></span><a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01760 <a class="code" href="../../d0/d7/server_2server_8c.html#a44">MyRegOpenKey</a>(
01761     IN HANDLE hKey,
01762     IN LPWSTR lpSubKey,
01763     OUT PHANDLE phResult
01764     );
01765 
01766 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01767 <a class="code" href="../../d0/d5/srvinit_8c.html#a41">MyRegQueryValue</a>(
01768     IN HANDLE hKey,
01769     IN LPWSTR lpValueName,
01770     IN DWORD dwValueLength,
01771     OUT LPBYTE lpData
01772     );
01773 
01774 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01775 MyRegQueryValueEx(
01776     IN HANDLE hKey,
01777     IN LPWSTR lpValueName,
01778     IN DWORD dwValueLength,
01779     OUT LPBYTE lpData,
01780     OUT LPDWORD lpDataLength
01781     );
01782 
01783 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01784 MyRegEnumValue(
01785     IN HANDLE hKey,
01786     IN DWORD dwIndex,
01787     OUT DWORD dwValueLength,
01788     OUT LPWSTR lpValueName,
01789     OUT DWORD dwDataLength,
01790     OUT LPBYTE lpData
01791     );
01792 <span class="preprocessor">#endif</span>
01793 <span class="preprocessor"></span>
01794 LPWSTR
01795 <a class="code" href="../../d0/d5/srvinit_8c.html#a42">TranslateConsoleTitle</a>(
01796     LPWSTR ConsoleTitle,
01797     PUSHORT pcbTranslatedLength,
01798     BOOL Unexpand,
01799     BOOL Substitute
01800     );
01801 
01802 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01803 <a class="code" href="../../d0/d5/srvinit_8c.html#a45">GetConsoleLangId</a>(
01804     IN UINT OutputCP,
01805     OUT LANGID* pLangId
01806     );
01807 
01808 ULONG
01809 <a class="code" href="../../d0/d5/srvinit_8c.html#a46">SrvGetConsoleLangId</a>(
01810     IN OUT PCSR_API_MSG m,
01811     IN OUT PCSR_REPLY_STATUS ReplyStatus
01812     );
01813 
01814 <span class="comment">//</span>
01815 <span class="comment">// bitmap.c</span>
01816 <span class="comment">//</span>
01817 
01818 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01819 <a class="code" href="../../d8/d5/consrv_8h.html#a273">CreateConsoleBitmap</a>(
01820     IN OUT PCONSOLE_GRAPHICS_BUFFER_INFO GraphicsInfo,
01821     IN OUT <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
01822     OUT PVOID *lpBitmap,
01823     OUT HANDLE *hMutex
01824     );
01825 
01826 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01827 <a class="code" href="../../d8/d5/consrv_8h.html#a274">WriteRegionToScreenBitMap</a>(
01828     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
01829     IN PSMALL_RECT Region
01830     );
01831 
01832 ULONG
01833 <a class="code" href="../../d8/d5/consrv_8h.html#a275">SrvInvalidateBitMapRect</a>(
01834     IN OUT PCSR_API_MSG m,
01835     IN OUT PCSR_REPLY_STATUS ReplyStatus
01836     );
01837 
01838 ULONG
01839 <a class="code" href="../../d2/d5/srvvdm_8c.html#a0">SrvVDMConsoleOperation</a>(
01840     IN OUT PCSR_API_MSG m,
01841     IN OUT PCSR_REPLY_STATUS ReplyStatus
01842     );
01843 
01844 
01845 <span class="comment">//</span>
01846 <span class="comment">// private.c</span>
01847 <span class="comment">//</span>
01848 
01849 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01850 <a class="code" href="../../d8/d5/consrv_8h.html#a277">UpdateMousePosition</a>(
01851     <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
01852     COORD Position
01853     );
01854 
01855 ULONG
01856 <a class="code" href="../../d7/d4/server_2private_8c.html#a42">SrvSetConsoleCursor</a>(
01857     IN OUT PCSR_API_MSG m,
01858     IN OUT PCSR_REPLY_STATUS ReplyStatus
01859     );
01860 
01861 ULONG
01862 <a class="code" href="../../d7/d4/server_2private_8c.html#a43">SrvShowConsoleCursor</a>(
01863     IN OUT PCSR_API_MSG m,
01864     IN OUT PCSR_REPLY_STATUS ReplyStatus
01865     );
01866 
01867 ULONG
01868 <a class="code" href="../../d7/d4/server_2private_8c.html#a44">SrvConsoleMenuControl</a>(
01869     IN OUT PCSR_API_MSG m,
01870     IN OUT PCSR_REPLY_STATUS ReplyStatus
01871     );
01872 
01873 ULONG
01874 <a class="code" href="../../d7/d4/server_2private_8c.html#a45">SrvSetConsolePalette</a>(
01875     IN OUT PCSR_API_MSG m,
01876     IN OUT PCSR_REPLY_STATUS ReplyStatus
01877     );
01878 
01879 ULONG
01880 <a class="code" href="../../d7/d4/server_2private_8c.html#a50">SrvSetConsoleDisplayMode</a>(
01881     IN OUT PCSR_API_MSG m,
01882     IN OUT PCSR_REPLY_STATUS ReplyStatus
01883     );
01884 
01885 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01886 <a class="code" href="../../d7/d4/server_2private_8c.html#a46">SetActivePalette</a>(
01887     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo
01888     );
01889 
01890 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01891 <a class="code" href="../../d7/d4/server_2private_8c.html#a47">UnsetActivePalette</a>(
01892     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo
01893     );
01894 
01895 ULONG
01896 <a class="code" href="../../d7/d4/server_2private_8c.html#a52">SrvRegisterConsoleVDM</a>(
01897     IN OUT PCSR_API_MSG m,
01898     IN OUT PCSR_REPLY_STATUS ReplyStatus
01899     );
01900 
01901 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01902 <a class="code" href="../../d7/d4/server_2private_8c.html#a53">SrvConsoleNotifyLastClose</a>(
01903     IN OUT PCSR_API_MSG m,
01904     IN OUT PCSR_REPLY_STATUS ReplyStatus
01905     );
01906 
01907 ULONG
01908 <a class="code" href="../../d7/d4/server_2private_8c.html#a56">SrvGetConsoleHardwareState</a>(
01909     IN OUT PCSR_API_MSG m,
01910     IN OUT PCSR_REPLY_STATUS ReplyStatus
01911     );
01912 
01913 ULONG
01914 <a class="code" href="../../d7/d4/server_2private_8c.html#a57">SrvSetConsoleHardwareState</a>(
01915     IN OUT PCSR_API_MSG m,
01916     IN OUT PCSR_REPLY_STATUS ReplyStatus
01917     );
01918 
01919 ULONG
01920 <a class="code" href="../../d7/d4/server_2private_8c.html#a58">SrvGetConsoleDisplayMode</a>(
01921     IN OUT PCSR_API_MSG m,
01922     IN OUT PCSR_REPLY_STATUS ReplyStatus
01923     );
01924 
01925 ULONG
01926 <a class="code" href="../../d7/d4/server_2private_8c.html#a59">SrvSetConsoleMenuClose</a>(
01927     IN OUT PCSR_API_MSG m,
01928     IN OUT PCSR_REPLY_STATUS ReplyStatus
01929     );
01930 
01931 ULONG
01932 <a class="code" href="../../d7/d4/server_2private_8c.html#a61">SrvSetConsoleKeyShortcuts</a>(
01933     IN OUT PCSR_API_MSG m,
01934     IN OUT PCSR_REPLY_STATUS ReplyStatus
01935     );
01936 
01937 <span class="preprocessor">#ifdef i386</span>
01938 <span class="preprocessor"></span>
01939 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01940 ReadRegionFromScreenHW(
01941     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
01942     IN PSMALL_RECT Region,
01943     IN PCHAR_INFO ReadBufPtr
01944     );
01945 
01946 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01947 ScrollHW(
01948     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo,
01949     IN PSMALL_RECT ScrollRect,
01950     IN PSMALL_RECT MergeRect,
01951     IN COORD TargetPoint
01952     );
01953 
01954 ULONG
01955 MatchWindowSize(
01956 #<span class="keywordflow">if</span> defined(FE_SB)
01957     IN UINT CodePage,
01958 #endif
01959     IN COORD WindowSize,
01960     OUT PCOORD pWindowSize
01961     );
01962 
01963 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
01964 SetVideoMode(
01965     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo
01966     );
01967 
01968 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01969 <a class="code" href="../../d7/d4/server_2private_8c.html#a54">DisplayModeTransition</a>(
01970     IN BOOL Foreground,
01971     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
01972     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo
01973     );
01974 
01975 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01976 <a class="code" href="../../d7/d4/server_2private_8c.html#a49">ConvertToWindowed</a>(
01977     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
01978     );
01979 
01980 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01981 <a class="code" href="../../d7/d4/server_2private_8c.html#a48">ConvertToFullScreen</a>(
01982     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
01983     );
01984 
01985 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01986 SetROMFontCodePage(
01987     IN UINT wCodePage,
01988     IN ULONG ModeIndex
01989     );
01990 
01991 <span class="preprocessor">#endif</span>
01992 <span class="preprocessor"></span>
01993 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
01994 <a class="code" href="../../d7/d4/server_2private_8c.html#a55">InitializeFullScreen</a>( VOID );
01995 
01996 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01997 <a class="code" href="../../d8/d5/consrv_8h.html#a293">ChangeDispSettings</a>(
01998     <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
01999     HWND hwnd,
02000     DWORD dwFlags
02001     );
02002 
<a name="l02003"></a><a class="code" href="../../d8/d5/consrv_8h.html#a56">02003</a> <span class="preprocessor">#define SCREEN_BUFFER_POINTER(X,Y,XSIZE,CELLSIZE) (((XSIZE * (Y)) + (X)) * (ULONG)CELLSIZE)</span>
02004 <span class="preprocessor"></span>
02005 <span class="comment">//</span>
02006 <span class="comment">// menu.c</span>
02007 <span class="comment">//</span>
02008 
02009 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02010 <a class="code" href="../../d1/d7/ntcon_2server_2menu_8c.html#a1">InitSystemMenu</a>(
02011     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
02012     );
02013 
02014 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02015 <a class="code" href="../../d1/d7/ntcon_2server_2menu_8c.html#a2">InitializeMenu</a>(
02016     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
02017     );
02018 
02019 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02020 <a class="code" href="../../d1/d7/ntcon_2server_2menu_8c.html#a3">SetWinText</a>(
02021     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
02022     IN UINT wID,
02023     IN BOOL Add
02024     );
02025 
02026 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02027 <a class="code" href="../../d1/d7/ntcon_2server_2menu_8c.html#a4">PropertiesDlgShow</a>(
02028     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
02029     IN BOOL fCurrent
02030     );
02031 
02032 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02033 <a class="code" href="../../d1/d7/ntcon_2server_2menu_8c.html#a5">PropertiesUpdate</a>(
02034     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
02035     IN HANDLE hClientSection
02036     );
02037 
02038 <span class="comment">//</span>
02039 <span class="comment">// fontdlg.c</span>
02040 <span class="comment">//</span>
02041 
02042 <span class="keywordtype">int</span>
02043 <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a25">FindCreateFont</a>(
02044     DWORD Family,
02045     LPWSTR pwszTTFace,
02046     COORD Size,
02047     LONG Weight,
02048     UINT CodePage);
02049 
02050 <span class="comment">//</span>
02051 <span class="comment">// clipbrd.c</span>
02052 <span class="comment">//</span>
02053 
02054 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02055 <a class="code" href="../../d8/d5/consrv_8h.html#a300">DoCopy</a>(
02056     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
02057     );
02058 
02059 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02060 <a class="code" href="../../d8/d5/consrv_8h.html#a301">DoMark</a>(
02061     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
02062     );
02063 
02064 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02065 <a class="code" href="../../d8/d5/consrv_8h.html#a302">DoSelectAll</a>(
02066     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
02067     );
02068 
02069 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02070 <a class="code" href="../../d8/d5/consrv_8h.html#a303">DoStringPaste</a>(
02071     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
02072     IN PWCHAR pwStr,
02073     IN UINT DataSize
02074     );
02075 
02076 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02077 <a class="code" href="../../d8/d5/consrv_8h.html#a304">DoPaste</a>(
02078     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
02079     );
02080 
02081 <span class="preprocessor">#if defined(FE_SB)</span>
02082 <span class="preprocessor"></span><a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02083 SB_ExtendSelection(
02084     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
02085     IN COORD CursorPosition
02086     );
02087 <span class="preprocessor">#else</span>
02088 <span class="preprocessor"></span><a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02089 <a class="code" href="../../d8/d5/consrv_8h.html#a305">ExtendSelection</a>(
02090     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
02091     IN COORD CursorPosition
02092     );
02093 <span class="preprocessor">#endif</span>
02094 <span class="preprocessor"></span>
02095 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02096 <a class="code" href="../../d8/d5/consrv_8h.html#a306">ClearSelection</a>(
02097     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
02098     );
02099 
02100 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02101 <a class="code" href="../../d8/d5/consrv_8h.html#a307">StoreSelection</a>(
02102     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
02103     );
02104 
02105 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02106 <a class="code" href="../../d8/d5/consrv_8h.html#a308">InvertSelection</a>(
02107     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
02108     BOOL Inverting
02109     );
02110 
02111 <span class="preprocessor">#if defined(FE_SB)</span>
02112 <span class="preprocessor"></span><a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
02113 SB_MyInvert(
02114     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
02115     IN PSMALL_RECT SmallRect
02116     );
02117 <span class="preprocessor">#else</span>
02118 <span class="preprocessor"></span><a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
02119 <a class="code" href="../../d8/d5/consrv_8h.html#a309">MyInvert</a>(
02120     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
02121     IN PSMALL_RECT SmallRect
02122     );
02123 <span class="preprocessor">#endif</span>
02124 <span class="preprocessor"></span>
02125 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02126 <a class="code" href="../../d8/d5/consrv_8h.html#a310">ConvertToMouseSelect</a>(
02127     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
02128     IN COORD MousePosition
02129     );
02130 
02131 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02132 <a class="code" href="../../d8/d5/consrv_8h.html#a311">DoScroll</a>(
02133     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
02134     );
02135 
02136 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02137 <a class="code" href="../../d8/d5/consrv_8h.html#a312">ClearScroll</a>(
02138     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console
02139     );
02140 
02141 
02142 <span class="comment">//</span>
02143 <span class="comment">// External private functions used by consrv</span>
02144 <span class="comment">//</span>
02145 
02146 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
02147 <a class="code" href="../../d8/d5/consrv_8h.html#a313">SetConsoleReserveKeys</a>(
02148     HWND hWnd,
02149     DWORD fsReserveKeys
02150     );
02151 
02152 <span class="keywordtype">int</span> <a class="code" href="../../d1/d1/bench_8c.html#a0">APIENTRY</a>
02153 <a class="code" href="../../d8/d5/consrv_8h.html#a314">GreGetDIBitsInternal</a>(
02154     HDC hdc,
02155     HBITMAP hBitmap,
02156     UINT iStartScan,
02157     UINT cNumScan,
02158     LPBYTE pjBits,
02159     LPBITMAPINFO pBitsInfo,
02160     UINT iUsage,
02161     UINT cjMaxBits,
02162     UINT cjMaxInfo
02163     );
02164 
02165 
02166 <span class="preprocessor">#if defined(FE_SB)</span>
02167 <span class="preprocessor"></span><span class="comment">//</span>
02168 <span class="comment">// constubs.c</span>
02169 <span class="comment">//</span>
02170 ULONG
02171 SrvGetConsoleCharType(
02172     IN OUT PCSR_API_MSG m,
02173     IN OUT PCSR_REPLY_STATUS ReplyStatus
02174     );
02175 
02176 ULONG
02177 SrvSetConsoleLocalEUDC(
02178     IN OUT PCSR_API_MSG m,
02179     IN OUT PCSR_REPLY_STATUS ReplyStatus
02180     );
02181 
02182 
02183 ULONG
02184 SrvSetConsoleCursorMode(
02185     IN OUT PCSR_API_MSG m,
02186     IN OUT PCSR_REPLY_STATUS ReplyStatus
02187     );
02188 
02189 ULONG
02190 SrvGetConsoleCursorMode(
02191     IN OUT PCSR_API_MSG m,
02192     IN OUT PCSR_REPLY_STATUS ReplyStatus
02193     );
02194 
02195 ULONG
02196 SrvRegisterConsoleOS2(
02197     IN OUT PCSR_API_MSG m,
02198     IN OUT PCSR_REPLY_STATUS ReplyStatus
02199     );
02200 
02201 ULONG
02202 SrvSetConsoleOS2OemFormat(
02203     IN OUT PCSR_API_MSG m,
02204     IN OUT PCSR_REPLY_STATUS ReplyStatus
02205     );
02206 
02207 <span class="preprocessor">#if defined(FE_IME)</span>
02208 <span class="preprocessor"></span>ULONG
02209 SrvGetConsoleNlsMode(
02210     IN OUT PCSR_API_MSG m,
02211     IN OUT PCSR_REPLY_STATUS ReplyStatus
02212     );
02213 
02214 ULONG
02215 SrvSetConsoleNlsMode(
02216     IN OUT PCSR_API_MSG m,
02217     IN OUT PCSR_REPLY_STATUS ReplyStatus
02218     );
02219 
02220 ULONG
02221 SrvRegisterConsoleIME(
02222     IN OUT PCSR_API_MSG m,
02223     IN OUT PCSR_REPLY_STATUS ReplyStatus
02224     );
02225 
02226 ULONG
02227 SrvUnregisterConsoleIME(
02228     IN OUT PCSR_API_MSG m,
02229     IN OUT PCSR_REPLY_STATUS ReplyStatus
02230     );
02231 <span class="preprocessor">#endif // FE_IME</span>
02232 <span class="preprocessor"></span>
02233 <span class="comment">//</span>
02234 <span class="comment">// dispatch.c</span>
02235 <span class="comment">//</span>
02236 
02237 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02238 <a class="code" href="../../d6/d1/ntcon_2server_2cursor_8c.html#a1">InvertPixels</a>(
02239     IN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a> ScreenInfo
02240     );
02241 
02242 WCHAR
02243 <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a39">CharToWchar</a>(
02244     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
02245     IN UINT Codepage,
02246     IN <span class="keywordtype">char</span> *Ch
02247     );
02248 
02249 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
02250 <a class="code" href="../../d8/d5/consrv_8h.html#a309">MyInvert</a>(
02251     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
02252     IN PSMALL_RECT SmallRect
02253     );
02254 
02255 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
02256 <a class="code" href="../../d8/d5/consrv_8h.html#a305">ExtendSelection</a>(
02257     IN <a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">PCONSOLE_INFORMATION</a> Console,
02258     IN COORD CursorPosition
02259     );
02260 
02261 <span class="preprocessor">#endif // FE_SB</span>
02262 <span class="preprocessor"></span>
02263 <span class="comment">/*</span>
02264 <span class="comment"> * The following define must match the define in w32\w32inc\w32p.h.</span>
02265 <span class="comment"> * Later5.0 GerardoB: It should include w32p.h although that implies</span>
02266 <span class="comment"> *  including several other headers.</span>
02267 <span class="comment"> */</span>
<a name="l02268"></a><a class="code" href="../../d8/d5/consrv_8h.html#a57">02268</a> <span class="preprocessor">#define W32PF_ALLOWSETFOREGROUND           0x00080000</span>
<a name="l02269"></a><a class="code" href="../../d8/d5/consrv_8h.html#a58">02269</a> <span class="preprocessor"></span><span class="preprocessor">#define W32PF_CONSOLEHASFOCUS              0x04000000</span>
02270 <span class="preprocessor"></span>
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:39:33 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
