<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: rtl/draw.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>draw.c File Reference</h1>
<p>
<a href="../../d0/d1/rtl_2draw_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d1/rtl_2draw_8c.html#a2">FlipUserTextOutW</a> (HDC hdc, int x, int y, LPCWSTR ch, int nCount)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int APIENTRY&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d1/rtl_2draw_8c.html#a3">FillRect</a> (HDC hdc, LPCRECT prc, HBRUSH hBrush)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL APIENTRY&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d1/rtl_2draw_8c.html#a4">InvertRect</a> (HDC hdc, LPCRECT prc)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d1/rtl_2draw_8c.html#a5">DrawDiagonalLine</a> (HDC hdc, LPRECT lprc, int iDirection, int iThickness, UINT flags)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d1/rtl_2draw_8c.html#a6">FillTriangle</a> (HDC hdc, LPRECT lprc, HBRUSH hbr, UINT flags)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d1/rtl_2draw_8c.html#a7">DrawDiagonal</a> (HDC hdc, LPRECT lprc, HBRUSH hbrTL, HBRUSH hbrBR, UINT flags)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d1/rtl_2draw_8c.html#a8">DrawGrip</a> (HDC hdc, LPRECT lprc, UINT wState)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d1/rtl_2draw_8c.html#a9">DrawBox</a> (HDC hdc, LPRECT lprc, UINT wControlState)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>WCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d1/rtl_2draw_8c.html#a10">GetCaptionChar</a> (UINT wState)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d1/rtl_2draw_8c.html#a11">DrawMenuMark</a> (HDC hdc, LPRECT lprc, UINT wType, UINT wState)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d1/rtl_2draw_8c.html#a12">DrawIt</a> (HDC hdc, LPRECT lprc, UINT wState, WCHAR ch)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d1/rtl_2draw_8c.html#a13">DrawScrollArrow</a> (HDC hdc, LPRECT lprc, UINT wControlState)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d1/rtl_2draw_8c.html#a14">DrawFrameControl</a> (HDC hdc, LPRECT lprc, UINT wType, UINT wState)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d1/rtl_2draw_8c.html#a15">DrawEdge</a> (HDC hdc, LPRECT lprc, UINT edge, UINT flags)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d1/rtl_2draw_8c.html#a16">DrawPushButton</a> (HDC hdc, LPRECT lprc, UINT state, UINT flags)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d1/rtl_2draw_8c.html#a17">DrawFrame</a> (HDC hdc, PRECT prc, int clFrame, int cmd)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d1/rtl_2draw_8c.html#a18">GetSignFromMappingMode</a> (HDC hdc, PPOINT pptSign)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d1/rtl_2draw_8c.html#a19">ClientFrame</a> (HDC hDC, LPCRECT pRect, HBRUSH hBrush, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> patOp)</td></tr>

<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>CONST WCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d1/rtl_2draw_8c.html#a0">szRadio</a> [] = L"nmlkji"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>CONST WCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d1/rtl_2draw_8c.html#a1">szCheck</a> [] = L"gfedcb"</td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a19" doxytag="rtl/draw.c::ClientFrame" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL ClientFrame           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HDC&nbsp;</td>
          <td class="mdname" nowrap> <em>hDC</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPCRECT&nbsp;</td>
          <td class="mdname" nowrap> <em>pRect</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>HBRUSH&nbsp;</td>
          <td class="mdname" nowrap> <em>hBrush</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>patOp</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l01289">1289</a> of file <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html">rtl/draw.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l01260">GetSignFromMappingMode()</a>, and <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00152">UserPolyPatBlt</a>.
<p>
Referenced by <a class="el" href="../../d4/d8/clrect_8c-source.html#l00026">DrawFocusRect()</a>, <a class="el" href="../../d9/d2/dwp_8c-source.html#l00024">DWP_DrawItem()</a>, and <a class="el" href="../../d4/d8/clrect_8c-source.html#l00041">FrameRect()</a>.
<p>
<pre class="fragment"><div>01294 {
01295     <span class="keywordtype">int</span>        x;
01296     <span class="keywordtype">int</span>        y;
01297     POINT      point;
01298     POINT      ptSign;
01299     POLYPATBLT PolyData[4];
01300 
01301     <span class="keywordflow">if</span> (!<a class="code" href="../../d9/d1/rtl_2draw_8c.html#a18">GetSignFromMappingMode</a> (hDC, &amp;ptSign))
01302         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01303 
01304     y = pRect-&gt;bottom - (point.y = pRect-&gt;top);
01305     <span class="keywordflow">if</span> (y &lt; 0) {
01306         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01307     }
01308 
01309     x = pRect-&gt;right -  (point.x = pRect-&gt;left);
01310 
01311     <span class="comment">/*</span>
01312 <span class="comment">     * Check width and height signs</span>
01313 <span class="comment">     */</span>
01314     <span class="keywordflow">if</span> (((x ^ ptSign.x) &lt; 0) || ((y ^ ptSign.y) &lt; 0))
01315         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01316 
01317     <span class="comment">// Top border</span>
01318     PolyData[0].x         = point.x;
01319     PolyData[0].y         = point.y;
01320     PolyData[0].cx        = x;
01321     PolyData[0].cy        = ptSign.y;
01322     PolyData[0].BrClr.hbr = hBrush;
01323 
01324     <span class="comment">// Bottom border</span>
01325     point.y = pRect-&gt;bottom - ptSign.y;
01326     PolyData[1].x         = point.x;
01327     PolyData[1].y         = point.y;
01328     PolyData[1].cx        = x;
01329     PolyData[1].cy        = ptSign.y;
01330     PolyData[1].BrClr.hbr = hBrush;
01331 
01332     <span class="comment">/*</span>
01333 <span class="comment">     * Left Border</span>
01334 <span class="comment">     * Don't xor the corners twice</span>
01335 <span class="comment">     */</span>
01336     point.y = pRect-&gt;top + ptSign.y;
01337     y -= 2 * ptSign.y;
01338     PolyData[2].x         = point.x;
01339     PolyData[2].y         = point.y;
01340     PolyData[2].cx        = ptSign.x;
01341     PolyData[2].cy        = y;
01342     PolyData[2].BrClr.hbr = hBrush;
01343 
01344     <span class="comment">// Right Border</span>
01345     point.x = pRect-&gt;right - ptSign.x;
01346     PolyData[3].x         = point.x;
01347     PolyData[3].y         = point.y;
01348     PolyData[3].cx        = ptSign.x;
01349     PolyData[3].cy        = y;
01350     PolyData[3].BrClr.hbr = hBrush;
01351 
01352     <span class="keywordflow">return</span> <a class="code" href="../../d6/d1/userrtl_8h.html#a17">UserPolyPatBlt</a>(hDC, patOp, PolyData, <span class="keyword">sizeof</span> (PolyData) / <span class="keyword">sizeof</span> (*PolyData), PPB_BRUSH);
01353 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="rtl/draw.c::DrawBox" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL DrawBox           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HDC&nbsp;</td>
          <td class="mdname" nowrap> <em>hdc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPRECT&nbsp;</td>
          <td class="mdname" nowrap> <em>lprc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>wControlState</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00460">460</a> of file <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html">rtl/draw.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d4/d9/user32_8def-source.html#l00799">c</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00480">cy</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00061">FillRect()</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00022">FlipUserTextOutW()</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l03362">ghbrBlack</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l03361">ghbrWhite</a>, <a class="el" href="../../d2/d7/clglobal_8c-source.html#l00051">gpsi</a>, <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>, <a class="el" href="../../d6/d3/acpitabl_8h-source.html#l00366">min</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00204">SYSRGB</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00205">SYSRGBRTL</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00014">szCheck</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00013">szRadio</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00152">UserPolyPatBlt</a>, <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00155">UserSetBkColor</a>, <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00157">UserSetTextColor</a>, <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00158">UserTextOutW</a>, and <a class="el" href="../../d7/d9/usercli_8h-source.html#l02070">WINDOW</a>.
<p>
Referenced by <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00729">DrawFrameControl()</a>, and <a class="el" href="../../d9/d3/sbctl_8c-source.html#l00481">DrawSize()</a>.
<p>
<pre class="fragment"><div>00464 {
00465     <span class="keywordtype">int</span>      cx;
00466     <span class="keywordtype">int</span>      <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>;
00467     <span class="keywordtype">int</span>      <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>;
00468     <span class="keywordtype">int</span>      x;
00469     <span class="keywordtype">int</span>      y;
00470     LPCWSTR  lp = <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a0">szRadio</a>;
00471     <span class="keywordtype">int</span>      i;
00472     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>     fSkip0thItem;
00473     COLORREF clr[6];
00474     COLORREF clrOld;
00475 
00476     fSkip0thItem = ((wControlState &amp; (DFCS_BUTTON3STATE | DFCS_PUSHED |
00477         DFCS_INACTIVE | DFCS_CHECKED)) == (DFCS_BUTTON3STATE | DFCS_CHECKED));
00478 
00479     <span class="comment">/*</span>
00480 <span class="comment">     * Don't need radio mask with marlett font!</span>
00481 <span class="comment">     */</span>
00482     <span class="keywordflow">if</span> (wControlState &amp; DFCS_BUTTONRADIOMASK) {
00483 
00484         clr[0] = clr[1] = clr[2] = clr[3] = clr[4] = 0<a class="code" href="../../d2/d0/aw_8h.html#a3">L</a>;
00485         <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a3">FillRect</a>(hdc, lprc, ghbrWhite);
00486 
00487     } <span class="keywordflow">else</span> {
00488 
00489         <span class="comment">/*</span>
00490 <span class="comment">         * DFCS_BUTTONRADIOIMAGE</span>
00491 <span class="comment">         */</span>
00492         <span class="keywordflow">if</span> (wControlState &amp; (DFCS_MONO | DFCS_FLAT)) {
00493             clr[1] = clr[2] = clr[3] = clr[4] = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a21">SYSRGBRTL</a>(WINDOWFRAME);
00494         } <span class="keywordflow">else</span> {
00495             clr[1] = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a21">SYSRGBRTL</a>(3DLIGHT);
00496             clr[2] = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a21">SYSRGBRTL</a>(3DDKSHADOW);
00497             clr[3] = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a21">SYSRGBRTL</a>(3DHILIGHT);
00498             clr[4] = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a21">SYSRGBRTL</a>(3DSHADOW);
00499         }
00500 
00501 
00502         <span class="keywordflow">if</span> (wControlState &amp; (DFCS_PUSHED | DFCS_INACTIVE))
00503             clr[0] = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a21">SYSRGBRTL</a>(3DFACE);
00504         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fSkip0thItem)
00505             clr[0] = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a21">SYSRGBRTL</a>(3DHILIGHT);
00506         <span class="keywordflow">else</span>
00507             clr[0] = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a21">SYSRGBRTL</a>(WINDOW);
00508 
00509         <span class="keywordflow">if</span> (wControlState &amp; DFCS_BUTTONRADIOIMAGE)
00510             <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a3">FillRect</a>(hdc, lprc, ghbrBlack);
00511         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!(wControlState &amp; DFCS_BUTTONRADIO))
00512             lp = <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a1">szCheck</a>;
00513     }
00514 
00515     cx = lprc-&gt;right - lprc-&gt;left;
00516     <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = lprc-&gt;bottom - lprc-&gt;top;
00517 
00518     <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a> = <a class="code" href="../../d5/d4/acpitabl_8h.html#a69">min</a>(cx,cy);
00519     x = lprc-&gt;left + ((cx - <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>) / 2); <span class="comment">// - 1;</span>
00520     y = lprc-&gt;top  + ((<a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> - <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>) / 2);
00521 
00522     <span class="keywordflow">if</span> (fSkip0thItem &amp;&amp;
00523         ((<a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;BitCount &lt; 8) || (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a20">SYSRGB</a>(3DHILIGHT) == RGB(255,255,255)))) {
00524 
00525         COLORREF   clrBk;
00526         POLYPATBLT PolyData;
00527 
00528          <span class="comment">/*</span>
00529 <span class="comment">          * Make the interior of a 3State checkbox which is just checked a</span>
00530 <span class="comment">          * dither, just like an indeterminate push button which is pressed.</span>
00531 <span class="comment">          */</span>
00532          clrBk  = <a class="code" href="../../d6/d1/userrtl_8h.html#a20">UserSetBkColor</a>(hdc, <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a20">SYSRGB</a>(3DHILIGHT));
00533          clrOld = <a class="code" href="../../d6/d1/userrtl_8h.html#a22">UserSetTextColor</a>(hdc, <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a20">SYSRGB</a>(3DFACE));
00534 
00535          PolyData.x         = x;
00536          PolyData.y         = y;
00537          PolyData.cx        = cx;
00538          PolyData.cy        = <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>;
00539          PolyData.BrClr.hbr = <a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;hbrGray;
00540          <a class="code" href="../../d6/d1/userrtl_8h.html#a17">UserPolyPatBlt</a>(hdc, PATCOPY, &amp;PolyData, 1, PPB_BRUSH);
00541 
00542          <a class="code" href="../../d6/d1/userrtl_8h.html#a20">UserSetBkColor</a>(hdc, clrBk);
00543 
00544     } <span class="keywordflow">else</span> {
00545         clrOld = <a class="code" href="../../d6/d1/userrtl_8h.html#a22">UserSetTextColor</a>(hdc, clr[0]);
00546         <a class="code" href="../../d6/d1/userrtl_8h.html#a23">UserTextOutW</a>(hdc, x, y, lp, 1);
00547     }
00548 
00549     lp++;
00550 
00551     <span class="keywordflow">for</span> (i = 1; i &lt; 5; i++) {
00552         <a class="code" href="../../d6/d1/userrtl_8h.html#a22">UserSetTextColor</a>(hdc, clr[i]);
00553         <a class="code" href="../../d6/d1/userrtl_8h.html#a23">UserTextOutW</a>(hdc, x, y, lp++, 1);
00554     }
00555 
00556     <span class="keywordflow">if</span> (wControlState &amp; DFCS_CHECKED) {
00557         COLORREF clrCheck;
00558 
00559         <span class="keywordflow">if</span> (wControlState &amp; (DFCS_BUTTON3STATE | DFCS_INACTIVE)) {
00560             clrCheck = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a21">SYSRGBRTL</a>(3DSHADOW);
00561         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (wControlState &amp; DFCS_HOT) {
00562             clrCheck = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a21">SYSRGBRTL</a>(HOTLIGHT);
00563         } <span class="keywordflow">else</span> {
00564             clrCheck = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a21">SYSRGBRTL</a>(WINDOWTEXT);
00565         }
00566 
00567         <a class="code" href="../../d6/d1/userrtl_8h.html#a22">UserSetTextColor</a>(hdc, clrCheck);
00568         <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a2">FlipUserTextOutW</a>(hdc, x, y, lp, 1);
00569     }
00570 
00571     <a class="code" href="../../d6/d1/userrtl_8h.html#a22">UserSetTextColor</a>(hdc, clrOld);
00572 
00573     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00574 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="rtl/draw.c::DrawDiagonal" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL DrawDiagonal           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HDC&nbsp;</td>
          <td class="mdname" nowrap> <em>hdc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPRECT&nbsp;</td>
          <td class="mdname" nowrap> <em>lprc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>HBRUSH&nbsp;</td>
          <td class="mdname" nowrap> <em>hbrTL</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>HBRUSH&nbsp;</td>
          <td class="mdname" nowrap> <em>hbrBR</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>flags</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00345">345</a> of file <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html">rtl/draw.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00114">DrawDiagonalLine()</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, and <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00153">UserSelectBrush</a>.
<p>
Referenced by <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00896">DrawEdge()</a>.
<p>
<pre class="fragment"><div>00351 {
00352     HBRUSH  hbrT;
00353     <span class="keywordtype">int</span>     nDirection;
00354     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   dAdjust;
00355 
00356     <span class="comment">/*</span>
00357 <span class="comment">     * Away from light source</span>
00358 <span class="comment">     */</span>
00359     hbrT = ((flags &amp; BF_BOTTOM) ? hbrBR : hbrTL);
00360 
00361     <span class="keywordflow">switch</span> (flags &amp; (BF_RECT | BF_DIAGONAL)){
00362 
00363     <span class="keywordflow">case</span> BF_DIAGONAL_ENDTOPLEFT:
00364     <span class="keywordflow">case</span> BF_DIAGONAL_ENDBOTTOMRIGHT:
00365         nDirection = -1;
00366         <span class="keywordflow">break</span>;
00367 
00368     <span class="keywordflow">default</span>:
00369         nDirection = 1;
00370         <span class="keywordflow">break</span>;
00371     }
00372 
00373     hbrT = <a class="code" href="../../d6/d1/userrtl_8h.html#a18">UserSelectBrush</a>(hdc, hbrT);
00374     dAdjust = <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a5">DrawDiagonalLine</a>(hdc, lprc, nDirection, 1, (flags &amp; ~BF_MIDDLE));
00375     <span class="comment">/*</span>
00376 <span class="comment">     * Adjust rectangle for next border</span>
00377 <span class="comment">     */</span>
00378     <span class="keywordflow">if</span> (flags &amp; BF_TOP)
00379         lprc-&gt;left += LOWORD(dAdjust);
00380     <span class="keywordflow">else</span>
00381         lprc-&gt;right -= LOWORD(dAdjust);
00382 
00383     <span class="keywordflow">if</span> (flags &amp; BF_RIGHT)
00384         lprc-&gt;top += HIWORD(dAdjust);
00385     <span class="keywordflow">else</span>
00386         lprc-&gt;bottom -= HIWORD(dAdjust);
00387 
00388     <span class="comment">/*</span>
00389 <span class="comment">     * Moved this to the end to save a check for return value</span>
00390 <span class="comment">     */</span>
00391     <span class="keywordflow">return</span> (<a class="code" href="../../d6/d1/userrtl_8h.html#a18">UserSelectBrush</a>(hdc, hbrT) != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
00392 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="rtl/draw.c::DrawDiagonalLine" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> DrawDiagonalLine           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HDC&nbsp;</td>
          <td class="mdname" nowrap> <em>hdc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPRECT&nbsp;</td>
          <td class="mdname" nowrap> <em>lprc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>iDirection</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>iThickness</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>flags</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00114">114</a> of file <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html">rtl/draw.c</a>.
<p>
References <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00480">cy</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d4/d5/rect_8c-source.html#l00101">IsRectEmpty()</a>, <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00203">SYSMETRTL</a>, and <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00152">UserPolyPatBlt</a>.
<p>
Referenced by <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00345">DrawDiagonal()</a>, and <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00302">FillTriangle()</a>.
<p>
<pre class="fragment"><div>00120 {
00121     RECT    rc;
00122     LPINT   py;
00123     <span class="keywordtype">int</span>     cx;
00124     <span class="keywordtype">int</span>     <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>;
00125     <span class="keywordtype">int</span>     dx;
00126     <span class="keywordtype">int</span>     dy;
00127     LPINT   pc;
00128 
00129     POLYPATBLT ppbData[8];
00130     <span class="keywordtype">int</span>        ppbCount = 0;
00131 
00132     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d6/rect_8c.html#a4">IsRectEmpty</a>(lprc))
00133         <span class="keywordflow">return</span> 0<a class="code" href="../../d2/d0/aw_8h.html#a3">L</a>;
00134 
00135     rc = *lprc;
00136 
00137     <span class="comment">/*</span>
00138 <span class="comment">     * We draw slopes &lt; 1 by varying y instead of x.</span>
00139 <span class="comment">     */</span>
00140     --iThickness;
00141 
00142     <span class="comment">/*</span>
00143 <span class="comment">     * HACK HACK HACK. REMOVE THIS ONCE MARLETT IS AROUND</span>
00144 <span class="comment">     */</span>
00145     <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = rc.bottom - rc.top;
00146     cx = rc.right - rc.left;
00147 
00148     <span class="keywordflow">if</span> (!flags &amp;&amp; (<a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> != cx))
00149         <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> -= iThickness * <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a19">SYSMETRTL</a>(CYBORDER);
00150 
00151     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> &gt;= cx) {
00152 
00153         <span class="comment">/*</span>
00154 <span class="comment">         * "slope" is &gt;= 1, so vary x by 1</span>
00155 <span class="comment">         */</span>
00156         <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> /= cx;
00157         pc = &amp;<a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>;
00158 
00159         cx = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a19">SYSMETRTL</a>(CXBORDER);
00160 
00161     } <span class="keywordflow">else</span> {
00162 
00163         <span class="comment">/*</span>
00164 <span class="comment">         * "slope" is &lt; 1, so vary y by 1</span>
00165 <span class="comment">         */</span>
00166         cx /= <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>;
00167         pc = &amp;cx;
00168 
00169         <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a19">SYSMETRTL</a>(CYBORDER);
00170     }
00171 
00172     dx = cx;
00173     dy = iDirection * <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>;
00174 
00175     *pc = (*pc + iThickness) * <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a19">SYSMETRTL</a>(CYBORDER);
00176 
00177     rc.right  -= cx;
00178     rc.bottom -= <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>;
00179 
00180     <span class="comment">/*</span>
00181 <span class="comment">     * For negative slopes, start from opposite side.</span>
00182 <span class="comment">     */</span>
00183     py = ((iDirection &lt; 0) ? &amp;rc.top : &amp;rc.bottom);
00184 
00185     <span class="keywordflow">while</span> ((rc.left &lt;= rc.right) &amp;&amp; (rc.top &lt;= rc.bottom)) {
00186 
00187         <span class="keywordflow">if</span> (!(flags &amp; BF_MIDDLE)) {
00188 
00189             <span class="comment">/*</span>
00190 <span class="comment">             * UserPatBlt(hdc, rc.left, *py, cx, cy, PATCOPY);</span>
00191 <span class="comment">             */</span>
00192 
00193             ppbData[ppbCount].x         = rc.left;
00194             ppbData[ppbCount].y         = *py;
00195             ppbData[ppbCount].cx        = cx;
00196             ppbData[ppbCount].cy        = <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>;
00197             ppbData[ppbCount].BrClr.hbr = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00198 
00199             ppbCount++;
00200 
00201         } <span class="keywordflow">else</span> {
00202 
00203             <span class="comment">/*</span>
00204 <span class="comment">             * Fill interior.  We can determine vertex in interior</span>
00205 <span class="comment">             * by vector define.</span>
00206 <span class="comment">             */</span>
00207             <span class="keywordflow">if</span> (<a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> &gt; <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a19">SYSMETRTL</a>(CYBORDER)) {
00208 
00209                 <span class="keywordflow">if</span> (flags &amp; BF_LEFT) {
00210 
00211                     <span class="comment">/*</span>
00212 <span class="comment">                     * UserPatBlt(hdc, rc.left, lprc-&gt;top, cx, *py - lprc-&gt;top + cy, PATCOPY);</span>
00213 <span class="comment">                     */</span>
00214 
00215                     ppbData[ppbCount].x         = rc.left;
00216                     ppbData[ppbCount].y         = lprc-&gt;top;
00217                     ppbData[ppbCount].cx        = cx;
00218                     ppbData[ppbCount].cy        = *py - lprc-&gt;top + <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>;
00219                     ppbData[ppbCount].BrClr.hbr = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00220 
00221                     ppbCount++;
00222 
00223                 } <span class="keywordflow">else</span> {
00224                     <span class="comment">/*</span>
00225 <span class="comment">                     * UserPatBlt(hdc, rc.left, *py, cx, lprc-&gt;bottom - *py, PATCOPY);</span>
00226 <span class="comment">                     */</span>
00227 
00228                     ppbData[ppbCount].x          = rc.left;
00229                     ppbData[ppbCount].y          = *py;
00230                     ppbData[ppbCount].cx         = cx;
00231                     ppbData[ppbCount].cy         = lprc-&gt;bottom - *py;
00232                     ppbData[ppbCount].BrClr.hbr  = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00233 
00234                     ppbCount++;
00235                 }
00236 
00237             } <span class="keywordflow">else</span> {
00238 
00239                 <span class="keywordflow">if</span> (flags &amp; BF_TOP) {
00240 
00241                     <span class="comment">/*</span>
00242 <span class="comment">                     * UserPatBlt(hdc, rc.left, *py, lprc-&gt;right - rc.left, cy, PATCOPY);</span>
00243 <span class="comment">                     */</span>
00244 
00245                     ppbData[ppbCount].x          = rc.left;
00246                     ppbData[ppbCount].y          = *py;
00247                     ppbData[ppbCount].cx         = lprc-&gt;right - rc.left;
00248                     ppbData[ppbCount].cy         = <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>;
00249                     ppbData[ppbCount].BrClr.hbr  = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00250 
00251                     ppbCount++;
00252 
00253                 } <span class="keywordflow">else</span> {
00254                     <span class="comment">/*</span>
00255 <span class="comment">                     * UserPatBlt(hdc, lprc-&gt;left, *py, rc.left - lprc-&gt;left + cx, cy, PATCOPY);</span>
00256 <span class="comment">                     */</span>
00257 
00258                     ppbData[ppbCount].x          = lprc-&gt;left;
00259                     ppbData[ppbCount].y          = *py;
00260                     ppbData[ppbCount].cx         = rc.left - lprc-&gt;left + cx;
00261                     ppbData[ppbCount].cy         = <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>;
00262                     ppbData[ppbCount].BrClr.hbr  = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00263 
00264                     ppbCount++;
00265 
00266                 }
00267             }
00268         }
00269 
00270         rc.left += dx;
00271         *py     -= dy;
00272 
00273         <span class="comment">/*</span>
00274 <span class="comment">         * do we need to flush PolyPatBlt ?</span>
00275 <span class="comment">         */</span>
00276         <span class="keywordflow">if</span> (ppbCount == 8) {
00277             <a class="code" href="../../d6/d1/userrtl_8h.html#a17">UserPolyPatBlt</a>(hdc, PATCOPY, &amp;ppbData[0], 8, PPB_BRUSH);
00278             ppbCount = 0;
00279         }
00280     }
00281 
00282     <span class="comment">/*</span>
00283 <span class="comment">     * any left-over PolyPatblt buffered operations?</span>
00284 <span class="comment">     */</span>
00285     <span class="keywordflow">if</span> (ppbCount != 0) {
00286         <a class="code" href="../../d6/d1/userrtl_8h.html#a17">UserPolyPatBlt</a>(hdc, PATCOPY, &amp;ppbData[0], ppbCount, PPB_BRUSH);
00287     }
00288 
00289     <span class="keywordflow">return</span> MAKELONG(cx, cy);
00290 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="rtl/draw.c::DrawEdge" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL DrawEdge           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HDC&nbsp;</td>
          <td class="mdname" nowrap> <em>hdc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPRECT&nbsp;</td>
          <td class="mdname" nowrap> <em>lprc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>edge</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>flags</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00896">896</a> of file <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html">rtl/draw.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00345">DrawDiagonal()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00061">FillRect()</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00302">FillTriangle()</a>, <a class="el" href="../../d2/d7/clglobal_8c-source.html#l00051">gpsi</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00212">SYSHBR</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00203">SYSMETRTL</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d0/d5/ndismain_8h-source.html#l00026">UINT</a>, <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00152">UserPolyPatBlt</a>, and <a class="el" href="../../d7/d9/usercli_8h-source.html#l02070">WINDOW</a>.
<p>
Referenced by <a class="el" href="../../d9/d3/sbctl_8c-source.html#l00573">DrawGroove()</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l01125">DrawPushButton()</a>, <a class="el" href="../../d3/d9/server_2exitwin_8c-source.html#l01312">EndTaskDlgProc()</a>, <a class="el" href="../../d7/d7/sftkbdt1_8c-source.html#l00347">InitSKT1Bitmap()</a>, <a class="el" href="../../d7/d1/mndraw_8c-source.html#l00181">MNDrawFullNC()</a>, <a class="el" href="../../d9/d0/btnctl_8c-source.html#l01206">xxxBNPaint()</a>, <a class="el" href="../../d2/d3/combo_8c-source.html#l01431">xxxCBPaint()</a>, <a class="el" href="../../d2/d4/caption_8c-source.html#l00986">xxxDrawCaptionBar()</a>, <a class="el" href="../../d2/d1/drawfrm_8c-source.html#l00076">xxxDrawWindowFrame()</a>, <a class="el" href="../../d7/d1/mndraw_8c-source.html#l01534">xxxMenuDraw()</a>, <a class="el" href="../../d2/d2/tmswitch_8c-source.html#l01012">xxxPaintSwitchWindow()</a>, and <a class="el" href="../../d6/d4/statctl_8c-source.html#l00419">xxxStaticPaint()</a>.
<p>
<pre class="fragment"><div>00901 {
00902     HBRUSH     hbrTL;
00903     HBRUSH     hbrBR;
00904     RECT       rc;
00905     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>       bdrType;
00906     POLYPATBLT ppbData[4];
00907     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>       ppbCount;
00908     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>       fResult = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00909 
00910     <span class="comment">/*</span>
00911 <span class="comment">     * Enforce monochromicity and flatness</span>
00912 <span class="comment">     */</span>
00913     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;BitCount == 1)
00914         flags |= BF_MONO;
00915 
00916     <span class="keywordflow">if</span> (flags &amp; BF_MONO)
00917         flags |= BF_FLAT;
00918 
00919     rc = *lprc;
00920 
00921     <span class="comment">/*</span>
00922 <span class="comment">     * Draw the border segment(s), and calculate the remaining space as we</span>
00923 <span class="comment">     * go.</span>
00924 <span class="comment">     */</span>
00925     <span class="keywordflow">if</span> (bdrType = (edge &amp; BDR_OUTER)) {
00926 
00927 DrawBorder:
00928 
00929         <span class="comment">/*</span>
00930 <span class="comment">         * Get brushes.  Note the symmetry between raised outer,</span>
00931 <span class="comment">         * sunken inner and sunken outer, raised inner.</span>
00932 <span class="comment">         */</span>
00933         <span class="keywordflow">if</span> (flags &amp; BF_FLAT) {
00934 
00935             <span class="keywordflow">if</span> (flags &amp; BF_MONO)
00936                 hbrBR = (bdrType &amp; BDR_OUTER) ? <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(WINDOWFRAME) : <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(<a class="code" href="../../d6/d0/usercli_8h.html#a273">WINDOW</a>);
00937             <span class="keywordflow">else</span>
00938                 hbrBR = (bdrType &amp; BDR_OUTER) ? <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(3DSHADOW) : <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(3DFACE);
00939 
00940             hbrTL = hbrBR;
00941 
00942         } <span class="keywordflow">else</span> {
00943 
00944             <span class="comment">/*</span>
00945 <span class="comment">             * 5 == HILIGHT</span>
00946 <span class="comment">             * 4 == LIGHT</span>
00947 <span class="comment">             * 3 == FACE</span>
00948 <span class="comment">             * 2 == SHADOW</span>
00949 <span class="comment">             * 1 == DKSHADOW</span>
00950 <span class="comment">             */</span>
00951 
00952             <span class="keywordflow">switch</span> (bdrType) {
00953             <span class="comment">/*</span>
00954 <span class="comment">             * +2 above surface</span>
00955 <span class="comment">             */</span>
00956             <span class="keywordflow">case</span> BDR_RAISEDOUTER:
00957                 hbrTL = ((flags &amp; BF_SOFT) ? <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(3DHILIGHT) : <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(3DLIGHT));
00958                 hbrBR = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(3DDKSHADOW);     <span class="comment">// 1</span>
00959                 <span class="keywordflow">break</span>;
00960 
00961             <span class="comment">/*</span>
00962 <span class="comment">             * +1 above surface</span>
00963 <span class="comment">             */</span>
00964             <span class="keywordflow">case</span> BDR_RAISEDINNER:
00965                 hbrTL = ((flags &amp; BF_SOFT) ? <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(3DLIGHT) : <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(3DHILIGHT));
00966                 hbrBR = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(3DSHADOW);       <span class="comment">// 2</span>
00967                 <span class="keywordflow">break</span>;
00968 
00969             <span class="comment">/*</span>
00970 <span class="comment">             * -1 below surface</span>
00971 <span class="comment">             */</span>
00972             <span class="keywordflow">case</span> BDR_SUNKENOUTER:
00973                 hbrTL = ((flags &amp; BF_SOFT) ? <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(3DDKSHADOW) : <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(3DSHADOW));
00974                 hbrBR = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(3DHILIGHT);      <span class="comment">// 5</span>
00975                 <span class="keywordflow">break</span>;
00976 
00977             <span class="comment">/*</span>
00978 <span class="comment">             * -2 below surface</span>
00979 <span class="comment">             */</span>
00980             <span class="keywordflow">case</span> BDR_SUNKENINNER:
00981                 hbrTL = ((flags &amp; BF_SOFT) ? <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(3DSHADOW) : <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(3DDKSHADOW));
00982                 hbrBR = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(3DLIGHT);        <span class="comment">// 4</span>
00983                 <span class="keywordflow">break</span>;
00984 
00985             <span class="keywordflow">default</span>:
00986                 <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00987             }
00988         }
00989 
00990         <span class="comment">/*</span>
00991 <span class="comment">         * Draw the sides of the border.  NOTE THAT THE ALGORITHM FAVORS THE</span>
00992 <span class="comment">         * BOTTOM AND RIGHT SIDES, since the light source is assumed to be top</span>
00993 <span class="comment">         * left.  If we ever decide to let the user set the light source to a</span>
00994 <span class="comment">         * particular corner, then change this algorithm.</span>
00995 <span class="comment">         */</span>
00996         <span class="keywordflow">if</span> (flags &amp; BF_DIAGONAL) {
00997 
00998             fResult = <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a7">DrawDiagonal</a>(hdc, &amp;rc, hbrTL, hbrBR, flags);
00999 
01000         } <span class="keywordflow">else</span> {
01001 
01002             <span class="comment">/*</span>
01003 <span class="comment">             * reset ppbData index</span>
01004 <span class="comment">             */</span>
01005             ppbCount = 0;
01006 
01007             <span class="comment">/*</span>
01008 <span class="comment">             * Bottom Right edges</span>
01009 <span class="comment">             */</span>
01010                 <span class="comment">/*</span>
01011 <span class="comment">                 * Right</span>
01012 <span class="comment">                 */</span>
01013             <span class="keywordflow">if</span> (flags &amp; BF_RIGHT) {
01014 
01015                 rc.right -= <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a19">SYSMETRTL</a>(CXBORDER);
01016 
01017                 ppbData[ppbCount].x         = rc.right;
01018                 ppbData[ppbCount].y         = rc.top;
01019                 ppbData[ppbCount].cx        = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a19">SYSMETRTL</a>(CXBORDER);
01020                 ppbData[ppbCount].cy        = rc.bottom - rc.top;
01021                 ppbData[ppbCount].BrClr.hbr = hbrBR;
01022                 ppbCount++;
01023             }
01024 
01025             <span class="comment">/*</span>
01026 <span class="comment">             * Bottom</span>
01027 <span class="comment">             */</span>
01028             <span class="keywordflow">if</span> (flags &amp; BF_BOTTOM) {
01029                 rc.bottom -= <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a19">SYSMETRTL</a>(CYBORDER);
01030 
01031                 ppbData[ppbCount].x         = rc.left;
01032                 ppbData[ppbCount].y         = rc.bottom;
01033                 ppbData[ppbCount].cx        = rc.right - rc.left;
01034                 ppbData[ppbCount].cy        = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a19">SYSMETRTL</a>(CYBORDER);
01035                 ppbData[ppbCount].BrClr.hbr = hbrBR;
01036                 ppbCount++;
01037             }
01038 
01039             <span class="comment">/*</span>
01040 <span class="comment">             * Top Left edges</span>
01041 <span class="comment">             */</span>
01042             <span class="comment">/*</span>
01043 <span class="comment">             * Left</span>
01044 <span class="comment">             */</span>
01045             <span class="keywordflow">if</span> (flags &amp; BF_LEFT) {
01046                 ppbData[ppbCount].x         = rc.left;
01047                 ppbData[ppbCount].y         = rc.top;
01048                 ppbData[ppbCount].cx        = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a19">SYSMETRTL</a>(CXBORDER);
01049                 ppbData[ppbCount].cy        = rc.bottom - rc.top;
01050                 ppbData[ppbCount].BrClr.hbr = hbrTL;
01051                 ppbCount++;
01052 
01053                 rc.left += <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a19">SYSMETRTL</a>(CXBORDER);
01054             }
01055 
01056             <span class="comment">/*</span>
01057 <span class="comment">             * Top</span>
01058 <span class="comment">             */</span>
01059             <span class="keywordflow">if</span> (flags &amp; BF_TOP) {
01060                 ppbData[ppbCount].x         = rc.left;
01061                 ppbData[ppbCount].y         = rc.top;
01062                 ppbData[ppbCount].cx        = rc.right - rc.left;
01063                 ppbData[ppbCount].cy        = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a19">SYSMETRTL</a>(CYBORDER);
01064                 ppbData[ppbCount].BrClr.hbr = hbrTL;
01065                 ppbCount++;
01066 
01067                 rc.top += <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a19">SYSMETRTL</a>(CYBORDER);
01068             }
01069             <span class="comment">/*</span>
01070 <span class="comment">             * Send all queued PatBlts to GDI in one go</span>
01071 <span class="comment">             */</span>
01072             fResult = <a class="code" href="../../d6/d1/userrtl_8h.html#a17">UserPolyPatBlt</a>(hdc,PATCOPY,&amp;ppbData[0],ppbCount,PPB_BRUSH);
01073         }
01074     }
01075 
01076     <span class="keywordflow">if</span> (bdrType = (edge &amp; BDR_INNER)) {
01077         <span class="comment">/*</span>
01078 <span class="comment">         * Strip this so the next time through, bdrType will be 0.</span>
01079 <span class="comment">         * Otherwise, we'll loop forever.</span>
01080 <span class="comment">         */</span>
01081         edge &amp;= ~BDR_INNER;
01082         <span class="keywordflow">goto</span> DrawBorder;
01083     }
01084 
01085 
01086     <span class="comment">/*</span>
01087 <span class="comment">     * Select old brush back in, if we changed it.</span>
01088 <span class="comment">     */</span>
01089 
01090     <span class="comment">/*</span>
01091 <span class="comment">     * Fill the middle &amp; clean up if asked</span>
01092 <span class="comment">     */</span>
01093     <span class="keywordflow">if</span> (flags &amp; BF_MIDDLE) {
01094         <span class="keywordflow">if</span> (flags &amp; BF_DIAGONAL)
01095             fResult = <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a6">FillTriangle</a>(hdc, &amp;rc, ((flags &amp; BF_MONO) ? (HBRUSH)<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(WINDOW) : (HBRUSH)<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(3DFACE)), flags);
01096         <span class="keywordflow">else</span>
01097             fResult = <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a3">FillRect</a>(hdc, &amp;rc, ((flags &amp; BF_MONO) ? (HBRUSH)<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(WINDOW) : (HBRUSH)<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(3DFACE)));
01098     }
01099 
01100     <span class="keywordflow">if</span> (flags &amp; BF_ADJUST)
01101         *lprc = rc;
01102 
01103     <span class="keywordflow">return</span> fResult;
01104 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="rtl/draw.c::DrawFrame" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL DrawFrame           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HDC&nbsp;</td>
          <td class="mdname" nowrap> <em>hdc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PRECT&nbsp;</td>
          <td class="mdname" nowrap> <em>prc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>clFrame</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>cmd</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l01188">1188</a> of file <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html">rtl/draw.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00480">cy</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00720">DF_GRAY</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00703">DF_HBRMASK</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00702">DF_ROPMASK</a>, <a class="el" href="../../d2/d7/clglobal_8c-source.html#l00051">gpsi</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l00236">SYSHBRUSH</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00203">SYSMETRTL</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00152">UserPolyPatBlt</a>.
<p>
Referenced by <a class="el" href="../../d2/d2/tmswitch_8c-source.html#l00538">DrawSwitchWndHilite()</a>, <a class="el" href="../../d2/d4/editml_8c-source.html#l01965">MLPaint()</a>, <a class="el" href="../../d7/d1/mndraw_8c-source.html#l00181">MNDrawFullNC()</a>, <a class="el" href="../../d4/d4/editsl_8c-source.html#l02280">SLPaint()</a>, <a class="el" href="../../d9/d0/btnctl_8c-source.html#l01159">xxxDrawButton()</a>, <a class="el" href="../../d2/d4/caption_8c-source.html#l00986">xxxDrawCaptionBar()</a>, and <a class="el" href="../../d6/d4/statctl_8c-source.html#l00419">xxxStaticPaint()</a>.
<p>
<pre class="fragment"><div>01193 {
01194     <span class="keywordtype">int</span>        x;
01195     <span class="keywordtype">int</span>        y;
01196     <span class="keywordtype">int</span>        cx;
01197     <span class="keywordtype">int</span>        <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>;
01198     <span class="keywordtype">int</span>        cxWidth;
01199     <span class="keywordtype">int</span>        cyWidth;
01200     HANDLE     hbrSave;
01201     LONG       rop;
01202     POLYPATBLT PolyData[4];
01203 
01204     x = prc-&gt;left;
01205     y = prc-&gt;top;
01206 
01207     cxWidth = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a19">SYSMETRTL</a>(CXBORDER) * clFrame;
01208     cyWidth = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a19">SYSMETRTL</a>(CYBORDER) * clFrame;
01209 
01210     cx = prc-&gt;right - x - cxWidth;
01211     <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = prc-&gt;bottom - y - cyWidth;
01212 
01213     rop = ((cmd &amp; <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a169">DF_ROPMASK</a>) ? PATINVERT : PATCOPY);
01214 
01215     <span class="keywordflow">if</span> ((cmd &amp; <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a170">DF_HBRMASK</a>) == <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a186">DF_GRAY</a>) {
01216         hbrSave = <a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;hbrGray;
01217     } <span class="keywordflow">else</span> {
01218         UserAssert(((cmd &amp; DF_HBRMASK) &gt;&gt; 3) &lt; COLOR_MAX);
01219         hbrSave = <a class="code" href="../../d1/d0/inc_2user_8h.html#a15">SYSHBRUSH</a>((cmd &amp; DF_HBRMASK) &gt;&gt; 3);
01220     }
01221 
01222     PolyData[0].x         = x;
01223     PolyData[0].y         = y;
01224     PolyData[0].cx        = cxWidth;
01225     PolyData[0].cy        = <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>;
01226     PolyData[0].BrClr.hbr = hbrSave;
01227 
01228     PolyData[1].x         = x + cxWidth;
01229     PolyData[1].y         = y;
01230     PolyData[1].cx        = cx;
01231     PolyData[1].cy        = cyWidth;
01232     PolyData[1].BrClr.hbr = hbrSave;
01233 
01234     PolyData[2].x         = x;
01235     PolyData[2].y         = y + <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>;
01236     PolyData[2].cx        = cx;
01237     PolyData[2].cy        = cyWidth;
01238     PolyData[2].BrClr.hbr = hbrSave;
01239 
01240     PolyData[3].x         = x + cx;
01241     PolyData[3].y         = y + cyWidth;
01242     PolyData[3].cx        = cxWidth;
01243     PolyData[3].cy        = <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>;
01244     PolyData[3].BrClr.hbr = hbrSave;
01245 
01246     <a class="code" href="../../d6/d1/userrtl_8h.html#a17">UserPolyPatBlt</a>(hdc, rop, &amp;PolyData[0], 4, PPB_BRUSH);
01247 
01248     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01249 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="rtl/draw.c::DrawFrameControl" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL DrawFrameControl           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HDC&nbsp;</td>
          <td class="mdname" nowrap> <em>hdc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPRECT&nbsp;</td>
          <td class="mdname" nowrap> <em>lprc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>wType</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>wState</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00729">729</a> of file <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html">rtl/draw.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d4/d9/user32_8def-source.html#l00799">c</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00460">DrawBox()</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00400">DrawGrip()</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00656">DrawIt()</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00604">DrawMenuMark()</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l01125">DrawPushButton()</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00710">DrawScrollArrow()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00581">GetCaptionChar()</a>, <a class="el" href="../../d2/d7/clglobal_8c-source.html#l00051">gpsi</a>, <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>, <a class="el" href="../../d6/d3/acpitabl_8h-source.html#l00366">min</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00212">SYSHBR</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d0/d5/ndismain_8h-source.html#l00026">UINT</a>, <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00136">UserCreateFontIndirectW</a>, <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00138">UserDeleteObject</a>, <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00163">UserGetLayout</a>, <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00160">UserGetTextAlign</a>, <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00152">UserPolyPatBlt</a>, <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00154">UserSelectFont</a>, <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00156">UserSetBkMode</a>, <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00164">UserSetGraphicsMode</a>, and <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00161">UserSetTextAlign</a>.
<p>
Referenced by <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00494">CreateBitmapStrip()</a>, <a class="el" href="../../d5/d8/clres_8c-source.html#l01899">LoadBmp()</a>, <a class="el" href="../../d7/d1/mndraw_8c-source.html#l00102">MNDrawArrow()</a>, <a class="el" href="../../d9/d0/btnctl_8c-source.html#l00995">xxxButtonDrawCheck()</a>, <a class="el" href="../../d2/d3/combo_8c-source.html#l01431">xxxCBPaint()</a>, <a class="el" href="../../d9/d3/sbctl_8c-source.html#l00800">xxxDrawSB2()</a>, and <a class="el" href="../../d9/d3/sbctl_8c-source.html#l01678">zzzDrawInvertScrollArea()</a>.
<p>
<pre class="fragment"><div>00734 {
00735     RECT     rc;
00736     HFONT    hFont;
00737     HFONT    hOldFont;
00738     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>     fRet = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00739     <span class="keywordtype">int</span>      iOldBk;
00740     <span class="keywordtype">int</span>      <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>;
00741     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>     fButton = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00742     LOGFONTW lfw;
00743 <span class="preprocessor">#ifdef USE_MIRRORING</span>
00744 <span class="preprocessor"></span>    <span class="keywordtype">int</span>      iGraphicsModeOld = 0;
00745     <span class="keywordtype">int</span>      iOldTextAlign;
00746 <span class="preprocessor">#endif</span>
00747 <span class="preprocessor"></span>
00748     rc = *lprc;
00749 
00750 <span class="preprocessor">#ifdef USE_MIRRORING</span>
00751 <span class="preprocessor"></span>    <span class="comment">/*</span>
00752 <span class="comment">     * If the hdc is mirrored then set it in GM_ADVANCED mode</span>
00753 <span class="comment">     * to enforce the text to be mirrored.</span>
00754 <span class="comment">     */</span>
00755     <span class="keywordflow">if</span> (<a class="code" href="../../d6/d1/userrtl_8h.html#a28">UserGetLayout</a>(hdc) &amp; LAYOUT_RTL) {
00756         <span class="keywordflow">if</span> (iGraphicsModeOld = <a class="code" href="../../d6/d1/userrtl_8h.html#a29">UserSetGraphicsMode</a>(hdc, GM_ADVANCED))
00757         {   
00758             iOldTextAlign = <a class="code" href="../../d6/d1/userrtl_8h.html#a25">UserGetTextAlign</a>(hdc);
00759             <span class="keywordflow">if</span> ((iOldTextAlign &amp; TA_CENTER) != TA_CENTER)
00760             {
00761                 <a class="code" href="../../d6/d1/userrtl_8h.html#a26">UserSetTextAlign</a>(hdc, iOldTextAlign^TA_RIGHT);
00762             }
00763         }
00764     }
00765 <span class="preprocessor">#endif</span>
00766 <span class="preprocessor"></span>    <span class="comment">/*</span>
00767 <span class="comment">     * Enforce monochrome/flat</span>
00768 <span class="comment">     */</span>
00769     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;BitCount == 1)
00770         wState |= DFCS_MONO;
00771 
00772     <span class="keywordflow">if</span> (wState &amp; DFCS_MONO)
00773         wState |= DFCS_FLAT;
00774 
00775     <span class="keywordflow">if</span> ((wType != DFC_MENU)
00776             &amp;&amp; (wType != DFC_POPUPMENU)
00777             &amp;&amp; ((wType != DFC_BUTTON) || (wState &amp; DFCS_BUTTONPUSH))
00778             &amp;&amp; ((wType != DFC_SCROLL)
00779                 || !(wState &amp; (DFCS_SCROLLSIZEGRIP | DFCS_SCROLLSIZEGRIPRIGHT))))
00780     {
00781         <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> wBorder = BF_ADJUST;
00782 
00783         <span class="keywordflow">if</span> (wType != DFC_SCROLL)
00784             wBorder |= BF_SOFT;
00785 
00786         UserAssert(DFCS_FLAT == BF_FLAT);
00787         UserAssert(DFCS_MONO == BF_MONO);
00788 
00789         wBorder |= (wState &amp; (DFCS_FLAT | DFCS_MONO));
00790 
00791         <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a16">DrawPushButton</a>(hdc, &amp;rc, wState, wBorder);
00792 
00793         <span class="keywordflow">if</span> (wState &amp; DFCS_ADJUSTRECT)
00794             *lprc = rc;
00795 
00796         fButton = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00797     }
00798 
00799     iOldBk = <a class="code" href="../../d6/d1/userrtl_8h.html#a21">UserSetBkMode</a>(hdc, TRANSPARENT);
00800     <span class="keywordflow">if</span> (!iOldBk) {
00801         <span class="comment">/*</span>
00802 <span class="comment">         * return FALSE if the hdc is bogus</span>
00803 <span class="comment">         */</span>
00804 <span class="preprocessor">#ifdef USE_MIRRORING</span>
00805 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (iGraphicsModeOld) {
00806             <a class="code" href="../../d6/d1/userrtl_8h.html#a29">UserSetGraphicsMode</a>(hdc, iGraphicsModeOld);
00807             <a class="code" href="../../d6/d1/userrtl_8h.html#a26">UserSetTextAlign</a>(hdc, iOldTextAlign);
00808         }
00809 <span class="preprocessor">#endif</span>
00810 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00811     }
00812 
00813     <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a> = <a class="code" href="../../d5/d4/acpitabl_8h.html#a69">min</a>(rc.right - rc.left, rc.bottom - rc.top);
00814 
00815     <span class="keywordflow">if</span> (<a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a> &lt;= 0) {
00816 <span class="preprocessor">#ifdef USE_MIRRORING</span>
00817 <span class="preprocessor"></span>        <span class="keywordflow">if</span> (iGraphicsModeOld){
00818             <a class="code" href="../../d6/d1/userrtl_8h.html#a29">UserSetGraphicsMode</a>(hdc, iGraphicsModeOld);
00819             <a class="code" href="../../d6/d1/userrtl_8h.html#a26">UserSetTextAlign</a>(hdc, iOldTextAlign);
00820         }
00821 <span class="preprocessor">#endif</span>
00822 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00823     }
00824 
00825     RtlZeroMemory(&amp;lfw, <span class="keyword">sizeof</span>(lfw));
00826     lfw.lfHeight         = <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>;
00827     lfw.lfWeight         = FW_NORMAL;
00828     lfw.lfCharSet        = SYMBOL_CHARSET;
00829     RtlCopyMemory(lfw.lfFaceName, L<span class="stringliteral">"Marlett"</span>, <span class="keyword">sizeof</span>(L<span class="stringliteral">"Marlett"</span>));
00830     hFont = <a class="code" href="../../d6/d1/userrtl_8h.html#a1">UserCreateFontIndirectW</a>(&amp;lfw);
00831 
00832     hOldFont = <a class="code" href="../../d6/d1/userrtl_8h.html#a19">UserSelectFont</a>(hdc, hFont);
00833 
00834     <span class="keywordflow">if</span> (!fButton) {
00835 
00836         <span class="keywordflow">if</span> ((wType == DFC_MENU) || (wType == DFC_POPUPMENU)) {
00837             <span class="keywordflow">if</span> (wState &amp; (DFCS_MENUARROWUP | DFCS_MENUARROWDOWN)) {
00838                 <span class="keywordflow">if</span> (!(wState &amp; DFCS_TRANSPARENT))  {
00839                     POLYPATBLT ppbData;
00840 
00841                     ppbData.x  = lprc-&gt;left;
00842                     ppbData.y  = lprc-&gt;top;
00843                     ppbData.cx = lprc-&gt;right - lprc-&gt;left;
00844                     ppbData.cy = lprc-&gt;bottom - lprc-&gt;top;
00845                     ppbData.BrClr.hbr = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(<a class="code" href="../../d1/d1/structtagMENU.html">MENU</a>);
00846                     <a class="code" href="../../d6/d1/userrtl_8h.html#a17">UserPolyPatBlt</a>(hdc, PATCOPY, &amp;ppbData, 1, PPB_BRUSH);
00847                 }
00848                 <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a13">DrawScrollArrow</a>(hdc, &amp;rc,
00849                         (wState &amp; (DFCS_HOT | DFCS_INACTIVE)) | ((wState &amp; DFCS_MENUARROWUP) ? DFCS_SCROLLUP : DFCS_SCROLLDOWN));
00850             } <span class="keywordflow">else</span> {
00851                 <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a11">DrawMenuMark</a>(hdc, &amp;rc, wType, wState);
00852             }
00853         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (wType == DFC_BUTTON) {
00854             <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a9">DrawBox</a>(hdc, &amp;rc, wState);
00855         } <span class="keywordflow">else</span> {  <span class="comment">// wType == DFC_SCROLL</span>
00856             <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a8">DrawGrip</a>(hdc, lprc, wState);
00857         }
00858 
00859     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (wType == DFC_CAPTION) {
00860         <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a12">DrawIt</a>(hdc, &amp;rc, wState, <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a10">GetCaptionChar</a>(wState));
00861     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (wType == DFC_SCROLL) {
00862 
00863         <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a13">DrawScrollArrow</a>(hdc, &amp;rc, wState);
00864 
00865     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (wType != DFC_BUTTON) {
00866 
00867         fRet = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00868     }
00869 
00870 <span class="preprocessor">#ifdef USE_MIRRORING</span>
00871 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (iGraphicsModeOld){
00872         <a class="code" href="../../d6/d1/userrtl_8h.html#a29">UserSetGraphicsMode</a>(hdc, iGraphicsModeOld);
00873         <a class="code" href="../../d6/d1/userrtl_8h.html#a26">UserSetTextAlign</a>(hdc, iOldTextAlign);
00874     }
00875 <span class="preprocessor">#endif</span>
00876 <span class="preprocessor"></span>    <a class="code" href="../../d6/d1/userrtl_8h.html#a21">UserSetBkMode</a>(hdc, iOldBk);
00877     <a class="code" href="../../d6/d1/userrtl_8h.html#a19">UserSelectFont</a>(hdc, hOldFont);
00878     <a class="code" href="../../d6/d1/userrtl_8h.html#a3">UserDeleteObject</a>(hFont);
00879 
00880     <span class="keywordflow">return</span> fRet;
00881 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="rtl/draw.c::DrawGrip" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL DrawGrip           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HDC&nbsp;</td>
          <td class="mdname" nowrap> <em>hdc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPRECT&nbsp;</td>
          <td class="mdname" nowrap> <em>lprc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>wState</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00400">400</a> of file <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html">rtl/draw.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d4/d9/user32_8def-source.html#l00799">c</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>, <a class="el" href="../../d6/d3/acpitabl_8h-source.html#l00366">min</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00212">SYSHBR</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00205">SYSRGBRTL</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00152">UserPolyPatBlt</a>, <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00157">UserSetTextColor</a>, <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00158">UserTextOutW</a>, and <a class="el" href="../../d7/d9/usercli_8h-source.html#l02070">WINDOW</a>.
<p>
Referenced by <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00729">DrawFrameControl()</a>.
<p>
<pre class="fragment"><div>00404 {
00405     <span class="keywordtype">int</span>        x;
00406     <span class="keywordtype">int</span>        y;
00407     <span class="keywordtype">int</span>        <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>;
00408     HBRUSH     hbrOld;
00409     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      rgbHilight;
00410     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      rgbShadow;
00411     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      rgbOld;
00412     POLYPATBLT PolyData;
00413 
00414     <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a> = <a class="code" href="../../d5/d4/acpitabl_8h.html#a69">min</a>((lprc-&gt;right - lprc-&gt;left), (lprc-&gt;bottom - lprc-&gt;top));
00415     x = lprc-&gt;right  - <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>;    <span class="comment">// right justify</span>
00416     y = lprc-&gt;bottom - <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>;    <span class="comment">// bottom justify</span>
00417 
00418     <span class="comment">/*</span>
00419 <span class="comment">     * Setup colors</span>
00420 <span class="comment">     */</span>
00421     <span class="keywordflow">if</span> (wState &amp; (DFCS_FLAT | DFCS_MONO)) {
00422         hbrOld = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(WINDOW);
00423         rgbHilight = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a21">SYSRGBRTL</a>(WINDOWFRAME);
00424         rgbShadow = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a21">SYSRGBRTL</a>(WINDOWFRAME);
00425     } <span class="keywordflow">else</span> {
00426         hbrOld = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(3DFACE);
00427         rgbHilight = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a21">SYSRGBRTL</a>(3DHILIGHT);
00428         rgbShadow = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a21">SYSRGBRTL</a>(3DSHADOW);
00429     }
00430 
00431     PolyData.x         = lprc-&gt;left;
00432     PolyData.y         = lprc-&gt;top;
00433     PolyData.cx        = lprc-&gt;right-lprc-&gt;left;
00434     PolyData.cy        = lprc-&gt;bottom-lprc-&gt;top;
00435     PolyData.BrClr.hbr = hbrOld;
00436     <a class="code" href="../../d6/d1/userrtl_8h.html#a17">UserPolyPatBlt</a>(hdc, PATCOPY, &amp;PolyData, 1, PPB_BRUSH);
00437 
00438     rgbOld = <a class="code" href="../../d6/d1/userrtl_8h.html#a22">UserSetTextColor</a>(hdc, rgbHilight);
00439 
00440     <span class="keywordflow">if</span> (wState &amp; DFCS_SCROLLSIZEGRIPRIGHT) {
00441         <a class="code" href="../../d6/d1/userrtl_8h.html#a23">UserTextOutW</a>(hdc, x, y, L<span class="stringliteral">"x"</span>, 1);
00442         <a class="code" href="../../d6/d1/userrtl_8h.html#a22">UserSetTextColor</a>(hdc, rgbShadow);
00443         <a class="code" href="../../d6/d1/userrtl_8h.html#a23">UserTextOutW</a>(hdc, x, y, L<span class="stringliteral">"y"</span>, 1);
00444     } <span class="keywordflow">else</span> {
00445         <a class="code" href="../../d6/d1/userrtl_8h.html#a23">UserTextOutW</a>(hdc, x, y, L<span class="stringliteral">"o"</span>, 1);
00446         <a class="code" href="../../d6/d1/userrtl_8h.html#a22">UserSetTextColor</a>(hdc, rgbShadow);
00447         <a class="code" href="../../d6/d1/userrtl_8h.html#a23">UserTextOutW</a>(hdc, x, y, L<span class="stringliteral">"p"</span>, 1);
00448     }
00449 
00450     <a class="code" href="../../d6/d1/userrtl_8h.html#a22">UserSetTextColor</a>(hdc, rgbOld);
00451     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00452 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="rtl/draw.c::DrawIt" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL DrawIt           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HDC&nbsp;</td>
          <td class="mdname" nowrap> <em>hdc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPRECT&nbsp;</td>
          <td class="mdname" nowrap> <em>lprc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>wState</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>WCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>ch</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00656">656</a> of file <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html">rtl/draw.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d4/d9/user32_8def-source.html#l00799">c</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00480">cy</a>, <a class="el" href="../../d6/d3/acpitabl_8h-source.html#l00366">min</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00205">SYSRGBRTL</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00157">UserSetTextColor</a>, and <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00158">UserTextOutW</a>.
<p>
Referenced by <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00729">DrawFrameControl()</a>, and <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00710">DrawScrollArrow()</a>.
<p>
<pre class="fragment"><div>00661 {
00662     COLORREF rgb;
00663     <span class="keywordtype">int</span>      x;
00664     <span class="keywordtype">int</span>      y;
00665     <span class="keywordtype">int</span>      <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>;
00666     <span class="keywordtype">int</span>      cx;
00667     <span class="keywordtype">int</span>      <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>;
00668     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>     fDrawDisabled = wState &amp; DFCS_INACTIVE;
00669 
00670     cx = lprc-&gt;right - lprc-&gt;left;
00671     <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = lprc-&gt;bottom - lprc-&gt;top;
00672 
00673     <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a> = <a class="code" href="../../d5/d4/acpitabl_8h.html#a69">min</a>(cx,cy);
00674     x = lprc-&gt;left + ((cx - <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>) / 2);
00675     y = lprc-&gt;top  + ((<a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> - <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>) / 2);
00676 
00677     <span class="keywordflow">if</span> (fDrawDisabled) {
00678         rgb = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a21">SYSRGBRTL</a>(3DHILIGHT);
00679     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (wState &amp; DFCS_HOT) {
00680         rgb = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a21">SYSRGBRTL</a>(HOTLIGHT);
00681     } <span class="keywordflow">else</span> {
00682         rgb = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a21">SYSRGBRTL</a>(BTNTEXT);
00683     }
00684 
00685     rgb = <a class="code" href="../../d6/d1/userrtl_8h.html#a22">UserSetTextColor</a>(hdc, rgb);
00686 
00687     <span class="keywordflow">if</span> (wState &amp; (DFCS_INACTIVE | DFCS_PUSHED)) {
00688         x++;
00689         y++;
00690     }
00691 
00692     <a class="code" href="../../d6/d1/userrtl_8h.html#a23">UserTextOutW</a>(hdc, x, y, &amp;ch, 1);
00693 
00694     <span class="keywordflow">if</span> (fDrawDisabled) {
00695         <a class="code" href="../../d6/d1/userrtl_8h.html#a22">UserSetTextColor</a>(hdc, <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a21">SYSRGBRTL</a>(3DSHADOW));
00696         <a class="code" href="../../d6/d1/userrtl_8h.html#a23">UserTextOutW</a>(hdc, x - 1, y - 1, &amp;ch, 1);
00697     }
00698 
00699     <a class="code" href="../../d6/d1/userrtl_8h.html#a22">UserSetTextColor</a>(hdc, rgb);
00700 
00701     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00702 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="rtl/draw.c::DrawMenuMark" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL DrawMenuMark           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HDC&nbsp;</td>
          <td class="mdname" nowrap> <em>hdc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPRECT&nbsp;</td>
          <td class="mdname" nowrap> <em>lprc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>wType</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>wState</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00604">604</a> of file <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html">rtl/draw.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d4/d9/user32_8def-source.html#l00799">c</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00480">cy</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00061">FillRect()</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00022">FlipUserTextOutW()</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00581">GetCaptionChar()</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l03361">ghbrWhite</a>, <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>, <a class="el" href="../../d6/d3/acpitabl_8h-source.html#l00366">min</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00157">UserSetTextColor</a>.
<p>
Referenced by <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00729">DrawFrameControl()</a>.
<p>
<pre class="fragment"><div>00609 {
00610     COLORREF rgbOld;
00611     <span class="keywordtype">int</span>      x;
00612     <span class="keywordtype">int</span>      y;
00613     <span class="keywordtype">int</span>      <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>;
00614     <span class="keywordtype">int</span>      cx;
00615     <span class="keywordtype">int</span>      <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>;
00616     WCHAR    ch;
00617 
00618     cx = lprc-&gt;right - lprc-&gt;left;
00619     <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = lprc-&gt;bottom - lprc-&gt;top;
00620 
00621     <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a> = <a class="code" href="../../d5/d4/acpitabl_8h.html#a69">min</a>(cx,cy);
00622     x = lprc-&gt;left + ((cx - <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>) / 2) - ((cx &gt; 0xb) ? 1 : 0);
00623     y = lprc-&gt;top  + ((<a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> - <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>) / 2);
00624 
00625     <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a3">FillRect</a>(hdc, lprc, ghbrWhite);
00626 
00627     rgbOld = <a class="code" href="../../d6/d1/userrtl_8h.html#a22">UserSetTextColor</a>(hdc, 0L);
00628 
00629     <span class="keywordflow">if</span> (wType == DFC_MENU) {
00630         <span class="keywordflow">if</span> (wState &amp; DFCS_MENUCHECK) {
00631             ch = TEXT(<span class="charliteral">'a'</span>);
00632         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (wState &amp; DFCS_MENUBULLET) {
00633             ch = TEXT(<span class="charliteral">'h'</span>);
00634         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (wState &amp; DFCS_MENUARROWRIGHT) {
00635             ch = TEXT(<span class="charliteral">'w'</span>);
00636         } <span class="keywordflow">else</span> {
00637             ch = TEXT(<span class="charliteral">'8'</span>);
00638         }
00639     } <span class="keywordflow">else</span> {
00640         UserAssert(wType == DFC_POPUPMENU);
00641         ch = <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a10">GetCaptionChar</a>(wState);
00642     }
00643 
00644     <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a2">FlipUserTextOutW</a>(hdc, x, y, &amp;ch, 1);
00645     <a class="code" href="../../d6/d1/userrtl_8h.html#a22">UserSetTextColor</a>(hdc, rgbOld);
00646 
00647     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00648 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="rtl/draw.c::DrawPushButton" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID DrawPushButton           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HDC&nbsp;</td>
          <td class="mdname" nowrap> <em>hdc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPRECT&nbsp;</td>
          <td class="mdname" nowrap> <em>lprc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>state</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>flags</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l01125">1125</a> of file <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html">rtl/draw.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00896">DrawEdge()</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00061">FillRect()</a>, <a class="el" href="../../d2/d7/clglobal_8c-source.html#l00051">gpsi</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00212">SYSHBR</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00205">SYSRGBRTL</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d0/d5/ndismain_8h-source.html#l00026">UINT</a>, <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00155">UserSetBkColor</a>, <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00157">UserSetTextColor</a>, and <a class="el" href="../../d2/d7/hal_8h.html#a212">VOID()</a>.
<p>
Referenced by <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00729">DrawFrameControl()</a>, <a class="el" href="../../d9/d3/sbctl_8c-source.html#l00697">DrawThumb2()</a>, and <a class="el" href="../../d9/d0/btnctl_8c-source.html#l01159">xxxDrawButton()</a>.
<p>
<pre class="fragment"><div>01130 {
01131     RECT   rc;
01132     HBRUSH hbrMiddle;
01133     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  rgbBack;
01134     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  rgbFore;
01135     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>   fDither;
01136 
01137     rc = *lprc;
01138 
01139     <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a15">DrawEdge</a>(hdc,
01140              &amp;rc,
01141              (state &amp; (DFCS_PUSHED | DFCS_CHECKED)) ? EDGE_SUNKEN : EDGE_RAISED,
01142              (UINT)(BF_ADJUST | BF_RECT | (flags &amp; (BF_SOFT | BF_FLAT | BF_MONO))));
01143 
01144     <span class="comment">/*</span>
01145 <span class="comment">     * BOGUS</span>
01146 <span class="comment">     * On monochrome, need to do something to make pushed buttons look</span>
01147 <span class="comment">     * better.</span>
01148 <span class="comment">     */</span>
01149 
01150     <span class="comment">/*</span>
01151 <span class="comment">     * Fill in middle.  If checked, use dither brush (gray brush) with</span>
01152 <span class="comment">     * black becoming normal color.</span>
01153 <span class="comment">     */</span>
01154     fDither = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01155 
01156     <span class="keywordflow">if</span> (state &amp; DFCS_CHECKED) {
01157 
01158         <span class="keywordflow">if</span> ((<a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;BitCount &lt; 8) || (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a21">SYSRGBRTL</a>(3DHILIGHT) == RGB(255,255,255))) {
01159             hbrMiddle = <a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;hbrGray;
01160             rgbBack = <a class="code" href="../../d6/d1/userrtl_8h.html#a20">UserSetBkColor</a>(hdc, <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a21">SYSRGBRTL</a>(3DHILIGHT));
01161             rgbFore = <a class="code" href="../../d6/d1/userrtl_8h.html#a22">UserSetTextColor</a>(hdc, <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a21">SYSRGBRTL</a>(3DFACE));
01162             fDither = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01163         } <span class="keywordflow">else</span> {
01164             hbrMiddle = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(3DHILIGHT);
01165         }
01166 
01167     } <span class="keywordflow">else</span> {
01168         hbrMiddle = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(3DFACE);
01169     }
01170 
01171     <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a3">FillRect</a>(hdc, &amp;rc, hbrMiddle);
01172 
01173     <span class="keywordflow">if</span> (fDither) {
01174         <a class="code" href="../../d6/d1/userrtl_8h.html#a20">UserSetBkColor</a>(hdc, rgbBack);
01175         <a class="code" href="../../d6/d1/userrtl_8h.html#a22">UserSetTextColor</a>(hdc, rgbFore);
01176     }
01177 
01178     <span class="keywordflow">if</span> (flags &amp; BF_ADJUST)
01179         *lprc = rc;
01180 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="rtl/draw.c::DrawScrollArrow" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL DrawScrollArrow           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HDC&nbsp;</td>
          <td class="mdname" nowrap> <em>hdc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPRECT&nbsp;</td>
          <td class="mdname" nowrap> <em>lprc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>wControlState</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00710">710</a> of file <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html">rtl/draw.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, and <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00656">DrawIt()</a>.
<p>
Referenced by <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00729">DrawFrameControl()</a>.
<p>
<pre class="fragment"><div>00714 {
00715     WCHAR ch = (wControlState &amp; DFCS_SCROLLHORZ) ? TEXT(<span class="charliteral">'3'</span>) : TEXT('5');
00716 
00717     <span class="keywordflow">if</span> (wControlState &amp; DFCS_SCROLLMAX)
00718         ch++;
00719 
00720     <span class="keywordflow">return</span> <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a12">DrawIt</a>(hdc, lprc, wControlState, ch);
00721 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="rtl/draw.c::FillRect" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int APIENTRY FillRect           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HDC&nbsp;</td>
          <td class="mdname" nowrap> <em>hdc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPCRECT&nbsp;</td>
          <td class="mdname" nowrap> <em>prc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>HBRUSH&nbsp;</td>
          <td class="mdname" nowrap> <em>hBrush</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00061">61</a> of file <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html">rtl/draw.c</a>.
<p>
References <a class="el" href="../../d2/d0/bench_8c-source.html#l00048">APIENTRY</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l00236">SYSHBRUSH</a>, and <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00152">UserPolyPatBlt</a>.
<p>
Referenced by <a class="el" href="../../d2/d4/caption_8c-source.html#l00401">BltMe4Times()</a>, <a class="el" href="../../d2/d2/dtbitmap_8c-source.html#l00762">CenterWallpaper()</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00494">CreateBitmapStrip()</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00460">DrawBox()</a>, <a class="el" href="../../d2/d4/caption_8c-source.html#l00462">DrawCaptionIcon()</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00896">DrawEdge()</a>, <a class="el" href="../../d9/d3/sbctl_8c-source.html#l00573">DrawGroove()</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00604">DrawMenuMark()</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l01125">DrawPushButton()</a>, <a class="el" href="../../d2/d2/tmswitch_8c-source.html#l00538">DrawSwitchWndHilite()</a>, <a class="el" href="../../d3/d9/server_2exitwin_8c-source.html#l01312">EndTaskDlgProc()</a>, <a class="el" href="../../d2/d4/caption_8c-source.html#l00665">FillCaptionGradient()</a>, <a class="el" href="../../d9/d7/fullscr_8c-source.html#l00775">InitUserScreen()</a>, <a class="el" href="../../d5/d8/clres_8c-source.html#l01899">LoadBmp()</a>, <a class="el" href="../../d8/d0/client_2draw_8c-source.html#l00025">PaintRect()</a>, <a class="el" href="../../d7/d1/output_8c-source.html#l03226">ScrollRegion()</a>, <a class="el" href="../../d4/d4/editsl_8c-source.html#l00507">SLDrawLine()</a>, <a class="el" href="../../d4/d4/editsl_8c-source.html#l00737">SLDrawText()</a>, <a class="el" href="../../d4/d4/editsl_8c-source.html#l02280">SLPaint()</a>, <a class="el" href="../../d4/d4/editsl_8c-source.html#l00932">SLScrollText()</a>, <a class="el" href="../../d2/d3/tooltips_8c-source.html#l00336">TooltipRender()</a>, <a class="el" href="../../d0/d1/usrbench_8c-source.html#l00268">WndProc()</a>, <a class="el" href="../../d2/d3/combo_8c-source.html#l02028">xxxCBInternalUpdateEditWindow()</a>, <a class="el" href="../../d2/d3/combo_8c-source.html#l01431">xxxCBPaint()</a>, <a class="el" href="../../d2/d2/dtbitmap_8c-source.html#l01402">xxxDesktopPaintCallback()</a>, <a class="el" href="../../d2/d4/caption_8c-source.html#l00688">xxxDrawCaptionTemp()</a>, <a class="el" href="../../d7/d1/mndraw_8c-source.html#l01972">xxxDrawMenuBarTemp()</a>, <a class="el" href="../../d0/d1/lboxctl2_8c-source.html#l01111">xxxInvertLBItem()</a>, <a class="el" href="../../d0/d1/lboxctl2_8c-source.html#l00354">xxxLBDrawLBItem()</a>, <a class="el" href="../../d0/d1/lboxctl2_8c-source.html#l00798">xxxLBPaint()</a>, <a class="el" href="../../d2/d2/tmswitch_8c-source.html#l00808">xxxPaintIconsInSwitchWindow()</a>, <a class="el" href="../../d0/d2/paint_8c-source.html#l00072">xxxPaintRect()</a>, <a class="el" href="../../d2/d2/tmswitch_8c-source.html#l01012">xxxPaintSwitchWindow()</a>, and <a class="el" href="../../d6/d1/hungapp_8c-source.html#l00135">xxxRedrawHungWindow()</a>.
<p>
<pre class="fragment"><div>00065 {
00066     ULONG_PTR   iBrush;
00067     POLYPATBLT PolyData;
00068 
00069     iBrush = (ULONG_PTR)hBrush - 1;
00070     <span class="keywordflow">if</span> (iBrush &lt;= COLOR_ENDCOLORS) {
00071         hBrush = <a class="code" href="../../d1/d0/inc_2user_8h.html#a15">SYSHBRUSH</a>(iBrush);
00072     }
00073 
00074     PolyData.x         = prc-&gt;left;
00075     PolyData.y         = prc-&gt;top;
00076     PolyData.cx        = prc-&gt;right - prc-&gt;left;
00077     PolyData.cy        = prc-&gt;bottom - prc-&gt;top;
00078     PolyData.BrClr.hbr = hBrush;
00079 
00080     <span class="comment">/*</span>
00081 <span class="comment">     * Win95 incompatibility: they return either hBrush or the brush that</span>
00082 <span class="comment">     * was previosuly selected in hdc. Not documented this way though.</span>
00083 <span class="comment">     */</span>
00084     <span class="keywordflow">return</span> <a class="code" href="../../d6/d1/userrtl_8h.html#a17">UserPolyPatBlt</a>(hdc, PATCOPY, &amp;PolyData, 1, PPB_BRUSH);
00085 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="rtl/draw.c::FillTriangle" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL FillTriangle           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HDC&nbsp;</td>
          <td class="mdname" nowrap> <em>hdc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPRECT&nbsp;</td>
          <td class="mdname" nowrap> <em>lprc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>HBRUSH&nbsp;</td>
          <td class="mdname" nowrap> <em>hbr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>flags</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00302">302</a> of file <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html">rtl/draw.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00114">DrawDiagonalLine()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, and <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00153">UserSelectBrush</a>.
<p>
Referenced by <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00896">DrawEdge()</a>.
<p>
<pre class="fragment"><div>00307 {
00308     HBRUSH hbrT;
00309     <span class="keywordtype">int</span>    nDirection;
00310 
00311     <span class="keywordflow">switch</span> (flags &amp; (BF_RECT | BF_DIAGONAL)) {
00312 
00313     <span class="keywordflow">case</span> BF_DIAGONAL_ENDTOPLEFT:
00314     <span class="keywordflow">case</span> BF_DIAGONAL_ENDBOTTOMRIGHT:
00315         nDirection = -1;
00316         <span class="keywordflow">break</span>;
00317 
00318     <span class="keywordflow">default</span>:
00319         nDirection = 1;
00320         <span class="keywordflow">break</span>;
00321     }
00322     hbrT = <a class="code" href="../../d6/d1/userrtl_8h.html#a18">UserSelectBrush</a>(hdc, hbr);
00323     <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a5">DrawDiagonalLine</a>(hdc, lprc, nDirection, 1, flags);
00324     <span class="comment">/*</span>
00325 <span class="comment">     * Don't care if the above functions failed for a bad hdc</span>
00326 <span class="comment">     */</span>
00327     <span class="keywordflow">return</span> (<a class="code" href="../../d6/d1/userrtl_8h.html#a18">UserSelectBrush</a>(hdc, hbrT) != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
00328 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="rtl/draw.c::FlipUserTextOutW" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL FlipUserTextOutW           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HDC&nbsp;</td>
          <td class="mdname" nowrap> <em>hdc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPCWSTR&nbsp;</td>
          <td class="mdname" nowrap> <em>ch</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>nCount</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00022">22</a> of file <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html">rtl/draw.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00163">UserGetLayout</a>, <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00160">UserGetTextAlign</a>, <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00164">UserSetGraphicsMode</a>, <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00161">UserSetTextAlign</a>, and <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00158">UserTextOutW</a>.
<p>
Referenced by <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00460">DrawBox()</a>, and <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00604">DrawMenuMark()</a>.
<p>
<pre class="fragment"><div>00023 {
00024     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> bRet;
00025 <span class="preprocessor">#ifdef USE_MIRRORING</span>
00026 <span class="preprocessor"></span>    <span class="keywordtype">int</span> iOldTextAlign, iGraphicsModeOld;
00027 
00028     <span class="keywordflow">if</span> ((<a class="code" href="../../d6/d1/userrtl_8h.html#a28">UserGetLayout</a>(hdc) &amp; LAYOUT_RTL) &amp;&amp;
00029         (nCount == 1) &amp;&amp; 
00030         ((ch[0] == TEXT(<span class="charliteral">'a'</span>)) ||(ch[0] == TEXT(<span class="charliteral">'b'</span>)))
00031        ) 
00032     {
00033         <span class="comment">//Check mark then set the hdc in GM_COMPATIBLE to unmirror it.</span>
00034         <span class="keywordflow">if</span> (iGraphicsModeOld = <a class="code" href="../../d6/d1/userrtl_8h.html#a29">UserSetGraphicsMode</a>(hdc, GM_COMPATIBLE))
00035         {
00036             iOldTextAlign = <a class="code" href="../../d6/d1/userrtl_8h.html#a25">UserGetTextAlign</a>(hdc);
00037             <span class="keywordflow">if</span> ((iOldTextAlign &amp; TA_CENTER) != TA_CENTER)
00038             {
00039                 <a class="code" href="../../d6/d1/userrtl_8h.html#a26">UserSetTextAlign</a>(hdc, iOldTextAlign^TA_RIGHT);
00040             }
00041             bRet = <a class="code" href="../../d6/d1/userrtl_8h.html#a23">UserTextOutW</a>(hdc, x, y, ch, nCount);
00042             <a class="code" href="../../d6/d1/userrtl_8h.html#a29">UserSetGraphicsMode</a>(hdc, iGraphicsModeOld);
00043             <a class="code" href="../../d6/d1/userrtl_8h.html#a26">UserSetTextAlign</a>(hdc, iOldTextAlign);
00044         }
00045     }
00046     <span class="keywordflow">else</span>
00047 <span class="preprocessor">#endif</span>
00048 <span class="preprocessor"></span>        bRet = <a class="code" href="../../d6/d1/userrtl_8h.html#a23">UserTextOutW</a>(hdc, x, y, ch, nCount);
00049 
00050     <span class="keywordflow">return</span> bRet;
00051 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="rtl/draw.c::GetCaptionChar" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> WCHAR GetCaptionChar           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>wState</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00581">581</a> of file <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html">rtl/draw.c</a>.
<p>
Referenced by <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00729">DrawFrameControl()</a>, and <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00604">DrawMenuMark()</a>.
<p>
<pre class="fragment"><div>00582 {
00583     wState &amp;= DFCS_CAPTIONALL;
00584     <span class="keywordflow">switch</span> (wState) {
00585     <span class="keywordflow">case</span> DFCS_CAPTIONCLOSE:
00586         <span class="keywordflow">return</span> TEXT(<span class="charliteral">'r'</span>);
00587     <span class="keywordflow">case</span> DFCS_CAPTIONMIN:
00588         <span class="keywordflow">return</span> TEXT(<span class="charliteral">'0'</span>);
00589     <span class="keywordflow">case</span> DFCS_CAPTIONMAX:
00590         <span class="keywordflow">return</span> TEXT(<span class="charliteral">'1'</span>);
00591     <span class="keywordflow">case</span> DFCS_CAPTIONRESTORE:
00592         <span class="keywordflow">return</span> TEXT(<span class="charliteral">'2'</span>);
00593     <span class="comment">/* case DFCS_CAPTIONHELP: */</span>
00594     <span class="keywordflow">default</span>:
00595         <span class="keywordflow">return</span> TEXT(<span class="charliteral">'s'</span>);
00596     }
00597 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="rtl/draw.c::GetSignFromMappingMode" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL GetSignFromMappingMode           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HDC&nbsp;</td>
          <td class="mdname" nowrap> <em>hdc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PPOINT&nbsp;</td>
          <td class="mdname" nowrap> <em>pptSign</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l01260">1260</a> of file <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html">rtl/draw.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00148">UserGetViewportExtEx</a>, and <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00149">UserGetWindowExtEx</a>.
<p>
Referenced by <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l01289">ClientFrame()</a>.
<p>
<pre class="fragment"><div>01263 {
01264     SIZE sizeViewPortExt;
01265     SIZE sizeWindowExt;
01266 
01267     <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d1/userrtl_8h.html#a13">UserGetViewportExtEx</a>(hdc, &amp;sizeViewPortExt)
01268             || !<a class="code" href="../../d6/d1/userrtl_8h.html#a14">UserGetWindowExtEx</a>(hdc, &amp;sizeWindowExt)) {
01269 
01270         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01271     }
01272 
01273     pptSign-&gt;x = ((sizeViewPortExt.cx ^ sizeWindowExt.cx) &lt; 0) ? -1 : 1;
01274 
01275     pptSign-&gt;y = ((sizeViewPortExt.cy ^ sizeWindowExt.cy) &lt; 0) ? -1 : 1;
01276 
01277     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01278 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="rtl/draw.c::InvertRect" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL APIENTRY InvertRect           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HDC&nbsp;</td>
          <td class="mdname" nowrap> <em>hdc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPCRECT&nbsp;</td>
          <td class="mdname" nowrap> <em>prc</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00096">96</a> of file <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html">rtl/draw.c</a>.
<p>
References <a class="el" href="../../d2/d0/bench_8c-source.html#l00048">APIENTRY</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, and <a class="el" href="../../d7/d0/userrtl_8h-source.html#l00151">UserPatBlt</a>.
<p>
Referenced by <a class="el" href="../../d9/d2/ntuser_2kernel_2access_8c-source.html#l02943">_UserSoundSentryWorker()</a>, <a class="el" href="../../d9/d3/sbctl_8c-source.html#l00697">DrawThumb2()</a>, and <a class="el" href="../../d9/d3/sbctl_8c-source.html#l01519">InvertScrollHilite()</a>.
<p>
<pre class="fragment"><div>00099 {
00100     <span class="keywordflow">return</span> <a class="code" href="../../d6/d1/userrtl_8h.html#a16">UserPatBlt</a>(hdc,
00101                       prc-&gt;left,
00102                       prc-&gt;top,
00103                       prc-&gt;right - prc-&gt;left,
00104                       prc-&gt;bottom - prc-&gt;top,
00105                       DSTINVERT);
00106 }
</div></pre>    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a1" doxytag="rtl/draw.c::szCheck" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> CONST WCHAR <a class="el" href="../../d9/d1/rtl_2draw_8c.html#a1">szCheck</a>[] = L"gfedcb"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00014">14</a> of file <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html">rtl/draw.c</a>.
<p>
Referenced by <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00460">DrawBox()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="rtl/draw.c::szRadio" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> CONST WCHAR <a class="el" href="../../d9/d1/rtl_2draw_8c.html#a0">szRadio</a>[] = L"nmlkji"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00013">13</a> of file <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html">rtl/draw.c</a>.
<p>
Referenced by <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00460">DrawBox()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:43:29 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
