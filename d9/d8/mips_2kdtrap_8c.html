<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: mips/kdtrap.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>kdtrap.c File Reference</h1><code>#include "<a class="el" href="../../d2/d6/4_2kdp_8h-source.html">kdp.h</a>"</code><br>

<p>
<a href="../../d0/d8/mips_2kdtrap_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d8/mips_2kdtrap_8c.html#a0">BREAKPOINT_CODE_SHIFT</a>&nbsp;&nbsp;&nbsp;16</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d8/mips_2kdtrap_8c.html#a1">BREAKPOINT_CODE_MASK</a>&nbsp;&nbsp;&nbsp;(0xfffff &lt;&lt; 6)</td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d8/mips_2kdtrap_8c.html#a5">KdpPageInData</a> (IN PUCHAR volatile DataAddress)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d8/mips_2kdtrap_8c.html#a6">KdpTrap</a> (IN PKTRAP_FRAME TrapFrame, IN PKEXCEPTION_FRAME ExceptionFrame, IN PEXCEPTION_RECORD ExceptionRecord, IN PCONTEXT ContextRecord, IN <a class="el" href="../../d0/d9/ntosdef_8h.html#a39">KPROCESSOR_MODE</a> PreviousMode, IN BOOLEAN SecondChance)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d8/mips_2kdtrap_8c.html#a7">KdIsThisAKdTrap</a> (IN PEXCEPTION_RECORD ExceptionRecord, IN PCONTEXT ContextRecord, IN <a class="el" href="../../d0/d9/ntosdef_8h.html#a39">KPROCESSOR_MODE</a> PreviousMode)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d8/mips_2kdtrap_8c.html#a8">KdpStub</a> (IN PKTRAP_FRAME TrapFrame, IN PKEXCEPTION_FRAME ExceptionFrame, IN PEXCEPTION_RECORD ExceptionRecord, IN PCONTEXT ContextRecord, IN <a class="el" href="../../d0/d9/ntosdef_8h.html#a39">KPROCESSOR_MODE</a> PreviousMode, IN BOOLEAN SecondChance)</td></tr>

<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>ULONG&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d8/mips_2kdtrap_8c.html#a2">KdpPageInAddress</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d7/d9/struct__WORK__QUEUE__ITEM.html">WORK_QUEUE_ITEM</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d8/mips_2kdtrap_8c.html#a3">KdpPageInWorkItem</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d8/mips_2kdtrap_8c.html#a4">KdpControlCPressed</a></td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a1" doxytag="mips/kdtrap.c::BREAKPOINT_CODE_MASK" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define BREAKPOINT_CODE_MASK&nbsp;&nbsp;&nbsp;(0xfffff &lt;&lt; 6)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html#l00029">29</a> of file <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html">mips/kdtrap.c</a>.
<p>
Referenced by <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html#l00319">KdIsThisAKdTrap()</a>, <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html#l00458">KdpStub()</a>, and <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html#l00079">KdpTrap()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="mips/kdtrap.c::BREAKPOINT_CODE_SHIFT" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define BREAKPOINT_CODE_SHIFT&nbsp;&nbsp;&nbsp;16          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html#l00028">28</a> of file <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html">mips/kdtrap.c</a>.
<p>
Referenced by <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html#l00319">KdIsThisAKdTrap()</a>, <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html#l00458">KdpStub()</a>, and <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html#l00079">KdpTrap()</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a7" doxytag="mips/kdtrap.c::KdIsThisAKdTrap" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN KdIsThisAKdTrap           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PEXCEPTION_RECORD&nbsp;</td>
          <td class="mdname" nowrap> <em>ExceptionRecord</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PCONTEXT&nbsp;</td>
          <td class="mdname" nowrap> <em>ContextRecord</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d0/d9/ntosdef_8h.html#a39">KPROCESSOR_MODE</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>PreviousMode</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html#l00319">319</a> of file <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html">mips/kdtrap.c</a>.
<p>
References <a class="el" href="../../d7/d6/halmips_8h-source.html#l00617">BREAKIN_BREAKPOINT</a>, <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html#l00029">BREAKPOINT_CODE_MASK</a>, <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html#l00028">BREAKPOINT_CODE_SHIFT</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00616">KERNEL_BREAKPOINT</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00624">KernelMode</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
<pre class="fragment"><div>00327                    :
00328 
00329     This routine <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> called whenever a user-mode exception occurs and
00330     <a class="code" href="../../d1/d9/icmui_8def.html#a4">it</a> might be a kernel debugger exception (Like DbgPrint/DbgPrompt ).
00331 
00332 Arguments:
00333 
00334     ExceptionRecord - Supplies a pointer to an exception record that
00335         describes <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> exception.
00336 
00337     ContextRecord - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> context at <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> time of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> exception.
00338 
00339     PreviousMode - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> previous processor mode.
00340 
00341 Return Value:
00342 
00343     <a class="code" href="../../d2/d1/bench_8h.html#a5">A</a> value of <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> returned <span class="keywordflow">if</span> <span class="keyword">this</span> <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> kernel debugger.
00344     Otherwise, a value of <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a> <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> returned.
00345 
00346 --*/
00347 
00348 {
00349 
00350     ULONG BreakpointCode;
00351 
00352     <span class="comment">//</span>
00353     <span class="comment">// Isolate the breakpoint code from the breakpoint instruction which</span>
00354     <span class="comment">// is stored by the exception dispatch code in the information field</span>
00355     <span class="comment">// of the exception record.</span>
00356     <span class="comment">//</span>
00357 
00358     BreakpointCode = (ExceptionRecord-&gt;ExceptionInformation[0] &amp;
00359                                 <a class="code" href="../../d9/d8/mips_2kdtrap_8c.html#a1">BREAKPOINT_CODE_MASK</a>) &gt;&gt; <a class="code" href="../../d9/d8/mips_2kdtrap_8c.html#a0">BREAKPOINT_CODE_SHIFT</a>;
00360 
00361     <span class="comment">//</span>
00362     <span class="comment">// Switch on the breakpoint code.</span>
00363     <span class="comment">//</span>
00364 
00365     <span class="keywordflow">switch</span> (BreakpointCode) {
00366 
00367         <span class="comment">//</span>
00368         <span class="comment">// Kernel breakpoint codes.</span>
00369         <span class="comment">//</span>
00370 
00371     <span class="keywordflow">case</span> <a class="code" href="../../d6/d7/halmips_8h.html#a454">BREAKIN_BREAKPOINT</a>:
00372     <span class="keywordflow">case</span> <a class="code" href="../../d6/d7/halmips_8h.html#a453">KERNEL_BREAKPOINT</a>:
00373 
00374 <span class="preprocessor">#if DEVL</span>
00375 <span class="preprocessor"></span>
00376         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00377 
00378 <span class="preprocessor">#else</span>
00379 <span class="preprocessor"></span>
00380         <span class="keywordflow">if</span> (PreviousMode == <a class="code" href="../../d6/d7/halmips_8h.html#a456">KernelMode</a>) {
00381             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00382 
00383         } <span class="keywordflow">else</span> {
00384             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00385         }
00386 
00387 <span class="preprocessor">#endif</span>
00388 <span class="preprocessor"></span>
00389         <span class="comment">//</span>
00390         <span class="comment">// Debug print code.</span>
00391         <span class="comment">//</span>
00392 
00393     <span class="keywordflow">case</span> DEBUG_PRINT_BREAKPOINT:
00394         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00395 
00396         <span class="comment">//</span>
00397         <span class="comment">// Debug prompt code.</span>
00398         <span class="comment">//</span>
00399 
00400     <span class="keywordflow">case</span> DEBUG_PROMPT_BREAKPOINT:
00401         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00402 
00403         <span class="comment">//</span>
00404         <span class="comment">// Debug stop code.</span>
00405         <span class="comment">//</span>
00406 
00407     <span class="keywordflow">case</span> DEBUG_STOP_BREAKPOINT:
00408 
00409 <span class="preprocessor">#if DEVL</span>
00410 <span class="preprocessor"></span>
00411         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00412 
00413 <span class="preprocessor">#else</span>
00414 <span class="preprocessor"></span>
00415         <span class="keywordflow">if</span> (PreviousMode == <a class="code" href="../../d6/d7/halmips_8h.html#a456">KernelMode</a>) {
00416             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00417 
00418         } <span class="keywordflow">else</span> {
00419             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00420         }
00421 
00422 <span class="preprocessor">#endif</span>
00423 <span class="preprocessor"></span>
00424         <span class="comment">//</span>
00425         <span class="comment">// Debug load symbols code.</span>
00426         <span class="comment">//</span>
00427 
00428     <span class="keywordflow">case</span> DEBUG_LOAD_SYMBOLS_BREAKPOINT:
00429         <span class="keywordflow">if</span> (PreviousMode == <a class="code" href="../../d6/d7/halmips_8h.html#a456">KernelMode</a>) {
00430             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00431 
00432         } <span class="keywordflow">else</span> {
00433             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00434         }
00435 
00436         <span class="comment">//</span>
00437         <span class="comment">// Debug unload symbols code.</span>
00438         <span class="comment">//</span>
00439 
00440     <span class="keywordflow">case</span> DEBUG_UNLOAD_SYMBOLS_BREAKPOINT:
00441         <span class="keywordflow">if</span> (PreviousMode == <a class="code" href="../../d6/d7/halmips_8h.html#a456">KernelMode</a>) {
00442             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00443 
00444         } <span class="keywordflow">else</span> {
00445             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00446         }
00447 
00448         <span class="comment">//</span>
00449         <span class="comment">// All other codes.</span>
00450         <span class="comment">//</span>
00451 
00452     <span class="keywordflow">default</span>:
00453         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00454     }
00455 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="mips/kdtrap.c::KdpPageInData" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID KdpPageInData           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PUCHAR volatile&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>DataAddress</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html#l00046">46</a> of file <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html">mips/kdtrap.c</a>.
<p>
References <a class="el" href="../../d4/d9/user32_8def-source.html#l00799">c</a>, <a class="el" href="../../d9/d4/kddata_8c-source.html#l00260">KdpControlCPending</a>, <a class="el" href="../../d2/d1/mm_8h.html#a336">MmIsSystemAddressAccessable()</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html#l00079">KdpTrap()</a>.
<p>
<pre class="fragment"><div>00052                    :
00053 
00054     This routine <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> called to page in data at <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> supplied address.
00055     It <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> called either directly from <a class="code" href="../../d1/d7/4_2kdp_8h.html#a118">KdpTrap</a>() or from a worker
00056     thread that is queued by KdpTrap().
00057 
00058 Arguments:
00059 
00060     DataAddress - Supplies a pointer to the data to be paged in.
00061 
00062 Return Value:
00063 
00064     None.
00065 
00066 --*/
00067 
00068 {
00069     <span class="keywordflow">if</span> (<a class="code" href="../../d2/d1/mm_8h.html#a336">MmIsSystemAddressAccessable</a>(DataAddress)) {
00070         UCHAR <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a> = *DataAddress;
00071         DataAddress = &amp;<a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>;
00072     }
00073     <a class="code" href="../../d8/d5/kddata_8c.html#a89">KdpControlCPending</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00074 }
<span class="preprocessor">#pragma optimize( "", on )</span>
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="mips/kdtrap.c::KdpStub" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN KdpStub           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PKTRAP_FRAME&nbsp;</td>
          <td class="mdname" nowrap> <em>TrapFrame</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PKEXCEPTION_FRAME&nbsp;</td>
          <td class="mdname" nowrap> <em>ExceptionFrame</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PEXCEPTION_RECORD&nbsp;</td>
          <td class="mdname" nowrap> <em>ExceptionRecord</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PCONTEXT&nbsp;</td>
          <td class="mdname" nowrap> <em>ContextRecord</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d0/d9/ntosdef_8h.html#a39">KPROCESSOR_MODE</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>PreviousMode</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN BOOLEAN&nbsp;</td>
          <td class="mdname" nowrap> <em>SecondChance</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html#l00458">458</a> of file <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html">mips/kdtrap.c</a>.
<p>
References <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html#l00029">BREAKPOINT_CODE_MASK</a>, <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html#l00028">BREAKPOINT_CODE_SHIFT</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
<pre class="fragment"><div>00469                    :
00470 
00471     This routine provides a kernel debugger stub routine that catchs debug
00472     prints in checked systems when <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> kernel debugger <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> not active.
00473 
00474 Arguments:
00475 
00476     TrapFrame - Supplies a pointer to a trap frame that describes <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a>
00477         trap.
00478 
00479     ExceptionFrame - Supplies a pointer to a exception frame that describes
00480         <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> trap.
00481 
00482     ExceptionRecord - Supplies a pointer to an exception record that
00483         describes <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> exception.
00484 
00485     ContextRecord - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> context at <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> time of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> exception.
00486 
00487     PreviousMode - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> previous processor mode.
00488 
00489     SecondChance - Supplies a <span class="keywordtype">boolean</span> value that determines whether <span class="keyword">this</span> <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a>
00490         <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> second chance (TRUE) that the exception has been raised.
00491 
00492 Return Value:
00493 
00494     A value of TRUE is returned if the exception is handled. Otherwise a
00495     value of FALSE is returned.
00496 
00497 --*/
00498 
00499 {
00500 
00501     ULONG BreakpointCode;
00502 
00503     <span class="comment">//</span>
00504     <span class="comment">// Isolate the breakpoint code from the breakpoint instruction which</span>
00505     <span class="comment">// is stored by the exception dispatch code in the information field</span>
00506     <span class="comment">// of the exception record.</span>
00507     <span class="comment">//</span>
00508 
00509     BreakpointCode = (ExceptionRecord-&gt;ExceptionInformation[0] &amp;
00510                                 <a class="code" href="../../d9/d8/mips_2kdtrap_8c.html#a1">BREAKPOINT_CODE_MASK</a>) &gt;&gt; <a class="code" href="../../d9/d8/mips_2kdtrap_8c.html#a0">BREAKPOINT_CODE_SHIFT</a>;
00511 
00512 
00513     <span class="comment">//</span>
00514     <span class="comment">// If the breakpoint is a debug print, debug load symbols, or debug</span>
00515     <span class="comment">// unload symbols, then return TRUE. Otherwise, return FALSE;</span>
00516     <span class="comment">//</span>
00517 
00518     <span class="keywordflow">if</span> ((BreakpointCode == DEBUG_PRINT_BREAKPOINT) ||
00519         (BreakpointCode == DEBUG_LOAD_SYMBOLS_BREAKPOINT) ||
00520         (BreakpointCode == DEBUG_UNLOAD_SYMBOLS_BREAKPOINT)) {
00521         ContextRecord-&gt;Fir += 4;
00522         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00523 
00524     } <span class="keywordflow">else</span> {
00525         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00526     }
00527 }
}
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="mips/kdtrap.c::KdpTrap" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN KdpTrap           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PKTRAP_FRAME&nbsp;</td>
          <td class="mdname" nowrap> <em>TrapFrame</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PKEXCEPTION_FRAME&nbsp;</td>
          <td class="mdname" nowrap> <em>ExceptionFrame</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PEXCEPTION_RECORD&nbsp;</td>
          <td class="mdname" nowrap> <em>ExceptionRecord</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PCONTEXT&nbsp;</td>
          <td class="mdname" nowrap> <em>ContextRecord</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d0/d9/ntosdef_8h.html#a39">KPROCESSOR_MODE</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>PreviousMode</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN BOOLEAN&nbsp;</td>
          <td class="mdname" nowrap> <em>SecondChance</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html#l00079">79</a> of file <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html">mips/kdtrap.c</a>.
<p>
References <a class="el" href="../../d7/d6/halmips_8h-source.html#l00086">APC_LEVEL</a>, <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html#l00029">BREAKPOINT_CODE_MASK</a>, <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html#l00028">BREAKPOINT_CODE_SHIFT</a>, <a class="el" href="../../d5/d8/ex_8h.html#a332a206">DelayedWorkQueue</a>, <a class="el" href="../../d6/d7/ex_8h-source.html#l01961">ExInitializeWorkItem</a>, <a class="el" href="../../d2/d8/worker_8c-source.html#l00375">ExQueueWorkItem()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d8/d2/kd_8h-source.html#l00133">KdDebuggerNotPresent</a>, <a class="el" href="../../d0/d3/4_2kdapi_8c-source.html#l00277">KdEnterDebugger()</a>, <a class="el" href="../../d0/d3/4_2kdapi_8c-source.html#l00355">KdExitDebugger()</a>, <a class="el" href="../../d9/d4/kddata_8c-source.html#l00260">KdpControlCPending</a>, <a class="el" href="../../d9/d4/kddata_8c-source.html#l00261">KdpControlCPressed</a>, <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html#l00035">KdpPageInAddress</a>, <a class="el" href="../../d1/d8/ppc_2kdtrap_8c-source.html#l00047">KdpPageInData()</a>, <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html#l00036">KdpPageInWorkItem</a>, <a class="el" href="../../d1/d5/kddbgio_8c-source.html#l00030">KdpPrintString()</a>, <a class="el" href="../../d1/d5/kddbgio_8c-source.html#l00110">KdpPromptString()</a>, <a class="el" href="../../d9/d2/kdapi_8c-source.html#l02351">KdpReportExceptionStateChange()</a>, <a class="el" href="../../d9/d2/kdapi_8c-source.html#l02434">KdpReportLoadSymbolsStateChange()</a>, <a class="el" href="../../d4/d9/ke_8h.html#a374">KeFlushCurrentTb()</a>, <a class="el" href="../../d3/d6/alpha_2kdpcpu_8h-source.html#l00069">KeGetCurrentPrcb</a>, <a class="el" href="../../d0/d6/ppc_2ipi_8c-source.html#l00046">KiRestoreProcessorState()</a>, <a class="el" href="../../d0/d6/ppc_2ipi_8c-source.html#l00104">KiSaveProcessorState()</a>, <a class="el" href="../../d6/d7/ex_8h-source.html#l01950">PWORKER_THREAD_ROUTINE</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00064">USHORT</a>.
<p>
<pre class="fragment"><div>00090                    :
00091 
00092     This routine <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> called whenever a exception <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> dispatched and <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> kernel
00093     debugger <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> active.
00094 
00095 Arguments:
00096 
00097     TrapFrame - Supplies a pointer to a trap frame that describes <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a>
00098         trap.
00099 
00100     ExceptionFrame - Supplies a pointer to a exception frame that describes
00101         <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> trap.
00102 
00103     ExceptionRecord - Supplies a pointer to an exception record that
00104         describes <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> exception.
00105 
00106     ContextRecord - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> context at <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> time of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> exception.
00107 
00108     PreviousMode - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> previous processor mode.
00109 
00110     SecondChance - Supplies a <span class="keywordtype">boolean</span> value that determines whether <span class="keyword">this</span> <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a>
00111         <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> second chance (TRUE) that the exception has been raised.
00112 
00113 Return Value:
00114 
00115     A value of TRUE is returned if the exception is handled. Otherwise a
00116     value of FALSE is returned.
00117 
00118 --*/
00119 
00120 {
00121 
00122     BOOLEAN Completion;
00123     BOOLEAN Enable;
00124     BOOLEAN UnloadSymbols = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00125     STRING Input;
00126     ULONG OldFir;
00127     STRING Output;
00128     PKPRCB Prcb;
00129 
00130     <span class="comment">//</span>
00131     <span class="comment">// Synchronize processor execution, save processor state, enter debugger,</span>
00132     <span class="comment">// and flush the current TB.</span>
00133     <span class="comment">//</span>
00134 
00135 re_enter_debugger:
00136     Enable = <a class="code" href="../../d9/d3/4_2kdapi_8c.html#a17">KdEnterDebugger</a>(TrapFrame, ExceptionFrame);
00137     Prcb = <a class="code" href="../../d2/d7/alpha_2kdpcpu_8h.html#a2">KeGetCurrentPrcb</a>();
00138     <a class="code" href="../../d9/d6/ppc_2ipi_8c.html#a3">KiSaveProcessorState</a>(TrapFrame, ExceptionFrame);
00139     <a class="code" href="../../d4/d9/ke_8h.html#a374">KeFlushCurrentTb</a>();
00140 
00141     <span class="comment">//</span>
00142     <span class="comment">// If this is a breakpoint instruction, then check to determine if is</span>
00143     <span class="comment">// an internal command.</span>
00144     <span class="comment">//</span>
00145 
00146     <span class="keywordflow">if</span> ((ExceptionRecord-&gt;ExceptionCode == STATUS_BREAKPOINT) &amp;&amp;
00147        (((ExceptionRecord-&gt;ExceptionInformation[0] &amp; <a class="code" href="../../d9/d8/mips_2kdtrap_8c.html#a1">BREAKPOINT_CODE_MASK</a>) &gt;&gt;
00148        <a class="code" href="../../d9/d8/mips_2kdtrap_8c.html#a0">BREAKPOINT_CODE_SHIFT</a>) &gt;= DEBUG_PRINT_BREAKPOINT)) {
00149 
00150         <span class="comment">//</span>
00151         <span class="comment">// Switch on the breakpoint code.</span>
00152         <span class="comment">//</span>
00153 
00154         <span class="keywordflow">switch</span> ((ExceptionRecord-&gt;ExceptionInformation[0] &amp; <a class="code" href="../../d9/d8/mips_2kdtrap_8c.html#a1">BREAKPOINT_CODE_MASK</a>) &gt;&gt;
00155                 <a class="code" href="../../d9/d8/mips_2kdtrap_8c.html#a0">BREAKPOINT_CODE_SHIFT</a>) {
00156 
00157             <span class="comment">//</span>
00158             <span class="comment">// Print a debug string.</span>
00159             <span class="comment">//</span>
00160             <span class="comment">// Arguments:</span>
00161             <span class="comment">//</span>
00162             <span class="comment">//   a0 - Supplies a pointer to an output string buffer.</span>
00163             <span class="comment">//   a1 - Supplies the length of the output string buffer.</span>
00164             <span class="comment">//</span>
00165 
00166         <span class="keywordflow">case</span> DEBUG_PRINT_BREAKPOINT:
00167             Output.Buffer = (PCHAR)((ULONG)ContextRecord-&gt;XIntA0);
00168             Output.Length = (<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>)ContextRecord-&gt;XIntA1;
00169             <span class="keywordflow">if</span> (<a class="code" href="../../d7/d3/kd_8h.html#a12">KdDebuggerNotPresent</a> == <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>) {
00170                 <span class="keywordflow">if</span> (<a class="code" href="../../d1/d7/4_2kdp_8h.html#a102">KdpPrintString</a>(&amp;Output)) {
00171                     ContextRecord-&gt;XIntV0 = (ULONGLONG)((LONG)STATUS_BREAKPOINT);
00172 
00173                 } <span class="keywordflow">else</span> {
00174                     ContextRecord-&gt;XIntV0 = (ULONGLONG)((LONG)STATUS_SUCCESS);
00175                 }
00176 
00177             } <span class="keywordflow">else</span> {
00178                 ContextRecord-&gt;XIntV0 = (ULONGLONG)((LONG)STATUS_DEVICE_NOT_CONNECTED);
00179             }
00180 
00181             <a class="code" href="../../d9/d6/ppc_2ipi_8c.html#a2">KiRestoreProcessorState</a>(TrapFrame, ExceptionFrame);
00182             <a class="code" href="../../d9/d3/4_2kdapi_8c.html#a18">KdExitDebugger</a>(Enable);
00183             ContextRecord-&gt;Fir += 4;
00184             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00185 
00186             <span class="comment">//</span>
00187             <span class="comment">// Print a debug prompt string, then input a string.</span>
00188             <span class="comment">//</span>
00189             <span class="comment">//   a0 - Supplies a pointer to an output string buffer.</span>
00190             <span class="comment">//   a1 - Supplies the length of the output string buffer..</span>
00191             <span class="comment">//   a2 - supplies a pointer to an input string buffer.</span>
00192             <span class="comment">//   a3 - Supplies the length of the input string bufffer.</span>
00193             <span class="comment">//</span>
00194 
00195         <span class="keywordflow">case</span> DEBUG_PROMPT_BREAKPOINT:
00196             Output.Buffer = (PCHAR)((ULONG)ContextRecord-&gt;XIntA0);
00197             Output.Length = (<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>)ContextRecord-&gt;XIntA1;
00198             Input.Buffer = (PCHAR)((ULONG)ContextRecord-&gt;XIntA2);
00199             Input.MaximumLength = (<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>)ContextRecord-&gt;XIntA3;
00200             <a class="code" href="../../d1/d7/4_2kdp_8h.html#a103">KdpPromptString</a>(&amp;Output, &amp;Input);
00201             ContextRecord-&gt;XIntV0 = (LONG)Input.Length;
00202             <a class="code" href="../../d9/d6/ppc_2ipi_8c.html#a2">KiRestoreProcessorState</a>(TrapFrame, ExceptionFrame);
00203             <a class="code" href="../../d9/d3/4_2kdapi_8c.html#a18">KdExitDebugger</a>(Enable);
00204             ContextRecord-&gt;Fir += 4;
00205             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00206 
00207             <span class="comment">//</span>
00208             <span class="comment">// Load the symbolic information for an image.</span>
00209             <span class="comment">//</span>
00210             <span class="comment">// Arguments:</span>
00211             <span class="comment">//</span>
00212             <span class="comment">//    a0 - Supplies a pointer to an output string descriptor.</span>
00213             <span class="comment">//    a1 - Supplies a the base address of the image.</span>
00214             <span class="comment">//</span>
00215 
00216         <span class="keywordflow">case</span> DEBUG_UNLOAD_SYMBOLS_BREAKPOINT:
00217             UnloadSymbols = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00218 
00219             <span class="comment">//</span>
00220             <span class="comment">// Fall through</span>
00221             <span class="comment">//</span>
00222 
00223         <span class="keywordflow">case</span> DEBUG_LOAD_SYMBOLS_BREAKPOINT:
00224             OldFir = ContextRecord-&gt;Fir;
00225             <span class="keywordflow">if</span> (<a class="code" href="../../d7/d3/kd_8h.html#a12">KdDebuggerNotPresent</a> == <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>) {
00226                 <a class="code" href="../../d1/d7/4_2kdp_8h.html#a121">KdpReportLoadSymbolsStateChange</a>((PSTRING)((ULONG)ContextRecord-&gt;XIntA0),
00227                                                 (<a class="code" href="../../d6/d5/struct__KD__SYMBOLS__INFO.html">PKD_SYMBOLS_INFO</a>)((ULONG)ContextRecord-&gt;XIntA1),
00228                                                 UnloadSymbols,
00229                                                 &amp;Prcb-&gt;ProcessorState.ContextFrame);
00230 
00231             }
00232 
00233             RtlCopyMemory(ContextRecord,
00234                           &amp;Prcb-&gt;ProcessorState.ContextFrame,
00235                           sizeof (CONTEXT) );
00236 
00237             <a class="code" href="../../d9/d6/ppc_2ipi_8c.html#a2">KiRestoreProcessorState</a>(TrapFrame, ExceptionFrame);
00238             <a class="code" href="../../d9/d3/4_2kdapi_8c.html#a18">KdExitDebugger</a>(Enable);
00239 
00240             <span class="comment">//</span>
00241             <span class="comment">// If the kernel debugger did not update the FIR, then increment</span>
00242             <span class="comment">// past the break point instruction.</span>
00243             <span class="comment">//</span>
00244 
00245             <span class="keywordflow">if</span> (ContextRecord-&gt;Fir == OldFir) {
00246                 ContextRecord-&gt;Fir += 4;
00247             }
00248 
00249             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00250 
00251             <span class="comment">//</span>
00252             <span class="comment">// Unknown internal command.</span>
00253             <span class="comment">//</span>
00254 
00255         <span class="keywordflow">default</span>:
00256             <span class="keywordflow">break</span>;
00257         }
00258     }
00259 
00260     <span class="comment">//</span>
00261     <span class="comment">// Report state change to kernel debugger on host machine.</span>
00262     <span class="comment">//</span>
00263 
00264     Completion = <a class="code" href="../../d1/d7/4_2kdp_8h.html#a120">KdpReportExceptionStateChange</a>(ExceptionRecord,
00265                                                &amp;Prcb-&gt;ProcessorState.ContextFrame,
00266                                                SecondChance);
00267 
00268     RtlCopyMemory(ContextRecord,
00269                   &amp;Prcb-&gt;ProcessorState.ContextFrame,
00270                   <span class="keyword">sizeof</span>(CONTEXT));
00271 
00272     <a class="code" href="../../d9/d6/ppc_2ipi_8c.html#a2">KiRestoreProcessorState</a>(TrapFrame, ExceptionFrame);
00273     <a class="code" href="../../d9/d3/4_2kdapi_8c.html#a18">KdExitDebugger</a>(Enable);
00274 
00275     <span class="comment">//</span>
00276     <span class="comment">// Check to determine if the user of the remote debugger requested memory</span>
00277     <span class="comment">// to be paged in.</span>
00278     <span class="comment">//</span>
00279 
00280     <span class="keywordflow">if</span> (<a class="code" href="../../d9/d8/mips_2kdtrap_8c.html#a2">KdpPageInAddress</a>) {
00281         <span class="keywordflow">if</span> (KeGetCurrentIrql() &lt;= <a class="code" href="../../d6/d7/halmips_8h.html#a52">APC_LEVEL</a>) {
00282 
00283             <span class="comment">//</span>
00284             <span class="comment">// If the IQRL is below DPC level then cause the page fault to</span>
00285             <span class="comment">// occur and then re-enter the debugger. This whole process is</span>
00286             <span class="comment">// transparent to the user.</span>
00287             <span class="comment">//</span>
00288 
00289             <a class="code" href="../../d0/d9/ppc_2kdtrap_8c.html#a4">KdpPageInData</a>((PUCHAR)KdpPageInAddress);
00290             <a class="code" href="../../d9/d8/mips_2kdtrap_8c.html#a2">KdpPageInAddress</a> = 0;
00291             <a class="code" href="../../d8/d5/kddata_8c.html#a89">KdpControlCPending</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00292             <span class="keywordflow">goto</span> re_enter_debugger;
00293 
00294         } <span class="keywordflow">else</span> {
00295 
00296             <span class="comment">//</span>
00297             <span class="comment">// A page fault cannot be taken at an IRQL above APC level. Thus</span>
00298             <span class="comment">// a worker item is queued to take the page fault. After the worker</span>
00299             <span class="comment">// item takes the page fault it sets the contol-c flag so that the</span>
00300             <span class="comment">// user re-enters the debugger just as if control-c was pressed.</span>
00301             <span class="comment">//</span>
00302 
00303             <span class="keywordflow">if</span> (<a class="code" href="../../d8/d5/kddata_8c.html#a90">KdpControlCPressed</a>) {
00304                 <a class="code" href="../../d5/d8/ex_8h.html#a55">ExInitializeWorkItem</a>(&amp;KdpPageInWorkItem,
00305                                      (PWORKER_THREAD_ROUTINE) KdpPageInData,
00306                                      (PVOID) KdpPageInAddress);
00307 
00308                 <a class="code" href="../../d5/d8/ex_8h.html#a261">ExQueueWorkItem</a>( &amp;KdpPageInWorkItem, DelayedWorkQueue );
00309                 <a class="code" href="../../d9/d8/mips_2kdtrap_8c.html#a2">KdpPageInAddress</a> = 0;
00310             }
00311         }
00312     }
00313 
00314     <a class="code" href="../../d8/d5/kddata_8c.html#a90">KdpControlCPressed</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00315     <span class="keywordflow">return</span> Completion;
00316 }

</div></pre>    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a4" doxytag="mips/kdtrap.c::KdpControlCPressed" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN <a class="el" href="../../d1/d7/4_2kdp_8h.html#a73">KdpControlCPressed</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html#l00042">42</a> of file <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html">mips/kdtrap.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="mips/kdtrap.c::KdpPageInAddress" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ULONG <a class="el" href="../../d0/d9/ppc_2kdtrap_8c.html#a1">KdpPageInAddress</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html#l00035">35</a> of file <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html">mips/kdtrap.c</a>.
<p>
Referenced by <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html#l00079">KdpTrap()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="mips/kdtrap.c::KdpPageInWorkItem" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d7/d9/struct__WORK__QUEUE__ITEM.html">WORK_QUEUE_ITEM</a> <a class="el" href="../../d0/d9/ppc_2kdtrap_8c.html#a2">KdpPageInWorkItem</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html#l00036">36</a> of file <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html">mips/kdtrap.c</a>.
<p>
Referenced by <a class="el" href="../../d0/d8/mips_2kdtrap_8c-source.html#l00079">KdpTrap()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:44:27 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
