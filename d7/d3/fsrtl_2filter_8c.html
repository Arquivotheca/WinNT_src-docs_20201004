<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: fsrtl/filter.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>filter.c File Reference</h1><code>#include "FsRtlP.h"</code><br>

<p>
<a href="../../d8/d2/fsrtl_2filter_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d7/d3/fsrtl_2filter_8c.html#a0">Dbg</a>&nbsp;&nbsp;&nbsp;(0x80000000)</td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>NTSTATUS&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d7/d3/fsrtl_2filter_8c.html#a1">FsRtlNormalizeNtstatus</a> (IN NTSTATUS Exception, IN NTSTATUS GenericException)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d7/d3/fsrtl_2filter_8c.html#a2">FsRtlIsNtstatusExpected</a> (IN NTSTATUS Exception)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PVOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d7/d3/fsrtl_2filter_8c.html#a3">FsRtlAllocatePool</a> (IN <a class="el" href="../../d5/d8/ex_8h.html#a96">POOL_TYPE</a> PoolType, IN ULONG NumberOfBytes)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PVOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d7/d3/fsrtl_2filter_8c.html#a4">FsRtlAllocatePoolWithQuota</a> (IN <a class="el" href="../../d5/d8/ex_8h.html#a96">POOL_TYPE</a> PoolType, IN ULONG NumberOfBytes)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PVOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d7/d3/fsrtl_2filter_8c.html#a5">FsRtlAllocatePoolWithTag</a> (IN <a class="el" href="../../d5/d8/ex_8h.html#a96">POOL_TYPE</a> PoolType, IN ULONG NumberOfBytes, IN ULONG Tag)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PVOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d7/d3/fsrtl_2filter_8c.html#a6">FsRtlAllocatePoolWithQuotaTag</a> (IN <a class="el" href="../../d5/d8/ex_8h.html#a96">POOL_TYPE</a> PoolType, IN ULONG NumberOfBytes, IN ULONG Tag)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d7/d3/fsrtl_2filter_8c.html#a7">FsRtlIsTotalDeviceFailure</a> (IN NTSTATUS <a class="el" href="../../d2/d1/cttoken_8c.html#a18">Status</a>)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a0" doxytag="fsrtl/filter.c::Dbg" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define Dbg&nbsp;&nbsp;&nbsp;(0x80000000)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d8/d2/fsrtl_2filter_8c-source.html#l00045">45</a> of file <a class="el" href="../../d8/d2/fsrtl_2filter_8c-source.html">fsrtl/filter.c</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a3" doxytag="fsrtl/filter.c::FsRtlAllocatePool" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PVOID FsRtlAllocatePool           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d5/d8/ex_8h.html#a96">POOL_TYPE</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>PoolType</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>NumberOfBytes</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d8/d2/fsrtl_2filter_8c-source.html#l00124">124</a> of file <a class="el" href="../../d8/d2/fsrtl_2filter_8c-source.html">fsrtl/filter.c</a>.
<p>
References <a class="el" href="../../d6/d7/ex_8h-source.html#l00253">ExAllocatePoolWithTag</a>, <a class="el" href="../../d1/d3/ex_2alpha_2raisests_8c-source.html#l00157">ExRaiseStatus()</a>, and <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>.
<p>
<pre class="fragment"><div>00131                    :
00132 
00133     This routine <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> used to allocate executive level <a class="code" href="../../d4/d6/regext_8c.html#a17">pool</a>.  It either
00134     returns a non null pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> newly allocated <a class="code" href="../../d4/d6/regext_8c.html#a17">pool</a> or <a class="code" href="../../d1/d9/icmui_8def.html#a4">it</a> raises
00135     a status of insufficient resources.
00136 
00137 Arguments:
00138 
00139     PoolType - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a> of executive <a class="code" href="../../d4/d6/regext_8c.html#a17">pool</a> to allocate
00140 
00141     NumberOfBytes - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> number of bytes to allocate
00142 
00143 Return Value:
00144 
00145     PVOID - Returns a non null pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> newly allocated <a class="code" href="../../d4/d6/regext_8c.html#a17">pool</a>.
00146 
00147 --*/
00148 
00149 {
00150     PVOID p;
00151 
00152     <span class="comment">//</span>
00153     <span class="comment">//  Allocate executive pool and if we get back null then raise</span>
00154     <span class="comment">//  a status of insufficient resources</span>
00155     <span class="comment">//</span>
00156 
00157     <span class="keywordflow">if</span> ((p = <a class="code" href="../../d5/d8/ex_8h.html#a4">ExAllocatePoolWithTag</a>( PoolType, NumberOfBytes, 'trSF')) == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00158 
00159         <a class="code" href="../../d5/d8/ex_8h.html#a303">ExRaiseStatus</a>( STATUS_INSUFFICIENT_RESOURCES );
00160     }
00161 
00162     <span class="keywordflow">return</span> p;
00163 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="fsrtl/filter.c::FsRtlAllocatePoolWithQuota" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PVOID FsRtlAllocatePoolWithQuota           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d5/d8/ex_8h.html#a96">POOL_TYPE</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>PoolType</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>NumberOfBytes</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d8/d2/fsrtl_2filter_8c-source.html#l00169">169</a> of file <a class="el" href="../../d8/d2/fsrtl_2filter_8c-source.html">fsrtl/filter.c</a>.
<p>
References <a class="el" href="../../d6/d7/ex_8h-source.html#l00265">ExAllocatePoolWithQuotaTag</a>, <a class="el" href="../../d1/d3/ex_2alpha_2raisests_8c-source.html#l00157">ExRaiseStatus()</a>, and <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>.
<p>
<pre class="fragment"><div>00176                    :
00177 
00178     This routine <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> used to allocate executive level <a class="code" href="../../d4/d6/regext_8c.html#a17">pool</a> with quota.  It
00179     either returns a non null pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> newly allocated <a class="code" href="../../d4/d6/regext_8c.html#a17">pool</a> or <a class="code" href="../../d1/d9/icmui_8def.html#a4">it</a> raises
00180     a status of insufficient resources.
00181 
00182 Arguments:
00183 
00184     PoolType - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a> of executive <a class="code" href="../../d4/d6/regext_8c.html#a17">pool</a> to allocate
00185 
00186     NumberOfBytes - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> number of bytes to allocate
00187 
00188 Return Value:
00189 
00190     PVOID - Returns a non null pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> newly allocated <a class="code" href="../../d4/d6/regext_8c.html#a17">pool</a>.
00191 
00192 --*/
00193 
00194 {
00195     PVOID p;
00196 
00197     <span class="comment">//</span>
00198     <span class="comment">//  Allocate executive pool and if we get back null then raise</span>
00199     <span class="comment">//  a status of insufficient resources</span>
00200     <span class="comment">//</span>
00201 
00202     <span class="keywordflow">if</span> ((p = <a class="code" href="../../d5/d8/ex_8h.html#a5">ExAllocatePoolWithQuotaTag</a> ( PoolType, NumberOfBytes, 'trSF')) == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00203 
00204         <a class="code" href="../../d5/d8/ex_8h.html#a303">ExRaiseStatus</a>( STATUS_INSUFFICIENT_RESOURCES );
00205     }
00206 
00207     <span class="keywordflow">return</span> p;
00208 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="fsrtl/filter.c::FsRtlAllocatePoolWithQuotaTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PVOID FsRtlAllocatePoolWithQuotaTag           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d5/d8/ex_8h.html#a96">POOL_TYPE</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>PoolType</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>NumberOfBytes</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Tag</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d8/d2/fsrtl_2filter_8c-source.html#l00260">260</a> of file <a class="el" href="../../d8/d2/fsrtl_2filter_8c-source.html">fsrtl/filter.c</a>.
<p>
References <a class="el" href="../../d6/d7/ex_8h-source.html#l00265">ExAllocatePoolWithQuotaTag</a>, <a class="el" href="../../d1/d3/ex_2alpha_2raisests_8c-source.html#l00157">ExRaiseStatus()</a>, and <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>.
<p>
<pre class="fragment"><div>00268                    :
00269 
00270     This routine <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> used to allocate executive level <a class="code" href="../../d4/d6/regext_8c.html#a17">pool</a> with a quota tag.
00271 
00272 Arguments:
00273 
00274     PoolType - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a> of executive <a class="code" href="../../d4/d6/regext_8c.html#a17">pool</a> to allocate
00275 
00276     NumberOfBytes - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> number of bytes to allocate
00277 
00278     Tag - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> tag <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> <a class="code" href="../../d4/d6/regext_8c.html#a17">pool</a> block
00279 
00280 Return Value:
00281 
00282     PVOID - Returns a non null pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> newly allocated <a class="code" href="../../d4/d6/regext_8c.html#a17">pool</a>.
00283 
00284 --*/
00285 
00286 {
00287     PVOID p;
00288 
00289     <span class="comment">//</span>
00290     <span class="comment">//  Allocate executive pool and if we get back null then raise</span>
00291     <span class="comment">//  a status of insufficient resources</span>
00292     <span class="comment">//</span>
00293 
00294     <span class="keywordflow">if</span> ((p = <a class="code" href="../../d5/d8/ex_8h.html#a5">ExAllocatePoolWithQuotaTag</a>( PoolType, NumberOfBytes, Tag)) == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00295 
00296         <a class="code" href="../../d5/d8/ex_8h.html#a303">ExRaiseStatus</a>( STATUS_INSUFFICIENT_RESOURCES );
00297     }
00298 
00299     <span class="keywordflow">return</span> p;
00300 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="fsrtl/filter.c::FsRtlAllocatePoolWithTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PVOID FsRtlAllocatePoolWithTag           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d5/d8/ex_8h.html#a96">POOL_TYPE</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>PoolType</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>NumberOfBytes</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Tag</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d8/d2/fsrtl_2filter_8c-source.html#l00214">214</a> of file <a class="el" href="../../d8/d2/fsrtl_2filter_8c-source.html">fsrtl/filter.c</a>.
<p>
References <a class="el" href="../../d6/d7/ex_8h-source.html#l00253">ExAllocatePoolWithTag</a>, <a class="el" href="../../d1/d3/ex_2alpha_2raisests_8c-source.html#l00157">ExRaiseStatus()</a>, and <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>.
<p>
<pre class="fragment"><div>00222                    :
00223 
00224     This routine <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> used to allocate executive level <a class="code" href="../../d4/d6/regext_8c.html#a17">pool</a> with a tag.
00225 
00226 Arguments:
00227 
00228     PoolType - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a> of executive <a class="code" href="../../d4/d6/regext_8c.html#a17">pool</a> to allocate
00229 
00230     NumberOfBytes - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> number of bytes to allocate
00231 
00232     Tag - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> tag <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> <a class="code" href="../../d4/d6/regext_8c.html#a17">pool</a> block
00233 
00234 Return Value:
00235 
00236     PVOID - Returns a non null pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> newly allocated <a class="code" href="../../d4/d6/regext_8c.html#a17">pool</a>.
00237 
00238 --*/
00239 
00240 {
00241     PVOID p;
00242 
00243     <span class="comment">//</span>
00244     <span class="comment">//  Allocate executive pool and if we get back null then raise</span>
00245     <span class="comment">//  a status of insufficient resources</span>
00246     <span class="comment">//</span>
00247 
00248     <span class="keywordflow">if</span> ((p = <a class="code" href="../../d5/d8/ex_8h.html#a4">ExAllocatePoolWithTag</a>( PoolType, NumberOfBytes, Tag)) == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00249 
00250         <a class="code" href="../../d5/d8/ex_8h.html#a303">ExRaiseStatus</a>( STATUS_INSUFFICIENT_RESOURCES );
00251     }
00252 
00253     <span class="keywordflow">return</span> p;
00254 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="fsrtl/filter.c::FsRtlIsNtstatusExpected" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN FsRtlIsNtstatusExpected           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN NTSTATUS&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>Exception</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d8/d2/fsrtl_2filter_8c-source.html#l00082">82</a> of file <a class="el" href="../../d8/d2/fsrtl_2filter_8c-source.html">fsrtl/filter.c</a>.
<p>
References <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d6/d0/lazyrite_8c-source.html#l00619">CcExceptionFilter()</a>, <a class="el" href="../../d3/d6/notify_8c-source.html#l02555">FsRtlCancelNotify()</a>, <a class="el" href="../../d4/d0/fastio_8c-source.html#l00054">FsRtlCopyRead()</a>, <a class="el" href="../../d4/d0/fastio_8c-source.html#l00330">FsRtlCopyWrite()</a>, <a class="el" href="../../d4/d0/fastio_8c-source.html#l01064">FsRtlMdlReadDev()</a>, <a class="el" href="../../d8/d2/fsrtl_2filter_8c-source.html#l00049">FsRtlNormalizeNtstatus()</a>, <a class="el" href="../../d3/d6/notify_8c-source.html#l00973">FsRtlNotifyFullReportChange()</a>, <a class="el" href="../../d4/d0/fastio_8c-source.html#l01474">FsRtlPrepareMdlWriteDev()</a>, <a class="el" href="../../d8/d2/lfsdata_8c-source.html#l00058">LfsExceptionFilter()</a>, <a class="el" href="../../d4/d6/deviosup_8c-source.html#l00474">UdfCreateUserMdl()</a>, <a class="el" href="../../d1/d7/udfdata_8c-source.html#l00448">UdfExceptionFilter()</a>, and <a class="el" href="../../d2/d7/dirctrl_8c-source.html#l00334">UdfQueryDirectory()</a>.
<p>
<pre class="fragment"><div>00088                    :
00089 
00090     This routine <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> used to decide <span class="keywordflow">if</span> a status <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> within <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> set of values
00091     handled by <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> exception filter.
00092 
00093 Arguments:
00094 
00095     Exception - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> exception being queried
00096 
00097 Return Value:
00098 
00099     BOOLEAN - Returns <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> <span class="keywordflow">if</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> value <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> handled by <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> filter, and
00100         <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a> otherwise.
00101 
00102 --*/
00103 
00104 {
00105     <span class="keywordflow">switch</span> (Exception) {
00106 
00107     <span class="keywordflow">case</span> STATUS_DATATYPE_MISALIGNMENT:
00108     <span class="keywordflow">case</span> STATUS_ACCESS_VIOLATION:
00109     <span class="keywordflow">case</span> STATUS_ILLEGAL_INSTRUCTION:
00110     <span class="keywordflow">case</span> STATUS_INSTRUCTION_MISALIGNMENT:
00111 
00112         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00113 
00114     <span class="keywordflow">default</span>:
00115 
00116         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00117     }
00118 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="fsrtl/filter.c::FsRtlIsTotalDeviceFailure" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN FsRtlIsTotalDeviceFailure           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN NTSTATUS&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>Status</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d8/d2/fsrtl_2filter_8c-source.html#l00304">304</a> of file <a class="el" href="../../d8/d2/fsrtl_2filter_8c-source.html">fsrtl/filter.c</a>.
<p>
References <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d3/d0/cttoken_8c-source.html#l00135">Status</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d3/d3/internal_8c-source.html#l04282">IopMountVolume()</a>.
<p>
<pre class="fragment"><div>00310                    :
00311 
00312     This routine <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> given an <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> value and make a determination as to
00313     <span class="keywordflow">if</span> <span class="keyword">this</span> value indicates that <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> complete device has failed and therefore
00314     should no longer be used, or <span class="keywordflow">if</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> <a class="code" href="../../d8/d0/rtbatcr_8c.html#a1">failure</a> <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> one that indicates that
00315     continued use of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> device <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> ok (i.e. a sector failure).
00316 
00317 Arguments:
00318 
00319     <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> - <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> value to test.
00320 
00321 Return Value:
00322 
00323     <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>  - The status value given <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> believed to be a fatal device error.
00324     <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a> - The status value given <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> believed to be a sector <a class="code" href="../../d8/d0/rtbatcr_8c.html#a1">failure</a>, but not
00325             a complete device <a class="code" href="../../d8/d0/rtbatcr_8c.html#a1">failure</a>.
00326 --*/
00327 
00328 {
00329     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(Status)) {
00330 
00331         <span class="comment">//</span>
00332         <span class="comment">// All warning and informational errors will be resolved here.</span>
00333         <span class="comment">//</span>
00334 
00335         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00336     }
00337 
00338     <span class="keywordflow">switch</span> (<a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>) {
00339     <span class="keywordflow">case</span> STATUS_CRC_ERROR:
00340     <span class="keywordflow">case</span> STATUS_DEVICE_DATA_ERROR:
00341         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00342     <span class="keywordflow">default</span>:
00343         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00344     }
00345 }
}
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="fsrtl/filter.c::FsRtlNormalizeNtstatus" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NTSTATUS FsRtlNormalizeNtstatus           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN NTSTATUS&nbsp;</td>
          <td class="mdname" nowrap> <em>Exception</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN NTSTATUS&nbsp;</td>
          <td class="mdname" nowrap> <em>GenericException</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d8/d2/fsrtl_2filter_8c-source.html#l00049">49</a> of file <a class="el" href="../../d8/d2/fsrtl_2filter_8c-source.html">fsrtl/filter.c</a>.
<p>
References <a class="el" href="../../d8/d2/fsrtl_2filter_8c-source.html#l00082">FsRtlIsNtstatusExpected()</a>.
<p>
Referenced by <a class="el" href="../../d6/d6/copysup_8c-source.html#l00031">CcCopyRead()</a>, <a class="el" href="../../d6/d6/copysup_8c-source.html#l01075">CcCopyWrite()</a>, <a class="el" href="../../d6/d6/copysup_8c-source.html#l00588">CcFastCopyRead()</a>, <a class="el" href="../../d6/d6/copysup_8c-source.html#l01482">CcFastCopyWrite()</a>, <a class="el" href="../../d6/d2/vacbsup_8c-source.html#l00401">CcGetVacbMiss()</a>, <a class="el" href="../../d6/d7/fssup_8c-source.html#l00387">CcInitializeCacheMap()</a>, <a class="el" href="../../d7/d1/cachesub_8c-source.html#l06024">CcMapAndCopy()</a>, <a class="el" href="../../d8/d4/mdlsup_8c-source.html#l00838">CcMdlWriteComplete2()</a>, <a class="el" href="../../d6/d7/fssup_8c-source.html#l01821">CcSetFileSizes()</a>, <a class="el" href="../../d8/d4/udfs_2read_8c-source.html#l00068">UdfCommonRead()</a>, and <a class="el" href="../../d4/d7/udfprocs_8h-source.html#l00418">UdfNormalizeAndRaiseStatus()</a>.
<p>
<pre class="fragment"><div>00056                    :
00057 
00058     This routine <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> used to normalize an <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> into a status
00059     that <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> handled by <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a9">file</a> system's top level exception handlers.
00060 
00061 Arguments:
00062 
00063     Exception - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> exception being normalized
00064 
00065     GenericException - Supplies a second exception to translate to
00066         <span class="keywordflow">if</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> first exception <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> not within <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> set of exceptions
00067         handled by <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> filter
00068 
00069 Return Value:
00070 
00071     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> - Returns Exception <span class="keywordflow">if</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> value <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> already handled
00072         by <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> filter, and GenericException otherwise.
00073 
00074 --*/
00075 
00076 {
00077     <span class="keywordflow">return</span> (<a class="code" href="../../d1/d8/fsrtl_8h.html#a137">FsRtlIsNtstatusExpected</a>(Exception) ? Exception : GenericException);
00078 }

</div></pre>    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:43:40 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
