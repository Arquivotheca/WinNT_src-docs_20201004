<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: pnp.h Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>pnp.h</h1><a href="../../d6/d9/pnp_8h.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">/*++ BUILD Version: 0001    // Increment this if a change has global effects</span>
00002 <span class="comment"></span>
00003 <span class="comment">Copyright (c) 1995  Microsoft Corporation</span>
00004 <span class="comment"></span>
00005 <span class="comment">Module Name:</span>
00006 <span class="comment"></span>
00007 <span class="comment">    pnp.h</span>
00008 <span class="comment"></span>
00009 <span class="comment">Abstract:</span>
00010 <span class="comment"></span>
00011 <span class="comment">    This module contains the internal structure definitions and APIs used by</span>
00012 <span class="comment">    the kernel-mode Plug and Play manager.</span>
00013 <span class="comment"></span>
00014 <span class="comment">    This file is included by including "ntos.h".</span>
00015 <span class="comment"></span>
00016 <span class="comment">Author:</span>
00017 <span class="comment"></span>
00018 <span class="comment">    Lonny McMichael (lonnym) 02/09/95</span>
00019 <span class="comment"></span>
00020 <span class="comment"></span>
00021 <span class="comment">Revision History:</span>
00022 <span class="comment"></span>
00023 <span class="comment"></span>
00024 <span class="comment">--*/</span>
00025 
00026 <span class="preprocessor">#ifndef _PNP_</span>
00027 <span class="preprocessor"></span><span class="preprocessor">#define _PNP_</span>
00028 <span class="preprocessor"></span>
00029 <span class="comment">//</span>
00030 <span class="comment">// The following global variables provide/control access to PnP Manager data.</span>
00031 <span class="comment">//</span>
00032 <span class="comment">// NOTE: If both registry AND bus list resources are required, then the</span>
00033 <span class="comment">// bus list resource (PpBusResource) must be acquired FIRST.</span>
00034 <span class="comment">//</span>
00035 
<a name="l00036"></a><a class="code" href="../../d6/d9/pnp_8h.html#a13">00036</a> <span class="keyword">extern</span> <a class="code" href="../../d6/d4/struct__ERESOURCE.html">ERESOURCE</a>  <a class="code" href="../../d6/d9/pnp_8h.html#a13">PpRegistryDeviceResource</a>;
<a name="l00037"></a><a class="code" href="../../d6/d9/pnp_8h.html#a14">00037</a> <span class="keyword">extern</span> <a class="code" href="../../d4/d9/struct__DRIVER__OBJECT.html">PDRIVER_OBJECT</a> <a class="code" href="../../d6/d9/pnp_8h.html#a14">IoPnpDriverObject</a>;
00038 
00039 <span class="comment">// begin_ntddk begin_nthal begin_ntifs begin_wdm</span>
00040 
00041 <span class="comment">//</span>
00042 <span class="comment">// Define PnP Device Property for IoGetDeviceProperty</span>
00043 <span class="comment">//</span>
00044 
<a name="l00045"></a><a class="code" href="../../d6/d9/pnp_8h.html#a170">00045</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00046     <a class="code" href="../../d6/d9/pnp_8h.html#a170a83">DevicePropertyDeviceDescription</a>,
00047     <a class="code" href="../../d6/d9/pnp_8h.html#a170a84">DevicePropertyHardwareID</a>,
00048     <a class="code" href="../../d6/d9/pnp_8h.html#a170a85">DevicePropertyCompatibleIDs</a>,
00049     <a class="code" href="../../d6/d9/pnp_8h.html#a170a86">DevicePropertyBootConfiguration</a>,
00050     <a class="code" href="../../d6/d9/pnp_8h.html#a170a87">DevicePropertyBootConfigurationTranslated</a>,
00051     <a class="code" href="../../d6/d9/pnp_8h.html#a170a88">DevicePropertyClassName</a>,
00052     <a class="code" href="../../d6/d9/pnp_8h.html#a170a89">DevicePropertyClassGuid</a>,
00053     <a class="code" href="../../d6/d9/pnp_8h.html#a170a90">DevicePropertyDriverKeyName</a>,
00054     <a class="code" href="../../d6/d9/pnp_8h.html#a170a91">DevicePropertyManufacturer</a>,
00055     <a class="code" href="../../d6/d9/pnp_8h.html#a170a92">DevicePropertyFriendlyName</a>,
00056     <a class="code" href="../../d6/d9/pnp_8h.html#a170a93">DevicePropertyLocationInformation</a>,
00057     <a class="code" href="../../d6/d9/pnp_8h.html#a170a94">DevicePropertyPhysicalDeviceObjectName</a>,
00058     <a class="code" href="../../d6/d9/pnp_8h.html#a170a95">DevicePropertyBusTypeGuid</a>,
00059     <a class="code" href="../../d6/d9/pnp_8h.html#a170a96">DevicePropertyLegacyBusType</a>,
00060     <a class="code" href="../../d6/d9/pnp_8h.html#a170a97">DevicePropertyBusNumber</a>,
00061     <a class="code" href="../../d6/d9/pnp_8h.html#a170a98">DevicePropertyEnumeratorName</a>,
00062     <a class="code" href="../../d6/d9/pnp_8h.html#a170a99">DevicePropertyAddress</a>,
00063     <a class="code" href="../../d6/d9/pnp_8h.html#a170a100">DevicePropertyUINumber</a>
00064 } <a class="code" href="../../d6/d9/pnp_8h.html#a170">DEVICE_REGISTRY_PROPERTY</a>;
00065 
<a name="l00066"></a><a class="code" href="../../d6/d9/pnp_8h.html#a15">00066</a> <span class="keyword">typedef</span> BOOLEAN (*<a class="code" href="../../d6/d9/pnp_8h.html#a15">PTRANSLATE_BUS_ADDRESS</a>)(
00067     IN PVOID Context,
00068     IN PHYSICAL_ADDRESS BusAddress,
00069     IN ULONG Length,
00070     IN OUT PULONG AddressSpace,
00071     OUT PPHYSICAL_ADDRESS TranslatedAddress
00072     );
00073 
<a name="l00074"></a><a class="code" href="../../d6/d9/pnp_8h.html#a16">00074</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d6/struct__DMA__ADAPTER.html">_DMA_ADAPTER</a> *(*PGET_DMA_ADAPTER)(
00075     IN PVOID Context,
00076     IN <span class="keyword">struct </span><a class="code" href="../../d7/d3/struct__DEVICE__DESCRIPTION.html">_DEVICE_DESCRIPTION</a> *DeviceDescriptor,
00077     OUT PULONG NumberOfMapRegisters
00078     );
00079 
<a name="l00080"></a><a class="code" href="../../d6/d9/pnp_8h.html#a17">00080</a> <span class="keyword">typedef</span> ULONG (*PGET_SET_DEVICE_DATA)(
00081     IN PVOID Context,
00082     IN ULONG DataType,
00083     IN PVOID <a class="code" href="../../d6/d2/rtqkey_8c.html#a3">Buffer</a>,
00084     IN ULONG <a class="code" href="../../d4/d9/heapdbg_8c.html#a3">Offset</a>,
00085     IN ULONG Length
00086     );
00087 
00088 <span class="comment">//</span>
00089 <span class="comment">// Define structure returned in response to IRP_MN_QUERY_BUS_INFORMATION by a</span>
00090 <span class="comment">// PDO indicating the type of bus the device exists on.</span>
00091 <span class="comment">//</span>
00092 
<a name="l00093"></a><a class="code" href="../../d8/d6/struct__PNP__BUS__INFORMATION.html">00093</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/d6/struct__PNP__BUS__INFORMATION.html">_PNP_BUS_INFORMATION</a> {
<a name="l00094"></a><a class="code" href="../../d8/d6/struct__PNP__BUS__INFORMATION.html#o0">00094</a>     GUID <a class="code" href="../../d8/d6/struct__PNP__BUS__INFORMATION.html#o0">BusTypeGuid</a>;
<a name="l00095"></a><a class="code" href="../../d8/d6/struct__PNP__BUS__INFORMATION.html#o1">00095</a>     INTERFACE_TYPE <a class="code" href="../../d8/d6/struct__PNP__BUS__INFORMATION.html#o1">LegacyBusType</a>;
<a name="l00096"></a><a class="code" href="../../d8/d6/struct__PNP__BUS__INFORMATION.html#o2">00096</a>     ULONG <a class="code" href="../../d2/d7/hal_8h.html#a75">BusNumber</a>;
00097 } <a class="code" href="../../d8/d6/struct__PNP__BUS__INFORMATION.html">PNP_BUS_INFORMATION</a>, *<a class="code" href="../../d8/d6/struct__PNP__BUS__INFORMATION.html">PPNP_BUS_INFORMATION</a>;
00098 
00099 <span class="comment">//</span>
00100 <span class="comment">// Define structure returned in response to IRP_MN_QUERY_LEGACY_BUS_INFORMATION</span>
00101 <span class="comment">// by an FDO indicating the type of bus it is.  This is normally the same bus</span>
00102 <span class="comment">// type as the device's children (i.e., as retrieved from the child PDO's via</span>
00103 <span class="comment">// IRP_MN_QUERY_BUS_INFORMATION) except for cases like CardBus, which can</span>
00104 <span class="comment">// support both 16-bit (PCMCIABus) and 32-bit (PCIBus) cards.</span>
00105 <span class="comment">//</span>
00106 
<a name="l00107"></a><a class="code" href="../../d9/d9/struct__LEGACY__BUS__INFORMATION.html">00107</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d9/struct__LEGACY__BUS__INFORMATION.html">_LEGACY_BUS_INFORMATION</a> {
<a name="l00108"></a><a class="code" href="../../d9/d9/struct__LEGACY__BUS__INFORMATION.html#o0">00108</a>     GUID <a class="code" href="../../d9/d9/struct__LEGACY__BUS__INFORMATION.html#o0">BusTypeGuid</a>;
<a name="l00109"></a><a class="code" href="../../d9/d9/struct__LEGACY__BUS__INFORMATION.html#o1">00109</a>     INTERFACE_TYPE <a class="code" href="../../d9/d9/struct__LEGACY__BUS__INFORMATION.html#o1">LegacyBusType</a>;
<a name="l00110"></a><a class="code" href="../../d9/d9/struct__LEGACY__BUS__INFORMATION.html#o2">00110</a>     ULONG <a class="code" href="../../d2/d7/hal_8h.html#a75">BusNumber</a>;
00111 } <a class="code" href="../../d9/d9/struct__LEGACY__BUS__INFORMATION.html">LEGACY_BUS_INFORMATION</a>, *<a class="code" href="../../d9/d9/struct__LEGACY__BUS__INFORMATION.html">PLEGACY_BUS_INFORMATION</a>;
00112 
<a name="l00113"></a><a class="code" href="../../d7/d5/struct__BUS__INTERFACE__STANDARD.html">00113</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d5/struct__BUS__INTERFACE__STANDARD.html">_BUS_INTERFACE_STANDARD</a> {
00114     <span class="comment">//</span>
00115     <span class="comment">// generic interface header</span>
00116     <span class="comment">//</span>
<a name="l00117"></a><a class="code" href="../../d7/d5/struct__BUS__INTERFACE__STANDARD.html#o0">00117</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a0">Size</a>;
<a name="l00118"></a><a class="code" href="../../d7/d5/struct__BUS__INTERFACE__STANDARD.html#o1">00118</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> <a class="code" href="../../d7/d5/struct__BUS__INTERFACE__STANDARD.html#o1">Version</a>;
<a name="l00119"></a><a class="code" href="../../d7/d5/struct__BUS__INTERFACE__STANDARD.html#o2">00119</a>     PVOID Context;
<a name="l00120"></a><a class="code" href="../../d7/d5/struct__BUS__INTERFACE__STANDARD.html#o3">00120</a>     PINTERFACE_REFERENCE <a class="code" href="../../d7/d5/struct__BUS__INTERFACE__STANDARD.html#o3">InterfaceReference</a>;
<a name="l00121"></a><a class="code" href="../../d7/d5/struct__BUS__INTERFACE__STANDARD.html#o4">00121</a>     PINTERFACE_DEREFERENCE <a class="code" href="../../d7/d5/struct__BUS__INTERFACE__STANDARD.html#o4">InterfaceDereference</a>;
00122     <span class="comment">//</span>
00123     <span class="comment">// standard bus interfaces</span>
00124     <span class="comment">//</span>
<a name="l00125"></a><a class="code" href="../../d7/d5/struct__BUS__INTERFACE__STANDARD.html#o5">00125</a>     <a class="code" href="../../d6/d9/pnp_8h.html#a15">PTRANSLATE_BUS_ADDRESS</a> <a class="code" href="../../d7/d5/struct__BUS__INTERFACE__STANDARD.html#o5">TranslateBusAddress</a>;
<a name="l00126"></a><a class="code" href="../../d7/d5/struct__BUS__INTERFACE__STANDARD.html#o6">00126</a>     <a class="code" href="../../d6/d9/pnp_8h.html#a16">PGET_DMA_ADAPTER</a> <a class="code" href="../../d7/d5/struct__BUS__INTERFACE__STANDARD.html#o6">GetDmaAdapter</a>;
<a name="l00127"></a><a class="code" href="../../d7/d5/struct__BUS__INTERFACE__STANDARD.html#o7">00127</a>     <a class="code" href="../../d6/d9/pnp_8h.html#a17">PGET_SET_DEVICE_DATA</a> <a class="code" href="../../d7/d5/struct__BUS__INTERFACE__STANDARD.html#o7">SetBusData</a>;
<a name="l00128"></a><a class="code" href="../../d7/d5/struct__BUS__INTERFACE__STANDARD.html#o8">00128</a>     <a class="code" href="../../d6/d9/pnp_8h.html#a17">PGET_SET_DEVICE_DATA</a> <a class="code" href="../../d7/d5/struct__BUS__INTERFACE__STANDARD.html#o8">GetBusData</a>;
00129 
00130 } <a class="code" href="../../d7/d5/struct__BUS__INTERFACE__STANDARD.html">BUS_INTERFACE_STANDARD</a>, *<a class="code" href="../../d7/d5/struct__BUS__INTERFACE__STANDARD.html">PBUS_INTERFACE_STANDARD</a>;
00131 
00132 <span class="comment">//</span>
00133 <span class="comment">// The following definitions are used in ACPI QueryInterface</span>
00134 <span class="comment">//</span>
<a name="l00135"></a><a class="code" href="../../d6/d9/pnp_8h.html#a24">00135</a> <span class="keyword">typedef</span> BOOLEAN (* <a class="code" href="../../d6/d9/pnp_8h.html#a24">PGPE_SERVICE_ROUTINE</a>) (
00136                             PVOID,
00137                             PVOID);
00138 
<a name="l00139"></a><a class="code" href="../../d6/d9/pnp_8h.html#a25">00139</a> <span class="keyword">typedef</span> <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> (* <a class="code" href="../../d6/d9/pnp_8h.html#a25">PGPE_CONNECT_VECTOR</a>) (
00140                             <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a>,
00141                             ULONG,
00142                             <a class="code" href="../../d4/d9/ke_8h.html#a50">KINTERRUPT_MODE</a>,
00143                             BOOLEAN,
00144                             <a class="code" href="../../d6/d9/pnp_8h.html#a24">PGPE_SERVICE_ROUTINE</a>,
00145                             PVOID,
00146                             PVOID);
00147 
<a name="l00148"></a><a class="code" href="../../d6/d9/pnp_8h.html#a26">00148</a> <span class="keyword">typedef</span> <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> (* <a class="code" href="../../d6/d9/pnp_8h.html#a26">PGPE_DISCONNECT_VECTOR</a>) (
00149                             PVOID);
00150 
<a name="l00151"></a><a class="code" href="../../d6/d9/pnp_8h.html#a27">00151</a> <span class="keyword">typedef</span> <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> (* <a class="code" href="../../d6/d9/pnp_8h.html#a27">PGPE_ENABLE_EVENT</a>) (
00152                             <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a>,
00153                             PVOID);
00154 
<a name="l00155"></a><a class="code" href="../../d6/d9/pnp_8h.html#a28">00155</a> <span class="keyword">typedef</span> <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> (* <a class="code" href="../../d6/d9/pnp_8h.html#a28">PGPE_DISABLE_EVENT</a>) (
00156                             <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a>,
00157                             PVOID);
00158 
<a name="l00159"></a><a class="code" href="../../d6/d9/pnp_8h.html#a29">00159</a> <span class="keyword">typedef</span> <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> (* <a class="code" href="../../d6/d9/pnp_8h.html#a29">PGPE_CLEAR_STATUS</a>) (
00160                             <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a>,
00161                             PVOID);
00162 
<a name="l00163"></a><a class="code" href="../../d6/d9/pnp_8h.html#a30">00163</a> <span class="keyword">typedef</span> <a class="code" href="../../d0/d6/iop_8h.html#a145">VOID</a> (* <a class="code" href="../../d6/d9/pnp_8h.html#a30">PDEVICE_NOTIFY_CALLBACK</a>) (
00164                             PVOID,
00165                             ULONG);
00166 
<a name="l00167"></a><a class="code" href="../../d6/d9/pnp_8h.html#a31">00167</a> <span class="keyword">typedef</span> <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> (* <a class="code" href="../../d6/d9/pnp_8h.html#a31">PREGISTER_FOR_DEVICE_NOTIFICATIONS</a>) (
00168                             <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a>,
00169                             <a class="code" href="../../d6/d9/pnp_8h.html#a30">PDEVICE_NOTIFY_CALLBACK</a>,
00170                             PVOID);
00171 
<a name="l00172"></a><a class="code" href="../../d6/d9/pnp_8h.html#a32">00172</a> <span class="keyword">typedef</span> void (* <a class="code" href="../../d6/d9/pnp_8h.html#a32">PUNREGISTER_FOR_DEVICE_NOTIFICATIONS</a>) (
00173                             <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a>,
00174                             <a class="code" href="../../d6/d9/pnp_8h.html#a30">PDEVICE_NOTIFY_CALLBACK</a>);
00175 
<a name="l00176"></a><a class="code" href="../../d5/d5/struct__ACPI__INTERFACE__STANDARD.html">00176</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d5/d5/struct__ACPI__INTERFACE__STANDARD.html">_ACPI_INTERFACE_STANDARD</a> {
00177     <span class="comment">//</span>
00178     <span class="comment">// Generic interface header</span>
00179     <span class="comment">//</span>
<a name="l00180"></a><a class="code" href="../../d5/d5/struct__ACPI__INTERFACE__STANDARD.html#o0">00180</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>                  <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a0">Size</a>;
<a name="l00181"></a><a class="code" href="../../d5/d5/struct__ACPI__INTERFACE__STANDARD.html#o1">00181</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>                  <a class="code" href="../../d5/d5/struct__ACPI__INTERFACE__STANDARD.html#o1">Version</a>;
<a name="l00182"></a><a class="code" href="../../d5/d5/struct__ACPI__INTERFACE__STANDARD.html#o2">00182</a>     PVOID                   Context;
<a name="l00183"></a><a class="code" href="../../d5/d5/struct__ACPI__INTERFACE__STANDARD.html#o3">00183</a>     PINTERFACE_REFERENCE    <a class="code" href="../../d5/d5/struct__ACPI__INTERFACE__STANDARD.html#o3">InterfaceReference</a>;
<a name="l00184"></a><a class="code" href="../../d5/d5/struct__ACPI__INTERFACE__STANDARD.html#o4">00184</a>     PINTERFACE_DEREFERENCE  <a class="code" href="../../d5/d5/struct__ACPI__INTERFACE__STANDARD.html#o4">InterfaceDereference</a>;
00185     <span class="comment">//</span>
00186     <span class="comment">// ACPI interfaces</span>
00187     <span class="comment">//</span>
<a name="l00188"></a><a class="code" href="../../d5/d5/struct__ACPI__INTERFACE__STANDARD.html#o5">00188</a>     <a class="code" href="../../d6/d9/pnp_8h.html#a25">PGPE_CONNECT_VECTOR</a>                     <a class="code" href="../../d5/d5/struct__ACPI__INTERFACE__STANDARD.html#o5">GpeConnectVector</a>;
<a name="l00189"></a><a class="code" href="../../d5/d5/struct__ACPI__INTERFACE__STANDARD.html#o6">00189</a>     <a class="code" href="../../d6/d9/pnp_8h.html#a26">PGPE_DISCONNECT_VECTOR</a>                  <a class="code" href="../../d5/d5/struct__ACPI__INTERFACE__STANDARD.html#o6">GpeDisconnectVector</a>;
<a name="l00190"></a><a class="code" href="../../d5/d5/struct__ACPI__INTERFACE__STANDARD.html#o7">00190</a>     <a class="code" href="../../d6/d9/pnp_8h.html#a27">PGPE_ENABLE_EVENT</a>                       <a class="code" href="../../d5/d5/struct__ACPI__INTERFACE__STANDARD.html#o7">GpeEnableEvent</a>;
<a name="l00191"></a><a class="code" href="../../d5/d5/struct__ACPI__INTERFACE__STANDARD.html#o8">00191</a>     <a class="code" href="../../d6/d9/pnp_8h.html#a28">PGPE_DISABLE_EVENT</a>                      <a class="code" href="../../d5/d5/struct__ACPI__INTERFACE__STANDARD.html#o8">GpeDisableEvent</a>;
<a name="l00192"></a><a class="code" href="../../d5/d5/struct__ACPI__INTERFACE__STANDARD.html#o9">00192</a>     <a class="code" href="../../d6/d9/pnp_8h.html#a29">PGPE_CLEAR_STATUS</a>                       <a class="code" href="../../d5/d5/struct__ACPI__INTERFACE__STANDARD.html#o9">GpeClearStatus</a>;
<a name="l00193"></a><a class="code" href="../../d5/d5/struct__ACPI__INTERFACE__STANDARD.html#o10">00193</a>     <a class="code" href="../../d6/d9/pnp_8h.html#a31">PREGISTER_FOR_DEVICE_NOTIFICATIONS</a>      <a class="code" href="../../d5/d5/struct__ACPI__INTERFACE__STANDARD.html#o10">RegisterForDeviceNotifications</a>;
<a name="l00194"></a><a class="code" href="../../d5/d5/struct__ACPI__INTERFACE__STANDARD.html#o11">00194</a>     <a class="code" href="../../d6/d9/pnp_8h.html#a32">PUNREGISTER_FOR_DEVICE_NOTIFICATIONS</a>    <a class="code" href="../../d5/d5/struct__ACPI__INTERFACE__STANDARD.html#o11">UnregisterForDeviceNotifications</a>;
00195 
00196 } <a class="code" href="../../d5/d5/struct__ACPI__INTERFACE__STANDARD.html">ACPI_INTERFACE_STANDARD</a>, *<a class="code" href="../../d5/d5/struct__ACPI__INTERFACE__STANDARD.html">PACPI_INTERFACE_STANDARD</a>;
00197 
00198 <span class="comment">// end_wdm</span>
00199 
<a name="l00200"></a><a class="code" href="../../d6/d9/pnp_8h.html#a171">00200</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d6/d9/pnp_8h.html#a171">_ACPI_REG_TYPE</a> {
00201     <a class="code" href="../../d6/d9/pnp_8h.html#a171a101">PM1a_ENABLE</a>,
00202     <a class="code" href="../../d6/d9/pnp_8h.html#a171a102">PM1b_ENABLE</a>,
00203     <a class="code" href="../../d6/d9/pnp_8h.html#a171a103">PM1a_STATUS</a>,
00204     <a class="code" href="../../d6/d9/pnp_8h.html#a171a104">PM1b_STATUS</a>,
00205     <a class="code" href="../../d6/d9/pnp_8h.html#a171a105">PM1a_CONTROL</a>,
00206     <a class="code" href="../../d6/d9/pnp_8h.html#a171a106">PM1b_CONTROL</a>,
00207     <a class="code" href="../../d6/d9/pnp_8h.html#a171a107">GP_STATUS</a>,
00208     <a class="code" href="../../d6/d9/pnp_8h.html#a171a108">GP_ENABLE</a>,
00209     <a class="code" href="../../d6/d9/pnp_8h.html#a171a109">SMI_CMD</a>,
00210     <a class="code" href="../../d6/d9/pnp_8h.html#a171a110">MaxRegType</a>
00211 } <a class="code" href="../../d6/d9/pnp_8h.html#a35">ACPI_REG_TYPE</a>, *<a class="code" href="../../d6/d9/pnp_8h.html#a36">PACPI_REG_TYPE</a>;
00212 
<a name="l00213"></a><a class="code" href="../../d6/d9/pnp_8h.html#a37">00213</a> <span class="keyword">typedef</span> <a class="code" href="../../d0/d6/jul98_2test_2icc__i386_8h.html#a14">USHORT</a> (*<a class="code" href="../../d6/d9/pnp_8h.html#a37">PREAD_ACPI_REGISTER</a>) (
00214   IN <a class="code" href="../../d6/d9/pnp_8h.html#a35">ACPI_REG_TYPE</a> AcpiReg,
00215   IN ULONG         Register);
00216 
<a name="l00217"></a><a class="code" href="../../d6/d9/pnp_8h.html#a38">00217</a> <span class="keyword">typedef</span> <a class="code" href="../../d0/d6/iop_8h.html#a145">VOID</a> (*<a class="code" href="../../d6/d9/pnp_8h.html#a38">PWRITE_ACPI_REGISTER</a>) (
00218   IN <a class="code" href="../../d6/d9/pnp_8h.html#a35">ACPI_REG_TYPE</a> AcpiReg,
00219   IN ULONG         Register,
00220   IN <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>        Value
00221   );
00222 
<a name="l00223"></a><a class="code" href="../../d6/d0/structACPI__REGS__INTERFACE__STANDARD.html">00223</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d6/d0/structACPI__REGS__INTERFACE__STANDARD.html">ACPI_REGS_INTERFACE_STANDARD</a> {
00224     <span class="comment">//</span>
00225     <span class="comment">// generic interface header</span>
00226     <span class="comment">//</span>
<a name="l00227"></a><a class="code" href="../../d6/d0/structACPI__REGS__INTERFACE__STANDARD.html#o0">00227</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a0">Size</a>;
<a name="l00228"></a><a class="code" href="../../d6/d0/structACPI__REGS__INTERFACE__STANDARD.html#o1">00228</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> <a class="code" href="../../d6/d0/structACPI__REGS__INTERFACE__STANDARD.html#o1">Version</a>;
<a name="l00229"></a><a class="code" href="../../d6/d0/structACPI__REGS__INTERFACE__STANDARD.html#o2">00229</a>     PVOID  Context;
<a name="l00230"></a><a class="code" href="../../d6/d0/structACPI__REGS__INTERFACE__STANDARD.html#o3">00230</a>     PINTERFACE_REFERENCE   <a class="code" href="../../d6/d0/structACPI__REGS__INTERFACE__STANDARD.html#o3">InterfaceReference</a>;
<a name="l00231"></a><a class="code" href="../../d6/d0/structACPI__REGS__INTERFACE__STANDARD.html#o4">00231</a>     PINTERFACE_DEREFERENCE <a class="code" href="../../d6/d0/structACPI__REGS__INTERFACE__STANDARD.html#o4">InterfaceDereference</a>;
00232 
00233     <span class="comment">//</span>
00234     <span class="comment">// READ/WRITE_ACPI_REGISTER functions</span>
00235     <span class="comment">//</span>
<a name="l00236"></a><a class="code" href="../../d6/d0/structACPI__REGS__INTERFACE__STANDARD.html#o5">00236</a>     <a class="code" href="../../d6/d9/pnp_8h.html#a37">PREAD_ACPI_REGISTER</a>  <a class="code" href="../../d6/d0/structACPI__REGS__INTERFACE__STANDARD.html#o5">ReadAcpiRegister</a>;
<a name="l00237"></a><a class="code" href="../../d6/d0/structACPI__REGS__INTERFACE__STANDARD.html#o6">00237</a>     <a class="code" href="../../d6/d9/pnp_8h.html#a38">PWRITE_ACPI_REGISTER</a> <a class="code" href="../../d6/d0/structACPI__REGS__INTERFACE__STANDARD.html#o6">WriteAcpiRegister</a>;
00238 
00239 } <a class="code" href="../../d6/d0/structACPI__REGS__INTERFACE__STANDARD.html">ACPI_REGS_INTERFACE_STANDARD</a>, *<a class="code" href="../../d6/d0/structACPI__REGS__INTERFACE__STANDARD.html">PACPI_REGS_INTERFACE_STANDARD</a>;
00240 
00241 <span class="comment">//</span>
00242 <span class="comment">// These definitions are used for getting PCI Interrupt Routing interfaces</span>
00243 <span class="comment">//</span>
00244 
<a name="l00245"></a><a class="code" href="../../d9/d6/structROUTING__TOKEN.html">00245</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00246"></a><a class="code" href="../../d9/d6/structROUTING__TOKEN.html#o0">00246</a>     PVOID   LinkNode;
<a name="l00247"></a><a class="code" href="../../d9/d6/structROUTING__TOKEN.html#o1">00247</a>     ULONG   StaticVector;
<a name="l00248"></a><a class="code" href="../../d9/d6/structROUTING__TOKEN.html#o2">00248</a>     UCHAR   Flags;
00249 } <a class="code" href="../../d9/d6/structROUTING__TOKEN.html">ROUTING_TOKEN</a>, *<a class="code" href="../../d6/d9/pnp_8h.html#a41">PROUTING_TOKEN</a>;
00250 
00251 <span class="comment">//</span>
00252 <span class="comment">// Flag indicating that the device supports</span>
00253 <span class="comment">// MSI interrupt routing or that the provided token contains</span>
00254 <span class="comment">// MSI routing information</span>
00255 <span class="comment">//</span>
00256 
<a name="l00257"></a><a class="code" href="../../d6/d9/pnp_8h.html#a0">00257</a> <span class="preprocessor">#define PCI_MSI_ROUTING 0x1</span>
00258 <span class="preprocessor"></span>
00259 <span class="keyword">typedef</span>
00260 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
<a name="l00261"></a><a class="code" href="../../d6/d9/pnp_8h.html#a42">00261</a> (*PGET_INTERRUPT_ROUTING)(
00262     IN  <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a>  Pdo,
00263     OUT ULONG           *Bus,
00264     OUT ULONG           *PciSlot,
00265     OUT UCHAR           *InterruptLine,
00266     OUT UCHAR           *InterruptPin,
00267     OUT UCHAR           *ClassCode,
00268     OUT UCHAR           *SubClassCode,
00269     OUT <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a>  *ParentPdo,
00270     OUT <a class="code" href="../../d9/d6/structROUTING__TOKEN.html">ROUTING_TOKEN</a>   *RoutingToken,
00271     OUT UCHAR           *Flags
00272     );
00273 
00274 <span class="keyword">typedef</span>
00275 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
<a name="l00276"></a><a class="code" href="../../d6/d9/pnp_8h.html#a43">00276</a> (*PSET_INTERRUPT_ROUTING_TOKEN)(
00277     IN  <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a>  Pdo,
00278     IN  <a class="code" href="../../d6/d9/pnp_8h.html#a41">PROUTING_TOKEN</a>  RoutingToken
00279     );
00280 
00281 <span class="keyword">typedef</span>
00282 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
<a name="l00283"></a><a class="code" href="../../d6/d9/pnp_8h.html#a44">00283</a> (*PUPDATE_INTERRUPT_LINE)(
00284     IN <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> Pdo,
00285     IN UCHAR LineRegister
00286     );
00287 
<a name="l00288"></a><a class="code" href="../../d5/d3/struct__INT__ROUTE__INTERFACE__STANDARD.html">00288</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d5/d3/struct__INT__ROUTE__INTERFACE__STANDARD.html">_INT_ROUTE_INTERFACE_STANDARD</a> {
00289     <span class="comment">//</span>
00290     <span class="comment">// generic interface header</span>
00291     <span class="comment">//</span>
<a name="l00292"></a><a class="code" href="../../d5/d3/struct__INT__ROUTE__INTERFACE__STANDARD.html#o0">00292</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a0">Size</a>;
<a name="l00293"></a><a class="code" href="../../d5/d3/struct__INT__ROUTE__INTERFACE__STANDARD.html#o1">00293</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> <a class="code" href="../../d5/d3/struct__INT__ROUTE__INTERFACE__STANDARD.html#o1">Version</a>;
<a name="l00294"></a><a class="code" href="../../d5/d3/struct__INT__ROUTE__INTERFACE__STANDARD.html#o2">00294</a>     PVOID Context;
<a name="l00295"></a><a class="code" href="../../d5/d3/struct__INT__ROUTE__INTERFACE__STANDARD.html#o3">00295</a>     PINTERFACE_REFERENCE <a class="code" href="../../d5/d3/struct__INT__ROUTE__INTERFACE__STANDARD.html#o3">InterfaceReference</a>;
<a name="l00296"></a><a class="code" href="../../d5/d3/struct__INT__ROUTE__INTERFACE__STANDARD.html#o4">00296</a>     PINTERFACE_DEREFERENCE <a class="code" href="../../d5/d3/struct__INT__ROUTE__INTERFACE__STANDARD.html#o4">InterfaceDereference</a>;
00297     <span class="comment">//</span>
00298     <span class="comment">// standard bus interfaces</span>
00299     <span class="comment">//</span>
<a name="l00300"></a><a class="code" href="../../d5/d3/struct__INT__ROUTE__INTERFACE__STANDARD.html#o5">00300</a>     <a class="code" href="../../d6/d9/pnp_8h.html#a42">PGET_INTERRUPT_ROUTING</a> <a class="code" href="../../d5/d3/struct__INT__ROUTE__INTERFACE__STANDARD.html#o5">GetInterruptRouting</a>;
<a name="l00301"></a><a class="code" href="../../d5/d3/struct__INT__ROUTE__INTERFACE__STANDARD.html#o6">00301</a>     <a class="code" href="../../d6/d9/pnp_8h.html#a43">PSET_INTERRUPT_ROUTING_TOKEN</a> <a class="code" href="../../d5/d3/struct__INT__ROUTE__INTERFACE__STANDARD.html#o6">SetInterruptRoutingToken</a>;
<a name="l00302"></a><a class="code" href="../../d5/d3/struct__INT__ROUTE__INTERFACE__STANDARD.html#o7">00302</a>     <a class="code" href="../../d6/d9/pnp_8h.html#a44">PUPDATE_INTERRUPT_LINE</a> <a class="code" href="../../d5/d3/struct__INT__ROUTE__INTERFACE__STANDARD.html#o7">UpdateInterruptLine</a>;
00303 
00304 } <a class="code" href="../../d5/d3/struct__INT__ROUTE__INTERFACE__STANDARD.html">INT_ROUTE_INTERFACE_STANDARD</a>, *<a class="code" href="../../d5/d3/struct__INT__ROUTE__INTERFACE__STANDARD.html">PINT_ROUTE_INTERFACE_STANDARD</a>;
00305 
00306 <span class="comment">// Some well-known interface versions supported by the PCI Bus Driver</span>
00307 
<a name="l00308"></a><a class="code" href="../../d6/d9/pnp_8h.html#a1">00308</a> <span class="preprocessor">#define PCI_INT_ROUTE_INTRF_STANDARD_VER 1</span>
00309 <span class="preprocessor"></span>
00310 <span class="comment">// end_ntddk end_nthal end_ntifs</span>
00311 
00312 <a class="code" href="../../d0/d9/ntosdef_8h.html#a29">NTKERNELAPI</a>
00313 BOOLEAN
00314 <a class="code" href="../../d6/d9/pnp_8h.html#a137">PpInitSystem</a> (
00315     VOID
00316     );
00317 
00318 <a class="code" href="../../d0/d9/ntosdef_8h.html#a29">NTKERNELAPI</a>
00319 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00320 <a class="code" href="../../d6/d9/pnp_8h.html#a138">PpDeviceRegistration</a>(
00321     IN PUNICODE_STRING DeviceInstancePath,
00322     IN BOOLEAN Add,
00323     IN PUNICODE_STRING ServiceKeyName OPTIONAL
00324     );
00325 
00326 <a class="code" href="../../d0/d9/ntosdef_8h.html#a29">NTKERNELAPI</a>
00327 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00328 <a class="code" href="../../d8/d0/pnpioapi_8c.html#a78">IoSynchronousInvalidateDeviceRelations</a>(
00329     <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> DeviceObject,
00330     DEVICE_RELATION_TYPE Type
00331     );
00332 
00333 <span class="comment">// begin_ntddk begin_nthal begin_ntifs</span>
00334 
<a name="l00335"></a><a class="code" href="../../d0/d4/struct__IO__ASSIGNED__RESOURCES.html">00335</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d0/d4/struct__IO__ASSIGNED__RESOURCES.html">_IO_ASSIGNED_RESOURCES</a> {
<a name="l00336"></a><a class="code" href="../../d0/d4/struct__IO__ASSIGNED__RESOURCES.html#o0">00336</a>     ULONG <a class="code" href="../../d0/d4/struct__IO__ASSIGNED__RESOURCES.html#o0">Count</a>;
<a name="l00337"></a><a class="code" href="../../d0/d4/struct__IO__ASSIGNED__RESOURCES.html#o1">00337</a>     PASSIGNED_RESOURCE <a class="code" href="../../d0/d4/struct__IO__ASSIGNED__RESOURCES.html#o1">AssignedResources</a>[1];
00338 } <a class="code" href="../../d0/d4/struct__IO__ASSIGNED__RESOURCES.html">IO_ASSIGNED_RESOURCES</a>, *<a class="code" href="../../d0/d4/struct__IO__ASSIGNED__RESOURCES.html">PIO_ASSIGNED_RESOURCES</a>;
00339 
00340 <a class="code" href="../../d0/d9/ntosdef_8h.html#a29">NTKERNELAPI</a>
00341 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00342 <a class="code" href="../../d6/d9/pnp_8h.html#a140">IoGetAssignedResourcesForSuballocation</a> (
00343     IN INTERFACE_TYPE InterfaceType,
00344     IN ULONG BusNumber,
00345     IN ULONG SlotNumber,
00346     IN PIO_RESOURCE_DESCRIPTOR ResourceDescriptor,
00347     OUT PIO_ASSIGNED_RESOURCES *List
00348     );
00349 
00350 <a class="code" href="../../d0/d9/ntosdef_8h.html#a29">NTKERNELAPI</a>
00351 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00352 <a class="code" href="../../d8/d0/pnpioapi_8c.html#a81">IoReportDetectedDevice</a>(
00353     IN <a class="code" href="../../d4/d9/struct__DRIVER__OBJECT.html">PDRIVER_OBJECT</a> DriverObject,
00354     IN INTERFACE_TYPE LegacyBusType,
00355     IN ULONG BusNumber,
00356     IN ULONG SlotNumber,
00357     IN PCM_RESOURCE_LIST ResourceList,
00358     IN PIO_RESOURCE_REQUIREMENTS_LIST ResourceRequirements OPTIONAL,
00359     IN BOOLEAN ResourceAssigned,
00360     IN OUT <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> *DeviceObject
00361     );
00362 
00363 <span class="comment">//  begin_wdm</span>
00364 
00365 <a class="code" href="../../d0/d9/ntosdef_8h.html#a29">NTKERNELAPI</a>
00366 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00367 <a class="code" href="../../d8/d0/pnpioapi_8c.html#a79">IoInvalidateDeviceRelations</a>(
00368     IN <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> DeviceObject,
00369     IN DEVICE_RELATION_TYPE Type
00370     );
00371 
00372 <a class="code" href="../../d0/d9/ntosdef_8h.html#a29">NTKERNELAPI</a>
00373 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00374 <a class="code" href="../../d8/d0/pnpioapi_8c.html#a80">IoRequestDeviceEject</a>(
00375     IN <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> PhysicalDeviceObject
00376     );
00377 
00378 <a class="code" href="../../d0/d9/ntosdef_8h.html#a29">NTKERNELAPI</a>
00379 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00380 <a class="code" href="../../d8/d0/pnpioapi_8c.html#a74">IoGetDeviceProperty</a>(
00381     IN <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> DeviceObject,
00382     IN DEVICE_REGISTRY_PROPERTY DeviceProperty,
00383     IN ULONG BufferLength,
00384     OUT PVOID PropertyBuffer,
00385     OUT PULONG ResultLength
00386     );
00387 
00388 <span class="comment">//</span>
00389 <span class="comment">// The following definitions are used in IoOpenDeviceRegistryKey</span>
00390 <span class="comment">//</span>
00391 
<a name="l00392"></a><a class="code" href="../../d6/d9/pnp_8h.html#a2">00392</a> <span class="preprocessor">#define PLUGPLAY_REGKEY_DEVICE  1</span>
<a name="l00393"></a><a class="code" href="../../d6/d9/pnp_8h.html#a3">00393</a> <span class="preprocessor"></span><span class="preprocessor">#define PLUGPLAY_REGKEY_DRIVER  2</span>
<a name="l00394"></a><a class="code" href="../../d6/d9/pnp_8h.html#a4">00394</a> <span class="preprocessor"></span><span class="preprocessor">#define PLUGPLAY_REGKEY_CURRENT_HWPROFILE 4</span>
00395 <span class="preprocessor"></span>
00396 <a class="code" href="../../d0/d9/ntosdef_8h.html#a29">NTKERNELAPI</a>
00397 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00398 <a class="code" href="../../d8/d0/pnpioapi_8c.html#a75">IoOpenDeviceRegistryKey</a>(
00399     IN <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> DeviceObject,
00400     IN ULONG DevInstKeyType,
00401     IN ACCESS_MASK DesiredAccess,
00402     OUT PHANDLE DevInstRegKey
00403     );
00404 
00405 <a class="code" href="../../d0/d9/ntosdef_8h.html#a29">NTKERNELAPI</a>
00406 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00407 NTAPI
00408 <a class="code" href="../../d8/d0/pnpioapi_8c.html#a89">IoRegisterDeviceInterface</a>(
00409     IN <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> PhysicalDeviceObject,
00410     IN CONST GUID *InterfaceClassGuid,
00411     IN PUNICODE_STRING ReferenceString,     OPTIONAL
00412     OUT PUNICODE_STRING SymbolicLinkName
00413     );
00414 
00415 <a class="code" href="../../d0/d9/ntosdef_8h.html#a29">NTKERNELAPI</a>
00416 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00417 <a class="code" href="../../d8/d0/pnpioapi_8c.html#a88">IoOpenDeviceInterfaceRegistryKey</a>(
00418     IN PUNICODE_STRING SymbolicLinkName,
00419     IN ACCESS_MASK DesiredAccess,
00420     OUT PHANDLE DeviceInterfaceKey
00421     );
00422 
00423 <span class="comment">// begin_ntsrv</span>
00424 
00425 <a class="code" href="../../d0/d9/ntosdef_8h.html#a29">NTKERNELAPI</a>
00426 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00427 <a class="code" href="../../d8/d0/pnpioapi_8c.html#a87">IoSetDeviceInterfaceState</a>(
00428     IN PUNICODE_STRING SymbolicLinkName,
00429     IN BOOLEAN Enable
00430     );
00431 
00432 <span class="comment">// end_ntsrv</span>
00433 
00434 <a class="code" href="../../d0/d9/ntosdef_8h.html#a29">NTKERNELAPI</a>
00435 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00436 NTAPI
00437 <a class="code" href="../../d8/d0/pnpioapi_8c.html#a86">IoGetDeviceInterfaces</a>(
00438     IN CONST GUID *InterfaceClassGuid,
00439     IN <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> PhysicalDeviceObject OPTIONAL,
00440     IN ULONG Flags,
00441     OUT PWSTR *SymbolicLinkList
00442     );
00443 
<a name="l00444"></a><a class="code" href="../../d6/d9/pnp_8h.html#a5">00444</a> <span class="preprocessor">#define DEVICE_INTERFACE_INCLUDE_NONACTIVE   0x00000001</span>
00445 <span class="preprocessor"></span>
00446 <a class="code" href="../../d0/d9/ntosdef_8h.html#a29">NTKERNELAPI</a>
00447 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00448 NTAPI
00449 <a class="code" href="../../d8/d0/pnpioapi_8c.html#a93">IoGetDeviceInterfaceAlias</a>(
00450     IN PUNICODE_STRING SymbolicLinkName,
00451     IN CONST GUID *AliasInterfaceClassGuid,
00452     OUT PUNICODE_STRING AliasSymbolicLinkName
00453     );
00454 
00455 <span class="comment">//</span>
00456 <span class="comment">// Define PnP notification event categories</span>
00457 <span class="comment">//</span>
00458 
<a name="l00459"></a><a class="code" href="../../d6/d9/pnp_8h.html#a172">00459</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d6/d9/pnp_8h.html#a172">_IO_NOTIFICATION_EVENT_CATEGORY</a> {
00460     <a class="code" href="../../d6/d9/pnp_8h.html#a172a111">EventCategoryReserved</a>,
00461     <a class="code" href="../../d6/d9/pnp_8h.html#a172a112">EventCategoryHardwareProfileChange</a>,
00462     <a class="code" href="../../d6/d9/pnp_8h.html#a172a113">EventCategoryDeviceInterfaceChange</a>,
00463     <a class="code" href="../../d6/d9/pnp_8h.html#a172a114">EventCategoryTargetDeviceChange</a>
00464 } <a class="code" href="../../d6/d9/pnp_8h.html#a49">IO_NOTIFICATION_EVENT_CATEGORY</a>;
00465 
00466 <span class="comment">//</span>
00467 <span class="comment">// Define flags that modify the behavior of IoRegisterPlugPlayNotification</span>
00468 <span class="comment">// for the various event categories...</span>
00469 <span class="comment">//</span>
00470 
<a name="l00471"></a><a class="code" href="../../d6/d9/pnp_8h.html#a6">00471</a> <span class="preprocessor">#define PNPNOTIFY_DEVICE_INTERFACE_INCLUDE_EXISTING_INTERFACES    0x00000001</span>
00472 <span class="preprocessor"></span>
00473 <span class="keyword">typedef</span>
00474 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
<a name="l00475"></a><a class="code" href="../../d6/d9/pnp_8h.html#a50">00475</a> (*PDRIVER_NOTIFICATION_CALLBACK_ROUTINE) (
00476     IN PVOID NotificationStructure,
00477     IN PVOID Context
00478 );
00479 
00480 
00481 <a class="code" href="../../d0/d9/ntosdef_8h.html#a29">NTKERNELAPI</a>
00482 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00483 <a class="code" href="../../d8/d0/pnpioapi_8c.html#a106">IoRegisterPlugPlayNotification</a>(
00484     IN IO_NOTIFICATION_EVENT_CATEGORY EventCategory,
00485     IN ULONG EventCategoryFlags,
00486     IN PVOID EventCategoryData OPTIONAL,
00487     IN <a class="code" href="../../d4/d9/struct__DRIVER__OBJECT.html">PDRIVER_OBJECT</a> DriverObject,
00488     IN PDRIVER_NOTIFICATION_CALLBACK_ROUTINE CallbackRoutine,
00489     IN PVOID Context,
00490     OUT PVOID *NotificationEntry
00491     );
00492 
00493 <a class="code" href="../../d0/d9/ntosdef_8h.html#a29">NTKERNELAPI</a>
00494 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00495 <a class="code" href="../../d8/d0/pnpioapi_8c.html#a96">IoUnregisterPlugPlayNotification</a>(
00496     IN PVOID NotificationEntry
00497     );
00498 
00499 <a class="code" href="../../d0/d9/ntosdef_8h.html#a29">NTKERNELAPI</a>
00500 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00501 <a class="code" href="../../d8/d0/pnpioapi_8c.html#a98">IoReportTargetDeviceChange</a>(
00502     IN <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> PhysicalDeviceObject,
00503     IN PVOID NotificationStructure  <span class="comment">// always begins with a PLUGPLAY_NOTIFICATION_HEADER</span>
00504     );
00505 
00506 <span class="keyword">typedef</span>
00507 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
<a name="l00508"></a><a class="code" href="../../d6/d9/pnp_8h.html#a51">00508</a> (*PDEVICE_CHANGE_COMPLETE_CALLBACK)(
00509     IN PVOID Context
00510     );
00511 
00512 <a class="code" href="../../d0/d9/ntosdef_8h.html#a29">NTKERNELAPI</a>
00513 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00514 <a class="code" href="../../d8/d0/pnpioapi_8c.html#a100">IoInvalidateDeviceState</a>(
00515     IN <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> PhysicalDeviceObject
00516     );
00517 
<a name="l00518"></a><a class="code" href="../../d6/d9/pnp_8h.html#a7">00518</a> <span class="preprocessor">#define IoAdjustPagingPathCount(_count_,_paging_) {     \</span>
00519 <span class="preprocessor">    if (_paging_) {                                     \</span>
00520 <span class="preprocessor">        InterlockedIncrement(_count_);                  \</span>
00521 <span class="preprocessor">    } else {                                            \</span>
00522 <span class="preprocessor">        InterlockedDecrement(_count_);                  \</span>
00523 <span class="preprocessor">    }                                                   \</span>
00524 <span class="preprocessor">}</span>
00525 <span class="preprocessor"></span>
00526 <span class="comment">// end_wdm</span>
00527 
00528 <a class="code" href="../../d0/d9/ntosdef_8h.html#a29">NTKERNELAPI</a>
00529 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00530 <a class="code" href="../../d8/d0/pnpioapi_8c.html#a99">IoReportTargetDeviceChangeAsynchronous</a>(
00531     IN <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> PhysicalDeviceObject,
00532     IN PVOID NotificationStructure,  <span class="comment">// always begins with a PLUGPLAY_NOTIFICATION_HEADER</span>
00533     IN <a class="code" href="../../d6/d9/pnp_8h.html#a51">PDEVICE_CHANGE_COMPLETE_CALLBACK</a> Callback,       OPTIONAL
00534     IN PVOID Context    OPTIONAL
00535     );
00536 
00537 <span class="comment">// end_ntddk end_nthal end_ntifs</span>
00538 
00539 
00540 <span class="comment">// begin_ntddk begin_nthal begin_ntifs</span>
00541 
00542 <span class="comment">//</span>
00543 <span class="comment">// Resource arbiter declarations</span>
00544 <span class="comment">//</span>
00545 
<a name="l00546"></a><a class="code" href="../../d6/d9/pnp_8h.html#a173">00546</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d6/d9/pnp_8h.html#a173">_ARBITER_ACTION</a> {
00547     <a class="code" href="../../d6/d9/pnp_8h.html#a173a115">ArbiterActionTestAllocation</a>,
00548     <a class="code" href="../../d6/d9/pnp_8h.html#a173a116">ArbiterActionRetestAllocation</a>,
00549     <a class="code" href="../../d6/d9/pnp_8h.html#a173a117">ArbiterActionCommitAllocation</a>,
00550     <a class="code" href="../../d6/d9/pnp_8h.html#a173a118">ArbiterActionRollbackAllocation</a>,
00551     <a class="code" href="../../d6/d9/pnp_8h.html#a173a119">ArbiterActionQueryAllocatedResources</a>,
00552     <a class="code" href="../../d6/d9/pnp_8h.html#a173a120">ArbiterActionWriteReservedResources</a>,
00553     <a class="code" href="../../d6/d9/pnp_8h.html#a173a121">ArbiterActionQueryConflict</a>,
00554     <a class="code" href="../../d6/d9/pnp_8h.html#a173a122">ArbiterActionQueryArbitrate</a>,
00555     <a class="code" href="../../d6/d9/pnp_8h.html#a173a123">ArbiterActionAddReserved</a>,
00556     <a class="code" href="../../d6/d9/pnp_8h.html#a173a124">ArbiterActionBootAllocation</a>
00557 } <a class="code" href="../../d6/d9/pnp_8h.html#a52">ARBITER_ACTION</a>, *<a class="code" href="../../d6/d9/pnp_8h.html#a53">PARBITER_ACTION</a>;
00558 
<a name="l00559"></a><a class="code" href="../../d7/d7/struct__ARBITER__CONFLICT__INFO.html">00559</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d7/struct__ARBITER__CONFLICT__INFO.html">_ARBITER_CONFLICT_INFO</a> {
00560     <span class="comment">//</span>
00561     <span class="comment">// The device object owning the device that is causing the conflict</span>
00562     <span class="comment">//</span>
<a name="l00563"></a><a class="code" href="../../d7/d7/struct__ARBITER__CONFLICT__INFO.html#o0">00563</a>     <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> <a class="code" href="../../d7/d7/struct__ARBITER__CONFLICT__INFO.html#o0">OwningObject</a>;
00564 
00565     <span class="comment">//</span>
00566     <span class="comment">// The start of the conflicting range</span>
00567     <span class="comment">//</span>
<a name="l00568"></a><a class="code" href="../../d7/d7/struct__ARBITER__CONFLICT__INFO.html#o1">00568</a>     ULONGLONG <a class="code" href="../../d7/d7/struct__ARBITER__CONFLICT__INFO.html#o1">Start</a>;
00569 
00570     <span class="comment">//</span>
00571     <span class="comment">// The end of the conflicting range</span>
00572     <span class="comment">//</span>
<a name="l00573"></a><a class="code" href="../../d7/d7/struct__ARBITER__CONFLICT__INFO.html#o2">00573</a>     ULONGLONG <a class="code" href="../../d7/d7/struct__ARBITER__CONFLICT__INFO.html#o2">End</a>;
00574 
00575 } <a class="code" href="../../d7/d7/struct__ARBITER__CONFLICT__INFO.html">ARBITER_CONFLICT_INFO</a>, *<a class="code" href="../../d7/d7/struct__ARBITER__CONFLICT__INFO.html">PARBITER_CONFLICT_INFO</a>;
00576 
00577 <span class="comment">//</span>
00578 <span class="comment">// The parameters for those actions</span>
00579 <span class="comment">//</span>
00580 
<a name="l00581"></a><a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html">00581</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html">_ARBITER_PARAMETERS</a> {
00582 
00583     <span class="keyword">union </span>{
00584 
00585         <span class="keyword">struct </span>{
00586 
00587             <span class="comment">//</span>
00588             <span class="comment">// Doubly linked list of ARBITER_LIST_ENTRY's</span>
00589             <span class="comment">//</span>
00590             IN OUT PLIST_ENTRY <a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html#o0">ArbitrationList</a>;
00591 
00592             <span class="comment">//</span>
00593             <span class="comment">// The size of the AllocateFrom array</span>
00594             <span class="comment">//</span>
00595             IN ULONG <a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html#o1">AllocateFromCount</a>;
00596 
00597             <span class="comment">//</span>
00598             <span class="comment">// Array of resource descriptors describing the resources available</span>
00599             <span class="comment">// to the arbiter for it to arbitrate</span>
00600             <span class="comment">//</span>
00601             IN PCM_PARTIAL_RESOURCE_DESCRIPTOR <a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html#o2">AllocateFrom</a>;
00602 
00603         } <a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html#o3">TestAllocation</a>;
00604 
00605         <span class="keyword">struct </span>{
00606 
00607             <span class="comment">//</span>
00608             <span class="comment">// Doubly linked list of ARBITER_LIST_ENTRY's</span>
00609             <span class="comment">//</span>
00610             IN OUT PLIST_ENTRY <a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html#o0">ArbitrationList</a>;
00611 
00612             <span class="comment">//</span>
00613             <span class="comment">// The size of the AllocateFrom array</span>
00614             <span class="comment">//</span>
<a name="l00615"></a><a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html#o1">00615</a>             IN ULONG <a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html#o1">AllocateFromCount</a>;
00616 
00617             <span class="comment">//</span>
00618             <span class="comment">// Array of resource descriptors describing the resources available</span>
00619             <span class="comment">// to the arbiter for it to arbitrate</span>
00620             <span class="comment">//</span>
<a name="l00621"></a><a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html#o2">00621</a>             IN PCM_PARTIAL_RESOURCE_DESCRIPTOR <a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html#o2">AllocateFrom</a>;
00622 
00623         } RetestAllocation;
00624 
00625         <span class="keyword">struct </span>{
00626 
00627             <span class="comment">//</span>
00628             <span class="comment">// Doubly linked list of ARBITER_LIST_ENTRY's</span>
00629             <span class="comment">//</span>
<a name="l00630"></a><a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html#o0">00630</a>             IN OUT PLIST_ENTRY <a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html#o0">ArbitrationList</a>;
00631 
00632         } BootAllocation;
00633 
00634         <span class="keyword">struct </span>{
00635 
00636             <span class="comment">//</span>
00637             <span class="comment">// The resources that are currently allocated</span>
00638             <span class="comment">//</span>
<a name="l00639"></a><a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html#o6">00639</a>             OUT PCM_PARTIAL_RESOURCE_LIST *<a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html#o6">AllocatedResources</a>;
00640 
00641         } QueryAllocatedResources;
00642 
00643         <span class="keyword">struct </span>{
00644 
00645             <span class="comment">//</span>
00646             <span class="comment">// This is the device we are trying to find a conflict for</span>
00647             <span class="comment">//</span>
<a name="l00648"></a><a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html#o8">00648</a>             IN <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> <a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html#o8">PhysicalDeviceObject</a>;
00649 
00650             <span class="comment">//</span>
00651             <span class="comment">// This is the resource to find the conflict for</span>
00652             <span class="comment">//</span>
<a name="l00653"></a><a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html#o9">00653</a>             IN PIO_RESOURCE_DESCRIPTOR <a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html#o9">ConflictingResource</a>;
00654 
00655             <span class="comment">//</span>
00656             <span class="comment">// Number of devices conflicting on the resource</span>
00657             <span class="comment">//</span>
<a name="l00658"></a><a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html#o10">00658</a>             OUT PULONG <a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html#o10">ConflictCount</a>;
00659 
00660             <span class="comment">//</span>
00661             <span class="comment">// Pointer to array describing the conflicting device objects and ranges</span>
00662             <span class="comment">//</span>
<a name="l00663"></a><a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html#o11">00663</a>             OUT <a class="code" href="../../d6/d9/pnp_8h.html#a55">PARBITER_CONFLICT_INFO</a> *<a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html#o11">Conflicts</a>;
00664 
00665         } QueryConflict;
00666 
00667         <span class="keyword">struct </span>{
00668 
00669             <span class="comment">//</span>
00670             <span class="comment">// Doubly linked list of ARBITER_LIST_ENTRY's - should have</span>
00671             <span class="comment">// only one entry</span>
00672             <span class="comment">//</span>
<a name="l00673"></a><a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html#o13">00673</a>             IN PLIST_ENTRY <a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html#o0">ArbitrationList</a>;
00674 
00675         } QueryArbitrate;
00676 
00677         <span class="keyword">struct </span>{
00678 
00679             <span class="comment">//</span>
00680             <span class="comment">// Indicates the device whose resources are to be marked as reserved</span>
00681             <span class="comment">//</span>
<a name="l00682"></a><a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html#o15">00682</a>             <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> <a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html#o15">ReserveDevice</a>;
00683 
00684         } AddReserved;
00685 
00686     } <a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html#o17">Parameters</a>;
00687 
00688 } <a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html">ARBITER_PARAMETERS</a>, *<a class="code" href="../../d3/d8/struct__ARBITER__PARAMETERS.html">PARBITER_PARAMETERS</a>;
00689 
00690 
00691 
<a name="l00692"></a><a class="code" href="../../d6/d9/pnp_8h.html#a174">00692</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d6/d9/pnp_8h.html#a174">_ARBITER_REQUEST_SOURCE</a> {
00693 
00694     <a class="code" href="../../d6/d9/pnp_8h.html#a174a125">ArbiterRequestUndefined</a> = -1,
00695     <a class="code" href="../../d6/d9/pnp_8h.html#a174a126">ArbiterRequestLegacyReported</a>,   <span class="comment">// IoReportResourceUsage</span>
00696     <a class="code" href="../../d6/d9/pnp_8h.html#a174a127">ArbiterRequestHalReported</a>,      <span class="comment">// IoReportHalResourceUsage</span>
00697     <a class="code" href="../../d6/d9/pnp_8h.html#a174a128">ArbiterRequestLegacyAssigned</a>,   <span class="comment">// IoAssignResources</span>
00698     <a class="code" href="../../d6/d9/pnp_8h.html#a174a129">ArbiterRequestPnpDetected</a>,      <span class="comment">// IoReportResourceForDetection</span>
00699     <a class="code" href="../../d6/d9/pnp_8h.html#a174a130">ArbiterRequestPnpEnumerated</a>     <span class="comment">// IRP_MN_QUERY_RESOURCE_REQUIREMENTS</span>
00700 
00701 } <a class="code" href="../../d6/d9/pnp_8h.html#a58">ARBITER_REQUEST_SOURCE</a>;
00702 
00703 
<a name="l00704"></a><a class="code" href="../../d6/d9/pnp_8h.html#a175">00704</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d6/d9/pnp_8h.html#a175">_ARBITER_RESULT</a> {
00705 
00706     <a class="code" href="../../d6/d9/pnp_8h.html#a175a131">ArbiterResultUndefined</a> = -1,
00707     <a class="code" href="../../d6/d9/pnp_8h.html#a175a132">ArbiterResultSuccess</a>,
00708     <a class="code" href="../../d6/d9/pnp_8h.html#a175a133">ArbiterResultExternalConflict</a>, <span class="comment">// This indicates that the request can never be solved for devices in this list</span>
00709     <a class="code" href="../../d6/d9/pnp_8h.html#a175a134">ArbiterResultNullRequest</a>       <span class="comment">// The request was for length zero and thus no translation should be attempted</span>
00710 
00711 } <a class="code" href="../../d6/d9/pnp_8h.html#a59">ARBITER_RESULT</a>;
00712 
00713 <span class="comment">//</span>
00714 <span class="comment">// ARBITER_FLAG_BOOT_CONFIG - this indicates that the request is for the</span>
00715 <span class="comment">// resources assigned by the firmware/BIOS.  It should be succeeded even if</span>
00716 <span class="comment">// it conflicts with another devices boot config.</span>
00717 <span class="comment">//</span>
00718 
<a name="l00719"></a><a class="code" href="../../d6/d9/pnp_8h.html#a8">00719</a> <span class="preprocessor">#define ARBITER_FLAG_BOOT_CONFIG 0x00000001</span>
00720 <span class="preprocessor"></span>
00721 <a class="code" href="../../d0/d9/ntosdef_8h.html#a29">NTKERNELAPI</a>
00722 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00723 <a class="code" href="../../d1/d8/report_8c.html#a12">IoReportResourceForDetection</a>(
00724     IN <a class="code" href="../../d4/d9/struct__DRIVER__OBJECT.html">PDRIVER_OBJECT</a> DriverObject,
00725     IN PCM_RESOURCE_LIST DriverList OPTIONAL,
00726     IN ULONG DriverListSize OPTIONAL,
00727     IN <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> DeviceObject OPTIONAL,
00728     IN PCM_RESOURCE_LIST DeviceList OPTIONAL,
00729     IN ULONG DeviceListSize OPTIONAL,
00730     OUT PBOOLEAN ConflictDetected
00731     );
00732 
00733 
<a name="l00734"></a><a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html">00734</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html">_ARBITER_LIST_ENTRY</a> {
00735 
00736     <span class="comment">//</span>
00737     <span class="comment">// This is a doubly linked list of entries for easy sorting</span>
00738     <span class="comment">//</span>
<a name="l00739"></a><a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o0">00739</a>     LIST_ENTRY <a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o0">ListEntry</a>;
00740 
00741     <span class="comment">//</span>
00742     <span class="comment">// The number of alternative allocation</span>
00743     <span class="comment">//</span>
<a name="l00744"></a><a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o1">00744</a>     ULONG <a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o1">AlternativeCount</a>;
00745 
00746     <span class="comment">//</span>
00747     <span class="comment">// Pointer to an array of resource descriptors for the possible allocations</span>
00748     <span class="comment">//</span>
<a name="l00749"></a><a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o2">00749</a>     PIO_RESOURCE_DESCRIPTOR <a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o2">Alternatives</a>;
00750 
00751     <span class="comment">//</span>
00752     <span class="comment">// The device object of the device requesting these resources.</span>
00753     <span class="comment">//</span>
<a name="l00754"></a><a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o3">00754</a>     <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> <a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o3">PhysicalDeviceObject</a>;
00755 
00756     <span class="comment">//</span>
00757     <span class="comment">// Indicates where the request came from</span>
00758     <span class="comment">//</span>
<a name="l00759"></a><a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o4">00759</a>     <a class="code" href="../../d6/d9/pnp_8h.html#a58">ARBITER_REQUEST_SOURCE</a> <a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o4">RequestSource</a>;
00760 
00761     <span class="comment">//</span>
00762     <span class="comment">// Flags these indicate a variety of things (use ARBITER_FLAG_*)</span>
00763     <span class="comment">//</span>
<a name="l00764"></a><a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o5">00764</a>     ULONG <a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o5">Flags</a>;
00765 
00766     <span class="comment">//</span>
00767     <span class="comment">// Space to aid the arbiter in processing the list it is initialized to 0 when</span>
00768     <span class="comment">// the entry is created.  The system will not attempt to interpret it.</span>
00769     <span class="comment">//</span>
<a name="l00770"></a><a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o6">00770</a>     LONG_PTR <a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o6">WorkSpace</a>;
00771 
00772     <span class="comment">//</span>
00773     <span class="comment">// Interface Type, Slot Number and Bus Number from Resource Requirements list,</span>
00774     <span class="comment">// used only for reverse identification.</span>
00775     <span class="comment">//</span>
<a name="l00776"></a><a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o7">00776</a>     INTERFACE_TYPE <a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o7">InterfaceType</a>;
<a name="l00777"></a><a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o8">00777</a>     ULONG <a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o8">SlotNumber</a>;
<a name="l00778"></a><a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o9">00778</a>     ULONG <a class="code" href="../../d2/d7/hal_8h.html#a75">BusNumber</a>;
00779 
00780     <span class="comment">//</span>
00781     <span class="comment">// A pointer to a descriptor to indicate the resource that was allocated.</span>
00782     <span class="comment">// This is allocated by the system and filled in by the arbiter in response to an</span>
00783     <span class="comment">// ArbiterActionTestAllocation.</span>
00784     <span class="comment">//</span>
<a name="l00785"></a><a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o10">00785</a>     PCM_PARTIAL_RESOURCE_DESCRIPTOR <a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o10">Assignment</a>;
00786 
00787     <span class="comment">//</span>
00788     <span class="comment">// Pointer to the alternative that was chosen from to provide the assignment.</span>
00789     <span class="comment">// This is filled in by the arbiter in response to an ArbiterActionTestAllocation.</span>
00790     <span class="comment">//</span>
<a name="l00791"></a><a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o11">00791</a>     PIO_RESOURCE_DESCRIPTOR <a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o11">SelectedAlternative</a>;
00792 
00793     <span class="comment">//</span>
00794     <span class="comment">// The result of the operation</span>
00795     <span class="comment">// This is filled in by the arbiter in response to an ArbiterActionTestAllocation.</span>
00796     <span class="comment">//</span>
<a name="l00797"></a><a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o12">00797</a>     <a class="code" href="../../d6/d9/pnp_8h.html#a59">ARBITER_RESULT</a> <a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o12">Result</a>;
00798 
00799 } <a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html">ARBITER_LIST_ENTRY</a>, *<a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html">PARBITER_LIST_ENTRY</a>;
00800 
00801 <span class="comment">//</span>
00802 <span class="comment">// The arbiter's entry point</span>
00803 <span class="comment">//</span>
00804 
00805 <span class="keyword">typedef</span>
00806 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
<a name="l00807"></a><a class="code" href="../../d6/d9/pnp_8h.html#a62">00807</a> (*PARBITER_HANDLER) (
00808     IN PVOID Context,
00809     IN <a class="code" href="../../d6/d9/pnp_8h.html#a52">ARBITER_ACTION</a> <a class="code" href="../../d7/d0/cmdat2_8c.html#a18">Action</a>,
00810     IN OUT <a class="code" href="../../d6/d9/pnp_8h.html#a57">PARBITER_PARAMETERS</a> Parameters
00811     );
00812 
00813 <span class="comment">//</span>
00814 <span class="comment">// Arbiter interface</span>
00815 <span class="comment">//</span>
00816 
00817 <span class="comment">//</span>
00818 <span class="comment">// A partial arbiter is one which may not arbitrate all the resources for</span>
00819 <span class="comment">// its children but may defer to the next arbiter in the chain by returning</span>
00820 <span class="comment">// STATUS_ARBITRATION_UNHANDLED.</span>
00821 <span class="comment">//</span>
00822 
<a name="l00823"></a><a class="code" href="../../d6/d9/pnp_8h.html#a9">00823</a> <span class="preprocessor">#define ARBITER_PARTIAL   0x00000001</span>
00824 <span class="preprocessor"></span>
00825 
<a name="l00826"></a><a class="code" href="../../d9/d7/struct__ARBITER__INTERFACE.html">00826</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d7/struct__ARBITER__INTERFACE.html">_ARBITER_INTERFACE</a> {
00827 
00828     <span class="comment">//</span>
00829     <span class="comment">// Generic interface header</span>
00830     <span class="comment">//</span>
<a name="l00831"></a><a class="code" href="../../d9/d7/struct__ARBITER__INTERFACE.html#o0">00831</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a0">Size</a>;
<a name="l00832"></a><a class="code" href="../../d9/d7/struct__ARBITER__INTERFACE.html#o1">00832</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> <a class="code" href="../../d9/d7/struct__ARBITER__INTERFACE.html#o1">Version</a>;
<a name="l00833"></a><a class="code" href="../../d9/d7/struct__ARBITER__INTERFACE.html#o2">00833</a>     PVOID Context;
<a name="l00834"></a><a class="code" href="../../d9/d7/struct__ARBITER__INTERFACE.html#o3">00834</a>     PINTERFACE_REFERENCE <a class="code" href="../../d9/d7/struct__ARBITER__INTERFACE.html#o3">InterfaceReference</a>;
<a name="l00835"></a><a class="code" href="../../d9/d7/struct__ARBITER__INTERFACE.html#o4">00835</a>     PINTERFACE_DEREFERENCE <a class="code" href="../../d9/d7/struct__ARBITER__INTERFACE.html#o4">InterfaceDereference</a>;
00836 
00837     <span class="comment">//</span>
00838     <span class="comment">// Entry point to the arbiter</span>
00839     <span class="comment">//</span>
<a name="l00840"></a><a class="code" href="../../d9/d7/struct__ARBITER__INTERFACE.html#o5">00840</a>     <a class="code" href="../../d6/d9/pnp_8h.html#a62">PARBITER_HANDLER</a> <a class="code" href="../../d9/d7/struct__ARBITER__INTERFACE.html#o5">ArbiterHandler</a>;
00841 
00842     <span class="comment">//</span>
00843     <span class="comment">// Other information about the arbiter, use ARBITER_* flags</span>
00844     <span class="comment">//</span>
<a name="l00845"></a><a class="code" href="../../d9/d7/struct__ARBITER__INTERFACE.html#o6">00845</a>     ULONG <a class="code" href="../../d9/d7/struct__ARBITER__INTERFACE.html#o6">Flags</a>;
00846 
00847 } <a class="code" href="../../d9/d7/struct__ARBITER__INTERFACE.html">ARBITER_INTERFACE</a>, *<a class="code" href="../../d9/d7/struct__ARBITER__INTERFACE.html">PARBITER_INTERFACE</a>;
00848 
00849 <span class="comment">//</span>
00850 <span class="comment">// The directions translation can take place in</span>
00851 <span class="comment">//</span>
00852 
<a name="l00853"></a><a class="code" href="../../d6/d9/pnp_8h.html#a176">00853</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d6/d9/pnp_8h.html#a176">_RESOURCE_TRANSLATION_DIRECTION</a> {
00854     <a class="code" href="../../d6/d9/pnp_8h.html#a176a135">TranslateChildToParent</a>,
00855     <a class="code" href="../../d6/d9/pnp_8h.html#a176a136">TranslateParentToChild</a>
00856 } <a class="code" href="../../d6/d9/pnp_8h.html#a65">RESOURCE_TRANSLATION_DIRECTION</a>;
00857 
00858 <span class="comment">//</span>
00859 <span class="comment">// Translation functions</span>
00860 <span class="comment">//</span>
00861 
00862 <span class="keyword">typedef</span>
00863 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
<a name="l00864"></a><a class="code" href="../../d6/d9/pnp_8h.html#a66">00864</a> (*PTRANSLATE_RESOURCE_HANDLER)(
00865     IN PVOID Context,
00866     IN PCM_PARTIAL_RESOURCE_DESCRIPTOR Source,
00867     IN <a class="code" href="../../d6/d9/pnp_8h.html#a65">RESOURCE_TRANSLATION_DIRECTION</a> Direction,
00868     IN ULONG AlternativesCount, OPTIONAL
00869     IN IO_RESOURCE_DESCRIPTOR Alternatives[], OPTIONAL
00870     IN <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> PhysicalDeviceObject,
00871     OUT PCM_PARTIAL_RESOURCE_DESCRIPTOR Target
00872 );
00873 
00874 <span class="keyword">typedef</span>
00875 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
<a name="l00876"></a><a class="code" href="../../d6/d9/pnp_8h.html#a67">00876</a> (*PTRANSLATE_RESOURCE_REQUIREMENTS_HANDLER)(
00877     IN PVOID Context,
00878     IN PIO_RESOURCE_DESCRIPTOR Source,
00879     IN <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> PhysicalDeviceObject,
00880     OUT PULONG TargetCount,
00881     OUT PIO_RESOURCE_DESCRIPTOR *Target
00882 );
00883 
00884 <span class="comment">//</span>
00885 <span class="comment">// Translator Interface</span>
00886 <span class="comment">//</span>
00887 
<a name="l00888"></a><a class="code" href="../../d3/d2/struct__TRANSLATOR__INTERFACE.html">00888</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d3/d2/struct__TRANSLATOR__INTERFACE.html">_TRANSLATOR_INTERFACE</a> {
<a name="l00889"></a><a class="code" href="../../d3/d2/struct__TRANSLATOR__INTERFACE.html#o0">00889</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a0">Size</a>;
<a name="l00890"></a><a class="code" href="../../d3/d2/struct__TRANSLATOR__INTERFACE.html#o1">00890</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> <a class="code" href="../../d3/d2/struct__TRANSLATOR__INTERFACE.html#o1">Version</a>;
<a name="l00891"></a><a class="code" href="../../d3/d2/struct__TRANSLATOR__INTERFACE.html#o2">00891</a>     PVOID Context;
<a name="l00892"></a><a class="code" href="../../d3/d2/struct__TRANSLATOR__INTERFACE.html#o3">00892</a>     PINTERFACE_REFERENCE <a class="code" href="../../d3/d2/struct__TRANSLATOR__INTERFACE.html#o3">InterfaceReference</a>;
<a name="l00893"></a><a class="code" href="../../d3/d2/struct__TRANSLATOR__INTERFACE.html#o4">00893</a>     PINTERFACE_DEREFERENCE <a class="code" href="../../d3/d2/struct__TRANSLATOR__INTERFACE.html#o4">InterfaceDereference</a>;
<a name="l00894"></a><a class="code" href="../../d3/d2/struct__TRANSLATOR__INTERFACE.html#o5">00894</a>     <a class="code" href="../../d6/d9/pnp_8h.html#a66">PTRANSLATE_RESOURCE_HANDLER</a> <a class="code" href="../../d3/d2/struct__TRANSLATOR__INTERFACE.html#o5">TranslateResources</a>;
<a name="l00895"></a><a class="code" href="../../d3/d2/struct__TRANSLATOR__INTERFACE.html#o6">00895</a>     <a class="code" href="../../d6/d9/pnp_8h.html#a67">PTRANSLATE_RESOURCE_REQUIREMENTS_HANDLER</a> <a class="code" href="../../d3/d2/struct__TRANSLATOR__INTERFACE.html#o6">TranslateResourceRequirements</a>;
00896 } <a class="code" href="../../d3/d2/struct__TRANSLATOR__INTERFACE.html">TRANSLATOR_INTERFACE</a>, *<a class="code" href="../../d3/d2/struct__TRANSLATOR__INTERFACE.html">PTRANSLATOR_INTERFACE</a>;
00897 
00898 <span class="comment">// end_wdm</span>
00899 
00900 <span class="comment">//</span>
00901 <span class="comment">// Legacy Device Detection Handler</span>
00902 <span class="comment">//</span>
00903 
00904 <span class="keyword">typedef</span>
00905 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
<a name="l00906"></a><a class="code" href="../../d6/d9/pnp_8h.html#a70">00906</a> (*PLEGACY_DEVICE_DETECTION_HANDLER)(
00907     IN PVOID Context,
00908     IN INTERFACE_TYPE LegacyBusType,
00909     IN ULONG <a class="code" href="../../d2/d7/hal_8h.html#a75">BusNumber</a>,
00910     IN ULONG SlotNumber,
00911     OUT <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> *PhysicalDeviceObject
00912 );
00913 
00914 <span class="comment">//</span>
00915 <span class="comment">// Legacy Device Detection Interface</span>
00916 <span class="comment">//</span>
00917 
<a name="l00918"></a><a class="code" href="../../d0/d0/struct__LEGACY__DEVICE__DETECTION__INTERFACE.html">00918</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d0/d0/struct__LEGACY__DEVICE__DETECTION__INTERFACE.html">_LEGACY_DEVICE_DETECTION_INTERFACE</a> {
<a name="l00919"></a><a class="code" href="../../d0/d0/struct__LEGACY__DEVICE__DETECTION__INTERFACE.html#o0">00919</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a0">Size</a>;
<a name="l00920"></a><a class="code" href="../../d0/d0/struct__LEGACY__DEVICE__DETECTION__INTERFACE.html#o1">00920</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> <a class="code" href="../../d0/d0/struct__LEGACY__DEVICE__DETECTION__INTERFACE.html#o1">Version</a>;
<a name="l00921"></a><a class="code" href="../../d0/d0/struct__LEGACY__DEVICE__DETECTION__INTERFACE.html#o2">00921</a>     PVOID Context;
<a name="l00922"></a><a class="code" href="../../d0/d0/struct__LEGACY__DEVICE__DETECTION__INTERFACE.html#o3">00922</a>     PINTERFACE_REFERENCE <a class="code" href="../../d0/d0/struct__LEGACY__DEVICE__DETECTION__INTERFACE.html#o3">InterfaceReference</a>;
<a name="l00923"></a><a class="code" href="../../d0/d0/struct__LEGACY__DEVICE__DETECTION__INTERFACE.html#o4">00923</a>     PINTERFACE_DEREFERENCE <a class="code" href="../../d0/d0/struct__LEGACY__DEVICE__DETECTION__INTERFACE.html#o4">InterfaceDereference</a>;
<a name="l00924"></a><a class="code" href="../../d0/d0/struct__LEGACY__DEVICE__DETECTION__INTERFACE.html#o5">00924</a>     <a class="code" href="../../d6/d9/pnp_8h.html#a70">PLEGACY_DEVICE_DETECTION_HANDLER</a> <a class="code" href="../../d0/d0/struct__LEGACY__DEVICE__DETECTION__INTERFACE.html#o5">LegacyDeviceDetection</a>;
00925 } <a class="code" href="../../d0/d0/struct__LEGACY__DEVICE__DETECTION__INTERFACE.html">LEGACY_DEVICE_DETECTION_INTERFACE</a>, *<a class="code" href="../../d0/d0/struct__LEGACY__DEVICE__DETECTION__INTERFACE.html">PLEGACY_DEVICE_DETECTION_INTERFACE</a>;
00926 
00927 <span class="comment">// end_ntddk end_nthal end_ntifs</span>
00928 
00929 <span class="comment">// begin_wdm begin_ntddk begin_ntifs begin_nthal</span>
00930 
00931 <span class="comment">//</span>
00932 <span class="comment">// Header structure for all Plug&amp;Play notification events...</span>
00933 <span class="comment">//</span>
00934 
<a name="l00935"></a><a class="code" href="../../d9/d5/struct__PLUGPLAY__NOTIFICATION__HEADER.html">00935</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d5/struct__PLUGPLAY__NOTIFICATION__HEADER.html">_PLUGPLAY_NOTIFICATION_HEADER</a> {
<a name="l00936"></a><a class="code" href="../../d9/d5/struct__PLUGPLAY__NOTIFICATION__HEADER.html#o0">00936</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> <a class="code" href="../../d9/d5/struct__PLUGPLAY__NOTIFICATION__HEADER.html#o0">Version</a>; <span class="comment">// presently at version 1.</span>
<a name="l00937"></a><a class="code" href="../../d9/d5/struct__PLUGPLAY__NOTIFICATION__HEADER.html#o1">00937</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a0">Size</a>;    <span class="comment">// size (in bytes) of header + event-specific data.</span>
<a name="l00938"></a><a class="code" href="../../d9/d5/struct__PLUGPLAY__NOTIFICATION__HEADER.html#o2">00938</a>     GUID <a class="code" href="../../d9/d5/struct__PLUGPLAY__NOTIFICATION__HEADER.html#o2">Event</a>;
00939     <span class="comment">//</span>
00940     <span class="comment">// Event-specific stuff starts here.</span>
00941     <span class="comment">//</span>
00942 } <a class="code" href="../../d9/d5/struct__PLUGPLAY__NOTIFICATION__HEADER.html">PLUGPLAY_NOTIFICATION_HEADER</a>, *<a class="code" href="../../d9/d5/struct__PLUGPLAY__NOTIFICATION__HEADER.html">PPLUGPLAY_NOTIFICATION_HEADER</a>;
00943 
00944 <span class="comment">//</span>
00945 <span class="comment">// Notification structure for all EventCategoryHardwareProfileChange events...</span>
00946 <span class="comment">//</span>
00947 
<a name="l00948"></a><a class="code" href="../../d9/d8/struct__HWPROFILE__CHANGE__NOTIFICATION.html">00948</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d8/struct__HWPROFILE__CHANGE__NOTIFICATION.html">_HWPROFILE_CHANGE_NOTIFICATION</a> {
<a name="l00949"></a><a class="code" href="../../d9/d8/struct__HWPROFILE__CHANGE__NOTIFICATION.html#o0">00949</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> <a class="code" href="../../d9/d8/struct__HWPROFILE__CHANGE__NOTIFICATION.html#o0">Version</a>;
<a name="l00950"></a><a class="code" href="../../d9/d8/struct__HWPROFILE__CHANGE__NOTIFICATION.html#o1">00950</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a0">Size</a>;
<a name="l00951"></a><a class="code" href="../../d9/d8/struct__HWPROFILE__CHANGE__NOTIFICATION.html#o2">00951</a>     GUID <a class="code" href="../../d9/d8/struct__HWPROFILE__CHANGE__NOTIFICATION.html#o2">Event</a>;
00952     <span class="comment">//</span>
00953     <span class="comment">// (No event-specific data)</span>
00954     <span class="comment">//</span>
00955 } <a class="code" href="../../d9/d8/struct__HWPROFILE__CHANGE__NOTIFICATION.html">HWPROFILE_CHANGE_NOTIFICATION</a>, *<a class="code" href="../../d9/d8/struct__HWPROFILE__CHANGE__NOTIFICATION.html">PHWPROFILE_CHANGE_NOTIFICATION</a>;
00956 
00957 
00958 <span class="comment">//</span>
00959 <span class="comment">// Notification structure for all EventCategoryDeviceInterfaceChange events...</span>
00960 <span class="comment">//</span>
00961 
<a name="l00962"></a><a class="code" href="../../d0/d4/struct__DEVICE__INTERFACE__CHANGE__NOTIFICATION.html">00962</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d0/d4/struct__DEVICE__INTERFACE__CHANGE__NOTIFICATION.html">_DEVICE_INTERFACE_CHANGE_NOTIFICATION</a> {
<a name="l00963"></a><a class="code" href="../../d0/d4/struct__DEVICE__INTERFACE__CHANGE__NOTIFICATION.html#o0">00963</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> <a class="code" href="../../d0/d4/struct__DEVICE__INTERFACE__CHANGE__NOTIFICATION.html#o0">Version</a>;
<a name="l00964"></a><a class="code" href="../../d0/d4/struct__DEVICE__INTERFACE__CHANGE__NOTIFICATION.html#o1">00964</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a0">Size</a>;
<a name="l00965"></a><a class="code" href="../../d0/d4/struct__DEVICE__INTERFACE__CHANGE__NOTIFICATION.html#o2">00965</a>     GUID <a class="code" href="../../d0/d4/struct__DEVICE__INTERFACE__CHANGE__NOTIFICATION.html#o2">Event</a>;
00966     <span class="comment">//</span>
00967     <span class="comment">// Event-specific data</span>
00968     <span class="comment">//</span>
<a name="l00969"></a><a class="code" href="../../d0/d4/struct__DEVICE__INTERFACE__CHANGE__NOTIFICATION.html#o3">00969</a>     GUID <a class="code" href="../../d0/d4/struct__DEVICE__INTERFACE__CHANGE__NOTIFICATION.html#o3">InterfaceClassGuid</a>;
<a name="l00970"></a><a class="code" href="../../d0/d4/struct__DEVICE__INTERFACE__CHANGE__NOTIFICATION.html#o4">00970</a>     PUNICODE_STRING <a class="code" href="../../d0/d4/struct__DEVICE__INTERFACE__CHANGE__NOTIFICATION.html#o4">SymbolicLinkName</a>;
00971 } <a class="code" href="../../d0/d4/struct__DEVICE__INTERFACE__CHANGE__NOTIFICATION.html">DEVICE_INTERFACE_CHANGE_NOTIFICATION</a>, *<a class="code" href="../../d0/d4/struct__DEVICE__INTERFACE__CHANGE__NOTIFICATION.html">PDEVICE_INTERFACE_CHANGE_NOTIFICATION</a>;
00972 
00973 
00974 <span class="comment">//</span>
00975 <span class="comment">// Notification structures for EventCategoryTargetDeviceChange...</span>
00976 <span class="comment">//</span>
00977 
00978 <span class="comment">//</span>
00979 <span class="comment">// The following structure is used for TargetDeviceQueryRemove,</span>
00980 <span class="comment">// TargetDeviceRemoveCancelled, and TargetDeviceRemoveComplete:</span>
00981 <span class="comment">//</span>
<a name="l00982"></a><a class="code" href="../../d2/d0/struct__TARGET__DEVICE__REMOVAL__NOTIFICATION.html">00982</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d2/d0/struct__TARGET__DEVICE__REMOVAL__NOTIFICATION.html">_TARGET_DEVICE_REMOVAL_NOTIFICATION</a> {
<a name="l00983"></a><a class="code" href="../../d2/d0/struct__TARGET__DEVICE__REMOVAL__NOTIFICATION.html#o0">00983</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> <a class="code" href="../../d2/d0/struct__TARGET__DEVICE__REMOVAL__NOTIFICATION.html#o0">Version</a>;
<a name="l00984"></a><a class="code" href="../../d2/d0/struct__TARGET__DEVICE__REMOVAL__NOTIFICATION.html#o1">00984</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a0">Size</a>;
<a name="l00985"></a><a class="code" href="../../d2/d0/struct__TARGET__DEVICE__REMOVAL__NOTIFICATION.html#o2">00985</a>     GUID <a class="code" href="../../d2/d0/struct__TARGET__DEVICE__REMOVAL__NOTIFICATION.html#o2">Event</a>;
00986     <span class="comment">//</span>
00987     <span class="comment">// Event-specific data</span>
00988     <span class="comment">//</span>
<a name="l00989"></a><a class="code" href="../../d2/d0/struct__TARGET__DEVICE__REMOVAL__NOTIFICATION.html#o3">00989</a>     <a class="code" href="../../d9/d1/struct__FILE__OBJECT.html">PFILE_OBJECT</a> <a class="code" href="../../d2/d0/struct__TARGET__DEVICE__REMOVAL__NOTIFICATION.html#o3">FileObject</a>;
00990 } <a class="code" href="../../d2/d0/struct__TARGET__DEVICE__REMOVAL__NOTIFICATION.html">TARGET_DEVICE_REMOVAL_NOTIFICATION</a>, *<a class="code" href="../../d2/d0/struct__TARGET__DEVICE__REMOVAL__NOTIFICATION.html">PTARGET_DEVICE_REMOVAL_NOTIFICATION</a>;
00991 
00992 <span class="comment">//</span>
00993 <span class="comment">// The following structure header is used for all other (i.e., 3rd-party)</span>
00994 <span class="comment">// target device change events.  The structure accommodates both a</span>
00995 <span class="comment">// variable-length binary data buffer, and a variable-length unicode text</span>
00996 <span class="comment">// buffer.  The header must indicate where the text buffer begins, so that</span>
00997 <span class="comment">// the data can be delivered in the appropriate format (ANSI or Unicode)</span>
00998 <span class="comment">// to user-mode recipients (i.e., that have registered for handle-based</span>
00999 <span class="comment">// notification via RegisterDeviceNotification).</span>
01000 <span class="comment">//</span>
01001 
<a name="l01002"></a><a class="code" href="../../d0/d0/struct__TARGET__DEVICE__CUSTOM__NOTIFICATION.html">01002</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d0/d0/struct__TARGET__DEVICE__CUSTOM__NOTIFICATION.html">_TARGET_DEVICE_CUSTOM_NOTIFICATION</a> {
<a name="l01003"></a><a class="code" href="../../d0/d0/struct__TARGET__DEVICE__CUSTOM__NOTIFICATION.html#o0">01003</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> <a class="code" href="../../d0/d0/struct__TARGET__DEVICE__CUSTOM__NOTIFICATION.html#o0">Version</a>;
<a name="l01004"></a><a class="code" href="../../d0/d0/struct__TARGET__DEVICE__CUSTOM__NOTIFICATION.html#o1">01004</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a0">Size</a>;
<a name="l01005"></a><a class="code" href="../../d0/d0/struct__TARGET__DEVICE__CUSTOM__NOTIFICATION.html#o2">01005</a>     GUID <a class="code" href="../../d0/d0/struct__TARGET__DEVICE__CUSTOM__NOTIFICATION.html#o2">Event</a>;
01006     <span class="comment">//</span>
01007     <span class="comment">// Event-specific data</span>
01008     <span class="comment">//</span>
<a name="l01009"></a><a class="code" href="../../d0/d0/struct__TARGET__DEVICE__CUSTOM__NOTIFICATION.html#o3">01009</a>     <a class="code" href="../../d9/d1/struct__FILE__OBJECT.html">PFILE_OBJECT</a> <a class="code" href="../../d0/d0/struct__TARGET__DEVICE__CUSTOM__NOTIFICATION.html#o3">FileObject</a>;    <span class="comment">// This field must be set to NULL by callers of</span>
01010                                 <span class="comment">// IoReportTargetDeviceChange.  Clients that</span>
01011                                 <span class="comment">// have registered for target device change</span>
01012                                 <span class="comment">// notification on the affected PDO will be</span>
01013                                 <span class="comment">// called with this field set to the file object</span>
01014                                 <span class="comment">// they specified during registration.</span>
01015                                 <span class="comment">//</span>
<a name="l01016"></a><a class="code" href="../../d0/d0/struct__TARGET__DEVICE__CUSTOM__NOTIFICATION.html#o4">01016</a>     LONG <a class="code" href="../../d0/d0/struct__TARGET__DEVICE__CUSTOM__NOTIFICATION.html#o4">NameBufferOffset</a>;      <span class="comment">// offset (in bytes) from beginning of</span>
01017                                 <span class="comment">// CustomDataBuffer where text begins (-1 if none)</span>
01018                                 <span class="comment">//</span>
<a name="l01019"></a><a class="code" href="../../d0/d0/struct__TARGET__DEVICE__CUSTOM__NOTIFICATION.html#o5">01019</a>     UCHAR <a class="code" href="../../d0/d0/struct__TARGET__DEVICE__CUSTOM__NOTIFICATION.html#o5">CustomDataBuffer</a>[1];  <span class="comment">// variable-length buffer, containing (optionally)</span>
01020                                 <span class="comment">// a binary data at the start of the buffer,</span>
01021                                 <span class="comment">// followed by an optional unicode text buffer</span>
01022                                 <span class="comment">// (word-aligned).</span>
01023                                 <span class="comment">//</span>
01024 } <a class="code" href="../../d0/d0/struct__TARGET__DEVICE__CUSTOM__NOTIFICATION.html">TARGET_DEVICE_CUSTOM_NOTIFICATION</a>, *<a class="code" href="../../d0/d0/struct__TARGET__DEVICE__CUSTOM__NOTIFICATION.html">PTARGET_DEVICE_CUSTOM_NOTIFICATION</a>;
01025 
01026 <span class="comment">// end_wdm end_ntddk end_ntifs end_nthal</span>
01027 
01028 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01029 <a class="code" href="../../d6/d9/pnp_8h.html#a157">PpSetCustomTargetEvent</a>(
01030     IN  <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> DeviceObject,
01031     IN  <a class="code" href="../../d2/d6/struct__KEVENT.html">PKEVENT</a> SyncEvent                           OPTIONAL,
01032     OUT PULONG Result                               OPTIONAL,
01033     IN  PDEVICE_CHANGE_COMPLETE_CALLBACK Callback   OPTIONAL,
01034     IN  PVOID Context                               OPTIONAL,
01035     IN  PTARGET_DEVICE_CUSTOM_NOTIFICATION NotificationStructure
01036     );
01037 
01038 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01039 <a class="code" href="../../d6/d9/pnp_8h.html#a158">PpSetTargetDeviceRemove</a>(
01040     IN  <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> DeviceObject,
01041     IN  BOOLEAN KernelInitiated,
01042     IN  BOOLEAN NoRestart,
01043     IN  BOOLEAN DoEject,
01044     IN  ULONG Problem,
01045     IN  <a class="code" href="../../d2/d6/struct__KEVENT.html">PKEVENT</a> SyncEvent        OPTIONAL,
01046     OUT PULONG Result            OPTIONAL,
01047     OUT PPNP_VETO_TYPE VetoType  OPTIONAL,
01048     OUT PUNICODE_STRING VetoName OPTIONAL
01049     );
01050 
01051 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01052 <a class="code" href="../../d6/d9/pnp_8h.html#a159">PpSetDeviceRemovalSafe</a>(
01053     IN  <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> DeviceObject,
01054     IN  <a class="code" href="../../d2/d6/struct__KEVENT.html">PKEVENT</a> SyncEvent           OPTIONAL,
01055     OUT PULONG Result               OPTIONAL
01056     );
01057 
01058 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01059 <a class="code" href="../../d6/d9/pnp_8h.html#a160">PpNotifyUserModeRemovalSafe</a>(
01060     IN  <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> DeviceObject
01061     );
01062 
<a name="l01063"></a><a class="code" href="../../d6/d9/pnp_8h.html#a10">01063</a> <span class="preprocessor">#define TDF_DEVICEEJECTABLE     0x00000001</span>
<a name="l01064"></a><a class="code" href="../../d6/d9/pnp_8h.html#a11">01064</a> <span class="preprocessor"></span><span class="preprocessor">#define TDF_NO_RESTART          0x00000002</span>
<a name="l01065"></a><a class="code" href="../../d6/d9/pnp_8h.html#a12">01065</a> <span class="preprocessor"></span><span class="preprocessor">#define TDF_KERNEL_INITIATED    0x00000004</span>
01066 <span class="preprocessor"></span>
01067 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01068 <a class="code" href="../../d6/d9/pnp_8h.html#a161">PpSetDeviceClassChange</a>(
01069     IN CONST GUID *EventGuid,
01070     IN CONST GUID *ClassGuid,
01071     IN PUNICODE_STRING SymbolicLinkName
01072     );
01073 
01074 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01075 <a class="code" href="../../d6/d9/pnp_8h.html#a162">PpSetPlugPlayEvent</a>(
01076     IN CONST GUID *EventGuid,
01077     IN <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> DeviceObject
01078     );
01079 
01080 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01081 <a class="code" href="../../d6/d9/pnp_8h.html#a163">PpInitializeNotification</a>(
01082     VOID
01083     );
01084 
01085 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
01086 <a class="code" href="../../d6/d9/pnp_8h.html#a164">PpShutdownSystem</a> (
01087     IN BOOLEAN Reboot,
01088     IN ULONG Phase,
01089     IN OUT PVOID *Context
01090     );
01091 
01092 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01093 <a class="code" href="../../d6/d9/pnp_8h.html#a165">PpSetPowerEvent</a>(
01094     IN   ULONG EventCode,
01095     IN   <a class="code" href="../../d2/d6/struct__KEVENT.html">PKEVENT</a> CompletionEvent    OPTIONAL,
01096     OUT  PNTSTATUS CompletionStatus OPTIONAL,
01097     OUT  PPNP_VETO_TYPE VetoType    OPTIONAL,
01098     OUT  PUNICODE_STRING VetoName   OPTIONAL
01099     );
01100 
01101 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01102 <a class="code" href="../../d6/d9/pnp_8h.html#a166">PpSetHwProfileChangeEvent</a>(
01103     IN   CONST GUID *EventGuid,
01104     IN   <a class="code" href="../../d2/d6/struct__KEVENT.html">PKEVENT</a> CompletionEvent    OPTIONAL,
01105     OUT  PNTSTATUS CompletionStatus OPTIONAL,
01106     OUT  PPNP_VETO_TYPE VetoType    OPTIONAL,
01107     OUT  PUNICODE_STRING VetoName   OPTIONAL
01108     );
01109 
01110 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01111 <a class="code" href="../../d6/d9/pnp_8h.html#a167">PpSynchronizeDeviceEventQueue</a>(
01112     VOID
01113     );
01114 
01115 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
01116 <a class="code" href="../../d6/d9/pnp_8h.html#a168">PpSetPowerVetoEvent</a>(
01117     IN  POWER_ACTION    VetoedPowerOperation,
01118     IN  <a class="code" href="../../d2/d6/struct__KEVENT.html">PKEVENT</a>         CompletionEvent         OPTIONAL,
01119     OUT PNTSTATUS       CompletionStatus        OPTIONAL,
01120     IN  <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a>  DeviceObject,
01121     IN  PNP_VETO_TYPE   VetoType,
01122     IN  PUNICODE_STRING VetoName                OPTIONAL
01123     );
01124 
01125 <span class="comment">//</span>
01126 <span class="comment">// Entry point for USER to deliver notifications (public)</span>
01127 <span class="comment">//</span>
01128 
01129 ULONG
01130 <a class="code" href="../../d8/d0/pnpioapi_8c.html#a114">IoPnPDeliverServicePowerNotification</a>(
01131     ULONG   PwrNotification,
01132     BOOLEAN Synchronous
01133     );
01134 
01135 <span class="preprocessor">#endif // _PNP_</span>
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:41:15 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
