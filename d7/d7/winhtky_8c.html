<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: winhtky.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>winhtky.c File Reference</h1><code>#include "<a class="el" href="../../d1/d3/w32_2ntuser_2kernel_2precomp_8h-source.html">precomp.h</a>"</code><br>

<p>
<a href="../../d8/d6/winhtky_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d6/d9/structtagWND.html">PWND</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d7/d7/winhtky_8c.html#a0">HotKeyToWindow</a> (<a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> key)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d9/d6/structtagHOTKEYSTRUCT.html">PHOTKEYSTRUCT</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d7/d7/winhtky_8c.html#a1">HotKeyHelper</a> (<a class="el" href="../../d6/d9/structtagWND.html">PWND</a> pwnd)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>UINT&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d7/d7/winhtky_8c.html#a2">DWP_SetHotKey</a> (<a class="el" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwKey)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>UINT&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d7/d7/winhtky_8c.html#a3">DWP_GetHotKey</a> (<a class="el" href="../../d6/d9/structtagWND.html">PWND</a> pwnd)</td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a3" doxytag="winhtky.c::DWP_GetHotKey" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> UINT DWP_GetHotKey           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d6/d9/structtagWND.html">PWND</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pwnd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d8/d6/winhtky_8c-source.html#l00242">242</a> of file <a class="el" href="../../d8/d6/winhtky_8c-source.html">winhtky.c</a>.
<p>
References <a class="el" href="../../d8/d6/winhtky_8c-source.html#l00060">HotKeyHelper()</a>, <a class="el" href="../../d5/d0/userk_8h-source.html#l06555">tagHOTKEYSTRUCT::key</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, and <a class="el" href="../../d0/d5/ndismain_8h-source.html#l00026">UINT</a>.
<p>
Referenced by <a class="el" href="../../d9/d2/dwp_8c-source.html#l01264">xxxDefWindowProc()</a>.
<p>
<pre class="fragment"><div>00244 {
00245     <a class="code" href="../../d9/d6/structtagHOTKEYSTRUCT.html">PHOTKEYSTRUCT</a> phk;
00246 
00247     <span class="keywordflow">if</span> ((phk = <a class="code" href="../../d7/d7/winhtky_8c.html#a1">HotKeyHelper</a>(pwnd)) == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
00248         <span class="keywordflow">return</span> 0;
00249 
00250     <span class="keywordflow">return</span> phk-&gt;<a class="code" href="../../d9/d6/structtagHOTKEYSTRUCT.html#o1">key</a>;
00251 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="winhtky.c::DWP_SetHotKey" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> UINT DWP_SetHotKey           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d6/d9/structtagWND.html">PWND</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pwnd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dwKey</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d8/d6/winhtky_8c-source.html#l00096">96</a> of file <a class="el" href="../../d8/d6/winhtky_8c-source.html">winhtky.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00268">gcHotKey</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00270">gcHotKeyAlloc</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00269">gpHotKeyList</a>, <a class="el" href="../../d8/d6/winhtky_8c-source.html#l00060">HotKeyHelper()</a>, <a class="el" href="../../d4/d1/userk_8h.html#a949">HOTKEYSTRUCT</a>, <a class="el" href="../../d8/d6/winhtky_8c-source.html#l00026">HotKeyToWindow()</a>, <a class="el" href="../../d5/d0/userk_8h-source.html#l06555">tagHOTKEYSTRUCT::key</a>, <a class="el" href="../../d6/d8/ntrtlp_8h-source.html#l00183">LOBYTE</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00367">Lock</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d5/d0/userk_8h-source.html#l06554">tagHOTKEYSTRUCT::spwnd</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02555">TestWF</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d0/d5/ndismain_8h-source.html#l00026">UINT</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00368">Unlock</a>, and <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02421">WFCHILD</a>.
<p>
Referenced by <a class="el" href="../../d5/d7/createw_8c-source.html#l00033">xxxCreateWindowEx()</a>, <a class="el" href="../../d9/d2/dwp_8c-source.html#l01264">xxxDefWindowProc()</a>, and <a class="el" href="../../d5/d7/createw_8c-source.html#l01591">xxxDestroyWindow()</a>.
<p>
<pre class="fragment"><div>00099 {
00100     <a class="code" href="../../d9/d6/structtagHOTKEYSTRUCT.html">PHOTKEYSTRUCT</a> phk;
00101     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>          fKeyExists = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00102     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>          pwndTemp;
00103 
00104     <span class="comment">/*</span>
00105 <span class="comment">     * Filter out invalid hotkeys</span>
00106 <span class="comment">     */</span>
00107     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d9/ntrtlp_8h.html#a4">LOBYTE</a>(dwKey) == VK_ESCAPE ||
00108         <a class="code" href="../../d5/d9/ntrtlp_8h.html#a4">LOBYTE</a>(dwKey) == VK_SPACE ||
00109         <a class="code" href="../../d5/d9/ntrtlp_8h.html#a4">LOBYTE</a>(dwKey) == VK_TAB ||
00110         <a class="code" href="../../d5/d9/ntrtlp_8h.html#a4">LOBYTE</a>(dwKey) == VK_PACKET) {
00111 
00112         <span class="keywordflow">return</span> (<a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>)-1;
00113     }
00114 
00115     <span class="comment">/*</span>
00116 <span class="comment">     * Don't allow hotkeys for children</span>
00117 <span class="comment">     */</span>
00118     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, WFCHILD))
00119         <span class="keywordflow">return</span> 0;
00120 
00121     <span class="comment">/*</span>
00122 <span class="comment">     * Check if the hot key exists and is assigned to a different pwnd</span>
00123 <span class="comment">     */</span>
00124     <span class="keywordflow">if</span> (dwKey != 0) {
00125 
00126         pwndTemp = <a class="code" href="../../d7/d7/winhtky_8c.html#a0">HotKeyToWindow</a>(dwKey);
00127 
00128         <span class="keywordflow">if</span> ((pwndTemp != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) &amp;&amp; (pwndTemp != pwnd))
00129             fKeyExists = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00130     }
00131 
00132     <span class="comment">/*</span>
00133 <span class="comment">     * Get the hotkey assigned to the window, if any</span>
00134 <span class="comment">     */</span>
00135     <span class="keywordflow">if</span> ((phk = <a class="code" href="../../d7/d7/winhtky_8c.html#a1">HotKeyHelper</a>(pwnd)) == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00136 
00137         <span class="comment">/*</span>
00138 <span class="comment">         * Window doesn't exist in the hotkey list and key is being set</span>
00139 <span class="comment">         * to zero, so just return.</span>
00140 <span class="comment">         */</span>
00141         <span class="keywordflow">if</span> (dwKey == 0)
00142             <span class="keywordflow">return</span> 1;
00143 
00144         <span class="comment">/*</span>
00145 <span class="comment">         * Allocate and point to a spot for the new hotkey</span>
00146 <span class="comment">         */</span>
00147         <span class="keywordflow">if</span> (<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a116">gcHotKey</a> &gt;= <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a118">gcHotKeyAlloc</a>) {
00148 
00149             <span class="keywordflow">if</span> (<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a118">gcHotKeyAlloc</a>) {
00150 
00151                 phk = (<a class="code" href="../../d9/d6/structtagHOTKEYSTRUCT.html">PHOTKEYSTRUCT</a>)UserReAllocPool(
00152                         (HANDLE)gpHotKeyList,
00153                         gcHotKeyAlloc * <span class="keyword">sizeof</span>(<a class="code" href="../../d9/d6/structtagHOTKEYSTRUCT.html">HOTKEYSTRUCT</a>),
00154                         (gcHotKey + 1) * <span class="keyword">sizeof</span>(HOTKEYSTRUCT), TAG_HOTKEY);
00155 
00156                 <span class="keywordflow">if</span> (phk != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00157 
00158                     <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a117">gpHotKeyList</a> = phk;
00159                     phk = &amp;<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a117">gpHotKeyList</a>[<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a116">gcHotKey</a>++];
00160                     <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a118">gcHotKeyAlloc</a> = <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a116">gcHotKey</a>;
00161 
00162                 } <span class="keywordflow">else</span> {
00163 
00164                     <span class="keywordflow">return</span> 0;
00165                 }
00166 
00167             } <span class="keywordflow">else</span> {
00168 
00169                 UserAssert(gpHotKeyList == NULL);
00170                 UserAssert(gcHotKey == 0);
00171 
00172                 phk = (<a class="code" href="../../d9/d6/structtagHOTKEYSTRUCT.html">PHOTKEYSTRUCT</a>)UserAllocPool(<span class="keyword">sizeof</span>(HOTKEYSTRUCT),
00173                                                    TAG_HOTKEY);
00174 
00175                 <span class="keywordflow">if</span> (phk != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00176 
00177                     <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a117">gpHotKeyList</a> = phk;
00178                     <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a116">gcHotKey</a> = 1;
00179                     <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a118">gcHotKeyAlloc</a> = 1;
00180 
00181                 } <span class="keywordflow">else</span> {
00182 
00183                     <span class="keywordflow">return</span> 0;
00184                 }
00185             }
00186 
00187         } <span class="keywordflow">else</span> {
00188             phk = &amp;<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a117">gpHotKeyList</a>[<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a116">gcHotKey</a>++];
00189         }
00190     }
00191 
00192     <span class="keywordflow">if</span> (dwKey == 0) {
00193 
00194         <span class="comment">/*</span>
00195 <span class="comment">         * The hotkey for this window is being deleted. Copy the last item</span>
00196 <span class="comment">         * on the list on top of the one being deleted.</span>
00197 <span class="comment">         */</span>
00198         <span class="keywordflow">if</span> (--<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a116">gcHotKey</a>) {
00199 
00200             <a class="code" href="../../d6/d0/usercli_8h.html#a41">Lock</a>(&amp;phk-&gt;<a class="code" href="../../d9/d6/structtagHOTKEYSTRUCT.html#o0">spwnd</a>, gpHotKeyList[gcHotKey].spwnd);
00201             <a class="code" href="../../d6/d0/usercli_8h.html#a42">Unlock</a>(&amp;gpHotKeyList[gcHotKey].spwnd);
00202 
00203             phk-&gt;<a class="code" href="../../d9/d6/structtagHOTKEYSTRUCT.html#o1">key</a> = <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a117">gpHotKeyList</a>[<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a116">gcHotKey</a>].<a class="code" href="../../d9/d6/structtagHOTKEYSTRUCT.html#o1">key</a>;
00204             phk = (<a class="code" href="../../d9/d6/structtagHOTKEYSTRUCT.html">PHOTKEYSTRUCT</a>)UserReAllocPool((HANDLE)gpHotKeyList,
00205                 gcHotKeyAlloc * <span class="keyword">sizeof</span>(<a class="code" href="../../d9/d6/structtagHOTKEYSTRUCT.html">HOTKEYSTRUCT</a>),
00206                 gcHotKey * <span class="keyword">sizeof</span>(HOTKEYSTRUCT), TAG_HOTKEY);
00207 
00208             <span class="keywordflow">if</span> (phk != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00209                 <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a117">gpHotKeyList</a> = phk;
00210                 <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a118">gcHotKeyAlloc</a> = <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a116">gcHotKey</a>;
00211             }
00212 
00213         } <span class="keywordflow">else</span> {
00214 
00215             <a class="code" href="../../d6/d0/usercli_8h.html#a42">Unlock</a>(&amp;gpHotKeyList[gcHotKey].spwnd);
00216             UserFreePool((HANDLE)gpHotKeyList);
00217             <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a117">gpHotKeyList</a> = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00218             <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a118">gcHotKeyAlloc</a> = 0;
00219         }
00220 
00221     } <span class="keywordflow">else</span> {
00222 
00223         <span class="comment">/*</span>
00224 <span class="comment">         * Add the window and key to the list</span>
00225 <span class="comment">         */</span>
00226         phk-&gt;<a class="code" href="../../d9/d6/structtagHOTKEYSTRUCT.html#o0">spwnd</a> = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00227         <a class="code" href="../../d6/d0/usercli_8h.html#a41">Lock</a>(&amp;phk-&gt;<a class="code" href="../../d9/d6/structtagHOTKEYSTRUCT.html#o0">spwnd</a>, pwnd);
00228         phk-&gt;<a class="code" href="../../d9/d6/structtagHOTKEYSTRUCT.html#o1">key</a> = dwKey;
00229     }
00230 
00231     <span class="keywordflow">return</span> fKeyExists ? 2 : 1;
00232 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="winhtky.c::HotKeyHelper" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d9/d6/structtagHOTKEYSTRUCT.html">PHOTKEYSTRUCT</a> HotKeyHelper           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d6/d9/structtagWND.html">PWND</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pwnd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d8/d6/winhtky_8c-source.html#l00060">60</a> of file <a class="el" href="../../d8/d6/winhtky_8c-source.html">winhtky.c</a>.
<p>
References <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00268">gcHotKey</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00269">gpHotKeyList</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, and <a class="el" href="../../d5/d0/userk_8h-source.html#l06554">tagHOTKEYSTRUCT::spwnd</a>.
<p>
Referenced by <a class="el" href="../../d8/d6/winhtky_8c-source.html#l00242">DWP_GetHotKey()</a>, and <a class="el" href="../../d8/d6/winhtky_8c-source.html#l00096">DWP_SetHotKey()</a>.
<p>
<pre class="fragment"><div>00062 {
00063     <a class="code" href="../../d9/d6/structtagHOTKEYSTRUCT.html">PHOTKEYSTRUCT</a> phk;
00064     <span class="keywordtype">int</span> count;
00065 
00066     count = <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a116">gcHotKey</a>;
00067 
00068     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a117">gpHotKeyList</a> == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
00069         <span class="keywordflow">return</span> 0;
00070 
00071     phk = <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a117">gpHotKeyList</a>;
00072 
00073     <span class="keywordflow">while</span> (count) {
00074         <span class="keywordflow">if</span> (phk-&gt;<a class="code" href="../../d9/d6/structtagHOTKEYSTRUCT.html#o0">spwnd</a> == pwnd)
00075             <span class="keywordflow">return</span> phk;
00076         phk++;
00077         count--;
00078     }
00079 
00080     <span class="keywordflow">return</span> 0;
00081 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="winhtky.c::HotKeyToWindow" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d6/d9/structtagWND.html">PWND</a> HotKeyToWindow           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>key</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d8/d6/winhtky_8c-source.html#l00026">26</a> of file <a class="el" href="../../d8/d6/winhtky_8c-source.html">winhtky.c</a>.
<p>
References <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00268">gcHotKey</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00269">gpHotKeyList</a>, <a class="el" href="../../d5/d0/userk_8h-source.html#l06555">tagHOTKEYSTRUCT::key</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d5/d0/userk_8h-source.html#l06554">tagHOTKEYSTRUCT::spwnd</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02555">TestWF</a>, and <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02419">WFVISIBLE</a>.
<p>
Referenced by <a class="el" href="../../d8/d6/winhtky_8c-source.html#l00096">DWP_SetHotKey()</a>, and <a class="el" href="../../d6/d2/ntuser_2kernel_2input_8c-source.html#l03305">xxxScanSysQueue()</a>.
<p>
<pre class="fragment"><div>00028 {
00029     <a class="code" href="../../d9/d6/structtagHOTKEYSTRUCT.html">PHOTKEYSTRUCT</a> phk;
00030     <span class="keywordtype">int</span> ckeys;
00031 
00032     ckeys = <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a116">gcHotKey</a>;
00033 
00034     <span class="keywordflow">if</span> (ckeys == 0)
00035         <span class="keywordflow">return</span> 0;
00036 
00037     phk = <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a117">gpHotKeyList</a>;
00038 
00039     <span class="keywordflow">while</span> (ckeys) {
00040         <span class="keywordflow">if</span> (phk-&gt;<a class="code" href="../../d9/d6/structtagHOTKEYSTRUCT.html#o1">key</a> == key)
00041             <span class="keywordflow">return</span> <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(phk-&gt;<a class="code" href="../../d9/d6/structtagHOTKEYSTRUCT.html#o0">spwnd</a>, WFVISIBLE) ? phk-&gt;<a class="code" href="../../d9/d6/structtagHOTKEYSTRUCT.html#o0">spwnd</a> : <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00042         phk++;
00043         ckeys--;
00044     }
00045 
00046     <span class="keywordflow">return</span> 0;
00047 }
</div></pre>    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:46:09 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
