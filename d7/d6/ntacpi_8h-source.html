<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: ntacpi.h Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>ntacpi.h</h1><a href="../../d6/d7/ntacpi_8h.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 ;<span class="comment">/*++</span>
00002 <span class="comment">;</span>
00003 <span class="comment">; Copyright (c) 1997  Microsoft Corporation</span>
00004 <span class="comment">;</span>
00005 <span class="comment">; Module Name:</span>
00006 <span class="comment">;</span>
00007 <span class="comment">;   ntacpi.h</span>
00008 <span class="comment">;</span>
00009 <span class="comment">; Abstract:</span>
00010 <span class="comment">;</span>
00011 <span class="comment">;</span>
00012 <span class="comment">;   This module contains definitions specific to the HAL's</span>
00013 <span class="comment">;   ACPI function.</span>
00014 <span class="comment">;</span>
00015 <span class="comment">; Author:</span>
00016 <span class="comment">;</span>
00017 <span class="comment">;   Jake Oshins (jakeo) Feb. 18, 1997</span>
00018 <span class="comment">;</span>
00019 <span class="comment">; Revision History:</span>
00020 <span class="comment">;</span>
00021 <span class="comment">;-</span>
00022 <span class="comment"></span>
00023 <span class="comment">if 0        ; Begin C only code         */</span>
00024 
00025 <span class="preprocessor">#ifndef _ACPI_H_</span>
00026 <span class="preprocessor"></span><span class="preprocessor">#define _ACPI_H_</span>
00027 <span class="preprocessor"></span>
00028 
<a name="l00029"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a0">00029</a> <span class="preprocessor">#define SLEEP_STATE_FLUSH_CACHE         0x1</span>
<a name="l00030"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a1">00030</a> <span class="preprocessor"></span><span class="preprocessor">#define SLEEP_STATE_FIRMWARE_RESTART    0x2</span>
<a name="l00031"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a2">00031</a> <span class="preprocessor"></span><span class="preprocessor">#define SLEEP_STATE_SAVE_MOTHERBOARD    0x4</span>
<a name="l00032"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a3">00032</a> <span class="preprocessor"></span><span class="preprocessor">#define SLEEP_STATE_OFF                 0x8</span>
<a name="l00033"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a4">00033</a> <span class="preprocessor"></span><span class="preprocessor">#define SLEEP_STATE_RESTART_OTHER_PROCESSORS    0x10</span>
00034 <span class="preprocessor"></span>
<a name="l00035"></a><a class="code" href="../../d3/d7/structSLEEP__STATE__CONTEXT.html">00035</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
00036     <span class="keyword">union </span>{
00037         <span class="keyword">struct </span>{
<a name="l00038"></a><a class="code" href="../../d3/d7/structSLEEP__STATE__CONTEXT.html#o0">00038</a>             ULONG       Pm1aVal:4;
<a name="l00039"></a><a class="code" href="../../d3/d7/structSLEEP__STATE__CONTEXT.html#o1">00039</a>             ULONG       Pm1bVal:4;
<a name="l00040"></a><a class="code" href="../../d3/d7/structSLEEP__STATE__CONTEXT.html#o2">00040</a>             ULONG       Flags:24;
00041         } bits;
<a name="l00042"></a><a class="code" href="../../d3/d7/structSLEEP__STATE__CONTEXT.html#o4">00042</a>         ULONG   AsULONG;
00043     };
00044 } <a class="code" href="../../d3/d7/structSLEEP__STATE__CONTEXT.html">SLEEP_STATE_CONTEXT</a>, *<a class="code" href="../../d6/d7/ntacpi_8h.html#a55">PSLEEP_STATE_CONTEXT</a>;
00045 
00046 
00047 <span class="comment">//</span>
00048 <span class="comment">// ACPI Register definitions</span>
00049 <span class="comment">//</span>
00050 
<a name="l00051"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a5">00051</a> <span class="preprocessor">#define P_LVL2          4</span>
<a name="l00052"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a6">00052</a> <span class="preprocessor"></span><span class="preprocessor">#define PBLK_THT_EN                     0x10</span>
00053 <span class="preprocessor"></span>
00054 <span class="comment">//</span>
00055 <span class="comment">// Register layout of PM1x_EVT register</span>
00056 <span class="comment">// Note also defined in acpiregs.h</span>
00057 <span class="comment">//</span>
00058 
<a name="l00059"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a7">00059</a> <span class="preprocessor">#define PM1_PWRBTN_STS_BIT      8</span>
<a name="l00060"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a8">00060</a> <span class="preprocessor"></span><span class="preprocessor">#define PM1_PWRBTN_STS          (1 &lt;&lt; PM1_PWRBTN_STS_BIT)</span>
00061 <span class="preprocessor"></span>
00062 <span class="comment">//</span>
00063 <span class="comment">// Register layout of PM1x_CTL</span>
00064 <span class="comment">//</span>
00065 
<a name="l00066"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a9">00066</a> <span class="preprocessor">#define SCI_EN              1</span>
<a name="l00067"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a10">00067</a> <span class="preprocessor"></span><span class="preprocessor">#define BM_RLD              2</span>
<a name="l00068"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a11">00068</a> <span class="preprocessor"></span><span class="preprocessor">#define CTL_IGNORE          0x200</span>
<a name="l00069"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a12">00069</a> <span class="preprocessor"></span><span class="preprocessor">#define SLP_TYP_SHIFT       10</span>
<a name="l00070"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a13">00070</a> <span class="preprocessor"></span><span class="preprocessor">#define SLP_EN              0x2000</span>
00071 <span class="preprocessor"></span>
<a name="l00072"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a14">00072</a> <span class="preprocessor">#define CTL_PRESERVE        (SCI_EN + BM_RLD + CTL_IGNORE)</span>
00073 <span class="preprocessor"></span>
00074 
00075 <span class="comment">//</span>
00076 <span class="comment">// HAL's table</span>
00077 <span class="comment">//</span>
00078 
<a name="l00079"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a102">00079</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00080     <a class="code" href="../../d6/d7/ntacpi_8h.html#a40">HalAcpiTimerInit</a>,
00081     <a class="code" href="../../d6/d7/ntacpi_8h.html#a41">HalAcpiTimerInterrupt</a>,
00082     <a class="code" href="../../d6/d7/ntacpi_8h.html#a42">HalAcpiMachineStateInit</a>,
00083     <a class="code" href="../../d6/d7/ntacpi_8h.html#a102a82">HalAcpiQueryFlags</a>,
00084     <a class="code" href="../../d6/d7/ntacpi_8h.html#a43">HalPicStateIntact</a>,
00085     <a class="code" href="../../d6/d7/ntacpi_8h.html#a44">HalRestorePicState</a>,
00086     <a class="code" href="../../d6/d7/ntacpi_8h.html#a45">HalPciInterfaceReadConfig</a>,
00087     <a class="code" href="../../d6/d7/ntacpi_8h.html#a46">HalPciInterfaceWriteConfig</a>,
00088     <a class="code" href="../../d6/d7/ntacpi_8h.html#a47">HalSetVectorState</a>,
00089     <a class="code" href="../../d6/d7/ntacpi_8h.html#a48">HalGetIOApicVersion</a>,
00090     <a class="code" href="../../d6/d7/ntacpi_8h.html#a49">HalSetMaxLegacyPciBusNumber</a>,
00091     <a class="code" href="../../d6/d7/ntacpi_8h.html#a102a90">HalAcpiMaxFunction</a>
00092 } <a class="code" href="../../d6/d7/ntacpi_8h.html#a102">HAL_DISPATCH_FUNCTION</a>;
00093 
00094 <span class="keyword">typedef</span>
00095 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
<a name="l00096"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a56">00096</a> (*pHalAcpiTimerInit)(
00097     IN ULONG    TimerPort,
00098     IN BOOLEAN  TimerValExt
00099     );
00100 
00101 <span class="keyword">typedef</span>
00102 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
<a name="l00103"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a57">00103</a> (*pHalAcpiTimerInterrupt)(
00104     <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00105     );
00106 
<a name="l00107"></a><a class="code" href="../../d1/d6/structPROCESSOR__INIT.html">00107</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00108"></a><a class="code" href="../../d1/d6/structPROCESSOR__INIT.html#o0">00108</a>     ULONG   <a class="code" href="../../d4/d0/cmconfig_8c.html#a6">Count</a>;
<a name="l00109"></a><a class="code" href="../../d1/d6/structPROCESSOR__INIT.html#o1">00109</a>     ULONG   Pblk[1];
00110 } <a class="code" href="../../d1/d6/structPROCESSOR__INIT.html">PROCESSOR_INIT</a>, *<a class="code" href="../../d6/d7/ntacpi_8h.html#a58">PPROCESSOR_INIT</a>;
00111 
<a name="l00112"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a15">00112</a> <span class="preprocessor">#define HAL_C1_SUPPORTED 0x01</span>
<a name="l00113"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a16">00113</a> <span class="preprocessor"></span><span class="preprocessor">#define HAL_C2_SUPPORTED 0x02</span>
<a name="l00114"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a17">00114</a> <span class="preprocessor"></span><span class="preprocessor">#define HAL_C3_SUPPORTED 0x04</span>
<a name="l00115"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a18">00115</a> <span class="preprocessor"></span><span class="preprocessor">#define HAL_S1_SUPPORTED 0x08</span>
<a name="l00116"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a19">00116</a> <span class="preprocessor"></span><span class="preprocessor">#define HAL_S2_SUPPORTED 0x10</span>
<a name="l00117"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a20">00117</a> <span class="preprocessor"></span><span class="preprocessor">#define HAL_S3_SUPPORTED 0x20</span>
<a name="l00118"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a21">00118</a> <span class="preprocessor"></span><span class="preprocessor">#define HAL_S4_SUPPORTED 0x40</span>
<a name="l00119"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a22">00119</a> <span class="preprocessor"></span><span class="preprocessor">#define HAL_S5_SUPPORTED 0x80</span>
00120 <span class="preprocessor"></span>
<a name="l00121"></a><a class="code" href="../../d7/d0/structHAL__SLEEP__VAL.html">00121</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00122"></a><a class="code" href="../../d7/d0/structHAL__SLEEP__VAL.html#o0">00122</a>     BOOLEAN     Supported;
<a name="l00123"></a><a class="code" href="../../d7/d0/structHAL__SLEEP__VAL.html#o1">00123</a>     UCHAR       Pm1aVal;
<a name="l00124"></a><a class="code" href="../../d7/d0/structHAL__SLEEP__VAL.html#o2">00124</a>     UCHAR       Pm1bVal;
00125 } <a class="code" href="../../d7/d0/structHAL__SLEEP__VAL.html">HAL_SLEEP_VAL</a>, *<a class="code" href="../../d6/d7/ntacpi_8h.html#a59">PHAL_SLEEP_VAL</a>;
00126 
00127 <span class="keyword">typedef</span>
00128 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
<a name="l00129"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a60">00129</a> (*pHalAcpiMachineStateInit)(
00130     IN  <a class="code" href="../../d6/d7/ntacpi_8h.html#a58">PPROCESSOR_INIT</a> ProcInit,
00131     IN  <a class="code" href="../../d6/d7/ntacpi_8h.html#a59">PHAL_SLEEP_VAL</a>  SleepValues,
00132     OUT PULONG          PicVal
00133     );
00134 
00135 <span class="keyword">typedef</span>
00136 ULONG
<a name="l00137"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a61">00137</a> (*pHalAcpiQueryFlags)(
00138     <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00139     );
00140 
00141 <span class="keyword">typedef</span>
00142 BOOLEAN
<a name="l00143"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a62">00143</a> (*pHalPicStateIntact)(
00144     <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00145     );
00146 
00147 <span class="keyword">typedef</span>
00148 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
<a name="l00149"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a63">00149</a> (*pHalRestorePicState)(
00150     <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00151     );
00152 
00153 <span class="keyword">typedef</span>
00154 ULONG
<a name="l00155"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a64">00155</a> (*pHalInterfaceReadWriteConfig)(
00156     IN PVOID Context,
00157     IN UCHAR BusOffset,
00158     IN ULONG Slot,
00159     IN PVOID <a class="code" href="../../d6/d2/rtqkey_8c.html#a3">Buffer</a>,
00160     IN ULONG <a class="code" href="../../d4/d9/heapdbg_8c.html#a3">Offset</a>,
00161     IN ULONG Length
00162     );
00163 
00164 <span class="comment">//</span>
00165 <span class="comment">// Flags for interrupt vectors</span>
00166 <span class="comment">//</span>
00167 
<a name="l00168"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a23">00168</a> <span class="preprocessor">#define VECTOR_MODE         1</span>
<a name="l00169"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a24">00169</a> <span class="preprocessor"></span><span class="preprocessor">#define VECTOR_LEVEL        1</span>
<a name="l00170"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a25">00170</a> <span class="preprocessor"></span><span class="preprocessor">#define VECTOR_EDGE         0</span>
<a name="l00171"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a26">00171</a> <span class="preprocessor"></span><span class="preprocessor">#define VECTOR_POLARITY     2</span>
<a name="l00172"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a27">00172</a> <span class="preprocessor"></span><span class="preprocessor">#define VECTOR_ACTIVE_LOW   2</span>
<a name="l00173"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a28">00173</a> <span class="preprocessor"></span><span class="preprocessor">#define VECTOR_ACTIVE_HIGH  0</span>
00174 <span class="preprocessor"></span>
00175 <span class="comment">//</span>
00176 <span class="comment">// Vector Type:</span>
00177 <span class="comment">//</span>
00178 <span class="comment">// VECTOR_SIGNAL = standard edge-triggered or</span>
00179 <span class="comment">//                 level-sensitive interrupt vector</span>
00180 <span class="comment">//</span>
00181 <span class="comment">// VECTOR_MESSAGE = an MSI (Message Signalled Interrupt) vector</span>
00182 <span class="comment">//</span>
00183 
<a name="l00184"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a29">00184</a> <span class="preprocessor">#define VECTOR_TYPE         4</span>
<a name="l00185"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a30">00185</a> <span class="preprocessor"></span><span class="preprocessor">#define VECTOR_SIGNAL       0</span>
<a name="l00186"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a31">00186</a> <span class="preprocessor"></span><span class="preprocessor">#define VECTOR_MESSAGE      4</span>
00187 <span class="preprocessor"></span>
<a name="l00188"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a32">00188</a> <span class="preprocessor">#define IS_LEVEL_TRIGGERED(vectorFlags) \</span>
00189 <span class="preprocessor">    (vectorFlags &amp; VECTOR_LEVEL)</span>
00190 <span class="preprocessor"></span>
<a name="l00191"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a33">00191</a> <span class="preprocessor">#define IS_EDGE_TRIGGERED(vectorFlags) \</span>
00192 <span class="preprocessor">    !(vectorFlags &amp; VECTOR_LEVEL)</span>
00193 <span class="preprocessor"></span>
<a name="l00194"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a34">00194</a> <span class="preprocessor">#define IS_ACTIVE_LOW(vectorFlags) \</span>
00195 <span class="preprocessor">    (vectorFlags &amp; VECTOR_ACTIVE_LOW)</span>
00196 <span class="preprocessor"></span>
<a name="l00197"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a35">00197</a> <span class="preprocessor">#define IS_ACTIVE_HIGH(vectorFlags) \</span>
00198 <span class="preprocessor">    !(vectorFlags &amp; VECTOR_ACTIVE_LOW)</span>
00199 <span class="preprocessor"></span>
00200 <span class="keyword">typedef</span>
00201 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
<a name="l00202"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a65">00202</a> (*pHalSetVectorState)(
00203     IN ULONG Vector,
00204     IN ULONG Flags
00205     );
00206 
00207 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00208 <a class="code" href="../../d6/d7/ntacpi_8h.html#a100">HaliSetVectorState</a>(
00209     IN ULONG Vector,
00210     IN ULONG Flags
00211     );
00212 
<a name="l00213"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a36">00213</a> <span class="preprocessor">#define HAL_ACPI_PCI_RESOURCES    0x01</span>
<a name="l00214"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a37">00214</a> <span class="preprocessor"></span><span class="preprocessor">#define HAL_ACPI_PRT_SUPPORT      0x02</span>
00215 <span class="preprocessor"></span>
00216 <span class="keyword">typedef</span>
00217 ULONG
<a name="l00218"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a66">00218</a> (*pHalGetIOApicVersion)(
00219     IN ULONG ApicNo
00220     );
00221 
00222 <span class="keyword">typedef</span>
00223 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
<a name="l00224"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a67">00224</a> (*pHalSetMaxLegacyPciBusNumber)(
00225     IN ULONG <a class="code" href="../../d2/d7/hal_8h.html#a75">BusNumber</a>
00226     );
00227 
00228 <span class="comment">//</span>
00229 <span class="comment">//  typedef struct _PM_DISPATCH_TABLE {</span>
00230 <span class="comment">//      ULONG   Signature;</span>
00231 <span class="comment">//      ULONG   Version;</span>
00232 <span class="comment">//      PVOID   Function[1];</span>
00233 <span class="comment">//  } PM_DISPATCH_TABLE, *PPM_DISPATCH_TABLE;</span>
00234 <span class="comment">//</span>
00235 
<a name="l00236"></a><a class="code" href="../../d4/d0/structHAL__ACPI__DISPATCH__TABLE.html">00236</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00237"></a><a class="code" href="../../d4/d0/structHAL__ACPI__DISPATCH__TABLE.html#o0">00237</a>     ULONG   Signature;
<a name="l00238"></a><a class="code" href="../../d4/d0/structHAL__ACPI__DISPATCH__TABLE.html#o1">00238</a>     ULONG   <a class="code" href="../../d2/d5/editreg_8c.html#a50">Version</a>;
<a name="l00239"></a><a class="code" href="../../d4/d0/structHAL__ACPI__DISPATCH__TABLE.html#o2">00239</a>     <a class="code" href="../../d6/d7/ntacpi_8h.html#a56">pHalAcpiTimerInit</a>               HalpAcpiTimerInit;
<a name="l00240"></a><a class="code" href="../../d4/d0/structHAL__ACPI__DISPATCH__TABLE.html#o3">00240</a>     <a class="code" href="../../d6/d7/ntacpi_8h.html#a57">pHalAcpiTimerInterrupt</a>          HalpAcpiTimerInterrupt;
<a name="l00241"></a><a class="code" href="../../d4/d0/structHAL__ACPI__DISPATCH__TABLE.html#o4">00241</a>     <a class="code" href="../../d6/d7/ntacpi_8h.html#a60">pHalAcpiMachineStateInit</a>        HalpAcpiMachineStateInit;
<a name="l00242"></a><a class="code" href="../../d4/d0/structHAL__ACPI__DISPATCH__TABLE.html#o5">00242</a>     <a class="code" href="../../d6/d7/ntacpi_8h.html#a61">pHalAcpiQueryFlags</a>              HalpAcpiQueryFlags;
<a name="l00243"></a><a class="code" href="../../d4/d0/structHAL__ACPI__DISPATCH__TABLE.html#o6">00243</a>     <a class="code" href="../../d6/d7/ntacpi_8h.html#a62">pHalPicStateIntact</a>              HalxPicStateIntact;
<a name="l00244"></a><a class="code" href="../../d4/d0/structHAL__ACPI__DISPATCH__TABLE.html#o7">00244</a>     <a class="code" href="../../d6/d7/ntacpi_8h.html#a63">pHalRestorePicState</a>             HalxRestorePicState;
<a name="l00245"></a><a class="code" href="../../d4/d0/structHAL__ACPI__DISPATCH__TABLE.html#o8">00245</a>     <a class="code" href="../../d6/d7/ntacpi_8h.html#a64">pHalInterfaceReadWriteConfig</a>    HalpPciInterfaceReadConfig;
<a name="l00246"></a><a class="code" href="../../d4/d0/structHAL__ACPI__DISPATCH__TABLE.html#o9">00246</a>     <a class="code" href="../../d6/d7/ntacpi_8h.html#a64">pHalInterfaceReadWriteConfig</a>    HalpPciInterfaceWriteConfig;
<a name="l00247"></a><a class="code" href="../../d4/d0/structHAL__ACPI__DISPATCH__TABLE.html#o10">00247</a>     <a class="code" href="../../d6/d7/ntacpi_8h.html#a65">pHalSetVectorState</a>              HalpSetVectorState;
<a name="l00248"></a><a class="code" href="../../d4/d0/structHAL__ACPI__DISPATCH__TABLE.html#o11">00248</a>     <a class="code" href="../../d6/d7/ntacpi_8h.html#a66">pHalGetIOApicVersion</a>            HalpGetIOApicVersion;
<a name="l00249"></a><a class="code" href="../../d4/d0/structHAL__ACPI__DISPATCH__TABLE.html#o12">00249</a>     <a class="code" href="../../d6/d7/ntacpi_8h.html#a67">pHalSetMaxLegacyPciBusNumber</a>    HalpSetMaxLegacyPciBusNumber;
00250 } <a class="code" href="../../d4/d0/structHAL__ACPI__DISPATCH__TABLE.html">HAL_ACPI_DISPATCH_TABLE</a>, *<a class="code" href="../../d6/d7/ntacpi_8h.html#a68">PHAL_ACPI_DISPATCH_TABLE</a>;
00251 
<a name="l00252"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a38">00252</a> <span class="preprocessor">#define HAL_ACPI_DISPATCH_SIGNATURE   'HAL '</span>
<a name="l00253"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a39">00253</a> <span class="preprocessor"></span><span class="preprocessor">#define HAL_ACPI_DISPATCH_VERSION     1</span>
00254 <span class="preprocessor"></span>
<a name="l00255"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a40">00255</a> <span class="preprocessor">#define HalAcpiTimerInit            ((pHalAcpiTimerInit)PmHalDispatchTable-&gt;Function[HalAcpiTimerInit])</span>
<a name="l00256"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a41">00256</a> <span class="preprocessor"></span><span class="preprocessor">#define HalAcpiTimerInterrupt       ((pHalAcpiTimerInterrupt)PmHalDispatchTable-&gt;Function[HalAcpiTimerInterrupt])</span>
<a name="l00257"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a42">00257</a> <span class="preprocessor"></span><span class="preprocessor">#define HalAcpiMachineStateInit     ((pHalAcpiMachineStateInit)PmHalDispatchTable-&gt;Function[HalAcpiMachineStateInit])</span>
<a name="l00258"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a43">00258</a> <span class="preprocessor"></span><span class="preprocessor">#define HalPicStateIntact           ((pHalPicStateIntact)PmHalDispatchTable-&gt;Function[HalPicStateIntact])</span>
<a name="l00259"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a44">00259</a> <span class="preprocessor"></span><span class="preprocessor">#define HalRestorePicState          ((pHalRestorePicState)PmHalDispatchTable-&gt;Function[HalRestorePicState])</span>
<a name="l00260"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a45">00260</a> <span class="preprocessor"></span><span class="preprocessor">#define HalPciInterfaceReadConfig   ((pHalInterfaceReadWriteConfig)PmHalDispatchTable-&gt;Function[HalPciInterfaceReadConfig])</span>
<a name="l00261"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a46">00261</a> <span class="preprocessor"></span><span class="preprocessor">#define HalPciInterfaceWriteConfig  ((pHalInterfaceReadWriteConfig)PmHalDispatchTable-&gt;Function[HalPciInterfaceWriteConfig])</span>
<a name="l00262"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a47">00262</a> <span class="preprocessor"></span><span class="preprocessor">#define HalSetVectorState           ((pHalSetVectorState)PmHalDispatchTable-&gt;Function[HalSetVectorState])</span>
<a name="l00263"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a48">00263</a> <span class="preprocessor"></span><span class="preprocessor">#define HalGetIOApicVersion         ((pHalGetIOApicVersion)PmHalDispatchTable-&gt;Function[HalGetIOApicVersion])</span>
<a name="l00264"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a49">00264</a> <span class="preprocessor"></span><span class="preprocessor">#define HalSetMaxLegacyPciBusNumber ((pHalSetMaxLegacyPciBusNumber)PmHalDispatchTable-&gt;Function[HalSetMaxLegacyPciBusNumber])</span>
00265 <span class="preprocessor"></span>
<a name="l00266"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a69">00266</a> <span class="keyword">extern</span> <a class="code" href="../../d0/d6/struct__PM__DISPATCH__TABLE.html">PPM_DISPATCH_TABLE</a> <a class="code" href="../../d6/d7/ntacpi_8h.html#a69">PmAcpiDispatchTable</a>;
<a name="l00267"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a70">00267</a> <span class="keyword">extern</span> <a class="code" href="../../d0/d6/struct__PM__DISPATCH__TABLE.html">PPM_DISPATCH_TABLE</a> <a class="code" href="../../d6/d7/ntacpi_8h.html#a70">PmHalDispatchTable</a>;
00268 
00269 <span class="comment">//</span>
00270 <span class="comment">// ACPI driver's table</span>
00271 <span class="comment">//</span>
<a name="l00272"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a103">00272</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00273     <a class="code" href="../../d6/d7/ntacpi_8h.html#a52">AcpiEnableDisableGPEvents</a>,
00274     <a class="code" href="../../d6/d7/ntacpi_8h.html#a53">AcpiInitEnableAcpi</a>,
00275     <a class="code" href="../../d6/d7/ntacpi_8h.html#a54">AcpiGpeEnableWakeEvents</a>,
00276     <a class="code" href="../../d6/d7/ntacpi_8h.html#a103a94">AcpiMaxFunction</a>
00277 } <a class="code" href="../../d6/d7/ntacpi_8h.html#a103">ACPI_DISPATCH_FUNCTION</a>;
00278 
00279 <span class="keyword">typedef</span>
00280 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
<a name="l00281"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a71">00281</a> (*pAcpiEnableDisableGPEvents) (
00282     IN BOOLEAN Enable
00283     );
00284 
00285 <span class="keyword">typedef</span>
00286 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
<a name="l00287"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a72">00287</a> (*pAcpiInitEnableAcpi) (
00288     IN BOOLEAN ReEnable
00289     );
00290 
00291 <span class="keyword">typedef</span>
00292 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
<a name="l00293"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a73">00293</a> (*pAcpiGpeEnableWakeEvents)(
00294     <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00295     );
00296 
<a name="l00297"></a><a class="code" href="../../d5/d0/structACPI__HAL__DISPATCH__TABLE.html">00297</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00298"></a><a class="code" href="../../d5/d0/structACPI__HAL__DISPATCH__TABLE.html#o0">00298</a>     ULONG   Signature;
<a name="l00299"></a><a class="code" href="../../d5/d0/structACPI__HAL__DISPATCH__TABLE.html#o1">00299</a>     ULONG   <a class="code" href="../../d2/d5/editreg_8c.html#a50">Version</a>;
<a name="l00300"></a><a class="code" href="../../d5/d0/structACPI__HAL__DISPATCH__TABLE.html#o2">00300</a>     <a class="code" href="../../d6/d7/ntacpi_8h.html#a71">pAcpiEnableDisableGPEvents</a>    AcpipEnableDisableGPEvents;
<a name="l00301"></a><a class="code" href="../../d5/d0/structACPI__HAL__DISPATCH__TABLE.html#o3">00301</a>     <a class="code" href="../../d6/d7/ntacpi_8h.html#a72">pAcpiInitEnableAcpi</a>           AcpipInitEnableAcpi;
<a name="l00302"></a><a class="code" href="../../d5/d0/structACPI__HAL__DISPATCH__TABLE.html#o4">00302</a>     <a class="code" href="../../d6/d7/ntacpi_8h.html#a73">pAcpiGpeEnableWakeEvents</a>      AcpipGpeEnableWakeEvents;
00303 } <a class="code" href="../../d5/d0/structACPI__HAL__DISPATCH__TABLE.html">ACPI_HAL_DISPATCH_TABLE</a>, *<a class="code" href="../../d6/d7/ntacpi_8h.html#a74">PACPI_HAL_DISPATCH_TABLE</a>;
00304 
<a name="l00305"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a50">00305</a> <span class="preprocessor">#define ACPI_HAL_DISPATCH_SIGNATURE   'ACPI'</span>
<a name="l00306"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a51">00306</a> <span class="preprocessor"></span><span class="preprocessor">#define ACPI_HAL_DISPATCH_VERSION     1</span>
00307 <span class="preprocessor"></span>
<a name="l00308"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a52">00308</a> <span class="preprocessor">#define AcpiEnableDisableGPEvents       (*(pAcpiEnableDisableGPEvents)PmAcpiDispatchTable-&gt;Function[AcpiEnableDisableGPEvents])</span>
<a name="l00309"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a53">00309</a> <span class="preprocessor"></span><span class="preprocessor">#define AcpiInitEnableAcpi              (*(pAcpiInitEnableAcpi)PmAcpiDispatchTable-&gt;Function[AcpiInitEnableAcpi])</span>
<a name="l00310"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a54">00310</a> <span class="preprocessor"></span><span class="preprocessor">#define AcpiGpeEnableWakeEvents         (*(pAcpiGpeEnableWakeEvents)PmAcpiDispatchTable-&gt;Function[AcpiGpeEnableWakeEvents])</span>
00311 <span class="preprocessor"></span>
00312 <span class="comment">// from detect\i386\acpibios.h</span>
<a name="l00313"></a><a class="code" href="../../d4/d0/structACPI__E820__ENTRY.html">00313</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00314"></a><a class="code" href="../../d4/d0/structACPI__E820__ENTRY.html#o0">00314</a>     PHYSICAL_ADDRESS    Base;
<a name="l00315"></a><a class="code" href="../../d4/d0/structACPI__E820__ENTRY.html#o1">00315</a>     LARGE_INTEGER       Length;
<a name="l00316"></a><a class="code" href="../../d4/d0/structACPI__E820__ENTRY.html#o2">00316</a>     ULONGLONG           Type;
00317 } <a class="code" href="../../d4/d0/structACPI__E820__ENTRY.html">ACPI_E820_ENTRY</a>, *<a class="code" href="../../d6/d7/ntacpi_8h.html#a75">PACPI_E820_ENTRY</a>;
00318 
<a name="l00319"></a><a class="code" href="../../d4/d5/struct__ACPI__BIOS__MULTI__NODE.html">00319</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d4/d5/struct__ACPI__BIOS__MULTI__NODE.html">_ACPI_BIOS_MULTI_NODE</a> {
<a name="l00320"></a><a class="code" href="../../d4/d5/struct__ACPI__BIOS__MULTI__NODE.html#o0">00320</a>     PHYSICAL_ADDRESS    <a class="code" href="../../d4/d5/struct__ACPI__BIOS__MULTI__NODE.html#o0">RsdtAddress</a>;    <span class="comment">// 64-bit physical address of RSDT</span>
<a name="l00321"></a><a class="code" href="../../d4/d5/struct__ACPI__BIOS__MULTI__NODE.html#o1">00321</a>     ULONGLONG           <a class="code" href="../../d4/d5/struct__ACPI__BIOS__MULTI__NODE.html#o1">Count</a>;
<a name="l00322"></a><a class="code" href="../../d4/d5/struct__ACPI__BIOS__MULTI__NODE.html#o2">00322</a>     <a class="code" href="../../d4/d0/structACPI__E820__ENTRY.html">ACPI_E820_ENTRY</a>     <a class="code" href="../../d4/d5/struct__ACPI__BIOS__MULTI__NODE.html#o2">E820Entry</a>[1];
00323 } <a class="code" href="../../d4/d5/struct__ACPI__BIOS__MULTI__NODE.html">ACPI_BIOS_MULTI_NODE</a>, *<a class="code" href="../../d4/d5/struct__ACPI__BIOS__MULTI__NODE.html">PACPI_BIOS_MULTI_NODE</a>;
00324 
<a name="l00325"></a><a class="code" href="../../d6/d7/ntacpi_8h.html#a104">00325</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
00326     <a class="code" href="../../d6/d7/ntacpi_8h.html#a104a95">AcpiAddressRangeMemory</a> = 1,
00327     <a class="code" href="../../d6/d7/ntacpi_8h.html#a104a96">AcpiAddressRangeReserved</a>,
00328     <a class="code" href="../../d6/d7/ntacpi_8h.html#a104a97">AcpiAddressRangeACPI</a>,
00329     <a class="code" href="../../d6/d7/ntacpi_8h.html#a104a98">AcpiAddressRangeNVS</a>,
00330     <a class="code" href="../../d6/d7/ntacpi_8h.html#a104a99">AcpiAddressRangeMaximum</a>,
00331 } <a class="code" href="../../d6/d7/ntacpi_8h.html#a104">ACPI_BIOS_E820_TYPE</a>, *<a class="code" href="../../d6/d7/ntacpi_8h.html#a78">PACPI_BIOS_E820_TYPE</a>;
00332 
00333 
00334 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00335 <a class="code" href="../../d6/d7/ntacpi_8h.html#a101">HalpAcpiFindRsdt</a> (
00336     OUT PACPI_BIOS_MULTI_NODE   *AcpiMulti
00337     );
00338 
00339 <span class="preprocessor">#endif //_ACPI_H_</span>
00340 <span class="preprocessor"></span>
00341 <span class="comment">/*</span>
00342 <span class="comment">endif</span>
00343 <span class="comment">;</span>
00344 <span class="comment">;  Begin assembly part of the definitions</span>
00345 <span class="comment">;</span>
00346 <span class="comment"></span>
00347 <span class="comment"></span>
00348 <span class="comment">;</span>
00349 <span class="comment">; Register layout of ACPI processor register block</span>
00350 <span class="comment">;</span>
00351 <span class="comment"></span>
00352 <span class="comment">P_CNT                   equ     0</span>
00353 <span class="comment">P_LVL2                  equ     4</span>
00354 <span class="comment">P_LVL3                  equ     5</span>
00355 <span class="comment"></span>
00356 <span class="comment"></span>
00357 <span class="comment">;</span>
00358 <span class="comment">; Register layout of PM1x_EVT register</span>
00359 <span class="comment">;</span>
00360 <span class="comment"></span>
00361 <span class="comment">BM_STS              equ       10h</span>
00362 <span class="comment">WAK_STS             equ     8000h</span>
00363 <span class="comment"></span>
00364 <span class="comment">;</span>
00365 <span class="comment">; Register layout of PM1x_Enable</span>
00366 <span class="comment">;</span>
00367 <span class="comment"></span>
00368 <span class="comment">TMR_EN              equ     0001h</span>
00369 <span class="comment">GBL_EN              equ     0020h</span>
00370 <span class="comment">PWRBTN_EN           equ     0100h</span>
00371 <span class="comment">SLPBTN_EN           equ     0200h</span>
00372 <span class="comment">RTC_EN              equ     0400h</span>
00373 <span class="comment"></span>
00374 <span class="comment">;</span>
00375 <span class="comment">; Register layout of PM1x_CTL</span>
00376 <span class="comment">;</span>
00377 <span class="comment"></span>
00378 <span class="comment">SCI_EN              equ     1</span>
00379 <span class="comment">BM_RLD              equ     2</span>
00380 <span class="comment">CTL_IGNORE          equ     200h</span>
00381 <span class="comment">SLP_TYP_SHIFT       equ     10</span>
00382 <span class="comment">SLP_EN              equ     2000h</span>
00383 <span class="comment"></span>
00384 <span class="comment">CTL_PRESERVE        equ     (SCI_EN + BM_RLD + CTL_IGNORE)</span>
00385 <span class="comment"></span>
00386 <span class="comment">;</span>
00387 <span class="comment">; Register layout of PM2_CNT</span>
00388 <span class="comment">;</span>
00389 <span class="comment"></span>
00390 <span class="comment">ARB_DIS             equ     1</span>
00391 <span class="comment"></span>
00392 <span class="comment">;</span>
00393 <span class="comment">; ACPI registers, as laid out in HalpFixedAcpiDescTable</span>
00394 <span class="comment">;</span>
00395 <span class="comment"></span>
00396 <span class="comment">PM1a_EVT        EQU _HalpFixedAcpiDescTable + 56</span>
00397 <span class="comment">PM1b_EVT        EQU _HalpFixedAcpiDescTable + 60</span>
00398 <span class="comment">PM1_EVT_LEN     EQU _HalpFixedAcpiDescTable + 88</span>
00399 <span class="comment"></span>
00400 <span class="comment">PM1a_CNT        EQU _HalpFixedAcpiDescTable + 64</span>
00401 <span class="comment">PM1b_CNT        EQU _HalpFixedAcpiDescTable + 68</span>
00402 <span class="comment"></span>
00403 <span class="comment">PM2_CNT_BLK     EQU _HalpFixedAcpiDescTable + 72</span>
00404 <span class="comment"></span>
00405 <span class="comment">PM_TMR_BLK      EQU _HalpFixedAcpiDescTable + 76</span>
00406 <span class="comment">PM_TMR_FREQ     EQU 3579545</span>
00407 <span class="comment"></span>
00408 <span class="comment">GPE0_BLK        EQU _HalpFixedAcpiDescTable + 80</span>
00409 <span class="comment">GPE1_BLK        EQU _HalpFixedAcpiDescTable + 84</span>
00410 <span class="comment"></span>
00411 <span class="comment">GPE0_BLK_LEN    EQU _HalpFixedAcpiDescTable + 92</span>
00412 <span class="comment">GPE1_BLK_LEN    EQU _HalpFixedAcpiDescTable + 93</span>
00413 <span class="comment"></span>
00414 <span class="comment">FLUSH_SIZE      EQU _HalpFixedAcpiDescTable + 100</span>
00415 <span class="comment">FLUSH_STRIDE    EQU _HalpFixedAcpiDescTable + 102</span>
00416 <span class="comment"></span>
00417 <span class="comment">DUTY_OFFSET     EQU _HalpFixedAcpiDescTable + 104</span>
00418 <span class="comment"></span>
00419 <span class="comment">RTC_DAY_ALRM    EQU _HalpFixedAcpiDescTable + 106</span>
00420 <span class="comment">RTC_MON_ALRM    EQU _HalpFixedAcpiDescTable + 107</span>
00421 <span class="comment">RTC_CENTURY     EQU _HalpFixedAcpiDescTable + 108</span>
00422 <span class="comment">FADT_FLAGS      EQU _HalpFixedAcpiDescTable + 112</span>
00423 <span class="comment"></span>
00424 <span class="comment">;</span>
00425 <span class="comment">; FADT flag values</span>
00426 <span class="comment">;</span>
00427 <span class="comment">WBINVD_SUPPORTED    EQU 1</span>
00428 <span class="comment">WBINVD_FLUSH        EQU 2</span>
00429 <span class="comment"></span>
00430 <span class="comment">;</span>
00431 <span class="comment">GeneralWakeupEnable EQU 0</span>
00432 <span class="comment">RtcWakeupEnable     EQU 1</span>
00433 <span class="comment"></span>
00434 <span class="comment">;</span>
00435 <span class="comment">; Constants used in the Context parameter to HaliAcpiSleep</span>
00436 <span class="comment">;  (must match C code above)</span>
00437 <span class="comment">;</span>
00438 <span class="comment">SLEEP_STATE_FLUSH_CACHE         EQU 1</span>
00439 <span class="comment">SLEEP_STATE_FIRMWARE_RESTART    EQU 2</span>
00440 <span class="comment">CONTEXT_FLAG_SHIFT              EQU 8</span>
00441 <span class="comment"></span>
00442 <span class="comment">;*/</span>
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:40:58 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
