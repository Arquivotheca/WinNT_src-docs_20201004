<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: calcnd3.c Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>calcnd3.c</h1><a href="../../d6/d3/lh__core_2calcnd3_8c.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">/*</span>
00002 <span class="comment">        File:           LHCalcND3_Lut16.c</span>
00003 <span class="comment"></span>
00004 <span class="comment">        Contains:       </span>
00005 <span class="comment"></span>
00006 <span class="comment">        Written by:     U. J. Krabbenhoeft</span>
00007 <span class="comment"></span>
00008 <span class="comment">        Copyright:      © 1993-1997 by Heidelberger Druckmaschinen AG, all rights reserved.</span>
00009 <span class="comment"></span>
00010 <span class="comment">        Version:        </span>
00011 <span class="comment">*/</span>
00012 
00013 <span class="preprocessor">#ifndef LHGeneralIncs_h</span>
00014 <span class="preprocessor"></span><span class="preprocessor">#include "General.h"</span>
00015 <span class="preprocessor">#endif</span>
00016 <span class="preprocessor"></span>
00017 <span class="preprocessor">#ifndef LHCalcEngine_h</span>
00018 <span class="preprocessor"></span><span class="preprocessor">#include "CalcEng.h"</span>
00019 <span class="preprocessor">#endif</span>
00020 <span class="preprocessor"></span>
00021 <span class="preprocessor">#ifndef LHCalcNDim_h</span>
00022 <span class="preprocessor"></span><span class="preprocessor">#include "CalcNDim.h"</span>
00023 <span class="preprocessor">#endif</span>
00024 <span class="preprocessor"></span>
00025 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
00026 <span class="preprocessor"></span><span class="preprocessor">#define kThisFile kLHCalcNDim_Lut16ID</span>
00027 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00028"></a><a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a0">00028</a> <span class="preprocessor"></span><span class="preprocessor">#define DebugPrint(x)</span>
00029 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00030 <span class="preprocessor"></span>
<a name="l00031"></a><a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a1">00031</a> <span class="preprocessor">#define CLIPPWord(x,a,b) ((x)&lt;(a)?(LH_UINT16)(a):((x)&gt;(b)?(LH_UINT16)(b):(LH_UINT16)(x+.5)))</span>
<a name="l00032"></a><a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a2">00032</a> <span class="preprocessor"></span><span class="preprocessor">#define CLIPP(x,a,b) ((x)&lt;(a)?(a):((x)&gt;(b)?(b):(x)))</span>
00033 <span class="preprocessor"></span>
<a name="l00034"></a><a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a3">00034</a> <span class="preprocessor">#define UNROLL_NDIM 1</span>
00035 <span class="preprocessor"></span><span class="preprocessor">#if UNROLL_NDIM</span>
00036 <span class="preprocessor"></span><a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a11">CMError</a> <a class="code" href="../../d9/d3/w98_2lh__core_2calcndim_8c.html#a5">Calc323Dim_Data8To8_Lut16</a>       (<a class="code" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam,
00037                                                                          <a class="code" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a>  lutParam);
00038 <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a11">CMError</a> <a class="code" href="../../d9/d3/w98_2lh__core_2calcndim_8c.html#a6">Calc324Dim_Data8To8_Lut16</a>       (<a class="code" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam,
00039                                                                          <a class="code" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a>  lutParam);
00040 <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a11">CMError</a> <a class="code" href="../../d9/d3/w98_2lh__core_2calcndim_8c.html#a7">Calc423Dim_Data8To8_Lut16</a>       (<a class="code" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam,
00041                                                                          <a class="code" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a>  lutParam);
00042 <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a11">CMError</a> <a class="code" href="../../d9/d3/w98_2lh__core_2calcndim_8c.html#a8">Calc424Dim_Data8To8_Lut16</a>       (<a class="code" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam,
00043                                                                          <a class="code" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a>  lutParam);
00044 <span class="preprocessor">#define NDIM_IN_DIM 3</span>
00045 <span class="preprocessor"></span><span class="preprocessor">#define NDIM_OUT_DIM 3</span>
00046 <span class="preprocessor"></span><span class="preprocessor">#define aElutShift (16-adr_breite_elut)</span>
00047 <span class="preprocessor"></span><span class="preprocessor">#define aElutShiftNum (1&lt;&lt;aElutShift)</span>
00048 <span class="preprocessor"></span>
<a name="l00049"></a><a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a20">00049</a> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a11">CMError</a> <a class="code" href="../../d9/d3/w98_2lh__core_2calcndim_8c.html#a5">Calc323Dim_Data8To8_Lut16</a>       (<a class="code" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam,
00050                                                                          <a class="code" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a>  lutParam)
00051         
00052 {
00053         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> * inputData[8], *outputData[8];
00054         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a> OutputIncrement, inputDataRowOffset, outputDataRowOffset, Pixelcount, LineCount;
00055         <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> adr0;
00056     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ko0;
00057     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> accu[8];
00058     <span class="keyword">register</span> <span class="keywordtype">long</span> i;
00059     <span class="comment">/*long Offsets[8];*/</span>
00060     
00061     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutShift,aElutOffset,aAlutOffset;
00062     <span class="keyword">register</span> <span class="keywordtype">long</span> aElutWordSize;
00063     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutWordSize;
00064     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutAdrSize;
00065     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutAdrShift;
00066     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aXlutWordSize;
00067         <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ii,jj;
00068     <span class="keyword">register</span> <span class="keywordtype">long</span> aOutputPackMode8Bit;
00069         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> ein_Cache[8];
00070         
00071         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * aus_lut     = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o5">outputLut</a>;
00072         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * ein_lut     = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o2">inputLut</a>;
00073         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * Xlut        = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o10">colorLut</a>;
00074         
00075 <span class="preprocessor">        #ifdef DEBUG_OUTPUT</span>
00076 <span class="preprocessor"></span>        <span class="keywordtype">long</span> err = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
00077 <span class="preprocessor">        #endif</span>
00078 <span class="preprocessor"></span>        <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a1">LH_START_PROC</a>(<span class="stringliteral">"Calc323Dim_Data8To8_Lut16"</span>)
00079         
00080         inputData[0] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[0];
00081         inputData[1] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[1];
00082         inputData[2] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[2];
00083 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
00084 <span class="preprocessor"></span>        inputData[3] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[3];
00085 <span class="preprocessor">#endif</span>
00086 <span class="preprocessor"></span>        outputData[0] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[0];
00087         outputData[1] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[1];
00088         outputData[2] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[2];
00089 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00090 <span class="preprocessor"></span>        outputData[3] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[3];
00091 <span class="preprocessor">#endif</span>
00092 <span class="preprocessor"></span>
00093         OutputIncrement = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o7">cmOutputPixelOffset</a>;
00094         inputDataRowOffset = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o4">cmInputBytesPerLine</a> - calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o2">cmPixelPerLine</a> * calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o6">cmInputPixelOffset</a> + (<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> * 2);
00095         outputDataRowOffset = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o5">cmOutputBytesPerLine</a> - calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o2">cmPixelPerLine</a> * calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o7">cmOutputPixelOffset</a> + OutputIncrement;
00096 
00097         Pixelcount = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o2">cmPixelPerLine</a>;
00098         LineCount = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a>;
00099 
00100         aElutWordSize = lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o1">inputLutWordSize</a>;
00101         aAlutWordSize = lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o4">outputLutWordSize</a>;
00102         aXlutAdrSize = lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o8">colorLutGridPoints</a>;
00103         <span class="keywordflow">for</span> ( i = 1; (i &lt; 32) &amp;&amp; (aXlutAdrSize &gt;&gt; i); i++)
00104                 aXlutAdrShift = i;
00105         aXlutWordSize = lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o9">colorLutWordSize</a>;
00106 
00107         aOutputPackMode8Bit = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o1">cmOutputColorSpace</a> &amp; <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a150a51">cm8PerChannelPacking</a> || calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o1">cmOutputColorSpace</a> &amp; <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a150a46">cmLong8ColorPacking</a>;
00108    <span class="comment">/*DebugPrint("DoNDim with %d input elements\n",aByteCount);*/</span>
00109 <span class="preprocessor">        #if FARBR_FILES</span>
00110 <span class="preprocessor"></span>        WriteLuts(      <span class="stringliteral">"DoNDim"</span>,1,<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>,aElutWordSize,ein_lut,
00111                                 <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>,<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>,aXlutAdrSize,aXlutWordSize,(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)Xlut,<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>,aAlutWordSize,(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)aus_lut);
00112 <span class="preprocessor">    #endif</span>
00113 <span class="preprocessor"></span>
00114         i=0;
00115                                         
00116         {
00117                 <span class="keywordflow">if</span>( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a> &lt; 0 )
00118                 {
00119 <span class="preprocessor">                        #ifdef DEBUG_OUTPUT</span>
00120 <span class="preprocessor"></span>                        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: aElutShift &lt; 0 (aElutShift = %d)\n"</span>,<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>);
00121 <span class="preprocessor">                        #endif</span>
00122 <span class="preprocessor"></span>                        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
00123                 }
00124         }
00125         
00126         <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
00127                 aAlutShift = (aAlutWordSize-8);         
00128         }
00129         <span class="keywordflow">else</span>{
00130                 aAlutShift = (16 - aAlutWordSize);              
00131         }
00132         
00133 <span class="preprocessor">        #ifdef DEBUG_OUTPUT</span>
00134 <span class="preprocessor"></span>                <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugReserved1) ){
00135                     <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aElutAdrSize=%lx,aElutAdrShift=%lx,aElutWordSize=%lx,ein_lut=%lx,\n"</span>,
00136                                                 <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>,<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a>,aElutWordSize,ein_lut);
00137                         <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aAlutAdrSize=%lx,aAlutAdrShift=%lx,aAlutWordSize=%lx,aus_lut=%lx,\n"</span>,
00138                                                 <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>,<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a>,aAlutWordSize,aus_lut);
00139                         <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aXlutInDim=%lx,aXlutOutDim=%lx,aXlutAdrSize=%lx,aXlutAdrShift=%lx,aXlutWordSize=%lx,Xlut=%lx,\n"</span>,
00140                                                 <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>,<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>,aXlutAdrSize,aXlutAdrShift,aXlutWordSize,Xlut);
00141                 }
00142 <span class="preprocessor">    #endif</span>
00143 <span class="preprocessor"></span>    
00144     <span class="comment">/*if( 1 )*/</span>
00145     <span class="keywordflow">if</span>( aXlutAdrSize != (1&lt;&lt;aXlutAdrShift )){
00146     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutOffset;
00147     <span class="keywordtype">long</span> theXlutOffsets[8]; 
00148     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutInShift;
00149     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShiftRemainder;
00150     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutInShiftNum;
00151     <span class="keyword">register</span> <span class="keywordtype">long</span> aElutWordSizeMask = (1&lt;&lt;aElutWordSize) - 1;
00152     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutRound;
00153    aAlutInShift = aXlutWordSize + aElutWordSize - <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a>;
00154     aAlutInShiftRemainder = 0;
00155     <span class="keywordflow">if</span>( aAlutInShift &gt; 16 ){
00156         aAlutInShiftRemainder = aAlutInShift - 16;
00157         aAlutInShift = 16;
00158     }
00159     aAlutInShiftNum = (1&lt;&lt;aAlutInShift);
00160 
00161 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
00162 <span class="preprocessor"></span>        <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugMiscInfo) )
00163             <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"  DoNDim gripoints = %ld\n"</span>,aXlutAdrSize);
00164 <span class="preprocessor">#endif</span>
00165 <span class="preprocessor"></span>    <span class="keywordflow">if</span>( aElutWordSize &lt;= 0 ){
00166 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
00167 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: (1&lt;&lt;aElutWordSize)/aXlutAdrSize &lt;= 0 %d\n"</span>,(1&lt;&lt;aElutWordSize)/aXlutAdrSize);
00168 <span class="preprocessor">#endif</span>
00169 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
00170     }
00171     <span class="keywordflow">if</span>( aAlutInShift &lt;= 0 ){
00172 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
00173 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: aAlutInShift &lt;= 0 %d\n"</span>,aAlutInShift);
00174 <span class="preprocessor">#endif</span>
00175 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
00176     }
00177     aXlutOffset =<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>;
00178     <span class="keywordflow">for</span>( i=0; i&lt;(<span class="keywordtype">long</span>)<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; i++){
00179         theXlutOffsets[ <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-i] = aXlutOffset;
00180         aXlutOffset *=aXlutAdrSize;
00181     }
00182         aAlutRound = 1&lt;&lt;( aAlutInShift + aAlutShift - 1 );
00183 
00184 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
00185 <span class="preprocessor"></span>        <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugReserved1) )
00186             <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">" aElutWordSize((1&lt;&lt;aElutWordSize)-0) = %ld\n aAlutInShift:((1&lt;&lt;aXlutWordSize)*aElutWordSize+(adr_bereich_alut/2))/adr_bereich_alut = %ld\n"</span>,aElutWordSize,aAlutInShift);
00187 <span class="preprocessor">#endif</span>
00188 <span class="preprocessor"></span>    
00189         <span class="keywordflow">while</span> (LineCount){
00190                 i = Pixelcount;
00191                 
00192                 <span class="keywordflow">while</span> (i){
00193         
00194                 <span class="keywordtype">long</span> adr[8],<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[8];
00195                 <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> ein_reg[8];
00196                 <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  adrAdr,ko,adrOffset;
00197         
00198                 adr0=0;
00199                         aElutOffset = 0;
00200                         jj=0;
00201                         
00202                                 jj=ein_Cache[0]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[0]);
00203                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
00204                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
00205                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00206                                         ko0 += aElutOffset;
00207                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00208         
00209                                 jj *= aXlutAdrSize;
00210                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
00211                                 adr[0] = jj &amp; aElutWordSizeMask;
00212                                 jj = jj &gt;&gt; aElutWordSize;
00213                                 adr0 += (jj)*theXlutOffsets[0];
00214                                 ein_reg[0] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00215 
00216                                 jj=ein_Cache[1]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[1]);
00217                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
00218                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
00219                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00220                                         ko0 += aElutOffset;
00221                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00222         
00223                                 jj *= aXlutAdrSize;
00224                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
00225                                 adr[1] = jj &amp; aElutWordSizeMask;
00226                                 jj = jj &gt;&gt; aElutWordSize;
00227                                 adr0 += (jj)*theXlutOffsets[1];
00228                                 ein_reg[1] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00229 
00230                                         jj=ein_Cache[2]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[2]);
00231                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
00232                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
00233                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00234                                         ko0 += aElutOffset;
00235                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00236         
00237                                 jj *= aXlutAdrSize;
00238                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
00239                                 adr[2] = jj &amp; aElutWordSizeMask;
00240                                 jj = jj &gt;&gt; aElutWordSize;
00241                                 adr0 += (jj)*theXlutOffsets[2];
00242                                 ein_reg[2] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00243 
00244 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
00245 <span class="preprocessor"></span>                                        jj=ein_Cache[3]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[3]);
00246                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
00247                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
00248                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00249                                         ko0 += aElutOffset;
00250                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00251         
00252                                 jj *= aXlutAdrSize;
00253                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
00254                                 adr[3] = jj &amp; aElutWordSizeMask;
00255                                 jj = jj &gt;&gt; aElutWordSize;
00256                                 adr0 += (jj)*theXlutOffsets[3];
00257                                 ein_reg[3] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00258 <span class="preprocessor">#endif</span>
00259 <span class="preprocessor"></span>                
00260         
00261 
00262                 {                                                               <span class="comment">/* a kind of */</span>
00263                     <span class="keyword">register</span> <span class="keywordtype">long</span> <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00264                     
00265                         
00266                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = 0;
00267                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = 1;
00268                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = 2;
00269 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
00270 <span class="preprocessor"></span>                                <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = 3;
00271 <span class="preprocessor">#endif</span>
00272 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[0] &lt; adr[1] ){
00273                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
00274                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00275                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00276                                         }
00277 
00278                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[2] ){
00279                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00280                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
00281                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00282                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
00283                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
00284                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00285                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00286                                                 }
00287                                         }
00288 
00289 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
00290 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] &lt; adr[3] ){
00291                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
00292                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
00293                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00294                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] ){
00295                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00296                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
00297                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00298                                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
00299                                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
00300                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00301                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00302                                                         }
00303                                                 }
00304                                         }
00305 <span class="preprocessor">#endif</span>
00306 <span class="preprocessor"></span>                }
00307 
00308         accu[0]=0;
00309         accu[1]=0;
00310         accu[2]=0;
00311 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00312 <span class="preprocessor"></span>        accu[3]=0;
00313 <span class="preprocessor">#endif</span>
00314 <span class="preprocessor"></span>        ko0 = (1&lt;&lt;aElutWordSize);
00315         adrAdr=adr0;
00316         adrOffset=0;
00317         <span class="keywordflow">if</span>( aXlutWordSize  == 16 ){
00318                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
00319                 ko = ko0 - adr[jj];
00320                 ko0 = adr[jj];
00321 
00322                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
00323                     adrOffset += theXlutOffsets[jj];
00324 
00325                     accu[0]+=Xlut[adrAdr+(0)]*ko;
00326                     accu[1]+=Xlut[adrAdr+(1)]*ko;
00327                     accu[2]+=Xlut[adrAdr+(2)]*ko;
00328 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00329 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
00330 <span class="preprocessor">#endif</span>
00331 <span class="preprocessor"></span>
00332                 adrAdr = (adr0 + adrOffset);
00333 
00334                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00335                 ko = ko0 - adr[jj];
00336                 ko0 = adr[jj];
00337 
00338                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
00339                     adrOffset += theXlutOffsets[jj];
00340 
00341                     accu[0]+=Xlut[adrAdr+(0)]*ko;
00342                     accu[1]+=Xlut[adrAdr+(1)]*ko;
00343                     accu[2]+=Xlut[adrAdr+(2)]*ko;
00344 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00345 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
00346 <span class="preprocessor">#endif</span>
00347 <span class="preprocessor"></span>
00348                 adrAdr = (adr0 + adrOffset);
00349 
00350                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
00351                 ko = ko0 - adr[jj];
00352                 ko0 = adr[jj];
00353 
00354                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
00355                     adrOffset += theXlutOffsets[jj];
00356 
00357                     accu[0]+=Xlut[adrAdr+(0)]*ko;
00358                     accu[1]+=Xlut[adrAdr+(1)]*ko;
00359                     accu[2]+=Xlut[adrAdr+(2)]*ko;
00360 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00361 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
00362 <span class="preprocessor">#endif</span>
00363 <span class="preprocessor"></span>
00364                 adrAdr = (adr0 + adrOffset);
00365 
00366 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
00367 <span class="preprocessor"></span>                jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
00368                 ko = ko0 - adr[jj];
00369                 ko0 = adr[jj];
00370 
00371                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
00372                     adrOffset += theXlutOffsets[jj];
00373 
00374                     accu[0]+=Xlut[adrAdr+(0)]*ko;
00375                     accu[1]+=Xlut[adrAdr+(1)]*ko;
00376                     accu[2]+=Xlut[adrAdr+(2)]*ko;
00377 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00378 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
00379 <span class="preprocessor">#endif</span>
00380 <span class="preprocessor"></span>
00381                 adrAdr = (adr0 + adrOffset);
00382 <span class="preprocessor">#endif</span>
00383 <span class="preprocessor"></span>
00384                 accu[0]+=Xlut[adrAdr+0]*ko0;
00385                 accu[1]+=Xlut[adrAdr+1]*ko0;
00386                 accu[2]+=Xlut[adrAdr+2]*ko0;
00387 <span class="preprocessor"> #if NDIM_OUT_DIM == 4</span>
00388 <span class="preprocessor"></span>               accu[3]+=Xlut[adrAdr+3]*ko0;
00389 <span class="preprocessor"> #endif</span>
00390 <span class="preprocessor"></span>       }
00391        <span class="keywordflow">else</span>{
00392 
00393                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
00394                 ko = ko0 - adr[jj];
00395                 ko0 = adr[jj];
00396 
00397                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
00398                     adrOffset += theXlutOffsets[jj];
00399 
00400                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
00401                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
00402                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
00403 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00404 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
00405 <span class="preprocessor">#endif</span>
00406 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
00407 
00408                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00409                 ko = ko0 - adr[jj];
00410                 ko0 = adr[jj];
00411 
00412                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
00413                     adrOffset += theXlutOffsets[jj];
00414 
00415                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
00416                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
00417                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
00418 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00419 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
00420 <span class="preprocessor">#endif</span>
00421 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
00422 
00423                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
00424                 ko = ko0 - adr[jj];
00425                 ko0 = adr[jj];
00426 
00427                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
00428                     adrOffset += theXlutOffsets[jj];
00429 
00430                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
00431                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
00432                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
00433 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00434 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
00435 <span class="preprocessor">#endif</span>
00436 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
00437 
00438 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
00439 <span class="preprocessor"></span>                jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
00440                 ko = ko0 - adr[jj];
00441                 ko0 = adr[jj];
00442 
00443                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
00444                     adrOffset += theXlutOffsets[jj];
00445 
00446                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
00447                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
00448                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
00449 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00450 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
00451 <span class="preprocessor">#endif</span>
00452 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
00453 <span class="preprocessor">#endif</span>
00454 <span class="preprocessor"></span>                accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+0]*ko0;
00455                 accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+1]*ko0;
00456                 accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+2]*ko0;
00457 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00458 <span class="preprocessor"></span>               accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+3]*ko0;
00459 <span class="preprocessor">#endif</span>
00460 <span class="preprocessor"></span>        }
00461 
00462                 aAlutOffset = 0;
00463 
00464                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
00465                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
00466                                         jj = accu[ii];
00467                                         jj = jj + ( jj &gt;&gt; aXlutWordSize );
00468 
00469                                         ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder;     <span class="comment">/*      aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
00470 
00471                                         ko = ko0 &amp; (aAlutInShiftNum - 1 );
00472                                         ko0 = ko0 &gt;&gt; aAlutInShift;
00473                                         ko0 += aAlutOffset;
00474                                         <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
00475                                         jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &gt;&gt; ( aAlutInShift );
00476                                         <span class="keywordflow">else</span>{
00477                                         jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko );
00478                                                 jj = jj - ( jj &gt;&gt; aAlutShift );
00479                                                 jj = ( jj + aAlutRound ) &gt;&gt; (aAlutInShift + aAlutShift);
00480                                         }
00481                                         *outputData[ii] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>)jj;
00482                         aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
00483                     }
00484                         }
00485                         <span class="keywordflow">else</span>{
00486                                 <span class="keywordflow">if</span>( aXlutWordSize &gt;= 16 ){
00487                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
00488                                                 jj = accu[ii];
00489                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize );
00490                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder; <span class="comment">/*  aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
00491                 
00492                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
00493                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
00494                                                 ko0 += aAlutOffset;
00495                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
00496                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
00497                                                 <span class="keywordflow">else</span>
00498                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
00499                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00500                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
00501                                         }
00502                                 }
00503                                 <span class="keywordflow">else</span>{
00504                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
00505                                                 jj = accu[ii];
00506                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize ) + ( jj &gt;&gt; 2*aXlutWordSize );
00507                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) ; <span class="comment">/*  aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
00508                 
00509                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
00510                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
00511                                                 ko0 += aAlutOffset;
00512                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
00513                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
00514                                                 <span class="keywordflow">else</span>
00515                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
00516                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00517                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
00518                                         }
00519                                 }
00520                         }
00521                         <span class="keywordflow">while</span> (--i){
00522                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
00523                                         inputData[jj] += (<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> * 2);
00524                                 }
00525                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
00526                                         outputData[jj] += OutputIncrement;
00527                                 }
00528         
00529                                 {
00530                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
00531                                                 <span class="keywordflow">if</span>( *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[jj]) ^ ein_Cache[jj] )<span class="keywordflow">break</span>;
00532                                         }
00533                                 }
00534                                 <span class="keywordflow">if</span>( jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> ) <span class="keywordflow">break</span>;
00535                                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
00536                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
00537                                                 *outputData[jj] = outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> )];
00538                                         }
00539                                 }
00540                                 <span class="keywordflow">else</span>{
00541                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
00542                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[jj]) = *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)(&amp;outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> * 2)]);
00543                                         }
00544                                 }
00545                         }
00546                 }
00547                 
00548                 <span class="keywordflow">if</span>( --LineCount ){
00549                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
00550                                 inputData[jj] += inputDataRowOffset;
00551                         }
00552                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
00553                                 outputData[jj] += outputDataRowOffset;
00554                         }
00555                 }
00556     }
00557     }
00558     <span class="keywordflow">else</span>{
00559 
00560     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_breit_selektor;
00561     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_maske_selektor;
00562     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_breit_adr;
00563     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_maske_adr;
00564     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  aAlutInShiftNum;
00565     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShift;
00566     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShiftRemainder;
00567     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutRound;
00568     <span class="comment">/*register long aXlutPlaneShift = aXlutAdrShift*aXlutInDim;*/</span>
00569     bit_breit_selektor=aElutWordSize-aXlutAdrShift;
00570     <span class="keywordflow">if</span>( aElutWordSize-aXlutAdrShift &lt; 0 )
00571     {
00572 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
00573 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: bit_breit_selektor &lt; 0 (bit_breit_selektor = %d)\n"</span>,bit_breit_selektor);
00574 <span class="preprocessor">#endif</span>
00575 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
00576     }
00577     bit_maske_selektor=(1&lt;&lt;bit_breit_selektor)-1;
00578     bit_breit_adr=aXlutAdrShift;
00579     bit_maske_adr=((1&lt;&lt;bit_breit_adr)-1)&lt;&lt;bit_breit_selektor;
00580     aAlutInShift = (aXlutWordSize+bit_breit_selektor-<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a>);
00581     <span class="comment">/*aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
00582     aAlutInShiftRemainder = 0;
00583     <span class="keywordflow">if</span>( aAlutInShift &gt; 16 ){
00584         aAlutInShiftRemainder = aAlutInShift - 16;
00585         aAlutInShift = 16;
00586     }
00587         
00588     aAlutInShiftNum = (1&lt;&lt;aAlutInShift);
00589     
00590         aAlutRound = 1&lt;&lt;( aAlutInShift + aAlutShift - 1 );
00591         <span class="keywordflow">while</span> (LineCount){
00592                 i = Pixelcount;
00593                 
00594                 <span class="keywordflow">while</span> (i){
00595         
00596                 <span class="keywordtype">long</span> adr[8],<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[8];
00597                 <span class="comment">/*LH_UINT16 *ein_lut = (LH_UINT16 *)ein_lut;*/</span>
00598                 <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> ein_reg[8];
00599                    <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  adrAdr,ko,adrOffset;
00600                 <span class="comment">/*register unsigned long aIndex;*/</span>
00601         
00602                 adr0=0;
00603                 aElutOffset = 0;
00604                 jj=0;
00605                         jj=ein_Cache[0]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[0]);
00606                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
00607                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
00608                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00609                         ko0 += aElutOffset;
00610                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00611         
00612                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
00613                         adr[0] = (jj &amp; bit_maske_selektor);
00614                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-0-1)*bit_breit_adr);
00615                         ein_reg[0] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00616 
00617                         jj=ein_Cache[1]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[1]);
00618                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
00619                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
00620                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00621                         ko0 += aElutOffset;
00622                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00623         
00624                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
00625                         adr[1] = (jj &amp; bit_maske_selektor);
00626                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-1)*bit_breit_adr);
00627                         ein_reg[1] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00628 
00629                         jj=ein_Cache[2]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[2]);
00630                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
00631                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
00632                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00633                         ko0 += aElutOffset;
00634                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00635         
00636                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
00637                         adr[2] = (jj &amp; bit_maske_selektor);
00638                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-2-1)*bit_breit_adr);
00639                         ein_reg[2] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00640 
00641 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
00642 <span class="preprocessor"></span>                        jj=ein_Cache[3]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[3]);
00643                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
00644                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
00645                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00646                         ko0 += aElutOffset;
00647                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
00648         
00649                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
00650                         adr[3] = (jj &amp; bit_maske_selektor);
00651                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-3-1)*bit_breit_adr);
00652                         ein_reg[3] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00653 <span class="preprocessor">#endif  </span>
00654 <span class="preprocessor"></span>                adr0 *= <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>;
00655         
00656                 {                                                               <span class="comment">/* a kind of */</span>
00657                     <span class="keyword">register</span> <span class="keywordtype">long</span> <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00658                     
00659                         
00660                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = 0;
00661                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = 1;
00662                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = 2;
00663 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
00664 <span class="preprocessor"></span>                                <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = 3;
00665 <span class="preprocessor">#endif</span>
00666 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[0] &lt; adr[1] ){
00667                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
00668                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00669                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00670                                         }
00671 
00672                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[2] ){
00673                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00674                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
00675                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00676                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
00677                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
00678                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00679                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00680                                                 }
00681                                         }
00682 
00683 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
00684 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] &lt; adr[3] ){
00685                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
00686                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
00687                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00688                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] ){
00689                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00690                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
00691                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00692                                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
00693                                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
00694                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00695                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
00696                                                         }
00697                                                 }
00698                                         }
00699 <span class="preprocessor">#endif</span>
00700 <span class="preprocessor"></span>                }
00701         
00702                         accu[0]=0;
00703                         accu[1]=0;
00704                         accu[2]=0;
00705 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00706 <span class="preprocessor"></span>                        accu[3]=0;
00707 <span class="preprocessor">#endif</span>
00708 <span class="preprocessor"></span>        
00709                 ko0 = bit_maske_selektor+1;
00710                 adrAdr=adr0;
00711                 adrOffset=0;
00712         
00713                 <span class="keywordflow">if</span>( aXlutWordSize  == 16 ){
00714                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
00715                         ko = ko0 - adr[jj];
00716                         ko0 = adr[jj];
00717         
00718                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
00719                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
00720         
00721                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
00722                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
00723                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
00724 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00725 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
00726 <span class="preprocessor">#endif</span>
00727 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
00728 
00729                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00730                         ko = ko0 - adr[jj];
00731                         ko0 = adr[jj];
00732         
00733                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
00734                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
00735         
00736                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
00737                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
00738                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
00739 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00740 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
00741 <span class="preprocessor">#endif</span>
00742 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
00743 
00744                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
00745                         ko = ko0 - adr[jj];
00746                         ko0 = adr[jj];
00747         
00748                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
00749                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
00750         
00751                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
00752                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
00753                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
00754 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00755 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
00756 <span class="preprocessor">#endif</span>
00757 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
00758 
00759 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
00760 <span class="preprocessor"></span>                        jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
00761                         ko = ko0 - adr[jj];
00762                         ko0 = adr[jj];
00763         
00764                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
00765                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
00766         
00767                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
00768                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
00769                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
00770 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00771 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
00772 <span class="preprocessor">#endif</span>
00773 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
00774 <span class="preprocessor">#endif</span>
00775 <span class="preprocessor"></span>                accu[0]+=Xlut[adrAdr+0]*ko0;
00776                 accu[1]+=Xlut[adrAdr+1]*ko0;
00777                 accu[2]+=Xlut[adrAdr+2]*ko0;
00778 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00779 <span class="preprocessor"></span>                                accu[3]+=Xlut[adrAdr+3]*ko0;
00780 <span class="preprocessor">#endif</span>
00781 <span class="preprocessor"></span>                }
00782                 <span class="keywordflow">else</span>{
00783                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
00784                         ko = ko0 - adr[jj];
00785                         ko0 = adr[jj];
00786         
00787                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
00788                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
00789         
00790                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
00791                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
00792                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
00793 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00794 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
00795 <span class="preprocessor">#endif</span>
00796 <span class="preprocessor"></span>        
00797                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
00798 
00799                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
00800                         ko = ko0 - adr[jj];
00801                         ko0 = adr[jj];
00802         
00803                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
00804                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
00805         
00806                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
00807                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
00808                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
00809 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00810 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
00811 <span class="preprocessor">#endif</span>
00812 <span class="preprocessor"></span>        
00813                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
00814 
00815                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
00816                         ko = ko0 - adr[jj];
00817                         ko0 = adr[jj];
00818         
00819                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
00820                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
00821         
00822                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
00823                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
00824                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
00825 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00826 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
00827 <span class="preprocessor">#endif</span>
00828 <span class="preprocessor"></span>        
00829                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
00830 
00831 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
00832 <span class="preprocessor"></span>                        jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
00833                         ko = ko0 - adr[jj];
00834                         ko0 = adr[jj];
00835         
00836                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
00837                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
00838         
00839                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
00840                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
00841                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
00842 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00843 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
00844 <span class="preprocessor">#endif</span>
00845 <span class="preprocessor"></span>        
00846                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
00847 <span class="preprocessor">#endif</span>
00848 <span class="preprocessor"></span>                                accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+0]*ko0;
00849                 accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+1]*ko0;
00850                 accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+2]*ko0;
00851 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
00852 <span class="preprocessor"></span>                                accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+3]*ko0;
00853 <span class="preprocessor">#endif</span>
00854 <span class="preprocessor"></span>                }
00855         
00856                 aAlutOffset = 0;
00857         
00858                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
00859                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
00860                                         jj = accu[ii];
00861                                         jj = jj + ( jj &gt;&gt; aXlutWordSize );
00862 
00863                                         ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder;     <span class="comment">/*      aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
00864 
00865                                         ko = ko0 &amp; (aAlutInShiftNum - 1 );
00866                                         ko0 = ko0 &gt;&gt; aAlutInShift;
00867                                         ko0 += aAlutOffset;
00868                                         <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
00869                                         jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &gt;&gt; ( aAlutInShift );
00870                                         <span class="keywordflow">else</span>{
00871                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko );
00872                                                 jj = jj - ( jj &gt;&gt; aAlutShift );
00873                                                 jj = ( jj + aAlutRound ) &gt;&gt; (aAlutInShift + aAlutShift);
00874                                         }
00875 
00876                                         *outputData[ii] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>)jj;
00877                         aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
00878                     }
00879                 }
00880                 <span class="keywordflow">else</span>{
00881                                 <span class="keywordflow">if</span>( aXlutWordSize &gt;= 16 ){
00882                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
00883                                                 jj = accu[ii];
00884                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize );
00885                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder; <span class="comment">/*  aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
00886                 
00887                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
00888                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
00889                                                 ko0 += aAlutOffset;
00890                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
00891                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
00892                                                 <span class="keywordflow">else</span>
00893                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
00894                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00895                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
00896                                         }
00897                                 }
00898                                 <span class="keywordflow">else</span>{
00899                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
00900                                                 jj = accu[ii];
00901                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize ) + ( jj &gt;&gt; 2*aXlutWordSize );
00902                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))); <span class="comment">/*   aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
00903                 
00904                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
00905                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
00906                                                 ko0 += aAlutOffset;
00907                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
00908                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
00909                                                 <span class="keywordflow">else</span>
00910                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
00911                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
00912                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
00913                                         }
00914                                 }
00915                 }
00916         
00917                         <span class="keywordflow">while</span> (--i){
00918                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
00919                                         inputData[jj] += (<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> * 2);
00920                                 }
00921                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
00922                                         outputData[jj] += OutputIncrement;
00923                                 }
00924         
00925                                 {
00926                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
00927                                                 <span class="keywordflow">if</span>( *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[jj]) ^ ein_Cache[jj] )<span class="keywordflow">break</span>;
00928                                         }
00929                                 }
00930                                 <span class="keywordflow">if</span>( jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> ) <span class="keywordflow">break</span>;
00931                                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
00932                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
00933                                                 *outputData[jj] = outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> )];
00934                                         }
00935                                 }
00936                                 <span class="keywordflow">else</span>{
00937                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
00938                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[jj]) = *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)(&amp;outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> * 2)]);
00939                                         }
00940                                 }
00941                         }
00942                 }
00943                 
00944                 <span class="keywordflow">if</span>( --LineCount ){
00945                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
00946                                 inputData[jj] += inputDataRowOffset;
00947                         }
00948                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
00949                                 outputData[jj] += outputDataRowOffset;
00950                         }
00951                 }
00952     }
00953     }
00954 
00955         <span class="comment">/* UNLOCK_DATA( aElutHdle ); */</span>
00956         <span class="comment">/* UNLOCK_DATA( aAlutHdle ); */</span>
00957         <span class="comment">/* UNLOCK_DATA( aXlutHdle ); */</span>
00958 
00959         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a2">LH_END_PROC</a>(<span class="stringliteral">"Calc323Dim_Data8To8_Lut16"</span>)
00960         <span class="keywordflow">return</span> <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
00961 }
00962 
00963 <span class="preprocessor">#undef NDIM_IN_DIM</span>
00964 <span class="preprocessor"></span><span class="preprocessor">#undef NDIM_OUT_DIM</span>
00965 <span class="preprocessor"></span><span class="preprocessor">#undef aElutShift</span>
00966 <span class="preprocessor"></span><span class="preprocessor">#undef aElutShiftNum</span>
00967 <span class="preprocessor"></span><span class="preprocessor">#define NDIM_IN_DIM 3</span>
00968 <span class="preprocessor"></span><span class="preprocessor">#define NDIM_OUT_DIM 4</span>
00969 <span class="preprocessor"></span><span class="preprocessor">#define aElutShift (16-adr_breite_elut)</span>
00970 <span class="preprocessor"></span><span class="preprocessor">#define aElutShiftNum (1&lt;&lt;aElutShift)</span>
00971 <span class="preprocessor"></span>
<a name="l00972"></a><a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a21">00972</a> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a11">CMError</a> <a class="code" href="../../d9/d3/w98_2lh__core_2calcndim_8c.html#a6">Calc324Dim_Data8To8_Lut16</a>       (<a class="code" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam,
00973                                                                          <a class="code" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a>  lutParam)
00974         
00975 {
00976         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> * inputData[8], *outputData[8];
00977         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a> OutputIncrement, inputDataRowOffset, outputDataRowOffset, Pixelcount, LineCount;
00978         <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> adr0;
00979     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ko0;
00980     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> accu[8];
00981     <span class="keyword">register</span> <span class="keywordtype">long</span> i;
00982     <span class="comment">/*long Offsets[8];*/</span>
00983     
00984     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutShift,aElutOffset,aAlutOffset;
00985     <span class="keyword">register</span> <span class="keywordtype">long</span> aElutWordSize;
00986     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutWordSize;
00987     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutAdrSize;
00988     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutAdrShift;
00989     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aXlutWordSize;
00990         <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ii,jj;
00991     <span class="keyword">register</span> <span class="keywordtype">long</span> aOutputPackMode8Bit;
00992         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> ein_Cache[8];
00993         
00994         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * aus_lut     = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o5">outputLut</a>;
00995         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * ein_lut     = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o2">inputLut</a>;
00996         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * Xlut        = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o10">colorLut</a>;
00997         
00998 <span class="preprocessor">        #ifdef DEBUG_OUTPUT</span>
00999 <span class="preprocessor"></span>        <span class="keywordtype">long</span> err = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
01000 <span class="preprocessor">        #endif</span>
01001 <span class="preprocessor"></span>        <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a1">LH_START_PROC</a>(<span class="stringliteral">"Calc324Dim_Data8To8_Lut16"</span>)
01002         
01003         inputData[0] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[0];
01004         inputData[1] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[1];
01005         inputData[2] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[2];
01006 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
01007 <span class="preprocessor"></span>        inputData[3] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[3];
01008 <span class="preprocessor">#endif</span>
01009 <span class="preprocessor"></span>        outputData[0] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[0];
01010         outputData[1] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[1];
01011         outputData[2] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[2];
01012 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01013 <span class="preprocessor"></span>        outputData[3] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[3];
01014 <span class="preprocessor">#endif</span>
01015 <span class="preprocessor"></span>
01016         OutputIncrement = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o7">cmOutputPixelOffset</a>;
01017         inputDataRowOffset = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o4">cmInputBytesPerLine</a> - calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o2">cmPixelPerLine</a> * calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o6">cmInputPixelOffset</a> + (<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> * 2);
01018         outputDataRowOffset = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o5">cmOutputBytesPerLine</a> - calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o2">cmPixelPerLine</a> * calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o7">cmOutputPixelOffset</a> + OutputIncrement;
01019 
01020         Pixelcount = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o2">cmPixelPerLine</a>;
01021         LineCount = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a>;
01022 
01023         aElutWordSize = lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o1">inputLutWordSize</a>;
01024         aAlutWordSize = lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o4">outputLutWordSize</a>;
01025         aXlutAdrSize = lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o8">colorLutGridPoints</a>;
01026         <span class="keywordflow">for</span> ( i = 1; (i &lt; 32) &amp;&amp; (aXlutAdrSize &gt;&gt; i); i++)
01027                 aXlutAdrShift = i;
01028         aXlutWordSize = lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o9">colorLutWordSize</a>;
01029 
01030         aOutputPackMode8Bit = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o1">cmOutputColorSpace</a> &amp; <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a150a51">cm8PerChannelPacking</a> || calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o1">cmOutputColorSpace</a> &amp; <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a150a46">cmLong8ColorPacking</a>;
01031    <span class="comment">/*DebugPrint("DoNDim with %d input elements\n",aByteCount);*/</span>
01032 <span class="preprocessor">        #if FARBR_FILES</span>
01033 <span class="preprocessor"></span>        WriteLuts(      <span class="stringliteral">"DoNDim"</span>,1,<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>,aElutWordSize,ein_lut,
01034                                 <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>,<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>,aXlutAdrSize,aXlutWordSize,(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)Xlut,<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>,aAlutWordSize,(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)aus_lut);
01035 <span class="preprocessor">    #endif</span>
01036 <span class="preprocessor"></span>
01037         i=0;
01038                                         
01039         {
01040                 <span class="keywordflow">if</span>( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a> &lt; 0 )
01041                 {
01042 <span class="preprocessor">                        #ifdef DEBUG_OUTPUT</span>
01043 <span class="preprocessor"></span>                        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: aElutShift &lt; 0 (aElutShift = %d)\n"</span>,<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>);
01044 <span class="preprocessor">                        #endif</span>
01045 <span class="preprocessor"></span>                        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
01046                 }
01047         }
01048         
01049         <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
01050                 aAlutShift = (aAlutWordSize-8);         
01051         }
01052         <span class="keywordflow">else</span>{
01053                 aAlutShift = (16 - aAlutWordSize);              
01054         }
01055         
01056 <span class="preprocessor">        #ifdef DEBUG_OUTPUT</span>
01057 <span class="preprocessor"></span>                <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugReserved1) ){
01058                     <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aElutAdrSize=%lx,aElutAdrShift=%lx,aElutWordSize=%lx,ein_lut=%lx,\n"</span>,
01059                                                 <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>,<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a>,aElutWordSize,ein_lut);
01060                         <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aAlutAdrSize=%lx,aAlutAdrShift=%lx,aAlutWordSize=%lx,aus_lut=%lx,\n"</span>,
01061                                                 <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>,<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a>,aAlutWordSize,aus_lut);
01062                         <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aXlutInDim=%lx,aXlutOutDim=%lx,aXlutAdrSize=%lx,aXlutAdrShift=%lx,aXlutWordSize=%lx,Xlut=%lx,\n"</span>,
01063                                                 <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>,<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>,aXlutAdrSize,aXlutAdrShift,aXlutWordSize,Xlut);
01064                 }
01065 <span class="preprocessor">    #endif</span>
01066 <span class="preprocessor"></span>    
01067     <span class="comment">/*if( 1 )*/</span>
01068     <span class="keywordflow">if</span>( aXlutAdrSize != (1&lt;&lt;aXlutAdrShift )){
01069     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutOffset;
01070     <span class="keywordtype">long</span> theXlutOffsets[8]; 
01071     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutInShift;
01072     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShiftRemainder;
01073     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutInShiftNum;
01074     <span class="keyword">register</span> <span class="keywordtype">long</span> aElutWordSizeMask = (1&lt;&lt;aElutWordSize) - 1;
01075     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutRound;
01076    aAlutInShift = aXlutWordSize + aElutWordSize - <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a>;
01077     aAlutInShiftRemainder = 0;
01078     <span class="keywordflow">if</span>( aAlutInShift &gt; 16 ){
01079         aAlutInShiftRemainder = aAlutInShift - 16;
01080         aAlutInShift = 16;
01081     }
01082     aAlutInShiftNum = (1&lt;&lt;aAlutInShift);
01083 
01084 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
01085 <span class="preprocessor"></span>        <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugMiscInfo) )
01086             <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"  DoNDim gripoints = %ld\n"</span>,aXlutAdrSize);
01087 <span class="preprocessor">#endif</span>
01088 <span class="preprocessor"></span>    <span class="keywordflow">if</span>( aElutWordSize &lt;= 0 ){
01089 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
01090 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: (1&lt;&lt;aElutWordSize)/aXlutAdrSize &lt;= 0 %d\n"</span>,(1&lt;&lt;aElutWordSize)/aXlutAdrSize);
01091 <span class="preprocessor">#endif</span>
01092 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
01093     }
01094     <span class="keywordflow">if</span>( aAlutInShift &lt;= 0 ){
01095 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
01096 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: aAlutInShift &lt;= 0 %d\n"</span>,aAlutInShift);
01097 <span class="preprocessor">#endif</span>
01098 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
01099     }
01100     aXlutOffset =<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>;
01101     <span class="keywordflow">for</span>( i=0; i&lt;(<span class="keywordtype">long</span>)<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; i++){
01102         theXlutOffsets[ <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-i] = aXlutOffset;
01103         aXlutOffset *=aXlutAdrSize;
01104     }
01105         aAlutRound = 1&lt;&lt;( aAlutInShift + aAlutShift - 1 );
01106 
01107 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
01108 <span class="preprocessor"></span>        <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugReserved1) )
01109             <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">" aElutWordSize((1&lt;&lt;aElutWordSize)-0) = %ld\n aAlutInShift:((1&lt;&lt;aXlutWordSize)*aElutWordSize+(adr_bereich_alut/2))/adr_bereich_alut = %ld\n"</span>,aElutWordSize,aAlutInShift);
01110 <span class="preprocessor">#endif</span>
01111 <span class="preprocessor"></span>    
01112         <span class="keywordflow">while</span> (LineCount){
01113                 i = Pixelcount;
01114                 
01115                 <span class="keywordflow">while</span> (i){
01116         
01117                 <span class="keywordtype">long</span> adr[8],<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[8];
01118                 <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> ein_reg[8];
01119                 <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  adrAdr,ko,adrOffset;
01120         
01121                 adr0=0;
01122                         aElutOffset = 0;
01123                         jj=0;
01124                         
01125                                 jj=ein_Cache[0]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[0]);
01126                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
01127                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
01128                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01129                                         ko0 += aElutOffset;
01130                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01131         
01132                                 jj *= aXlutAdrSize;
01133                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
01134                                 adr[0] = jj &amp; aElutWordSizeMask;
01135                                 jj = jj &gt;&gt; aElutWordSize;
01136                                 adr0 += (jj)*theXlutOffsets[0];
01137                                 ein_reg[0] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
01138 
01139                                 jj=ein_Cache[1]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[1]);
01140                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
01141                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
01142                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01143                                         ko0 += aElutOffset;
01144                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01145         
01146                                 jj *= aXlutAdrSize;
01147                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
01148                                 adr[1] = jj &amp; aElutWordSizeMask;
01149                                 jj = jj &gt;&gt; aElutWordSize;
01150                                 adr0 += (jj)*theXlutOffsets[1];
01151                                 ein_reg[1] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
01152 
01153                                         jj=ein_Cache[2]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[2]);
01154                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
01155                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
01156                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01157                                         ko0 += aElutOffset;
01158                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01159         
01160                                 jj *= aXlutAdrSize;
01161                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
01162                                 adr[2] = jj &amp; aElutWordSizeMask;
01163                                 jj = jj &gt;&gt; aElutWordSize;
01164                                 adr0 += (jj)*theXlutOffsets[2];
01165                                 ein_reg[2] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
01166 
01167 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
01168 <span class="preprocessor"></span>                                        jj=ein_Cache[3]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[3]);
01169                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
01170                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
01171                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01172                                         ko0 += aElutOffset;
01173                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01174         
01175                                 jj *= aXlutAdrSize;
01176                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
01177                                 adr[3] = jj &amp; aElutWordSizeMask;
01178                                 jj = jj &gt;&gt; aElutWordSize;
01179                                 adr0 += (jj)*theXlutOffsets[3];
01180                                 ein_reg[3] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
01181 <span class="preprocessor">#endif</span>
01182 <span class="preprocessor"></span>                
01183         
01184 
01185                 {                                                               <span class="comment">/* a kind of */</span>
01186                     <span class="keyword">register</span> <span class="keywordtype">long</span> <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01187                     
01188                         
01189                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = 0;
01190                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = 1;
01191                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = 2;
01192 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
01193 <span class="preprocessor"></span>                                <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = 3;
01194 <span class="preprocessor">#endif</span>
01195 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[0] &lt; adr[1] ){
01196                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
01197                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01198                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01199                                         }
01200 
01201                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[2] ){
01202                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01203                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
01204                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01205                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
01206                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
01207                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01208                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01209                                                 }
01210                                         }
01211 
01212 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
01213 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] &lt; adr[3] ){
01214                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
01215                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
01216                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01217                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] ){
01218                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01219                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
01220                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01221                                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
01222                                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
01223                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01224                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01225                                                         }
01226                                                 }
01227                                         }
01228 <span class="preprocessor">#endif</span>
01229 <span class="preprocessor"></span>                }
01230 
01231         accu[0]=0;
01232         accu[1]=0;
01233         accu[2]=0;
01234 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01235 <span class="preprocessor"></span>        accu[3]=0;
01236 <span class="preprocessor">#endif</span>
01237 <span class="preprocessor"></span>        ko0 = (1&lt;&lt;aElutWordSize);
01238         adrAdr=adr0;
01239         adrOffset=0;
01240         <span class="keywordflow">if</span>( aXlutWordSize  == 16 ){
01241                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
01242                 ko = ko0 - adr[jj];
01243                 ko0 = adr[jj];
01244 
01245                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
01246                     adrOffset += theXlutOffsets[jj];
01247 
01248                     accu[0]+=Xlut[adrAdr+(0)]*ko;
01249                     accu[1]+=Xlut[adrAdr+(1)]*ko;
01250                     accu[2]+=Xlut[adrAdr+(2)]*ko;
01251 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01252 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
01253 <span class="preprocessor">#endif</span>
01254 <span class="preprocessor"></span>
01255                 adrAdr = (adr0 + adrOffset);
01256 
01257                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01258                 ko = ko0 - adr[jj];
01259                 ko0 = adr[jj];
01260 
01261                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
01262                     adrOffset += theXlutOffsets[jj];
01263 
01264                     accu[0]+=Xlut[adrAdr+(0)]*ko;
01265                     accu[1]+=Xlut[adrAdr+(1)]*ko;
01266                     accu[2]+=Xlut[adrAdr+(2)]*ko;
01267 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01268 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
01269 <span class="preprocessor">#endif</span>
01270 <span class="preprocessor"></span>
01271                 adrAdr = (adr0 + adrOffset);
01272 
01273                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
01274                 ko = ko0 - adr[jj];
01275                 ko0 = adr[jj];
01276 
01277                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
01278                     adrOffset += theXlutOffsets[jj];
01279 
01280                     accu[0]+=Xlut[adrAdr+(0)]*ko;
01281                     accu[1]+=Xlut[adrAdr+(1)]*ko;
01282                     accu[2]+=Xlut[adrAdr+(2)]*ko;
01283 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01284 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
01285 <span class="preprocessor">#endif</span>
01286 <span class="preprocessor"></span>
01287                 adrAdr = (adr0 + adrOffset);
01288 
01289 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
01290 <span class="preprocessor"></span>                jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
01291                 ko = ko0 - adr[jj];
01292                 ko0 = adr[jj];
01293 
01294                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
01295                     adrOffset += theXlutOffsets[jj];
01296 
01297                     accu[0]+=Xlut[adrAdr+(0)]*ko;
01298                     accu[1]+=Xlut[adrAdr+(1)]*ko;
01299                     accu[2]+=Xlut[adrAdr+(2)]*ko;
01300 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01301 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
01302 <span class="preprocessor">#endif</span>
01303 <span class="preprocessor"></span>
01304                 adrAdr = (adr0 + adrOffset);
01305 <span class="preprocessor">#endif</span>
01306 <span class="preprocessor"></span>
01307                 accu[0]+=Xlut[adrAdr+0]*ko0;
01308                 accu[1]+=Xlut[adrAdr+1]*ko0;
01309                 accu[2]+=Xlut[adrAdr+2]*ko0;
01310 <span class="preprocessor"> #if NDIM_OUT_DIM == 4</span>
01311 <span class="preprocessor"></span>               accu[3]+=Xlut[adrAdr+3]*ko0;
01312 <span class="preprocessor"> #endif</span>
01313 <span class="preprocessor"></span>       }
01314        <span class="keywordflow">else</span>{
01315 
01316                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
01317                 ko = ko0 - adr[jj];
01318                 ko0 = adr[jj];
01319 
01320                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
01321                     adrOffset += theXlutOffsets[jj];
01322 
01323                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
01324                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
01325                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
01326 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01327 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
01328 <span class="preprocessor">#endif</span>
01329 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
01330 
01331                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01332                 ko = ko0 - adr[jj];
01333                 ko0 = adr[jj];
01334 
01335                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
01336                     adrOffset += theXlutOffsets[jj];
01337 
01338                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
01339                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
01340                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
01341 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01342 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
01343 <span class="preprocessor">#endif</span>
01344 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
01345 
01346                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
01347                 ko = ko0 - adr[jj];
01348                 ko0 = adr[jj];
01349 
01350                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
01351                     adrOffset += theXlutOffsets[jj];
01352 
01353                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
01354                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
01355                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
01356 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01357 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
01358 <span class="preprocessor">#endif</span>
01359 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
01360 
01361 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
01362 <span class="preprocessor"></span>                jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
01363                 ko = ko0 - adr[jj];
01364                 ko0 = adr[jj];
01365 
01366                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
01367                     adrOffset += theXlutOffsets[jj];
01368 
01369                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
01370                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
01371                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
01372 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01373 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
01374 <span class="preprocessor">#endif</span>
01375 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
01376 <span class="preprocessor">#endif</span>
01377 <span class="preprocessor"></span>                accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+0]*ko0;
01378                 accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+1]*ko0;
01379                 accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+2]*ko0;
01380 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01381 <span class="preprocessor"></span>               accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+3]*ko0;
01382 <span class="preprocessor">#endif</span>
01383 <span class="preprocessor"></span>        }
01384 
01385                 aAlutOffset = 0;
01386 
01387                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
01388                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
01389                                         jj = accu[ii];
01390                                         jj = jj + ( jj &gt;&gt; aXlutWordSize );
01391 
01392                                         ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder;     <span class="comment">/*      aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
01393 
01394                                         ko = ko0 &amp; (aAlutInShiftNum - 1 );
01395                                         ko0 = ko0 &gt;&gt; aAlutInShift;
01396                                         ko0 += aAlutOffset;
01397                                         <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
01398                                         jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &gt;&gt; ( aAlutInShift );
01399                                         <span class="keywordflow">else</span>{
01400                                         jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko );
01401                                                 jj = jj - ( jj &gt;&gt; aAlutShift );
01402                                                 jj = ( jj + aAlutRound ) &gt;&gt; (aAlutInShift + aAlutShift);
01403                                         }
01404                                         *outputData[ii] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>)jj;
01405                         aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
01406                     }
01407                         }
01408                         <span class="keywordflow">else</span>{
01409                                 <span class="keywordflow">if</span>( aXlutWordSize &gt;= 16 ){
01410                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
01411                                                 jj = accu[ii];
01412                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize );
01413                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder; <span class="comment">/*  aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
01414                 
01415                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
01416                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
01417                                                 ko0 += aAlutOffset;
01418                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
01419                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
01420                                                 <span class="keywordflow">else</span>
01421                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
01422                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
01423                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
01424                                         }
01425                                 }
01426                                 <span class="keywordflow">else</span>{
01427                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
01428                                                 jj = accu[ii];
01429                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize ) + ( jj &gt;&gt; 2*aXlutWordSize );
01430                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) ; <span class="comment">/*  aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
01431                 
01432                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
01433                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
01434                                                 ko0 += aAlutOffset;
01435                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
01436                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
01437                                                 <span class="keywordflow">else</span>
01438                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
01439                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
01440                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
01441                                         }
01442                                 }
01443                         }
01444                         <span class="keywordflow">while</span> (--i){
01445                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
01446                                         inputData[jj] += (<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> * 2);
01447                                 }
01448                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
01449                                         outputData[jj] += OutputIncrement;
01450                                 }
01451         
01452                                 {
01453                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
01454                                                 <span class="keywordflow">if</span>( *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[jj]) ^ ein_Cache[jj] )<span class="keywordflow">break</span>;
01455                                         }
01456                                 }
01457                                 <span class="keywordflow">if</span>( jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> ) <span class="keywordflow">break</span>;
01458                                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
01459                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
01460                                                 *outputData[jj] = outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> )];
01461                                         }
01462                                 }
01463                                 <span class="keywordflow">else</span>{
01464                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
01465                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[jj]) = *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)(&amp;outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> * 2)]);
01466                                         }
01467                                 }
01468                         }
01469                 }
01470                 
01471                 <span class="keywordflow">if</span>( --LineCount ){
01472                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
01473                                 inputData[jj] += inputDataRowOffset;
01474                         }
01475                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
01476                                 outputData[jj] += outputDataRowOffset;
01477                         }
01478                 }
01479     }
01480     }
01481     <span class="keywordflow">else</span>{
01482 
01483     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_breit_selektor;
01484     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_maske_selektor;
01485     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_breit_adr;
01486     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_maske_adr;
01487     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  aAlutInShiftNum;
01488     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShift;
01489     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShiftRemainder;
01490     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutRound;
01491     <span class="comment">/*register long aXlutPlaneShift = aXlutAdrShift*aXlutInDim;*/</span>
01492     bit_breit_selektor=aElutWordSize-aXlutAdrShift;
01493     <span class="keywordflow">if</span>( aElutWordSize-aXlutAdrShift &lt; 0 )
01494     {
01495 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
01496 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: bit_breit_selektor &lt; 0 (bit_breit_selektor = %d)\n"</span>,bit_breit_selektor);
01497 <span class="preprocessor">#endif</span>
01498 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
01499     }
01500     bit_maske_selektor=(1&lt;&lt;bit_breit_selektor)-1;
01501     bit_breit_adr=aXlutAdrShift;
01502     bit_maske_adr=((1&lt;&lt;bit_breit_adr)-1)&lt;&lt;bit_breit_selektor;
01503     aAlutInShift = (aXlutWordSize+bit_breit_selektor-<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a>);
01504     <span class="comment">/*aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
01505     aAlutInShiftRemainder = 0;
01506     <span class="keywordflow">if</span>( aAlutInShift &gt; 16 ){
01507         aAlutInShiftRemainder = aAlutInShift - 16;
01508         aAlutInShift = 16;
01509     }
01510         
01511     aAlutInShiftNum = (1&lt;&lt;aAlutInShift);
01512     
01513         aAlutRound = 1&lt;&lt;( aAlutInShift + aAlutShift - 1 );
01514         <span class="keywordflow">while</span> (LineCount){
01515                 i = Pixelcount;
01516                 
01517                 <span class="keywordflow">while</span> (i){
01518         
01519                 <span class="keywordtype">long</span> adr[8],<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[8];
01520                 <span class="comment">/*LH_UINT16 *ein_lut = (LH_UINT16 *)ein_lut;*/</span>
01521                 <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> ein_reg[8];
01522                    <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  adrAdr,ko,adrOffset;
01523                 <span class="comment">/*register unsigned long aIndex;*/</span>
01524         
01525                 adr0=0;
01526                 aElutOffset = 0;
01527                 jj=0;
01528                         jj=ein_Cache[0]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[0]);
01529                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
01530                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
01531                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01532                         ko0 += aElutOffset;
01533                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01534         
01535                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
01536                         adr[0] = (jj &amp; bit_maske_selektor);
01537                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-0-1)*bit_breit_adr);
01538                         ein_reg[0] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
01539 
01540                         jj=ein_Cache[1]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[1]);
01541                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
01542                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
01543                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01544                         ko0 += aElutOffset;
01545                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01546         
01547                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
01548                         adr[1] = (jj &amp; bit_maske_selektor);
01549                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-1)*bit_breit_adr);
01550                         ein_reg[1] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
01551 
01552                         jj=ein_Cache[2]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[2]);
01553                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
01554                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
01555                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01556                         ko0 += aElutOffset;
01557                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01558         
01559                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
01560                         adr[2] = (jj &amp; bit_maske_selektor);
01561                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-2-1)*bit_breit_adr);
01562                         ein_reg[2] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
01563 
01564 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
01565 <span class="preprocessor"></span>                        jj=ein_Cache[3]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[3]);
01566                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
01567                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
01568                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01569                         ko0 += aElutOffset;
01570                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
01571         
01572                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
01573                         adr[3] = (jj &amp; bit_maske_selektor);
01574                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-3-1)*bit_breit_adr);
01575                         ein_reg[3] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
01576 <span class="preprocessor">#endif  </span>
01577 <span class="preprocessor"></span>                adr0 *= <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>;
01578         
01579                 {                                                               <span class="comment">/* a kind of */</span>
01580                     <span class="keyword">register</span> <span class="keywordtype">long</span> <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01581                     
01582                         
01583                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = 0;
01584                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = 1;
01585                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = 2;
01586 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
01587 <span class="preprocessor"></span>                                <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = 3;
01588 <span class="preprocessor">#endif</span>
01589 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[0] &lt; adr[1] ){
01590                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
01591                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01592                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01593                                         }
01594 
01595                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[2] ){
01596                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01597                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
01598                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01599                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
01600                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
01601                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01602                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01603                                                 }
01604                                         }
01605 
01606 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
01607 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] &lt; adr[3] ){
01608                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
01609                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
01610                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01611                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] ){
01612                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01613                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
01614                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01615                                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
01616                                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
01617                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01618                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
01619                                                         }
01620                                                 }
01621                                         }
01622 <span class="preprocessor">#endif</span>
01623 <span class="preprocessor"></span>                }
01624         
01625                         accu[0]=0;
01626                         accu[1]=0;
01627                         accu[2]=0;
01628 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01629 <span class="preprocessor"></span>                        accu[3]=0;
01630 <span class="preprocessor">#endif</span>
01631 <span class="preprocessor"></span>        
01632                 ko0 = bit_maske_selektor+1;
01633                 adrAdr=adr0;
01634                 adrOffset=0;
01635         
01636                 <span class="keywordflow">if</span>( aXlutWordSize  == 16 ){
01637                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
01638                         ko = ko0 - adr[jj];
01639                         ko0 = adr[jj];
01640         
01641                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
01642                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
01643         
01644                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
01645                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
01646                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
01647 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01648 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
01649 <span class="preprocessor">#endif</span>
01650 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
01651 
01652                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01653                         ko = ko0 - adr[jj];
01654                         ko0 = adr[jj];
01655         
01656                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
01657                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
01658         
01659                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
01660                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
01661                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
01662 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01663 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
01664 <span class="preprocessor">#endif</span>
01665 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
01666 
01667                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
01668                         ko = ko0 - adr[jj];
01669                         ko0 = adr[jj];
01670         
01671                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
01672                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
01673         
01674                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
01675                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
01676                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
01677 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01678 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
01679 <span class="preprocessor">#endif</span>
01680 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
01681 
01682 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
01683 <span class="preprocessor"></span>                        jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
01684                         ko = ko0 - adr[jj];
01685                         ko0 = adr[jj];
01686         
01687                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
01688                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
01689         
01690                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
01691                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
01692                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
01693 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01694 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
01695 <span class="preprocessor">#endif</span>
01696 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
01697 <span class="preprocessor">#endif</span>
01698 <span class="preprocessor"></span>                accu[0]+=Xlut[adrAdr+0]*ko0;
01699                 accu[1]+=Xlut[adrAdr+1]*ko0;
01700                 accu[2]+=Xlut[adrAdr+2]*ko0;
01701 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01702 <span class="preprocessor"></span>                                accu[3]+=Xlut[adrAdr+3]*ko0;
01703 <span class="preprocessor">#endif</span>
01704 <span class="preprocessor"></span>                }
01705                 <span class="keywordflow">else</span>{
01706                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
01707                         ko = ko0 - adr[jj];
01708                         ko0 = adr[jj];
01709         
01710                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
01711                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
01712         
01713                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
01714                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
01715                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
01716 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01717 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
01718 <span class="preprocessor">#endif</span>
01719 <span class="preprocessor"></span>        
01720                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
01721 
01722                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
01723                         ko = ko0 - adr[jj];
01724                         ko0 = adr[jj];
01725         
01726                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
01727                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
01728         
01729                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
01730                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
01731                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
01732 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01733 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
01734 <span class="preprocessor">#endif</span>
01735 <span class="preprocessor"></span>        
01736                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
01737 
01738                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
01739                         ko = ko0 - adr[jj];
01740                         ko0 = adr[jj];
01741         
01742                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
01743                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
01744         
01745                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
01746                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
01747                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
01748 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01749 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
01750 <span class="preprocessor">#endif</span>
01751 <span class="preprocessor"></span>        
01752                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
01753 
01754 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
01755 <span class="preprocessor"></span>                        jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
01756                         ko = ko0 - adr[jj];
01757                         ko0 = adr[jj];
01758         
01759                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
01760                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
01761         
01762                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
01763                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
01764                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
01765 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01766 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
01767 <span class="preprocessor">#endif</span>
01768 <span class="preprocessor"></span>        
01769                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
01770 <span class="preprocessor">#endif</span>
01771 <span class="preprocessor"></span>                                accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+0]*ko0;
01772                 accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+1]*ko0;
01773                 accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+2]*ko0;
01774 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01775 <span class="preprocessor"></span>                                accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+3]*ko0;
01776 <span class="preprocessor">#endif</span>
01777 <span class="preprocessor"></span>                }
01778         
01779                 aAlutOffset = 0;
01780         
01781                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
01782                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
01783                                         jj = accu[ii];
01784                                         jj = jj + ( jj &gt;&gt; aXlutWordSize );
01785 
01786                                         ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder;     <span class="comment">/*      aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
01787 
01788                                         ko = ko0 &amp; (aAlutInShiftNum - 1 );
01789                                         ko0 = ko0 &gt;&gt; aAlutInShift;
01790                                         ko0 += aAlutOffset;
01791                                         <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
01792                                         jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &gt;&gt; ( aAlutInShift );
01793                                         <span class="keywordflow">else</span>{
01794                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko );
01795                                                 jj = jj - ( jj &gt;&gt; aAlutShift );
01796                                                 jj = ( jj + aAlutRound ) &gt;&gt; (aAlutInShift + aAlutShift);
01797                                         }
01798 
01799                                         *outputData[ii] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>)jj;
01800                         aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
01801                     }
01802                 }
01803                 <span class="keywordflow">else</span>{
01804                                 <span class="keywordflow">if</span>( aXlutWordSize &gt;= 16 ){
01805                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
01806                                                 jj = accu[ii];
01807                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize );
01808                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder; <span class="comment">/*  aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
01809                 
01810                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
01811                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
01812                                                 ko0 += aAlutOffset;
01813                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
01814                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
01815                                                 <span class="keywordflow">else</span>
01816                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
01817                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
01818                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
01819                                         }
01820                                 }
01821                                 <span class="keywordflow">else</span>{
01822                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
01823                                                 jj = accu[ii];
01824                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize ) + ( jj &gt;&gt; 2*aXlutWordSize );
01825                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))); <span class="comment">/*   aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
01826                 
01827                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
01828                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
01829                                                 ko0 += aAlutOffset;
01830                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
01831                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
01832                                                 <span class="keywordflow">else</span>
01833                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
01834                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
01835                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
01836                                         }
01837                                 }
01838                 }
01839         
01840                         <span class="keywordflow">while</span> (--i){
01841                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
01842                                         inputData[jj] += (<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> * 2);
01843                                 }
01844                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
01845                                         outputData[jj] += OutputIncrement;
01846                                 }
01847         
01848                                 {
01849                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
01850                                                 <span class="keywordflow">if</span>( *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[jj]) ^ ein_Cache[jj] )<span class="keywordflow">break</span>;
01851                                         }
01852                                 }
01853                                 <span class="keywordflow">if</span>( jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> ) <span class="keywordflow">break</span>;
01854                                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
01855                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
01856                                                 *outputData[jj] = outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> )];
01857                                         }
01858                                 }
01859                                 <span class="keywordflow">else</span>{
01860                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
01861                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[jj]) = *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)(&amp;outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> * 2)]);
01862                                         }
01863                                 }
01864                         }
01865                 }
01866                 
01867                 <span class="keywordflow">if</span>( --LineCount ){
01868                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
01869                                 inputData[jj] += inputDataRowOffset;
01870                         }
01871                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
01872                                 outputData[jj] += outputDataRowOffset;
01873                         }
01874                 }
01875     }
01876     }
01877 
01878         <span class="comment">/* UNLOCK_DATA( aElutHdle ); */</span>
01879         <span class="comment">/* UNLOCK_DATA( aAlutHdle ); */</span>
01880         <span class="comment">/* UNLOCK_DATA( aXlutHdle ); */</span>
01881 
01882         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a2">LH_END_PROC</a>(<span class="stringliteral">"Calc324Dim_Data8To8_Lut16"</span>)
01883         <span class="keywordflow">return</span> <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
01884 }
01885 
01886 <span class="preprocessor">#undef NDIM_IN_DIM</span>
01887 <span class="preprocessor"></span><span class="preprocessor">#undef NDIM_OUT_DIM</span>
01888 <span class="preprocessor"></span><span class="preprocessor">#undef aElutShift</span>
01889 <span class="preprocessor"></span><span class="preprocessor">#undef aElutShiftNum</span>
01890 <span class="preprocessor"></span><span class="preprocessor">#define NDIM_IN_DIM 4</span>
01891 <span class="preprocessor"></span><span class="preprocessor">#define NDIM_OUT_DIM 3</span>
01892 <span class="preprocessor"></span><span class="preprocessor">#define aElutShift (16-adr_breite_elut)</span>
01893 <span class="preprocessor"></span><span class="preprocessor">#define aElutShiftNum (1&lt;&lt;aElutShift)</span>
01894 <span class="preprocessor"></span>
<a name="l01895"></a><a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a22">01895</a> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a11">CMError</a> <a class="code" href="../../d9/d3/w98_2lh__core_2calcndim_8c.html#a7">Calc423Dim_Data8To8_Lut16</a>       (<a class="code" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam,
01896                                                                          <a class="code" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a>  lutParam)
01897         
01898 {
01899         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> * inputData[8], *outputData[8];
01900         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a> OutputIncrement, inputDataRowOffset, outputDataRowOffset, Pixelcount, LineCount;
01901         <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> adr0;
01902     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ko0;
01903     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> accu[8];
01904     <span class="keyword">register</span> <span class="keywordtype">long</span> i;
01905     <span class="comment">/*long Offsets[8];*/</span>
01906     
01907     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutShift,aElutOffset,aAlutOffset;
01908     <span class="keyword">register</span> <span class="keywordtype">long</span> aElutWordSize;
01909     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutWordSize;
01910     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutAdrSize;
01911     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutAdrShift;
01912     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aXlutWordSize;
01913         <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ii,jj;
01914     <span class="keyword">register</span> <span class="keywordtype">long</span> aOutputPackMode8Bit;
01915         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> ein_Cache[8];
01916         
01917         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * aus_lut     = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o5">outputLut</a>;
01918         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * ein_lut     = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o2">inputLut</a>;
01919         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * Xlut        = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o10">colorLut</a>;
01920         
01921 <span class="preprocessor">        #ifdef DEBUG_OUTPUT</span>
01922 <span class="preprocessor"></span>        <span class="keywordtype">long</span> err = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
01923 <span class="preprocessor">        #endif</span>
01924 <span class="preprocessor"></span>        <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a1">LH_START_PROC</a>(<span class="stringliteral">"Calc423Dim_Data8To8_Lut16"</span>)
01925         
01926         inputData[0] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[0];
01927         inputData[1] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[1];
01928         inputData[2] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[2];
01929 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
01930 <span class="preprocessor"></span>        inputData[3] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[3];
01931 <span class="preprocessor">#endif</span>
01932 <span class="preprocessor"></span>        outputData[0] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[0];
01933         outputData[1] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[1];
01934         outputData[2] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[2];
01935 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
01936 <span class="preprocessor"></span>        outputData[3] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[3];
01937 <span class="preprocessor">#endif</span>
01938 <span class="preprocessor"></span>
01939         OutputIncrement = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o7">cmOutputPixelOffset</a>;
01940         inputDataRowOffset = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o4">cmInputBytesPerLine</a> - calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o2">cmPixelPerLine</a> * calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o6">cmInputPixelOffset</a> + (<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> * 2);
01941         outputDataRowOffset = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o5">cmOutputBytesPerLine</a> - calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o2">cmPixelPerLine</a> * calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o7">cmOutputPixelOffset</a> + OutputIncrement;
01942 
01943         Pixelcount = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o2">cmPixelPerLine</a>;
01944         LineCount = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a>;
01945 
01946         aElutWordSize = lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o1">inputLutWordSize</a>;
01947         aAlutWordSize = lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o4">outputLutWordSize</a>;
01948         aXlutAdrSize = lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o8">colorLutGridPoints</a>;
01949         <span class="keywordflow">for</span> ( i = 1; (i &lt; 32) &amp;&amp; (aXlutAdrSize &gt;&gt; i); i++)
01950                 aXlutAdrShift = i;
01951         aXlutWordSize = lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o9">colorLutWordSize</a>;
01952 
01953         aOutputPackMode8Bit = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o1">cmOutputColorSpace</a> &amp; <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a150a51">cm8PerChannelPacking</a> || calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o1">cmOutputColorSpace</a> &amp; <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a150a46">cmLong8ColorPacking</a>;
01954    <span class="comment">/*DebugPrint("DoNDim with %d input elements\n",aByteCount);*/</span>
01955 <span class="preprocessor">        #if FARBR_FILES</span>
01956 <span class="preprocessor"></span>        WriteLuts(      <span class="stringliteral">"DoNDim"</span>,1,<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>,aElutWordSize,ein_lut,
01957                                 <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>,<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>,aXlutAdrSize,aXlutWordSize,(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)Xlut,<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>,aAlutWordSize,(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)aus_lut);
01958 <span class="preprocessor">    #endif</span>
01959 <span class="preprocessor"></span>
01960         i=0;
01961                                         
01962         {
01963                 <span class="keywordflow">if</span>( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a> &lt; 0 )
01964                 {
01965 <span class="preprocessor">                        #ifdef DEBUG_OUTPUT</span>
01966 <span class="preprocessor"></span>                        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: aElutShift &lt; 0 (aElutShift = %d)\n"</span>,<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>);
01967 <span class="preprocessor">                        #endif</span>
01968 <span class="preprocessor"></span>                        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
01969                 }
01970         }
01971         
01972         <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
01973                 aAlutShift = (aAlutWordSize-8);         
01974         }
01975         <span class="keywordflow">else</span>{
01976                 aAlutShift = (16 - aAlutWordSize);              
01977         }
01978         
01979 <span class="preprocessor">        #ifdef DEBUG_OUTPUT</span>
01980 <span class="preprocessor"></span>                <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugReserved1) ){
01981                     <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aElutAdrSize=%lx,aElutAdrShift=%lx,aElutWordSize=%lx,ein_lut=%lx,\n"</span>,
01982                                                 <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>,<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a>,aElutWordSize,ein_lut);
01983                         <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aAlutAdrSize=%lx,aAlutAdrShift=%lx,aAlutWordSize=%lx,aus_lut=%lx,\n"</span>,
01984                                                 <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>,<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a>,aAlutWordSize,aus_lut);
01985                         <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aXlutInDim=%lx,aXlutOutDim=%lx,aXlutAdrSize=%lx,aXlutAdrShift=%lx,aXlutWordSize=%lx,Xlut=%lx,\n"</span>,
01986                                                 <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>,<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>,aXlutAdrSize,aXlutAdrShift,aXlutWordSize,Xlut);
01987                 }
01988 <span class="preprocessor">    #endif</span>
01989 <span class="preprocessor"></span>    
01990     <span class="comment">/*if( 1 )*/</span>
01991     <span class="keywordflow">if</span>( aXlutAdrSize != (1&lt;&lt;aXlutAdrShift )){
01992     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutOffset;
01993     <span class="keywordtype">long</span> theXlutOffsets[8]; 
01994     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutInShift;
01995     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShiftRemainder;
01996     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutInShiftNum;
01997     <span class="keyword">register</span> <span class="keywordtype">long</span> aElutWordSizeMask = (1&lt;&lt;aElutWordSize) - 1;
01998     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutRound;
01999    aAlutInShift = aXlutWordSize + aElutWordSize - <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a>;
02000     aAlutInShiftRemainder = 0;
02001     <span class="keywordflow">if</span>( aAlutInShift &gt; 16 ){
02002         aAlutInShiftRemainder = aAlutInShift - 16;
02003         aAlutInShift = 16;
02004     }
02005     aAlutInShiftNum = (1&lt;&lt;aAlutInShift);
02006 
02007 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
02008 <span class="preprocessor"></span>        <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugMiscInfo) )
02009             <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"  DoNDim gripoints = %ld\n"</span>,aXlutAdrSize);
02010 <span class="preprocessor">#endif</span>
02011 <span class="preprocessor"></span>    <span class="keywordflow">if</span>( aElutWordSize &lt;= 0 ){
02012 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
02013 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: (1&lt;&lt;aElutWordSize)/aXlutAdrSize &lt;= 0 %d\n"</span>,(1&lt;&lt;aElutWordSize)/aXlutAdrSize);
02014 <span class="preprocessor">#endif</span>
02015 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
02016     }
02017     <span class="keywordflow">if</span>( aAlutInShift &lt;= 0 ){
02018 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
02019 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: aAlutInShift &lt;= 0 %d\n"</span>,aAlutInShift);
02020 <span class="preprocessor">#endif</span>
02021 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
02022     }
02023     aXlutOffset =<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>;
02024     <span class="keywordflow">for</span>( i=0; i&lt;(<span class="keywordtype">long</span>)<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; i++){
02025         theXlutOffsets[ <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-i] = aXlutOffset;
02026         aXlutOffset *=aXlutAdrSize;
02027     }
02028         aAlutRound = 1&lt;&lt;( aAlutInShift + aAlutShift - 1 );
02029 
02030 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
02031 <span class="preprocessor"></span>        <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugReserved1) )
02032             <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">" aElutWordSize((1&lt;&lt;aElutWordSize)-0) = %ld\n aAlutInShift:((1&lt;&lt;aXlutWordSize)*aElutWordSize+(adr_bereich_alut/2))/adr_bereich_alut = %ld\n"</span>,aElutWordSize,aAlutInShift);
02033 <span class="preprocessor">#endif</span>
02034 <span class="preprocessor"></span>    
02035         <span class="keywordflow">while</span> (LineCount){
02036                 i = Pixelcount;
02037                 
02038                 <span class="keywordflow">while</span> (i){
02039         
02040                 <span class="keywordtype">long</span> adr[8],<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[8];
02041                 <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> ein_reg[8];
02042                 <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  adrAdr,ko,adrOffset;
02043         
02044                 adr0=0;
02045                         aElutOffset = 0;
02046                         jj=0;
02047                         
02048                                 jj=ein_Cache[0]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[0]);
02049                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
02050                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
02051                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02052                                         ko0 += aElutOffset;
02053                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02054         
02055                                 jj *= aXlutAdrSize;
02056                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
02057                                 adr[0] = jj &amp; aElutWordSizeMask;
02058                                 jj = jj &gt;&gt; aElutWordSize;
02059                                 adr0 += (jj)*theXlutOffsets[0];
02060                                 ein_reg[0] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02061 
02062                                 jj=ein_Cache[1]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[1]);
02063                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
02064                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
02065                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02066                                         ko0 += aElutOffset;
02067                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02068         
02069                                 jj *= aXlutAdrSize;
02070                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
02071                                 adr[1] = jj &amp; aElutWordSizeMask;
02072                                 jj = jj &gt;&gt; aElutWordSize;
02073                                 adr0 += (jj)*theXlutOffsets[1];
02074                                 ein_reg[1] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02075 
02076                                         jj=ein_Cache[2]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[2]);
02077                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
02078                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
02079                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02080                                         ko0 += aElutOffset;
02081                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02082         
02083                                 jj *= aXlutAdrSize;
02084                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
02085                                 adr[2] = jj &amp; aElutWordSizeMask;
02086                                 jj = jj &gt;&gt; aElutWordSize;
02087                                 adr0 += (jj)*theXlutOffsets[2];
02088                                 ein_reg[2] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02089 
02090 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
02091 <span class="preprocessor"></span>                                        jj=ein_Cache[3]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[3]);
02092                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
02093                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
02094                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02095                                         ko0 += aElutOffset;
02096                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02097         
02098                                 jj *= aXlutAdrSize;
02099                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
02100                                 adr[3] = jj &amp; aElutWordSizeMask;
02101                                 jj = jj &gt;&gt; aElutWordSize;
02102                                 adr0 += (jj)*theXlutOffsets[3];
02103                                 ein_reg[3] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02104 <span class="preprocessor">#endif</span>
02105 <span class="preprocessor"></span>                
02106         
02107 
02108                 {                                                               <span class="comment">/* a kind of */</span>
02109                     <span class="keyword">register</span> <span class="keywordtype">long</span> <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02110                     
02111                         
02112                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = 0;
02113                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = 1;
02114                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = 2;
02115 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
02116 <span class="preprocessor"></span>                                <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = 3;
02117 <span class="preprocessor">#endif</span>
02118 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[0] &lt; adr[1] ){
02119                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
02120                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02121                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02122                                         }
02123 
02124                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[2] ){
02125                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02126                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
02127                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02128                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
02129                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
02130                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02131                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02132                                                 }
02133                                         }
02134 
02135 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
02136 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] &lt; adr[3] ){
02137                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
02138                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
02139                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02140                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] ){
02141                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02142                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
02143                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02144                                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
02145                                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
02146                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02147                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02148                                                         }
02149                                                 }
02150                                         }
02151 <span class="preprocessor">#endif</span>
02152 <span class="preprocessor"></span>                }
02153 
02154         accu[0]=0;
02155         accu[1]=0;
02156         accu[2]=0;
02157 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02158 <span class="preprocessor"></span>        accu[3]=0;
02159 <span class="preprocessor">#endif</span>
02160 <span class="preprocessor"></span>        ko0 = (1&lt;&lt;aElutWordSize);
02161         adrAdr=adr0;
02162         adrOffset=0;
02163         <span class="keywordflow">if</span>( aXlutWordSize  == 16 ){
02164                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
02165                 ko = ko0 - adr[jj];
02166                 ko0 = adr[jj];
02167 
02168                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
02169                     adrOffset += theXlutOffsets[jj];
02170 
02171                     accu[0]+=Xlut[adrAdr+(0)]*ko;
02172                     accu[1]+=Xlut[adrAdr+(1)]*ko;
02173                     accu[2]+=Xlut[adrAdr+(2)]*ko;
02174 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02175 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
02176 <span class="preprocessor">#endif</span>
02177 <span class="preprocessor"></span>
02178                 adrAdr = (adr0 + adrOffset);
02179 
02180                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02181                 ko = ko0 - adr[jj];
02182                 ko0 = adr[jj];
02183 
02184                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
02185                     adrOffset += theXlutOffsets[jj];
02186 
02187                     accu[0]+=Xlut[adrAdr+(0)]*ko;
02188                     accu[1]+=Xlut[adrAdr+(1)]*ko;
02189                     accu[2]+=Xlut[adrAdr+(2)]*ko;
02190 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02191 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
02192 <span class="preprocessor">#endif</span>
02193 <span class="preprocessor"></span>
02194                 adrAdr = (adr0 + adrOffset);
02195 
02196                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
02197                 ko = ko0 - adr[jj];
02198                 ko0 = adr[jj];
02199 
02200                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
02201                     adrOffset += theXlutOffsets[jj];
02202 
02203                     accu[0]+=Xlut[adrAdr+(0)]*ko;
02204                     accu[1]+=Xlut[adrAdr+(1)]*ko;
02205                     accu[2]+=Xlut[adrAdr+(2)]*ko;
02206 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02207 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
02208 <span class="preprocessor">#endif</span>
02209 <span class="preprocessor"></span>
02210                 adrAdr = (adr0 + adrOffset);
02211 
02212 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
02213 <span class="preprocessor"></span>                jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
02214                 ko = ko0 - adr[jj];
02215                 ko0 = adr[jj];
02216 
02217                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
02218                     adrOffset += theXlutOffsets[jj];
02219 
02220                     accu[0]+=Xlut[adrAdr+(0)]*ko;
02221                     accu[1]+=Xlut[adrAdr+(1)]*ko;
02222                     accu[2]+=Xlut[adrAdr+(2)]*ko;
02223 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02224 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
02225 <span class="preprocessor">#endif</span>
02226 <span class="preprocessor"></span>
02227                 adrAdr = (adr0 + adrOffset);
02228 <span class="preprocessor">#endif</span>
02229 <span class="preprocessor"></span>
02230                 accu[0]+=Xlut[adrAdr+0]*ko0;
02231                 accu[1]+=Xlut[adrAdr+1]*ko0;
02232                 accu[2]+=Xlut[adrAdr+2]*ko0;
02233 <span class="preprocessor"> #if NDIM_OUT_DIM == 4</span>
02234 <span class="preprocessor"></span>               accu[3]+=Xlut[adrAdr+3]*ko0;
02235 <span class="preprocessor"> #endif</span>
02236 <span class="preprocessor"></span>       }
02237        <span class="keywordflow">else</span>{
02238 
02239                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
02240                 ko = ko0 - adr[jj];
02241                 ko0 = adr[jj];
02242 
02243                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
02244                     adrOffset += theXlutOffsets[jj];
02245 
02246                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
02247                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
02248                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
02249 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02250 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
02251 <span class="preprocessor">#endif</span>
02252 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
02253 
02254                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02255                 ko = ko0 - adr[jj];
02256                 ko0 = adr[jj];
02257 
02258                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
02259                     adrOffset += theXlutOffsets[jj];
02260 
02261                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
02262                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
02263                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
02264 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02265 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
02266 <span class="preprocessor">#endif</span>
02267 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
02268 
02269                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
02270                 ko = ko0 - adr[jj];
02271                 ko0 = adr[jj];
02272 
02273                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
02274                     adrOffset += theXlutOffsets[jj];
02275 
02276                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
02277                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
02278                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
02279 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02280 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
02281 <span class="preprocessor">#endif</span>
02282 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
02283 
02284 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
02285 <span class="preprocessor"></span>                jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
02286                 ko = ko0 - adr[jj];
02287                 ko0 = adr[jj];
02288 
02289                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
02290                     adrOffset += theXlutOffsets[jj];
02291 
02292                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
02293                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
02294                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
02295 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02296 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
02297 <span class="preprocessor">#endif</span>
02298 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
02299 <span class="preprocessor">#endif</span>
02300 <span class="preprocessor"></span>                accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+0]*ko0;
02301                 accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+1]*ko0;
02302                 accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+2]*ko0;
02303 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02304 <span class="preprocessor"></span>               accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+3]*ko0;
02305 <span class="preprocessor">#endif</span>
02306 <span class="preprocessor"></span>        }
02307 
02308                 aAlutOffset = 0;
02309 
02310                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
02311                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
02312                                         jj = accu[ii];
02313                                         jj = jj + ( jj &gt;&gt; aXlutWordSize );
02314 
02315                                         ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder;     <span class="comment">/*      aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
02316 
02317                                         ko = ko0 &amp; (aAlutInShiftNum - 1 );
02318                                         ko0 = ko0 &gt;&gt; aAlutInShift;
02319                                         ko0 += aAlutOffset;
02320                                         <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
02321                                         jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &gt;&gt; ( aAlutInShift );
02322                                         <span class="keywordflow">else</span>{
02323                                         jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko );
02324                                                 jj = jj - ( jj &gt;&gt; aAlutShift );
02325                                                 jj = ( jj + aAlutRound ) &gt;&gt; (aAlutInShift + aAlutShift);
02326                                         }
02327                                         *outputData[ii] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>)jj;
02328                         aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
02329                     }
02330                         }
02331                         <span class="keywordflow">else</span>{
02332                                 <span class="keywordflow">if</span>( aXlutWordSize &gt;= 16 ){
02333                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
02334                                                 jj = accu[ii];
02335                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize );
02336                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder; <span class="comment">/*  aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
02337                 
02338                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
02339                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
02340                                                 ko0 += aAlutOffset;
02341                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
02342                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
02343                                                 <span class="keywordflow">else</span>
02344                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
02345                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02346                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
02347                                         }
02348                                 }
02349                                 <span class="keywordflow">else</span>{
02350                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
02351                                                 jj = accu[ii];
02352                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize ) + ( jj &gt;&gt; 2*aXlutWordSize );
02353                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) ; <span class="comment">/*  aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
02354                 
02355                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
02356                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
02357                                                 ko0 += aAlutOffset;
02358                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
02359                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
02360                                                 <span class="keywordflow">else</span>
02361                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
02362                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02363                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
02364                                         }
02365                                 }
02366                         }
02367                         <span class="keywordflow">while</span> (--i){
02368                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
02369                                         inputData[jj] += (<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> * 2);
02370                                 }
02371                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
02372                                         outputData[jj] += OutputIncrement;
02373                                 }
02374         
02375                                 {
02376                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
02377                                                 <span class="keywordflow">if</span>( *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[jj]) ^ ein_Cache[jj] )<span class="keywordflow">break</span>;
02378                                         }
02379                                 }
02380                                 <span class="keywordflow">if</span>( jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> ) <span class="keywordflow">break</span>;
02381                                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
02382                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
02383                                                 *outputData[jj] = outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> )];
02384                                         }
02385                                 }
02386                                 <span class="keywordflow">else</span>{
02387                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
02388                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[jj]) = *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)(&amp;outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> * 2)]);
02389                                         }
02390                                 }
02391                         }
02392                 }
02393                 
02394                 <span class="keywordflow">if</span>( --LineCount ){
02395                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
02396                                 inputData[jj] += inputDataRowOffset;
02397                         }
02398                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
02399                                 outputData[jj] += outputDataRowOffset;
02400                         }
02401                 }
02402     }
02403     }
02404     <span class="keywordflow">else</span>{
02405 
02406     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_breit_selektor;
02407     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_maske_selektor;
02408     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_breit_adr;
02409     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_maske_adr;
02410     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  aAlutInShiftNum;
02411     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShift;
02412     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShiftRemainder;
02413     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutRound;
02414     <span class="comment">/*register long aXlutPlaneShift = aXlutAdrShift*aXlutInDim;*/</span>
02415     bit_breit_selektor=aElutWordSize-aXlutAdrShift;
02416     <span class="keywordflow">if</span>( aElutWordSize-aXlutAdrShift &lt; 0 )
02417     {
02418 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
02419 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: bit_breit_selektor &lt; 0 (bit_breit_selektor = %d)\n"</span>,bit_breit_selektor);
02420 <span class="preprocessor">#endif</span>
02421 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
02422     }
02423     bit_maske_selektor=(1&lt;&lt;bit_breit_selektor)-1;
02424     bit_breit_adr=aXlutAdrShift;
02425     bit_maske_adr=((1&lt;&lt;bit_breit_adr)-1)&lt;&lt;bit_breit_selektor;
02426     aAlutInShift = (aXlutWordSize+bit_breit_selektor-<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a>);
02427     <span class="comment">/*aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
02428     aAlutInShiftRemainder = 0;
02429     <span class="keywordflow">if</span>( aAlutInShift &gt; 16 ){
02430         aAlutInShiftRemainder = aAlutInShift - 16;
02431         aAlutInShift = 16;
02432     }
02433         
02434     aAlutInShiftNum = (1&lt;&lt;aAlutInShift);
02435     
02436         aAlutRound = 1&lt;&lt;( aAlutInShift + aAlutShift - 1 );
02437         <span class="keywordflow">while</span> (LineCount){
02438                 i = Pixelcount;
02439                 
02440                 <span class="keywordflow">while</span> (i){
02441         
02442                 <span class="keywordtype">long</span> adr[8],<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[8];
02443                 <span class="comment">/*LH_UINT16 *ein_lut = (LH_UINT16 *)ein_lut;*/</span>
02444                 <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> ein_reg[8];
02445                    <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  adrAdr,ko,adrOffset;
02446                 <span class="comment">/*register unsigned long aIndex;*/</span>
02447         
02448                 adr0=0;
02449                 aElutOffset = 0;
02450                 jj=0;
02451                         jj=ein_Cache[0]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[0]);
02452                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
02453                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
02454                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02455                         ko0 += aElutOffset;
02456                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02457         
02458                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
02459                         adr[0] = (jj &amp; bit_maske_selektor);
02460                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-0-1)*bit_breit_adr);
02461                         ein_reg[0] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02462 
02463                         jj=ein_Cache[1]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[1]);
02464                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
02465                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
02466                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02467                         ko0 += aElutOffset;
02468                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02469         
02470                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
02471                         adr[1] = (jj &amp; bit_maske_selektor);
02472                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-1)*bit_breit_adr);
02473                         ein_reg[1] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02474 
02475                         jj=ein_Cache[2]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[2]);
02476                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
02477                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
02478                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02479                         ko0 += aElutOffset;
02480                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02481         
02482                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
02483                         adr[2] = (jj &amp; bit_maske_selektor);
02484                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-2-1)*bit_breit_adr);
02485                         ein_reg[2] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02486 
02487 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
02488 <span class="preprocessor"></span>                        jj=ein_Cache[3]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[3]);
02489                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
02490                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
02491                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02492                         ko0 += aElutOffset;
02493                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02494         
02495                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
02496                         adr[3] = (jj &amp; bit_maske_selektor);
02497                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-3-1)*bit_breit_adr);
02498                         ein_reg[3] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02499 <span class="preprocessor">#endif  </span>
02500 <span class="preprocessor"></span>                adr0 *= <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>;
02501         
02502                 {                                                               <span class="comment">/* a kind of */</span>
02503                     <span class="keyword">register</span> <span class="keywordtype">long</span> <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02504                     
02505                         
02506                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = 0;
02507                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = 1;
02508                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = 2;
02509 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
02510 <span class="preprocessor"></span>                                <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = 3;
02511 <span class="preprocessor">#endif</span>
02512 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[0] &lt; adr[1] ){
02513                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
02514                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02515                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02516                                         }
02517 
02518                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[2] ){
02519                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02520                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
02521                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02522                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
02523                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
02524                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02525                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02526                                                 }
02527                                         }
02528 
02529 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
02530 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] &lt; adr[3] ){
02531                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
02532                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
02533                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02534                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] ){
02535                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02536                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
02537                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02538                                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
02539                                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
02540                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02541                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
02542                                                         }
02543                                                 }
02544                                         }
02545 <span class="preprocessor">#endif</span>
02546 <span class="preprocessor"></span>                }
02547         
02548                         accu[0]=0;
02549                         accu[1]=0;
02550                         accu[2]=0;
02551 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02552 <span class="preprocessor"></span>                        accu[3]=0;
02553 <span class="preprocessor">#endif</span>
02554 <span class="preprocessor"></span>        
02555                 ko0 = bit_maske_selektor+1;
02556                 adrAdr=adr0;
02557                 adrOffset=0;
02558         
02559                 <span class="keywordflow">if</span>( aXlutWordSize  == 16 ){
02560                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
02561                         ko = ko0 - adr[jj];
02562                         ko0 = adr[jj];
02563         
02564                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
02565                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
02566         
02567                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
02568                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
02569                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
02570 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02571 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
02572 <span class="preprocessor">#endif</span>
02573 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
02574 
02575                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02576                         ko = ko0 - adr[jj];
02577                         ko0 = adr[jj];
02578         
02579                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
02580                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
02581         
02582                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
02583                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
02584                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
02585 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02586 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
02587 <span class="preprocessor">#endif</span>
02588 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
02589 
02590                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
02591                         ko = ko0 - adr[jj];
02592                         ko0 = adr[jj];
02593         
02594                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
02595                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
02596         
02597                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
02598                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
02599                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
02600 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02601 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
02602 <span class="preprocessor">#endif</span>
02603 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
02604 
02605 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
02606 <span class="preprocessor"></span>                        jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
02607                         ko = ko0 - adr[jj];
02608                         ko0 = adr[jj];
02609         
02610                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
02611                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
02612         
02613                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
02614                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
02615                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
02616 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02617 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
02618 <span class="preprocessor">#endif</span>
02619 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
02620 <span class="preprocessor">#endif</span>
02621 <span class="preprocessor"></span>                accu[0]+=Xlut[adrAdr+0]*ko0;
02622                 accu[1]+=Xlut[adrAdr+1]*ko0;
02623                 accu[2]+=Xlut[adrAdr+2]*ko0;
02624 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02625 <span class="preprocessor"></span>                                accu[3]+=Xlut[adrAdr+3]*ko0;
02626 <span class="preprocessor">#endif</span>
02627 <span class="preprocessor"></span>                }
02628                 <span class="keywordflow">else</span>{
02629                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
02630                         ko = ko0 - adr[jj];
02631                         ko0 = adr[jj];
02632         
02633                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
02634                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
02635         
02636                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
02637                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
02638                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
02639 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02640 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
02641 <span class="preprocessor">#endif</span>
02642 <span class="preprocessor"></span>        
02643                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
02644 
02645                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
02646                         ko = ko0 - adr[jj];
02647                         ko0 = adr[jj];
02648         
02649                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
02650                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
02651         
02652                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
02653                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
02654                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
02655 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02656 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
02657 <span class="preprocessor">#endif</span>
02658 <span class="preprocessor"></span>        
02659                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
02660 
02661                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
02662                         ko = ko0 - adr[jj];
02663                         ko0 = adr[jj];
02664         
02665                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
02666                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
02667         
02668                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
02669                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
02670                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
02671 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02672 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
02673 <span class="preprocessor">#endif</span>
02674 <span class="preprocessor"></span>        
02675                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
02676 
02677 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
02678 <span class="preprocessor"></span>                        jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
02679                         ko = ko0 - adr[jj];
02680                         ko0 = adr[jj];
02681         
02682                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
02683                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
02684         
02685                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
02686                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
02687                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
02688 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02689 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
02690 <span class="preprocessor">#endif</span>
02691 <span class="preprocessor"></span>        
02692                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
02693 <span class="preprocessor">#endif</span>
02694 <span class="preprocessor"></span>                                accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+0]*ko0;
02695                 accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+1]*ko0;
02696                 accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+2]*ko0;
02697 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02698 <span class="preprocessor"></span>                                accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+3]*ko0;
02699 <span class="preprocessor">#endif</span>
02700 <span class="preprocessor"></span>                }
02701         
02702                 aAlutOffset = 0;
02703         
02704                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
02705                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
02706                                         jj = accu[ii];
02707                                         jj = jj + ( jj &gt;&gt; aXlutWordSize );
02708 
02709                                         ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder;     <span class="comment">/*      aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
02710 
02711                                         ko = ko0 &amp; (aAlutInShiftNum - 1 );
02712                                         ko0 = ko0 &gt;&gt; aAlutInShift;
02713                                         ko0 += aAlutOffset;
02714                                         <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
02715                                         jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &gt;&gt; ( aAlutInShift );
02716                                         <span class="keywordflow">else</span>{
02717                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko );
02718                                                 jj = jj - ( jj &gt;&gt; aAlutShift );
02719                                                 jj = ( jj + aAlutRound ) &gt;&gt; (aAlutInShift + aAlutShift);
02720                                         }
02721 
02722                                         *outputData[ii] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>)jj;
02723                         aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
02724                     }
02725                 }
02726                 <span class="keywordflow">else</span>{
02727                                 <span class="keywordflow">if</span>( aXlutWordSize &gt;= 16 ){
02728                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
02729                                                 jj = accu[ii];
02730                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize );
02731                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder; <span class="comment">/*  aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
02732                 
02733                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
02734                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
02735                                                 ko0 += aAlutOffset;
02736                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
02737                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
02738                                                 <span class="keywordflow">else</span>
02739                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
02740                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02741                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
02742                                         }
02743                                 }
02744                                 <span class="keywordflow">else</span>{
02745                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
02746                                                 jj = accu[ii];
02747                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize ) + ( jj &gt;&gt; 2*aXlutWordSize );
02748                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))); <span class="comment">/*   aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
02749                 
02750                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
02751                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
02752                                                 ko0 += aAlutOffset;
02753                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
02754                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
02755                                                 <span class="keywordflow">else</span>
02756                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
02757                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02758                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
02759                                         }
02760                                 }
02761                 }
02762         
02763                         <span class="keywordflow">while</span> (--i){
02764                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
02765                                         inputData[jj] += (<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> * 2);
02766                                 }
02767                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
02768                                         outputData[jj] += OutputIncrement;
02769                                 }
02770         
02771                                 {
02772                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
02773                                                 <span class="keywordflow">if</span>( *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[jj]) ^ ein_Cache[jj] )<span class="keywordflow">break</span>;
02774                                         }
02775                                 }
02776                                 <span class="keywordflow">if</span>( jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> ) <span class="keywordflow">break</span>;
02777                                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
02778                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
02779                                                 *outputData[jj] = outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> )];
02780                                         }
02781                                 }
02782                                 <span class="keywordflow">else</span>{
02783                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
02784                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[jj]) = *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)(&amp;outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> * 2)]);
02785                                         }
02786                                 }
02787                         }
02788                 }
02789                 
02790                 <span class="keywordflow">if</span>( --LineCount ){
02791                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
02792                                 inputData[jj] += inputDataRowOffset;
02793                         }
02794                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
02795                                 outputData[jj] += outputDataRowOffset;
02796                         }
02797                 }
02798     }
02799     }
02800 
02801         <span class="comment">/* UNLOCK_DATA( aElutHdle ); */</span>
02802         <span class="comment">/* UNLOCK_DATA( aAlutHdle ); */</span>
02803         <span class="comment">/* UNLOCK_DATA( aXlutHdle ); */</span>
02804 
02805         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a2">LH_END_PROC</a>(<span class="stringliteral">"Calc423Dim_Data8To8_Lut16"</span>)
02806         <span class="keywordflow">return</span> <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
02807 }
02808 
02809 <span class="preprocessor">#undef NDIM_IN_DIM</span>
02810 <span class="preprocessor"></span><span class="preprocessor">#undef NDIM_OUT_DIM</span>
02811 <span class="preprocessor"></span><span class="preprocessor">#undef aElutShift</span>
02812 <span class="preprocessor"></span><span class="preprocessor">#undef aElutShiftNum</span>
<a name="l02813"></a><a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a16">02813</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIM_IN_DIM 4</span>
<a name="l02814"></a><a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a17">02814</a> <span class="preprocessor"></span><span class="preprocessor">#define NDIM_OUT_DIM 4</span>
<a name="l02815"></a><a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a18">02815</a> <span class="preprocessor"></span><span class="preprocessor">#define aElutShift (16-adr_breite_elut)</span>
<a name="l02816"></a><a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a19">02816</a> <span class="preprocessor"></span><span class="preprocessor">#define aElutShiftNum (1&lt;&lt;aElutShift)</span>
02817 <span class="preprocessor"></span>
<a name="l02818"></a><a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a23">02818</a> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a11">CMError</a> <a class="code" href="../../d9/d3/w98_2lh__core_2calcndim_8c.html#a8">Calc424Dim_Data8To8_Lut16</a>       (<a class="code" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam,
02819                                                                          <a class="code" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a>  lutParam)
02820         
02821 {
02822         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> * inputData[8], *outputData[8];
02823         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a> OutputIncrement, inputDataRowOffset, outputDataRowOffset, Pixelcount, LineCount;
02824         <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> adr0;
02825     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ko0;
02826     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> accu[8];
02827     <span class="keyword">register</span> <span class="keywordtype">long</span> i;
02828     <span class="comment">/*long Offsets[8];*/</span>
02829     
02830     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutShift,aElutOffset,aAlutOffset;
02831     <span class="keyword">register</span> <span class="keywordtype">long</span> aElutWordSize;
02832     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutWordSize;
02833     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutAdrSize;
02834     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutAdrShift;
02835     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aXlutWordSize;
02836         <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ii,jj;
02837     <span class="keyword">register</span> <span class="keywordtype">long</span> aOutputPackMode8Bit;
02838         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> ein_Cache[8];
02839         
02840         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * aus_lut     = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o5">outputLut</a>;
02841         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * ein_lut     = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o2">inputLut</a>;
02842         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * Xlut        = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>*)lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o10">colorLut</a>;
02843         
02844 <span class="preprocessor">        #ifdef DEBUG_OUTPUT</span>
02845 <span class="preprocessor"></span>        <span class="keywordtype">long</span> err = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
02846 <span class="preprocessor">        #endif</span>
02847 <span class="preprocessor"></span>        <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a1">LH_START_PROC</a>(<span class="stringliteral">"Calc424Dim_Data8To8_Lut16"</span>)
02848         
02849         inputData[0] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[0];
02850         inputData[1] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[1];
02851         inputData[2] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[2];
02852 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
02853 <span class="preprocessor"></span>        inputData[3] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[3];
02854 <span class="preprocessor">#endif</span>
02855 <span class="preprocessor"></span>        outputData[0] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[0];
02856         outputData[1] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[1];
02857         outputData[2] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[2];
02858 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
02859 <span class="preprocessor"></span>        outputData[3] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[3];
02860 <span class="preprocessor">#endif</span>
02861 <span class="preprocessor"></span>
02862         OutputIncrement = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o7">cmOutputPixelOffset</a>;
02863         inputDataRowOffset = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o4">cmInputBytesPerLine</a> - calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o2">cmPixelPerLine</a> * calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o6">cmInputPixelOffset</a> + (<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> * 2);
02864         outputDataRowOffset = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o5">cmOutputBytesPerLine</a> - calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o2">cmPixelPerLine</a> * calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o7">cmOutputPixelOffset</a> + OutputIncrement;
02865 
02866         Pixelcount = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o2">cmPixelPerLine</a>;
02867         LineCount = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a>;
02868 
02869         aElutWordSize = lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o1">inputLutWordSize</a>;
02870         aAlutWordSize = lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o4">outputLutWordSize</a>;
02871         aXlutAdrSize = lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o8">colorLutGridPoints</a>;
02872         <span class="keywordflow">for</span> ( i = 1; (i &lt; 32) &amp;&amp; (aXlutAdrSize &gt;&gt; i); i++)
02873                 aXlutAdrShift = i;
02874         aXlutWordSize = lutParam-&gt;<a class="code" href="../../d0/d4/structCMLutParam.html#o9">colorLutWordSize</a>;
02875 
02876         aOutputPackMode8Bit = calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o1">cmOutputColorSpace</a> &amp; <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a150a51">cm8PerChannelPacking</a> || calcParam-&gt;<a class="code" href="../../d7/d3/structCMCalcParam.html#o1">cmOutputColorSpace</a> &amp; <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a150a46">cmLong8ColorPacking</a>;
02877    <span class="comment">/*DebugPrint("DoNDim with %d input elements\n",aByteCount);*/</span>
02878 <span class="preprocessor">        #if FARBR_FILES</span>
02879 <span class="preprocessor"></span>        WriteLuts(      <span class="stringliteral">"DoNDim"</span>,1,<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>,aElutWordSize,ein_lut,
02880                                 <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>,<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>,aXlutAdrSize,aXlutWordSize,(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)Xlut,<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>,aAlutWordSize,(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)aus_lut);
02881 <span class="preprocessor">    #endif</span>
02882 <span class="preprocessor"></span>
02883         i=0;
02884                                         
02885         {
02886                 <span class="keywordflow">if</span>( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a> &lt; 0 )
02887                 {
02888 <span class="preprocessor">                        #ifdef DEBUG_OUTPUT</span>
02889 <span class="preprocessor"></span>                        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: aElutShift &lt; 0 (aElutShift = %d)\n"</span>,<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>);
02890 <span class="preprocessor">                        #endif</span>
02891 <span class="preprocessor"></span>                        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
02892                 }
02893         }
02894         
02895         <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
02896                 aAlutShift = (aAlutWordSize-8);         
02897         }
02898         <span class="keywordflow">else</span>{
02899                 aAlutShift = (16 - aAlutWordSize);              
02900         }
02901         
02902 <span class="preprocessor">        #ifdef DEBUG_OUTPUT</span>
02903 <span class="preprocessor"></span>                <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugReserved1) ){
02904                     <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aElutAdrSize=%lx,aElutAdrShift=%lx,aElutWordSize=%lx,ein_lut=%lx,\n"</span>,
02905                                                 <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>,<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a>,aElutWordSize,ein_lut);
02906                         <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aAlutAdrSize=%lx,aAlutAdrShift=%lx,aAlutWordSize=%lx,aus_lut=%lx,\n"</span>,
02907                                                 <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>,<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a>,aAlutWordSize,aus_lut);
02908                         <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"aXlutInDim=%lx,aXlutOutDim=%lx,aXlutAdrSize=%lx,aXlutAdrShift=%lx,aXlutWordSize=%lx,Xlut=%lx,\n"</span>,
02909                                                 <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>,<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>,aXlutAdrSize,aXlutAdrShift,aXlutWordSize,Xlut);
02910                 }
02911 <span class="preprocessor">    #endif</span>
02912 <span class="preprocessor"></span>    
02913     <span class="comment">/*if( 1 )*/</span>
02914     <span class="keywordflow">if</span>( aXlutAdrSize != (1&lt;&lt;aXlutAdrShift )){
02915     <span class="keyword">register</span> <span class="keywordtype">long</span> aXlutOffset;
02916     <span class="keywordtype">long</span> theXlutOffsets[8]; 
02917     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutInShift;
02918     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShiftRemainder;
02919     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutInShiftNum;
02920     <span class="keyword">register</span> <span class="keywordtype">long</span> aElutWordSizeMask = (1&lt;&lt;aElutWordSize) - 1;
02921     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutRound;
02922    aAlutInShift = aXlutWordSize + aElutWordSize - <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a>;
02923     aAlutInShiftRemainder = 0;
02924     <span class="keywordflow">if</span>( aAlutInShift &gt; 16 ){
02925         aAlutInShiftRemainder = aAlutInShift - 16;
02926         aAlutInShift = 16;
02927     }
02928     aAlutInShiftNum = (1&lt;&lt;aAlutInShift);
02929 
02930 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
02931 <span class="preprocessor"></span>        <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugMiscInfo) )
02932             <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"  DoNDim gripoints = %ld\n"</span>,aXlutAdrSize);
02933 <span class="preprocessor">#endif</span>
02934 <span class="preprocessor"></span>    <span class="keywordflow">if</span>( aElutWordSize &lt;= 0 ){
02935 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
02936 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: (1&lt;&lt;aElutWordSize)/aXlutAdrSize &lt;= 0 %d\n"</span>,(1&lt;&lt;aElutWordSize)/aXlutAdrSize);
02937 <span class="preprocessor">#endif</span>
02938 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
02939     }
02940     <span class="keywordflow">if</span>( aAlutInShift &lt;= 0 ){
02941 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
02942 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: aAlutInShift &lt;= 0 %d\n"</span>,aAlutInShift);
02943 <span class="preprocessor">#endif</span>
02944 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
02945     }
02946     aXlutOffset =<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>;
02947     <span class="keywordflow">for</span>( i=0; i&lt;(<span class="keywordtype">long</span>)<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; i++){
02948         theXlutOffsets[ <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-i] = aXlutOffset;
02949         aXlutOffset *=aXlutAdrSize;
02950     }
02951         aAlutRound = 1&lt;&lt;( aAlutInShift + aAlutShift - 1 );
02952 
02953 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
02954 <span class="preprocessor"></span>        <span class="keywordflow">if</span> ( DebugCheck(kThisFile, kDebugReserved1) )
02955             <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">" aElutWordSize((1&lt;&lt;aElutWordSize)-0) = %ld\n aAlutInShift:((1&lt;&lt;aXlutWordSize)*aElutWordSize+(adr_bereich_alut/2))/adr_bereich_alut = %ld\n"</span>,aElutWordSize,aAlutInShift);
02956 <span class="preprocessor">#endif</span>
02957 <span class="preprocessor"></span>    
02958         <span class="keywordflow">while</span> (LineCount){
02959                 i = Pixelcount;
02960                 
02961                 <span class="keywordflow">while</span> (i){
02962         
02963                 <span class="keywordtype">long</span> adr[8],<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[8];
02964                 <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> ein_reg[8];
02965                 <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  adrAdr,ko,adrOffset;
02966         
02967                 adr0=0;
02968                         aElutOffset = 0;
02969                         jj=0;
02970                         
02971                                 jj=ein_Cache[0]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[0]);
02972                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
02973                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
02974                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02975                                         ko0 += aElutOffset;
02976                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02977         
02978                                 jj *= aXlutAdrSize;
02979                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
02980                                 adr[0] = jj &amp; aElutWordSizeMask;
02981                                 jj = jj &gt;&gt; aElutWordSize;
02982                                 adr0 += (jj)*theXlutOffsets[0];
02983                                 ein_reg[0] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02984 
02985                                 jj=ein_Cache[1]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[1]);
02986                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
02987                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
02988                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02989                                         ko0 += aElutOffset;
02990                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
02991         
02992                                 jj *= aXlutAdrSize;
02993                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
02994                                 adr[1] = jj &amp; aElutWordSizeMask;
02995                                 jj = jj &gt;&gt; aElutWordSize;
02996                                 adr0 += (jj)*theXlutOffsets[1];
02997                                 ein_reg[1] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
02998 
02999                                         jj=ein_Cache[2]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[2]);
03000                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
03001                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
03002                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
03003                                         ko0 += aElutOffset;
03004                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
03005         
03006                                 jj *= aXlutAdrSize;
03007                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
03008                                 adr[2] = jj &amp; aElutWordSizeMask;
03009                                 jj = jj &gt;&gt; aElutWordSize;
03010                                 adr0 += (jj)*theXlutOffsets[2];
03011                                 ein_reg[2] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
03012 
03013 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
03014 <span class="preprocessor"></span>                                        jj=ein_Cache[3]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[3]);
03015                                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
03016                                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
03017                                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
03018                                         ko0 += aElutOffset;
03019                                 jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
03020         
03021                                 jj *= aXlutAdrSize;
03022                                 aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
03023                                 adr[3] = jj &amp; aElutWordSizeMask;
03024                                 jj = jj &gt;&gt; aElutWordSize;
03025                                 adr0 += (jj)*theXlutOffsets[3];
03026                                 ein_reg[3] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
03027 <span class="preprocessor">#endif</span>
03028 <span class="preprocessor"></span>                
03029         
03030 
03031                 {                                                               <span class="comment">/* a kind of */</span>
03032                     <span class="keyword">register</span> <span class="keywordtype">long</span> <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03033                     
03034                         
03035                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = 0;
03036                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = 1;
03037                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = 2;
03038 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
03039 <span class="preprocessor"></span>                                <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = 3;
03040 <span class="preprocessor">#endif</span>
03041 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[0] &lt; adr[1] ){
03042                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
03043                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03044                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03045                                         }
03046 
03047                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[2] ){
03048                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03049                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
03050                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03051                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
03052                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
03053                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03054                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03055                                                 }
03056                                         }
03057 
03058 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
03059 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] &lt; adr[3] ){
03060                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
03061                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
03062                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03063                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] ){
03064                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03065                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
03066                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03067                                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
03068                                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
03069                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03070                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03071                                                         }
03072                                                 }
03073                                         }
03074 <span class="preprocessor">#endif</span>
03075 <span class="preprocessor"></span>                }
03076 
03077         accu[0]=0;
03078         accu[1]=0;
03079         accu[2]=0;
03080 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03081 <span class="preprocessor"></span>        accu[3]=0;
03082 <span class="preprocessor">#endif</span>
03083 <span class="preprocessor"></span>        ko0 = (1&lt;&lt;aElutWordSize);
03084         adrAdr=adr0;
03085         adrOffset=0;
03086         <span class="keywordflow">if</span>( aXlutWordSize  == 16 ){
03087                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
03088                 ko = ko0 - adr[jj];
03089                 ko0 = adr[jj];
03090 
03091                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
03092                     adrOffset += theXlutOffsets[jj];
03093 
03094                     accu[0]+=Xlut[adrAdr+(0)]*ko;
03095                     accu[1]+=Xlut[adrAdr+(1)]*ko;
03096                     accu[2]+=Xlut[adrAdr+(2)]*ko;
03097 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03098 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
03099 <span class="preprocessor">#endif</span>
03100 <span class="preprocessor"></span>
03101                 adrAdr = (adr0 + adrOffset);
03102 
03103                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03104                 ko = ko0 - adr[jj];
03105                 ko0 = adr[jj];
03106 
03107                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
03108                     adrOffset += theXlutOffsets[jj];
03109 
03110                     accu[0]+=Xlut[adrAdr+(0)]*ko;
03111                     accu[1]+=Xlut[adrAdr+(1)]*ko;
03112                     accu[2]+=Xlut[adrAdr+(2)]*ko;
03113 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03114 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
03115 <span class="preprocessor">#endif</span>
03116 <span class="preprocessor"></span>
03117                 adrAdr = (adr0 + adrOffset);
03118 
03119                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
03120                 ko = ko0 - adr[jj];
03121                 ko0 = adr[jj];
03122 
03123                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
03124                     adrOffset += theXlutOffsets[jj];
03125 
03126                     accu[0]+=Xlut[adrAdr+(0)]*ko;
03127                     accu[1]+=Xlut[adrAdr+(1)]*ko;
03128                     accu[2]+=Xlut[adrAdr+(2)]*ko;
03129 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03130 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
03131 <span class="preprocessor">#endif</span>
03132 <span class="preprocessor"></span>
03133                 adrAdr = (adr0 + adrOffset);
03134 
03135 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
03136 <span class="preprocessor"></span>                jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
03137                 ko = ko0 - adr[jj];
03138                 ko0 = adr[jj];
03139 
03140                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
03141                     adrOffset += theXlutOffsets[jj];
03142 
03143                     accu[0]+=Xlut[adrAdr+(0)]*ko;
03144                     accu[1]+=Xlut[adrAdr+(1)]*ko;
03145                     accu[2]+=Xlut[adrAdr+(2)]*ko;
03146 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03147 <span class="preprocessor"></span>                    accu[3]+=Xlut[adrAdr+(3)]*ko;
03148 <span class="preprocessor">#endif</span>
03149 <span class="preprocessor"></span>
03150                 adrAdr = (adr0 + adrOffset);
03151 <span class="preprocessor">#endif</span>
03152 <span class="preprocessor"></span>
03153                 accu[0]+=Xlut[adrAdr+0]*ko0;
03154                 accu[1]+=Xlut[adrAdr+1]*ko0;
03155                 accu[2]+=Xlut[adrAdr+2]*ko0;
03156 <span class="preprocessor"> #if NDIM_OUT_DIM == 4</span>
03157 <span class="preprocessor"></span>               accu[3]+=Xlut[adrAdr+3]*ko0;
03158 <span class="preprocessor"> #endif</span>
03159 <span class="preprocessor"></span>       }
03160        <span class="keywordflow">else</span>{
03161 
03162                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
03163                 ko = ko0 - adr[jj];
03164                 ko0 = adr[jj];
03165 
03166                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
03167                     adrOffset += theXlutOffsets[jj];
03168 
03169                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
03170                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
03171                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
03172 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03173 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
03174 <span class="preprocessor">#endif</span>
03175 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
03176 
03177                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03178                 ko = ko0 - adr[jj];
03179                 ko0 = adr[jj];
03180 
03181                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
03182                     adrOffset += theXlutOffsets[jj];
03183 
03184                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
03185                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
03186                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
03187 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03188 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
03189 <span class="preprocessor">#endif</span>
03190 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
03191 
03192                 jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
03193                 ko = ko0 - adr[jj];
03194                 ko0 = adr[jj];
03195 
03196                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
03197                     adrOffset += theXlutOffsets[jj];
03198 
03199                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
03200                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
03201                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
03202 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03203 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
03204 <span class="preprocessor">#endif</span>
03205 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
03206 
03207 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
03208 <span class="preprocessor"></span>                jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
03209                 ko = ko0 - adr[jj];
03210                 ko0 = adr[jj];
03211 
03212                 <span class="keywordflow">if</span>( ein_reg[jj] &lt; (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)(aXlutAdrSize-1) )
03213                     adrOffset += theXlutOffsets[jj];
03214 
03215                     accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
03216                     accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
03217                     accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
03218 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03219 <span class="preprocessor"></span>                    accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
03220 <span class="preprocessor">#endif</span>
03221 <span class="preprocessor"></span>                adrAdr = (adr0 + adrOffset);
03222 <span class="preprocessor">#endif</span>
03223 <span class="preprocessor"></span>                accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+0]*ko0;
03224                 accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+1]*ko0;
03225                 accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+2]*ko0;
03226 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03227 <span class="preprocessor"></span>               accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+3]*ko0;
03228 <span class="preprocessor">#endif</span>
03229 <span class="preprocessor"></span>        }
03230 
03231                 aAlutOffset = 0;
03232 
03233                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
03234                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
03235                                         jj = accu[ii];
03236                                         jj = jj + ( jj &gt;&gt; aXlutWordSize );
03237 
03238                                         ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder;     <span class="comment">/*      aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
03239 
03240                                         ko = ko0 &amp; (aAlutInShiftNum - 1 );
03241                                         ko0 = ko0 &gt;&gt; aAlutInShift;
03242                                         ko0 += aAlutOffset;
03243                                         <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
03244                                         jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &gt;&gt; ( aAlutInShift );
03245                                         <span class="keywordflow">else</span>{
03246                                         jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko );
03247                                                 jj = jj - ( jj &gt;&gt; aAlutShift );
03248                                                 jj = ( jj + aAlutRound ) &gt;&gt; (aAlutInShift + aAlutShift);
03249                                         }
03250                                         *outputData[ii] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>)jj;
03251                         aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
03252                     }
03253                         }
03254                         <span class="keywordflow">else</span>{
03255                                 <span class="keywordflow">if</span>( aXlutWordSize &gt;= 16 ){
03256                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
03257                                                 jj = accu[ii];
03258                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize );
03259                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder; <span class="comment">/*  aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
03260                 
03261                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
03262                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
03263                                                 ko0 += aAlutOffset;
03264                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
03265                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
03266                                                 <span class="keywordflow">else</span>
03267                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
03268                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
03269                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
03270                                         }
03271                                 }
03272                                 <span class="keywordflow">else</span>{
03273                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
03274                                                 jj = accu[ii];
03275                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize ) + ( jj &gt;&gt; 2*aXlutWordSize );
03276                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) ; <span class="comment">/*  aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
03277                 
03278                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
03279                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
03280                                                 ko0 += aAlutOffset;
03281                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
03282                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
03283                                                 <span class="keywordflow">else</span>
03284                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
03285                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
03286                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
03287                                         }
03288                                 }
03289                         }
03290                         <span class="keywordflow">while</span> (--i){
03291                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
03292                                         inputData[jj] += (<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> * 2);
03293                                 }
03294                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
03295                                         outputData[jj] += OutputIncrement;
03296                                 }
03297         
03298                                 {
03299                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
03300                                                 <span class="keywordflow">if</span>( *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[jj]) ^ ein_Cache[jj] )<span class="keywordflow">break</span>;
03301                                         }
03302                                 }
03303                                 <span class="keywordflow">if</span>( jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> ) <span class="keywordflow">break</span>;
03304                                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
03305                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
03306                                                 *outputData[jj] = outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> )];
03307                                         }
03308                                 }
03309                                 <span class="keywordflow">else</span>{
03310                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
03311                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[jj]) = *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)(&amp;outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> * 2)]);
03312                                         }
03313                                 }
03314                         }
03315                 }
03316                 
03317                 <span class="keywordflow">if</span>( --LineCount ){
03318                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
03319                                 inputData[jj] += inputDataRowOffset;
03320                         }
03321                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
03322                                 outputData[jj] += outputDataRowOffset;
03323                         }
03324                 }
03325     }
03326     }
03327     <span class="keywordflow">else</span>{
03328 
03329     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_breit_selektor;
03330     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_maske_selektor;
03331     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_breit_adr;
03332     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  bit_maske_adr;
03333     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  aAlutInShiftNum;
03334     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShift;
03335     <span class="keyword">register</span> <span class="keywordtype">long</span> aAlutInShiftRemainder;
03336     <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> aAlutRound;
03337     <span class="comment">/*register long aXlutPlaneShift = aXlutAdrShift*aXlutInDim;*/</span>
03338     bit_breit_selektor=aElutWordSize-aXlutAdrShift;
03339     <span class="keywordflow">if</span>( aElutWordSize-aXlutAdrShift &lt; 0 )
03340     {
03341 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
03342 <span class="preprocessor"></span>        <a class="code" href="../../d7/d2/drivesup_8c.html#a0">DebugPrint</a>(<span class="stringliteral">"¥ DoNDim-Error: bit_breit_selektor &lt; 0 (bit_breit_selektor = %d)\n"</span>,bit_breit_selektor);
03343 <span class="preprocessor">#endif</span>
03344 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
03345     }
03346     bit_maske_selektor=(1&lt;&lt;bit_breit_selektor)-1;
03347     bit_breit_adr=aXlutAdrShift;
03348     bit_maske_adr=((1&lt;&lt;bit_breit_adr)-1)&lt;&lt;bit_breit_selektor;
03349     aAlutInShift = (aXlutWordSize+bit_breit_selektor-<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a>);
03350     <span class="comment">/*aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
03351     aAlutInShiftRemainder = 0;
03352     <span class="keywordflow">if</span>( aAlutInShift &gt; 16 ){
03353         aAlutInShiftRemainder = aAlutInShift - 16;
03354         aAlutInShift = 16;
03355     }
03356         
03357     aAlutInShiftNum = (1&lt;&lt;aAlutInShift);
03358     
03359         aAlutRound = 1&lt;&lt;( aAlutInShift + aAlutShift - 1 );
03360         <span class="keywordflow">while</span> (LineCount){
03361                 i = Pixelcount;
03362                 
03363                 <span class="keywordflow">while</span> (i){
03364         
03365                 <span class="keywordtype">long</span> adr[8],<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[8];
03366                 <span class="comment">/*LH_UINT16 *ein_lut = (LH_UINT16 *)ein_lut;*/</span>
03367                 <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> ein_reg[8];
03368                    <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  adrAdr,ko,adrOffset;
03369                 <span class="comment">/*register unsigned long aIndex;*/</span>
03370         
03371                 adr0=0;
03372                 aElutOffset = 0;
03373                 jj=0;
03374                         jj=ein_Cache[0]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[0]);
03375                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
03376                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
03377                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
03378                         ko0 += aElutOffset;
03379                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
03380         
03381                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
03382                         adr[0] = (jj &amp; bit_maske_selektor);
03383                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-0-1)*bit_breit_adr);
03384                         ein_reg[0] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
03385 
03386                         jj=ein_Cache[1]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[1]);
03387                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
03388                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
03389                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
03390                         ko0 += aElutOffset;
03391                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
03392         
03393                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
03394                         adr[1] = (jj &amp; bit_maske_selektor);
03395                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-1)*bit_breit_adr);
03396                         ein_reg[1] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
03397 
03398                         jj=ein_Cache[2]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[2]);
03399                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
03400                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
03401                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
03402                         ko0 += aElutOffset;
03403                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
03404         
03405                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
03406                         adr[2] = (jj &amp; bit_maske_selektor);
03407                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-2-1)*bit_breit_adr);
03408                         ein_reg[2] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
03409 
03410 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
03411 <span class="preprocessor"></span>                        jj=ein_Cache[3]=(*(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[3]);
03412                         ko0 = jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a19">adr_breite_elut</a> ));
03413                         ko = ko0 &amp; ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - 1 );
03414                         ko0 = ko0 &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
03415                         ko0 += aElutOffset;
03416                            jj = ( ein_lut[ ko0 ] * ( <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a7">aElutShiftNum</a> - ko ) + ein_lut[ ko0 +1 ] * ko ) &gt;&gt; <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a6">aElutShift</a>;
03417         
03418                         aElutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a18">adr_bereich_elut</a>;
03419                         adr[3] = (jj &amp; bit_maske_selektor);
03420                         adr0 |= ((jj &amp; bit_maske_adr)&gt;&gt;bit_breit_selektor)&lt;&lt;((<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-3-1)*bit_breit_adr);
03421                         ein_reg[3] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
03422 <span class="preprocessor">#endif  </span>
03423 <span class="preprocessor"></span>                adr0 *= <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>;
03424         
03425                 {                                                               <span class="comment">/* a kind of */</span>
03426                     <span class="keyword">register</span> <span class="keywordtype">long</span> <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03427                     
03428                         
03429                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = 0;
03430                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = 1;
03431                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = 2;
03432 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
03433 <span class="preprocessor"></span>                                <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = 3;
03434 <span class="preprocessor">#endif</span>
03435 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[0] &lt; adr[1] ){
03436                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
03437                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03438                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03439                                         }
03440 
03441                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[2] ){
03442                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03443                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
03444                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03445                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
03446                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
03447                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03448                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03449                                                 }
03450                                         }
03451 
03452 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
03453 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] &lt; adr[3] ){
03454                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
03455                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
03456                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03457                                                 <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2]] ){
03458                                                         <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03459                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
03460                                                         <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03461                                                         <span class="keywordflow">if</span>( adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0]] &lt; adr[<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1]] ){
03462                                                                 <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a> = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
03463                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0] = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03464                                                                 <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1] = <a class="code" href="../../d5/d2/rtnotify_8c.html#a8">Hold</a>;
03465                                                         }
03466                                                 }
03467                                         }
03468 <span class="preprocessor">#endif</span>
03469 <span class="preprocessor"></span>                }
03470         
03471                         accu[0]=0;
03472                         accu[1]=0;
03473                         accu[2]=0;
03474 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03475 <span class="preprocessor"></span>                        accu[3]=0;
03476 <span class="preprocessor">#endif</span>
03477 <span class="preprocessor"></span>        
03478                 ko0 = bit_maske_selektor+1;
03479                 adrAdr=adr0;
03480                 adrOffset=0;
03481         
03482                 <span class="keywordflow">if</span>( aXlutWordSize  == 16 ){
03483                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
03484                         ko = ko0 - adr[jj];
03485                         ko0 = adr[jj];
03486         
03487                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
03488                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
03489         
03490                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
03491                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
03492                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
03493 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03494 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
03495 <span class="preprocessor">#endif</span>
03496 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
03497 
03498                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03499                         ko = ko0 - adr[jj];
03500                         ko0 = adr[jj];
03501         
03502                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
03503                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
03504         
03505                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
03506                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
03507                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
03508 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03509 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
03510 <span class="preprocessor">#endif</span>
03511 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
03512 
03513                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
03514                         ko = ko0 - adr[jj];
03515                         ko0 = adr[jj];
03516         
03517                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
03518                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
03519         
03520                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
03521                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
03522                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
03523 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03524 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
03525 <span class="preprocessor">#endif</span>
03526 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
03527 
03528 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
03529 <span class="preprocessor"></span>                        jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
03530                         ko = ko0 - adr[jj];
03531                         ko0 = adr[jj];
03532         
03533                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
03534                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
03535         
03536                                                 accu[0]+=Xlut[adrAdr+(0)]*ko;
03537                                                 accu[1]+=Xlut[adrAdr+(1)]*ko;
03538                                                 accu[2]+=Xlut[adrAdr+(2)]*ko;
03539 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03540 <span class="preprocessor"></span>                                                accu[3]+=Xlut[adrAdr+(3)]*ko;
03541 <span class="preprocessor">#endif</span>
03542 <span class="preprocessor"></span>                        adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
03543 <span class="preprocessor">#endif</span>
03544 <span class="preprocessor"></span>                accu[0]+=Xlut[adrAdr+0]*ko0;
03545                 accu[1]+=Xlut[adrAdr+1]*ko0;
03546                 accu[2]+=Xlut[adrAdr+2]*ko0;
03547 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03548 <span class="preprocessor"></span>                                accu[3]+=Xlut[adrAdr+3]*ko0;
03549 <span class="preprocessor">#endif</span>
03550 <span class="preprocessor"></span>                }
03551                 <span class="keywordflow">else</span>{
03552                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[0];
03553                         ko = ko0 - adr[jj];
03554                         ko0 = adr[jj];
03555         
03556                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
03557                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
03558         
03559                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
03560                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
03561                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
03562 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03563 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
03564 <span class="preprocessor">#endif</span>
03565 <span class="preprocessor"></span>        
03566                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
03567 
03568                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[1];
03569                         ko = ko0 - adr[jj];
03570                         ko0 = adr[jj];
03571         
03572                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
03573                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
03574         
03575                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
03576                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
03577                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
03578 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03579 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
03580 <span class="preprocessor">#endif</span>
03581 <span class="preprocessor"></span>        
03582                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
03583 
03584                         jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[2];
03585                         ko = ko0 - adr[jj];
03586                         ko0 = adr[jj];
03587         
03588                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
03589                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
03590         
03591                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
03592                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
03593                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
03594 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03595 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
03596 <span class="preprocessor">#endif</span>
03597 <span class="preprocessor"></span>        
03598                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
03599 
03600 <span class="preprocessor">#if NDIM_IN_DIM == 4</span>
03601 <span class="preprocessor"></span>                        jj = <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>[3];
03602                         ko = ko0 - adr[jj];
03603                         ko0 = adr[jj];
03604         
03605                         <span class="keywordflow">if</span>( ein_reg[jj] &lt; bit_maske_adr )
03606                             adrOffset |= (1&lt;&lt;(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>-1-jj)*bit_breit_adr);
03607         
03608                             accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(0)]*ko;
03609                             accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(1)]*ko;
03610                             accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(2)]*ko;
03611 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03612 <span class="preprocessor"></span>                            accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+(3)]*ko;
03613 <span class="preprocessor">#endif</span>
03614 <span class="preprocessor"></span>        
03615                         adrAdr = (adr0 + <a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>*adrOffset);
03616 <span class="preprocessor">#endif</span>
03617 <span class="preprocessor"></span>                                accu[0]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+0]*ko0;
03618                 accu[1]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+1]*ko0;
03619                 accu[2]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+2]*ko0;
03620 <span class="preprocessor">#if NDIM_OUT_DIM == 4</span>
03621 <span class="preprocessor"></span>                                accu[3]+=((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)Xlut)[adrAdr+3]*ko0;
03622 <span class="preprocessor">#endif</span>
03623 <span class="preprocessor"></span>                }
03624         
03625                 aAlutOffset = 0;
03626         
03627                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
03628                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
03629                                         jj = accu[ii];
03630                                         jj = jj + ( jj &gt;&gt; aXlutWordSize );
03631 
03632                                         ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder;     <span class="comment">/*      aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
03633 
03634                                         ko = ko0 &amp; (aAlutInShiftNum - 1 );
03635                                         ko0 = ko0 &gt;&gt; aAlutInShift;
03636                                         ko0 += aAlutOffset;
03637                                         <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
03638                                         jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &gt;&gt; ( aAlutInShift );
03639                                         <span class="keywordflow">else</span>{
03640                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko );
03641                                                 jj = jj - ( jj &gt;&gt; aAlutShift );
03642                                                 jj = ( jj + aAlutRound ) &gt;&gt; (aAlutInShift + aAlutShift);
03643                                         }
03644 
03645                                         *outputData[ii] = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>)jj;
03646                         aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
03647                     }
03648                 }
03649                 <span class="keywordflow">else</span>{
03650                                 <span class="keywordflow">if</span>( aXlutWordSize &gt;= 16 ){
03651                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
03652                                                 jj = accu[ii];
03653                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize );
03654                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))) &gt;&gt; aAlutInShiftRemainder; <span class="comment">/*  aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
03655                 
03656                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
03657                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
03658                                                 ko0 += aAlutOffset;
03659                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
03660                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
03661                                                 <span class="keywordflow">else</span>
03662                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
03663                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
03664                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
03665                                         }
03666                                 }
03667                                 <span class="keywordflow">else</span>{
03668                                         <span class="keywordflow">for</span>( ii=0; ii&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++ii){
03669                                                 jj = accu[ii];
03670                                                 jj = jj + ( jj &gt;&gt; aXlutWordSize ) + ( jj &gt;&gt; 2*aXlutWordSize );
03671                                 ko0 = (jj - ( jj &gt;&gt; ( <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a22">adr_breite_alut</a> ))); <span class="comment">/*   aAlutInShift = aXlutWordSize + aElutWordSize - adr_breite_alut;*/</span>
03672                 
03673                                                 ko = ko0 &amp; (aAlutInShiftNum - 1 );
03674                                                 ko0 = ko0 &gt;&gt; aAlutInShift;
03675                                                 ko0 += aAlutOffset;
03676                                                 <span class="keywordflow">if</span>( aAlutWordSize &lt;= 8)
03677                                                 jj = ( ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 ] * ( aAlutInShiftNum - ko ) + ((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>*)aus_lut)[ ko0 +1 ] * ko ) &lt;&lt; ( aAlutShift - aAlutInShift );
03678                                                 <span class="keywordflow">else</span>
03679                                                 jj = ( aus_lut[ ko0 ] * ( aAlutInShiftNum - ko ) + aus_lut[ ko0 +1 ] * ko ) &gt;&gt; (aAlutInShift- aAlutShift);
03680                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[ii]) =  (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a>)jj;
03681                                                 aAlutOffset += <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a21">adr_bereich_alut</a>;
03682                                         }
03683                                 }
03684                 }
03685         
03686                         <span class="keywordflow">while</span> (--i){
03687                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
03688                                         inputData[jj] += (<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> * 2);
03689                                 }
03690                                 <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
03691                                         outputData[jj] += OutputIncrement;
03692                                 }
03693         
03694                                 {
03695                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
03696                                                 <span class="keywordflow">if</span>( *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)inputData[jj]) ^ ein_Cache[jj] )<span class="keywordflow">break</span>;
03697                                         }
03698                                 }
03699                                 <span class="keywordflow">if</span>( jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a> ) <span class="keywordflow">break</span>;
03700                                 <span class="keywordflow">if</span>( aOutputPackMode8Bit ){
03701                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
03702                                                 *outputData[jj] = outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> )];
03703                                         }
03704                                 }
03705                                 <span class="keywordflow">else</span>{
03706                                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
03707                                                 *((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)outputData[jj]) = *(<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)(&amp;outputData[jj][-(<span class="keywordtype">long</span>)(<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a> * 2)]);
03708                                         }
03709                                 }
03710                         }
03711                 }
03712                 
03713                 <span class="keywordflow">if</span>( --LineCount ){
03714                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a4">NDIM_IN_DIM</a>; ++jj){
03715                                 inputData[jj] += inputDataRowOffset;
03716                         }
03717                         <span class="keywordflow">for</span>( jj=0; jj&lt;<a class="code" href="../../d6/d3/lh__core_2calcnd3_8c.html#a5">NDIM_OUT_DIM</a>; ++jj){
03718                                 outputData[jj] += outputDataRowOffset;
03719                         }
03720                 }
03721     }
03722     }
03723 
03724         <span class="comment">/* UNLOCK_DATA( aElutHdle ); */</span>
03725         <span class="comment">/* UNLOCK_DATA( aAlutHdle ); */</span>
03726         <span class="comment">/* UNLOCK_DATA( aXlutHdle ); */</span>
03727 
03728         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a2">LH_END_PROC</a>(<span class="stringliteral">"Calc424Dim_Data8To8_Lut16"</span>)
03729         <span class="keywordflow">return</span> <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
03730 }
03731 <span class="preprocessor">#endif</span>
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:39:20 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
