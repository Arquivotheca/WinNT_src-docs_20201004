<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: tmcb.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>tmcb.c File Reference</h1><code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include "PbProcs.h"</code><br>

<p>
<a href="../../d8/d1/tmcb_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a> (IN <a class="el" href="../../d2/d7/struct__MCB.html">PMCB</a> Mcb)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d7/d2/tmcb_8c.html#a2">McbTest</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d7/d2/tmcb_8c.html#a3">main</a> (int argc, char *argv[])</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d7/d2/tmcb_8c.html#a4">TestAddEntry</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d7/d2/tmcb_8c.html#a5">TestRemoveEntry</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d7/d2/tmcb_8c.html#a6">TestLookupEntry</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d7/d2/tmcb_8c.html#a7">TestGetEntry</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d7/d2/tmcb_8c.html#a8">TestLookupLastEntry</a> ()</td></tr>

<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>ULONG&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d7/d2/tmcb_8c.html#a0">IoInitIncludeDevices</a></td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a3" doxytag="tmcb.c::main" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int main           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>argv</em>[]</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d8/d1/tmcb_8c-source.html#l00040">40</a> of file <a class="el" href="../../d8/d1/tmcb_8c-source.html">tmcb.c</a>.
<p>
References <a class="el" href="../../d7/d5/memprint_8h-source.html#l00079">DbgPrint</a>, <a class="el" href="../../d8/d1/tmcb_8c-source.html#l00034">IoInitIncludeDevices</a>, <a class="el" href="../../d8/d1/init_8h.html#a22">KiSystemStartup()</a>, <a class="el" href="../../d1/d8/fsrtl_8h.html#a75">MCB</a>, <a class="el" href="../../d8/d1/tmcb_8c-source.html#l00061">McbTest()</a>, <a class="el" href="../../d5/d9/tex_8c-source.html#l00033">TestFunction</a>, and <a class="el" href="../../d2/d7/hal_8h.html#a212">VOID()</a>.
<p>
<pre class="fragment"><div>00044 {
00045     <span class="keyword">extern</span> ULONG <a class="code" href="../../d7/d2/tmcb_8c.html#a0">IoInitIncludeDevices</a>;
00046     <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d8/d1/init_8h.html#a22">KiSystemStartup</a>();
00047 
00048     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"sizeof(MCB) = %d\n"</span>, <span class="keyword">sizeof</span>(<a class="code" href="../../d2/d7/struct__MCB.html">MCB</a>));
00049 
00050     <a class="code" href="../../d7/d2/tmcb_8c.html#a0">IoInitIncludeDevices</a> = 0; <span class="comment">// IOINIT_FATFS |</span>
00051                               <span class="comment">// IOINIT_PINBALLFS |</span>
00052                               <span class="comment">// IOINIT_DDFS;</span>
00053     <a class="code" href="../../d4/d0/tex_8c.html#a2">TestFunction</a> = <a class="code" href="../../d7/d2/tmcb_8c.html#a2">McbTest</a>;
00054 
00055     <a class="code" href="../../d8/d1/init_8h.html#a22">KiSystemStartup</a>();
00056 
00057     <span class="keywordflow">return</span>( 0 );
00058 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="tmcb.c::McbTest" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN McbTest           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d8/d1/tmcb_8c-source.html#l00061">61</a> of file <a class="el" href="../../d8/d1/tmcb_8c-source.html">tmcb.c</a>.
<p>
References <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d8/d1/tmcb_8c-source.html#l00094">TestAddEntry()</a>, <a class="el" href="../../d8/d1/tmcb_8c-source.html#l00446">TestGetEntry()</a>, <a class="el" href="../../d8/d1/tmcb_8c-source.html#l00390">TestLookupEntry()</a>, <a class="el" href="../../d8/d1/tmcb_8c-source.html#l00486">TestLookupLastEntry()</a>, <a class="el" href="../../d8/d1/tmcb_8c-source.html#l00239">TestRemoveEntry()</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d8/d1/tmcb_8c-source.html#l00040">main()</a>.
<p>
<pre class="fragment"><div>00062 {
00063     BOOLEAN <a class="code" href="../../d7/d2/tmcb_8c.html#a4">TestAddEntry</a>();
00064     BOOLEAN <a class="code" href="../../d7/d2/tmcb_8c.html#a5">TestRemoveEntry</a>();
00065     BOOLEAN <a class="code" href="../../d7/d2/tmcb_8c.html#a6">TestLookupEntry</a>();
00066     BOOLEAN <a class="code" href="../../d7/d2/tmcb_8c.html#a7">TestGetEntry</a>();
00067     BOOLEAN <a class="code" href="../../d7/d2/tmcb_8c.html#a8">TestLookupLastEntry</a>();
00068 
00069     <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d2/tmcb_8c.html#a4">TestAddEntry</a>()) {
00070         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00071     }
00072 
00073     <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d2/tmcb_8c.html#a5">TestRemoveEntry</a>()) {
00074         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00075     }
00076 
00077     <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d2/tmcb_8c.html#a6">TestLookupEntry</a>()) {
00078         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00079     }
00080 
00081     <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d2/tmcb_8c.html#a7">TestGetEntry</a>()) {
00082         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00083     }
00084 
00085     <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d2/tmcb_8c.html#a8">TestLookupLastEntry</a>()) {
00086         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00087     }
00088 
00089     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00090 
00091 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="tmcb.c::PbDumpMcb" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID PbDumpMcb           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d2/d7/struct__MCB.html">PMCB</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>Mcb</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d8/d1/tmcb_8c-source.html#l00094">TestAddEntry()</a>, <a class="el" href="../../d8/d1/tmcb_8c-source.html#l00446">TestGetEntry()</a>, <a class="el" href="../../d8/d1/tmcb_8c-source.html#l00390">TestLookupEntry()</a>, and <a class="el" href="../../d8/d1/tmcb_8c-source.html#l00239">TestRemoveEntry()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="tmcb.c::TestAddEntry" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN TestAddEntry           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d8/d1/tmcb_8c-source.html#l00094">94</a> of file <a class="el" href="../../d8/d1/tmcb_8c-source.html">tmcb.c</a>.
<p>
References <a class="el" href="../../d7/d5/memprint_8h-source.html#l00079">DbgPrint</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d8/ex_8h.html#a329a173">NonPagedPool</a>, <a class="el" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb()</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d8/d1/tmcb_8c-source.html#l00061">McbTest()</a>.
<p>
<pre class="fragment"><div>00095 {
00096     <a class="code" href="../../d2/d7/struct__MCB.html">MCB</a> Mcb;
00097     ULONG i;
00098     ULONG Vbn,Lbn,Length;
00099 
00100     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\n\n\n&gt;&gt;&gt;&gt; Test PbAddMcbEntry &lt;&lt;&lt;&lt;\n"</span>);
00101 
00102     <span class="comment">//</span>
00103     <span class="comment">//  Build the following runs</span>
00104     <span class="comment">//</span>
00105     <span class="comment">//  [0-9|10-19][20-29] [40-49]</span>
00106     <span class="comment">//</span>
00107 
00108     PbInitializeMcb(Mcb, NonPagedPool);
00109 
00110     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest 0:|--NewRun--|\n"</span>);
00111     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb,  0, 1000, 10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00112     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00113 
00114     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest --LastRun--|--NewRun--|\n"</span>);
00115     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 10, 1010, 10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00116     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00117 
00118     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest --LastRun--||--NewRun--|\n"</span>);
00119     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 20, 2020, 10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00120     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00121 
00122     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest --LastRun--|  hole  |--NewRun--|\n"</span>);
00123     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 40, 1040, 10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00124     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00125 
00126     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest over writing an existing run\n"</span>);
00127     <span class="keywordflow">if</span> (PbAddMcbEntry(Mcb, 40, 1190, 5)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00128     <span class="keywordflow">if</span> (PbAddMcbEntry(Mcb, 25, 1190, 10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00129     <span class="keywordflow">if</span> (PbAddMcbEntry(Mcb, 15, 1190, 10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00130 
00131     PbUninitializeMcb(Mcb);
00132 
00133     <span class="comment">//</span>
00134     <span class="comment">//  Build the following runs</span>
00135     <span class="comment">//</span>
00136     <span class="comment">//  [0-9] [30-39][40-49|50-59|60-64] [70-79][80-84] [90-99]</span>
00137     <span class="comment">//</span>
00138 
00139     PbInitializeMcb(Mcb, NonPagedPool);
00140 
00141     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest 0:  hole  |--NewRun--|\n"</span>);
00142     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 90, 1090, 10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00143     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00144 
00145     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest 0:  hole  |--NewRun--|  hole  |--FollowingRun--\n"</span>);
00146     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 50, 1050, 10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00147     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00148 
00149     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest --PreviousRun--|  hole  |--NewRun--|  hole  |--FollowingRun--\n"</span>);
00150     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 70, 1070, 10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00151     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00152 
00153     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest --PreviousRun--|--NewRun--|  hole  |--FollowingRun--\n"</span>);
00154     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 60, 1060,  5)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00155     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00156 
00157     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest --PreviousRun--||--NewRun--|  hole  |--FollowingRun--\n"</span>);
00158     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 80, 1180,  5)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00159     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00160 
00161     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest 0:|--NewRun--|  hole  |--FollowingRun--\n"</span>);
00162     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb,  0, 1000, 10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00163     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00164 
00165     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest --PreviousRun--|  hole  |--NewRun--|--FollowingRun--\n"</span>);
00166     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 40, 1040, 10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00167     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00168 
00169     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest --PreviousRun--|  hole  |--NewRun--||--FollowingRun--\n"</span>);
00170     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 30, 1130, 10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00171     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00172 
00173     PbUninitializeMcb(Mcb);
00174 
00175     <span class="comment">//</span>
00176     <span class="comment">//  Build the following runs</span>
00177     <span class="comment">//</span>
00178     <span class="comment">//  [0-9|10-19|20-29][30-39][40-49|50-59|60-69|70-79][80-89|90-99]</span>
00179     <span class="comment">//</span>
00180 
00181     PbInitializeMcb(Mcb, NonPagedPool);
00182     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 90, 1090, 10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00183 
00184     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest 0:  hole  |--NewRun--|--FollowingRun--\n"</span>);
00185     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 80, 1080, 10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00186     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00187 
00188     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest 0:  hole  |--NewRun--||--FollowingRun--\n"</span>);
00189     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 70, 1170, 10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00190     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00191 
00192     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 50, 1150, 10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00193     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest --PreviousRun--|--NewRun--|--FollowingRun--\n"</span>);
00194     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 60, 1160, 10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00195     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00196 
00197     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 30, 1030, 10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00198     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest --PreviousRun--||--NewRun--|--FollowingRun--\n"</span>);
00199     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 40, 1140, 10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00200     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00201 
00202     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 10, 1110, 10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00203     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest --PreviousRun--|--NewRun--||--FollowingRun--\n"</span>);
00204     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 20, 1120, 10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00205     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00206 
00207     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest 0:|--NewRun--|--FollowingRun--\n"</span>);
00208     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb,  0, 1100, 10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00209     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00210 
00211     PbUninitializeMcb(Mcb);
00212 
00213     <span class="comment">//</span>
00214     <span class="comment">//  Build the following runs</span>
00215     <span class="comment">//</span>
00216     <span class="comment">//  [0-69][80-79|80-89|90-99]</span>
00217     <span class="comment">//</span>
00218 
00219     PbInitializeMcb(Mcb, NonPagedPool);
00220     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 90, 1090, 10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00221 
00222     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 70, 1070, 10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00223     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest --PreviousRun--||--NewRun--||--FollowingRun--\n"</span>);
00224     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 80, 1010, 10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00225     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00226 
00227     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest 0:|--NewRun--||--FollowingRun--\n"</span>);
00228     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb,  0, 1100, 70)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00229     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00230 
00231     PbUninitializeMcb(Mcb);
00232 
00233     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00234 
00235 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="tmcb.c::TestGetEntry" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN TestGetEntry           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d8/d1/tmcb_8c-source.html#l00446">446</a> of file <a class="el" href="../../d8/d1/tmcb_8c-source.html">tmcb.c</a>.
<p>
References <a class="el" href="../../d7/d5/memprint_8h-source.html#l00079">DbgPrint</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d8/ex_8h.html#a329a173">NonPagedPool</a>, <a class="el" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb()</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d8/d1/tmcb_8c-source.html#l00061">McbTest()</a>.
<p>
<pre class="fragment"><div>00447 {
00448     <a class="code" href="../../d2/d7/struct__MCB.html">MCB</a> Mcb;
00449     ULONG i;
00450     ULONG Vbn,Lbn,Length;
00451 
00452     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\n\n\n&gt;&gt;&gt;&gt; TestPbNumberOfRunsInMcb &lt;&lt;&lt;&lt;\n"</span>);
00453 
00454     PbInitializeMcb(Mcb, NonPagedPool);
00455 
00456     <span class="keywordflow">for</span> (i =  0; i &lt; 100; i += 30) {
00457         <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, i, 1000+i, 10))
00458             {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Add1Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00459     }
00460     <span class="keywordflow">for</span> (i = 10; i &lt; 100; i += 30) {
00461         <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, i, 1100+i, 10))
00462             {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Add2Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00463     }
00464 
00465     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00466 
00467     i = PbNumberOfRunsInMcb(Mcb);
00468     <span class="keywordflow">if</span> (i != 10) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00469     <span class="keywordflow">for</span> (i = 0; i &lt; 10; i += 1) {
00470         <span class="keywordflow">if</span> (!PbGetNextMcbEntry(Mcb,i,&amp;Vbn,&amp;Lbn,&amp;Length))
00471             {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00472         <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"%d"</span>, i);
00473         <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">", %ld"</span>, Vbn);
00474         <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">", %ld"</span>, Lbn);
00475         <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">", %ld\n"</span>, Length);
00476     }
00477 
00478     PbUninitializeMcb(Mcb);
00479 
00480     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00481 
00482 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="tmcb.c::TestLookupEntry" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN TestLookupEntry           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d8/d1/tmcb_8c-source.html#l00390">390</a> of file <a class="el" href="../../d8/d1/tmcb_8c-source.html">tmcb.c</a>.
<p>
References <a class="el" href="../../d7/d5/memprint_8h-source.html#l00079">DbgPrint</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d8/ex_8h.html#a329a173">NonPagedPool</a>, <a class="el" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb()</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d8/d1/tmcb_8c-source.html#l00061">McbTest()</a>.
<p>
<pre class="fragment"><div>00391 {
00392     <a class="code" href="../../d2/d7/struct__MCB.html">MCB</a> Mcb;
00393     ULONG i;
00394     ULONG Vbn,Lbn,Length;
00395 
00396     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\n\n\n&gt;&gt;&gt;&gt; Test PbLookupMcbEntry &lt;&lt;&lt;&lt;\n"</span>);
00397 
00398     PbInitializeMcb(Mcb, NonPagedPool);
00399 
00400     <span class="keywordflow">for</span> (i =  0; i &lt; 100; i += 30) {
00401         <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, i, 1000+i, 10))
00402             {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Add1Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00403     }
00404     <span class="keywordflow">for</span> (i = 10; i &lt; 100; i += 30) {
00405         <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, i, 1100+i, 10))
00406             {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Add2Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00407     }
00408 
00409     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00410 
00411     <span class="keywordflow">for</span> (i =  0; i &lt; 100; i += 30) {
00412         <span class="keywordflow">if</span> (!PbLookupMcbEntry(Mcb,i,&amp;Lbn,&amp;Length))
00413             {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Lookup1Error %d\n"</span>, i);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00414         <span class="keywordflow">if</span> ((Lbn != 1000+i) || (Length != 10))
00415             {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Result1Error %d, %d, %d\n"</span>, i, Lbn, Length);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00416         <span class="keywordflow">if</span> (!PbLookupMcbEntry(Mcb,i+5,&amp;Lbn,&amp;Length))
00417             {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Lookup2Error %d\n"</span>, i);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00418         <span class="keywordflow">if</span> ((Lbn != 1000+i+5) || (Length != 5))
00419             {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Result2Error %d, %d, %d\n"</span>, i, Lbn, Length);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00420     }
00421 
00422     <span class="keywordflow">for</span> (i = 20; i &lt; 100; i += 30) {
00423         <span class="keywordflow">if</span> (!PbLookupMcbEntry(Mcb,i,&amp;Lbn,&amp;Length))
00424             {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Lookup3Error %d\n"</span>, i);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00425         <span class="keywordflow">if</span> ((Lbn != 0) || (Length != 10))
00426             {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Result3Error %d, %d, %d\n"</span>, i, Lbn, Length);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00427 
00428         <span class="keywordflow">if</span> (!PbLookupMcbEntry(Mcb,i+5,&amp;Lbn,&amp;Length))
00429             {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Lookup4Error %d\n"</span>, i);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00430         <span class="keywordflow">if</span> ((Lbn != 0) || (Length != 5)) {
00431             <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Result4Error %d"</span>, i+5);
00432             <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">", %08lx"</span>,   Lbn);
00433             <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">", %08lx\n"</span>, Length);
00434             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00435         }
00436     }
00437 
00438     PbUninitializeMcb(Mcb);
00439 
00440     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00441 
00442 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="tmcb.c::TestLookupLastEntry" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN TestLookupLastEntry           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d8/d1/tmcb_8c-source.html#l00486">486</a> of file <a class="el" href="../../d8/d1/tmcb_8c-source.html">tmcb.c</a>.
<p>
References <a class="el" href="../../d7/d5/memprint_8h-source.html#l00079">DbgPrint</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d8/ex_8h.html#a329a173">NonPagedPool</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d8/d1/tmcb_8c-source.html#l00061">McbTest()</a>.
<p>
<pre class="fragment"><div>00487 {
00488     <a class="code" href="../../d2/d7/struct__MCB.html">MCB</a> Mcb;
00489     ULONG i;
00490     ULONG Vbn,Lbn,Length;
00491 
00492 
00493     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\n\n\n&gt;&gt;&gt;&gt; Test PbLookupLastMcbEntry &lt;&lt;&lt;&lt;\n"</span>);
00494 
00495     PbInitializeMcb(Mcb, NonPagedPool);
00496 
00497     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb,  0, 1000, 100)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00498 
00499     <span class="keywordflow">if</span> (!PbLookupLastMcbEntry(Mcb, &amp;Vbn, &amp;Lbn)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00500     <span class="keywordflow">if</span> ((Vbn != 99) &amp;&amp; (Lbn != 1099)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Lookup Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00501 
00502     PbUninitializeMcb(Mcb);
00503 
00504     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00505 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="tmcb.c::TestRemoveEntry" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN TestRemoveEntry           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d8/d1/tmcb_8c-source.html#l00239">239</a> of file <a class="el" href="../../d8/d1/tmcb_8c-source.html">tmcb.c</a>.
<p>
References <a class="el" href="../../d7/d5/memprint_8h-source.html#l00079">DbgPrint</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d8/ex_8h.html#a329a173">NonPagedPool</a>, <a class="el" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb()</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d8/d1/tmcb_8c-source.html#l00061">McbTest()</a>.
<p>
<pre class="fragment"><div>00240 {
00241     <a class="code" href="../../d2/d7/struct__MCB.html">MCB</a> Mcb;
00242     ULONG i;
00243     ULONG Vbn,Lbn,Length;
00244 
00245     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\n\n\n&gt;&gt;&gt;&gt; Test PbRemoveMcbEntry &lt;&lt;&lt;&lt;\n"</span>);
00246 
00247     PbInitializeMcb(Mcb, NonPagedPool);
00248     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 0, 1000, 100)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00249 
00250     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest --Previous--|  Hole\n"</span>);
00251     PbRemoveMcbEntry(Mcb, 90, 10);
00252     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00253 
00254     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest --Previous--|  Hole  |--Following--\n"</span>);
00255     PbRemoveMcbEntry(Mcb, 50, 10);
00256     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00257 
00258     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest --Previous--|  Hole  |--Hole--\n"</span>);
00259     PbRemoveMcbEntry(Mcb, 40, 10);
00260     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00261 
00262     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest --hole--|  Hole  |--Following--\n"</span>);
00263     PbRemoveMcbEntry(Mcb, 60, 10);
00264     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00265 
00266     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest --hole--|  Hole\n"</span>);
00267     PbRemoveMcbEntry(Mcb, 70, 20);
00268     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00269 
00270     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest 0:  Hole  |--Following--\n"</span>);
00271     PbRemoveMcbEntry(Mcb, 0, 10);
00272     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00273 
00274     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest over remove\n"</span>);
00275     PbRemoveMcbEntry(Mcb, 0, 100);
00276     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00277 
00278     PbUninitializeMcb(Mcb);
00279 
00280 
00281 
00282     PbInitializeMcb(Mcb, NonPagedPool);
00283     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 0, 1000, 100)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00284 
00285     PbRemoveMcbEntry(Mcb, 10, 10);
00286     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest 0:  Hole |--Hole--\n"</span>);
00287     PbRemoveMcbEntry(Mcb,  0, 10);
00288     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00289 
00290     PbRemoveMcbEntry(Mcb, 30, 10);
00291     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest --Hole--|  Hole  |--Hole--\n"</span>);
00292     PbRemoveMcbEntry(Mcb, 20, 10);
00293     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00294 
00295     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest over remove\n"</span>);
00296     PbRemoveMcbEntry(Mcb, 0, 100);
00297     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00298 
00299     PbUninitializeMcb(Mcb);
00300 
00301 
00302 
00303     PbInitializeMcb(Mcb, NonPagedPool);
00304     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 0, 1000, 100)){<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00305 
00306     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest 0:  Hole\n"</span>);
00307     PbRemoveMcbEntry(Mcb, 0, 100);
00308     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00309 
00310     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb,  0, 1000,  30)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00311     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 30, 1130,  30)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00312     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 60, 1060,  30)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00313     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 90, 1190,  10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00314 
00315     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest --Previous--|  Hole  |--Index--||--Following--\n"</span>);
00316     PbRemoveMcbEntry(Mcb, 30, 10);
00317     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00318 
00319     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest --Hole--|  Hole  |--Index--||--Following--\n"</span>);
00320     PbRemoveMcbEntry(Mcb, 40, 10);
00321     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00322 
00323     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest --Previous--||--Index--|  Hole  |--Following--\n"</span>);
00324     PbRemoveMcbEntry(Mcb, 80, 10);
00325     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00326 
00327     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest --Previous--||--Index--|  Hole  |--Hole--\n"</span>);
00328     PbRemoveMcbEntry(Mcb, 70, 10);
00329     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00330 
00331     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest 0:|--Index--|  Hole  |--Index--||--Following--\n"</span>);
00332     PbRemoveMcbEntry(Mcb, 10, 10);
00333     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00334 
00335     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest over remove\n"</span>);
00336     PbRemoveMcbEntry(Mcb, 0, 100);
00337     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00338 
00339 
00340 
00341     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb,  0, 1000,  30)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00342     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 30, 1130,  30)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00343     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 60, 1060,  30)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00344     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 90, 1190,  10)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00345 
00346     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest --Previous--||--Index--|  Hole  |--Index--||--Following--\n"</span>);
00347     PbRemoveMcbEntry(Mcb, 40, 10);
00348     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00349 
00350     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest 0:|--Index--|  Hole  |--Following--\n"</span>);
00351     PbRemoveMcbEntry(Mcb, 20, 10);
00352     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00353 
00354     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest --Previous--||--Index--|  Hole\n"</span>);
00355     PbRemoveMcbEntry(Mcb, 80, 20);
00356     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00357 
00358     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest over remove\n"</span>);
00359     PbRemoveMcbEntry(Mcb, 0, 100);
00360     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00361 
00362 
00363     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb,  0, 1000,  100)){<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00364 
00365     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest 0:--Index--|  Hole\n"</span>);
00366     PbRemoveMcbEntry(Mcb, 50, 50);
00367     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00368 
00369     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest over remove\n"</span>);
00370     PbRemoveMcbEntry(Mcb, 0, 100);
00371     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00372 
00373 
00374 
00375     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb,  0, 1000,  50)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00376     <span class="keywordflow">if</span> (!PbAddMcbEntry(Mcb, 50, 1150,  50)) {<a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error\n"</span>);<span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;}
00377 
00378     <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"\nTest 0:  hole  |--Index--||--Following--\n"</span>);
00379     PbRemoveMcbEntry(Mcb,  0, 20);
00380     <a class="code" href="../../d7/d2/tmcb_8c.html#a1">PbDumpMcb</a>( Mcb );
00381 
00382     PbUninitializeMcb(Mcb);
00383 
00384     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00385 
00386 }
</div></pre>    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a0" doxytag="tmcb.c::IoInitIncludeDevices" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ULONG <a class="el" href="../../d7/d2/tmcb_8c.html#a0">IoInitIncludeDevices</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d8/d1/tmcb_8c-source.html#l00034">34</a> of file <a class="el" href="../../d8/d1/tmcb_8c-source.html">tmcb.c</a>.
<p>
Referenced by <a class="el" href="../../d8/d1/tmcb_8c-source.html#l00040">main()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:45:46 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
