<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: inctlpan.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>inctlpan.c File Reference</h1><code>#include "<a class="el" href="../../d1/d3/w32_2ntuser_2kernel_2precomp_8h-source.html">precomp.h</a>"</code><br>

<p>
<a href="../../d2/d0/inctlpan_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/inctlpan_8c.html#a0">DIVISOR</a>&nbsp;&nbsp;&nbsp;72</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/inctlpan_8c.html#a1">DU_BTNWIDTH</a>&nbsp;&nbsp;&nbsp;50</td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>__inline int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/inctlpan_8c.html#a4">MetricGetID</a> (PUNICODE_STRING pProfileUserName, UINT idStr, int defValue)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>UINT&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/inctlpan_8c.html#a5">xxxMB_FindLongestString</a> (HDC hdc)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/inctlpan_8c.html#a6">GetFrameControlMetrics</a> (UINT obi, int cxMax)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/inctlpan_8c.html#a7">PackFrameControls</a> (int cxMax, BOOL fRecord)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/inctlpan_8c.html#a8">DrawCaptionButtons</a> (int x, int y)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>HBITMAP&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/inctlpan_8c.html#a9">CreateCaptionStrip</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/inctlpan_8c.html#a10">CreateBitmapStrip</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/inctlpan_8c.html#a11">SetNCMetrics</a> (LPNONCLIENTMETRICS lpnc)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>HFONT&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/inctlpan_8c.html#a12">CreateFontFromWinIni</a> (PUNICODE_STRING pProfileUserName, LPLOGFONTW lplf, UINT idFont)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/inctlpan_8c.html#a13">UserSetFont</a> (PUNICODE_STRING pProfileUserName, LPLOGFONTW lplf, UINT idFont, HFONT *phfont)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/inctlpan_8c.html#a14">xxxSetNCFonts</a> (PUNICODE_STRING pProfileUserName, LPNONCLIENTMETRICS lpnc)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/inctlpan_8c.html#a15">SetIconFonts</a> (PUNICODE_STRING pProfileUserName, LPICONMETRICS lpicon)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/inctlpan_8c.html#a16">GetWindowNCMetrics</a> (LPNONCLIENTMETRICS lpnc)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/inctlpan_8c.html#a17">xxxSetWindowNCMetrics</a> (PUNICODE_STRING pProfileUserName, LPNONCLIENTMETRICS lpnc, BOOL fSizeChange, int clNewBorder)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/inctlpan_8c.html#a18">SetMinMetrics</a> (PUNICODE_STRING pProfileUserName, LPMINIMIZEDMETRICS lpmin)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/inctlpan_8c.html#a19">SetIconMetrics</a> (PUNICODE_STRING pProfileUserName, LPICONMETRICS lpicon)</td></tr>

<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>CONST WORD&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/inctlpan_8c.html#a2">sysBmpStyles</a> [OBI_COUNT][2]</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> [5]</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a0" doxytag="inctlpan.c::DIVISOR" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DIVISOR&nbsp;&nbsp;&nbsp;72          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00130">130</a> of file <a class="el" href="../../d2/d0/inctlpan_8c-source.html">inctlpan.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="inctlpan.c::DU_BTNWIDTH" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DU_BTNWIDTH&nbsp;&nbsp;&nbsp;50          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00131">131</a> of file <a class="el" href="../../d2/d0/inctlpan_8c-source.html">inctlpan.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00861">xxxSetNCFonts()</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a10" doxytag="inctlpan.c::CreateBitmapStrip" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL CreateBitmapStrip           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00494">494</a> of file <a class="el" href="../../d2/d0/inctlpan_8c-source.html">inctlpan.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d5/d0/userk_8h-source.html#l00037">CCACHEDCAPTIONS</a>, <a class="el" href="../../d4/d1/userk_8h.html#a1843">CreateCaptionStrip()</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l01020">tagOEMBITMAPINFO::cx</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00480">cy</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l01021">tagOEMBITMAPINFO::cy</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00444">DrawCaptionButtons()</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00729">DrawFrameControl()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00061">FillRect()</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00244">gcachedCaptions</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00315">GetFrameControlMetrics()</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00298">ghbmBits</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00299">ghbmCaption</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00464">gpDispInfo</a>, <a class="el" href="../../d2/d7/clglobal_8c-source.html#l00051">gpsi</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02138">HDCBITS</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02099">tagDISPLAYINFO::hdcScreen</a>, <a class="el" href="../../d6/d3/acpitabl_8h-source.html#l00366">min</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l01053">OBI_COUNT</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l01022">OBI_MENUCHECK</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00411">PackFrameControls()</a>, <a class="el" href="../../d5/d0/userk_8h-source.html#l02756">tagCAPTIONCACHE::pOem</a>, <a class="el" href="../../d5/d0/userk_8h-source.html#l02755">tagCAPTIONCACHE::spcursor</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00033">sysBmpStyles</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00212">SYSHBR</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00202">SYSMET</a>, <a class="el" href="../../d2/d7/clglobal_8c-source.html#l00065">szOneChar</a>, <a class="el" href="../../d5/d0/userk_8h-source.html#l06672">TestALPHA</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d0/d5/ndismain_8h-source.html#l00026">UINT</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00368">Unlock</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l01018">tagOEMBITMAPINFO::x</a>, and <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l01019">tagOEMBITMAPINFO::y</a>.
<p>
Referenced by <a class="el" href="../../d9/d7/fullscr_8c-source.html#l01152">xxxResetDisplayDevice()</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l01080">xxxSetWindowNCMetrics()</a>, and <a class="el" href="../../d5/d4/rare_8c-source.html#l01497">xxxSystemParametersInfo()</a>.
<p>
<pre class="fragment"><div>00495 {
00496     <span class="keywordtype">int</span>     cxBmp = 0;
00497     <span class="keywordtype">int</span>     cyBmp = 0;
00498     <span class="keywordtype">int</span>     iCache = 0;
00499     HBITMAP hOldBitmap;
00500     HBITMAP hNewBmp;
00501     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>    iType;
00502     RECT    rc;
00503     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>    wBmpType;
00504     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>    wBmpStyle;
00505     <a class="code" href="../../d0/d3/structtagOEMBITMAPINFO.html">POEMBITMAPINFO</a>  pOem;
00506 
00507     <span class="comment">/*</span>
00508 <span class="comment">     * Each OBI_ must have an entry in sysBmpStyles</span>
00509 <span class="comment">     */</span>
00510     UserAssert(OBI_COUNT == <span class="keyword">sizeof</span>(sysBmpStyles) / <span class="keyword">sizeof</span>(*sysBmpStyles));
00511     UserAssert(OBI_COUNT == <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;oembmi) / <span class="keyword">sizeof</span>(*(<a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;oembmi)));
00512 
00513     <span class="comment">/*</span>
00514 <span class="comment">     * load all the bitmap dimensions into the OEMBITMAPINFO array oemInfo.bm</span>
00515 <span class="comment">     */</span>
00516     <span class="keywordflow">for</span> (iType = 0; iType &lt; <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a361">OBI_COUNT</a>; iType++)
00517         cxBmp = <a class="code" href="../../d1/d1/inctlpan_8c.html#a6">GetFrameControlMetrics</a>(iType, cxBmp);
00518 
00519     <span class="keywordflow">for</span> (iType = 0; iType &lt; 5; iType++)
00520         <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>[iType] = <a class="code" href="../../d1/d1/inctlpan_8c.html#a7">PackFrameControls</a>(cxBmp * (iType + 1), FALSE) * (iType + 1);
00521 
00522     cyBmp = <a class="code" href="../../d5/d4/acpitabl_8h.html#a69">min</a>(cy[0], <a class="code" href="../../d5/d4/acpitabl_8h.html#a69">min</a>(cy[1], <a class="code" href="../../d5/d4/acpitabl_8h.html#a69">min</a>(cy[2], <a class="code" href="../../d5/d4/acpitabl_8h.html#a69">min</a>(cy[3], cy[4]))));
00523     <span class="keywordflow">for</span> (iType = 0; cyBmp != <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>[iType]; iType++);
00524 
00525     cxBmp *= iType + 1;
00526     cyBmp = <a class="code" href="../../d1/d1/inctlpan_8c.html#a7">PackFrameControls</a>(cxBmp, TRUE);
00527 
00528     hNewBmp = GreCreateCompatibleBitmap(<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a179">gpDispInfo</a>-&gt;<a class="code" href="../../d9/d3/structtagDISPLAYINFO.html#o3">hdcScreen</a>, cxBmp, cyBmp);
00529 
00530     <span class="keywordflow">if</span> (hNewBmp == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00531         RIPMSG0(RIP_WARNING, <span class="stringliteral">"CreateBitmapStrip: failed to create bitmap"</span>);
00532         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00533     }
00534 
00535     GreSetBitmapOwner(hNewBmp, OBJECT_OWNER_PUBLIC);
00536 
00537     <span class="comment">/*</span>
00538 <span class="comment">     * Select in Bitmap Strip -- then delete old one if it exists</span>
00539 <span class="comment">     * Yanked for Chicago since these can now be paged</span>
00540 <span class="comment">     *    GDIMoveBitmap(hNewBmp);</span>
00541 <span class="comment">     */</span>
00542     hOldBitmap = GreSelectBitmap(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a527">HDCBITS</a>(), hNewBmp);
00543 
00544     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a130">ghbmBits</a>) {
00545 <span class="preprocessor">#if DBG</span>
00546 <span class="preprocessor"></span>        <span class="comment">/*</span>
00547 <span class="comment">         * Don't assert if we're out of memory</span>
00548 <span class="comment">         */</span>
00549         <span class="keywordflow">if</span> (hOldBitmap != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00550             UserAssert(ghbmBits == hOldBitmap);
00551         }
00552 <span class="preprocessor">#endif</span>
00553 <span class="preprocessor"></span>        GreDeleteObject(ghbmCaption);
00554         GreDeleteObject(hOldBitmap);
00555     } <span class="keywordflow">else</span> {
00556        <span class="comment">/*</span>
00557 <span class="comment">        * hack to clear out display driver's font cache</span>
00558 <span class="comment">        */</span>
00559        GreExtTextOutW(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a527">HDCBITS</a>(), 0, 0, 0, NULL, (PWSTR)szOneChar, 1, NULL);
00560     }
00561 
00562     <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a130">ghbmBits</a> = hNewBmp;
00563 
00564     <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a131">ghbmCaption</a> = <a class="code" href="../../d4/d1/userk_8h.html#a1843">CreateCaptionStrip</a>();
00565 
00566     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a131">ghbmCaption</a> == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00567         RIPMSG0(RIP_WARNING, <span class="stringliteral">"CreateBitmapStrip: failed to create bitmap for caption"</span>);
00568         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00569     }
00570 
00571     <span class="comment">/*</span>
00572 <span class="comment">     * draw individual bitmaps into the strip bitmap and record the offsets</span>
00573 <span class="comment">     */</span>
00574     <span class="keywordflow">for</span> (pOem = <a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;oembmi, iType = 0; iType &lt; <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a361">OBI_COUNT</a>; iType++, pOem++) {
00575         <span class="keywordflow">if</span> (!pOem-&gt;<a class="code" href="../../d0/d3/structtagOEMBITMAPINFO.html#o2">cx</a>) {
00576             *pOem = <a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;oembmi[pOem-&gt;<a class="code" href="../../d0/d3/structtagOEMBITMAPINFO.html#o3">cy</a>];
00577         } <span class="keywordflow">else</span> {
00578             rc.left = pOem-&gt;<a class="code" href="../../d0/d3/structtagOEMBITMAPINFO.html#o0">x</a>;
00579             rc.top = pOem-&gt;<a class="code" href="../../d0/d3/structtagOEMBITMAPINFO.html#o1">y</a>;
00580             rc.right = rc.left + pOem-&gt;<a class="code" href="../../d0/d3/structtagOEMBITMAPINFO.html#o2">cx</a>;
00581             rc.bottom = rc.top + pOem-&gt;<a class="code" href="../../d0/d3/structtagOEMBITMAPINFO.html#o3">cy</a>;
00582 
00583             wBmpType  = <a class="code" href="../../d1/d1/inctlpan_8c.html#a2">sysBmpStyles</a>[iType][0];
00584             wBmpStyle = <a class="code" href="../../d1/d1/inctlpan_8c.html#a2">sysBmpStyles</a>[iType][1];
00585 
00586             <span class="keywordflow">if</span> (wBmpType == DFC_CACHE) {
00587                 <span class="keywordflow">if</span> (wBmpStyle &amp; DFCS_CACHEBUTTONS) {
00588                     HBRUSH hbr;
00589                     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d1/userk_8h.html#a666">TestALPHA</a>(GRADIENTCAPTIONS)) {
00590                         hbr = (wBmpStyle &amp; DFCS_INACTIVE) ? <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(GRADIENTINACTIVECAPTION) : <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(GRADIENTACTIVECAPTION);
00591                     } <span class="keywordflow">else</span> {
00592                         hbr = (wBmpStyle &amp; DFCS_INACTIVE) ? <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(INACTIVECAPTION) : <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(ACTIVECAPTION);
00593                     }
00594                     <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a3">FillRect</a>(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a527">HDCBITS</a>(), &amp;rc, hbr);
00595                     <a class="code" href="../../d1/d1/inctlpan_8c.html#a8">DrawCaptionButtons</a>(rc.left, rc.top);
00596                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!(wBmpStyle &amp; DFCS_INACTIVE)) {
00597                     <span class="comment">/*</span>
00598 <span class="comment">                     * Setup Caption Cache Entry</span>
00599 <span class="comment">                     */</span>
00600                     UserAssert(iCache &lt; CCACHEDCAPTIONS);
00601                     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a105">gcachedCaptions</a>[iCache].<a class="code" href="../../d5/d9/structtagCAPTIONCACHE.html#o0">spcursor</a>) {
00602                         <a class="code" href="../../d6/d0/usercli_8h.html#a42">Unlock</a>(&amp;(gcachedCaptions[iCache].spcursor));
00603                     }
00604                     <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a105">gcachedCaptions</a>[iCache++].<a class="code" href="../../d5/d9/structtagCAPTIONCACHE.html#o1">pOem</a> = pOem;
00605                 }
00606             } <span class="keywordflow">else</span> {
00607                 <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a14">DrawFrameControl</a>(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a527">HDCBITS</a>(), &amp;rc, wBmpType, wBmpStyle);
00608             }
00609         }
00610     }
00611 
00612     <span class="comment">/*</span>
00613 <span class="comment">     * Setup other frame metric dependent values.</span>
00614 <span class="comment">     */</span>
00615     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXMENUCHECK) = <a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;oembmi[<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a330">OBI_MENUCHECK</a>].cx;
00616     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYMENUCHECK) = <a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;oembmi[<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a330">OBI_MENUCHECK</a>].cy;
00617 
00618     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00619 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="inctlpan.c::CreateCaptionStrip" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> HBITMAP CreateCaptionStrip           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00466">466</a> of file <a class="el" href="../../d2/d0/inctlpan_8c-source.html">inctlpan.c</a>.
<p>
References <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00464">gpDispInfo</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02099">tagDISPLAYINFO::hdcScreen</a>, and <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00202">SYSMET</a>.
<p>
<pre class="fragment"><div>00467 {
00468     HBITMAP hbm;
00469 
00470     hbm = GreCreateCompatibleBitmap(<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a179">gpDispInfo</a>-&gt;<a class="code" href="../../d9/d3/structtagDISPLAYINFO.html#o3">hdcScreen</a>,
00471                                     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXVIRTUALSCREEN),
00472                                     (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYCAPTION) - 1) * 2);
00473 
00474     <span class="keywordflow">if</span> (hbm)
00475         GreSetBitmapOwner(hbm, OBJECT_OWNER_PUBLIC);
00476 
00477     <span class="keywordflow">return</span> hbm;
00478 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="inctlpan.c::CreateFontFromWinIni" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> HFONT CreateFontFromWinIni           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PUNICODE_STRING&nbsp;</td>
          <td class="mdname" nowrap> <em>pProfileUserName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPLOGFONTW&nbsp;</td>
          <td class="mdname" nowrap> <em>lplf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>idFont</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00719">719</a> of file <a class="el" href="../../d2/d0/inctlpan_8c-source.html">inctlpan.c</a>.
<p>
References <a class="el" href="../../d2/d6/w32_2ntuser_2kernel_2profile_8c-source.html#l01173">FastGetProfileValue()</a>, <a class="el" href="../../d2/d7/clglobal_8c-source.html#l00103">ghFontSys</a>, <a class="el" href="../../d2/d7/clglobal_8c-source.html#l00051">gpsi</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00190">gSystemCPCharSet</a>, <a class="el" href="../../d4/d7/aug98_2test_2main_8c-source.html#l00098">lf</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00624">MultDiv</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, and <a class="el" href="../../d5/d0/userk_8h-source.html#l06863">PMAP_METRICS</a>.
<p>
<pre class="fragment"><div>00723 {
00724     LOGFONTW <a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a18">lf</a>;
00725     HFONT   hFont;
00726 
00727     <span class="keywordflow">if</span> (lplf == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00728         <span class="keyword">static</span> CONST WCHAR szDefFont[] = TEXT(<span class="stringliteral">"MS Shell Dlg"</span>);
00729         <span class="comment">/*</span>
00730 <span class="comment">         * Fill logfont w/ 0 so we can check if values were filled in.</span>
00731 <span class="comment">         */</span>
00732         lplf = &amp;<a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a18">lf</a>;
00733         RtlZeroMemory(&amp;lf, <span class="keyword">sizeof</span>(lf));
00734         <a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a18">lf</a>.lfCharSet = <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a71">gSystemCPCharSet</a>;
00735 
00736         <a class="code" href="../../d4/d1/userk_8h.html#a2013">FastGetProfileValue</a>(pProfileUserName,PMAP_METRICS, (LPWSTR)UIntToPtr( idFont ), NULL, (LPBYTE)&amp;lf, <span class="keyword">sizeof</span>(lf));
00737 
00738         <span class="comment">/*</span>
00739 <span class="comment">         * Default font is MS Shell Dlg</span>
00740 <span class="comment">         */</span>
00741         <span class="keywordflow">if</span> (! <a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a18">lf</a>.lfFaceName[0]) {
00742             RtlCopyMemory(<a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a18">lf</a>.lfFaceName, szDefFont, <span class="keyword">sizeof</span>(szDefFont));
00743         }
00744 
00745         <span class="comment">/*</span>
00746 <span class="comment">         * Warning! these values are different then Win 95.  They did not have a True Type</span>
00747 <span class="comment">         * font so they would round up when they asked for a 6 pt font.  We have to ask</span>
00748 <span class="comment">         * for an 8 point font ICONFONT to be the same.</span>
00749 <span class="comment">         */</span>
00750         <span class="keywordflow">if</span> (!<a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a18">lf</a>.lfHeight) {
00751             <span class="keywordflow">switch</span> (idFont) {
00752                 <span class="keywordflow">case</span> STR_SMCAPTIONFONT:
00753                 <span class="keywordflow">case</span> STR_MINFONT:
00754                 <span class="keywordflow">case</span> STR_ICONFONT:
00755                 <span class="keywordflow">default</span>:
00756                     <a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a18">lf</a>.lfHeight = 8;
00757                     <span class="keywordflow">break</span>;
00758             }
00759         }
00760 
00761         <span class="comment">/*</span>
00762 <span class="comment">         * We need to convert the point size properly.  GDI expects a</span>
00763 <span class="comment">         * height in pixels, not points.</span>
00764 <span class="comment">         */</span>
00765         <span class="keywordflow">if</span> (<a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a18">lf</a>.lfHeight &gt; 0) {
00766             <a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a18">lf</a>.lfHeight = -<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a141">MultDiv</a>(<a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a18">lf</a>.lfHeight, <a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;dmLogPixels, 72);
00767         }
00768 
00769         <span class="keywordflow">if</span> (! <a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a18">lf</a>.lfWeight) {
00770             <span class="keywordflow">switch</span> (idFont) {
00771                 <span class="keywordflow">case</span> STR_CAPTIONFONT:
00772                 <span class="keywordflow">case</span> STR_MINFONT:
00773                     <a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a18">lf</a>.lfWeight = FW_BOLD;
00774                     <span class="keywordflow">break</span>;
00775 
00776                 <span class="keywordflow">default</span>:
00777                     <a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a18">lf</a>.lfWeight = FW_NORMAL;
00778                     <span class="keywordflow">break</span>;
00779             }
00780         }
00781 
00782         <a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a18">lf</a>.lfOutPrecision = OUT_DEFAULT_PRECIS;
00783         <a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a18">lf</a>.lfClipPrecision = CLIP_DEFAULT_PRECIS;
00784         <a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a18">lf</a>.lfQuality = DEFAULT_QUALITY;
00785     }
00786 
00787 
00788     hFont = GreCreateFontIndirectW(lplf);
00789 
00790     <span class="keywordflow">if</span> (hFont) {
00791         LOGFONTW lfT;
00792 
00793         GreExtGetObjectW(hFont, <span class="keyword">sizeof</span>(LOGFONTW), &amp;lfT);
00794         <span class="keywordflow">if</span> (lfT.lfHeight != lplf-&gt;lfHeight) {
00795             <span class="comment">/*</span>
00796 <span class="comment">             * Couldn't find a font with the height that we</span>
00797 <span class="comment">             * wanted so use the system font instead.</span>
00798 <span class="comment">             */</span>
00799             GreDeleteObject(hFont);
00800             hFont = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00801         } <span class="keywordflow">else</span> {
00802             GreMarkUndeletableFont(hFont);
00803             GreSetLFONTOwner((HLFONT)hFont, OBJECT_OWNER_PUBLIC);
00804         }
00805     }
00806 
00807     <span class="keywordflow">if</span> (!hFont) {
00808         <span class="comment">/*</span>
00809 <span class="comment">         * We've tried to create the font from the app-supplied description.</span>
00810 <span class="comment">         * If failure, return NULL so that we don't change the previous</span>
00811 <span class="comment">         * font.</span>
00812 <span class="comment">         */</span>
00813         <span class="keywordflow">if</span> (lplf)
00814             hFont = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00815         <span class="keywordflow">else</span>
00816             hFont = <a class="code" href="../../d1/d8/clglobal_8c.html#a28">ghFontSys</a>;
00817     }
00818 
00819     <span class="keywordflow">return</span> hFont;
00820 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="inctlpan.c::DrawCaptionButtons" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void DrawCaptionButtons           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>y</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00444">444</a> of file <a class="el" href="../../d2/d0/inctlpan_8c-source.html">inctlpan.c</a>.
<p>
References <a class="el" href="../../d0/d2/mngrayc_8c-source.html#l00029">BitBltSysBmp()</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02138">HDCBITS</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00959">OBI_CLOSE</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00970">OBI_HELP</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00963">OBI_REDUCE</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00973">OBI_ZOOM</a>, and <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00202">SYSMET</a>.
<p>
Referenced by <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00494">CreateBitmapStrip()</a>.
<p>
<pre class="fragment"><div>00448 {
00449     x += <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXEDGE);
00450     y += <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYEDGE);
00451 
00452     <a class="code" href="../../d4/d1/userk_8h.html#a1773">BitBltSysBmp</a>(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a527">HDCBITS</a>(), x, y, OBI_REDUCE);
00453     x += <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXSIZE) - <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXEDGE);
00454     <a class="code" href="../../d4/d1/userk_8h.html#a1773">BitBltSysBmp</a>(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a527">HDCBITS</a>(), x, y, OBI_ZOOM);
00455     x += <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXSIZE);
00456     <a class="code" href="../../d4/d1/userk_8h.html#a1773">BitBltSysBmp</a>(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a527">HDCBITS</a>(), x, y, OBI_CLOSE);
00457     x += <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXSIZE);
00458     <a class="code" href="../../d4/d1/userk_8h.html#a1773">BitBltSysBmp</a>(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a527">HDCBITS</a>(), x, y, OBI_HELP);
00459 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="inctlpan.c::GetFrameControlMetrics" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int GetFrameControlMetrics           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>obi</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>cxMax</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00315">315</a> of file <a class="el" href="../../d2/d0/inctlpan_8c-source.html">inctlpan.c</a>.
<p>
References <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l01020">tagOEMBITMAPINFO::cx</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l01021">tagOEMBITMAPINFO::cy</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00480">cy</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00956">DOBI_3STATE</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00957">DOBI_MBAR</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00310">gcyMenuFontChar</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00312">gcyMenuFontExternLeading</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00314">gcyMenuScrollArrow</a>, <a class="el" href="../../d2/d7/clglobal_8c-source.html#l00051">gpsi</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00033">sysBmpStyles</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00202">SYSMET</a>, and <a class="el" href="../../d0/d5/ndismain_8h-source.html#l00026">UINT</a>.
<p>
Referenced by <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00494">CreateBitmapStrip()</a>.
<p>
<pre class="fragment"><div>00318 {
00319     <span class="keywordtype">int</span> cx, <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>;
00320     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> wType  = <a class="code" href="../../d1/d1/inctlpan_8c.html#a2">sysBmpStyles</a>[obi][0];
00321     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> wState = <a class="code" href="../../d1/d1/inctlpan_8c.html#a2">sysBmpStyles</a>[obi][1];
00322     <a class="code" href="../../d0/d3/structtagOEMBITMAPINFO.html">POEMBITMAPINFO</a> pOem = <a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;oembmi + obi;
00323 
00324     <span class="keywordflow">switch</span> (wType) {
00325         <span class="keywordflow">case</span> DFC_SCROLL:
00326             <span class="keywordflow">if</span> (wState &amp; DFCS_SCROLLSIZEGRIP) {
00327                 cx = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXVSCROLL);
00328                 <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYHSCROLL);
00329                 <span class="keywordflow">break</span>;
00330             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (wState &amp; DFCS_SCROLLHORZ) {
00331                 cx = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXHSCROLL);
00332                 <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYHSCROLL);
00333             } <span class="keywordflow">else</span> {
00334                 cx = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXVSCROLL);
00335                 <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYVSCROLL);
00336             }
00337             <span class="keywordflow">break</span>;
00338 
00339         <span class="keywordflow">case</span> DFC_MENU:
00340         <span class="keywordflow">case</span> DFC_POPUPMENU:
00341             <span class="keywordflow">if</span> (wState &amp; (DFCS_MENUARROWUP | DFCS_MENUARROWDOWN)) {
00342                 <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a144">gcyMenuScrollArrow</a>;
00343             } <span class="keywordflow">else</span> {
00344                 <span class="comment">/*</span>
00345 <span class="comment">                 * Add on proper space for space above underscore.</span>
00346 <span class="comment">                 * the 0xFFFE and -1 are to insure an ODD height</span>
00347 <span class="comment">                 */</span>
00348                 <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = ((<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a140">gcyMenuFontChar</a> + <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a142">gcyMenuFontExternLeading</a> + <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYBORDER)) &amp; 0xFFFE) - 1;
00349             }
00350             cx = <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>;
00351             <span class="keywordflow">break</span>;
00352 
00353         <span class="keywordflow">case</span> DFC_CAPTION:
00354             <span class="keywordflow">if</span> (wState &amp; DFCS_INSMALL) {
00355                 cx = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXSMSIZE);
00356                 <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYSMSIZE);
00357             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (wState &amp; DFCS_INMENU) {
00358                 <span class="keywordflow">if</span> ((<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXSIZE) == <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXMENUSIZE)) &amp;&amp;
00359                     (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYSIZE) == <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYMENUSIZE))) {
00360                     cx = 0;
00361                     <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = obi - <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a266">DOBI_MBAR</a>;
00362                     <span class="keywordflow">break</span>;
00363                 } <span class="keywordflow">else</span> {
00364                     cx = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXMENUSIZE);
00365                     <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYMENUSIZE);
00366                 }
00367             } <span class="keywordflow">else</span> {
00368                 cx = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXSIZE);
00369                 <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYSIZE);
00370             }
00371 
00372             cx -= <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXEDGE);
00373             <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> -= 2 * <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYEDGE);
00374             <span class="keywordflow">break</span>;
00375 
00376         <span class="keywordflow">case</span> DFC_CACHE:
00377             <span class="keywordflow">if</span> (wState &amp; DFCS_CACHEBUTTONS) {
00378                 cx = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXSIZE) * 4;
00379                 <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYSIZE);
00380             } <span class="keywordflow">else</span>
00381                 cx = <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYSIZE);
00382             <span class="keywordflow">break</span>;
00383 
00384         <span class="keywordflow">case</span> DFC_BUTTON:
00385             <span class="keywordflow">if</span> (((wState &amp; 0x00FF) &amp; DFCS_BUTTON3STATE) &amp;&amp; !(wState &amp; DFCS_CHECKED)) {
00386                 cx = 0;
00387                 <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = obi - <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a265">DOBI_3STATE</a>;
00388             } <span class="keywordflow">else</span> {
00389                 cx = 13;
00390                 <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = 13;
00391             }
00392             <span class="keywordflow">break</span>;
00393     }
00394 
00395     pOem-&gt;<a class="code" href="../../d0/d3/structtagOEMBITMAPINFO.html#o2">cx</a> = cx;
00396     pOem-&gt;<a class="code" href="../../d0/d3/structtagOEMBITMAPINFO.html#o3">cy</a> = <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>;
00397 
00398     <span class="keywordflow">return</span>((cx &gt; cxMax) ? cx : cxMax);
00399 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="inctlpan.c::GetWindowNCMetrics" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID GetWindowNCMetrics           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LPNONCLIENTMETRICS&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>lpnc</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l01030">1030</a> of file <a class="el" href="../../d2/d0/inctlpan_8c-source.html">inctlpan.c</a>.
<p>
References <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00307">ghMenuFont</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00303">ghSmCaptionFont</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00326">ghStatusFont</a>, <a class="el" href="../../d2/d7/clglobal_8c-source.html#l00051">gpsi</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00202">SYSMET</a>, and <a class="el" href="../../d2/d7/hal_8h.html#a212">VOID()</a>.
<p>
Referenced by <a class="el" href="../../d5/d4/rare_8c-source.html#l01497">xxxSystemParametersInfo()</a>.
<p>
<pre class="fragment"><div>01032 {
01033     lpnc-&gt;cbSize           = <span class="keyword">sizeof</span>(NONCLIENTMETRICS);
01034     lpnc-&gt;iBorderWidth     = <a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;gclBorder;
01035     lpnc-&gt;iScrollWidth     = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXVSCROLL);
01036     lpnc-&gt;iScrollHeight    = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYVSCROLL);
01037     lpnc-&gt;iCaptionWidth    = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXSIZE);
01038     lpnc-&gt;iCaptionHeight   = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYSIZE);
01039     lpnc-&gt;iSmCaptionWidth  = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXSMSIZE);
01040     lpnc-&gt;iSmCaptionHeight = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYSMSIZE);
01041     lpnc-&gt;iMenuWidth       = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXMENUSIZE);
01042     lpnc-&gt;iMenuHeight      = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYMENUSIZE);
01043 
01044     <span class="comment">/*</span>
01045 <span class="comment">     * Get the font info.</span>
01046 <span class="comment">     */</span>
01047     GreExtGetObjectW(<a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;hCaptionFont,
01048                      <span class="keyword">sizeof</span>(LOGFONTW),
01049                      &amp;(lpnc-&gt;lfCaptionFont));
01050 
01051     GreExtGetObjectW(ghSmCaptionFont,
01052                      <span class="keyword">sizeof</span>(LOGFONTW),
01053                      &amp;(lpnc-&gt;lfSmCaptionFont));
01054 
01055     GreExtGetObjectW(ghMenuFont,
01056                      <span class="keyword">sizeof</span>(LOGFONTW),
01057                      &amp;(lpnc-&gt;lfMenuFont));
01058 
01059     GreExtGetObjectW(ghStatusFont,
01060                      <span class="keyword">sizeof</span>(LOGFONTW),
01061                      &amp;(lpnc-&gt;lfStatusFont));
01062 
01063     GreExtGetObjectW(<a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;hMsgFont,
01064                      <span class="keyword">sizeof</span>(LOGFONTW),
01065                      &amp;(lpnc-&gt;lfMessageFont));
01066 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="inctlpan.c::MetricGetID" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> __inline int MetricGetID           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PUNICODE_STRING&nbsp;</td>
          <td class="mdname" nowrap> <em>pProfileUserName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>idStr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>defValue</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00023">23</a> of file <a class="el" href="../../d2/d0/inctlpan_8c-source.html">inctlpan.c</a>.
<p>
References <a class="el" href="../../d2/d6/w32_2ntuser_2kernel_2profile_8c-source.html#l01031">FastGetProfileIntFromID()</a>, and <a class="el" href="../../d5/d0/userk_8h-source.html#l06863">PMAP_METRICS</a>.
<p>
Referenced by <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l01213">SetIconMetrics()</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l01170">SetMinMetrics()</a>, and <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l01080">xxxSetWindowNCMetrics()</a>.
<p>
<pre class="fragment"><div>00028 {
00029     <span class="keywordflow">return</span> <a class="code" href="../../d4/d1/userk_8h.html#a2010">FastGetProfileIntFromID</a>(
00030             pProfileUserName, PMAP_METRICS, idStr, defValue);
00031 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="inctlpan.c::PackFrameControls" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int PackFrameControls           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>cxMax</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOL&nbsp;</td>
          <td class="mdname" nowrap> <em>fRecord</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00411">411</a> of file <a class="el" href="../../d2/d0/inctlpan_8c-source.html">inctlpan.c</a>.
<p>
References <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l01020">tagOEMBITMAPINFO::cx</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l01021">tagOEMBITMAPINFO::cy</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00480">cy</a>, <a class="el" href="../../d2/d7/clglobal_8c-source.html#l00051">gpsi</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l01053">OBI_COUNT</a>, <a class="el" href="../../d0/d5/ndismain_8h-source.html#l00026">UINT</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l01018">tagOEMBITMAPINFO::x</a>, and <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l01019">tagOEMBITMAPINFO::y</a>.
<p>
Referenced by <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00494">CreateBitmapStrip()</a>.
<p>
<pre class="fragment"><div>00411                                                {
00412     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>    obi;
00413     <span class="keywordtype">int</span>     <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = 0;
00414     <span class="keywordtype">int</span>     x  = 0;
00415     <span class="keywordtype">int</span>     y  = 0;
00416 
00417 
00418     <a class="code" href="../../d0/d3/structtagOEMBITMAPINFO.html">POEMBITMAPINFO</a> pOem = <a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;oembmi;
00419 
00420     <span class="keywordflow">for</span> (obi = 0; obi &lt; <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a361">OBI_COUNT</a>; obi++, pOem++) {
00421         <span class="keywordflow">if</span> (pOem-&gt;<a class="code" href="../../d0/d3/structtagOEMBITMAPINFO.html#o2">cx</a>) {
00422             <span class="keywordflow">if</span> ((x + pOem-&gt;<a class="code" href="../../d0/d3/structtagOEMBITMAPINFO.html#o2">cx</a>) &gt; cxMax) {
00423                 y += <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>;
00424                 <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = 0;
00425                 x = 0;
00426             }
00427 
00428             <span class="keywordflow">if</span> (fRecord) {
00429                 pOem-&gt;<a class="code" href="../../d0/d3/structtagOEMBITMAPINFO.html#o0">x</a> = x;
00430                 pOem-&gt;<a class="code" href="../../d0/d3/structtagOEMBITMAPINFO.html#o1">y</a> = y;
00431             }
00432 
00433             <span class="keywordflow">if</span> (<a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> &lt; pOem-&gt;<a class="code" href="../../d0/d3/structtagOEMBITMAPINFO.html#o3">cy</a>)
00434                 <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = pOem-&gt;<a class="code" href="../../d0/d3/structtagOEMBITMAPINFO.html#o3">cy</a>;
00435 
00436             x += pOem-&gt;<a class="code" href="../../d0/d3/structtagOEMBITMAPINFO.html#o2">cx</a>;
00437         }
00438     }
00439 
00440     <span class="keywordflow">return</span>(y + <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>);
00441 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="inctlpan.c::SetIconFonts" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL SetIconFonts           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PUNICODE_STRING&nbsp;</td>
          <td class="mdname" nowrap> <em>pProfileUserName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPICONMETRICS&nbsp;</td>
          <td class="mdname" nowrap> <em>lpicon</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l01007">1007</a> of file <a class="el" href="../../d2/d0/inctlpan_8c-source.html">inctlpan.c</a>.
<p>
References <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00327">ghIconFont</a>, <a class="el" href="../../d4/d7/aug98_2test_2main_8c-source.html#l00098">lf</a>, and <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00827">UserSetFont()</a>.
<p>
Referenced by <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l01213">SetIconMetrics()</a>.
<p>
<pre class="fragment"><div>01010 {
01011     LOGFONTW     <a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a18">lf</a>;
01012     LPLOGFONTW   lplf = 0;
01013 
01014     <span class="keywordflow">if</span> (lpicon) {
01015         lplf = &amp;<a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a18">lf</a>;
01016         <a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a18">lf</a> = lpicon-&gt;lfFont;
01017     }
01018 
01019     <span class="keywordflow">return</span> <a class="code" href="../../d4/d1/userk_8h.html#a1993">UserSetFont</a>(pProfileUserName, lplf, STR_ICONFONT, &amp;ghIconFont);
01020 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a19" doxytag="inctlpan.c::SetIconMetrics" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL SetIconMetrics           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PUNICODE_STRING&nbsp;</td>
          <td class="mdname" nowrap> <em>pProfileUserName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPICONMETRICS&nbsp;</td>
          <td class="mdname" nowrap> <em>lpicon</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l01213">1213</a> of file <a class="el" href="../../d2/d0/inctlpan_8c-source.html">inctlpan.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02138">HDCBITS</a>, <a class="el" href="../../d9/d5/sertl_8c-source.html#l00332">max</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00023">MetricGetID()</a>, <a class="el" href="../../d5/d0/userk_8h-source.html#l06591">PUDF_ICONTITLEWRAP</a>, <a class="el" href="../../d5/d0/userk_8h-source.html#l06612">SET_OR_CLEAR_PUDF</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l01007">SetIconFonts()</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00202">SYSMET</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d5/d4/rare_8c-source.html#l00979">SPISetIconMetrics()</a>, <a class="el" href="../../d8/d0/w32_2ntuser_2kernel_2init_8c-source.html#l01319">xxxInitWindowStation()</a>, and <a class="el" href="../../d8/d0/w32_2ntuser_2kernel_2init_8c-source.html#l02445">xxxUpdatePerUserSystemParameters()</a>.
<p>
<pre class="fragment"><div>01216 {
01217     ICONMETRICS icon;
01218 
01219     <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d1/inctlpan_8c.html#a15">SetIconFonts</a>(pProfileUserName,lpicon)) {
01220         RIPMSG0(RIP_WARNING, <span class="stringliteral">"SetIconMetrics failed in SetIconFonts"</span>);
01221         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01222     }
01223 
01224     <span class="keywordflow">if</span> (!lpicon) {
01225 
01226         icon.iTitleWrap   = <a class="code" href="../../d1/d1/inctlpan_8c.html#a4">MetricGetID</a>(pProfileUserName,
01227                 STR_ICONTITLEWRAP, TRUE);
01228 
01229         icon.iHorzSpacing = <a class="code" href="../../d1/d1/inctlpan_8c.html#a4">MetricGetID</a>(pProfileUserName,
01230                 STR_ICONHORZSPACING,
01231                 (GreGetDeviceCaps(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a527">HDCBITS</a>(), LOGPIXELSX) * 75) / 96);
01232 
01233         icon.iVertSpacing = <a class="code" href="../../d1/d1/inctlpan_8c.html#a4">MetricGetID</a>(pProfileUserName,
01234                 STR_ICONVERTSPACING,
01235                 (GreGetDeviceCaps(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a527">HDCBITS</a>(), LOGPIXELSY) * 75) / 96);
01236 
01237         lpicon = &amp;icon;
01238     }
01239 
01240     <span class="comment">/*</span>
01241 <span class="comment">     * SANITY CHECK for metric values</span>
01242 <span class="comment">     */</span>
01243     lpicon-&gt;iHorzSpacing = <a class="code" href="../../d8/d6/sertl_8c.html#a1">max</a>(lpicon-&gt;iHorzSpacing, (<span class="keywordtype">int</span>)<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXICON));
01244     lpicon-&gt;iVertSpacing = <a class="code" href="../../d8/d6/sertl_8c.html#a1">max</a>(lpicon-&gt;iVertSpacing, (<span class="keywordtype">int</span>)<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYICON));
01245 
01246     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXICONSPACING) = (<span class="keywordtype">int</span>) lpicon-&gt;iHorzSpacing;
01247     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYICONSPACING) = (<span class="keywordtype">int</span>) lpicon-&gt;iVertSpacing;
01248     <a class="code" href="../../d4/d1/userk_8h.html#a661">SET_OR_CLEAR_PUDF</a>(PUDF_ICONTITLEWRAP, lpicon-&gt;iTitleWrap);
01249 
01250     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01251 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="inctlpan.c::SetMinMetrics" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID SetMinMetrics           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PUNICODE_STRING&nbsp;</td>
          <td class="mdname" nowrap> <em>pProfileUserName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPMINIMIZEDMETRICS&nbsp;</td>
          <td class="mdname" nowrap> <em>lpmin</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l01170">1170</a> of file <a class="el" href="../../d2/d0/inctlpan_8c-source.html">inctlpan.c</a>.
<p>
References <a class="el" href="../../d9/d5/sertl_8c-source.html#l00332">max</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00023">MetricGetID()</a>, <a class="el" href="../../d6/d3/acpitabl_8h-source.html#l00366">min</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00202">SYSMET</a>, and <a class="el" href="../../d2/d7/hal_8h.html#a212">VOID()</a>.
<p>
Referenced by <a class="el" href="../../d8/d0/w32_2ntuser_2kernel_2init_8c-source.html#l01319">xxxInitWindowStation()</a>, <a class="el" href="../../d5/d4/rare_8c-source.html#l00870">xxxSetAndDrawMinMetrics()</a>, and <a class="el" href="../../d8/d0/w32_2ntuser_2kernel_2init_8c-source.html#l02445">xxxUpdatePerUserSystemParameters()</a>.
<p>
<pre class="fragment"><div>01173 {
01174     MINIMIZEDMETRICS <a class="code" href="../../d5/d4/acpitabl_8h.html#a69">min</a>;
01175 
01176     <span class="keywordflow">if</span> (!lpmin) {
01177 
01178         <span class="comment">/*</span>
01179 <span class="comment">         * Minimized</span>
01180 <span class="comment">         */</span>
01181         <a class="code" href="../../d5/d4/acpitabl_8h.html#a69">min</a>.iWidth   = <a class="code" href="../../d1/d1/inctlpan_8c.html#a4">MetricGetID</a>(pProfileUserName,STR_MINWIDTH,   154);
01182         <a class="code" href="../../d5/d4/acpitabl_8h.html#a69">min</a>.iHorzGap = <a class="code" href="../../d1/d1/inctlpan_8c.html#a4">MetricGetID</a>(pProfileUserName,STR_MINHORZGAP, 0);
01183         <a class="code" href="../../d5/d4/acpitabl_8h.html#a69">min</a>.iVertGap = <a class="code" href="../../d1/d1/inctlpan_8c.html#a4">MetricGetID</a>(pProfileUserName,STR_MINVERTGAP, 0);
01184         <a class="code" href="../../d5/d4/acpitabl_8h.html#a69">min</a>.iArrange = <a class="code" href="../../d1/d1/inctlpan_8c.html#a4">MetricGetID</a>(pProfileUserName,STR_MINARRANGE, ARW_BOTTOMLEFT | ARW_RIGHT);
01185         lpmin = &amp;<a class="code" href="../../d5/d4/acpitabl_8h.html#a69">min</a>;
01186     }
01187 
01188     <span class="comment">/*</span>
01189 <span class="comment">     * SANITY CHECK for metric values</span>
01190 <span class="comment">     */</span>
01191 
01192     <span class="comment">/*</span>
01193 <span class="comment">     * Minimized window -- Text area must be &gt;= 0, as must gap between</span>
01194 <span class="comment">     * windows horizontally and vertically.</span>
01195 <span class="comment">     */</span>
01196     lpmin-&gt;iWidth    = <a class="code" href="../../d8/d6/sertl_8c.html#a1">max</a>(lpmin-&gt;iWidth, 0);
01197     lpmin-&gt;iHorzGap  = <a class="code" href="../../d8/d6/sertl_8c.html#a1">max</a>(lpmin-&gt;iHorzGap, 0);
01198     lpmin-&gt;iVertGap  = <a class="code" href="../../d8/d6/sertl_8c.html#a1">max</a>(lpmin-&gt;iVertGap, 0);
01199     lpmin-&gt;iArrange &amp;= ARW_VALID;
01200 
01201     <span class="comment">/*</span>
01202 <span class="comment">     * Minimized size</span>
01203 <span class="comment">     */</span>
01204     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXMINIMIZED) = 2*<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXFIXEDFRAME) + (<span class="keywordtype">int</span>) lpmin-&gt;iWidth;
01205     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYMINIMIZED) = 2*<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYFIXEDFRAME) + <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYSIZE);
01206 
01207     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXMINSPACING) = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXMINIMIZED) + (<span class="keywordtype">int</span>) lpmin-&gt;iHorzGap;
01208     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYMINSPACING) = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYMINIMIZED) + (<span class="keywordtype">int</span>) lpmin-&gt;iVertGap;
01209 
01210     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(ARRANGE) = (<span class="keywordtype">int</span>) lpmin-&gt;iArrange;
01211 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="inctlpan.c::SetNCMetrics" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void SetNCMetrics           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LPNONCLIENTMETRICS&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>lpnc</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00622">622</a> of file <a class="el" href="../../d2/d0/inctlpan_8c-source.html">inctlpan.c</a>.
<p>
References <a class="el" href="../../d5/d0/userk_8h-source.html#l06913">BORDER_EXTRA</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00301">gcxCaptionFontChar</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00464">gpDispInfo</a>, <a class="el" href="../../d2/d7/clglobal_8c-source.html#l00051">gpsi</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02094">tagDISPLAYINFO::hDev</a>, <a class="el" href="../../d6/d3/acpitabl_8h-source.html#l00366">min</a>, <a class="el" href="../../d5/d4/rare_8c-source.html#l00336">SetDesktopMetrics()</a>, and <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00202">SYSMET</a>.
<p>
Referenced by <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l01080">xxxSetWindowNCMetrics()</a>.
<p>
<pre class="fragment"><div>00625 {
00626     <span class="keywordtype">int</span> nMin;
00627 
00628     <span class="comment">/*</span>
00629 <span class="comment">     * Scroll metrics</span>
00630 <span class="comment">     */</span>
00631     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXVSCROLL) = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYHSCROLL)   = (<span class="keywordtype">int</span>) lpnc-&gt;iScrollWidth;
00632     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYVSCROLL) = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXHSCROLL)   = (<span class="keywordtype">int</span>) lpnc-&gt;iScrollHeight;
00633     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYVTHUMB)  = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXHTHUMB)    = (<span class="keywordtype">int</span>) lpnc-&gt;iScrollHeight;
00634 
00635     <span class="comment">/*</span>
00636 <span class="comment">     * Caption metrics</span>
00637 <span class="comment">     */</span>
00638     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXSIZE)            = (<span class="keywordtype">int</span>) lpnc-&gt;iCaptionWidth;
00639     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYSIZE)            = (<span class="keywordtype">int</span>) lpnc-&gt;iCaptionHeight;
00640     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYCAPTION)         = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYSIZE) + <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYBORDER);
00641 
00642     <span class="comment">/*</span>
00643 <span class="comment">     * Keep small icon square?</span>
00644 <span class="comment">     * ?? Should we allow rectangles?</span>
00645 <span class="comment">     */</span>
00646     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXSMICON)          = (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXSIZE) - <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXEDGE)) &amp; ~1;
00647     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYSMICON)          = (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYSIZE) - <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYEDGE)) &amp; ~1;
00648     nMin = <a class="code" href="../../d5/d4/acpitabl_8h.html#a69">min</a>(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXSMICON), <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYSMICON));
00649     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXSMICON)          = nMin;
00650     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYSMICON)          = nMin;
00651 
00652     <span class="comment">/*</span>
00653 <span class="comment">     * Small Caption metrics</span>
00654 <span class="comment">     */</span>
00655     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXSMSIZE)          = (<span class="keywordtype">int</span>) lpnc-&gt;iSmCaptionWidth;
00656     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYSMSIZE)          = (<span class="keywordtype">int</span>) lpnc-&gt;iSmCaptionHeight;
00657     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYSMCAPTION)       = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYSMSIZE) + <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYBORDER);
00658 
00659     <span class="comment">/*</span>
00660 <span class="comment">     * Menu metrics</span>
00661 <span class="comment">     */</span>
00662     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXMENUSIZE)        = (<span class="keywordtype">int</span>) lpnc-&gt;iMenuWidth;
00663     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYMENUSIZE)        = (<span class="keywordtype">int</span>) lpnc-&gt;iMenuHeight;
00664     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYMENU)            = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYMENUSIZE) + <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYBORDER);
00665 
00666     <span class="comment">/*</span>
00667 <span class="comment">     * Border metrics</span>
00668 <span class="comment">     */</span>
00669     <a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;gclBorder = (<span class="keywordtype">int</span>) lpnc-&gt;iBorderWidth;
00670 
00671     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXFRAME)           = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXEDGE) + (<a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;gclBorder+1)*<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXBORDER);
00672     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYFRAME)           = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYEDGE) + (<a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;gclBorder+1)*<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYBORDER);
00673 
00674     <span class="comment">/*</span>
00675 <span class="comment">     * Minimium tracking size is</span>
00676 <span class="comment">     *      Across:  Space for small icon, 4 chars &amp; space + 3 buttons + borders</span>
00677 <span class="comment">     *      Down:    Space for caption + borders</span>
00678 <span class="comment">     * Yes, we use CYSIZE.  This is because the width of any small icon</span>
00679 <span class="comment">     * is the same as the height, and the height is CYSIZE.</span>
00680 <span class="comment">     */</span>
00681     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXMINTRACK)    = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYSIZE) + (<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a132">gcxCaptionFontChar</a> * 4) + 2 * <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXEDGE) +
00682             (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXSIZE) * 3) + (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXSIZEFRAME) * 2);
00683     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYMINTRACK)    = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYCAPTION) + (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYSIZEFRAME) * 2);
00684 
00685     <span class="comment">/*</span>
00686 <span class="comment">     * Max track size</span>
00687 <span class="comment">     * Yeah, max track is bigger than maximized.  The reason why is the DOS</span>
00688 <span class="comment">     * box.  It has a normal sizing border plus the sunken edge around the</span>
00689 <span class="comment">     * client.  We need to make this big enough to allow the dos box to grow.</span>
00690 <span class="comment">     * When it hits its max size, it maximizes automatically.</span>
00691 <span class="comment">     */</span>
00692     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXMAXTRACK)    = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXVIRTUALSCREEN) + (2 * (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXSIZEFRAME) + <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXEDGE)));
00693     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYMAXTRACK)    = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYVIRTUALSCREEN) + (2 * (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYSIZEFRAME) + <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYEDGE)));
00694 
00695     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXMIN) = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXMINTRACK);
00696     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYMIN) = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYMINTRACK);
00697 
00698     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYMINIMIZED) = 2*<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYFIXEDFRAME) + <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYSIZE);
00699 
00700     <span class="comment">/*</span>
00701 <span class="comment">     * Desktop stuff--working area</span>
00702 <span class="comment">     */</span>
00703     bSetDevDragWidth(<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a179">gpDispInfo</a>-&gt;<a class="code" href="../../d9/d3/structtagDISPLAYINFO.html#o0">hDev</a>,
00704                      <a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;gclBorder + BORDER_EXTRA);
00705 
00706     <a class="code" href="../../d4/d5/rare_8c.html#a14">SetDesktopMetrics</a>();
00707 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="inctlpan.c::UserSetFont" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL UserSetFont           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PUNICODE_STRING&nbsp;</td>
          <td class="mdname" nowrap> <em>pProfileUserName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPLOGFONTW&nbsp;</td>
          <td class="mdname" nowrap> <em>lplf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>idFont</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>HFONT *&nbsp;</td>
          <td class="mdname" nowrap> <em>phfont</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00827">827</a> of file <a class="el" href="../../d2/d0/inctlpan_8c-source.html">inctlpan.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d4/d1/userk_8h.html#a1855">CreateFontFromWinIni()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d2/d7/clglobal_8c-source.html#l00103">ghFontSys</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l01007">SetIconFonts()</a>, and <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00861">xxxSetNCFonts()</a>.
<p>
<pre class="fragment"><div>00832 {
00833     HFONT hNewFont;
00834 
00835     <span class="keywordflow">if</span> (hNewFont = <a class="code" href="../../d4/d1/userk_8h.html#a1855">CreateFontFromWinIni</a>(pProfileUserName, lplf, idFont)) {
00836         <span class="keywordflow">if</span> (*phfont != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a> &amp;&amp; *phfont != <a class="code" href="../../d1/d8/clglobal_8c.html#a28">ghFontSys</a>) {
00837             GreMarkDeletableFont(*phfont);
00838             GreDeleteObject(*phfont);
00839         }
00840 
00841         *phfont = hNewFont;
00842         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00843     }
00844     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00845 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="inctlpan.c::xxxMB_FindLongestString" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> UINT xxxMB_FindLongestString           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HDC&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>hdc</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l01262">1262</a> of file <a class="el" href="../../d2/d0/inctlpan_8c-source.html">inctlpan.c</a>.
<p>
References <a class="el" href="../../d5/d0/userk_8h-source.html#l03529">CALL_LPK</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l01269">GETGPSIMBPSTR</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l03120">MAX_SEB_STYLES</a>, <a class="el" href="../../d5/d0/userk_8h-source.html#l00059">PtiCurrentShared</a>, <a class="el" href="../../d2/d7/clglobal_8c-source.html#l00065">szOneChar</a>, <a class="el" href="../../d0/d5/ndismain_8h-source.html#l00026">UINT</a>, <a class="el" href="../../d4/d1/userk_8h.html#a1412">xxxClientGetTextExtentPointW()</a>, and <a class="el" href="../../d4/d1/userk_8h.html#a1408">xxxPSMGetTextExtent()</a>.
<p>
Referenced by <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00861">xxxSetNCFonts()</a>.
<p>
<pre class="fragment"><div>01263 {
01264     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> wRetVal;
01265     <span class="keywordtype">int</span> i, iMaxLen = 0, iNewMaxLen;
01266     LPWSTR pszCurStr, szMaxStr;
01267     SIZE sizeOneChar;
01268     SIZE sizeMaxStr;
01269     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> ptiCurrent = <a class="code" href="../../d4/d1/userk_8h.html#a10">PtiCurrentShared</a>();
01270 
01271     <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a880">MAX_SEB_STYLES</a>; i++) {
01272         pszCurStr = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a406">GETGPSIMBPSTR</a>(i);
01273         <span class="keywordflow">if</span> ((iNewMaxLen = wcslen(pszCurStr)) &gt; iMaxLen) {
01274             iMaxLen = iNewMaxLen;
01275             szMaxStr = pszCurStr;
01276         }
01277     }
01278 
01279     <span class="comment">/*</span>
01280 <span class="comment">     * Find the longest string</span>
01281 <span class="comment">     */</span>
01282     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d1/userk_8h.html#a393">CALL_LPK</a>(ptiCurrent)) {
01283         <a class="code" href="../../d4/d1/userk_8h.html#a1412">xxxClientGetTextExtentPointW</a>(hdc, (PWSTR)szOneChar, 1, &amp;sizeOneChar);
01284     } <span class="keywordflow">else</span> {
01285         GreGetTextExtentW(hdc, (PWSTR)szOneChar, 1, &amp;sizeOneChar, GGTE_WIN3_EXTENT);
01286     }
01287     <a class="code" href="../../d4/d1/userk_8h.html#a1408">xxxPSMGetTextExtent</a>(hdc, szMaxStr, iMaxLen, &amp;sizeMaxStr);
01288     wRetVal = (<a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>)(sizeMaxStr.cx + (sizeOneChar.cx * 2));
01289 
01290     <span class="keywordflow">return</span> wRetVal;
01291 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="inctlpan.c::xxxSetNCFonts" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL xxxSetNCFonts           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PUNICODE_STRING&nbsp;</td>
          <td class="mdname" nowrap> <em>pProfileUserName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPNONCLIENTMETRICS&nbsp;</td>
          <td class="mdname" nowrap> <em>lpnc</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00861">861</a> of file <a class="el" href="../../d2/d0/inctlpan_8c-source.html">inctlpan.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00131">DU_BTNWIDTH</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00301">gcxCaptionFontChar</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00309">gcxMenuFontChar</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00311">gcxMenuFontOverhang</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00304">gcxSmCaptionFontChar</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00302">gcyCaptionFontChar</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00313">gcyMenuFontAscent</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00310">gcyMenuFontChar</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00312">gcyMenuFontExternLeading</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00314">gcyMenuScrollArrow</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00305">gcySmCaptionFontChar</a>, <a class="el" href="../../d0/d6/kernel_2server_8c-source.html#l01829">GetCharDimensions()</a>, <a class="el" href="../../d2/d7/clglobal_8c-source.html#l00103">ghFontSys</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00307">ghMenuFont</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00308">ghMenuFontDef</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00303">ghSmCaptionFont</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00326">ghStatusFont</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00324">gMenuState</a>, <a class="el" href="../../d2/d7/clglobal_8c-source.html#l00051">gpsi</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02138">HDCBITS</a>, <a class="el" href="../../d4/d7/aug98_2test_2main_8c-source.html#l00098">lf</a>, <a class="el" href="../../d9/d5/sertl_8c-source.html#l00332">max</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00202">SYSMET</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d0/d5/ndismain_8h-source.html#l00026">UINT</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00827">UserSetFont()</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l01304">tagSERVERINFO::wMaxBtnSize</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02988">XPixFromXDU</a>, and <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l01262">xxxMB_FindLongestString()</a>.
<p>
Referenced by <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l01080">xxxSetWindowNCMetrics()</a>.
<p>
<pre class="fragment"><div>00864 {
00865     HFONT      hOldFont;
00866     TEXTMETRIC tm;
00867     LOGFONTW   <a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a18">lf</a>;
00868     LPLOGFONTW lplf = (lpnc) ? &amp;<a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a18">lf</a> : 0;
00869 
00870     <span class="comment">/*</span>
00871 <span class="comment">     * Caption font</span>
00872 <span class="comment">     */</span>
00873     <span class="keywordflow">if</span> (lplf) {
00874        *lplf = lpnc-&gt;lfCaptionFont;
00875     }
00876 
00877     <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d1/userk_8h.html#a1993">UserSetFont</a>(pProfileUserName,lplf, STR_CAPTIONFONT, &amp;<a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;hCaptionFont)) {
00878         RIPMSG0(RIP_WARNING, <span class="stringliteral">"xxxSetNCFonts failed for gpsi-&gt;hCaptionFont"</span>);
00879         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00880     }
00881 
00882     hOldFont = GreSelectFont(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a527">HDCBITS</a>(), <a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;hCaptionFont);
00883     <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a132">gcxCaptionFontChar</a> = <a class="code" href="../../d9/d6/kernel_2server_8c.html#a72">GetCharDimensions</a>(
00884             <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a527">HDCBITS</a>(), NULL, &amp;gcyCaptionFontChar);
00885 
00886     <span class="comment">/*</span>
00887 <span class="comment">     * Small caption font</span>
00888 <span class="comment">     */</span>
00889     <span class="keywordflow">if</span> (lplf) {
00890        *lplf = lpnc-&gt;lfSmCaptionFont;
00891     }
00892 
00893     <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d1/userk_8h.html#a1993">UserSetFont</a>(pProfileUserName,lplf, STR_SMCAPTIONFONT, &amp;ghSmCaptionFont)) {
00894         RIPMSG0(RIP_WARNING, <span class="stringliteral">"xxxSetNCFonts failed for ghSmCaptionFont"</span>);
00895         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00896     }
00897 
00898     GreSelectFont(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a527">HDCBITS</a>(), ghSmCaptionFont);
00899     <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a135">gcxSmCaptionFontChar</a> = <a class="code" href="../../d9/d6/kernel_2server_8c.html#a72">GetCharDimensions</a>(
00900             <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a527">HDCBITS</a>(), NULL, &amp;gcySmCaptionFontChar);
00901 
00902     <span class="comment">/*</span>
00903 <span class="comment">     * Menu font</span>
00904 <span class="comment">     */</span>
00905     <span class="keywordflow">if</span> (lplf) {
00906        *lplf = lpnc-&gt;lfMenuFont;
00907     }
00908 
00909     <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d1/userk_8h.html#a1993">UserSetFont</a>(pProfileUserName,lplf, STR_MENUFONT, &amp;ghMenuFont)) {
00910         RIPMSG0(RIP_WARNING, <span class="stringliteral">"xxxSetNCFonts failed for ghMenuFont"</span>);
00911         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00912     }
00913 
00914     <span class="comment">/*</span>
00915 <span class="comment">     * if ghMenuFont is selected in cached animation DC, select the new one.</span>
00916 <span class="comment">     */</span>
00917     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a146">gMenuState</a>.hdcAni != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00918         GreSelectFont(<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a146">gMenuState</a>.hdcAni, ghMenuFont);
00919     }
00920 
00921     GreSelectFont(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a527">HDCBITS</a>(), ghMenuFont);
00922     <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a139">gcxMenuFontChar</a> = <a class="code" href="../../d9/d6/kernel_2server_8c.html#a72">GetCharDimensions</a>(
00923             <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a527">HDCBITS</a>(), &amp;tm, &amp;gcyMenuFontChar);
00924     <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a141">gcxMenuFontOverhang</a> = tm.tmOverhang;
00925 
00926     <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a142">gcyMenuFontExternLeading</a> = tm.tmExternalLeading;
00927     <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a144">gcyMenuScrollArrow</a> = <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a140">gcyMenuFontChar</a> + <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a142">gcyMenuFontExternLeading</a> + <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYEDGE);
00928     <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a143">gcyMenuFontAscent</a> = tm.tmAscent;
00929 
00930     <span class="comment">/*</span>
00931 <span class="comment">     * We only use gcyMenuFontAscent in mndraw.c once, and in U.S. we</span>
00932 <span class="comment">     * always add on CYBORDER!  So calculate gcyMenuFontAscent+CYBORDER</span>
00933 <span class="comment">     * once only.</span>
00934 <span class="comment">     * Legacy NT4: For Korean version, don't add it on; the underline would</span>
00935 <span class="comment">     * be too low.</span>
00936 <span class="comment">     * NT5: according to #254327, Korean version now sees underline is</span>
00937 <span class="comment">     * too close to menu strings. Korean hack is pulled out so.</span>
00938 <span class="comment">     */</span>
00939     <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a143">gcyMenuFontAscent</a> += <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYBORDER);
00940 
00941     <span class="comment">/*</span>
00942 <span class="comment">     * Default menu item font:  bolder version of menu font</span>
00943 <span class="comment">     */</span>
00944 
00945     <span class="comment">/*</span>
00946 <span class="comment">     * Create default menu font by bolding hMenuFont.  If this doesn't</span>
00947 <span class="comment">     * work, then fall back to using simulation.</span>
00948 <span class="comment">     */</span>
00949     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a138">ghMenuFontDef</a> != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a> &amp;&amp; <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a138">ghMenuFontDef</a> != <a class="code" href="../../d1/d8/clglobal_8c.html#a28">ghFontSys</a>) {
00950         GreMarkDeletableFont(ghMenuFontDef);
00951         GreDeleteObject(ghMenuFontDef);
00952         <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a138">ghMenuFontDef</a> = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00953     }
00954 
00955     GreExtGetObjectW(ghMenuFont, <span class="keyword">sizeof</span>(LOGFONTW), &amp;lf);
00956     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a18">lf</a>.lfWeight &lt; FW_BOLD) {
00957         <a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a18">lf</a>.lfWeight += 200;
00958 
00959         <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a138">ghMenuFontDef</a> = GreCreateFontIndirectW(&amp;lf);
00960         <span class="keywordflow">if</span> (<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a138">ghMenuFontDef</a>) {
00961             GreMarkUndeletableFont(ghMenuFontDef);
00962             GreSetLFONTOwner((HLFONT)ghMenuFontDef, OBJECT_OWNER_PUBLIC);
00963         }
00964     }
00965 
00966     <span class="comment">/*</span>
00967 <span class="comment">     * Status Bar font</span>
00968 <span class="comment">     */</span>
00969     <span class="keywordflow">if</span> (lplf) {
00970        *lplf = lpnc-&gt;lfStatusFont;
00971     }
00972 
00973     <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d1/userk_8h.html#a1993">UserSetFont</a>(pProfileUserName,lplf, STR_STATUSFONT, &amp;ghStatusFont)) {
00974         RIPMSG0(RIP_WARNING, <span class="stringliteral">"xxxSetNCFonts failed for ghStatusFont"</span>);
00975         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00976     }
00977 
00978     <span class="comment">/*</span>
00979 <span class="comment">     * Message Box font</span>
00980 <span class="comment">     */</span>
00981     <span class="keywordflow">if</span> (lplf) {
00982        *lplf = lpnc-&gt;lfMessageFont;
00983     }
00984 
00985     <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d1/userk_8h.html#a1993">UserSetFont</a>(pProfileUserName,lplf, STR_MESSAGEFONT, &amp;<a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;hMsgFont)) {
00986         RIPMSG0(RIP_WARNING, <span class="stringliteral">"xxxSetNCFonts failed for gpsi-&gt;hMsgFont"</span>);
00987         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00988     }
00989 
00990     GreSelectFont(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a527">HDCBITS</a>(), <a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;hMsgFont);
00991     <a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;cxMsgFontChar = <a class="code" href="../../d9/d6/kernel_2server_8c.html#a72">GetCharDimensions</a>(
00992             <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a527">HDCBITS</a>(), NULL, &amp;<a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;cyMsgFontChar);
00993 
00994     <span class="comment">/*</span>
00995 <span class="comment">     * Recalculate length of the widest MessageBox button</span>
00996 <span class="comment">     * Make sure the width is no less than DU_BTNWIDTH dialog units MCostea #170582</span>
00997 <span class="comment">     */</span>
00998     <a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;<a class="code" href="../../d2/d6/structtagSERVERINFO.html#o16">wMaxBtnSize</a> = <a class="code" href="../../d8/d6/sertl_8c.html#a1">max</a>((UINT)<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a852">XPixFromXDU</a>(DU_BTNWIDTH, <a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;cxMsgFontChar),
00999                             <a class="code" href="../../d1/d1/inctlpan_8c.html#a5">xxxMB_FindLongestString</a>(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a527">HDCBITS</a>()));
01000     GreSelectFont(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a527">HDCBITS</a>(), hOldFont);
01001 
01002     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01003 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="inctlpan.c::xxxSetWindowNCMetrics" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL xxxSetWindowNCMetrics           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PUNICODE_STRING&nbsp;</td>
          <td class="mdname" nowrap> <em>pProfileUserName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPNONCLIENTMETRICS&nbsp;</td>
          <td class="mdname" nowrap> <em>lpnc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOL&nbsp;</td>
          <td class="mdname" nowrap> <em>fSizeChange</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>clNewBorder</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l01080">1080</a> of file <a class="el" href="../../d2/d0/inctlpan_8c-source.html">inctlpan.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00494">CreateBitmapStrip()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00302">gcyCaptionFontChar</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00310">gcyMenuFontChar</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00312">gcyMenuFontExternLeading</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00305">gcySmCaptionFontChar</a>, <a class="el" href="../../d9/d5/sertl_8c-source.html#l00332">max</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00023">MetricGetID()</a>, <a class="el" href="../../d6/d3/acpitabl_8h-source.html#l00366">min</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00622">SetNCMetrics()</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00202">SYSMET</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00861">xxxSetNCFonts()</a>.
<p>
Referenced by <a class="el" href="../../d8/d0/w32_2ntuser_2kernel_2init_8c-source.html#l01319">xxxInitWindowStation()</a>, <a class="el" href="../../d5/d4/rare_8c-source.html#l00799">xxxSetAndDrawNCMetrics()</a>, <a class="el" href="../../d0/d8/sysmet_8c-source.html#l00225">xxxSetSysColors()</a>, and <a class="el" href="../../d8/d0/w32_2ntuser_2kernel_2init_8c-source.html#l02445">xxxUpdatePerUserSystemParameters()</a>.
<p>
<pre class="fragment"><div>01085 {
01086     NONCLIENTMETRICS    nc;
01087     <span class="keywordtype">int</span>                 cxEdge4;
01088 
01089     <span class="keywordflow">if</span> (fSizeChange) {
01090         <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d1/userk_8h.html#a1859">xxxSetNCFonts</a>(pProfileUserName, lpnc)) {
01091             RIPMSG0(RIP_WARNING, <span class="stringliteral">"xxxSetWindowNCMetrics failed in xxxSetNCFonts"</span>);
01092             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01093         }
01094 
01095         <span class="keywordflow">if</span> (lpnc == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
01096             <span class="keywordflow">if</span> (clNewBorder &lt; 0)
01097                 nc.iBorderWidth = <a class="code" href="../../d1/d1/inctlpan_8c.html#a4">MetricGetID</a>(pProfileUserName,STR_BORDERWIDTH, 1);
01098             <span class="keywordflow">else</span>
01099                 nc.iBorderWidth = clNewBorder;
01100 
01101             nc.iScrollWidth     = <a class="code" href="../../d1/d1/inctlpan_8c.html#a4">MetricGetID</a>(pProfileUserName,STR_SCROLLWIDTH, 16       );
01102             nc.iScrollHeight    = <a class="code" href="../../d1/d1/inctlpan_8c.html#a4">MetricGetID</a>(pProfileUserName,STR_SCROLLHEIGHT, 16      );
01103             nc.iCaptionWidth    = <a class="code" href="../../d1/d1/inctlpan_8c.html#a4">MetricGetID</a>(pProfileUserName,STR_CAPTIONWIDTH, 18      );
01104             nc.iCaptionHeight   = <a class="code" href="../../d1/d1/inctlpan_8c.html#a4">MetricGetID</a>(pProfileUserName,STR_CAPTIONHEIGHT, 18     );
01105             nc.iSmCaptionWidth  = <a class="code" href="../../d1/d1/inctlpan_8c.html#a4">MetricGetID</a>(pProfileUserName,STR_SMCAPTIONWIDTH, 13    );
01106             nc.iSmCaptionHeight = <a class="code" href="../../d1/d1/inctlpan_8c.html#a4">MetricGetID</a>(pProfileUserName,STR_SMCAPTIONHEIGHT, 13   );
01107             nc.iMenuWidth       = <a class="code" href="../../d1/d1/inctlpan_8c.html#a4">MetricGetID</a>(pProfileUserName,STR_MENUWIDTH, 18         );
01108             nc.iMenuHeight      = <a class="code" href="../../d1/d1/inctlpan_8c.html#a4">MetricGetID</a>(pProfileUserName,STR_MENUHEIGHT, 18        );
01109 
01110             lpnc = &amp;nc;
01111         }
01112 
01113         <span class="comment">/*</span>
01114 <span class="comment">         * SANITY CHECK for metric values</span>
01115 <span class="comment">         */</span>
01116         cxEdge4 = 4 * <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXEDGE);
01117 
01118         <span class="comment">/*</span>
01119 <span class="comment">         * Border</span>
01120 <span class="comment">         */</span>
01121         lpnc-&gt;iBorderWidth = <a class="code" href="../../d8/d6/sertl_8c.html#a1">max</a>(lpnc-&gt;iBorderWidth, 1);
01122         lpnc-&gt;iBorderWidth = <a class="code" href="../../d5/d4/acpitabl_8h.html#a69">min</a>(lpnc-&gt;iBorderWidth, 50);
01123 
01124         <span class="comment">/*</span>
01125 <span class="comment">         * Scrollbar</span>
01126 <span class="comment">         */</span>
01127         lpnc-&gt;iScrollWidth  = <a class="code" href="../../d8/d6/sertl_8c.html#a1">max</a>(lpnc-&gt;iScrollWidth,  cxEdge4);
01128         lpnc-&gt;iScrollHeight = <a class="code" href="../../d8/d6/sertl_8c.html#a1">max</a>(lpnc-&gt;iScrollHeight, 4 * <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYEDGE));
01129 
01130         <span class="comment">/*</span>
01131 <span class="comment">         * Caption -- Buttons must be wide enough to draw edges, and text</span>
01132 <span class="comment">         * area must be tall enough to fit caption font with a border above</span>
01133 <span class="comment">         * and below.  If we have to reset the caption height, should we</span>
01134 <span class="comment">         * reset the button width as well?</span>
01135 <span class="comment">         */</span>
01136         lpnc-&gt;iCaptionWidth  = <a class="code" href="../../d8/d6/sertl_8c.html#a1">max</a>(lpnc-&gt;iCaptionWidth,  cxEdge4);
01137         lpnc-&gt;iCaptionHeight = <a class="code" href="../../d8/d6/sertl_8c.html#a1">max</a>(lpnc-&gt;iCaptionHeight, gcyCaptionFontChar + <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYEDGE));
01138 
01139         <span class="comment">/*</span>
01140 <span class="comment">         * Small caption -- Buttons must be wide enough to draw edges, and</span>
01141 <span class="comment">         * text area must be tall enough to fit small caption font with a</span>
01142 <span class="comment">         * border above and below.  Again, if we have to reset the height,</span>
01143 <span class="comment">         * reset the width as well?</span>
01144 <span class="comment">         */</span>
01145         lpnc-&gt;iSmCaptionWidth  = <a class="code" href="../../d8/d6/sertl_8c.html#a1">max</a>(lpnc-&gt;iSmCaptionWidth,  cxEdge4);
01146         lpnc-&gt;iSmCaptionHeight = <a class="code" href="../../d8/d6/sertl_8c.html#a1">max</a>(lpnc-&gt;iSmCaptionHeight, gcySmCaptionFontChar + <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYEDGE));
01147 
01148         <span class="comment">/*</span>
01149 <span class="comment">         * Menu -- Buttons must be wide enough to draw edges, and text</span>
01150 <span class="comment">         * area must be tall enough to fit menu font with underscore.</span>
01151 <span class="comment">         */</span>
01152         lpnc-&gt;iMenuWidth  = <a class="code" href="../../d8/d6/sertl_8c.html#a1">max</a>(lpnc-&gt;iMenuWidth,  cxEdge4);
01153         lpnc-&gt;iMenuHeight = <a class="code" href="../../d8/d6/sertl_8c.html#a1">max</a>(lpnc-&gt;iMenuHeight, gcyMenuFontChar + gcyMenuFontExternLeading + <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYEDGE));
01154 
01155         <span class="comment">/*</span>
01156 <span class="comment">         * SET UP SYSTEM METRIC VALUES</span>
01157 <span class="comment">         */</span>
01158         <a class="code" href="../../d1/d1/inctlpan_8c.html#a11">SetNCMetrics</a>(lpnc);
01159     }
01160 
01161     <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d1/userk_8h.html#a1860">CreateBitmapStrip</a>()) {
01162         RIPMSG0(RIP_WARNING, <span class="stringliteral">"CreateBitmapStrip failed"</span>);
01163         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01164     }
01165 
01166     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01167 }
</div></pre>    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a3" doxytag="inctlpan.c::cy" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int <a class="el" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>[5]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00480">480</a> of file <a class="el" href="../../d2/d0/inctlpan_8c-source.html">inctlpan.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d7/swp_8c-source.html#l00365">_DeferWindowPos()</a>, <a class="el" href="../../d1/d8/wmicon_8c-source.html#l00093">_DrawIconEx()</a>, <a class="el" href="../../d4/d7/winmgrc_8c-source.html#l00810">AnimateWindow()</a>, <a class="el" href="../../d9/d1/mngray_8c-source.html#l00448">BltColor()</a>, <a class="el" href="../../d1/d8/wmicon_8c-source.html#l00032">BltIcon()</a>, <a class="el" href="../../d9/d0/btnctl_8c-source.html#l00534">BNMultiDraw()</a>, <a class="el" href="../../d9/d3/sbctl_8c-source.html#l00600">CalcTrackDragRect()</a>, <a class="el" href="../../d5/d8/clres_8c-source.html#l04493">CopyIcoCur()</a>, <a class="el" href="../../d4/d5/rect_8c-source.html#l00052">CopyInflateRect()</a>, <a class="el" href="../../d4/d5/rect_8c-source.html#l00073">CopyOffsetRect()</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00494">CreateBitmapStrip()</a>, <a class="el" href="../../d9/d1/mngray_8c-source.html#l00040">CreateCompatiblePublicDC()</a>, <a class="el" href="../../d5/d8/clres_8c-source.html#l01084">CreateIcoCurIndirect()</a>, <a class="el" href="../../d9/d7/ntuser_2kernel_2clipbrd_8c-source.html#l01114">CreateScreenBitmap()</a>, <a class="el" href="../../d2/d3/spb_8c-source.html#l00341">CreateSpb()</a>, <a class="el" href="../../d2/d3/tooltips_8c-source.html#l00097">CreateTooltipBitmap()</a>, <a class="el" href="../../d9/d7/ntuser_2kernel_2clipbrd_8c-source.html#l01189">DIBtoBMP()</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00460">DrawBox()</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00114">DrawDiagonalLine()</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l01188">DrawFrame()</a>, <a class="el" href="../../d4/d7/client_8c-source.html#l01210">DrawIconEx()</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00656">DrawIt()</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00604">DrawMenuMark()</a>, <a class="el" href="../../d0/d2/mngrayc_8c-source.html#l00530">DrawStateA()</a>, <a class="el" href="../../d0/d2/mngrayc_8c-source.html#l00075">DrawStateW()</a>, <a class="el" href="../../d3/d2/mnpopup_8c-source.html#l00496">FindBestPos()</a>, <a class="el" href="../../d3/d7/swp_8c-source.html#l05919">FixBogusSWP()</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00315">GetFrameControlMetrics()</a>, <a class="el" href="../../d4/d7/client_8c-source.html#l01781">GrayStringA()</a>, <a class="el" href="../../d4/d7/client_8c-source.html#l01804">GrayStringW()</a>, <a class="el" href="../../d4/d5/rect_8c-source.html#l00165">InflateRect()</a>, <a class="el" href="../../d4/d7/client_8c-source.html#l01618">InnerGrayStringAorW()</a>, <a class="el" href="../../d3/d7/swp_8c-source.html#l05895">IsRectBogus()</a>, <a class="el" href="../../d0/d1/lboxctl2_8c-source.html#l00286">LBPrintCallback()</a>, <a class="el" href="../../d6/d4/mdimenu_8c-source.html#l00775">MDIActivateDlgInit()</a>, <a class="el" href="../../d5/d2/mnstate_8c-source.html#l00389">MNCreateAnimationBitmap()</a>, <a class="el" href="../../d7/d1/mndraw_8c-source.html#l00052">MNDrawMenu3DHotTracking()</a>, <a class="el" href="../../d7/d1/mndraw_8c-source.html#l00235">MNEraseBackground()</a>, <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l01761">NtUserDeferWindowPos()</a>, <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l01710">NtUserDrawIconEx()</a>, <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l01917">NtUserMoveWindow()</a>, <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l02180">NtUserSetWindowPos()</a>, <a class="el" href="../../d4/d5/rect_8c-source.html#l00139">OffsetRect()</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00411">PackFrameControls()</a>, <a class="el" href="../../d9/d4/reader_8c-source.html#l00158">ReaderWndProc()</a>, <a class="el" href="../../d9/d3/sprite_8c-source.html#l00337">RecreateRedirectionBitmap()</a>, <a class="el" href="../../d4/d1/rtlres_8c-source.html#l00142">RtlLoadObjectFromDIBFile()</a>, <a class="el" href="../../d5/d8/minmax_8c-source.html#l00538">SaveScreen()</a>, <a class="el" href="../../d6/d4/statctl_8c-source.html#l00344">StaticCallback()</a>, <a class="el" href="../../d3/d7/swp_8c-source.html#l05842">TestRectBogus()</a>, <a class="el" href="../../d2/d3/tooltips_8c-source.html#l00148">TooltipAnimate()</a>, <a class="el" href="../../d3/d2/mnpopup_8c-source.html#l00661">TryRect()</a>, <a class="el" href="../../d5/d8/minmax_8c-source.html#l00558">xxxAnimateCaption()</a>, <a class="el" href="../../d9/d0/btnctl_8c-source.html#l00722">xxxBNDrawText()</a>, <a class="el" href="../../d5/d4/caret_8c-source.html#l00254">xxxCreateCaret()</a>, <a class="el" href="../../d5/d7/createw_8c-source.html#l00033">xxxCreateWindowEx()</a>, <a class="el" href="../../d9/d1/mngray_8c-source.html#l00169">xxxDrawState()</a>, <a class="el" href="../../d3/d1/lboxrare_8c-source.html#l00514">xxxLBSize()</a>, <a class="el" href="../../d7/d1/mndraw_8c-source.html#l01534">xxxMenuDraw()</a>, <a class="el" href="../../d3/d6/ntuser_2kernel_2menu_8c-source.html#l04022">xxxMenuWindowProc()</a>, <a class="el" href="../../d3/d6/ntuser_2kernel_2menu_8c-source.html#l01683">xxxMNPositionHierarchy()</a>, <a class="el" href="../../d3/d7/swp_8c-source.html#l00144">xxxMoveWindow()</a>, <a class="el" href="../../d2/d2/tmswitch_8c-source.html#l00808">xxxPaintIconsInSwitchWindow()</a>, <a class="el" href="../../d7/d1/mndraw_8c-source.html#l00954">xxxRealDrawMenuItem()</a>, <a class="el" href="../../d9/d3/sbctl_8c-source.html#l02582">xxxSBWndProc()</a>, <a class="el" href="../../d3/d7/swp_8c-source.html#l01468">xxxSetWindowPos()</a>, <a class="el" href="../../d6/d4/statctl_8c-source.html#l00419">xxxStaticPaint()</a>, <a class="el" href="../../d2/d3/tooltips_8c-source.html#l00570">xxxTooltipWndProc()</a>, <a class="el" href="../../d3/d7/swp_8c-source.html#l01955">zzzChangeStates()</a>, and <a class="el" href="../../d9/d3/sbctl_8c-source.html#l01678">zzzDrawInvertScrollArea()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="inctlpan.c::sysBmpStyles" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> CONST WORD <a class="el" href="../../d1/d1/inctlpan_8c.html#a2">sysBmpStyles</a>[OBI_COUNT][2]<code> [static]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00033">33</a> of file <a class="el" href="../../d2/d0/inctlpan_8c-source.html">inctlpan.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00494">CreateBitmapStrip()</a>, and <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00315">GetFrameControlMetrics()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:44:10 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
