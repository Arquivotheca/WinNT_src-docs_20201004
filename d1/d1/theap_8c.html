<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: theap.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>theap.c File Reference</h1><code>#include "<a class="el" href="../../d2/d8/rtl_2heap_8c-source.html">..\heap.c</a>"</code><br>
<code>#include "<a class="el" href="../../d6/d8/heapdll_8c-source.html">..\heapdll.c</a>"</code><br>
<code>#include "<a class="el" href="../../d5/d8/heapdbg_8c-source.html">..\heapdbg.c</a>"</code><br>
<code>#include "<a class="el" href="../../d7/d8/heappage_8c-source.html">..\heappage.c</a>"</code><br>
<code>#include &lt;windows.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>

<p>
<a href="../../d2/d0/theap_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html">_TEST_HEAP_ENTRY</a></td></tr>

<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/theap_8c.html#a0">THEAP</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/theap_8c.html#a1">MAX_HEAP_ALLOC</a>&nbsp;&nbsp;&nbsp;0x120000</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/theap_8c.html#a2">REASONABLE_HEAP_ALLOC</a>&nbsp;&nbsp;&nbsp;0x200</td></tr>

<tr><td colspan=2><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html">_TEST_HEAP_ENTRY</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/theap_8c.html#a13">TEST_HEAP_ENTRY</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html">_TEST_HEAP_ENTRY</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/theap_8c.html#a14">PTEST_HEAP_ENTRY</a></td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/theap_8c.html#a18">NtdllOkayToLockRoutine</a> (IN PVOID Lock)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int _cdecl&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/theap_8c.html#a19">main</a> (int argc, char *argv[])</td></tr>

<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>ULONG&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/theap_8c.html#a3">NtGlobalFlag</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PRTL_INITIALIZE_LOCK_ROUTINE&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/theap_8c.html#a4">RtlInitializeLockRoutine</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PRTL_ACQUIRE_LOCK_ROUTINE&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/theap_8c.html#a5">RtlAcquireLockRoutine</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PRTL_RELEASE_LOCK_ROUTINE&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/theap_8c.html#a6">RtlReleaseLockRoutine</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PRTL_DELETE_LOCK_ROUTINE&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/theap_8c.html#a7">RtlDeleteLockRoutine</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PRTL_OKAY_TO_LOCK_ROUTINE&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/theap_8c.html#a8">RtlOkayToLockRoutine</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>RTL_HEAP_PARAMETERS&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/theap_8c.html#a9">HeapParameters</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>ULONG&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/theap_8c.html#a10">RtlpHeapValidateOnCall</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>ULONG&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/theap_8c.html#a11">RtlpHeapStopOnFree</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>ULONG&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/theap_8c.html#a12">RtlpHeapStopOnReAlloc</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>ULONG&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/theap_8c.html#a15">NumberOfHeapEntries</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html">PTEST_HEAP_ENTRY</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/theap_8c.html#a16">HeapEntries</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>ULONG&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d1/theap_8c.html#a17">Seed</a> = 14623</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a1" doxytag="theap.c::MAX_HEAP_ALLOC" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MAX_HEAP_ALLOC&nbsp;&nbsp;&nbsp;0x120000          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/theap_8c-source.html#l00072">72</a> of file <a class="el" href="../../d2/d0/theap_8c-source.html">theap.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d0/theap_8c-source.html#l00077">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="theap.c::REASONABLE_HEAP_ALLOC" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define REASONABLE_HEAP_ALLOC&nbsp;&nbsp;&nbsp;0x200          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/theap_8c-source.html#l00073">73</a> of file <a class="el" href="../../d2/d0/theap_8c-source.html">theap.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d0/theap_8c-source.html#l00077">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="theap.c::THEAP" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define THEAP          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/theap_8c-source.html#l00021">21</a> of file <a class="el" href="../../d2/d0/theap_8c-source.html">theap.c</a>.    </td>
  </tr>
</table>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="a14" doxytag="theap.c::PTEST_HEAP_ENTRY" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html">_TEST_HEAP_ENTRY</a> * <a class="el" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html">PTEST_HEAP_ENTRY</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d2/d0/theap_8c-source.html#l00077">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="theap.c::TEST_HEAP_ENTRY" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html">_TEST_HEAP_ENTRY</a>  <a class="el" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html">TEST_HEAP_ENTRY</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a19" doxytag="theap.c::main" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int _cdecl main           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>argv</em>[]</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/theap_8c-source.html#l00077">77</a> of file <a class="el" href="../../d2/d0/theap_8c-source.html">theap.c</a>.
<p>
References <a class="el" href="../../d2/d0/theap_8c-source.html#l00063">_TEST_HEAP_ENTRY::AllocatedBlock</a>, <a class="el" href="../../d0/d1/fedefs_8h-source.html#l00051">exit</a>, <a class="el" href="../../d2/d0/theap_8c-source.html#l00068">HeapEntries</a>, <a class="el" href="../../d2/d0/theap_8c-source.html#l00055">HeapParameters</a>, <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>, <a class="el" href="../../d2/d0/theap_8c-source.html#l00072">MAX_HEAP_ALLOC</a>, <a class="el" href="../../d8/d9/exts_8h-source.html#l00092">n</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d2/d0/theap_8c-source.html#l00067">NumberOfHeapEntries</a>, <a class="el" href="../../d1/d1/theap_8c.html#a14">PTEST_HEAP_ENTRY</a>, <a class="el" href="../../d2/d0/theap_8c-source.html#l00073">REASONABLE_HEAP_ALLOC</a>, <a class="el" href="../../d4/d6/config_2utils_2regutil_8c-source.html#l00022">RtlAllocateHeap</a>, <a class="el" href="../../d2/d8/rtl_2heap_8c-source.html#l00191">RtlCreateHeap()</a>, <a class="el" href="../../d6/d8/heapdll_8c-source.html#l01603">RtlCreateTagHeap()</a>, <a class="el" href="../../d4/d6/config_2utils_2regutil_8c-source.html#l00023">RtlFreeHeap</a>, <a class="el" href="../../d6/d8/heapdll_8c-source.html#l00179">RtlInitializeHeapManager()</a>, <a class="el" href="../../d2/d0/theap_8c-source.html#l00057">RtlpHeapValidateOnCall</a>, <a class="el" href="../../d6/d8/heapdll_8c-source.html#l00518">RtlReAllocateHeap()</a>, <a class="el" href="../../d7/d3/rtl_2random_8c-source.html#l00037">RtlUniform()</a>, <a class="el" href="../../d6/d8/heapdll_8c-source.html#l02976">RtlUsageHeap()</a>, <a class="el" href="../../d6/d8/heapdll_8c-source.html#l02530">RtlValidateHeap()</a>, <a class="el" href="../../d5/d3/tprefix_8c-source.html#l00032">Seed</a>, <a class="el" href="../../d2/d0/theap_8c-source.html#l00064">_TEST_HEAP_ENTRY::Size</a>, <a class="el" href="../../d3/d0/cttoken_8c-source.html#l00135">Status</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d2/d0/hivedmp_8c-source.html#l00066">Usage()</a>.
<p>
<pre class="fragment"><div>00081 {
00082     PVOID Heap, AllocatedBlock;
00083     ULONG i, <a class="code" href="../../d7/d0/exts_8h.html#a0">n</a>;
00084     <a class="code" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html">PTEST_HEAP_ENTRY</a> p;
00085     BOOLEAN Result;
00086     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
00087     RTL_HEAP_USAGE <a class="code" href="../../d1/d1/hivedmp_8c.html#a6">Usage</a>;
00088     PRTL_HEAP_USAGE_ENTRY pEntries;
00089     ULONG TagBaseIndex, Tag;
00090     ULONG TotalAllocated;
00091 
00092     <a class="code" href="../../d5/d9/heapdll_8c.html#a20">RtlInitializeHeapManager</a>();
00093     memset( &amp;Usage, 0, <span class="keyword">sizeof</span>( Usage ) );
00094 
00095 <span class="preprocessor">#if 0</span>
00096 <span class="preprocessor"></span>    <a class="code" href="../../d1/d1/theap_8c.html#a9">HeapParameters</a>.Length = <span class="keyword">sizeof</span>( <a class="code" href="../../d1/d1/theap_8c.html#a9">HeapParameters</a> );
00097     <a class="code" href="../../d1/d1/theap_8c.html#a9">HeapParameters</a>.DeCommitFreeBlockThreshold = 0x1000;
00098     <a class="code" href="../../d1/d1/theap_8c.html#a9">HeapParameters</a>.DeCommitTotalFreeThreshold = 0x4000;
00099     Heap = <a class="code" href="../../d1/d9/rtl_2heap_8c.html#a15">RtlCreateHeap</a>( HEAP_GROWABLE | HEAP_NO_SERIALIZE,
00100                           NULL,
00101                           256 * 4096,
00102                           4096,
00103                           NULL,
00104                           &amp;HeapParameters
00105                         );
00106 <span class="preprocessor">#endif</span>
00107 <span class="preprocessor"></span>    Heap = <a class="code" href="../../d1/d9/rtl_2heap_8c.html#a15">RtlCreateHeap</a>( HEAP_GROWABLE | HEAP_NO_SERIALIZE | HEAP_CLASS_3,
00108                           NULL,
00109                           0x100000,
00110                           0x1000,
00111                           NULL,
00112                           NULL
00113                         );
00114     <span class="keywordflow">if</span> (Heap == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00115         fprintf( stderr, <span class="stringliteral">"THEAP: Unable to create heap.\n"</span> );
00116         <a class="code" href="../../d9/d1/fedefs_8h.html#a16">exit</a>( 1 );
00117         }
00118     fprintf( stderr, <span class="stringliteral">"THEAP: Created heap at %x\n"</span>, Heap );
00119     DebugBreak();
00120     TagBaseIndex = <a class="code" href="../../d5/d9/heapdll_8c.html#a28">RtlCreateTagHeap</a>( Heap, 0, L<span class="stringliteral">"THEAP!"</span>,
00121                                      L<span class="stringliteral">"!HeapName\0"</span>
00122                                      L<span class="stringliteral">"Tag1\0"</span>
00123                                      L<span class="stringliteral">"Tag2\0"</span>
00124                                      L<span class="stringliteral">"Tag3\0"</span>
00125                                      L<span class="stringliteral">"Tag4\0"</span>
00126                                      L<span class="stringliteral">"Tag5\0"</span>
00127                                      L<span class="stringliteral">"Tag6\0"</span>
00128                                      L<span class="stringliteral">"Tag7\0"</span>
00129                                      L<span class="stringliteral">"Tag8\0"</span>
00130                                      L<span class="stringliteral">"Tag9\0"</span>
00131                                      L<span class="stringliteral">"Tag10\0"</span>
00132                                      L<span class="stringliteral">"Tag11\0"</span>
00133                                      L<span class="stringliteral">"Tag12\0"</span>
00134                                      L<span class="stringliteral">"Tag13\0"</span>
00135                                      L<span class="stringliteral">"Tag14\0"</span>
00136                                      L<span class="stringliteral">"Tag15\0"</span>
00137                                      L<span class="stringliteral">"Tag16\0"</span>
00138                                      L<span class="stringliteral">"Tag17\0"</span>
00139                                      L<span class="stringliteral">"Tag18\0"</span>
00140                                      L<span class="stringliteral">"Tag19\0"</span>
00141                                      L<span class="stringliteral">"Tag20\0"</span>
00142                                      L<span class="stringliteral">"Tag21\0"</span>
00143                                      L<span class="stringliteral">"Tag22\0"</span>
00144                                      L<span class="stringliteral">"Tag23\0"</span>
00145                                      L<span class="stringliteral">"Tag24\0"</span>
00146                                      L<span class="stringliteral">"Tag25\0"</span>
00147                                      L<span class="stringliteral">"Tag26\0"</span>
00148                                      L<span class="stringliteral">"Tag27\0"</span>
00149                                      L<span class="stringliteral">"Tag28\0"</span>
00150                                      L<span class="stringliteral">"Tag29\0"</span>
00151                                      L<span class="stringliteral">"Tag30\0"</span>
00152                                      L<span class="stringliteral">"Tag31\0"</span>
00153                                      L<span class="stringliteral">"Tag32\0"</span>
00154                                      L<span class="stringliteral">"Tag33\0"</span>
00155                                      L<span class="stringliteral">"Tag34\0"</span>
00156                                      L<span class="stringliteral">"Tag35\0"</span>
00157                                      L<span class="stringliteral">"Tag36\0"</span>
00158                                      L<span class="stringliteral">"Tag37\0"</span>
00159                                      L<span class="stringliteral">"Tag38\0"</span>
00160                                      L<span class="stringliteral">"Tag39\0"</span>
00161                                      L<span class="stringliteral">"Tag40\0"</span>
00162                                      L<span class="stringliteral">"Tag41\0"</span>
00163                                      L<span class="stringliteral">"Tag42\0"</span>
00164                                      L<span class="stringliteral">"Tag43\0"</span>
00165                                      L<span class="stringliteral">"Tag44\0"</span>
00166                                      L<span class="stringliteral">"Tag45\0"</span>
00167                                      L<span class="stringliteral">"Tag46\0"</span>
00168                                      L<span class="stringliteral">"Tag47\0"</span>
00169                                      L<span class="stringliteral">"Tag48\0"</span>
00170                                      L<span class="stringliteral">"Tag49\0"</span>
00171                                      L<span class="stringliteral">"Tag50\0"</span>
00172                                      L<span class="stringliteral">"Tag51\0"</span>
00173                                      L<span class="stringliteral">"Tag52\0"</span>
00174                                      L<span class="stringliteral">"Tag53\0"</span>
00175                                      L<span class="stringliteral">"Tag54\0"</span>
00176                                      L<span class="stringliteral">"Tag55\0"</span>
00177                                      L<span class="stringliteral">"Tag56\0"</span>
00178                                      L<span class="stringliteral">"Tag57\0"</span>
00179                                      L<span class="stringliteral">"Tag58\0"</span>
00180                                      L<span class="stringliteral">"Tag59\0"</span>
00181                                      L<span class="stringliteral">"Tag60\0"</span>
00182                                    );
00183 
00184     <a class="code" href="../../d1/d1/theap_8c.html#a15">NumberOfHeapEntries</a> = 1000;
00185     <a class="code" href="../../d1/d1/theap_8c.html#a16">HeapEntries</a> = VirtualAlloc( NULL,
00186                                 NumberOfHeapEntries * <span class="keyword">sizeof</span>( *HeapEntries ),
00187                                 MEM_COMMIT,
00188                                 PAGE_READWRITE
00189                               );
00190     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d1/theap_8c.html#a16">HeapEntries</a> == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00191         fprintf( stderr, <span class="stringliteral">"THEAP: Unable to allocate space.\n"</span> );
00192         <a class="code" href="../../d9/d1/fedefs_8h.html#a16">exit</a>( 1 );
00193         }
00194 
00195     <a class="code" href="../../d1/d1/theap_8c.html#a10">RtlpHeapValidateOnCall</a>=<a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00196     <span class="comment">// RtlpHeapStopOnAllocate=0x350f88;</span>
00197     <span class="comment">// RtlpHeapStopOnReAlloc=0x710040;</span>
00198 
00199     TotalAllocated = 0;
00200     <span class="keywordflow">while</span> (TotalAllocated &lt; (2 * 1024 * 1024)) {
00201         i = <a class="code" href="../../d6/d4/rtl_2random_8c.html#a5">RtlUniform</a>( &amp;Seed ) % <a class="code" href="../../d1/d1/theap_8c.html#a15">NumberOfHeapEntries</a>;
00202         <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4/rtl_2random_8c.html#a5">RtlUniform</a>( &amp;Seed ) % 100) {
00203             <a class="code" href="../../d7/d0/exts_8h.html#a0">n</a> = <a class="code" href="../../d6/d4/rtl_2random_8c.html#a5">RtlUniform</a>( &amp;Seed ) % <a class="code" href="../../d1/d1/theap_8c.html#a2">REASONABLE_HEAP_ALLOC</a>;
00204             }
00205         <span class="keywordflow">else</span> {
00206             <a class="code" href="../../d7/d0/exts_8h.html#a0">n</a> = <a class="code" href="../../d6/d4/rtl_2random_8c.html#a5">RtlUniform</a>( &amp;Seed ) % <a class="code" href="../../d1/d1/theap_8c.html#a1">MAX_HEAP_ALLOC</a>;
00207             }
00208 
00209 <span class="preprocessor">#if 0</span>
00210 <span class="preprocessor"></span>        <a class="code" href="../../d1/d1/hivedmp_8c.html#a6">Usage</a>.Length = <span class="keyword">sizeof</span>( <a class="code" href="../../d1/d1/hivedmp_8c.html#a6">Usage</a> );
00211         <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d5/d9/heapdll_8c.html#a36">RtlUsageHeap</a>( Heap, HEAP_USAGE_ALLOCATED_BLOCKS , &amp;Usage );
00212         <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( Status )) {
00213             <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> == STATUS_MORE_ENTRIES) {
00214                 pEntries = <a class="code" href="../../d1/d1/hivedmp_8c.html#a6">Usage</a>.AddedEntries;
00215                 <span class="keywordflow">while</span> (pEntries) {
00216                     fprintf( stderr,
00217                              <span class="stringliteral">"Added: %08x %06x\n"</span>,
00218                              pEntries-&gt;Address,
00219                              pEntries-&gt;Size
00220                            );
00221                     pEntries = pEntries-&gt;Next;
00222                     }
00223 
00224                 pEntries = <a class="code" href="../../d1/d1/hivedmp_8c.html#a6">Usage</a>.RemovedEntries;
00225                 <span class="keywordflow">while</span> (pEntries) {
00226                     fprintf( stderr,
00227                              <span class="stringliteral">"Freed: %08x %06x\n"</span>,
00228                              pEntries-&gt;Address,
00229                              pEntries-&gt;Size
00230                            );
00231                     pEntries = pEntries-&gt;Next;
00232                     }
00233                 }
00234 
00235             fprintf( stderr, <span class="stringliteral">"%08x  %08x  %08x  %08x  "</span>,
00236                              <a class="code" href="../../d1/d1/hivedmp_8c.html#a6">Usage</a>.BytesAllocated, <a class="code" href="../../d1/d1/hivedmp_8c.html#a6">Usage</a>.BytesCommitted,
00237                              <a class="code" href="../../d1/d1/hivedmp_8c.html#a6">Usage</a>.BytesReserved, <a class="code" href="../../d1/d1/hivedmp_8c.html#a6">Usage</a>.BytesReservedMaximum
00238                    );
00239             }
00240         <span class="keywordflow">else</span> {
00241             fprintf( stderr, <span class="stringliteral">"RtlUsageHeap failed with status %x\n"</span>, Status );
00242             DebugBreak();
00243             }
00244 
00245         <span class="keywordflow">if</span> (i &lt; 60) {
00246             Tag = (TagBaseIndex + i + 1) &lt;&lt; 16;
00247             }
00248         <span class="keywordflow">else</span> {
00249             Tag = 0;
00250             }
00251 <span class="preprocessor">#endif</span>
00252 <span class="preprocessor"></span>        Tag = 0;
00253         p = &amp;<a class="code" href="../../d1/d1/theap_8c.html#a16">HeapEntries</a>[ i ];
00254         <span class="keywordflow">if</span> (p-&gt;<a class="code" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html#o0">AllocatedBlock</a> == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00255             TotalAllocated += <a class="code" href="../../d7/d0/exts_8h.html#a0">n</a>;
00256             p-&gt;<a class="code" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html#o0">AllocatedBlock</a> = <a class="code" href="../../d3/d7/config_2utils_2regutil_8c.html#a0">RtlAllocateHeap</a>( Heap, Tag, n );
00257             fprintf( stderr, <span class="stringliteral">"Allocated %06x bytes at %08x\n"</span>, n, p-&gt;<a class="code" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html#o0">AllocatedBlock</a> );
00258             <span class="keywordflow">if</span> (p-&gt;<a class="code" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html#o0">AllocatedBlock</a> != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00259                 p-&gt;<a class="code" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html#o1">Size</a> = <a class="code" href="../../d7/d0/exts_8h.html#a0">n</a>;
00260                 }
00261             <span class="keywordflow">else</span> {
00262                 DebugBreak();
00263                 }
00264             }
00265         <span class="keywordflow">else</span>
00266         <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4/rtl_2random_8c.html#a5">RtlUniform</a>( &amp;Seed ) &amp; 1) {
00267             TotalAllocated -= p-&gt;<a class="code" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html#o1">Size</a>;
00268             TotalAllocated += <a class="code" href="../../d7/d0/exts_8h.html#a0">n</a>;
00269             AllocatedBlock = <a class="code" href="../../d5/d9/heapdll_8c.html#a24">RtlReAllocateHeap</a>( Heap, Tag, p-&gt;<a class="code" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html#o0">AllocatedBlock</a>, n );
00270             fprintf( stderr, <span class="stringliteral">"ReAlloced %06x bytes at %08x to %06x bytes at %08x\n"</span>,
00271                      p-&gt;<a class="code" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html#o1">Size</a>,
00272                      p-&gt;<a class="code" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html#o0">AllocatedBlock</a>,
00273                      n,
00274                      AllocatedBlock
00275                    );
00276             <span class="keywordflow">if</span> (AllocatedBlock != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00277                 p-&gt;<a class="code" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html#o0">AllocatedBlock</a> = AllocatedBlock;
00278                 p-&gt;<a class="code" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html#o1">Size</a> = <a class="code" href="../../d7/d0/exts_8h.html#a0">n</a>;
00279                 }
00280             <span class="keywordflow">else</span> {
00281                 DebugBreak();
00282                 }
00283             }
00284         <span class="keywordflow">else</span> {
00285             TotalAllocated -= p-&gt;<a class="code" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html#o1">Size</a>;
00286             Result = <a class="code" href="../../d3/d7/config_2utils_2regutil_8c.html#a1">RtlFreeHeap</a>( Heap, 0, p-&gt;<a class="code" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html#o0">AllocatedBlock</a> );
00287             fprintf( stderr, <span class="stringliteral">"Freed     %06x bytes at %08x\n"</span>,
00288                      p-&gt;<a class="code" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html#o1">Size</a>,
00289                      p-&gt;<a class="code" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html#o0">AllocatedBlock</a>
00290                    );
00291             <span class="keywordflow">if</span> (Result) {
00292                 p-&gt;<a class="code" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html#o0">AllocatedBlock</a> = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00293                 p-&gt;<a class="code" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html#o1">Size</a> = 0;
00294                 }
00295             <span class="keywordflow">else</span> {
00296                 DebugBreak();
00297                 }
00298             }
00299 
00300         }
00301 
00302     RtlResetHeap( Heap, 0 );
00303     <a class="code" href="../../d5/d9/heapdll_8c.html#a32">RtlValidateHeap</a>( Heap, 0, NULL );
00304 
00305     <span class="keywordflow">return</span> 0;
00306 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="theap.c::NtdllOkayToLockRoutine" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN NtdllOkayToLockRoutine           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PVOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>Lock</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/theap_8c-source.html#l00037">37</a> of file <a class="el" href="../../d2/d0/theap_8c-source.html">theap.c</a>.
<p>
References <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
<pre class="fragment"><div>00040 {
00041     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00042 }
</div></pre>    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a16" doxytag="theap.c::HeapEntries" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d5/d0/struct__TEST__HEAP__ENTRY.html">PTEST_HEAP_ENTRY</a> <a class="el" href="../../d1/d1/theap_8c.html#a16">HeapEntries</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/theap_8c-source.html#l00068">68</a> of file <a class="el" href="../../d2/d0/theap_8c-source.html">theap.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d0/theap_8c-source.html#l00077">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="theap.c::HeapParameters" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> RTL_HEAP_PARAMETERS <a class="el" href="../../d1/d1/theap_8c.html#a9">HeapParameters</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/theap_8c-source.html#l00055">55</a> of file <a class="el" href="../../d2/d0/theap_8c-source.html">theap.c</a>.
<p>
Referenced by <a class="el" href="../../d9/d1/ldrinit_8c-source.html#l00616">LdrpInitializeProcess()</a>, and <a class="el" href="../../d2/d0/theap_8c-source.html#l00077">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="theap.c::NtGlobalFlag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ULONG <a class="el" href="../../d1/d1/theap_8c.html#a3">NtGlobalFlag</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div> FLG_HEAP_ENABLE_TAIL_CHECK |
                     FLG_HEAP_ENABLE_FREE_CHECK |
                     FLG_HEAP_VALIDATE_PARAMETERS |
                     FLG_HEAP_VALIDATE_ALL |
                     FLG_HEAP_ENABLE_TAGGING
</div></pre>
<p>
Definition at line <a class="el" href="../../d2/d0/theap_8c-source.html#l00030">30</a> of file <a class="el" href="../../d2/d0/theap_8c-source.html">theap.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="theap.c::NumberOfHeapEntries" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ULONG <a class="el" href="../../d1/d1/theap_8c.html#a15">NumberOfHeapEntries</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/theap_8c-source.html#l00067">67</a> of file <a class="el" href="../../d2/d0/theap_8c-source.html">theap.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d0/theap_8c-source.html#l00077">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="theap.c::RtlAcquireLockRoutine" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PRTL_ACQUIRE_LOCK_ROUTINE <a class="el" href="../../d1/d1/theap_8c.html#a5">RtlAcquireLockRoutine</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div>
    (PRTL_ACQUIRE_LOCK_ROUTINE)RtlEnterCriticalSection
</div></pre>
<p>
Definition at line <a class="el" href="../../d2/d0/theap_8c-source.html#l00046">46</a> of file <a class="el" href="../../d2/d0/theap_8c-source.html">theap.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="theap.c::RtlDeleteLockRoutine" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PRTL_DELETE_LOCK_ROUTINE <a class="el" href="../../d1/d1/theap_8c.html#a7">RtlDeleteLockRoutine</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div>
    (PRTL_DELETE_LOCK_ROUTINE)<a class="code" href="../../d7/d8/dll_2resource_8c.html#a29">RtlDeleteCriticalSection</a>
</div></pre>
<p>
Definition at line <a class="el" href="../../d2/d0/theap_8c-source.html#l00050">50</a> of file <a class="el" href="../../d2/d0/theap_8c-source.html">theap.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="theap.c::RtlInitializeLockRoutine" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PRTL_INITIALIZE_LOCK_ROUTINE <a class="el" href="../../d1/d1/theap_8c.html#a4">RtlInitializeLockRoutine</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div>
    (PRTL_INITIALIZE_LOCK_ROUTINE)<a class="code" href="../../d7/d8/dll_2resource_8c.html#a24">RtlInitializeCriticalSection</a>
</div></pre>
<p>
Definition at line <a class="el" href="../../d2/d0/theap_8c-source.html#l00044">44</a> of file <a class="el" href="../../d2/d0/theap_8c-source.html">theap.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="theap.c::RtlOkayToLockRoutine" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PRTL_OKAY_TO_LOCK_ROUTINE <a class="el" href="../../d1/d1/theap_8c.html#a8">RtlOkayToLockRoutine</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div>
    (PRTL_OKAY_TO_LOCK_ROUTINE)<a class="code" href="../../d8/d2/ldrinit_8c.html#a17">NtdllOkayToLockRoutine</a>
</div></pre>
<p>
Definition at line <a class="el" href="../../d2/d0/theap_8c-source.html#l00052">52</a> of file <a class="el" href="../../d2/d0/theap_8c-source.html">theap.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="theap.c::RtlpHeapStopOnFree" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ULONG <a class="el" href="../../d1/d1/theap_8c.html#a11">RtlpHeapStopOnFree</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/theap_8c-source.html#l00058">58</a> of file <a class="el" href="../../d2/d0/theap_8c-source.html">theap.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="theap.c::RtlpHeapStopOnReAlloc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ULONG <a class="el" href="../../d1/d1/theap_8c.html#a12">RtlpHeapStopOnReAlloc</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/theap_8c-source.html#l00059">59</a> of file <a class="el" href="../../d2/d0/theap_8c-source.html">theap.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="theap.c::RtlpHeapValidateOnCall" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ULONG <a class="el" href="../../d1/d1/theap_8c.html#a10">RtlpHeapValidateOnCall</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/theap_8c-source.html#l00057">57</a> of file <a class="el" href="../../d2/d0/theap_8c-source.html">theap.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d0/theap_8c-source.html#l00077">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="theap.c::RtlReleaseLockRoutine" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PRTL_RELEASE_LOCK_ROUTINE <a class="el" href="../../d1/d1/theap_8c.html#a6">RtlReleaseLockRoutine</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div>
    (PRTL_RELEASE_LOCK_ROUTINE)RtlLeaveCriticalSection
</div></pre>
<p>
Definition at line <a class="el" href="../../d2/d0/theap_8c-source.html#l00048">48</a> of file <a class="el" href="../../d2/d0/theap_8c-source.html">theap.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="theap.c::Seed" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ULONG <a class="el" href="../../d1/d1/theap_8c.html#a17">Seed</a> = 14623          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d0/theap_8c-source.html#l00070">70</a> of file <a class="el" href="../../d2/d0/theap_8c-source.html">theap.c</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:45:44 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
