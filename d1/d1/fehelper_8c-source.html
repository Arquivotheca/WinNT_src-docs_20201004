<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: fehelper.c Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>fehelper.c</h1><a href="../../d0/d2/fehelper_8c.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">/******************************</span>
00002 <span class="comment">Intel Confidential</span>
00003 <span class="comment">******************************/</span>
00004 
00005 <span class="comment">// MACH</span>
00006 <span class="preprocessor">#include "<a class="code" href="../../d0/d0/ki_8h.html">ki.h</a>"</span>
00007 
00008 <span class="preprocessor">#ifndef WIN32_OR_WIN64</span>
00009 <span class="preprocessor"></span><span class="preprocessor">#include &lt;stdlib.h&gt;</span>
00010 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
00011 <span class="preprocessor">#include &lt;memory.h&gt;</span>
00012 <span class="preprocessor">#endif</span>
00013 <span class="preprocessor"></span>
00014 <span class="preprocessor">#include "<a class="code" href="../../d7/d2/fepublic_8h.html">fepublic.h</a>"</span>
00015 <span class="preprocessor">#include "<a class="code" href="../../d1/d2/fehelper_8h.html">fehelper.h</a>"</span>
00016 <span class="preprocessor">#include "<a class="code" href="../../d9/d2/festate_8h.html">festate.h</a>"</span>
00017 
00018 <span class="comment">// MACH #ifdef WIN32_OR_WIN64</span>
00019 <span class="comment">// MACH #include &lt;process.h&gt;</span>
00020 <span class="comment">// MACH #endif</span>
00021 
00022 <span class="comment">// *************************************************************</span>
00023 <span class="comment">// The functions fp_reg_read_hi() and fp_reg_read_lo()</span>
00024 <span class="comment">// Take a packed floating-point register, </span>
00025 <span class="comment">// Reads the hi (or lo) part</span>
00026 <span class="comment">// Returns a register-biased number with implicit made explicit.</span>
00027 <span class="comment">// *************************************************************</span>
00028 <a class="code" href="../../d2/d3/fetypes_8h.html#a17">EM_uint64_t</a>
<a name="l00029"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a137">00029</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a137">fp_concatenate</a>(<a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a> hi_val, EM_uint_t lo_val) {
00030    <span class="keywordflow">return</span>(  ((<a class="code" href="../../d2/d3/fetypes_8h.html#a17">EM_uint64_t</a>)hi_val &lt;&lt;32)
00031           | ((<a class="code" href="../../d2/d3/fetypes_8h.html#a17">EM_uint64_t</a>)lo_val &amp; <a class="code" href="../../d2/d3/fetypes_8h.html#a3">CONST_FORMAT</a>(0x00000000FFFFFFFF )) );
00032 }
00033 
00034 
00035 <a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a> 
<a name="l00036"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a136">00036</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a136">fp_extract_bits</a>(
00037    EM_uint64_t  input_value, 
00038    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hi_bound, 
00039    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> lo_bound)
00040 {
00041 <a class="code" href="../../d2/d3/fetypes_8h.html#a17">EM_uint64_t</a> value;
00042    <span class="keywordflow">if</span>(lo_bound &gt;63) <span class="keywordflow">return</span>(0x00000000);
00043 
00044    value = (input_value &gt;&gt; lo_bound) &amp;
00045            ~(<a class="code" href="../../d2/d3/fetypes_8h.html#a3">CONST_FORMAT</a>(0xFFFFFFFFFFFFFFFF) &lt;&lt; (hi_bound - lo_bound + 1));
00046 
00047    <span class="keywordflow">return</span>((<a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a>)value);
00048 }
00049 
00050 
00051 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a>
<a name="l00052"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a205">00052</a> <a class="code" href="../../d0/d2/fehelper_8c.html#a0">fp_reg_read_hi</a>(EM_uint_t freg)
00053 {
00054 <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> tmp_freg = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[freg];
00055 <a class="code" href="../../d6/d9/unionmemory__union.html">EM_memory_type</a> mem;
00056 
00057     <span class="keywordflow">if</span> (freg == 0)
00058         <span class="keywordflow">return</span> (FP_ZERO);
00059     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (freg == 1) {
00060         <span class="keywordflow">return</span> (FP_NEG_ZERO);
00061     }
00062     <span class="keywordflow">else</span> {
00063         mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o6">uint_32</a>.<a class="code" href="../../d0/d1/structmemory__union_1_1uint__32__struct.html#o0">uvalue</a> = (<a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a>)(tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> &gt;&gt; 32);
00064         tmp_freg = <a class="code" href="../../d1/d2/fehelper_8h.html#a199">fp_mem_to_fr_format</a>(mem, 4, 0);
00065         <span class="keywordflow">return</span> (tmp_freg);
00066     }
00067 }
00068 
00069 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a>
<a name="l00070"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a206">00070</a> <a class="code" href="../../d0/d2/fehelper_8c.html#a1">fp_reg_read_lo</a>(EM_uint_t freg)
00071 {
00072 <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> tmp_freg = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[freg];
00073 <a class="code" href="../../d6/d9/unionmemory__union.html">EM_memory_type</a> mem;
00074 <a class="code" href="../../d2/d3/fetypes_8h.html#a17">EM_uint64_t</a> tmp_val;
00075 <a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a>   tmp32_val;
00076 
00077     <span class="keywordflow">if</span> (freg == 0)
00078         <span class="keywordflow">return</span> (FP_ZERO);
00079     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (freg == 1) {
00080         <span class="keywordflow">return</span> (FP_ZERO);
00081     }
00082     <span class="keywordflow">else</span> {
00083         tmp_val = (tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> &amp; <a class="code" href="../../d2/d3/fetypes_8h.html#a3">CONST_FORMAT</a>(0x00000000ffffffff));
00084         tmp32_val = (<a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a>)tmp_val;
00085         mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o6">uint_32</a>.<a class="code" href="../../d0/d1/structmemory__union_1_1uint__32__struct.html#o0">uvalue</a> = tmp32_val;
00086         tmp_freg = <a class="code" href="../../d1/d2/fehelper_8h.html#a199">fp_mem_to_fr_format</a>(mem, 4, 0);
00087         <span class="keywordflow">return</span> (tmp_freg);
00088     }
00089 }
00090 
00091 
00092 <span class="preprocessor">#undef fp_reg_read_hi</span>
00093 <span class="preprocessor"></span><span class="preprocessor">#undef fp_reg_read_lo</span>
00094 <span class="preprocessor"></span>
<a name="l00095"></a><a class="code" href="../../d0/d2/fehelper_8c.html#a0">00095</a> <span class="preprocessor">#define fp_reg_read_hi(f2)            fp82_reg_read_hi(ps,f2)</span>
<a name="l00096"></a><a class="code" href="../../d0/d2/fehelper_8c.html#a1">00096</a> <span class="preprocessor"></span><span class="preprocessor">#define fp_reg_read_lo(f3)            fp82_reg_read_lo(ps,f3)</span>
00097 <span class="preprocessor"></span>
00098 
00099 <span class="comment">// ***********************************************************</span>
00100 <span class="comment">// fp_fr_to_mem_format()</span>
00101 <span class="comment">// ************************************************************</span>
00102 <a class="code" href="../../d6/d9/unionmemory__union.html">EM_memory_type</a>
<a name="l00103"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a200">00103</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a200">fp_fr_to_mem_format</a>(
00104     <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> freg,
00105     EM_uint_t      size,
00106     EM_uint_t      integer_form)
00107 {
00108 <a class="code" href="../../d6/d9/unionmemory__union.html">EM_memory_type</a> tmp_mem;
00109 <a class="code" href="../../d2/d3/fetypes_8h.html#a17">EM_uint64_t</a>    tmp_significand;
00110 
00111     <span class="keywordflow">switch</span>(size) {
00112         <span class="keywordflow">case</span> 4:
00113             tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o11">fp_single</a>.<a class="code" href="../../d2/d0/structmemory__union_1_1fp__single__struct.html#o2">sign</a> = freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>;
00114             <span class="keywordflow">if</span> (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> == 0)
00115                 tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o11">fp_single</a>.<a class="code" href="../../d2/d0/structmemory__union_1_1fp__single__struct.html#o1">exponent</a> = 0;
00116             <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a>&gt;&gt;63) == 0)
00117                 tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o11">fp_single</a>.<a class="code" href="../../d2/d0/structmemory__union_1_1fp__single__struct.html#o1">exponent</a> = 0;
00118             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> == FP_REG_EXP_ONES)
00119                 tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o11">fp_single</a>.<a class="code" href="../../d2/d0/structmemory__union_1_1fp__single__struct.html#o1">exponent</a> = FP_SGL_EXP_ONES;
00120             <span class="keywordflow">else</span> 
00121                 tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o11">fp_single</a>.<a class="code" href="../../d2/d0/structmemory__union_1_1fp__single__struct.html#o1">exponent</a>    = 
00122                                          ((freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> 
00123                                            &gt;&gt; (FP_REG_EXP_WIDTH-1) &amp; 1) 
00124                                            &lt;&lt; (FP_SGL_EXP_WIDTH-1))
00125                                         |( freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> &amp; FP_SGL_BIAS);
00126 
00127             tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o11">fp_single</a>.<a class="code" href="../../d2/d0/structmemory__union_1_1fp__single__struct.html#o0">significand</a> =
00128                     (<a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a>)((freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> &lt;&lt;1) &gt;&gt;(63-22));
00129             <span class="keywordflow">break</span>;
00130 
00131         <span class="keywordflow">case</span> 8: <span class="comment">/* double */</span>
00132             <span class="keywordflow">if</span> (integer_form)
00133                 tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o7">uint_64</a>.<a class="code" href="../../d2/d1/structmemory__union_1_1uint__64__struct.html#o0">uvalue</a> = freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a>;
00134 
00135             <span class="keywordflow">else</span> { <span class="comment">/* !integer_form */</span>
00136                 tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o12">fp_double</a>.<a class="code" href="../../d1/d0/structmemory__union_1_1fp__double__struct.html#o3">sign</a> = freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>;
00137                 <span class="keywordflow">if</span> (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> == 0)
00138                     tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o12">fp_double</a>.<a class="code" href="../../d1/d0/structmemory__union_1_1fp__double__struct.html#o2">exponent</a> = 0;
00139                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a>&gt;&gt;63) == 0)
00140                     tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o12">fp_double</a>.<a class="code" href="../../d1/d0/structmemory__union_1_1fp__double__struct.html#o2">exponent</a> = 0;
00141                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> == FP_REG_EXP_ONES)
00142                     tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o12">fp_double</a>.<a class="code" href="../../d1/d0/structmemory__union_1_1fp__double__struct.html#o2">exponent</a> = FP_DBL_EXP_ONES;
00143                 <span class="keywordflow">else</span>
00144                     tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o12">fp_double</a>.<a class="code" href="../../d1/d0/structmemory__union_1_1fp__double__struct.html#o2">exponent</a>    = 
00145                                          ((freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> 
00146                                            &gt;&gt; (FP_REG_EXP_WIDTH-1) &amp; 1) 
00147                                            &lt;&lt; (FP_DBL_EXP_WIDTH-1))
00148                                         |( freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> &amp; FP_DBL_BIAS);
00149 
00150                 tmp_significand = 
00151                         (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> &lt;&lt;1) &gt;&gt; (63-51);
00152 
00153                 tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o12">fp_double</a>.<a class="code" href="../../d1/d0/structmemory__union_1_1fp__double__struct.html#o1">significand_hi</a> = 
00154                   (<a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a>)((tmp_significand &gt;&gt; 32) &amp; <a class="code" href="../../d2/d3/fetypes_8h.html#a3">CONST_FORMAT</a>( 0x00000000ffffffff));
00155                 tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o12">fp_double</a>.<a class="code" href="../../d1/d0/structmemory__union_1_1fp__double__struct.html#o0">significand_lo</a> = 
00156                   (<a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a>)(tmp_significand &amp; <a class="code" href="../../d2/d3/fetypes_8h.html#a3">CONST_FORMAT</a>( 0x00000000ffffffff));
00157             }    
00158             <span class="keywordflow">break</span>;
00159 
00160         <span class="keywordflow">case</span> 10: <span class="comment">/* double extended */</span>
00161           tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o13">fp_double_extended</a>.<a class="code" href="../../d0/d0/structmemory__union_1_1fp__double__extended__struct.html#o2">sign</a> = freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>;
00162             <span class="keywordflow">if</span> (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> == 0) {
00163                     <span class="comment">/* Zero or (Pseudo-)Denormal */</span>
00164                 tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o13">fp_double_extended</a>.<a class="code" href="../../d0/d0/structmemory__union_1_1fp__double__extended__struct.html#o1">exponent</a> = 0;
00165             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> == FP_REG_EXP_ONES) {
00166                     <span class="comment">/* Inf/NaN/NatVAL */</span>
00167                 tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o13">fp_double_extended</a>.<a class="code" href="../../d0/d0/structmemory__union_1_1fp__double__extended__struct.html#o1">exponent</a> = FP_EXT_EXP_ONES;
00168             } <span class="keywordflow">else</span> {
00169                     <span class="comment">/* Normal or Unnormal */</span>
00170                     tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o13">fp_double_extended</a>.<a class="code" href="../../d0/d0/structmemory__union_1_1fp__double__extended__struct.html#o1">exponent</a>    = 
00171                                          ((freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> 
00172                                            &gt;&gt; (FP_REG_EXP_WIDTH-1) &amp; 1) 
00173                                            &lt;&lt; (FP_EXT_EXP_WIDTH-1))
00174                                         |( freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> &amp; FP_EXT_BIAS);
00175 
00176             }
00177             memcpy(tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o13">fp_double_extended</a>.<a class="code" href="../../d0/d0/structmemory__union_1_1fp__double__extended__struct.html#o0">significand</a>,
00178                     &amp;freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a>, 8);
00179 
00180             <span class="keywordflow">break</span>;
00181 
00182         <span class="keywordflow">case</span> 16: <span class="comment">/* spill */</span>
00183             tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o14">fp_spill_fill</a>.<a class="code" href="../../d3/d0/structmemory__union_1_1fp__spill__fill__struct.html#o3">reserved1</a>    = 0;
00184             tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o14">fp_spill_fill</a>.<a class="code" href="../../d3/d0/structmemory__union_1_1fp__spill__fill__struct.html#o4">reserved2</a>    = 0;
00185             tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o14">fp_spill_fill</a>.<a class="code" href="../../d3/d0/structmemory__union_1_1fp__spill__fill__struct.html#o2">sign</a>         = freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>;
00186             tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o14">fp_spill_fill</a>.<a class="code" href="../../d3/d0/structmemory__union_1_1fp__spill__fill__struct.html#o1">exponent</a>     = freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a>;
00187             tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o14">fp_spill_fill</a>.<a class="code" href="../../d3/d0/structmemory__union_1_1fp__spill__fill__struct.html#o0">significand</a>  = freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a>;
00188             <span class="keywordflow">break</span>;
00189     }
00190     <span class="keywordflow">return</span> (tmp_mem);
00191 }
00192 
00193 
00194 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d6/d9/unionmemory__union.html">EM_memory_type</a>
<a name="l00195"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a166">00195</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a166">fr_to_mem4_bias_adjust</a>(<a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> freg)
00196 {
00197 <a class="code" href="../../d6/d9/unionmemory__union.html">EM_memory_type</a> tmp_mem;
00198 
00199    tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o11">fp_single</a>.<a class="code" href="../../d2/d0/structmemory__union_1_1fp__single__struct.html#o2">sign</a> = freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>;
00200    <span class="keywordflow">if</span> (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> == 0)
00201       tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o11">fp_single</a>.<a class="code" href="../../d2/d0/structmemory__union_1_1fp__single__struct.html#o1">exponent</a> = 0;
00202    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> == FP_REG_EXP_ONES)
00203       tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o11">fp_single</a>.<a class="code" href="../../d2/d0/structmemory__union_1_1fp__single__struct.html#o1">exponent</a> = FP_SGL_EXP_ONES;
00204    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a>&gt;&gt;63) == 0)
00205       tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o11">fp_single</a>.<a class="code" href="../../d2/d0/structmemory__union_1_1fp__single__struct.html#o1">exponent</a> = (<a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a>)
00206                                  (((<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a>)
00207                                  - FP_REG_BIAS + FP_SGL_BIAS - 1);
00208    <span class="keywordflow">else</span>
00209       tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o11">fp_single</a>.<a class="code" href="../../d2/d0/structmemory__union_1_1fp__single__struct.html#o1">exponent</a> = (<a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a>)
00210                                  (((<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a>)
00211                                  - FP_REG_BIAS + FP_SGL_BIAS);
00212       tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o11">fp_single</a>.<a class="code" href="../../d2/d0/structmemory__union_1_1fp__single__struct.html#o0">significand</a> = (<a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a>) (
00213                     (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a>&lt;&lt;(64-62-1))&gt;&gt;(40+64-62-1));
00214 
00215     <span class="keywordflow">return</span> (tmp_mem);
00216 }
00217 
00218 
00219 
00220 
00221 <span class="comment">// *****************************************************</span>
00222 <span class="comment">// helper functions definitions </span>
00223 <span class="comment">// *****************************************************</span>
00224 
00225 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l00226"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a138">00226</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a138">fp_equal</a>(<a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> fr1, <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> fr2)
00227 {
00228     <a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a> fp_dp1;
00229     <a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a> fp_dp2;
00230 
00231     <span class="keywordflow">if</span> (   <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr1)         || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr2)
00232         || <a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(fr1) || <a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(fr2) )
00233         <span class="keywordflow">return</span> (0);
00234 
00235     fp_dp1 = <a class="code" href="../../d1/d2/fehelper_8h.html#a47">fp_fr_to_dp</a>(fr1);
00236     fp_dp2 = <a class="code" href="../../d1/d2/fehelper_8h.html#a47">fp_fr_to_dp</a>(fr2);
00237 
00238     <span class="keywordflow">if</span> (   (fp_dp1.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a>           == fp_dp2.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a>          )
00239         &amp;&amp; (fp_dp1.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>       == fp_dp2.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>      )
00240         &amp;&amp; (fp_dp1.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> == fp_dp2.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>)
00241         &amp;&amp; (fp_dp1.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> == fp_dp2.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a>) )
00242         <span class="keywordflow">return</span> (1);
00243     <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <a class="code" href="../../d1/d2/fehelper_8h.html#a195">fp_is_zero_dp</a>(fp_dp1) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a195">fp_is_zero_dp</a>(fp_dp2) )
00244         <span class="keywordflow">return</span> (1);
00245     <span class="keywordflow">else</span>
00246         <span class="keywordflow">return</span> (0);
00247 }
00248 
00249 
00250 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l00251"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a139">00251</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a139">fp_less_than</a>(
00252    <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> fr1, 
00253    <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> fr2) 
00254 {
00255 <a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a> fp_dp1;
00256 <a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a> fp_dp2;
00257 
00258     <span class="keywordflow">if</span> (   <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr1)         || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr2)
00259         || <a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(fr1) || <a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(fr2) )
00260         <span class="keywordflow">return</span> (0);
00261 
00262     fp_dp1 = <a class="code" href="../../d1/d2/fehelper_8h.html#a47">fp_fr_to_dp</a>(fr1);
00263     fp_dp2 = <a class="code" href="../../d1/d2/fehelper_8h.html#a47">fp_fr_to_dp</a>(fr2);
00264 
00265     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a180">fp_is_neg_dp</a>(fp_dp1) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a185">fp_is_pos_dp</a>(fp_dp2)) {
00266         <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d2/fehelper_8h.html#a195">fp_is_zero_dp</a>(fp_dp1) || !<a class="code" href="../../d1/d2/fehelper_8h.html#a195">fp_is_zero_dp</a>(fp_dp2) )
00267             <span class="keywordflow">return</span> (1);             <span class="comment">/* for non-zero's neg is lt pos */</span>
00268         <span class="keywordflow">else</span>
00269             <span class="keywordflow">return</span> (0);             <span class="comment">/* zeros are equal */</span>
00270     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a185">fp_is_pos_dp</a>(fp_dp1) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a180">fp_is_neg_dp</a>(fp_dp2)) {
00271         <span class="keywordflow">return</span> (0);                 <span class="comment">/* pos is not lt neg */</span>
00272     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a180">fp_is_neg_dp</a>(fp_dp1) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a180">fp_is_neg_dp</a>(fp_dp2)) {
00273         <span class="keywordflow">if</span> (fp_dp1.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> &gt; fp_dp2.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>)
00274             <span class="keywordflow">return</span> (1);             <span class="comment">/* fp_dp1 much less than fp_dp2 */</span>
00275         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((fp_dp1.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> == fp_dp2.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>)
00276                 &amp;&amp; (<a class="code" href="../../d1/d2/fehelper_8h.html#a216">fp_U128_gt</a>(fp_dp1.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>, fp_dp2.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>)))
00277             <span class="keywordflow">return</span> (1);             <span class="comment">/* fp_dp1 just less than fp_dp2 */</span>
00278         <span class="keywordflow">else</span>
00279             <span class="keywordflow">return</span> (0);
00280     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a185">fp_is_pos_dp</a>(fp_dp1) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a185">fp_is_pos_dp</a>(fp_dp2)) {
00281         <span class="keywordflow">if</span> (fp_dp1.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> &lt; fp_dp2.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>)
00282                 <span class="keywordflow">return</span> (1);         <span class="comment">/* fp_dp1 much less than fp_dp2 */</span>
00283         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((fp_dp1.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> == fp_dp2.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>)
00284                 &amp;&amp; (<a class="code" href="../../d1/d2/fehelper_8h.html#a33">fp_U128_lt</a>(fp_dp1.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>, fp_dp2.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>)))
00285             <span class="keywordflow">return</span> (1);             <span class="comment">/* fp_dp1 just less than fp_dp2 */</span>
00286         <span class="keywordflow">else</span>
00287             <span class="keywordflow">return</span> (0);
00288     } <span class="keywordflow">else</span> {
00289       <span class="keywordflow">return</span> (0); <span class="comment">// MACH ADDED</span>
00290     }
00291 }
00292 
00293 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l00294"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a140">00294</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a140">fp_lesser_or_equal</a>(<a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> fr1, <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> fr2)
00295 {
00296     <a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a> fp_dp1;
00297     <a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a> fp_dp2;
00298 
00299     <span class="keywordflow">if</span> (   <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr1)         || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr2)
00300         || <a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(fr1) || <a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(fr2) )
00301         <span class="keywordflow">return</span> (0);
00302 
00303     fp_dp1 = <a class="code" href="../../d1/d2/fehelper_8h.html#a47">fp_fr_to_dp</a>(fr1);
00304     fp_dp2 = <a class="code" href="../../d1/d2/fehelper_8h.html#a47">fp_fr_to_dp</a>(fr2);
00305 
00306     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a180">fp_is_neg_dp</a>(fp_dp1) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a185">fp_is_pos_dp</a>(fp_dp2)) {
00307         <span class="keywordflow">return</span> (1);              <span class="comment">/* for non-zero's and zeros's neg is le pos */</span>
00308     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a185">fp_is_pos_dp</a>(fp_dp1) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a180">fp_is_neg_dp</a>(fp_dp2)) {
00309         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a195">fp_is_zero_dp</a>(fp_dp1) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a195">fp_is_zero_dp</a>(fp_dp2))
00310             <span class="keywordflow">return</span> (1);          <span class="comment">/* zero's are le */</span>
00311         <span class="keywordflow">else</span>
00312             <span class="keywordflow">return</span> (0);          <span class="comment">/* pos is not lt neg */</span>
00313     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a180">fp_is_neg_dp</a>(fp_dp1) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a180">fp_is_neg_dp</a>(fp_dp2)) {
00314         <span class="keywordflow">if</span> (fp_dp1.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> &gt; fp_dp2.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>)
00315             <span class="keywordflow">return</span> (1);          <span class="comment">/* fp_dp1 much less than fp_dp2 */</span>
00316         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((fp_dp1.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> == fp_dp2.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>)
00317                 &amp;&amp; (<a class="code" href="../../d1/d2/fehelper_8h.html#a215">fp_U128_ge</a>(fp_dp1.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>, fp_dp2.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>)))
00318             <span class="keywordflow">return</span> (1);          <span class="comment">/* fp_dp1 just less than or equal fp_dp2 */</span>
00319         <span class="keywordflow">else</span>
00320             <span class="keywordflow">return</span> (0);
00321     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a185">fp_is_pos_dp</a>(fp_dp1) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a185">fp_is_pos_dp</a>(fp_dp2)) {
00322         <span class="keywordflow">if</span> (fp_dp1.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> &lt; fp_dp2.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>)
00323                 <span class="keywordflow">return</span> (1);      <span class="comment">/* fp_dp1 much less than fp_dp2 */</span>
00324         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((fp_dp1.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> == fp_dp2.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>)
00325                 &amp;&amp; (<a class="code" href="../../d1/d2/fehelper_8h.html#a217">fp_U128_le</a>(fp_dp1.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>, fp_dp2.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>)))
00326             <span class="keywordflow">return</span> (1);          <span class="comment">/* fp_dp1 just less than or equal fp_dp2 */</span>
00327         <span class="keywordflow">else</span>
00328             <span class="keywordflow">return</span> (0);
00329     } <span class="keywordflow">else</span> {
00330       <span class="keywordflow">return</span> (0); <span class="comment">// MACH ADDED</span>
00331     }
00332 }
00333 
00334 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l00335"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a141">00335</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a141">fp_unordered</a>(<a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> fr1, <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> fr2)
00336 {
00337     <span class="keywordflow">if</span> (   <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr1)         || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr2)
00338         || <a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(fr1) || <a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(fr2) )
00339         <span class="keywordflow">return</span> (1);
00340     <span class="keywordflow">else</span> 
00341         <span class="keywordflow">return</span> (0);
00342 
00343 }
00344 
00345 <a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a>
<a name="l00346"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a142">00346</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a142">fp82_fp_decode_fault</a>(<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a> tmp_fp_env)
00347 {
00348 <a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a> tmp_ret = 0;
00349 
00350     <span class="keywordflow">if</span> (!tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o15">simd</a>) { <span class="comment">// MACH ADDED</span>
00351 
00352       <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o3">swa</a>)
00353           <span class="keywordflow">return</span> (8);
00354       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o0">v</a>)
00355           <span class="keywordflow">return</span> (1);
00356       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o2">z</a>)
00357           <span class="keywordflow">return</span> (4);
00358       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o1">d</a>)
00359           <span class="keywordflow">return</span> (2);
00360       <span class="keywordflow">else</span> {
00361           tmp_ret = 0;
00362           <span class="keywordflow">return</span> (0); <span class="comment">// MACH ADDED</span>
00363       }
00364 
00365    } <span class="keywordflow">else</span> {
00366 
00367 <span class="comment">// ****************************************************</span>
00368 <span class="comment">// hi_faults are recorded in the low  four bits of temp_ret.</span>
00369 <span class="comment">// lo_faults are recorded in the high four bits of temp_ret.</span>
00370 <span class="comment">// ****************************************************</span>
00371 
00372         <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o3">swa</a>)
00373             tmp_ret = 8;
00374         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o0">v</a>)
00375             tmp_ret = 1;
00376         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o2">z</a>)
00377             tmp_ret = 4;
00378         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o1">d</a>)
00379             tmp_ret = 2;
00380 
00381         <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o3">swa</a>)
00382             tmp_ret |= 8&lt;&lt;4;
00383         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o0">v</a>)
00384             tmp_ret |= 1&lt;&lt;4;
00385         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o2">z</a>)
00386             tmp_ret |= 4&lt;&lt;4;
00387         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o1">d</a>)
00388             tmp_ret |= 2&lt;&lt;4;
00389         <span class="keywordflow">return</span> (tmp_ret);
00390     }
00391 }
00392 
00393 
00394 <a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a>
<a name="l00395"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a143">00395</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a143">fp82_fp_decode_trap</a>(<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a> tmp_fp_env)
00396 {
00397 <a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a> tmp_ret;
00398 
00399     <span class="keywordflow">if</span> (!tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o15">simd</a>) {
00400         tmp_ret  = (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o9">ebc</a>       &lt;&lt;15
00401                   | tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o10">fpa</a>       &lt;&lt;14
00402                   | tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o2">i</a>&lt;&lt;13
00403                   | tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o1">un</a>&lt;&lt;12
00404                   | tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o0">o</a>&lt;&lt;11 ); <span class="comment">// MACH</span>
00405     } 
00406     <span class="keywordflow">else</span> {
00407        tmp_ret = 0;
00408        <span class="keywordflow">if</span>(tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o20">hi_traps</a>.<a class="code" href="../../d0/d1/structtmp__fp__env__struct_1_1hi__traps__struct.html#o2">i</a> || 
00409           tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o20">hi_traps</a>.<a class="code" href="../../d0/d1/structtmp__fp__env__struct_1_1hi__traps__struct.html#o1">un</a> || 
00410           tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o20">hi_traps</a>.<a class="code" href="../../d0/d1/structtmp__fp__env__struct_1_1hi__traps__struct.html#o0">o</a> ) { <span class="comment">// MACH</span>
00411        
00412           tmp_ret  = tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o11">hi_fpa</a>    &lt;&lt;14
00413                    | tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o20">hi_traps</a>.<a class="code" href="../../d0/d1/structtmp__fp__env__struct_1_1hi__traps__struct.html#o2">i</a>&lt;&lt;13
00414                    | tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a>&lt;&lt;13
00415                    | tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o20">hi_traps</a>.<a class="code" href="../../d0/d1/structtmp__fp__env__struct_1_1hi__traps__struct.html#o1">un</a>&lt;&lt;12
00416                    | tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o20">hi_traps</a>.<a class="code" href="../../d0/d1/structtmp__fp__env__struct_1_1hi__traps__struct.html#o0">o</a>&lt;&lt;11; <span class="comment">// MACH</span>
00417        }
00418        
00419        <span class="keywordflow">if</span>(tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o21">lo_traps</a>.<a class="code" href="../../d2/d1/structtmp__fp__env__struct_1_1lo__traps__struct.html#o2">i</a> || 
00420           tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o21">lo_traps</a>.<a class="code" href="../../d2/d1/structtmp__fp__env__struct_1_1lo__traps__struct.html#o1">un</a> || 
00421           tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o21">lo_traps</a>.<a class="code" href="../../d2/d1/structtmp__fp__env__struct_1_1lo__traps__struct.html#o0">o</a> ) { <span class="comment">// MACH</span>
00422 
00423           tmp_ret |= tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o12">lo_fpa</a>    &lt;&lt;10
00424                    | tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o21">lo_traps</a>.<a class="code" href="../../d2/d1/structtmp__fp__env__struct_1_1lo__traps__struct.html#o2">i</a>&lt;&lt;9
00425                    | tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a>&lt;&lt;9
00426                    | tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o21">lo_traps</a>.<a class="code" href="../../d2/d1/structtmp__fp__env__struct_1_1lo__traps__struct.html#o1">un</a>&lt;&lt;8
00427                    | tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o21">lo_traps</a>.<a class="code" href="../../d2/d1/structtmp__fp__env__struct_1_1lo__traps__struct.html#o0">o</a>&lt;&lt;7; <span class="comment">// MACH</span>
00428       }
00429     } 
00430     <span class="keywordflow">return</span> (tmp_ret);
00431 }
00432 
00433 
00434 <span class="keywordtype">void</span>
<a name="l00435"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a144">00435</a> <a class="code" href="../../d0/d2/fehelper_8c.html#a2">fp_decode_environment</a>(
00436     EM_opcode_pc_type pc,
00437     EM_opcode_sf_type sf,
00438     <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a> *tmp_fp_env)
00439 {
00440 <a class="code" href="../../d1/d7/structsf__struct.html">EM_sf_type</a>         tmp_sf;
00441 
00442     <span class="keywordflow">if</span> (sf == <a class="code" href="../../d2/d3/fetypes_8h.html#a449a371">sfS0</a>) {
00443         tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o0">ftz</a> = <a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf0_controls_ftz;
00444         tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o1">wre</a> = <a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf0_controls_wre;
00445         tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o2">pc</a>  = <a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf0_controls_pc;
00446         tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o3">rc</a>  = <a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf0_controls_rc;
00447         tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o4">td</a>  = <a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf0_controls_td;
00448     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sf == <a class="code" href="../../d2/d3/fetypes_8h.html#a449a372">sfS1</a>) {
00449         tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o0">ftz</a> = <a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf1_controls_ftz;
00450         tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o1">wre</a> = <a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf1_controls_wre;
00451         tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o2">pc</a>  = <a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf1_controls_pc;
00452         tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o3">rc</a>  = <a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf1_controls_rc;
00453         tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o4">td</a>  = <a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf1_controls_td;
00454     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sf == <a class="code" href="../../d2/d3/fetypes_8h.html#a449a373">sfS2</a>) {
00455         tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o0">ftz</a> = <a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf2_controls_ftz;
00456         tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o1">wre</a> = <a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf2_controls_wre;
00457         tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o2">pc</a>  = <a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf2_controls_pc;
00458         tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o3">rc</a>  = <a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf2_controls_rc;
00459         tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o4">td</a>  = <a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf2_controls_td;
00460     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sf == <a class="code" href="../../d2/d3/fetypes_8h.html#a449a374">sfS3</a>) {
00461         tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o0">ftz</a> = <a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf3_controls_ftz;
00462         tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o1">wre</a> = <a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf3_controls_wre;
00463         tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o2">pc</a>  = <a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf3_controls_pc;
00464         tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o3">rc</a>  = <a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf3_controls_rc;
00465         tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o4">td</a>  = <a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf3_controls_td;
00466     } <span class="keywordflow">else</span> {
00467         tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o0">ftz</a> = 0;
00468         tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o1">wre</a> = 1;
00469         tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o2">pc</a>  = <a class="code" href="../../d2/d3/fetypes_8h.html#a454a411">sf_double_extended</a>;
00470         tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o3">rc</a>  = <a class="code" href="../../d2/d3/fetypes_8h.html#a455a412">rc_rn</a>;
00471         tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o4">td</a>  = 1;
00472     }
00473 
00474     <span class="keywordflow">if</span> (sf == <a class="code" href="../../d2/d3/fetypes_8h.html#a449a375">sf_none</a>) {
00475         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a> = 0;
00476         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o1">dd</a> = 0;
00477         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o2">zd</a> = 0;
00478         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o3">od</a> = 0;
00479         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o4">ud</a> = 0;
00480         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o5">id</a> = 0;
00481 
00482     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o4">td</a> )  {
00483         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a> = 1;
00484         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o1">dd</a> = 1;
00485         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o2">zd</a> = 1;
00486         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o3">od</a> = 1;
00487         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o4">ud</a> = 1;
00488         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o5">id</a> = 1;
00489 
00490     } <span class="keywordflow">else</span> {
00491         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a> = <a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.traps_vd;
00492         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o1">dd</a> = <a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.traps_dd;
00493         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o2">zd</a> = <a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.traps_zd;
00494         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o3">od</a> = <a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.traps_od;
00495         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o4">ud</a> = <a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.traps_ud;
00496         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o5">id</a> = <a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.traps_id;
00497     }
00498 
00499     <span class="keywordflow">if</span> (pc == <a class="code" href="../../d2/d3/fetypes_8h.html#a448a369">pc_none</a>) {
00500         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o2">ss</a> = <a class="code" href="../../d2/d3/fetypes_8h.html#a459a439">ss_double_extended_64</a>;
00501         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o3">es</a> = <a class="code" href="../../d2/d3/fetypes_8h.html#a460a443">es_seventeen_bits</a>;
00502         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o15">simd</a> = 0;
00503 
00504     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pc == <a class="code" href="../../d2/d3/fetypes_8h.html#a448a370">pc_simd</a>) {
00505         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o2">ss</a> = <a class="code" href="../../d2/d3/fetypes_8h.html#a459a437">ss_single_24</a>;
00506         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o3">es</a> = <a class="code" href="../../d2/d3/fetypes_8h.html#a460a440">es_eight_bits</a>;
00507         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o15">simd</a> = 1;
00508         <span class="keywordflow">if</span> (tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o1">wre</a>)
00509             tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o1">wre</a> = 0;
00510         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 0;
00511         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> = 0;
00512         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o2">z</a> = 0;
00513         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o3">o</a> = 0;
00514         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o4">un</a> = 0; 
00515         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a> = 0;
00516         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 0;
00517         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> = 0;
00518         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o2">z</a> = 0;
00519         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o3">o</a> = 0;
00520         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o4">un</a> = 0; 
00521         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a> = 0;
00522 
00523     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pc == <a class="code" href="../../d2/d3/fetypes_8h.html#a448a366">pc_s</a>) {
00524         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o2">ss</a> = <a class="code" href="../../d2/d3/fetypes_8h.html#a459a437">ss_single_24</a>;
00525         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o15">simd</a> = 0;
00526         <span class="keywordflow">if</span> (tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o1">wre</a>)
00527             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o3">es</a> = <a class="code" href="../../d2/d3/fetypes_8h.html#a460a443">es_seventeen_bits</a>;
00528         <span class="keywordflow">else</span>
00529             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o3">es</a> = <a class="code" href="../../d2/d3/fetypes_8h.html#a460a440">es_eight_bits</a>;
00530 
00531     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pc == <a class="code" href="../../d2/d3/fetypes_8h.html#a448a367">pc_d</a>) {
00532         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o2">ss</a> = <a class="code" href="../../d2/d3/fetypes_8h.html#a459a438">ss_double_53</a>;
00533         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o15">simd</a> = 0;
00534         <span class="keywordflow">if</span> (tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o1">wre</a>)
00535             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o3">es</a> = <a class="code" href="../../d2/d3/fetypes_8h.html#a460a443">es_seventeen_bits</a>;
00536         <span class="keywordflow">else</span>
00537             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o3">es</a> = <a class="code" href="../../d2/d3/fetypes_8h.html#a460a441">es_eleven_bits</a>;
00538 
00539     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pc == <a class="code" href="../../d2/d3/fetypes_8h.html#a448a368">pc_sf</a>) {
00540         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o15">simd</a> = 0;
00541         <span class="keywordflow">if</span> (tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o2">pc</a> == <a class="code" href="../../d2/d3/fetypes_8h.html#a454a408">sf_single</a>)
00542             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o2">ss</a> = <a class="code" href="../../d2/d3/fetypes_8h.html#a459a437">ss_single_24</a>;
00543         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o2">pc</a> == <a class="code" href="../../d2/d3/fetypes_8h.html#a454a410">sf_double</a>)
00544             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o2">ss</a> = <a class="code" href="../../d2/d3/fetypes_8h.html#a459a438">ss_double_53</a>;
00545         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o2">pc</a> == <a class="code" href="../../d2/d3/fetypes_8h.html#a454a411">sf_double_extended</a>)
00546             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o2">ss</a> = <a class="code" href="../../d2/d3/fetypes_8h.html#a459a439">ss_double_extended_64</a>;
00547 
00548         <span class="keywordflow">if</span> (tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o1">wre</a>)
00549             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o3">es</a> = <a class="code" href="../../d2/d3/fetypes_8h.html#a460a443">es_seventeen_bits</a>;
00550         <span class="keywordflow">else</span>
00551             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o3">es</a> = <a class="code" href="../../d2/d3/fetypes_8h.html#a460a442">es_fifteen_bits</a>;
00552     }
00553 
00554     <span class="keywordflow">if</span> (sf == <a class="code" href="../../d2/d3/fetypes_8h.html#a449a375">sf_none</a>) {
00555         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o4">rc</a>  = <a class="code" href="../../d2/d3/fetypes_8h.html#a455a415">rc_rz</a>;
00556         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o5">ftz</a> = 0;
00557     } <span class="keywordflow">else</span> {
00558         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o4">rc</a>  = tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o3">rc</a>;
00559         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o5">ftz</a> = tmp_sf.<a class="code" href="../../d1/d7/structsf__struct.html#o0">controls</a>.<a class="code" href="../../d3/d5/structcontrols__struct.html#o0">ftz</a> &amp;&amp; tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o4">ud</a>;
00560     }
00561 
00562     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a>       = 0;
00563     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a>       = 0;
00564     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o2">z</a>       = 0;
00565     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o3">o</a>       = 0;
00566     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o4">un</a>       = 0; 
00567     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a>       = 0;
00568     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o9">ebc</a>           = 0;
00569     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o13">mdl</a>           = 0;
00570     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o14">mdh</a>           = 0;
00571 
00572     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o0">v</a>   = 0;
00573     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o1">d</a>   = 0;
00574     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o2">z</a>   = 0;
00575     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o3">swa</a> = 0;
00576     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o2">i</a>    = 0;
00577     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o0">o</a>    = 0;
00578     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o1">un</a>    = 0; 
00579     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o10">fpa</a>           = 0;
00580 
00581     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o0">v</a>   = 0;
00582     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o1">d</a>   = 0;
00583     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o2">z</a>   = 0;
00584     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o3">swa</a> = 0;
00585     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o20">hi_traps</a>.<a class="code" href="../../d0/d1/structtmp__fp__env__struct_1_1hi__traps__struct.html#o2">i</a>    = 0;
00586     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o20">hi_traps</a>.<a class="code" href="../../d0/d1/structtmp__fp__env__struct_1_1hi__traps__struct.html#o0">o</a>    = 0;
00587     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o20">hi_traps</a>.<a class="code" href="../../d0/d1/structtmp__fp__env__struct_1_1hi__traps__struct.html#o1">un</a>    = 0; 
00588     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o11">hi_fpa</a>        = 0;
00589 
00590     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o0">v</a>   = 0;
00591     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o1">d</a>   = 0;
00592     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o2">z</a>   = 0;
00593     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o3">swa</a> = 0;
00594     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o21">lo_traps</a>.<a class="code" href="../../d2/d1/structtmp__fp__env__struct_1_1lo__traps__struct.html#o2">i</a>    = 0;
00595     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o21">lo_traps</a>.<a class="code" href="../../d2/d1/structtmp__fp__env__struct_1_1lo__traps__struct.html#o0">o</a>    = 0;
00596     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o21">lo_traps</a>.<a class="code" href="../../d2/d1/structtmp__fp__env__struct_1_1lo__traps__struct.html#o1">un</a>    = 0; 
00597     tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o12">lo_fpa</a>        = 0;
00598 
00599     <span class="keywordflow">return</span>;
00600 }
00601 
00602 <span class="preprocessor">#undef  fp_decode_environment</span>
<a name="l00603"></a><a class="code" href="../../d0/d2/fehelper_8c.html#a2">00603</a> <span class="preprocessor"></span><span class="preprocessor">#define fp_decode_environment(arg1, arg2, arg3) \</span>
00604 <span class="preprocessor">        fp82_fp_decode_environment(ps, arg1, arg2, arg3)</span>
00605 <span class="preprocessor"></span>      
00606 
00607 
00608 <span class="comment">// ****************************************************</span>
00609 <span class="comment">// Returns</span>
00610 <span class="comment">//   1: if a specified register is &lt;= disabled limit and dfl is 1</span>
00611 <span class="comment">//   0: if a specified register is &gt;  disabled limit and dfh is 1</span>
00612 <span class="comment">// The disabled limit is 31 after ACR106.</span>
00613 <span class="comment">// *****************************************************</span>
00614 <a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a>
<a name="l00615"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a145">00615</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a7">fp_reg_disabled</a>(
00616     EM_uint_t f1,
00617     EM_uint_t f2,
00618     EM_uint_t f3,
00619     EM_uint_t f4)
00620 {
00621 <a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a> tmp_ret;
00622 <a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a> disabled_limit;
00623 
00624    tmp_ret=0;
00625    disabled_limit = 31;
00626 
00627     <span class="keywordflow">if</span> (    ((f1 &gt;= 2) &amp;&amp; (f1 &lt;=disabled_limit) &amp;&amp; (<a class="code" href="../../d9/d2/festate_8h.html#a2">PSR</a>.dfl))
00628         ||  ((f2 &gt;= 2) &amp;&amp; (f2 &lt;=disabled_limit) &amp;&amp; (<a class="code" href="../../d9/d2/festate_8h.html#a2">PSR</a>.dfl))
00629         ||  ((f3 &gt;= 2) &amp;&amp; (f3 &lt;=disabled_limit) &amp;&amp; (<a class="code" href="../../d9/d2/festate_8h.html#a2">PSR</a>.dfl))
00630         ||  ((f4 &gt;= 2) &amp;&amp; (f4 &lt;=disabled_limit) &amp;&amp; (<a class="code" href="../../d9/d2/festate_8h.html#a2">PSR</a>.dfl))
00631        )
00632         tmp_ret |= (1&lt;&lt;0);
00633     <span class="keywordflow">if</span> (    ((f1 &gt; disabled_limit) &amp;&amp; (f1 &lt;= 127) &amp;&amp; (<a class="code" href="../../d9/d2/festate_8h.html#a2">PSR</a>.dfh))
00634         ||  ((f2 &gt; disabled_limit) &amp;&amp; (f2 &lt;= 127) &amp;&amp; (<a class="code" href="../../d9/d2/festate_8h.html#a2">PSR</a>.dfh))
00635         ||  ((f3 &gt; disabled_limit) &amp;&amp; (f3 &lt;= 127) &amp;&amp; (<a class="code" href="../../d9/d2/festate_8h.html#a2">PSR</a>.dfh))
00636         ||  ((f4 &gt; disabled_limit) &amp;&amp; (f4 &lt;= 127) &amp;&amp; (<a class="code" href="../../d9/d2/festate_8h.html#a2">PSR</a>.dfh))
00637        )
00638         tmp_ret |= (1&lt;&lt;1);
00639     <span class="keywordflow">return</span>(tmp_ret);
00640 }
00641 
00642 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l00643"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a146">00643</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a146">fp_is_nan_or_inf</a>(<a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> tmp_res)
00644 {
00645     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_res) || <a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(tmp_res))
00646         <span class="keywordflow">return</span> (1);
00647     <span class="keywordflow">else</span>
00648         <span class="keywordflow">return</span> (0);
00649 }
00650 
00651 
00652 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a>
<a name="l00653"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a147">00653</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a147">fp_dp_to_fr</a>(<a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a> tmp_res)
00654 {
00655     <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> tmp_ret;
00656     <span class="comment">/* MACH FIX CMPLR BUG tmp_ret.sign = tmp_res.sign; */</span>
00657     <span class="keywordflow">if</span> (tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> == FP_DP_EXP_ONES)
00658         tmp_ret.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> = FP_REG_EXP_ONES;
00659     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> == 0)
00660         tmp_ret.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> = 0;
00661     <span class="keywordflow">else</span> 
00662         tmp_ret.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> = (<a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a>)(((<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>)
00663                                    - FP_DP_BIAS + FP_REG_BIAS);
00664     tmp_ret.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a> = tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a>; <span class="comment">/* MACH FIX CMPLR BUG */</span>
00665     tmp_ret.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> = tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>;
00666     <span class="keywordflow">return</span> (tmp_ret);
00667 }
00668 
00669 
00670 <span class="comment">// ***************************************************************</span>
00671 <span class="comment">// fp_add()</span>
00672 <span class="comment">// Adds a dp value to an freg value</span>
00673 <span class="comment">// Returns a dp value</span>
00674 <span class="comment">// ***************************************************************</span>
00675 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a>
<a name="l00676"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a148">00676</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a148">fp_add</a>(<a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a> fp_dp, <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> fr2, <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a> tmp_fp_env)
00677 <span class="comment">// fp_dp has been normalized and fr2 may not be normalized </span>
00678 {
00679     <a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a> tmp_res;
00680     <a class="code" href="../../d7/d1/structuint256__struct.html">EM_uint256_t</a> tmp_a, tmp_b, tmp_c;
00681     <a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a> exp_diff;
00682     <a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a> normalize_count;
00683 
00684 <span class="comment">//     all cases which might have faulted have been screened out </span>
00685 <span class="comment">//     we still may trap on overflow, underflow and/or inexact later </span>
00686 
00687     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a195">fp_is_zero_dp</a>(fp_dp) &amp;&amp; (<a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a188">fp_is_pseudo_zero</a>(fr2))) {
00688         <span class="comment">/* correctly signed zero */</span>
00689         tmp_res = <a class="code" href="../../d1/d2/fehelper_8h.html#a47">fp_fr_to_dp</a>(FP_ZERO);
00690         <span class="keywordflow">if</span> (fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a> == fr2.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>) {
00691             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a> = fr2.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>;
00692         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o4">rc</a> == <a class="code" href="../../d2/d3/fetypes_8h.html#a455a413">rc_rm</a>) {
00693             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a> = 1;
00694         } <span class="keywordflow">else</span> {
00695             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a> = 0;
00696         }
00697         <span class="keywordflow">return</span>(tmp_res);
00698     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a176">fp_is_inf_dp</a>(fp_dp)) {
00699         <span class="comment">/* correctly signed infinity */</span>
00700         <span class="keywordflow">return</span>(fp_dp);
00701     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(fr2)) {
00702         <span class="comment">/* correctly signed infinity */</span>
00703         <span class="keywordflow">return</span>(<a class="code" href="../../d1/d2/fehelper_8h.html#a47">fp_fr_to_dp</a>(fr2));
00704     } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="../../d1/d2/fehelper_8h.html#a195">fp_is_zero_dp</a>(fp_dp)) {
00705         <span class="keywordflow">return</span>(<a class="code" href="../../d1/d2/fehelper_8h.html#a47">fp_fr_to_dp</a>(fr2));
00706     } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a188">fp_is_pseudo_zero</a>(fr2) ) {
00707         <span class="keywordflow">return</span>(fp_dp);
00708     } <span class="keywordflow">else</span> {
00709         <span class="comment">/* we have non-all-zeros and non-all-ones exponents in both operands */</span>
00710         exp_diff = (((<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>) - FP_DP_BIAS )
00711                  - (((<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)fr2.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a>)  -  FP_REG_BIAS);
00712 
00713         tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a> = fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a>;
00714 
00715         tmp_a = <a class="code" href="../../d1/d2/fehelper_8h.html#a32">fp_U128_to_U256</a>(fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>);
00716         tmp_a = <a class="code" href="../../d1/d2/fehelper_8h.html#a39">fp_U256_lsh</a>(tmp_a,64);
00717 
00718         tmp_b = <a class="code" href="../../d1/d2/fehelper_8h.html#a240">fp_U64_to_U256</a>(fr2.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a>);
00719         tmp_b = <a class="code" href="../../d1/d2/fehelper_8h.html#a39">fp_U256_lsh</a>(tmp_b,128);
00720 
00721         <span class="keywordflow">if</span> (exp_diff &gt;= 0) {
00722             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> = fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>;
00723 
00724             tmp_c = <a class="code" href="../../d1/d2/fehelper_8h.html#a38">fp_U256_rsh</a>(tmp_b,exp_diff);
00725             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a> = !<a class="code" href="../../d1/d2/fehelper_8h.html#a31">fp_U256_eq</a>(tmp_b,<a class="code" href="../../d1/d2/fehelper_8h.html#a39">fp_U256_lsh</a>(tmp_c,exp_diff));
00726             tmp_b = tmp_c;
00727 
00728             <span class="keywordflow">if</span>(fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a> != fr2.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>) {
00729                 <span class="comment">/* add sticky */</span>
00730                 <span class="keywordflow">if</span> (tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a>)
00731                     tmp_b = <a class="code" href="../../d1/d2/fehelper_8h.html#a35">fp_U256_inc</a>(tmp_b);
00732                 <span class="keywordflow">if</span> (fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a>)
00733                     tmp_a = <a class="code" href="../../d1/d2/fehelper_8h.html#a236">fp_U256_neg</a>(tmp_a);
00734                 <span class="keywordflow">if</span> (fr2.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>)
00735                     tmp_b = <a class="code" href="../../d1/d2/fehelper_8h.html#a236">fp_U256_neg</a>(tmp_b);
00736             }
00737         } <span class="keywordflow">else</span> {
00738             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> = fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> - exp_diff;
00739 
00740             tmp_c = <a class="code" href="../../d1/d2/fehelper_8h.html#a38">fp_U256_rsh</a>(tmp_a,-exp_diff);
00741             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a> = !<a class="code" href="../../d1/d2/fehelper_8h.html#a31">fp_U256_eq</a>(tmp_a,<a class="code" href="../../d1/d2/fehelper_8h.html#a39">fp_U256_lsh</a>(tmp_c,-exp_diff));
00742             tmp_a = tmp_c;
00743 
00744             <span class="keywordflow">if</span>(fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a> != fr2.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>) {
00745                 <span class="comment">/* add sticky */</span>
00746                 <span class="keywordflow">if</span> (tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a>)
00747                     tmp_a = <a class="code" href="../../d1/d2/fehelper_8h.html#a35">fp_U256_inc</a>(tmp_a);
00748                 <span class="keywordflow">if</span> (fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a>)
00749                     tmp_a = <a class="code" href="../../d1/d2/fehelper_8h.html#a236">fp_U256_neg</a>(tmp_a);
00750                 <span class="keywordflow">if</span> (fr2.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>)
00751                     tmp_b = <a class="code" href="../../d1/d2/fehelper_8h.html#a236">fp_U256_neg</a>(tmp_b);
00752             }
00753         }
00754 
00755         tmp_c = <a class="code" href="../../d1/d2/fehelper_8h.html#a237">fp_U256_add</a>(tmp_a, tmp_b);
00756 
00757 
00758         <span class="keywordflow">if</span> (fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a> != fr2.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>) {
00759             <span class="keywordflow">if</span> (tmp_c.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a> != 0) {
00760                 tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a> = 1;
00761                 tmp_c = <a class="code" href="../../d1/d2/fehelper_8h.html#a236">fp_U256_neg</a>(tmp_c);
00762             } <span class="keywordflow">else</span> {
00763                 tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a> = 0;
00764             }
00765         }
00766 
00767         <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d2/fehelper_8h.html#a31">fp_U256_eq</a>(tmp_c,U256_0)) {
00768             normalize_count = <a class="code" href="../../d1/d2/fehelper_8h.html#a42">fp_U256_lead0</a>(tmp_c);
00769             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> -= (normalize_count - 64);
00770             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a243">fp_U256_to_U128</a>(
00771                                       <a class="code" href="../../d1/d2/fehelper_8h.html#a38">fp_U256_rsh</a>(
00772                                           <a class="code" href="../../d1/d2/fehelper_8h.html#a39">fp_U256_lsh</a>(tmp_c, normalize_count),
00773                                           128
00774                                       )
00775                                   );
00776 
00777             <span class="keywordflow">if</span>(normalize_count &gt; 128) {
00778                tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a> |= !<a class="code" href="../../d1/d2/fehelper_8h.html#a31">fp_U256_eq</a>(
00779                                      <a class="code" href="../../d1/d2/fehelper_8h.html#a38">fp_U256_rsh</a>(
00780                                          <a class="code" href="../../d1/d2/fehelper_8h.html#a32">fp_U128_to_U256</a>(tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>),
00781                                          normalize_count-128
00782                                      ),
00783                                      tmp_c
00784                                  );
00785             } <span class="keywordflow">else</span> {
00786                tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a> |= !<a class="code" href="../../d1/d2/fehelper_8h.html#a31">fp_U256_eq</a>(
00787                                      <a class="code" href="../../d1/d2/fehelper_8h.html#a39">fp_U256_lsh</a>(
00788                                          <a class="code" href="../../d1/d2/fehelper_8h.html#a32">fp_U128_to_U256</a>(tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>),
00789                                          128-normalize_count
00790                                      ),
00791                                      tmp_c
00792                                  );
00793             }
00794 
00795         } <span class="keywordflow">else</span> {
00796              <span class="keywordflow">if</span> (fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a> == fr2.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>)
00797                  tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a> = fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a>;
00798              <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o4">rc</a> == <a class="code" href="../../d2/d3/fetypes_8h.html#a455a413">rc_rm</a>)
00799                  tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a> = 1;
00800              <span class="keywordflow">else</span>
00801                  tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a> = 0;
00802              tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> = 0;
00803              tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a> = U128_0;
00804         }
00805         <span class="keywordflow">return</span>(tmp_res);
00806     }
00807 }
00808 
00809 
00810 
00811 <span class="comment">// *******************************************************************</span>
00812 <span class="comment">// IEEE rounds</span>
00813 <span class="comment">// *******************************************************************</span>
00814 
00815 
00816 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a>
<a name="l00817"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a207">00817</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a207">fp_single</a>(<a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> freg)
00818 {
00819 <a class="code" href="../../d6/d9/unionmemory__union.html">EM_memory_type</a> tmp_mem;
00820     tmp_mem = <a class="code" href="../../d1/d2/fehelper_8h.html#a200">fp_fr_to_mem_format</a>(freg, 4, 0);
00821     <span class="keywordflow">return</span> (tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o6">uint_32</a>.<a class="code" href="../../d0/d1/structmemory__union_1_1uint__32__struct.html#o0">uvalue</a>);
00822 }
00823 
00824 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <span class="keywordtype">void</span>
<a name="l00825"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a209">00825</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a209">fp_ieee_to_hilo</a>(
00826     EM_simd_hilo hilo,
00827     <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a> *tmp_fp_env)
00828 {
00829     <span class="keywordflow">if</span>(hilo == <a class="code" href="../../d2/d3/fetypes_8h.html#a457a417">high</a>) {
00830        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o3">o</a> = tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o3">o</a>;
00831        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o3">o</a>    = 0;
00832 
00833        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o4">un</a> = tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o4">un</a>; <span class="comment">// MACH</span>
00834        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o4">un</a>    = 0; <span class="comment">// MACH</span>
00835 
00836        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a> = tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a>;
00837        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a>    = 0;
00838 
00839 
00840        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o20">hi_traps</a>.<a class="code" href="../../d0/d1/structtmp__fp__env__struct_1_1hi__traps__struct.html#o0">o</a> = tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o0">o</a>;
00841        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o0">o</a> = 0;
00842 
00843        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o20">hi_traps</a>.<a class="code" href="../../d0/d1/structtmp__fp__env__struct_1_1hi__traps__struct.html#o1">un</a> = tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o1">un</a>; <span class="comment">// MACH</span>
00844        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o1">un</a> = 0; <span class="comment">// MACH</span>
00845 
00846        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o20">hi_traps</a>.<a class="code" href="../../d0/d1/structtmp__fp__env__struct_1_1hi__traps__struct.html#o2">i</a> = tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o2">i</a>;
00847        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o2">i</a> = 0;
00848 
00849        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o1">d</a> = tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o1">d</a>;
00850        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o1">d</a> = 0;
00851 
00852        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o2">z</a> = tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o2">z</a>;
00853        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o2">z</a> = 0;
00854 
00855        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o0">v</a> = tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o0">v</a>;
00856        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o0">v</a> = 0;
00857 
00858        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o11">hi_fpa</a> = tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o10">fpa</a>;
00859        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o10">fpa</a> = 0;
00860 
00861     } <span class="keywordflow">else</span> {
00862        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o3">o</a> = tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o3">o</a>;
00863        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o3">o</a>    = 0;
00864 
00865        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o4">un</a> = tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o4">un</a>; <span class="comment">// MACH</span>
00866        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o4">un</a>    = 0; <span class="comment">// MACH</span>
00867 
00868        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a> = tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a>;
00869        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a>    = 0;
00870 
00871 
00872        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o21">lo_traps</a>.<a class="code" href="../../d2/d1/structtmp__fp__env__struct_1_1lo__traps__struct.html#o0">o</a> = tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o0">o</a>;
00873        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o0">o</a> = 0;
00874 
00875        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o21">lo_traps</a>.<a class="code" href="../../d2/d1/structtmp__fp__env__struct_1_1lo__traps__struct.html#o1">un</a> = tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o1">un</a>; <span class="comment">// MACH</span>
00876        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o1">un</a> = 0; <span class="comment">// MACH</span>
00877 
00878        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o21">lo_traps</a>.<a class="code" href="../../d2/d1/structtmp__fp__env__struct_1_1lo__traps__struct.html#o2">i</a> = tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o2">i</a>;
00879        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o2">i</a> = 0;
00880 
00881        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o1">d</a> = tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o1">d</a>;
00882        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o1">d</a> = 0;
00883 
00884        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o2">z</a> = tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o2">z</a>;
00885        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o2">z</a> = 0;
00886 
00887        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o0">v</a> = tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o0">v</a>;
00888        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o0">v</a> = 0;
00889 
00890        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o12">lo_fpa</a> = tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o10">fpa</a>;
00891        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o10">fpa</a> = 0;
00892     }
00893 }
00894 
00895 <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a>
<a name="l00896"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a173">00896</a> <a class="code" href="../../d0/d2/fehelper_8c.html#a3">fp_ieee_round</a>(
00897     <a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a>      fp_dp,
00898     <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a> *tmp_fp_env)
00899 {
00900     <span class="keyword">const</span> <a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a> FPA[64] = {
00901                         0,0,0,1,
00902                         0,0,1,1,
00903                         0,0,0,1,
00904                         0,0,1,1, <span class="comment">/* Nearest */</span>
00905                         0,0,0,0,
00906                         0,0,0,0,
00907                         0,1,1,1,
00908                         0,1,1,1, <span class="comment">/* -inf */</span>
00909                         0,1,1,1,
00910                         0,1,1,1,
00911                         0,0,0,0,
00912                         0,0,0,0, <span class="comment">/* +inf */</span>
00913                         0,0,0,0,
00914                         0,0,0,0,
00915                         0,0,0,0,
00916                         0,0,0,0, <span class="comment">/* Zero */</span>
00917     };
00918 
00919     <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> tmp_rtn;
00920     <a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a>  tmp_res, tmp_unbounded_round;
00921     <a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>       cnt, tmp_shift;
00922 
00923     <a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a>      e_max, e_min, 
00924                    tmp_unbounded_ebc = 0, tmp_unbounded_fpa = 0;
00925 
00926     <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> significand_mask;
00927     <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> significand_even;
00928     <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> significand_round;
00929     <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> significand_not_mask;
00930     <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> significand_sticky;
00931 
00932 
00933 <span class="comment">/************************************************</span>
00934 <span class="comment">SETUP</span>
00935 <span class="comment">set e_max, e_min</span>
00936 <span class="comment">Note that the exponents are still dp-biased.</span>
00937 <span class="comment">*************************************************/</span>
00938     <span class="keywordflow">if</span> (tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o3">es</a> == <a class="code" href="../../d2/d3/fetypes_8h.html#a460a440">es_eight_bits</a>) {
00939         e_max = FP_DP_BIAS + FP_SGL_BIAS;
00940         e_min = FP_DP_BIAS - FP_SGL_BIAS + 1;
00941     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o3">es</a> == <a class="code" href="../../d2/d3/fetypes_8h.html#a460a441">es_eleven_bits</a>) {
00942         e_max = FP_DP_BIAS + FP_DBL_BIAS;
00943         e_min = FP_DP_BIAS - FP_DBL_BIAS + 1;
00944     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o3">es</a> == <a class="code" href="../../d2/d3/fetypes_8h.html#a460a442">es_fifteen_bits</a>) {
00945         e_max = FP_DP_BIAS + FP_EXT_BIAS;
00946         e_min = FP_DP_BIAS - FP_EXT_BIAS + 1;
00947     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o3">es</a> == <a class="code" href="../../d2/d3/fetypes_8h.html#a460a443">es_seventeen_bits</a>) {
00948         e_max = FP_DP_BIAS + FP_REG_BIAS;
00949         e_min = FP_DP_BIAS - FP_REG_BIAS + 1;
00950     }
00951 
00952 <span class="comment">/************************************************</span>
00953 <span class="comment">SETUP</span>
00954 <span class="comment">set significand_mask, significand_even, significand_round</span>
00955 <span class="comment">    significand_not_mask, significand_sticky</span>
00956 <span class="comment">*************************************************/</span>
00957    <span class="keywordflow">if</span>( tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o2">ss</a> == <a class="code" href="../../d2/d3/fetypes_8h.html#a459a437">ss_single_24</a>) {
00958         significand_mask     = U128_0xFFFFFF00000000000000000000000000;
00959         significand_even     = U128_0x00000100000000000000000000000000;
00960         significand_round    = U128_0x00000080000000000000000000000000;
00961         significand_not_mask = U128_0x000000FFFFFFFFFFFFFFFFFFFFFFFFFF;
00962         significand_sticky   = U128_0x0000007FFFFFFFFFFFFFFFFFFFFFFFFF;
00963     } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o2">ss</a> == <a class="code" href="../../d2/d3/fetypes_8h.html#a459a438">ss_double_53</a>) {
00964         significand_mask     = U128_0xFFFFFFFFFFFFF8000000000000000000;
00965         significand_even     = U128_0x00000000000008000000000000000000;
00966         significand_round    = U128_0x00000000000004000000000000000000;
00967         significand_not_mask = U128_0x00000000000007FFFFFFFFFFFFFFFFFF;
00968         significand_sticky   = U128_0x00000000000003FFFFFFFFFFFFFFFFFF;
00969     } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o2">ss</a> == <a class="code" href="../../d2/d3/fetypes_8h.html#a459a439">ss_double_extended_64</a>) {
00970         significand_mask     = U128_0xFFFFFFFFFFFFFFFF0000000000000000;
00971         significand_even     = U128_0x00000000000000010000000000000000;
00972         significand_round    = U128_0x00000000000000008000000000000000;
00973         significand_not_mask = U128_0x0000000000000000FFFFFFFFFFFFFFFF;
00974         significand_sticky   = U128_0x00000000000000007FFFFFFFFFFFFFFF;
00975     }
00976 
00977 <span class="comment">/***************************************************</span>
00978 <span class="comment">INPUT CHECK</span>
00979 <span class="comment">Inf?</span>
00980 <span class="comment">****************************************************/</span>
00981     <span class="keywordflow">if</span> ( <a class="code" href="../../d1/d2/fehelper_8h.html#a176">fp_is_inf_dp</a>(fp_dp) ) {
00982         tmp_res             = fp_dp;
00983         tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a28">fp_U128_band</a>(tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>,
00984                                         significand_mask);
00985         tmp_rtn = <a class="code" href="../../d1/d2/fehelper_8h.html#a147">fp_dp_to_fr</a>(tmp_res);
00986         <span class="keywordflow">return</span>(tmp_rtn);
00987 
00988 <span class="comment">/***************************************************</span>
00989 <span class="comment">INPUT CHECK</span>
00990 <span class="comment">Nan?</span>
00991 <span class="comment">****************************************************/</span>
00992    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <a class="code" href="../../d1/d2/fehelper_8h.html#a178">fp_is_nan_dp</a>(fp_dp) ) {
00993         tmp_res             = fp_dp;
00994         tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a28">fp_U128_band</a>(tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>,
00995                                         significand_mask);
00996         tmp_rtn = <a class="code" href="../../d1/d2/fehelper_8h.html#a147">fp_dp_to_fr</a>(tmp_res);
00997         <span class="keywordflow">return</span>(tmp_rtn);
00998 
00999 <span class="comment">/***************************************************</span>
01000 <span class="comment">INPUT CHECK</span>
01001 <span class="comment">Zero?</span>
01002 <span class="comment">****************************************************/</span>
01003     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <a class="code" href="../../d1/d2/fehelper_8h.html#a195">fp_is_zero_dp</a>(fp_dp) ) {
01004 
01005         <span class="keywordflow">if</span> (      (fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a>) &amp;&amp; (tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o4">rc</a> == <a class="code" href="../../d2/d3/fetypes_8h.html#a455a413">rc_rm</a>) )
01006             tmp_rtn.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a> = 1;
01007         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( (fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a>) &amp;&amp; (tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o4">rc</a> != <a class="code" href="../../d2/d3/fetypes_8h.html#a455a413">rc_rm</a>) )
01008             tmp_rtn.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a> = 0;
01009         <span class="keywordflow">else</span>
01010             tmp_rtn.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a> = fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a>;
01011         tmp_rtn.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a>    = fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>;
01012         tmp_rtn.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> = 0;
01013         <span class="keywordflow">return</span>(tmp_rtn);
01014 
01015 <span class="comment">/******************************************************</span>
01016 <span class="comment">INPUT CHECK</span>
01017 <span class="comment">Answer is finite and non-zero.</span>
01018 <span class="comment">*******************************************************/</span>
01019     } <span class="keywordflow">else</span> { 
01020         tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a>     = fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a>;
01021         tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> = fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>;
01022         tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a>   = fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a>;
01023 
01024 <span class="comment">/****************************************************** </span>
01025 <span class="comment">UNBOUNDED SETUP</span>
01026 <span class="comment">Set cnt -- depends on rounding control, +/-, even/odd, round?, sticky?</span>
01027 <span class="comment">Set sticky to be either round or sticky </span>
01028 <span class="comment">*******************************************************/</span>
01029         cnt = (tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o4">rc</a>&lt;&lt;4) | (fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a>&lt;&lt;3);
01030                         
01031         cnt |= !<a class="code" href="../../d1/d2/fehelper_8h.html#a30">fp_U128_eq</a>(U128_0, <a class="code" href="../../d1/d2/fehelper_8h.html#a28">fp_U128_band</a>(fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>,
01032         <span class="comment">/* even */</span>                       significand_even))  &lt;&lt; 2;
01033                         
01034         cnt |= !<a class="code" href="../../d1/d2/fehelper_8h.html#a30">fp_U128_eq</a>(U128_0, <a class="code" href="../../d1/d2/fehelper_8h.html#a28">fp_U128_band</a>(fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>,
01035         <span class="comment">/* round */</span>                      significand_round)) &lt;&lt; 1;
01036                         
01037         tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a> |= !<a class="code" href="../../d1/d2/fehelper_8h.html#a30">fp_U128_eq</a>(U128_0, <a class="code" href="../../d1/d2/fehelper_8h.html#a28">fp_U128_band</a>(fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>,
01038         <span class="comment">/* sticky */</span>                                significand_sticky));
01039 
01040         cnt |= tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a>;
01041         tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a> |= ((cnt&amp;2) != 0); <span class="comment">/* round and sticky */</span>
01042 
01043 <span class="comment">/*************************************************************************</span>
01044 <span class="comment">UNBOUNDED ROUNDING</span>
01045 <span class="comment">If necessary, round the significand</span>
01046 <span class="comment">   This is the FIRST (or UNBOUNDED) rounding</span>
01047 <span class="comment">   If rounding the significand results in a carry out of</span>
01048 <span class="comment">   the significand, inc exponent and set significand to 10..0</span>
01049 <span class="comment">else</span>
01050 <span class="comment">   mask out lower bits of significand</span>
01051 <span class="comment">**************************************************************************/</span>
01052         <span class="keywordflow">if</span> (FPA[cnt]) {
01053             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a29">fp_U128_bor</a>(fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>,
01054                                            significand_not_mask);
01055             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a34">fp_U128_inc</a>(tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>);
01056             <span class="keywordflow">if</span> ( <a class="code" href="../../d1/d2/fehelper_8h.html#a30">fp_U128_eq</a>(tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>, U128_0) ) { <span class="comment">/* carry out */</span>
01057                 tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>++;
01058                 tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a> = U128_0x80000000000000000000000000000000;
01059             }
01060         } <span class="keywordflow">else</span> {
01061             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a28">fp_U128_band</a>(fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>,
01062                                             significand_mask);
01063         }
01064 
01065 <span class="comment">/*************************************************************************</span>
01066 <span class="comment">UNBOUNDED ROUNDING</span>
01067 <span class="comment">If significand = 0, set exponent to 0.</span>
01068 <span class="comment">CAN THIS EVER HAPPEN IF tmp_res IS NORMALIZED?</span>
01069 <span class="comment">**************************************************************************/</span>
01070         <span class="keywordflow">if</span> ( <a class="code" href="../../d1/d2/fehelper_8h.html#a30">fp_U128_eq</a>(tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>, U128_0) ) { <span class="comment">/* underflow -&gt; zero */</span>
01071                 tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> = 0;
01072         }
01073 
01074 <span class="comment">/*************************************************************************</span>
01075 <span class="comment">UNBOUNDED</span>
01076 <span class="comment">Save the result of the FIRST ROUNDING in tmp_unbounded_round.</span>
01077 <span class="comment">Then, set i flag.</span>
01078 <span class="comment">**************************************************************************/</span>        
01079         tmp_unbounded_round.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a>            = tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a>;
01080         tmp_unbounded_round.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>     = tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>;
01081         tmp_unbounded_round.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>        = tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>;
01082         tmp_unbounded_round.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a>          = tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a>;
01083         tmp_unbounded_fpa                   = FPA[cnt];
01084         
01085         <span class="keywordflow">if</span> (  ((tmp_unbounded_round.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>&gt;&gt;17)&amp;1) 
01086             ^ ((tmp_unbounded_round.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>&gt;&gt;16)&amp;1) 
01087            )
01088                 tmp_unbounded_ebc = 1;
01089 
01090         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a>   = tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a>;
01091 
01092 
01093 <span class="comment">/************************************************************</span>
01094 <span class="comment">HUGE</span>
01095 <span class="comment">if HUGE, set o_flag; </span>
01096 <span class="comment">if o traps enabled, also set o_trap, ebc, fpa</span>
01097 <span class="comment">   then if i_flag set, set i_trap and </span>
01098 <span class="comment">   return tmp_unbounded_round with mod17 exponent;</span>
01099 <span class="comment">   the fp_dp_to_fr() mods the exponent.</span>
01100 <span class="comment">   (sometimes inappropriately called the wrapped value)</span>
01101 <span class="comment">else set set tmp_res to max or inf, set i_flag</span>
01102 <span class="comment">   if i traps enabled, set i_trap, fpa</span>
01103 <span class="comment">   return tmp_res </span>
01104 <span class="comment">*************************************************************/</span>
01105         <span class="keywordflow">if</span> ( tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> &gt; e_max ) { <span class="comment">/* huge */</span>
01106           tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o3">o</a> = 1;
01107 
01108            <span class="keywordflow">if</span> ( !tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o3">od</a>) {
01109                tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o9">ebc</a> = tmp_unbounded_ebc;
01110                tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o10">fpa</a> = tmp_unbounded_fpa;
01111                tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o0">o</a> = 1;
01112                <span class="keywordflow">if</span>(tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a>) {
01113                   tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o2">i</a> = 1;
01114                }
01115                <span class="keywordflow">return</span>(<a class="code" href="../../d1/d2/fehelper_8h.html#a147">fp_dp_to_fr</a>(tmp_unbounded_round));      
01116  
01117           } <span class="keywordflow">else</span> {
01118                tmp_res = <a class="code" href="../../d1/d2/fehelper_8h.html#a161">fp_max_or_infinity</a>(fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a>, tmp_fp_env,
01119                                             e_max, significand_mask);
01120                tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a> = 1;
01121 <span class="comment">/****************************************************************</span>
01122 <span class="comment">The IEEE standard specifies (7.5) that if you overflow without enabling</span>
01123 <span class="comment">O traps, then inexact is always set. Hence, the above assignment.</span>
01124 <span class="comment">*****************************************************************/</span>
01125 
01126                <span class="keywordflow">if</span> ( !tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o5">id</a> ) {
01127                    tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o2">i</a> = 1;
01128                    tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o10">fpa</a>        = <a class="code" href="../../d1/d2/fehelper_8h.html#a176">fp_is_inf_dp</a>(tmp_res);
01129                    tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o9">ebc</a>        = 0;
01130                }
01131                <span class="keywordflow">return</span>(<a class="code" href="../../d1/d2/fehelper_8h.html#a147">fp_dp_to_fr</a>(tmp_res));
01132            }
01133 
01134 <span class="comment">/************************************************************</span>
01135 <span class="comment">TINY</span>
01136 <span class="comment">If MERCED_RTL, return unbounded, rounded result with mod17 exponent</span>
01137 <span class="comment">*************************************************************/</span>
01138 
01139         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> &lt; e_min ) { <span class="comment">/* tiny */</span>
01140 
01141 <span class="comment">/************************************************************</span>
01142 <span class="comment">TINY</span>
01143 <span class="comment">Undo the rounding.</span>
01144 <span class="comment">*************************************************************/</span>
01145 
01146              tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a>     = fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a>;
01147              tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> = fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>;
01148              tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a>   = fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a>;
01149 
01150 <span class="comment">/************************************************************</span>
01151 <span class="comment">TINY</span>
01152 <span class="comment">Calculate the shift to bring exponent to e_min</span>
01153 <span class="comment">if shift &gt;=128 and significand is not zero, </span>
01154 <span class="comment">   set sticky and clear significand</span>
01155 <span class="comment">else</span>
01156 <span class="comment">   do the shift and set sticky if lost bits from significand</span>
01157 <span class="comment">*************************************************************/</span>
01158             tmp_shift = ((<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)e_min) - ((<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>);
01159             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>     += tmp_shift;
01160 
01161             <span class="keywordflow">if</span> (tmp_shift &gt;= 128) {
01162                 tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a> |= !<a class="code" href="../../d1/d2/fehelper_8h.html#a30">fp_U128_eq</a>( fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>, U128_0);
01163                 tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a> = U128_0;
01164             } <span class="keywordflow">else</span> {
01165                 tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a> |= !<a class="code" href="../../d1/d2/fehelper_8h.html#a30">fp_U128_eq</a>( U128_0,
01166                                        <a class="code" href="../../d1/d2/fehelper_8h.html#a37">fp_U128_lsh</a>(
01167                                           fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>,
01168                                           (128-tmp_shift)));
01169                 tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>  = <a class="code" href="../../d1/d2/fehelper_8h.html#a36">fp_U128_rsh</a>(fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>,
01170                                                    tmp_shift);
01171             }
01172 
01173 <span class="comment">/****************************************************** </span>
01174 <span class="comment">TINY SETUP</span>
01175 <span class="comment">Set cnt -- depends on rounding control, +/-, even/odd, round?, sticky?</span>
01176 <span class="comment">Set sticky to be either round or sticky </span>
01177 <span class="comment">*******************************************************/</span>
01178             cnt = (tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o4">rc</a>&lt;&lt;4) | (tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a>&lt;&lt;3);
01179                             <span class="comment">/* even */</span>
01180             cnt |= !<a class="code" href="../../d1/d2/fehelper_8h.html#a30">fp_U128_eq</a>(U128_0, <a class="code" href="../../d1/d2/fehelper_8h.html#a28">fp_U128_band</a>(tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>,
01181                                              significand_even))  &lt;&lt; 2;
01182                             <span class="comment">/* round */</span>
01183             cnt |= !<a class="code" href="../../d1/d2/fehelper_8h.html#a30">fp_U128_eq</a>(U128_0, <a class="code" href="../../d1/d2/fehelper_8h.html#a28">fp_U128_band</a>(tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>,
01184                                              significand_round)) &lt;&lt; 1;
01185                             <span class="comment">/* sticky */</span>
01186             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a> |= !<a class="code" href="../../d1/d2/fehelper_8h.html#a30">fp_U128_eq</a>(U128_0, <a class="code" href="../../d1/d2/fehelper_8h.html#a28">fp_U128_band</a>(tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>,
01187                                                         significand_sticky));
01188             cnt |= tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a>;
01189             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a> |= ((cnt&amp;2) != 0); <span class="comment">/* round and sticky */</span>
01190 
01191 <span class="comment">/*************************************************************************</span>
01192 <span class="comment">TINY ROUNDING -- answer is in tmp_res</span>
01193 <span class="comment">If necessary, round the significand</span>
01194 <span class="comment">   This is the SECOND (as opposed to the FIRST or UNBOUNDED) rounding</span>
01195 <span class="comment">   If rounding the significand results in a carry out of</span>
01196 <span class="comment">   the significand, inc exponent and set significand to 10..0</span>
01197 <span class="comment">else</span>
01198 <span class="comment">   mask out lower bits of significand</span>
01199 <span class="comment">**************************************************************************/</span>
01200             <span class="keywordflow">if</span> (FPA[cnt]) {
01201                 tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a29">fp_U128_bor</a>(tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>,
01202                                                significand_not_mask);
01203                 tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a34">fp_U128_inc</a>(tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>);
01204                 <span class="keywordflow">if</span> ( <a class="code" href="../../d1/d2/fehelper_8h.html#a30">fp_U128_eq</a>(tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>, U128_0) ) { <span class="comment">/* carry out */</span>
01205                     tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>++;
01206                     tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a> =
01207                             U128_0x80000000000000000000000000000000;
01208                 }
01209             } <span class="keywordflow">else</span> {
01210                 tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a28">fp_U128_band</a>(tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>,
01211                                                 significand_mask);
01212             }
01213 
01214 
01215 <span class="comment">/******************************************************</span>
01216 <span class="comment">TINY ROUNDING</span>
01217 <span class="comment">If significand = 0, set exponent to 0.</span>
01218 <span class="comment">Then, or in new sticky to the i flag </span>
01219 <span class="comment">*******************************************************/</span>
01220            <span class="keywordflow">if</span> ( <a class="code" href="../../d1/d2/fehelper_8h.html#a30">fp_U128_eq</a>(tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>, U128_0) ) { <span class="comment">/* underflow to 0 */</span>
01221                 tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> = 0;
01222             }
01223 
01224             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a> |= tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a>;
01225 
01226 
01227 <span class="comment">/******************************************************</span>
01228 <span class="comment">TINY</span>
01229 <span class="comment">Set underflow, if inexact.</span>
01230 <span class="comment">*******************************************************/</span>
01231              <span class="keywordflow">if</span>( tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a> )
01232                  tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o4">un</a> = 1; <span class="comment">/* tiny and inexact */</span> <span class="comment">// MACH</span>
01233 
01234 <span class="comment">/******************************************************</span>
01235 <span class="comment">TINY</span>
01236 <span class="comment">If u traps enabled, </span>
01237 <span class="comment">   set u_flag, u_trap, ebc, fpa, and possibly i_trap</span>
01238 <span class="comment">   return unbounded result with mod17 exponent;</span>
01239 <span class="comment">   the fp_dp_to_fr() mods the exponent.</span>
01240 <span class="comment">else </span>
01241 <span class="comment">   if ftz</span>
01242 <span class="comment">     set i_flag, set u_flag, clear ebc, clear fpa</span>
01243 <span class="comment">     if inexact set i_trap</span>
01244 <span class="comment">   else </span>
01245 <span class="comment">     if inexact trap and inexact</span>
01246 <span class="comment">        set fpa, set i_trap</span>
01247 <span class="comment">   set tmp_rtn (freg) to tmp_res (fp_dp).</span>
01248 <span class="comment">   tmp_rtn now has the result of the SECOND rounding.</span>
01249 <span class="comment">   Do not return tmp_res yet, because we may have to</span>
01250 <span class="comment">   make a canonical double_ext denormal.</span>
01251 <span class="comment">*******************************************************/</span>
01252             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o10">fpa</a>        = FPA[cnt];
01253             <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o4">ud</a>) {
01254                 tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o4">un</a>    = 1; <span class="comment">// MACH</span>
01255                 tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o1">un</a> = 1; <span class="comment">// MACH</span>
01256                 tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o9">ebc</a>        = tmp_unbounded_ebc;
01257                 tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o10">fpa</a>        = tmp_unbounded_fpa;
01258                 tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a>    = tmp_unbounded_round.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a>;
01259                 <span class="keywordflow">if</span>(tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a>) {
01260                    tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o2">i</a> = 1; 
01261                 }
01262                 <span class="keywordflow">return</span>(<a class="code" href="../../d1/d2/fehelper_8h.html#a147">fp_dp_to_fr</a>(tmp_unbounded_round));
01263             }
01264             <span class="keywordflow">else</span> {
01265                 <span class="keywordflow">if</span> (tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o5">ftz</a>) {
01266                    tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>    = 0;
01267                    tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a> = U128_0;
01268                    tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a>      = 1;
01269                    tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a> = 1;
01270                    tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o4">un</a> = 1; <span class="comment">// MACH</span>
01271                    tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o9">ebc</a>     = 0;
01272                    tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o10">fpa</a>     = 0;
01273                    <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o5">id</a>) {
01274                       tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o2">i</a> = 1;
01275                    }
01276                 } 
01277                 <span class="keywordflow">else</span> {
01278                    <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o5">id</a> &amp;&amp; tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a>) {
01279                      tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o10">fpa</a>        = FPA[cnt];
01280                      tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o2">i</a> = 1;
01281                    }
01282                }
01283             }
01284 
01285             tmp_rtn                = <a class="code" href="../../d1/d2/fehelper_8h.html#a147">fp_dp_to_fr</a>(tmp_res);
01286 
01287 <span class="comment">/******************************************************</span>
01288 <span class="comment">TINY</span>
01289 <span class="comment">if double_extended, set tmp_rtn to canonical denormal</span>
01290 <span class="comment">return result of SECOND ROUNDING</span>
01291 <span class="comment">*******************************************************/</span>
01292             <span class="keywordflow">if</span> (  (tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o3">es</a> == <a class="code" href="../../d2/d3/fetypes_8h.html#a460a442">es_fifteen_bits</a>)
01293                &amp;&amp; (tmp_rtn.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> == 0x0C001)
01294                &amp;&amp;((tmp_rtn.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> &amp; U64_0x8000000000000000) == 0) ) {
01295                <span class="comment">/* canonical double-extended denormal */</span>
01296                 tmp_rtn.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> = 0x00000;
01297             }
01298 
01299             <span class="keywordflow">return</span>(tmp_rtn);
01300 
01301 <span class="comment">/******************************************************</span>
01302 <span class="comment">NOT HUGE, NOT TINY</span>
01303 <span class="comment">if i traps enabled and i flag, set i_trap </span>
01304 <span class="comment">set fpa</span>
01305 <span class="comment">*******************************************************/</span>
01306         } <span class="keywordflow">else</span> { 
01307             <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o5">id</a> &amp;&amp; tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a>) {
01308                 tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o10">fpa</a>        = tmp_unbounded_fpa;
01309                 tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o2">i</a> = 1;
01310             }
01311             tmp_rtn  = <a class="code" href="../../d1/d2/fehelper_8h.html#a147">fp_dp_to_fr</a>(tmp_unbounded_round);
01312 
01313 <span class="comment">/******************************************************</span>
01314 <span class="comment">NOT HUGE, NOT TINY</span>
01315 <span class="comment">if double_extended, set tmp_rtn to canonical denormal</span>
01316 <span class="comment">return result of FIRST rounding</span>
01317 <span class="comment">*******************************************************/</span>
01318             <span class="keywordflow">if</span> (  (tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o3">es</a> == <a class="code" href="../../d2/d3/fetypes_8h.html#a460a442">es_fifteen_bits</a>)
01319                &amp;&amp; (tmp_rtn.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> == 0x0C001)
01320                &amp;&amp;((tmp_rtn.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> &amp; U64_0x8000000000000000) == 0) ) {
01321                <span class="comment">/* canonical double-extended denormal */</span>
01322                 tmp_rtn.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> = 0x00000;
01323             }
01324 
01325             <span class="keywordflow">return</span>(tmp_rtn);
01326         } <span class="comment">/* end of not huge, not tiny */</span>
01327     } <span class="comment">/* end of infinitely precise and nonzero */</span>
01328 }
01329 
01330 <span class="preprocessor">#undef fp_ieee_round</span>
<a name="l01331"></a><a class="code" href="../../d0/d2/fehelper_8c.html#a3">01331</a> <span class="preprocessor"></span><span class="preprocessor">#define fp_ieee_round(arg1, arg2)  fp82_fp_ieee_round(ps, arg1, arg2)</span>
01332 <span class="preprocessor"></span>
01333 <span class="comment">// *******************************************************************</span>
01334 <span class="comment">// fp_ieee_round_sp()</span>
01335 <span class="comment">// Takes a dp register value (which is the hi or lo of a simd)</span>
01336 <span class="comment">// Rounds to single precision, setting flags</span>
01337 <span class="comment">// Returns the value as a single-precision memory format value</span>
01338 <span class="comment">// ********************************************************************</span>
01339 <a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a>
<a name="l01340"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a208">01340</a> <a class="code" href="../../d0/d2/fehelper_8c.html#a4">fp_ieee_round_sp</a>(
01341     <a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a>      fp_dp,
01342     EM_simd_hilo       hilo,
01343     <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a> *tmp_fp_env)
01344 {
01345 <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> fp_reg;
01346 <a class="code" href="../../d6/d9/unionmemory__union.html">EM_memory_type</a> tmp_mem;
01347     fp_reg = <a class="code" href="../../d0/d2/fehelper_8c.html#a3">fp_ieee_round</a>( fp_dp, tmp_fp_env);
01348     <a class="code" href="../../d1/d2/fehelper_8h.html#a209">fp_ieee_to_hilo</a>(hilo, tmp_fp_env);
01349 
01350     <span class="keywordflow">if</span>( tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o20">hi_traps</a>.<a class="code" href="../../d0/d1/structtmp__fp__env__struct_1_1hi__traps__struct.html#o1">un</a> || tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o20">hi_traps</a>.<a class="code" href="../../d0/d1/structtmp__fp__env__struct_1_1hi__traps__struct.html#o0">o</a> ||
01351         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o21">lo_traps</a>.<a class="code" href="../../d2/d1/structtmp__fp__env__struct_1_1lo__traps__struct.html#o1">un</a> || tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o21">lo_traps</a>.<a class="code" href="../../d2/d1/structtmp__fp__env__struct_1_1lo__traps__struct.html#o0">o</a>  ) { <span class="comment">// MACH</span>
01352 
01353        tmp_mem = <a class="code" href="../../d1/d2/fehelper_8h.html#a166">fr_to_mem4_bias_adjust</a>(fp_reg);
01354        <span class="keywordflow">return</span> (tmp_mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o6">uint_32</a>.<a class="code" href="../../d0/d1/structmemory__union_1_1uint__32__struct.html#o0">uvalue</a>);
01355     }
01356     <span class="keywordflow">else</span> {   
01357      <span class="keywordflow">return</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a207">fp_single</a>(fp_reg));
01358     }
01359 }
01360 
01361 <span class="preprocessor">#undef fp_ieee_round_sp</span>
<a name="l01362"></a><a class="code" href="../../d0/d2/fehelper_8c.html#a4">01362</a> <span class="preprocessor"></span><span class="preprocessor">#define fp_ieee_round_sp(arg1, arg2, arg3) \</span>
01363 <span class="preprocessor">        fp82_fp_ieee_round_sp(ps, arg1, arg2, arg3) </span>
01364 <span class="preprocessor"></span>
01365 
01366 <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a>
<a name="l01367"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a171">01367</a> <a class="code" href="../../d0/d2/fehelper_8c.html#a5">fp_ieee_rnd_to_int</a>(
01368     <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> fr1,
01369     <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a> *tmp_fp_env)
01370 {
01371 <a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a>      tmp_res;
01372 <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a> tmp_fp_env_local;
01373     
01374     tmp_res = <a class="code" href="../../d1/d2/fehelper_8h.html#a47">fp_fr_to_dp</a>(fr1);
01375     memcpy ((<span class="keywordtype">char</span> *)(&amp;tmp_fp_env_local), (<span class="keywordtype">char</span> *)tmp_fp_env,
01376         <span class="keyword">sizeof</span> (<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a>)); 
01377 
01378     <span class="keywordflow">if</span> (tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> &lt; FP_DP_INTEGER_EXP) {
01379         <span class="keywordflow">if</span> (tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a>) {
01380             tmp_res = <a class="code" href="../../d1/d2/fehelper_8h.html#a148">fp_add</a>(tmp_res, FP_NEG_2_TO_63, *tmp_fp_env);
01381             tmp_res = <a class="code" href="../../d1/d2/fehelper_8h.html#a47">fp_fr_to_dp</a>(<a class="code" href="../../d0/d2/fehelper_8c.html#a3">fp_ieee_round</a>( tmp_res, tmp_fp_env));
01382             tmp_res = <a class="code" href="../../d1/d2/fehelper_8h.html#a148">fp_add</a>(tmp_res, FP_POS_2_TO_63, *tmp_fp_env);
01383             <span class="keywordflow">return</span>(<a class="code" href="../../d0/d2/fehelper_8c.html#a3">fp_ieee_round</a>( tmp_res, &amp;tmp_fp_env_local));
01384         } <span class="keywordflow">else</span> {
01385             tmp_res = <a class="code" href="../../d1/d2/fehelper_8h.html#a148">fp_add</a>(tmp_res, FP_POS_2_TO_63, *tmp_fp_env);
01386             tmp_res = <a class="code" href="../../d1/d2/fehelper_8h.html#a47">fp_fr_to_dp</a>(<a class="code" href="../../d0/d2/fehelper_8c.html#a3">fp_ieee_round</a>( tmp_res, tmp_fp_env));
01387             tmp_res = <a class="code" href="../../d1/d2/fehelper_8h.html#a148">fp_add</a>(tmp_res, FP_NEG_2_TO_63, *tmp_fp_env);
01388             <span class="keywordflow">return</span>(<a class="code" href="../../d0/d2/fehelper_8c.html#a3">fp_ieee_round</a>( tmp_res, &amp;tmp_fp_env_local));
01389         }
01390     } <span class="keywordflow">else</span>
01391         <span class="keywordflow">return</span> (fr1);
01392 }
01393 
01394 <span class="preprocessor">#undef  fp_ieee_rnd_to_int</span>
<a name="l01395"></a><a class="code" href="../../d0/d2/fehelper_8c.html#a5">01395</a> <span class="preprocessor"></span><span class="preprocessor">#define fp_ieee_rnd_to_int(arg1,arg2) \</span>
01396 <span class="preprocessor">        fp82_fp_ieee_rnd_to_int(ps, arg1, arg2)</span>
01397 <span class="preprocessor"></span>
01398 <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a>
<a name="l01399"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a172">01399</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a4">fp_ieee_rnd_to_int_sp</a>(
01400     <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a>     fr1,
01401     EM_simd_hilo       hilo,
01402     <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a> *tmp_fp_env)
01403 {
01404 <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a>      tmp_fix;
01405 <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a>  tmp_fp_env_save;
01406 
01407    tmp_fp_env_save  = *tmp_fp_env;
01408    tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o2">ss</a>   = <a class="code" href="../../d2/d3/fetypes_8h.html#a459a439">ss_double_extended_64</a>;
01409    tmp_fp_env-&gt;es   = <a class="code" href="../../d2/d3/fetypes_8h.html#a460a443">es_seventeen_bits</a>;
01410 
01411    tmp_fix          = <a class="code" href="../../d0/d2/fehelper_8c.html#a5">fp_ieee_rnd_to_int</a>(fr1, tmp_fp_env);
01412 
01413    <a class="code" href="../../d1/d2/fehelper_8h.html#a209">fp_ieee_to_hilo</a>(hilo, tmp_fp_env);
01414    tmp_fp_env-&gt;ss   = tmp_fp_env_save.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o2">ss</a>;
01415    tmp_fp_env-&gt;es   = tmp_fp_env_save.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o3">es</a>;
01416    <span class="keywordflow">return</span>(tmp_fix);
01417 }
01418 
01419 
01420     
01421 <span class="comment">// ***************************************************************</span>
01422 <span class="comment">// Exception fault checks</span>
01423 <span class="comment">// *****************************************************************</span>
01424 
01425 <span class="comment">// ****************************************************************</span>
01426 <span class="comment">// fcmp_exception_fault_check()</span>
01427 <span class="comment">// *****************************************************************</span>
01428 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <span class="keywordtype">void</span>
<a name="l01429"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a149">01429</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a10">fcmp_exception_fault_check</a>(
01430     EM_fp_reg_specifier f2,
01431     EM_fp_reg_specifier f3,
01432     EM_opcode_frel_type frel,
01433     EM_opcode_sf_type   sf,
01434     <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a>  *tmp_fp_env)
01435 {
01436 <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> fr2, fr3;
01437 
01438     fr2 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f2];
01439     fr3 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f3];
01440 
01441     <a class="code" href="../../d0/d2/fehelper_8c.html#a2">fp_decode_environment</a>( <a class="code" href="../../d2/d3/fetypes_8h.html#a448a369">pc_none</a>, sf, tmp_fp_env );
01442 
01443     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d3/fesupprt_8h.html#a20">fp_software_assistance_required</a>(ps, <a class="code" href="../../d2/d3/fetypes_8h.html#a458a419">op_fcmp</a>, fr2, fr3)) {
01444         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o3">swa</a> = 1;
01445     }
01446 
01447     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(fr3)) {
01448         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
01449         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
01450             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o0">v</a> = 1;
01451         }
01452 
01453     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr3)) {
01454         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(fr2)   || <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(fr3)     ||
01455            (frel == <a class="code" href="../../d2/d3/fetypes_8h.html#a453a397">frelLT</a>)  || (frel == <a class="code" href="../../d2/d3/fetypes_8h.html#a453a401">frelNLT</a>)  ||
01456            (frel == <a class="code" href="../../d2/d3/fetypes_8h.html#a453a398">frelLE</a>)  || (frel == <a class="code" href="../../d2/d3/fetypes_8h.html#a453a402">frelNLE</a>)) {
01457            tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
01458            <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
01459               tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o0">v</a> = 1;
01460            }
01461         }
01462 
01463     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(fr3)) {
01464         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> = 1;
01465         <span class="keywordflow">if</span>(!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o1">dd</a>)
01466             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o1">d</a> = 1;
01467     }
01468 
01469 }
01470 
01471 <span class="comment">// ****************************************************************</span>
01472 <span class="comment">// fpcmp_exception_fault_check()</span>
01473 <span class="comment">// *****************************************************************</span>
01474 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <span class="keywordtype">void</span> 
<a name="l01475"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a150">01475</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a11">fpcmp_exception_fault_check</a>(
01476     EM_fp_reg_specifier f2,
01477     EM_fp_reg_specifier f3,
01478     EM_opcode_frel_type frel,
01479     EM_opcode_sf_type sf,
01480     <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a> *tmp_fp_env)
01481 {
01482 <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a>      tmp_fr2 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f2], tmp_fr3 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f3];
01483 
01484     <a class="code" href="../../d0/d2/fehelper_8c.html#a2">fp_decode_environment</a>( <a class="code" href="../../d2/d3/fetypes_8h.html#a448a370">pc_simd</a>, sf, tmp_fp_env );
01485 
01486 <span class="comment">// ***********</span>
01487 <span class="comment">// high</span>
01488 <span class="comment">// ************</span>
01489     tmp_fr2 = <a class="code" href="../../d0/d2/fehelper_8c.html#a0">fp_reg_read_hi</a>(f2);
01490     tmp_fr3 = <a class="code" href="../../d0/d2/fehelper_8c.html#a0">fp_reg_read_hi</a>(f3);
01491 
01492     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d3/fesupprt_8h.html#a20">fp_software_assistance_required</a>(ps, <a class="code" href="../../d2/d3/fetypes_8h.html#a458a420">op_fpcmp</a>, tmp_fr2, tmp_fr3)) {
01493         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o3">swa</a> = 1;
01494 
01495     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr3))  {
01496         <span class="keywordflow">if</span> ((<a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr2)  || <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr3)   ||
01497            (frel == <a class="code" href="../../d2/d3/fetypes_8h.html#a453a397">frelLT</a>)      || (frel == <a class="code" href="../../d2/d3/fetypes_8h.html#a453a401">frelNLT</a>)    ||
01498            (frel == <a class="code" href="../../d2/d3/fetypes_8h.html#a453a398">frelLE</a>)      || (frel == <a class="code" href="../../d2/d3/fetypes_8h.html#a453a402">frelNLE</a>))) {
01499               tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
01500            <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
01501                tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o0">v</a> = 1;
01502            }
01503        }
01504 
01505 
01506     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr3)) {
01507         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> = 1;
01508         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o1">dd</a>)
01509             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o1">d</a> = 1;
01510     }
01511     
01512 
01513 <span class="comment">// ***********</span>
01514 <span class="comment">// low</span>
01515 <span class="comment">// ************</span>
01516     tmp_fr2 = <a class="code" href="../../d0/d2/fehelper_8c.html#a1">fp_reg_read_lo</a>(f2);
01517     tmp_fr3 = <a class="code" href="../../d0/d2/fehelper_8c.html#a1">fp_reg_read_lo</a>(f3);
01518 
01519     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d3/fesupprt_8h.html#a20">fp_software_assistance_required</a>(ps, <a class="code" href="../../d2/d3/fetypes_8h.html#a458a420">op_fpcmp</a>, tmp_fr2, tmp_fr3)) {
01520         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o3">swa</a> = 1;
01521 
01522     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr3)) {
01523        <span class="keywordflow">if</span> ((<a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr2)   || <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr3)   ||
01524            (frel == <a class="code" href="../../d2/d3/fetypes_8h.html#a453a397">frelLT</a>)      || (frel == <a class="code" href="../../d2/d3/fetypes_8h.html#a453a401">frelNLT</a>)   ||
01525            (frel == <a class="code" href="../../d2/d3/fetypes_8h.html#a453a398">frelLE</a>)      || (frel == <a class="code" href="../../d2/d3/fetypes_8h.html#a453a402">frelNLE</a>))) {
01526               tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
01527            <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
01528                tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o0">v</a> = 1;
01529            }
01530        }
01531 
01532 
01533     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr3)) {
01534         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> = 1;
01535         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o1">dd</a>)
01536             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o1">d</a> = 1;
01537     }
01538     <span class="keywordflow">return</span>;
01539 }
01540 
01541 <span class="comment">// *******************************************************************</span>
01542 <span class="comment">// fcvt_exception_fault_check()</span>
01543 <span class="comment">// ********************************************************************</span>
01544 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a>
<a name="l01545"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a151">01545</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a12">fcvt_exception_fault_check</a>(
01546    EM_fp_reg_specifier f2,
01547    EM_opcode_sf_type sf,
01548    EM_boolean_t signed_form,
01549    EM_boolean_t trunc_form,
01550    <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a> *tmp_fp_env)
01551 {
01552    <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a>     tmp_res, fr2;
01553    <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a> tmp_fp_env_local;
01554 
01555    fr2 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f2];
01556    <a class="code" href="../../d0/d2/fehelper_8c.html#a2">fp_decode_environment</a>( <a class="code" href="../../d2/d3/fetypes_8h.html#a448a369">pc_none</a>, sf, tmp_fp_env );
01557    <span class="keywordflow">if</span> (trunc_form)
01558        tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o4">rc</a> = <a class="code" href="../../d2/d3/fetypes_8h.html#a455a415">rc_rz</a>;
01559 
01560    tmp_res          = <a class="code" href="../../d1/d2/fehelper_8h.html#a204">fp_reg_read</a>(fr2);
01561    memcpy ((<span class="keywordtype">char</span> *)(&amp;tmp_fp_env_local), (<span class="keywordtype">char</span> *)tmp_fp_env,
01562        <span class="keyword">sizeof</span> (<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a>)); 
01563    tmp_res          = <a class="code" href="../../d0/d2/fehelper_8c.html#a5">fp_ieee_rnd_to_int</a>( tmp_res, &amp;tmp_fp_env_local);
01564 
01565    <span class="keywordflow">if</span>( signed_form &amp;&amp; <a class="code" href="../../d1/d3/fesupprt_8h.html#a20">fp_software_assistance_required</a>(ps, <a class="code" href="../../d2/d3/fetypes_8h.html#a458a421">op_fcvt_fx</a>, fr2)) {
01566        tmp_fp_env-&gt;em_faults.swa = 1;
01567        <span class="keywordflow">return</span> (FP_ZERO);
01568 
01569    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !signed_form  &amp;&amp; <a class="code" href="../../d1/d3/fesupprt_8h.html#a20">fp_software_assistance_required</a>(ps, <a class="code" href="../../d2/d3/fetypes_8h.html#a458a423">op_fcvt_fxu</a>, fr2)) {
01570        tmp_fp_env-&gt;em_faults.swa = 1;
01571        <span class="keywordflow">return</span> (FP_ZERO);
01572    }
01573 
01574    <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(fr2)) {
01575        tmp_fp_env-&gt;flags.v = 1;
01576        tmp_res             = FP_QNAN;
01577        <span class="keywordflow">if</span> (!tmp_fp_env-&gt;controls.vd) {
01578            tmp_fp_env-&gt;em_faults.v = 1;
01579        }
01580 
01581    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr2)) {
01582        tmp_fp_env-&gt;flags.v = 1;
01583        <span class="keywordflow">if</span> (!tmp_fp_env-&gt;controls.vd) {
01584            tmp_fp_env-&gt;em_faults.v = 1;
01585        }
01586        tmp_res = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(fr2)?<a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(fr2):fr2;
01587 
01588    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( signed_form                                     &amp;&amp;
01589                (!<a class="code" href="../../d1/d2/fehelper_8h.html#a140">fp_lesser_or_equal</a>(FP_NEG_2_TO_63, tmp_res) ||
01590                 !<a class="code" href="../../d1/d2/fehelper_8h.html#a139">fp_less_than</a>(tmp_res,FP_POS_2_TO_63)) ) {
01591              tmp_fp_env-&gt;flags.v = 1;
01592              tmp_res             = FP_QNAN;
01593              <span class="keywordflow">if</span> (!tmp_fp_env-&gt;controls.vd)
01594                  tmp_fp_env-&gt;em_faults.v = 1;
01595 
01596    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( !signed_form                              &amp;&amp;
01597                (!<a class="code" href="../../d1/d2/fehelper_8h.html#a140">fp_lesser_or_equal</a>(FP_ZERO, tmp_res) ||
01598                 !<a class="code" href="../../d1/d2/fehelper_8h.html#a139">fp_less_than</a>(tmp_res,FP_POS_2_TO_64)) ) {
01599              tmp_fp_env-&gt;flags.v = 1;
01600              <span class="keywordflow">if</span> (!tmp_fp_env-&gt;controls.vd)
01601                 tmp_fp_env-&gt;em_faults.v = 1;
01602              tmp_res = FP_QNAN;
01603 
01604    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(fr2)) {
01605        tmp_fp_env-&gt;flags.d = 1;
01606        <span class="keywordflow">if</span>( !tmp_fp_env-&gt;controls.dd)
01607           tmp_fp_env-&gt;em_faults.d = 1;
01608    }
01609 
01610    <span class="keywordflow">return</span> (tmp_res);
01611 }
01612 
01613 <span class="comment">// *******************************************************************</span>
01614 <span class="comment">// fpcvt_exception_fault_check()</span>
01615 <span class="comment">// ********************************************************************</span>
01616 <a class="code" href="../../d8/d3/structpair__fp__reg__struct.html">EM_pair_fp_reg_type</a>
<a name="l01617"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a152">01617</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a13">fpcvt_exception_fault_check</a>(
01618    EM_fp_reg_specifier f2,
01619    EM_opcode_sf_type   sf,
01620    EM_boolean_t        signed_form,
01621    EM_boolean_t        trunc_form,
01622    <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a> *tmp_fp_env)
01623 {
01624 <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a>  tmp_fp_env_local;
01625 <a class="code" href="../../d8/d3/structpair__fp__reg__struct.html">EM_pair_fp_reg_type</a> tmp_reg_pair;
01626 <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a>      tmp_fr2 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f2];
01627 
01628     <a class="code" href="../../d0/d2/fehelper_8c.html#a2">fp_decode_environment</a>( <a class="code" href="../../d2/d3/fetypes_8h.html#a448a370">pc_simd</a>, sf, tmp_fp_env );
01629 
01630     tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a> = FP_ZERO;
01631     tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a> = FP_ZERO;
01632 
01633     <span class="keywordflow">if</span> (trunc_form)
01634         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o4">rc</a> = <a class="code" href="../../d2/d3/fetypes_8h.html#a455a415">rc_rz</a>;
01635 
01636 <span class="comment">// *************</span>
01637 <span class="comment">// high</span>
01638 <span class="comment">// **************</span>
01639     tmp_fr2             = <a class="code" href="../../d0/d2/fehelper_8c.html#a0">fp_reg_read_hi</a>(f2);
01640     tmp_fp_env_local    = *tmp_fp_env;
01641     tmp_fp_env_local.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o2">ss</a> = <a class="code" href="../../d2/d3/fetypes_8h.html#a459a439">ss_double_extended_64</a>;
01642     tmp_fp_env_local.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o3">es</a> = <a class="code" href="../../d2/d3/fetypes_8h.html#a460a443">es_seventeen_bits</a>;
01643     tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a>     = <a class="code" href="../../d0/d2/fehelper_8c.html#a5">fp_ieee_rnd_to_int</a>( tmp_fr2, &amp;tmp_fp_env_local);
01644 
01645     <span class="keywordflow">if</span> ( signed_form &amp;&amp;
01646          <a class="code" href="../../d1/d3/fesupprt_8h.html#a20">fp_software_assistance_required</a>(ps, <a class="code" href="../../d2/d3/fetypes_8h.html#a458a422">op_fpcvt_fx</a>, tmp_fr2)) {
01647         tmp_fp_env-&gt;hi_faults.swa = 1;
01648 
01649     } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !signed_form &amp;&amp;
01650                <a class="code" href="../../d1/d3/fesupprt_8h.html#a20">fp_software_assistance_required</a>(ps, <a class="code" href="../../d2/d3/fetypes_8h.html#a458a424">op_fpcvt_fxu</a>, tmp_fr2)) {
01651         tmp_fp_env-&gt;hi_faults.swa = 1;
01652 
01653     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr2)) {
01654         tmp_fp_env-&gt;hi_flags.v = 1;
01655         tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr2)?<a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(tmp_fr2):tmp_fr2;
01656         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;controls.vd)
01657             tmp_fp_env-&gt;hi_faults.v = 1;
01658 
01659 
01660     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (signed_form &amp;&amp;
01661                (!<a class="code" href="../../d1/d2/fehelper_8h.html#a140">fp_lesser_or_equal</a>(FP_NEG_2_TO_31, tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a>) ||
01662                 !<a class="code" href="../../d1/d2/fehelper_8h.html#a139">fp_less_than</a>(tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a>,FP_POS_2_TO_31)) ) {
01663        tmp_fp_env-&gt;hi_flags.v = 1;
01664        tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a> = FP_QNAN;
01665        <span class="keywordflow">if</span> (!tmp_fp_env-&gt;controls.vd)
01666           tmp_fp_env-&gt;hi_faults.v = 1;
01667 
01668     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!signed_form &amp;&amp;
01669                (!<a class="code" href="../../d1/d2/fehelper_8h.html#a140">fp_lesser_or_equal</a>(FP_ZERO, tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a>) ||
01670                 !<a class="code" href="../../d1/d2/fehelper_8h.html#a139">fp_less_than</a>(tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a>,FP_POS_2_TO_32)) ) {
01671        tmp_fp_env-&gt;hi_flags.v = 1;
01672        tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a> = FP_QNAN;
01673        <span class="keywordflow">if</span> (!tmp_fp_env-&gt;controls.vd)
01674           tmp_fp_env-&gt;hi_faults.v = 1;
01675 
01676     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr2)) {
01677             tmp_fp_env-&gt;hi_flags.d = 1;
01678             <span class="keywordflow">if</span> (!tmp_fp_env-&gt;controls.dd)
01679                 tmp_fp_env-&gt;hi_faults.d = 1;
01680     }
01681 
01682 <span class="comment">// *************</span>
01683 <span class="comment">// low</span>
01684 <span class="comment">// **************</span>
01685     tmp_fr2             = <a class="code" href="../../d0/d2/fehelper_8c.html#a1">fp_reg_read_lo</a>(f2);
01686     tmp_fp_env_local    = *tmp_fp_env;
01687     tmp_fp_env_local.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o2">ss</a> = <a class="code" href="../../d2/d3/fetypes_8h.html#a459a439">ss_double_extended_64</a>;
01688     tmp_fp_env_local.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o3">es</a> = <a class="code" href="../../d2/d3/fetypes_8h.html#a460a443">es_seventeen_bits</a>;
01689     tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a>     = <a class="code" href="../../d0/d2/fehelper_8c.html#a5">fp_ieee_rnd_to_int</a>( tmp_fr2, &amp;tmp_fp_env_local);
01690 
01691     <span class="keywordflow">if</span> ( signed_form &amp;&amp;
01692          <a class="code" href="../../d1/d3/fesupprt_8h.html#a20">fp_software_assistance_required</a>(ps, <a class="code" href="../../d2/d3/fetypes_8h.html#a458a422">op_fpcvt_fx</a>, tmp_fr2)) {
01693         tmp_fp_env-&gt;lo_faults.swa = 1;
01694 
01695     } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !signed_form &amp;&amp;
01696                <a class="code" href="../../d1/d3/fesupprt_8h.html#a20">fp_software_assistance_required</a>(ps, <a class="code" href="../../d2/d3/fetypes_8h.html#a458a424">op_fpcvt_fxu</a>, tmp_fr2)) {
01697         tmp_fp_env-&gt;lo_faults.swa = 1;
01698 
01699     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr2)) {
01700         tmp_fp_env-&gt;lo_flags.v = 1;
01701         tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr2)?<a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(tmp_fr2):tmp_fr2;
01702         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;controls.vd)
01703             tmp_fp_env-&gt;lo_faults.v = 1;
01704 
01705     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (signed_form &amp;&amp;
01706                (!<a class="code" href="../../d1/d2/fehelper_8h.html#a140">fp_lesser_or_equal</a>(FP_NEG_2_TO_31, tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a>) ||
01707                 !<a class="code" href="../../d1/d2/fehelper_8h.html#a139">fp_less_than</a>(tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a>,FP_POS_2_TO_31)) ) {
01708         tmp_fp_env-&gt;lo_flags.v = 1;
01709         tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a> = FP_QNAN;
01710         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;controls.vd)
01711            tmp_fp_env-&gt;lo_faults.v = 1;
01712 
01713     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!signed_form &amp;&amp;
01714                (!<a class="code" href="../../d1/d2/fehelper_8h.html#a140">fp_lesser_or_equal</a>(FP_ZERO, tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a>) ||
01715                 !<a class="code" href="../../d1/d2/fehelper_8h.html#a139">fp_less_than</a>(tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a>,FP_POS_2_TO_32)) ) {
01716         tmp_fp_env-&gt;lo_flags.v = 1;
01717         tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a> = FP_QNAN;
01718         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;controls.vd)
01719            tmp_fp_env-&gt;lo_faults.v = 1;
01720 
01721     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr2)) {
01722             tmp_fp_env-&gt;lo_flags.d = 1;
01723             <span class="keywordflow">if</span> (!tmp_fp_env-&gt;controls.dd)
01724                 tmp_fp_env-&gt;lo_faults.d = 1;
01725     }
01726 
01727     <span class="keywordflow">return</span> (tmp_reg_pair);
01728 }
01729 
01730 <span class="comment">// *******************************************************************</span>
01731 <span class="comment">// fma_exception_fault_check()</span>
01732 <span class="comment">// ********************************************************************</span>
01733 <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a>
<a name="l01734"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a153">01734</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a15">fma_exception_fault_check</a>(
01735     EM_fp_reg_specifier f2,
01736     EM_fp_reg_specifier f3, 
01737     EM_fp_reg_specifier f4,
01738     EM_opcode_pc_type   pc,
01739     EM_opcode_sf_type   sf,
01740     <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a>  *tmp_fp_env)
01741 {
01742     <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> tmp_res;
01743     <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> fr2, fr3, fr4;
01744    
01745 <span class="comment">// printf ("MACH DEBUG: BEGIN fma_exception_fault_check\n");</span>
01746     fr2 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f2];
01747     fr3 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f3];
01748     fr4 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f4];
01749 <span class="comment">// printf ("MACH DEBUG: FR2 = %x %x "LX"\n", fr2.sign, fr2.exponent, fr2.significand);</span>
01750 <span class="comment">// printf ("MACH DEBUG: FR3 = %x %x "LX"\n", fr3.sign, fr3.exponent, fr3.significand);</span>
01751 <span class="comment">// printf ("MACH DEBUG: FR4 = %x %x "LX"\n", fr4.sign, fr4.exponent, fr4.significand);</span>
01752 
01753     <a class="code" href="../../d0/d2/fehelper_8c.html#a2">fp_decode_environment</a>( pc, sf, tmp_fp_env );
01754 
01755     <span class="keywordflow">if</span>(f4==1 &amp;&amp; f2==0) {
01756        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d3/fesupprt_8h.html#a20">fp_software_assistance_required</a>(ps, <a class="code" href="../../d2/d3/fetypes_8h.html#a458a435">op_fnorm</a>, fr3, *tmp_fp_env)) {
01757           tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o3">swa</a> = 1;
01758           <span class="keywordflow">return</span> (FP_ZERO);
01759        }
01760     } <span class="keywordflow">else</span> {
01761        <span class="keywordflow">if</span> (<a class="code" href="../../d1/d3/fesupprt_8h.html#a20">fp_software_assistance_required</a>(ps, <a class="code" href="../../d2/d3/fetypes_8h.html#a458a425">op_fma</a>, fr2, fr3, fr4)) {
01762           tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o3">swa</a> = 1;
01763           <span class="keywordflow">return</span> (FP_ZERO);
01764        }
01765     }
01766 
01767     tmp_res = FP_ZERO;
01768 
01769     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(fr3) || <a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(fr4)) {
01770         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
01771         tmp_res = FP_QNAN;
01772         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
01773             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o0">v</a> = 1;
01774             <span class="keywordflow">return</span> (tmp_res);
01775         }
01776 
01777     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr3) || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr4)) {
01778          <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(fr3) || <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(fr4)) {
01779             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
01780             <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) 
01781                tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o0">v</a> = 1;
01782          }
01783 
01784          <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr4))
01785              tmp_res = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(fr4)?<a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(fr4):fr4;
01786          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr2))
01787              tmp_res = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(fr2)?<a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(fr2):fr2;
01788          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr3))
01789              tmp_res = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(fr3)?<a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(fr3):fr3;
01790 
01791     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (( <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(fr4) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(fr2) )
01792             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(fr4) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(fr2) )
01793    
01794                         || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(fr4) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(fr2) )
01795             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(fr4) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(fr2) )
01796  
01797                         || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(fr4) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(fr2) )
01798             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(fr4) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(fr2) )
01799 
01800             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(fr4) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(fr2) )
01801             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(fr4) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(fr2) )) {
01802 
01803         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
01804         tmp_res = FP_QNAN;
01805         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
01806             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o0">v</a> = 1;
01807             <span class="keywordflow">return</span> (tmp_res);
01808         }
01809 
01810     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(fr4)) || (<a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(fr4))) {
01811         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
01812         tmp_res = FP_QNAN;
01813         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
01814             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o0">v</a> = 1;
01815             <span class="keywordflow">return</span> (tmp_res);
01816         }
01817 
01818     
01819     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(fr3) || <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(fr4)) {
01820 <span class="comment">// printf ("MACH DEBUG: setting the D flag in fma_exception_fault_check\n");</span>
01821         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> = 1;
01822         <span class="keywordflow">if</span>(!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o1">dd</a>) { <span class="comment">// MACH DEBUG</span>
01823 <span class="comment">// printf ("MACH DEBUG: setting the D fault in fma_exception_fault_check\n");</span>
01824             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o1">d</a> = 1; 
01825       } <span class="comment">// MACH DEBUG</span>
01826     }
01827 
01828     <span class="keywordflow">return</span> (tmp_res);
01829 }
01830 
01831 <span class="comment">// *******************************************************************</span>
01832 <span class="comment">// fpma_exception_fault_check()</span>
01833 <span class="comment">// ********************************************************************</span>
01834 <a class="code" href="../../d8/d3/structpair__fp__reg__struct.html">EM_pair_fp_reg_type</a>
<a name="l01835"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a154">01835</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a14">fpma_exception_fault_check</a>(
01836     EM_fp_reg_specifier f2,
01837     EM_fp_reg_specifier f3,
01838     EM_fp_reg_specifier f4,
01839     EM_opcode_sf_type   sf,
01840     <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a>  *tmp_fp_env)
01841 {
01842 <a class="code" href="../../d8/d3/structpair__fp__reg__struct.html">EM_pair_fp_reg_type</a> tmp_reg_pair;
01843 <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a>      tmp_fr2 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f2], tmp_fr3 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f3], tmp_fr4 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f4];
01844 
01845     <a class="code" href="../../d0/d2/fehelper_8c.html#a2">fp_decode_environment</a>( <a class="code" href="../../d2/d3/fetypes_8h.html#a448a370">pc_simd</a>, sf, tmp_fp_env );
01846 
01847     tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a> = FP_ZERO;
01848     tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a> = FP_ZERO;
01849 
01850 <span class="comment">// *********</span>
01851 <span class="comment">// high</span>
01852 <span class="comment">// *********</span>
01853     tmp_fr2 = <a class="code" href="../../d0/d2/fehelper_8c.html#a0">fp_reg_read_hi</a>(f2);
01854     tmp_fr3 = <a class="code" href="../../d0/d2/fehelper_8c.html#a0">fp_reg_read_hi</a>(f3);
01855     tmp_fr4 = <a class="code" href="../../d0/d2/fehelper_8c.html#a0">fp_reg_read_hi</a>(f4);
01856 
01857     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d3/fesupprt_8h.html#a20">fp_software_assistance_required</a>(ps, <a class="code" href="../../d2/d3/fetypes_8h.html#a458a426">op_fpma</a>, tmp_fr2, tmp_fr3, tmp_fr4)) {
01858         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o3">swa</a> = 1;
01859 
01860     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr3) || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr4)) {
01861         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr3) || <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr4)) {
01862             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
01863             <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>)
01864                 tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o0">v</a> = 1;
01865         }
01866 
01867          <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr4))
01868              tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr4)?<a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(tmp_fr4):tmp_fr4;
01869          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr2))
01870              tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr2)?<a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(tmp_fr2):tmp_fr2;
01871          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr3))
01872              tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr3)?<a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(tmp_fr3):tmp_fr3;
01873 
01874     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (( <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(tmp_fr4)
01875                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr2) )
01876             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(tmp_fr4)
01877                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr2) )
01878 
01879             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(tmp_fr4)
01880                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr2) )
01881             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(tmp_fr4)
01882                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr2) )
01883 
01884             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr4)
01885                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr2) )
01886             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr4)
01887                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr2) )
01888 
01889             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr4)
01890                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr2) )
01891             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr4)
01892                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr2) )) {
01893         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
01894         tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a> = FP_QNAN;
01895         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>)
01896             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o0">v</a> = 1;
01897 
01898     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(tmp_fr4))
01899             || (<a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(tmp_fr4))) {
01900         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
01901         tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a> = FP_QNAN;
01902         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>)
01903             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o0">v</a> = 1;
01904 
01905 
01906     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr3) || <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr4)) {
01907 
01908         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> = 1;
01909         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o1">dd</a>)
01910             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o1">d</a> = 1;
01911     }
01912 
01913 <span class="comment">// *********</span>
01914 <span class="comment">// low</span>
01915 <span class="comment">// **********   </span>
01916     tmp_fr2 = <a class="code" href="../../d0/d2/fehelper_8c.html#a1">fp_reg_read_lo</a>(f2);
01917     tmp_fr3 = <a class="code" href="../../d0/d2/fehelper_8c.html#a1">fp_reg_read_lo</a>(f3);
01918     tmp_fr4 = <a class="code" href="../../d0/d2/fehelper_8c.html#a1">fp_reg_read_lo</a>(f4);
01919 
01920     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d3/fesupprt_8h.html#a20">fp_software_assistance_required</a>(ps, <a class="code" href="../../d2/d3/fetypes_8h.html#a458a426">op_fpma</a>, tmp_fr2, tmp_fr3, tmp_fr4)) {
01921         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o3">swa</a> = 1;
01922     }
01923 
01924     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr3) || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr4)) {
01925         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr3) || <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr4)) {
01926             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
01927             <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>)
01928                 tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o0">v</a> = 1;
01929         }
01930 
01931          <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr4))
01932              tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr4)?<a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(tmp_fr4):tmp_fr4;
01933          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr2))
01934              tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr2)?<a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(tmp_fr2):tmp_fr2;
01935          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr3))
01936              tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr3)?<a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(tmp_fr3):tmp_fr3;
01937 
01938     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (( <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(tmp_fr4)
01939                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr2) )
01940             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(tmp_fr4)
01941                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr2) )
01942 
01943             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(tmp_fr4)
01944                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr2) )
01945             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(tmp_fr4)
01946                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr2) )
01947 
01948             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr4)
01949                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr2) )
01950             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr4)
01951                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr2) )
01952 
01953             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr4)
01954                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr2) )
01955             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr4)
01956                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr2) )) {
01957 
01958         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
01959         tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a> = FP_QNAN;
01960         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>)
01961             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o0">v</a> = 1;
01962 
01963     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(tmp_fr4))
01964             || (<a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(tmp_fr4))) {
01965         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
01966         tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a> = FP_QNAN;
01967         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>)
01968             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o0">v</a> = 1;
01969 
01970     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr3) || <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr4)) {
01971         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> = 1;
01972         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o1">dd</a>)
01973             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o1">d</a> = 1;
01974     }
01975 
01976     <span class="keywordflow">return</span> (tmp_reg_pair);
01977 }
01978 
01979 
01980 <span class="comment">// *******************************************************************</span>
01981 <span class="comment">// fpminmax_exception_fault_check()</span>
01982 <span class="comment">// No return value</span>
01983 <span class="comment">// If input contains a NATVAL, just return.</span>
01984 <span class="comment">// Otherwise set flags appropriately so that fpsr will</span>
01985 <span class="comment">// be correct or a fault taken in caller.</span>
01986 <span class="comment">// ********************************************************************</span>
01987 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <span class="keywordtype">void</span> 
<a name="l01988"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a156">01988</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a9">fpminmax_exception_fault_check</a>(
01989     EM_uint_t f2,
01990     EM_uint_t f3,
01991     EM_opcode_sf_type sf,
01992     <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a> *tmp_fp_env)
01993 {
01994 <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a>      tmp_fr2 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f2], tmp_fr3 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f3];
01995 
01996 <span class="comment">// MACH</span>
01997     <a class="code" href="../../d0/d2/fehelper_8c.html#a2">fp_decode_environment</a>( <a class="code" href="../../d2/d3/fetypes_8h.html#a448a370">pc_simd</a>, sf, tmp_fp_env );
01998 
01999 <span class="comment">// ************</span>
02000 <span class="comment">// high</span>
02001 <span class="comment">// ************</span>
02002 
02003     tmp_fr2 = <a class="code" href="../../d0/d2/fehelper_8c.html#a0">fp_reg_read_hi</a>(f2);
02004     tmp_fr3 = <a class="code" href="../../d0/d2/fehelper_8c.html#a0">fp_reg_read_hi</a>(f3);
02005 
02006     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d3/fesupprt_8h.html#a20">fp_software_assistance_required</a>(ps, <a class="code" href="../../d2/d3/fetypes_8h.html#a458a428">op_fpminmax</a>, tmp_fr2, tmp_fr3)) {
02007         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o3">swa</a> = 1; 
02008 
02009     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr3)) {
02010         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02011         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
02012             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o0">v</a> = 1;
02013         }
02014 
02015     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr3)) {
02016         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> = 1;
02017         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o1">dd</a>) {
02018             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o1">d</a> = 1;
02019         }
02020     }
02021 
02022 <span class="comment">// ************</span>
02023 <span class="comment">// low</span>
02024 <span class="comment">// ************</span>
02025     tmp_fr2 = <a class="code" href="../../d0/d2/fehelper_8c.html#a1">fp_reg_read_lo</a>(f2);
02026     tmp_fr3 = <a class="code" href="../../d0/d2/fehelper_8c.html#a1">fp_reg_read_lo</a>(f3);
02027  
02028     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d3/fesupprt_8h.html#a20">fp_software_assistance_required</a>(ps, <a class="code" href="../../d2/d3/fetypes_8h.html#a458a428">op_fpminmax</a>, tmp_fr2, tmp_fr3)) {
02029         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o3">swa</a> = 1;
02030 
02031     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr3)) {
02032         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02033         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
02034             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o0">v</a> = 1;
02035         }
02036 
02037 
02038     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr3)) {
02039         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> = 1;
02040         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o1">dd</a>)
02041             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o1">d</a> = 1;
02042     }
02043 
02044     <span class="keywordflow">return</span>;
02045 }
02046 
02047 <span class="comment">// *******************************************************************</span>
02048 <span class="comment">// fminmax_exception_fault_check()</span>
02049 <span class="comment">// *******************************************************************</span>
02050 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <span class="keywordtype">void</span>
<a name="l02051"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a155">02051</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a8">fminmax_exception_fault_check</a>(
02052     EM_fp_reg_specifier f2,
02053     EM_fp_reg_specifier f3,
02054     EM_opcode_sf_type sf,
02055     <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a> *tmp_fp_env)
02056 {
02057 <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> fr2, fr3;
02058 
02059     fr2 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f2];
02060     fr3 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f3];
02061 
02062     <a class="code" href="../../d0/d2/fehelper_8c.html#a2">fp_decode_environment</a>( <a class="code" href="../../d2/d3/fetypes_8h.html#a448a369">pc_none</a>, sf, tmp_fp_env );
02063 
02064     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d3/fesupprt_8h.html#a20">fp_software_assistance_required</a>(ps, <a class="code" href="../../d2/d3/fetypes_8h.html#a458a427">op_fminmax</a>, fr2, fr3)) {
02065         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o3">swa</a> = 1;
02066     }
02067 
02068     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(fr3)) {
02069         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02070         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
02071             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o0">v</a> = 1;
02072         }
02073 
02074     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr3)) {
02075         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02076         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
02077             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o0">v</a> = 1;
02078         }
02079 
02080 
02081     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(fr3)) {
02082         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> = 1;
02083         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o1">dd</a>)
02084            tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o1">d</a> = 1;
02085     }
02086 
02087 }
02088 
02089 <span class="comment">// *******************************************************************</span>
02090 <span class="comment">// fms_fnma_()</span>
02091 <span class="comment">// *******************************************************************</span>
02092 <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a>
<a name="l02093"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a157">02093</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a16">fms_fnma_exception_fault_check</a>(
02094     EM_fp_reg_specifier f2,
02095     EM_fp_reg_specifier f3, 
02096     EM_fp_reg_specifier f4, 
02097     EM_opcode_pc_type   pc,
02098     EM_opcode_sf_type   sf,
02099     <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a>  *tmp_fp_env)
02100 {
02101 <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> fr2, fr3, fr4;
02102 <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> tmp_res;
02103 
02104     fr2 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f2];
02105     fr3 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f3];
02106     fr4 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f4];
02107 
02108     <a class="code" href="../../d0/d2/fehelper_8c.html#a2">fp_decode_environment</a>( pc, sf, tmp_fp_env );
02109 
02110     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d3/fesupprt_8h.html#a20">fp_software_assistance_required</a>(ps, <a class="code" href="../../d2/d3/fetypes_8h.html#a458a429">op_fms_fnma</a>, fr2, fr3, fr4)) {
02111         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o3">swa</a> = 1;
02112         <span class="keywordflow">return</span> (FP_ZERO);
02113     }
02114 
02115     tmp_res = FP_ZERO;
02116 
02117     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(fr3) || <a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(fr4)) {
02118         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02119         tmp_res = FP_QNAN;
02120         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
02121             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o0">v</a> = 1;
02122             <span class="keywordflow">return</span> (tmp_res);
02123         }
02124 
02125     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr3) || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr4)) {
02126          <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(fr3) || <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(fr4)) {
02127             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02128             <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>)  
02129                tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o0">v</a> = 1;
02130          }
02131 
02132 
02133          <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr4))
02134              tmp_res = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(fr4)?<a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(fr4):fr4;
02135          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr2))
02136              tmp_res = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(fr2)?<a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(fr2):fr2;
02137          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr3))
02138              tmp_res = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(fr3)?<a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(fr3):fr3;
02139 
02140     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (( <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(fr4) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(fr2) )
02141             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(fr4) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(fr2) )
02142             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(fr4) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(fr2) )
02143             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(fr4) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(fr2) )
02144             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(fr4) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(fr2) )
02145             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(fr4) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(fr2) )
02146             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(fr4) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(fr2) )
02147             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(fr4) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(fr2) )) {
02148         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02149         tmp_res = FP_QNAN;
02150         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
02151             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o0">v</a> = 1;
02152             <span class="keywordflow">return</span> (tmp_res);
02153         }
02154 
02155     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(fr4)) || (<a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(fr4))) {
02156         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02157         tmp_res = FP_QNAN;
02158         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
02159             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o0">v</a> = 1;
02160             <span class="keywordflow">return</span> (tmp_res);
02161         }
02162 
02163 
02164     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(fr3) || <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(fr4)) {
02165         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> = 1;
02166         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o1">dd</a>)
02167            tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o1">d</a> = 1;
02168     }
02169 
02170     <span class="keywordflow">return</span> (tmp_res);
02171 }
02172 
02173 <span class="comment">// *******************************************************************</span>
02174 <span class="comment">// fpms_fpnma_exception_fault_check()</span>
02175 <span class="comment">// ********************************************************************</span>
02176 <a class="code" href="../../d8/d3/structpair__fp__reg__struct.html">EM_pair_fp_reg_type</a>
<a name="l02177"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a158">02177</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a17">fpms_fpnma_exception_fault_check</a>(
02178     EM_fp_reg_specifier f2,
02179     EM_fp_reg_specifier f3,
02180     EM_fp_reg_specifier f4,
02181     EM_opcode_sf_type   sf,
02182     <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a>  *tmp_fp_env)
02183 {
02184 <a class="code" href="../../d8/d3/structpair__fp__reg__struct.html">EM_pair_fp_reg_type</a> tmp_reg_pair;
02185 <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a>      tmp_fr2 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f2], tmp_fr3 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f3], tmp_fr4 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f4];
02186 
02187     <a class="code" href="../../d0/d2/fehelper_8c.html#a2">fp_decode_environment</a>( <a class="code" href="../../d2/d3/fetypes_8h.html#a448a370">pc_simd</a>, sf, tmp_fp_env );
02188 
02189     tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a> = FP_ZERO;
02190     tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a> = FP_ZERO;
02191 
02192 <span class="comment">// ***************</span>
02193 <span class="comment">// high</span>
02194 <span class="comment">// ***************</span>
02195     tmp_fr2 = <a class="code" href="../../d0/d2/fehelper_8c.html#a0">fp_reg_read_hi</a>(f2);
02196     tmp_fr3 = <a class="code" href="../../d0/d2/fehelper_8c.html#a0">fp_reg_read_hi</a>(f3);
02197     tmp_fr4 = <a class="code" href="../../d0/d2/fehelper_8c.html#a0">fp_reg_read_hi</a>(f4);
02198 
02199     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d3/fesupprt_8h.html#a20">fp_software_assistance_required</a>(ps, <a class="code" href="../../d2/d3/fetypes_8h.html#a458a430">op_fpms_fpnma</a>, tmp_fr2, tmp_fr3, tmp_fr4)) {
02200         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o3">swa</a> = 1;
02201 
02202     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(tmp_fr3) || <a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(tmp_fr4)) {
02203         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02204         tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a>        = FP_QNAN;
02205         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>)
02206             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o0">v</a> = 1;
02207 
02208     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr3) || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr4)) {
02209         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr3) || <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr4)) {
02210             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02211             <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>)
02212                 tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o0">v</a> = 1;
02213         }
02214 
02215          <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr4))
02216              tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr4)?<a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(tmp_fr4):tmp_fr4;
02217          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr2))
02218              tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr2)?<a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(tmp_fr2):tmp_fr2;
02219          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr3))
02220              tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr3)?<a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(tmp_fr3):tmp_fr3;
02221 
02222     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (( <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(tmp_fr4)
02223                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr2) )
02224             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(tmp_fr4)
02225                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr2) )
02226             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(tmp_fr4)
02227                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr2) )
02228             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(tmp_fr4)
02229                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr2) )
02230             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr4)
02231                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr2) )
02232             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr4)
02233                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr2) )
02234             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr4)
02235                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr2) )
02236             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr4)
02237                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr2) )) {
02238         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02239         tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a>        = FP_QNAN;
02240         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>)
02241             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o0">v</a> = 1;
02242 
02243     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(tmp_fr4))
02244             || (<a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(tmp_fr4))) {
02245         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02246         tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a> = FP_QNAN;
02247         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>)
02248             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o0">v</a> = 1;
02249 
02250     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr3) || <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr4)) {
02251         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> = 1;
02252         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o1">dd</a>)
02253             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o1">d</a> = 1;
02254     }
02255 
02256 <span class="comment">// ***************</span>
02257 <span class="comment">// low</span>
02258 <span class="comment">// ***************</span>
02259     tmp_fr2 = <a class="code" href="../../d0/d2/fehelper_8c.html#a1">fp_reg_read_lo</a>(f2);
02260     tmp_fr3 = <a class="code" href="../../d0/d2/fehelper_8c.html#a1">fp_reg_read_lo</a>(f3);
02261     tmp_fr4 = <a class="code" href="../../d0/d2/fehelper_8c.html#a1">fp_reg_read_lo</a>(f4);
02262 
02263     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d3/fesupprt_8h.html#a20">fp_software_assistance_required</a>(ps, <a class="code" href="../../d2/d3/fetypes_8h.html#a458a430">op_fpms_fpnma</a>, tmp_fr2, tmp_fr3, tmp_fr4)) {
02264         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o3">swa</a> = 1;
02265 
02266     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(tmp_fr3) || <a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(tmp_fr4)) {
02267         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02268         tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a> = FP_QNAN;
02269         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>)
02270             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o0">v</a> = 1;
02271 
02272     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr3) || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr4)) {
02273         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr3) || <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr4)) {
02274             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02275             <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>)
02276                 tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o0">v</a> = 1;
02277         }
02278 
02279          <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr4))
02280              tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr4)?<a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(tmp_fr4):tmp_fr4;
02281          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr2))
02282              tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr2)?<a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(tmp_fr2):tmp_fr2;
02283          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr3))
02284              tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr3)?<a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(tmp_fr3):tmp_fr3;
02285 
02286     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (( <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(tmp_fr4)
02287                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr2) )
02288             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(tmp_fr4)
02289                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr2) )
02290             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(tmp_fr4)
02291                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr2) )
02292             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(tmp_fr4)
02293                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr2) )
02294             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr4)
02295                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr2) )
02296             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr4)
02297                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr2) )
02298             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr4)
02299                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr2) )
02300             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr4)
02301                                      &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(tmp_fr2) )) {
02302         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02303         tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a> = FP_QNAN;
02304         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>)
02305             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o0">v</a> = 1;
02306 
02307     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(tmp_fr4))
02308             || (<a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(tmp_fr4))) {
02309         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02310         tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a> = FP_QNAN;
02311         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>)
02312             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o0">v</a> = 1;
02313 
02314     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr3) || <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr4)) {
02315         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> = 1;
02316         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o1">dd</a>)
02317             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o1">d</a> = 1;
02318     }
02319 
02320     <span class="keywordflow">return</span> (tmp_reg_pair);
02321 }
02322 
02323 
02324 
02325 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a>
<a name="l02326"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a161">02326</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a161">fp_max_or_infinity</a>(EM_uint_t sign, <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a> *tmp_fp_env,
02327      EM_uint_t e_max, <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> max_significand)
02328 {
02329     <a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a> tmp_res;
02330     tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a> = sign;
02331 
02332     <span class="keywordflow">if</span> (tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o4">rc</a> == <a class="code" href="../../d2/d3/fetypes_8h.html#a455a413">rc_rm</a>) {
02333         <span class="keywordflow">if</span> (tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a>) {
02334             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>    = FP_DP_EXP_ONES;
02335             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a> = U128_0x80000000000000000000000000000000;
02336         }<span class="keywordflow">else</span> {
02337             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>    = e_max;
02338             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a> = max_significand;
02339         }
02340 
02341     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o4">rc</a> == <a class="code" href="../../d2/d3/fetypes_8h.html#a455a415">rc_rz</a>) {
02342         tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>    = e_max;
02343         tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a> = max_significand;
02344 
02345     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o4">rc</a> == <a class="code" href="../../d2/d3/fetypes_8h.html#a455a414">rc_rp</a>) {
02346         <span class="keywordflow">if</span> (tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a>) {
02347             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>    = e_max;
02348             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a> = max_significand;
02349         }<span class="keywordflow">else</span> {
02350             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>    = FP_DP_EXP_ONES;
02351             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a> = U128_0x80000000000000000000000000000000;
02352         }
02353 
02354     } <span class="keywordflow">else</span> {
02355         tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>    = FP_DP_EXP_ONES;
02356         tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a> = U128_0x80000000000000000000000000000000;
02357     }
02358 
02359     <span class="keywordflow">return</span>(tmp_res);
02360 }
02361 
02362 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a>
<a name="l02363"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a162">02363</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a162">fp_mul</a>(<a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> fr3, <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> fr4)
02364 {
02365     <a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a> tmp_res;
02366     <a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a> normalize_count;
02367 
02368 <span class="comment">// all cases which might have faulted have been screened out </span>
02369 <span class="comment">// we still may trap on overflow, underflow and/or inexact later</span>
02370 
02371     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(fr3) || <a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(fr4)) {
02372             <span class="comment">/* correctly signed zero */</span>
02373         tmp_res = <a class="code" href="../../d1/d2/fehelper_8h.html#a47">fp_fr_to_dp</a>(FP_ZERO);
02374         tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a> = fr3.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a> ^ fr4.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>;
02375     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(fr3) || <a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(fr4)) {
02376             <span class="comment">/* correctly signed inf*/</span>
02377         tmp_res = <a class="code" href="../../d1/d2/fehelper_8h.html#a47">fp_fr_to_dp</a>(FP_INFINITY);
02378         tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a> = fr3.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a> ^ fr4.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>;
02379     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a188">fp_is_pseudo_zero</a>(fr3) || <a class="code" href="../../d1/d2/fehelper_8h.html#a188">fp_is_pseudo_zero</a>(fr4)) {
02380             <span class="comment">/* pseudo zero  if one operand is a pseudo-zero, return real zero.</span>
02381 <span class="comment">               pz * NaN = Nan, but we already tested for Nan                   */</span>
02382         tmp_res = <a class="code" href="../../d1/d2/fehelper_8h.html#a47">fp_fr_to_dp</a>(FP_ZERO);
02383         tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a> = fr3.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a> ^ fr4.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>;
02384     } <span class="keywordflow">else</span> {
02385             <span class="comment">/* (un)normal * (un)normal */</span>
02386         tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a>         = fr3.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a> ^ fr4.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>;
02387         tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>     = (<a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a>)(
02388                                          (((<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)fr3.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a>)-FP_REG_BIAS)
02389                                        + (((<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)fr4.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a>)-FP_REG_BIAS)
02390                                        + FP_DP_BIAS);
02391                 <span class="comment">/* x.xxx (64-bits) * y.yyy (64-bits)</span>
02392 <span class="comment">                =&gt; zz.zzzzzz (128-bits) */</span>
02393         tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a26">fp_U64_x_U64_to_U128</a>(fr3.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a>,
02394                                                 fr4.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a>);
02395         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a197">fp_U128_lead0</a>(tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>) == 0) {
02396                 <span class="comment">/* 1.xxx (64-bits) * 1.yyy (64-bits)</span>
02397 <span class="comment">                =&gt; 1z.zzzzzz (128-bits) */</span>
02398             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> += 1;
02399                 <span class="comment">/* 1z.zzzzzz</span>
02400 <span class="comment">                =&gt; 1.zzzzzzz (128-bits) */</span>
02401         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a197">fp_U128_lead0</a>(tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>) == 1) {
02402                 <span class="comment">/* 1.xxx (64-bits) * 1.yyy (64-bits)</span>
02403 <span class="comment">                =&gt; 0z.zzzzzz (128-bits) */</span>
02404             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a37">fp_U128_lsh</a>(tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>,1);
02405                 <span class="comment">/* 0z.zzzzzz =&gt; z.zzzzzz0 (128-bits) */</span>
02406         } <span class="keywordflow">else</span> {
02407                 <span class="comment">/* 0.xxx (64-bits) * 0.yyy (64-bits)</span>
02408 <span class="comment">                =&gt; 00.zzzzzz (128-bits) all unsigned int's */</span>
02409             normalize_count = <a class="code" href="../../d1/d2/fehelper_8h.html#a197">fp_U128_lead0</a>(tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>);
02410             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> -= normalize_count-1;
02411             tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a37">fp_U128_lsh</a>(tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>,
02412                                                  normalize_count);
02413         }
02414     }
02415     tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a> = 0;
02416     <span class="keywordflow">return</span>(tmp_res);
02417 }
02418 
02419 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a>
<a name="l02420"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a163">02420</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a163">fp_normalize</a>(<a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> freg)
02421 {
02422     <a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a> tmp_normalize_count;
02423 
02424     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(freg) || <a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(freg) || <a class="code" href="../../d1/d2/fehelper_8h.html#a183">fp_is_normal</a>(freg)
02425     || <a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(freg) || <a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(freg) || <a class="code" href="../../d1/d2/fehelper_8h.html#a179">fp_is_natval</a>(freg))
02426         <span class="keywordflow">return</span> (freg);
02427 
02428     tmp_normalize_count = <a class="code" href="../../d1/d2/fehelper_8h.html#a41">fp_U64_lead0</a>(freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a>);
02429     <span class="keywordflow">if</span> (tmp_normalize_count == 64) { <span class="comment">/* ftz pseudo-zero */</span>
02430         <span class="keywordflow">if</span>(freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a>)
02431             freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> = 0;
02432         <span class="keywordflow">return</span> (freg);
02433     } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> == 1) {
02434         <span class="keywordflow">return</span>(freg);
02435 
02436 
02437     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((((<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a>) - tmp_normalize_count) &lt;= 0) {
02438         tmp_normalize_count = freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> -1;
02439         freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a>       = 1;
02440         freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a>  &lt;&lt;= tmp_normalize_count;
02441         <span class="keywordflow">return</span> (freg);
02442 
02443     } <span class="keywordflow">else</span> { <span class="comment">/* normalize */</span>
02444         freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> -= tmp_normalize_count;
02445         freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> &lt;&lt;= tmp_normalize_count;
02446         <span class="keywordflow">return</span>(freg);
02447     }
02448 }
02449 
02450 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a>
<a name="l02451"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a164">02451</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a164">fp_normalize_dp</a>(<a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a> fp_dp)
02452 {
02453     <a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a> tmp_normalize_count;
02454 
02455     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a178">fp_is_nan_dp</a>(fp_dp) || <a class="code" href="../../d1/d2/fehelper_8h.html#a176">fp_is_inf_dp</a>(fp_dp) || <a class="code" href="../../d1/d2/fehelper_8h.html#a184">fp_is_normal_dp</a>(fp_dp)
02456     || <a class="code" href="../../d1/d2/fehelper_8h.html#a195">fp_is_zero_dp</a>(fp_dp))
02457         <span class="keywordflow">return</span> (fp_dp);
02458     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a193">fp_is_unsupported_dp</a>(fp_dp)) <span class="comment">/* unsupported are turned into nans */</span>
02459         <span class="keywordflow">return</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a47">fp_fr_to_dp</a>(FP_QNAN));
02460     tmp_normalize_count = <a class="code" href="../../d1/d2/fehelper_8h.html#a197">fp_U128_lead0</a>(fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>);
02461     <span class="keywordflow">if</span> (tmp_normalize_count == 128) { <span class="comment">/* ftz pseudo-zero */</span>
02462         <span class="keywordflow">if</span> (fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>)
02463             fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> = 0;
02464         <span class="keywordflow">return</span> (fp_dp);
02465         
02466     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((((<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a>) - tmp_normalize_count) &lt;= 0) {
02467         <span class="comment">/* ftz register file format (pseudo-)denormals */</span>
02468         fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> = 0;
02469         fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a> = U128_0;
02470         <span class="keywordflow">return</span> (fp_dp);
02471     } <span class="keywordflow">else</span> { <span class="comment">/* normalize */</span>
02472         fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> -= tmp_normalize_count;
02473         fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a37">fp_U128_lsh</a>(fp_dp.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>,
02474                                            tmp_normalize_count);
02475         <span class="keywordflow">return</span>(fp_dp);
02476     }
02477 }
02478 
02479 
02480 <a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a>
<a name="l02481"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a165">02481</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a165">fp82_fp_fr_to_dp</a>(<a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> fr1)
02482 {
02483     <a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a> tmp_res;
02484     tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a> = fr1.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>;
02485     <span class="keywordflow">if</span> (fr1.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> == 0)
02486         tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> = 0;
02487     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fr1.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> == FP_REG_EXP_ONES)
02488         tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> = FP_DP_EXP_ONES;
02489     <span class="keywordflow">else</span>
02490         tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> = (<a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a>)(((<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)fr1.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a>)
02491                                    - FP_REG_BIAS + FP_DP_BIAS);
02492 
02493     tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> = fr1.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a>;
02494     tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> = U64_0;
02495     tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o0">sticky</a> = 0;
02496     <span class="keywordflow">return</span>(<a class="code" href="../../d1/d2/fehelper_8h.html#a164">fp_normalize_dp</a>(tmp_res));
02497 }
02498 
02499 <span class="comment">// *******************************************************************</span>
02500 <span class="comment">// frcpa_exception_fault_check()</span>
02501 <span class="comment">// *******************************************************************</span>
02502 <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a>
<a name="l02503"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a167">02503</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a18">frcpa_exception_fault_check</a>(
02504    EM_fp_reg_specifier f2,
02505    EM_fp_reg_specifier f3, 
02506    EM_opcode_sf_type   sf,
02507    <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a>  *tmp_fp_env)
02508 {
02509     <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> fr2, fr3;
02510     <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> tmp_res;
02511     <a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a> estimated_exponent;
02512 
02513     fr2 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f2];
02514     fr3 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f3];
02515     <a class="code" href="../../d0/d2/fehelper_8c.html#a2">fp_decode_environment</a>( <a class="code" href="../../d2/d3/fetypes_8h.html#a448a369">pc_none</a>, sf, tmp_fp_env );
02516 
02517     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d3/fesupprt_8h.html#a20">fp_software_assistance_required</a>(ps, <a class="code" href="../../d2/d3/fetypes_8h.html#a458a431">op_frcpa</a>, fr2, fr3) ) {
02518         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o3">swa</a> = 1;
02519         <span class="keywordflow">return</span> (FP_ZERO);
02520     }
02521 
02522     tmp_res = FP_ZERO;
02523 
02524     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(fr3)) {
02525         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02526         tmp_res             = FP_QNAN;
02527 
02528         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
02529             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o0">v</a> = 1;
02530         }
02531 
02532     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr3)) {
02533          <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(fr3)) {
02534              tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02535              <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
02536                  tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o0">v</a> = 1;
02537              }
02538          }
02539          <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr2)) {
02540              tmp_res = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(fr2)?<a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(fr2):fr2;
02541          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr3)) {
02542              tmp_res = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(fr3)?<a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(fr3):fr3;
02543          }
02544 
02545     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( (<a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(fr2)  &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(fr3))
02546               || ( (<a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a188">fp_is_pseudo_zero</a>(fr2))
02547                 &amp;&amp; (<a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(fr3) || <a class="code" href="../../d1/d2/fehelper_8h.html#a188">fp_is_pseudo_zero</a>(fr3)) ) ) {
02548         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02549         tmp_res = FP_QNAN;
02550         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
02551             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o0">v</a> = 1;
02552         }
02553 
02554     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (  ( ( <a class="code" href="../../d1/d2/fehelper_8h.html#a183">fp_is_normal</a>(fr2) &amp;&amp; !<a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(fr2) )
02555                 || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(fr2)  &amp;&amp; !<a class="code" href="../../d1/d2/fehelper_8h.html#a188">fp_is_pseudo_zero</a>(fr2) ) )
02556               &amp;&amp; (   <a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(fr3)   ||  <a class="code" href="../../d1/d2/fehelper_8h.html#a188">fp_is_pseudo_zero</a>(fr3) ) ) {
02557         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o2">z</a> = 1;
02558         tmp_res = FP_INFINITY;
02559         tmp_res.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a> = fr2.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a> ^ fr3.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>;
02560         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o2">zd</a>) {
02561             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o2">z</a> = 1;
02562         }
02563 
02564 
02565     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(fr3)) {
02566         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> = 1;
02567         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o1">dd</a>) {
02568             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o1">d</a> = 1;
02569         }
02570     } 
02571 <span class="comment">/************************************************************</span>
02572 <span class="comment">This is the architecturally mandated swa fault check.</span>
02573 <span class="comment"></span>
02574 <span class="comment">The precision of the working type is 17-bit exponent.</span>
02575 <span class="comment">   fp_normalize() will normalize except in the case of a register denormal.</span>
02576 <span class="comment">   In this context, fp_is_unorm() returns 1 if integer bit is 0</span>
02577 <span class="comment">   and that occurs when fr3.exponent &lt; emin.</span>
02578 <span class="comment">Note that the estimated exponent is unbiased, because the bias</span>
02579 <span class="comment">is subtracted out.</span>
02580 <span class="comment">*************************************************************/</span>
02581     <span class="keywordflow">if</span> ( !<a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(fr2) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a174">fp_is_finite</a>(fr2) &amp;&amp; !<a class="code" href="../../d1/d2/fehelper_8h.html#a188">fp_is_pseudo_zero</a>(fr2)
02582       &amp;&amp; !<a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a174">fp_is_finite</a>(fr3) &amp;&amp; !<a class="code" href="../../d1/d2/fehelper_8h.html#a188">fp_is_pseudo_zero</a>(fr3)
02583        ) {
02584 
02585         fr2 = <a class="code" href="../../d1/d2/fehelper_8h.html#a163">fp_normalize</a>(<a class="code" href="../../d1/d2/fehelper_8h.html#a204">fp_reg_read</a>(fr2));
02586         fr3 = <a class="code" href="../../d1/d2/fehelper_8h.html#a163">fp_normalize</a>(<a class="code" href="../../d1/d2/fehelper_8h.html#a204">fp_reg_read</a>(fr3));
02587 
02588         estimated_exponent = (<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)(fr2.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a>)
02589                            - (<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)(fr3.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a>);
02590         
02591             <span class="keywordflow">if</span> ( <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(fr3) 
02592           || ( fr3.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a>       &gt;=  (FP_REG_BIAS+FP_REG_BIAS-2) )
02593           || ( estimated_exponent &gt;=  ((<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)(FP_REG_BIAS)) )
02594           || ( estimated_exponent &lt;= (2 - (<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)FP_REG_BIAS) )
02595           || ( fr2.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a>       &lt;= (<a class="code" href="../../d2/d3/fetypes_8h.html#a459a439">ss_double_extended_64</a>)     )
02596            ) {
02597                  tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o3">swa</a> = 1; 
02598         }
02599     }
02600     <span class="keywordflow">return</span> (tmp_res);
02601 }
02602 
02603 <span class="comment">// *******************************************************************</span>
02604 <span class="comment">// fprcpa_exception_fault_check()</span>
02605 <span class="comment">// *******************************************************************</span>
02606 <a class="code" href="../../d8/d3/structpair__fp__reg__struct.html">EM_pair_fp_reg_type</a>
<a name="l02607"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a168">02607</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a19">fprcpa_exception_fault_check</a>(
02608    EM_fp_reg_specifier    f2,
02609    EM_fp_reg_specifier    f3,
02610    EM_opcode_sf_type      sf,
02611    <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a>     *tmp_fp_env, 
02612    <a class="code" href="../../d7/d8/structEM__limits__check__fprcpa__struct.html">EM_limits_check_fprcpa</a>  *limits_check)
02613 {
02614 <a class="code" href="../../d8/d3/structpair__fp__reg__struct.html">EM_pair_fp_reg_type</a> tmp_reg_pair;
02615 <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a>      tmp_fr2 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f2], tmp_fr3 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f3];
02616 <a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>            estimated_exponent;
02617 
02618     <a class="code" href="../../d0/d2/fehelper_8c.html#a2">fp_decode_environment</a>( <a class="code" href="../../d2/d3/fetypes_8h.html#a448a370">pc_simd</a>, sf, tmp_fp_env );
02619 
02620     tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a> = FP_ZERO;
02621     tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a> = FP_ZERO;
02622 
02623 <span class="comment">// ************</span>
02624 <span class="comment">// high</span>
02625 <span class="comment">// ************</span>
02626     tmp_fr2 = <a class="code" href="../../d0/d2/fehelper_8c.html#a0">fp_reg_read_hi</a>(f2);
02627     tmp_fr3 = <a class="code" href="../../d0/d2/fehelper_8c.html#a0">fp_reg_read_hi</a>(f3);
02628 
02629     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d3/fesupprt_8h.html#a20">fp_software_assistance_required</a>(ps, <a class="code" href="../../d2/d3/fetypes_8h.html#a458a432">op_fprcpa</a>, tmp_fr2, tmp_fr3)) {
02630         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o3">swa</a> = 1;
02631 
02632     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr3)) {
02633         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr3)) {
02634             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02635             <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
02636                 tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o0">v</a> = 1;
02637             }
02638         }
02639         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr2)) {
02640             tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr2)
02641                             ? <a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(tmp_fr2) : tmp_fr2;
02642         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr3)) {
02643             tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr3)
02644                             ? <a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(tmp_fr3) : tmp_fr3;
02645         }
02646 
02647 <span class="comment">/*******************************************************************************</span>
02648 <span class="comment">(f2 and f3 are inf) or (f2 and f3 are 0); returns qnan</span>
02649 <span class="comment">********************************************************************************/</span>
02650     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( (<a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(tmp_fr2)  &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(tmp_fr3)  )
02651              || (<a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(tmp_fr2) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(tmp_fr3) ) ) {
02652         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02653         tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a> = FP_QNAN;
02654         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
02655             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o0">v</a> = 1;
02656         }
02657 <span class="comment">/*******************************************************************************</span>
02658 <span class="comment">(f2 is non-zero (normal or denormal but not inf) and f3 is zero; returns inf</span>
02659 <span class="comment">The reason for the "but not inf" is because inf/0 shoudl not set the</span>
02660 <span class="comment">divide-by-zero flag.</span>
02661 <span class="comment">********************************************************************************/</span>
02662     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( !<a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(tmp_fr2) &amp;&amp; !<a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(tmp_fr2) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(tmp_fr3) ) {
02663         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o2">z</a> = 1;
02664         tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a>        = FP_INFINITY;
02665         tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a>.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>   = tmp_fr2.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a> ^ tmp_fr3.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>;
02666         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o2">zd</a>) {
02667             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o2">z</a> = 1;
02668         }
02669 
02670     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr3)) {
02671         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> = 1;
02672         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o1">dd</a>) {
02673             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o1">d</a> = 1;
02674         }
02675     } 
02676 
02677     <span class="keywordflow">if</span> ( !<a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(tmp_fr2) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a174">fp_is_finite</a>(tmp_fr2)
02678       &amp;&amp; !<a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a174">fp_is_finite</a>(tmp_fr3) ) {
02679 
02680         tmp_fr2 = <a class="code" href="../../d1/d2/fehelper_8h.html#a163">fp_normalize</a>(tmp_fr2);
02681 
02682         <span class="keywordflow">if</span> ( <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr3) ) {
02683             limits_check-&gt;<a class="code" href="../../d7/d8/structEM__limits__check__fprcpa__struct.html#o0">hi_fr3</a>        = 1; <span class="comment">/* recip(fr3_hi) not rep. */</span>
02684             tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a>             = FP_INFINITY;  
02685             tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a>.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>        = tmp_fr3.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>;
02686             tmp_fr3                     = <a class="code" href="../../d1/d2/fehelper_8h.html#a163">fp_normalize</a>(tmp_fr3);
02687 
02688         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( tmp_fr3.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> &gt;= (FP_REG_BIAS+FP_SGL_BIAS-2) ) {
02689             limits_check-&gt;<a class="code" href="../../d7/d8/structEM__limits__check__fprcpa__struct.html#o0">hi_fr3</a>        = 1; <span class="comment">/* recip(fr3_hi) not rep. */</span>
02690             tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a>             = FP_ZERO;             
02691             tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a>.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>        = tmp_fr3.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>;
02692         }
02693 
02694         estimated_exponent = (<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)tmp_fr2.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a>
02695                            - (<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)tmp_fr3.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a>;
02696 
02697 
02698         <span class="keywordflow">if</span> (  (estimated_exponent &gt;= (((<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)(FP_SGL_BIAS)))          )
02699            || (estimated_exponent &lt;= (2-((<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)FP_SGL_BIAS))            )
02700            || (tmp_fr2.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a>   &lt;= (<a class="code" href="../../d2/d3/fetypes_8h.html#a459a437">ss_single_24</a>+FP_REG_BIAS-FP_SGL_BIAS) )
02701            ) {
02702             limits_check-&gt;<a class="code" href="../../d7/d8/structEM__limits__check__fprcpa__struct.html#o1">hi_fr2_or_quot</a> = 1; <span class="comment">/* hi est. quot. or fr2_hi */</span>
02703         }
02704     }
02705 
02706 <span class="comment">// ************</span>
02707 <span class="comment">// low</span>
02708 <span class="comment">// ************</span>
02709     tmp_fr2 = <a class="code" href="../../d0/d2/fehelper_8c.html#a1">fp_reg_read_lo</a>(f2);
02710     tmp_fr3 = <a class="code" href="../../d0/d2/fehelper_8c.html#a1">fp_reg_read_lo</a>(f3);
02711 
02712     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d3/fesupprt_8h.html#a20">fp_software_assistance_required</a>(ps, <a class="code" href="../../d2/d3/fetypes_8h.html#a458a432">op_fprcpa</a>, tmp_fr2, tmp_fr3)) {
02713         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o3">swa</a> = 1;
02714 
02715     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr3)) {
02716         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr3)) {
02717             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02718             <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
02719                 tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o0">v</a> = 1;
02720             }
02721         }
02722         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr2)) {
02723             tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr2)
02724                             ? <a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(tmp_fr2) : tmp_fr2;
02725         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr3)) {
02726             tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr3)
02727                             ? <a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(tmp_fr3) : tmp_fr3;
02728         }
02729 <span class="comment">/*******************************************************************************</span>
02730 <span class="comment">(f2 and f3 are inf) or (f2 and f3 are 0); returns qnan</span>
02731 <span class="comment">********************************************************************************/</span>
02732    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ( <a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(tmp_fr2)  &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(tmp_fr3)  )
02733             || ( <a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(tmp_fr2) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(tmp_fr3) ) ) {
02734         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02735         tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a>        = FP_QNAN;
02736         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
02737             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o0">v</a> = 1;
02738         }
02739 <span class="comment">/*******************************************************************************</span>
02740 <span class="comment">(f2 is non-zero (normal or denormal but not inf) and f3 is zero; returns inf</span>
02741 <span class="comment">The reason for the "but not inf" is because inf/0 should not set the</span>
02742 <span class="comment">divide-by-zero flag.</span>
02743 <span class="comment">********************************************************************************/</span>
02744     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( !<a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(tmp_fr2) &amp;&amp; !<a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(tmp_fr2) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(tmp_fr3) ) {
02745         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o2">z</a> = 1;
02746         tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a> = FP_INFINITY;
02747         tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a>.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a> = tmp_fr2.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a> ^ tmp_fr3.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>;
02748         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o2">zd</a>) {
02749             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o2">z</a> = 1;
02750         }
02751 
02752     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr2) || <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr3)) {
02753         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> = 1;
02754         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o1">dd</a>) {
02755             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o1">d</a> = 1;
02756         }
02757     } 
02758 
02759     <span class="keywordflow">if</span> ( !<a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(tmp_fr2) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a174">fp_is_finite</a>(tmp_fr2)
02760       &amp;&amp; !<a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a174">fp_is_finite</a>(tmp_fr3) ) {
02761 
02762         tmp_fr2 = <a class="code" href="../../d1/d2/fehelper_8h.html#a163">fp_normalize</a>(tmp_fr2);
02763 
02764         <span class="keywordflow">if</span> ( <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr3) ) {
02765             limits_check-&gt;<a class="code" href="../../d7/d8/structEM__limits__check__fprcpa__struct.html#o2">lo_fr3</a> = 1; <span class="comment">/* recip(fr3_lo) not rep. */</span>
02766             tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a>      = FP_INFINITY;          
02767             tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a>.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>        = tmp_fr3.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>;
02768             tmp_fr3              = <a class="code" href="../../d1/d2/fehelper_8h.html#a163">fp_normalize</a>(tmp_fr3);
02769 
02770         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( tmp_fr3.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> &gt;= (FP_REG_BIAS+FP_SGL_BIAS-2) ) {
02771             limits_check-&gt;<a class="code" href="../../d7/d8/structEM__limits__check__fprcpa__struct.html#o2">lo_fr3</a> = 1; <span class="comment">/* recip(fr3_lo) not rep. */</span>
02772             tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a>      = FP_ZERO;             
02773             tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a>.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>        = tmp_fr3.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>;
02774         }
02775 
02776         estimated_exponent = (<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)tmp_fr2.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a>
02777                            - (<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)tmp_fr3.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a>;
02778 
02779         <span class="keywordflow">if</span> (  (estimated_exponent &gt;= (((<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)(FP_SGL_BIAS)))          )
02780            || (estimated_exponent &lt;= (2-((<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)FP_SGL_BIAS))            )
02781            || (tmp_fr2.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a>   &lt;= (<a class="code" href="../../d2/d3/fetypes_8h.html#a459a437">ss_single_24</a>+FP_REG_BIAS-FP_SGL_BIAS) )
02782            ) {
02783             limits_check-&gt;<a class="code" href="../../d7/d8/structEM__limits__check__fprcpa__struct.html#o3">lo_fr2_or_quot</a> = 1; <span class="comment">/* lo est. quot. or fr2_lo */</span>
02784         }
02785           
02786     }   
02787 
02788     <span class="keywordflow">return</span> (tmp_reg_pair);
02789 }
02790 
02791 <span class="comment">// *******************************************************************</span>
02792 <span class="comment">// frsqrta_exception_fault_check()</span>
02793 <span class="comment">// *******************************************************************</span>
02794 <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a>
<a name="l02795"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a169">02795</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a20">frsqrta_exception_fault_check</a>(
02796      EM_fp_reg_specifier f3,
02797      EM_opcode_sf_type   sf,
02798      <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a>  *tmp_fp_env)
02799 {
02800 <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> tmp_res, fr3;
02801     
02802     fr3 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f3];
02803     <a class="code" href="../../d0/d2/fehelper_8c.html#a2">fp_decode_environment</a>( <a class="code" href="../../d2/d3/fetypes_8h.html#a448a369">pc_none</a>, sf, tmp_fp_env );
02804 
02805     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d3/fesupprt_8h.html#a20">fp_software_assistance_required</a>(ps, <a class="code" href="../../d2/d3/fetypes_8h.html#a458a433">op_frsqrta</a>, fr3)) {
02806         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o3">swa</a> = 1;
02807         <span class="keywordflow">return</span> (FP_ZERO);
02808     }
02809 
02810     tmp_res = FP_ZERO;
02811 
02812     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(fr3)) {
02813         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02814         tmp_res = FP_QNAN;
02815         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
02816             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o0">v</a> = 1;
02817         }
02818 
02819     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(fr3)) {
02820         <span class="keywordflow">if</span>(<a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(fr3)){
02821            tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02822            <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>)  {
02823                tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o0">v</a> = 1;
02824            }
02825         }
02826         tmp_res = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(fr3)
02827                 ? <a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(fr3) : fr3;
02828 
02829     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(fr3)) {
02830         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02831         tmp_res             = FP_QNAN;
02832         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
02833             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o0">v</a> = 1;
02834         }
02835 
02836     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(fr3) &amp;&amp; !<a class="code" href="../../d1/d2/fehelper_8h.html#a188">fp_is_pseudo_zero</a>(fr3)) {
02837         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02838         tmp_res             = FP_QNAN;
02839         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
02840             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o0">v</a> = 1;
02841         }
02842 
02843  
02844     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(fr3)) {
02845         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> = 1;
02846         <span class="keywordflow">if</span>( !tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o1">dd</a>) {
02847            tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o1">d</a> = 1;
02848         }
02849     }
02850 
02851 
02852     <span class="keywordflow">if</span>( (<a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(fr3) &amp;&amp; !<a class="code" href="../../d1/d2/fehelper_8h.html#a188">fp_is_pseudo_zero</a>(fr3) )&amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a174">fp_is_finite</a>(fr3)) {
02853        fr3 = <a class="code" href="../../d1/d2/fehelper_8h.html#a163">fp_normalize</a>(<a class="code" href="../../d1/d2/fehelper_8h.html#a204">fp_reg_read</a>(fr3));
02854        <span class="keywordflow">if</span>(fr3.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> &lt;= <a class="code" href="../../d2/d3/fetypes_8h.html#a459a439">ss_double_extended_64</a>) {
02855           tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o3">swa</a> = 1; 
02856        } 
02857     }
02858  
02859     <span class="keywordflow">return</span> (tmp_res);
02860 }
02861 
02862 <span class="comment">// *******************************************************************</span>
02863 <span class="comment">// fprsqrta_exception_fault_check()</span>
02864 <span class="comment">// *******************************************************************</span>
02865 <a class="code" href="../../d8/d3/structpair__fp__reg__struct.html">EM_pair_fp_reg_type</a>
<a name="l02866"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a170">02866</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a21">fprsqrta_exception_fault_check</a>(
02867     EM_fp_reg_specifier      f3,
02868     EM_opcode_sf_type        sf,
02869     <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a>       *tmp_fp_env, 
02870     <a class="code" href="../../d8/d8/structEM__limits__check__fprsqrta__struct.html">EM_limits_check_fprsqrta</a> *limits_check)
02871 {
02872 <a class="code" href="../../d8/d3/structpair__fp__reg__struct.html">EM_pair_fp_reg_type</a> tmp_reg_pair;
02873 <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a>      tmp_fr3 = <a class="code" href="../../d9/d2/festate_8h.html#a5">FR</a>[f3];
02874 
02875     <a class="code" href="../../d0/d2/fehelper_8c.html#a2">fp_decode_environment</a>( <a class="code" href="../../d2/d3/fetypes_8h.html#a448a370">pc_simd</a>, sf, tmp_fp_env );
02876 
02877     tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a> = FP_ZERO;
02878     tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a> = FP_ZERO;
02879 
02880 <span class="comment">// ********</span>
02881 <span class="comment">// high</span>
02882 <span class="comment">// ********</span>
02883     tmp_fr3 = <a class="code" href="../../d0/d2/fehelper_8c.html#a0">fp_reg_read_hi</a>(f3);
02884     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d3/fesupprt_8h.html#a20">fp_software_assistance_required</a>(ps, <a class="code" href="../../d2/d3/fetypes_8h.html#a458a434">op_fprsqrta</a>, tmp_fr3)) {
02885         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o3">swa</a> = 1;
02886 
02887     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr3)) {
02888         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr3)) {
02889             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02890             <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
02891                 tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o0">v</a> = 1;
02892             }
02893         }
02894         tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr3)
02895                         ? <a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(tmp_fr3) : tmp_fr3;
02896 
02897     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr3)) {
02898         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02899         tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a> = FP_QNAN;
02900         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
02901             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o0">v</a> = 1;
02902         }
02903     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(tmp_fr3)) {
02904         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02905         tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o0">hi</a>        = FP_QNAN;
02906         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
02907             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o0">v</a> = 1;
02908         }
02909 
02910     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr3)) {
02911         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> = 1;
02912         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o1">dd</a>) {
02913             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o1">d</a> = 1;
02914         }
02915 
02916     } 
02917     <span class="keywordflow">if</span>(<a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a174">fp_is_finite</a>(tmp_fr3)) {
02918        tmp_fr3 = <a class="code" href="../../d1/d2/fehelper_8h.html#a163">fp_normalize</a>(tmp_fr3);
02919        <span class="keywordflow">if</span> (tmp_fr3.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> &lt;= (FP_REG_BIAS - FP_SGL_BIAS + <a class="code" href="../../d2/d3/fetypes_8h.html#a459a437">ss_single_24</a>)) {
02920             limits_check-&gt;<a class="code" href="../../d8/d8/structEM__limits__check__fprsqrta__struct.html#o0">hi</a> = 1;
02921        } <span class="keywordflow">else</span> {
02922             limits_check-&gt;<a class="code" href="../../d8/d8/structEM__limits__check__fprsqrta__struct.html#o0">hi</a> = 0;
02923        }
02924     }
02925 
02926 <span class="comment">// ********</span>
02927 <span class="comment">// low</span>
02928 <span class="comment">// ********</span>
02929     tmp_fr3 = <a class="code" href="../../d0/d2/fehelper_8c.html#a1">fp_reg_read_lo</a>(f3);
02930 
02931     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d3/fesupprt_8h.html#a20">fp_software_assistance_required</a>(ps, <a class="code" href="../../d2/d3/fetypes_8h.html#a458a434">op_fprsqrta</a>, tmp_fr3)) {
02932         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o3">swa</a> = 1;
02933 
02934     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(tmp_fr3)) {
02935         <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr3)) {
02936             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02937             <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
02938                 tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o0">v</a> = 1;
02939             }
02940         }
02941         tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a> = <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(tmp_fr3)
02942                         ? <a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(tmp_fr3) : tmp_fr3;
02943 
02944     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(tmp_fr3)) {
02945         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02946         tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a> = FP_QNAN;
02947         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
02948             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o0">v</a> = 1;
02949         }
02950     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(tmp_fr3)) {
02951         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> = 1;
02952         tmp_reg_pair.<a class="code" href="../../d8/d3/structpair__fp__reg__struct.html#o1">lo</a> = FP_QNAN;
02953         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o0">vd</a>) {
02954             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o0">v</a> = 1;
02955         }
02956 
02957     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(tmp_fr3)) {
02958         tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> = 1;
02959         <span class="keywordflow">if</span> (!tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o1">controls</a>.<a class="code" href="../../d3/d1/structtrap__control__struct.html#o1">dd</a>) {
02960             tmp_fp_env-&gt;<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o1">d</a> = 1;
02961         }
02962     }
02963 
02964     <span class="keywordflow">if</span>(<a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(tmp_fr3) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a174">fp_is_finite</a>(tmp_fr3)) {
02965        tmp_fr3 = <a class="code" href="../../d1/d2/fehelper_8h.html#a163">fp_normalize</a>(tmp_fr3);
02966        <span class="keywordflow">if</span> (tmp_fr3.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> &lt;= (FP_REG_BIAS - FP_SGL_BIAS + <a class="code" href="../../d2/d3/fetypes_8h.html#a459a437">ss_single_24</a>)) {
02967             limits_check-&gt;<a class="code" href="../../d8/d8/structEM__limits__check__fprsqrta__struct.html#o1">lo</a> = 1;
02968        } <span class="keywordflow">else</span> {
02969             limits_check-&gt;<a class="code" href="../../d8/d8/structEM__limits__check__fprsqrta__struct.html#o1">lo</a> = 0;
02970        }
02971     }
02972 
02973 
02974     <span class="keywordflow">return</span> (tmp_reg_pair);
02975 }
02976 
02977 
02978 
02979 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l02980"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a174">02980</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a174">fp_is_finite</a>(<a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> freg)
02981 {
02982     <span class="keywordflow">if</span> ( <a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(freg) || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(freg) || <a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(freg) ) {
02983         <span class="keywordflow">return</span>(0);
02984     } <span class="keywordflow">else</span> {
02985         <span class="keywordflow">return</span>(1);
02986     }
02987 }
02988 
02989 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l02990"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a175">02990</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(<a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> freg)
02991 {
02992     <span class="keywordflow">if</span> ( (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> == FP_REG_EXP_ONES)
02993        &amp;&amp;(freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> == U64_0x8000000000000000) ) {
02994         <span class="keywordflow">return</span>(1);
02995     } <span class="keywordflow">else</span> {
02996         <span class="keywordflow">return</span>(0);
02997     }
02998 }
02999 
03000 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03001"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a176">03001</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a176">fp_is_inf_dp</a>(<a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a> tmp_res)
03002 {
03003     <span class="keywordflow">if</span> ( (tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> == FP_DP_EXP_ONES)
03004        &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a30">fp_U128_eq</a>(tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>,
03005                       U128_0x80000000000000000000000000000000) ) {
03006         <span class="keywordflow">return</span>(1);
03007     } <span class="keywordflow">else</span> {
03008         <span class="keywordflow">return</span>(0);
03009     }
03010 }
03011 
03012 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03013"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a177">03013</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(<a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> freg)
03014 {
03015     <span class="keywordflow">if</span> (  (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> == FP_REG_EXP_ONES)
03016       &amp;&amp; ((freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> &amp; U64_0x8000000000000000) != 0)
03017       &amp;&amp; ((freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> &amp; U64_0x7FFFFFFFFFFFFFFF) != 0) ) {
03018         <span class="keywordflow">return</span>(1);
03019     } <span class="keywordflow">else</span> {
03020         <span class="keywordflow">return</span>(0);
03021     }
03022 }
03023 
03024 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03025"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a178">03025</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a178">fp_is_nan_dp</a>(<a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a> tmp_res)
03026 {
03027     <span class="keywordflow">if</span> ( (tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> == FP_DP_EXP_ONES)
03028        &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a30">fp_U128_eq</a>(U128_0x80000000000000000000000000000000,
03029                   <a class="code" href="../../d1/d2/fehelper_8h.html#a28">fp_U128_band</a>(tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>,
03030                             U128_0x80000000000000000000000000000000))
03031        &amp;&amp; !<a class="code" href="../../d1/d2/fehelper_8h.html#a30">fp_U128_eq</a>(U128_0,
03032                   <a class="code" href="../../d1/d2/fehelper_8h.html#a28">fp_U128_band</a>(tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>,
03033                             U128_0x7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF))
03034        ) {
03035         <span class="keywordflow">return</span> (1);
03036     } <span class="keywordflow">else</span> {
03037         <span class="keywordflow">return</span> (0);
03038     }
03039 }
03040 
03041 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03042"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a179">03042</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a179">fp_is_natval</a>(<a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> freg)
03043 {
03044     <span class="keywordflow">if</span> ( (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a> == 0)
03045      &amp;&amp; (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> == 0x1FFFE)
03046      &amp;&amp; (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> == U64_0) ) {
03047         <span class="keywordflow">return</span>(1);
03048     } <span class="keywordflow">else</span> {
03049         <span class="keywordflow">return</span>(0);
03050     }
03051 }
03052 
03053 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03054"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a180">03054</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a180">fp_is_neg_dp</a>(<a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a> tmp_res)
03055 {
03056     <span class="keywordflow">if</span> (tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a>) {
03057         <span class="keywordflow">return</span>(1);
03058     } <span class="keywordflow">else</span> {
03059         <span class="keywordflow">return</span>(0);
03060     }
03061 }
03062 
03063 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03064"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a181">03064</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a181">fp_is_neg_inf</a>(<a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> freg)
03065 {
03066     <span class="keywordflow">if</span> ( (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a> == 1)
03067       &amp;&amp; (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> == FP_REG_EXP_ONES)
03068       &amp;&amp; (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> == U64_0x8000000000000000) ) {
03069         <span class="keywordflow">return</span>(1);
03070     } <span class="keywordflow">else</span> {
03071         <span class="keywordflow">return</span>(0);
03072     }
03073 }
03074 
03075 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03076"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a182">03076</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a182">fp_is_neg_non_zero</a>(<a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> freg)
03077 {
03078     <span class="keywordflow">if</span> ( (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a> == 1) &amp;&amp; !<a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(freg) ) {
03079         <span class="keywordflow">return</span>(1);
03080     } <span class="keywordflow">else</span> {
03081         <span class="keywordflow">return</span>(0);
03082     }
03083 }
03084 
03085 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03086"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a183">03086</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a183">fp_is_normal</a>(<a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> freg)
03087 {
03088     <span class="keywordflow">if</span> ( (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> != 0)
03089       &amp;&amp; (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> != FP_REG_EXP_ONES)
03090       &amp;&amp; ((freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> &amp; U64_0x8000000000000000) != 0) ) {
03091         <span class="keywordflow">return</span>(1);
03092     } <span class="keywordflow">else</span> {
03093         <span class="keywordflow">return</span>(0);
03094     }
03095 }
03096 
03097 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03098"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a184">03098</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a184">fp_is_normal_dp</a>(<a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a> tmp_res)
03099 {
03100     <span class="keywordflow">if</span> ( (tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> != 0)
03101       &amp;&amp; (tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> != FP_DP_EXP_ONES)
03102       &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a30">fp_U128_eq</a>(U128_0x80000000000000000000000000000000,
03103                  <a class="code" href="../../d1/d2/fehelper_8h.html#a28">fp_U128_band</a>(tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>,
03104                            U128_0x80000000000000000000000000000000))
03105       ) {
03106         <span class="keywordflow">return</span>(1);
03107     } <span class="keywordflow">else</span> {
03108         <span class="keywordflow">return</span>(0);
03109     }
03110 }
03111 
03112 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03113"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a185">03113</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a185">fp_is_pos_dp</a>(<a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a> tmp_res)
03114 {
03115     <span class="keywordflow">if</span> (!tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o3">sign</a>) {
03116         <span class="keywordflow">return</span>(1);
03117     } <span class="keywordflow">else</span> {
03118         <span class="keywordflow">return</span>(0);
03119     }
03120 }
03121 
03122 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03123"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a186">03123</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a186">fp_is_pos_inf</a>(<a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> freg)
03124 {
03125     <span class="keywordflow">if</span> ( (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a> == 0)
03126       &amp;&amp; (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> == FP_REG_EXP_ONES)
03127       &amp;&amp; (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> == U64_0x8000000000000000) ) {
03128         <span class="keywordflow">return</span>(1);
03129     } <span class="keywordflow">else</span> {
03130         <span class="keywordflow">return</span>(0);
03131     }
03132 }
03133 
03134 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03135"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a187">03135</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a187">fp_is_pos_non_zero</a>(<a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> freg)
03136 {
03137     <span class="keywordflow">if</span> ( (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a> == 0) &amp;&amp; !<a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(freg) ) {
03138         <span class="keywordflow">return</span>(1);
03139     } <span class="keywordflow">else</span> {
03140         <span class="keywordflow">return</span>(0);
03141     }
03142 }
03143 
03144 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03145"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a188">03145</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a188">fp_is_pseudo_zero</a>(<a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> freg)
03146 {
03147     <span class="keywordflow">if</span> ( (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> != 0)
03148       &amp;&amp; (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> != FP_REG_EXP_ONES)
03149       &amp;&amp; (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> == U64_0 &amp;&amp; !<a class="code" href="../../d1/d2/fehelper_8h.html#a179">fp_is_natval</a> (freg)) ) {
03150         <span class="keywordflow">return</span>(1);
03151     } <span class="keywordflow">else</span> {
03152         <span class="keywordflow">return</span>(0);
03153     }
03154 }
03155 
03156 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03157"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a189">03157</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a189">fp_is_qnan</a>(<a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> freg)
03158 {
03159     <span class="keywordflow">if</span> ( (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> == FP_REG_EXP_ONES)
03160       &amp;&amp;((freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> &amp; U64_0xC000000000000000) == U64_0xC000000000000000) ) {
03161         <span class="keywordflow">return</span>(1);
03162     } <span class="keywordflow">else</span> {
03163         <span class="keywordflow">return</span>(0);
03164     }
03165 }
03166 
03167 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03168"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a190">03168</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a190">fp_is_snan</a>(<a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> freg)
03169 {
03170     <span class="keywordflow">if</span> ( (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> == FP_REG_EXP_ONES)
03171       &amp;&amp;((freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> &amp; U64_0xC000000000000000) == U64_0x8000000000000000)
03172       &amp;&amp;((freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> &amp; U64_0x3FFFFFFFFFFFFFFF) != 0) ) {
03173         <span class="keywordflow">return</span>(1);
03174     } <span class="keywordflow">else</span> {
03175         <span class="keywordflow">return</span>(0);
03176     }
03177 }
03178 
03179 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03180"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a191">03180</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(<a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> freg)
03181 {
03182     <span class="keywordflow">if</span> ( ( (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> != 0)
03183         &amp;&amp; (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> != FP_REG_EXP_ONES)
03184         &amp;&amp;((freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> &amp; U64_0x8000000000000000) == 0) )
03185     <span class="comment">/* double-extended pseudo-denormal or double-extended denormal */</span>
03186       || ( (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> == 0) &amp;&amp; (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> != 0) ) ) {
03187         <span class="keywordflow">return</span>(1);
03188     } <span class="keywordflow">else</span> {
03189         <span class="keywordflow">return</span>(0);
03190     }
03191 }
03192 
03193 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03194"></a><a class="code" href="../../d0/d2/fehelper_8c.html#a66">03194</a> <a class="code" href="../../d0/d2/fehelper_8c.html#a66">fp_is_unorm_dp</a>(<a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a> tmp_res)
03195 {
03196     <span class="keywordflow">if</span> ( (tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> != 0)
03197       &amp;&amp; (tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> != FP_DP_EXP_ONES)
03198       &amp;&amp;((tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> &amp; U64_0x8000000000000000) == 0) ) {
03199         <span class="keywordflow">return</span>(1);
03200     } <span class="keywordflow">else</span> {
03201         <span class="keywordflow">return</span>(0);
03202     }
03203 }
03204 
03205 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03206"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a192">03206</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a192">fp_is_unsupported</a>(<a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> freg)
03207 {    
03208     <span class="keywordflow">if</span> (  <a class="code" href="../../d1/d2/fehelper_8h.html#a179">fp_is_natval</a>(freg) || <a class="code" href="../../d1/d2/fehelper_8h.html#a177">fp_is_nan</a>(freg)   || <a class="code" href="../../d1/d2/fehelper_8h.html#a175">fp_is_inf</a>(freg)
03209        || <a class="code" href="../../d1/d2/fehelper_8h.html#a183">fp_is_normal</a>(freg) || <a class="code" href="../../d1/d2/fehelper_8h.html#a191">fp_is_unorm</a>(freg) || <a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(freg) ) {
03210         <span class="keywordflow">return</span>(0);
03211     } <span class="keywordflow">else</span> {
03212         <span class="keywordflow">return</span>(1);
03213     }
03214 }
03215 
03216 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03217"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a193">03217</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a193">fp_is_unsupported_dp</a>(<a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a> tmp_res)
03218 {
03219     <span class="keywordflow">if</span> (  <a class="code" href="../../d1/d2/fehelper_8h.html#a178">fp_is_nan_dp</a>(tmp_res)    || <a class="code" href="../../d1/d2/fehelper_8h.html#a176">fp_is_inf_dp</a>(tmp_res)
03220        || <a class="code" href="../../d1/d2/fehelper_8h.html#a184">fp_is_normal_dp</a>(tmp_res) || <a class="code" href="../../d0/d2/fehelper_8c.html#a66">fp_is_unorm_dp</a>(tmp_res)
03221        || <a class="code" href="../../d1/d2/fehelper_8h.html#a195">fp_is_zero_dp</a>(tmp_res) ) {
03222         <span class="keywordflow">return</span>(0);
03223     } <span class="keywordflow">else</span> {
03224         <span class="keywordflow">return</span>(1);
03225     }
03226 }
03227 
03228 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03229"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a194">03229</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a194">fp_is_zero</a>(<a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> freg)
03230 {
03231     <span class="keywordflow">if</span> ( (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> == 0) &amp;&amp; (freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> == U64_0) ) {
03232         <span class="keywordflow">return</span>(1);
03233     } <span class="keywordflow">else</span> {
03234         <span class="keywordflow">return</span>(0);
03235     }
03236 }
03237 
03238 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03239"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a195">03239</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a195">fp_is_zero_dp</a>(<a class="code" href="../../d9/d9/structfp__dp__struct.html">EM_fp_dp_type</a> tmp_res)
03240 {
03241     <span class="keywordflow">if</span> ( (tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o2">exponent</a> == 0) &amp;&amp; <a class="code" href="../../d1/d2/fehelper_8h.html#a30">fp_U128_eq</a>(tmp_res.<a class="code" href="../../d9/d9/structfp__dp__struct.html#o1">significand</a>, U128_0) ) {
03242         <span class="keywordflow">return</span>(1);
03243     } <span class="keywordflow">else</span> {
03244         <span class="keywordflow">return</span>(0);
03245     }
03246 }
03247 
03248 <a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>
<a name="l03249"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a196">03249</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a196">fp82_fp_U64_lead0</a>(EM_uint64_t value)
03250 {
03251 <a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a> tmp_i, offset=0;
03252 <a class="code" href="../../d2/d3/fetypes_8h.html#a17">EM_uint64_t</a> tmp_mask;
03253 
03254     <span class="keywordflow">if</span>( value == U64_0) 
03255        <span class="keywordflow">return</span>(64);
03256 
03257     tmp_mask = U64_0x8000000000000000;
03258 
03259     <span class="keywordflow">if</span>( (value &amp; U64_0xFFFFFFFF00000000) != U64_0) {
03260 
03261        <span class="keywordflow">if</span>( (value &amp; U64_0xFFFF000000000000) != U64_0) {
03262 
03263          <span class="keywordflow">if</span>( (value &amp; U64_0xFF00000000000000) != U64_0) {
03264             <span class="keywordflow">for</span> (tmp_i=0; tmp_i&lt;8; tmp_i++, tmp_mask&gt;&gt;=1) {
03265                <span class="keywordflow">if</span> ( (value &amp; tmp_mask) != U64_0 ) {
03266                   <span class="keywordflow">return</span>(tmp_i);
03267                }
03268             }
03269          }
03270          <span class="keywordflow">else</span> { <span class="comment">/* 0x00FF000000000000 */</span>
03271             value  &lt;&lt;= 8;
03272             offset  += 8;
03273             <span class="keywordflow">for</span> (tmp_i=0; tmp_i&lt;8; tmp_i++, tmp_mask&gt;&gt;=1) {
03274                <span class="keywordflow">if</span> ( (value &amp; tmp_mask) != U64_0 ) {
03275                   <span class="keywordflow">return</span>(tmp_i + offset);
03276                }
03277             }
03278          }
03279       } 
03280       <span class="keywordflow">else</span> { <span class="comment">/* 0x0000FFFF00000000 */</span>
03281          value   &lt;&lt;= 16;
03282          offset   += 16;
03283          <span class="keywordflow">if</span>( (value &amp; U64_0xFF00000000000000) != U64_0) {
03284             <span class="keywordflow">for</span> (tmp_i=0; tmp_i&lt;8; tmp_i++, tmp_mask&gt;&gt;=1) {
03285                <span class="keywordflow">if</span> ( (value &amp; tmp_mask) != U64_0 ) {
03286                   <span class="keywordflow">return</span>(tmp_i + offset);
03287                }
03288             }
03289          }
03290          <span class="keywordflow">else</span> {
03291             value  &lt;&lt;= 8;
03292             offset  += 8;
03293             <span class="keywordflow">for</span> (tmp_i=0; tmp_i&lt;8; tmp_i++, tmp_mask&gt;&gt;=1) {
03294                <span class="keywordflow">if</span> ( (value &amp; tmp_mask) != U64_0 ) {
03295                   <span class="keywordflow">return</span>(tmp_i + offset);
03296                }
03297             }
03298          }
03299       }
03300    }
03301    <span class="keywordflow">else</span> { <span class="comment">/*  0x00000000 FFFFFFFF */</span>
03302       value  &lt;&lt;= 32;
03303       offset  += 32;
03304        <span class="keywordflow">if</span>( (value &amp; U64_0xFFFF000000000000) != U64_0) {
03305 
03306          <span class="keywordflow">if</span>( (value &amp; U64_0xFF00000000000000) != U64_0) {
03307             <span class="keywordflow">for</span> (tmp_i=0; tmp_i&lt;8; tmp_i++, tmp_mask&gt;&gt;=1) {
03308                <span class="keywordflow">if</span> ( (value &amp; tmp_mask) != U64_0 ) {
03309                   <span class="keywordflow">return</span>(tmp_i + offset);
03310                }
03311             }
03312          }
03313          <span class="keywordflow">else</span> { <span class="comment">/* 0x00000000 00FF0000 */</span>
03314             value  &lt;&lt;= 8;
03315             offset  += 8;
03316             <span class="keywordflow">for</span> (tmp_i=0; tmp_i&lt;8; tmp_i++, tmp_mask&gt;&gt;=1) {
03317                <span class="keywordflow">if</span> ( (value &amp; tmp_mask) != U64_0 ) {
03318                   <span class="keywordflow">return</span>(tmp_i + offset);
03319                }
03320             }
03321          }
03322       } 
03323       <span class="keywordflow">else</span> {   <span class="comment">/* 0x00000000 0000FFFF */</span>
03324          value   &lt;&lt;= 16;
03325          offset   += 16;
03326          <span class="keywordflow">if</span>( (value &amp; U64_0xFF00000000000000) != U64_0) {
03327             <span class="keywordflow">for</span> (tmp_i=0; tmp_i&lt;8; tmp_i++, tmp_mask&gt;&gt;=1) {
03328                <span class="keywordflow">if</span> ( (value &amp; tmp_mask) != U64_0 ) {
03329                   <span class="keywordflow">return</span>(tmp_i + offset);
03330                }
03331             }
03332          }
03333          <span class="keywordflow">else</span> {
03334             value  &lt;&lt;= 8;
03335             offset  += 8;
03336             <span class="keywordflow">for</span> (tmp_i=0; tmp_i&lt;8; tmp_i++, tmp_mask&gt;&gt;=1) {
03337                <span class="keywordflow">if</span> ( (value &amp; tmp_mask) != U64_0 ) {
03338                   <span class="keywordflow">return</span>(tmp_i + offset);
03339                }
03340             }
03341          }
03342       }
03343    }
03344 
03345    <span class="keywordflow">return</span>(64); <span class="comment">// MACH ADDED</span>
03346 
03347 }
03348 
03349 <a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>
<a name="l03350"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a197">03350</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a197">fp_U128_lead0</a>(<a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> value)
03351 {
03352     <a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a> tmp_i;
03353 
03354     tmp_i = <a class="code" href="../../d1/d2/fehelper_8h.html#a41">fp_U64_lead0</a>(value.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>);
03355     <span class="keywordflow">if</span> (tmp_i == 64) {
03356         tmp_i += <a class="code" href="../../d1/d2/fehelper_8h.html#a41">fp_U64_lead0</a>(value.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a>);
03357     }
03358     <span class="keywordflow">return</span>(tmp_i);
03359 }
03360 
03361 <a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>
<a name="l03362"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a198">03362</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a198">fp82_fp_U256_lead0</a>(<a class="code" href="../../d7/d1/structuint256__struct.html">EM_uint256_t</a> value)
03363 {
03364     <a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a> tmp_i;
03365 
03366     tmp_i = <a class="code" href="../../d1/d2/fehelper_8h.html#a41">fp_U64_lead0</a>(value.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a>);
03367     <span class="keywordflow">if</span> (tmp_i == 64) {
03368         tmp_i += <a class="code" href="../../d1/d2/fehelper_8h.html#a41">fp_U64_lead0</a>(value.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a>);
03369         <span class="keywordflow">if</span> (tmp_i == 128) {
03370             tmp_i += <a class="code" href="../../d1/d2/fehelper_8h.html#a41">fp_U64_lead0</a>(value.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a>);
03371             <span class="keywordflow">if</span> (tmp_i == 192) {
03372                 tmp_i += <a class="code" href="../../d1/d2/fehelper_8h.html#a41">fp_U64_lead0</a>(value.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a>);
03373             }
03374         }
03375     }
03376     <span class="keywordflow">return</span>(tmp_i);
03377 }
03378 
03379 <span class="comment">// *******************************************************************</span>
03380 <span class="comment">// fp_mem_to_fr_format()</span>
03381 <span class="comment">// *******************************************************************</span>
03382 <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a>
<a name="l03383"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a199">03383</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a199">fp_mem_to_fr_format</a>(
03384     <a class="code" href="../../d6/d9/unionmemory__union.html">EM_memory_type</a> mem,
03385     EM_uint_t      size,
03386     EM_uint_t      integer_form)
03387 {
03388 
03389 <span class="comment">/******************************************************</span>
03390 <span class="comment">integer_form = 0           floating point</span>
03391 <span class="comment">integer_form = 1           simd, integer</span>
03392 <span class="comment">*******************************************************/</span>
03393 
03394     <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> tmp_freg;
03395     <a class="code" href="../../d2/d3/fetypes_8h.html#a17">EM_uint64_t</a>    tmp_significand, tmp_significand_hi, tmp_significand_lo;
03396 
03397     <span class="keywordflow">switch</span> (size) {
03398         <span class="keywordflow">case</span> 4:<span class="comment">/* single */</span>
03399             tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a> = mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o11">fp_single</a>.<a class="code" href="../../d2/d0/structmemory__union_1_1fp__single__struct.html#o2">sign</a>;
03400             <span class="keywordflow">if</span> ( (mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o11">fp_single</a>.<a class="code" href="../../d2/d0/structmemory__union_1_1fp__single__struct.html#o1">exponent</a>    == 0)
03401               &amp;&amp; (mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o11">fp_single</a>.<a class="code" href="../../d2/d0/structmemory__union_1_1fp__single__struct.html#o0">significand</a> == 0) ) { <span class="comment">/* zero */</span>
03402                 tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> = 0;
03403             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o11">fp_single</a>.<a class="code" href="../../d2/d0/structmemory__union_1_1fp__single__struct.html#o1">exponent</a> == 0) { <span class="comment">/* denormal */</span>
03404                 tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> = (<a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a>)(FP_REG_BIAS - FP_SGL_BIAS + 1);
03405             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o11">fp_single</a>.<a class="code" href="../../d2/d0/structmemory__union_1_1fp__single__struct.html#o1">exponent</a> == FP_SGL_EXP_ONES) { <span class="comment">/* Inf, NaN, NaTVal */</span>
03406                 tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> = FP_REG_EXP_ONES;
03407             } <span class="keywordflow">else</span> {
03408                 tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> = (<a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a>)
03409                                   (((<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o11">fp_single</a>.<a class="code" href="../../d2/d0/structmemory__union_1_1fp__single__struct.html#o1">exponent</a>)
03410                                   - FP_SGL_BIAS + FP_REG_BIAS);
03411             }
03412             tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> =
03413                     (((<a class="code" href="../../d2/d3/fetypes_8h.html#a17">EM_uint64_t</a>)mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o11">fp_single</a>.<a class="code" href="../../d2/d0/structmemory__union_1_1fp__single__struct.html#o0">significand</a>)&lt;&lt;40)
03414 <span class="preprocessor">#ifdef HPC_BUGS</span>
03415 <span class="preprocessor"></span>                    | (((mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o11">fp_single</a>.<a class="code" href="../../d2/d0/structmemory__union_1_1fp__single__struct.html#o1">exponent</a> != U64_0)?U64_1:U64_0)&lt;&lt;63);
03416 <span class="preprocessor">#else</span>
03417 <span class="preprocessor"></span>                    | (((mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o11">fp_single</a>.<a class="code" href="../../d2/d0/structmemory__union_1_1fp__single__struct.html#o1">exponent</a> != 0)?U64_1:U64_0)&lt;&lt;63);
03418 <span class="preprocessor">#endif</span>
03419 <span class="preprocessor"></span>
03420             <span class="keywordflow">break</span>;
03421 
03422         <span class="keywordflow">case</span> 8: <span class="comment">/* double */</span>
03423             <span class="keywordflow">if</span> (integer_form) {
03424                 tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a> = 0;
03425                 tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> = mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o7">uint_64</a>.<a class="code" href="../../d2/d1/structmemory__union_1_1uint__64__struct.html#o0">uvalue</a>;
03426                 tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a>    = FP_INTEGER_EXP;
03427             } <span class="keywordflow">else</span> {
03428                 tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a> = mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o12">fp_double</a>.<a class="code" href="../../d1/d0/structmemory__union_1_1fp__double__struct.html#o3">sign</a>;
03429                 <span class="keywordflow">if</span> ( (mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o12">fp_double</a>.<a class="code" href="../../d1/d0/structmemory__union_1_1fp__double__struct.html#o2">exponent</a>    == 0)
03430                   &amp;&amp; (mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o12">fp_double</a>.<a class="code" href="../../d1/d0/structmemory__union_1_1fp__double__struct.html#o1">significand_hi</a> == 0) 
03431                   &amp;&amp; (mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o12">fp_double</a>.<a class="code" href="../../d1/d0/structmemory__union_1_1fp__double__struct.html#o0">significand_lo</a> == 0) ){    <span class="comment">/* zero */</span>
03432                     tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> = 0;
03433                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o12">fp_double</a>.<a class="code" href="../../d1/d0/structmemory__union_1_1fp__double__struct.html#o2">exponent</a> == 0) {     <span class="comment">/* denormal */</span>
03434                      tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> = (<a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a>)(FP_REG_BIAS - FP_DBL_BIAS + 1);
03435                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o12">fp_double</a>.<a class="code" href="../../d1/d0/structmemory__union_1_1fp__double__struct.html#o2">exponent</a> == FP_DBL_EXP_ONES) { <span class="comment">/* Inf, NaN, NaTVal */</span>
03436                     tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> = FP_REG_EXP_ONES;
03437                 } <span class="keywordflow">else</span> {
03438                     tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> = (<a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a>)
03439                                       (((<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o12">fp_double</a>.<a class="code" href="../../d1/d0/structmemory__union_1_1fp__double__struct.html#o2">exponent</a>)
03440                                       - FP_DBL_BIAS + FP_REG_BIAS);
03441                 }
03442                 tmp_significand_lo = ((<a class="code" href="../../d2/d3/fetypes_8h.html#a17">EM_uint64_t</a>)(mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o12">fp_double</a>.<a class="code" href="../../d1/d0/structmemory__union_1_1fp__double__struct.html#o0">significand_lo</a>)) ;
03443                 tmp_significand_hi = (((<a class="code" href="../../d2/d3/fetypes_8h.html#a17">EM_uint64_t</a>)(mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o12">fp_double</a>.<a class="code" href="../../d1/d0/structmemory__union_1_1fp__double__struct.html#o1">significand_hi</a>)) &lt;&lt; 32);
03444                 tmp_significand = tmp_significand_lo | tmp_significand_hi;
03445 
03446                 tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> =
03447                          (tmp_significand&lt;&lt;11)
03448 <span class="preprocessor">#ifdef HPC_BUGS</span>
03449 <span class="preprocessor"></span>                     | (((mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o12">fp_double</a>.<a class="code" href="../../d1/d0/structmemory__union_1_1fp__double__struct.html#o2">exponent</a> != U64_0)?U64_1:U64_0)&lt;&lt;63);
03450 <span class="preprocessor">#else</span>
03451 <span class="preprocessor"></span>                     | (((mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o12">fp_double</a>.<a class="code" href="../../d1/d0/structmemory__union_1_1fp__double__struct.html#o2">exponent</a> != 0)?U64_1:U64_0)&lt;&lt;63);
03452 <span class="preprocessor">#endif</span>
03453 <span class="preprocessor"></span>            }
03454             <span class="keywordflow">break</span>;
03455 
03456         <span class="keywordflow">case</span> 10: <span class="comment">/* double extended */</span>
03457             tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a> = mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o13">fp_double_extended</a>.<a class="code" href="../../d0/d0/structmemory__union_1_1fp__double__extended__struct.html#o2">sign</a>;
03458             <span class="keywordflow">if</span> (mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o13">fp_double_extended</a>.<a class="code" href="../../d0/d0/structmemory__union_1_1fp__double__extended__struct.html#o1">exponent</a> == 0) {
03459                     <span class="comment">/* Zero or (Pseudo-)Denormal */</span>
03460                 tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> = 0;
03461             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o13">fp_double_extended</a>.<a class="code" href="../../d0/d0/structmemory__union_1_1fp__double__extended__struct.html#o1">exponent</a> == FP_EXT_EXP_ONES) {
03462                     <span class="comment">/* Inf, NaN, NaTVal */</span>
03463                 tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> = FP_REG_EXP_ONES;
03464             } <span class="keywordflow">else</span> { <span class="comment">/* Normal */</span>
03465                 tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> = (<a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a>)
03466                                   (((<a class="code" href="../../d2/d3/fetypes_8h.html#a11">EM_int_t</a>)mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o13">fp_double_extended</a>.<a class="code" href="../../d0/d0/structmemory__union_1_1fp__double__extended__struct.html#o1">exponent</a>)
03467                                   - FP_EXT_BIAS + FP_REG_BIAS);
03468             }
03469             memcpy(&amp;tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a>,
03470                     mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o13">fp_double_extended</a>.<a class="code" href="../../d0/d0/structmemory__union_1_1fp__double__extended__struct.html#o0">significand</a>, 8);
03471             <span class="keywordflow">break</span>;
03472 
03473         <span class="keywordflow">case</span> 16: <span class="comment">/* fill */</span>
03474             tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o2">sign</a>        = mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o14">fp_spill_fill</a>.<a class="code" href="../../d3/d0/structmemory__union_1_1fp__spill__fill__struct.html#o2">sign</a>;
03475             tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a>    = mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o14">fp_spill_fill</a>.<a class="code" href="../../d3/d0/structmemory__union_1_1fp__spill__fill__struct.html#o1">exponent</a>;
03476             tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> = mem.<a class="code" href="../../d6/d9/unionmemory__union.html#o14">fp_spill_fill</a>.<a class="code" href="../../d3/d0/structmemory__union_1_1fp__spill__fill__struct.html#o0">significand</a>;
03477             <span class="keywordflow">break</span>;
03478     }
03479     <span class="keywordflow">return</span> (tmp_freg);
03480 }
03481 
03482 
03483 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a>
<a name="l03484"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a201">03484</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a201">fp_make_quiet_nan</a>(<a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> freg)
03485 {
03486     freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> |= U64_0x4000000000000000;
03487     <span class="keywordflow">return</span> (freg);
03488 }
03489 
03490 
03491 
03492 <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03493"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a202">03493</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a202">fp82_fp_raise_fault</a>(<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a> tmp_fp_env)
03494 {
03495     <span class="keywordflow">if</span>(tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o15">simd</a> == 1) {
03496          <span class="keywordflow">if</span>  (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o3">swa</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o0">v</a>
03497          ||   tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o1">d</a>   || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o18">lo_faults</a>.<a class="code" href="../../d1/d1/structtmp__fp__env__struct_1_1lo__faults__struct.html#o2">z</a> 
03498 
03499          ||   tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o3">swa</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o0">v</a> 
03500          ||   tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o1">d</a>   || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o17">hi_faults</a>.<a class="code" href="../../d9/d0/structtmp__fp__env__struct_1_1hi__faults__struct.html#o2">z</a> )
03501 
03502           <span class="keywordflow">return</span>(1);
03503     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o3">swa</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o0">v</a>
03504          ||   tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o1">d</a>   || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o16">em_faults</a>.<a class="code" href="../../d7/d0/structtmp__fp__env__struct_1_1em__faults__struct.html#o2">z</a> )
03505           <span class="keywordflow">return</span> (1);
03506     <span class="keywordflow">return</span> (0);
03507 }
03508 
03509 
03510 <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03511"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a203">03511</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a203">fp82_fp_raise_traps</a>(<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a> tmp_fp_env)
03512 {
03513     <span class="keywordflow">if</span>(tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o15">simd</a> == 1) {
03514        <span class="keywordflow">if</span>   (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o20">hi_traps</a>.<a class="code" href="../../d0/d1/structtmp__fp__env__struct_1_1hi__traps__struct.html#o0">o</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o20">hi_traps</a>.<a class="code" href="../../d0/d1/structtmp__fp__env__struct_1_1hi__traps__struct.html#o1">un</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o20">hi_traps</a>.<a class="code" href="../../d0/d1/structtmp__fp__env__struct_1_1hi__traps__struct.html#o2">i</a>
03515        ||    tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o21">lo_traps</a>.<a class="code" href="../../d2/d1/structtmp__fp__env__struct_1_1lo__traps__struct.html#o0">o</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o21">lo_traps</a>.<a class="code" href="../../d2/d1/structtmp__fp__env__struct_1_1lo__traps__struct.html#o1">un</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o21">lo_traps</a>.<a class="code" href="../../d2/d1/structtmp__fp__env__struct_1_1lo__traps__struct.html#o2">i</a>) <span class="comment">// MACH</span>
03516         <span class="keywordflow">return</span> (1);
03517     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o0">o</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o1">un</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o19">em_traps</a>.<a class="code" href="../../d8/d0/structtmp__fp__env__struct_1_1em__traps__struct.html#o2">i</a>) <span class="comment">// MACH</span>
03518         <span class="keywordflow">return</span> (1);
03519     <span class="keywordflow">return</span> (0);
03520 }
03521 
03522 
03523 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a>
<a name="l03524"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a204">03524</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a204">fp_reg_read</a>(<a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> freg)
03525 {
03526     <a class="code" href="../../d0/d0/structfp__reg__struct.html">EM_fp_reg_type</a> tmp_freg;
03527     tmp_freg = freg;
03528  <span class="comment">/* insert true register file exponent for double-extended (pseudo-)denormal */</span>
03529     <span class="keywordflow">if</span> ((tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a> == 0) &amp;&amp; (tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o0">significand</a> != U64_0))
03530         tmp_freg.<a class="code" href="../../d0/d0/structfp__reg__struct.html#o1">exponent</a>=0x0C001;
03531     <span class="keywordflow">return</span> (tmp_freg);
03532 }
03533 
03534 
03535 
03536 <span class="comment">// *******************************************************************</span>
03537 <span class="comment">// fp_update_fpsr()</span>
03538 <span class="comment">// *******************************************************************</span>
03539 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <span class="keywordtype">void</span>
<a name="l03540"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a212">03540</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a22">fp_update_fpsr</a>(
03541     EM_opcode_sf_type  sf,
03542     <a class="code" href="../../d6/d0/structtmp__fp__env__struct.html">EM_tmp_fp_env_type</a> tmp_fp_env )
03543 {
03544     <span class="keywordflow">if</span> (sf == <a class="code" href="../../d2/d3/fetypes_8h.html#a449a375">sf_none</a>) {
03545         <span class="keywordflow">return</span>;
03546     }
03547     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sf == <a class="code" href="../../d2/d3/fetypes_8h.html#a449a371">sfS0</a>) {
03548 
03549 <span class="comment">/*******************************************************************</span>
03550 <span class="comment">SF0</span>
03551 <span class="comment">*******************************************************************/</span>
03552        <span class="keywordflow">if</span>(tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o15">simd</a> == 1) {
03553 
03554 <span class="comment">/* SF0 simd fault: if either hi or low is set, set the s0 flag */</span>
03555          <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a>) {
03556             <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf0_flags_v);
03557          }
03558          <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a>) {
03559             <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf0_flags_d);
03560          }
03561          <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o2">z</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o2">z</a>) {
03562             <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf0_flags_z);
03563          }
03564 
03565 <span class="comment">/* SF0 simd trap: if either hi or low is set, set the s0 flag </span>
03566 <span class="comment">if the flag is over or underflow, also set inexact  */</span>
03567          <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o3">o</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o3">o</a>) {
03568             <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf0_flags_o);
03569          }
03570          <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o4">un</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o4">un</a>) { <span class="comment">// MACH</span>
03571             <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf0_flags_u);
03572          }
03573          <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a>) {
03574             <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf0_flags_i);
03575          }
03576       } <span class="comment">/* end of simd */</span>
03577 
03578       <span class="keywordflow">else</span> { <span class="comment">/* not simd */</span>
03579 
03580 <span class="comment">/* SF0 non-simd fault: if tmp flag is set and s0 flag is not, set the flag */</span>
03581          <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a>) {
03582             <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf0_flags_v);
03583          }
03584          <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a>) {
03585 <span class="comment">// printf ("MACH DEBUG: setting the D flag in update_fpsr ()\n");</span>
03586             <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf0_flags_d);
03587          }
03588          <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o2">z</a>) {
03589             <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf0_flags_z);
03590          }
03591    
03592 <span class="comment">/* SF0 non-simd trap: if tmp flag is set, set the flag.</span>
03593 <span class="comment">if the flag is over or underflow, also check inexact  */</span>
03594          <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o3">o</a>) {
03595             <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf0_flags_o);
03596             <span class="keywordflow">if</span> ( tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a>) {
03597                <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf0_flags_i);
03598             }
03599           }
03600           <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o4">un</a>) { <span class="comment">// MACH</span>
03601              <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf0_flags_u);
03602              <span class="keywordflow">if</span> ( tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a> )  {
03603                 <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf0_flags_i);
03604              }
03605           }
03606           <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a>) {
03607              <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf0_flags_i);
03608           }
03609        } <span class="comment">/* end of not simd */</span>
03610     } <span class="comment">/* end of SF0 */</span>
03611 
03612 <span class="comment">/*******************************************************************</span>
03613 <span class="comment">SF1</span>
03614 <span class="comment">*******************************************************************/</span>
03615     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sf == <a class="code" href="../../d2/d3/fetypes_8h.html#a449a372">sfS1</a>) {
03616         <span class="keywordflow">if</span>(tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o15">simd</a> == 1) {
03617 
03618 <span class="comment">/* SF1 simd fault: if either hi or low is set, set the s1 flag</span>
03619 <span class="comment">*/</span>
03620            <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a>) {
03621               <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf1_flags_v);
03622            }
03623            <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a>) {
03624               <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf1_flags_d);
03625            }
03626            <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o2">z</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o2">z</a>) {
03627               <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf1_flags_z);
03628            }
03629 
03630 <span class="comment">/* SF1 simd trap: if either hi or low is set and the s1 flag is not, set the s1 flag </span>
03631 <span class="comment">If the flag is over or underflow, also check inexact  */</span>
03632            <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o3">o</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o3">o</a>) {
03633               <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf1_flags_o);
03634            }
03635            <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o4">un</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o4">un</a>) { <span class="comment">// MACH</span>
03636               <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf1_flags_u);
03637            }
03638            <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a>) {
03639                 <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf1_flags_i);
03640             }
03641         } <span class="comment">/* end of simd SF1 */</span>
03642 
03643         <span class="keywordflow">else</span> { <span class="comment">/* not simd SF1 */</span>
03644 
03645 <span class="comment">/* SF1 non-simd fault: if tmp flag is set and s1 flag is not, set the flag </span>
03646 <span class="comment">*/</span>
03647            <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> ) {
03648               <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf1_flags_v);
03649            }
03650            <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> ) {
03651               <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf1_flags_d);
03652            }
03653            <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o2">z</a> ) {
03654               <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf1_flags_z);
03655            }
03656     
03657 <span class="comment">/* SF1 non-simd traps: if tmp flag is set and s1 flag is not, set the flag.</span>
03658 <span class="comment">if the flag is over or underflow, also check inexact  */</span>
03659            <span class="keywordflow">if</span> ( tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o3">o</a> ) {
03660               <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf1_flags_o);
03661               <span class="keywordflow">if</span> ( tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a> ) {
03662                  <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf1_flags_i);
03663               }
03664            }
03665            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o4">un</a> ) { <span class="comment">// MACH</span>
03666               <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf1_flags_u);
03667               <span class="keywordflow">if</span> ( tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a> ) {
03668                  <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf1_flags_i);
03669               }
03670            }
03671            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a> ) {
03672               <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf1_flags_i);
03673            }
03674         } <span class="comment">/*end of not simd  SF1 */</span>
03675       } <span class="comment">/* end of SF1 */</span>
03676 
03677 <span class="comment">/*******************************************************************</span>
03678 <span class="comment">SF2</span>
03679 <span class="comment">*******************************************************************/</span>
03680       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sf == <a class="code" href="../../d2/d3/fetypes_8h.html#a449a373">sfS2</a>) {
03681          <span class="keywordflow">if</span>(tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o15">simd</a> == 1) {
03682 
03683 <span class="comment">/* SF2 simd fault: if either hi or low is set and the s2 flag is not, set the s2 flag</span>
03684 <span class="comment">*/</span>
03685             <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a>) {
03686                <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf2_flags_v);
03687             }
03688             <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a>) {
03689                <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf2_flags_d);
03690             }
03691             <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o2">z</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o2">z</a>) {
03692                <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf2_flags_z);
03693             }
03694 
03695 <span class="comment">/* SF2 simd trap: if either hi or low is set and the s2 flag is not, set the s2 flag </span>
03696 <span class="comment">If the flag is over or underflow, also check inexact  */</span>
03697             <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o3">o</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o3">o</a>) {
03698                 <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf2_flags_o);
03699             }
03700             <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o4">un</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o4">un</a>) { <span class="comment">// MACH</span>
03701                <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf2_flags_u);
03702             }
03703             <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a>) {
03704                 <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf2_flags_i);
03705             }
03706          } <span class="comment">/* end of simd SF2 */</span>
03707 
03708          <span class="keywordflow">else</span> { <span class="comment">/* not simd SF2 */</span>
03709 
03710 <span class="comment">/* SF2 non-simd fault: if tmp flag is set and s2 flag is not, set the flag </span>
03711 <span class="comment">*/</span>
03712             <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> ) {
03713                <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf2_flags_v);
03714             }
03715             <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> ) {
03716                <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf2_flags_d);
03717             }
03718             <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o2">z</a> ) {
03719                <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf2_flags_z);
03720             }
03721 
03722 <span class="comment">/* SF2 non-simd traps: if tmp flag is set and s2 flag is not, set the flag.</span>
03723 <span class="comment">if the flag is over or underflow, also check inexact  */</span>
03724             <span class="keywordflow">if</span> ( tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o3">o</a> ) {
03725                <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf2_flags_o);
03726                <span class="keywordflow">if</span> ( tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a> ) {
03727                   <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf2_flags_i);
03728                }
03729             }
03730             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o4">un</a> ) { <span class="comment">// MACH</span>
03731                <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf2_flags_u);
03732                <span class="keywordflow">if</span> ( tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a> ) {
03733                     <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf2_flags_i);
03734                }
03735             }
03736             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a> ) {
03737                <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf2_flags_i);
03738             }
03739        } <span class="comment">/* end of not simd SF2 */</span>
03740     } <span class="comment">/* end of SF2 */</span>
03741 
03742 <span class="comment">/*******************************************************************</span>
03743 <span class="comment">SF3</span>
03744 <span class="comment">*******************************************************************/</span>
03745     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sf == <a class="code" href="../../d2/d3/fetypes_8h.html#a449a374">sfS3</a>) {
03746        <span class="keywordflow">if</span>(tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o15">simd</a> == 1) {
03747 
03748 <span class="comment">/* SF3 simd fault: if either hi or low is set and the s3 flag is not, set the s3 flag</span>
03749 <span class="comment">*/</span>
03750           <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a>) {
03751              <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf3_flags_v);
03752           }
03753           <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a>) {
03754              <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf3_flags_d);
03755           }
03756           <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o2">z</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o2">z</a>) {
03757              <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf3_flags_z);
03758           }
03759 
03760 <span class="comment">/* SF3 simd trap: if either hi or low is set and the s3 flag is not, set the s3 flag </span>
03761 <span class="comment">If the flag is over or underflow, also check inexact  */</span>
03762           <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o3">o</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o3">o</a>) {
03763              <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf3_flags_o);
03764           }
03765           <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o4">un</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o4">un</a>) { <span class="comment">// MACH</span>
03766              <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf3_flags_u);
03767           }
03768           <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o7">hi_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a> || tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o8">lo_flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a>) {
03769              <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf3_flags_i);
03770           }
03771        } <span class="comment">/* end of simd SF3 */</span>
03772 
03773        <span class="keywordflow">else</span> { <span class="comment">/* not simd SF3 */</span>
03774 
03775 <span class="comment">/* SF3 non-simd fault: if tmp flag is set and s3 flag is not, set the flag </span>
03776 <span class="comment"> */</span>
03777           <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o0">v</a> ) {
03778              <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf3_flags_v);
03779           }
03780           <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o1">d</a> ) {
03781              <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf3_flags_d);
03782           }
03783           <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o2">z</a> ) {
03784              <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf3_flags_z);
03785           }
03786     
03787 <span class="comment">/* SF3 non-simd traps: if tmp flag is set and s3 flag is not, set the flag.</span>
03788 <span class="comment">if the flag is over or underflow, also check inexact  */</span>
03789           <span class="keywordflow">if</span> ( tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o3">o</a> ) {
03790              <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf3_flags_o);
03791              <span class="keywordflow">if</span> ( tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a> ) {
03792                 <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf3_flags_i);
03793              }
03794           }
03795           <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o4">un</a> ) { <span class="comment">// MACH</span>
03796              <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf3_flags_u);
03797              <span class="keywordflow">if</span> ( tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a> ) {
03798                 <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf3_flags_i);
03799              }
03800           }
03801           <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmp_fp_env.<a class="code" href="../../d6/d0/structtmp__fp__env__struct.html#o6">flags</a>.<a class="code" href="../../d6/d9/structflags__struct.html#o5">i</a> ) {
03802              <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a0">FPSR</a>.sf3_flags_i);
03803           }
03804        } <span class="comment">/* end of not simd SF3 */</span>
03805     } <span class="comment">/* end of SF3 */</span>
03806 } <span class="comment">/* end of fp_update_fpsr */</span>
03807 
03808 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <span class="keywordtype">void</span>
<a name="l03809"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a213">03809</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a23">fp_update_psr</a>(EM_uint_t dest_freg)
03810 {
03811 <a class="code" href="../../d2/d3/fetypes_8h.html#a12">EM_uint_t</a> disabled_limit = 31;
03812 
03813     <span class="keywordflow">if</span> ( (dest_freg &gt;= 2) &amp;&amp; (dest_freg &lt;= disabled_limit) ){
03814         <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a2">PSR</a>.mfl);
03815     }
03816     <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( (dest_freg &gt; disabled_limit) ) {
03817         <a class="code" href="../../d1/d2/fehelper_8h.html#a24">SET_STATUS_FLAG</a>(<a class="code" href="../../d9/d2/festate_8h.html#a2">PSR</a>.mfh);
03818     }
03819 }
03820 
03821 
03822 <span class="comment">/* EM_int64_t, EM_uint64_t, EM_uint128_t and EM_uint256_t support routines */</span>
03823 
03824 <span class="comment">/* 128-bit unsigned int support routines */</span>
03825 
03826 <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03827"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a214">03827</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a214">fp82_fp_U128_eq</a>(<a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> value1, <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> value2)
03828 {
03829     <span class="keywordflow">if</span> ( (value1.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> == value2.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>)
03830       &amp;&amp; (value1.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> == value2.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a>) )
03831         <span class="keywordflow">return</span> (1);
03832     <span class="keywordflow">else</span>
03833         <span class="keywordflow">return</span> (0);
03834 }
03835 
03836 <span class="keyword">static</span> <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03837"></a><a class="code" href="../../d0/d2/fehelper_8c.html#a82">03837</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a215">fp_U128_ge</a>(<a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> value1, <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> value2)
03838 {
03839     <span class="keywordflow">if</span> (value1.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> &gt;  value2.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>)
03840         <span class="keywordflow">return</span> (1);
03841     <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( (value1.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> == value2.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>)
03842            &amp;&amp; (value1.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> &gt;= value2.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a>) )
03843         <span class="keywordflow">return</span> (1);
03844     <span class="keywordflow">else</span>
03845         <span class="keywordflow">return</span> (0);
03846 }
03847 
03848 <span class="keyword">static</span> <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03849"></a><a class="code" href="../../d0/d2/fehelper_8c.html#a83">03849</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a216">fp_U128_gt</a>(<a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> value1, <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> value2)
03850 {
03851     <span class="keywordflow">if</span> (value1.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> &gt; value2.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>)
03852         <span class="keywordflow">return</span> (1);
03853     <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( (value1.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> == value2.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>)
03854            &amp;&amp; (value1.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> &gt;  value2.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a>) )
03855         <span class="keywordflow">return</span> (1);
03856     <span class="keywordflow">else</span>
03857         <span class="keywordflow">return</span> (0);
03858 }
03859 
03860 <span class="keyword">static</span> <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03861"></a><a class="code" href="../../d0/d2/fehelper_8c.html#a84">03861</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a217">fp_U128_le</a>(<a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> value1, <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> value2)
03862 {
03863     <span class="keywordflow">if</span> (value1.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> &lt;  value2.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>)
03864         <span class="keywordflow">return</span> (1);
03865     <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( (value1.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> == value2.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>)
03866            &amp;&amp; (value1.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> &lt;= value2.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a>) )
03867         <span class="keywordflow">return</span> (1);
03868     <span class="keywordflow">else</span>
03869         <span class="keywordflow">return</span> (0);
03870 }
03871 
03872 <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l03873"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a218">03873</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a218">fp82_fp_U128_lt</a>(<a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> value1, <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> value2)
03874 {
03875     <span class="keywordflow">if</span> (value1.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> &lt; value2.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>)
03876         <span class="keywordflow">return</span> (1);
03877     <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( (value1.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> == value2.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>)
03878            &amp;&amp; (value1.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> &lt;  value2.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a>) )
03879         <span class="keywordflow">return</span> (1);
03880     <span class="keywordflow">else</span>
03881         <span class="keywordflow">return</span> (0);
03882 }
03883 
03884 <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a>
<a name="l03885"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a221">03885</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a221">fp82_fp_U128_lsh</a>(<a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> value, EM_uint_t count)
03886 {
03887 <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> tmp;
03888 
03889     <span class="keywordflow">if</span> (count == 0) {
03890         <span class="keywordflow">return</span>(value);
03891     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count &gt;= 128) {
03892         <span class="keywordflow">return</span> (U128_0);
03893 
03894     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count &gt;  64) {
03895         tmp.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a>  = U64_0;
03896         tmp.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> = (value.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a>&lt;&lt;(count-64));
03897         <span class="keywordflow">return</span> (tmp);
03898     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count == 64) {
03899         tmp.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a>  = U64_0;
03900         tmp.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> = value.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a>;
03901         <span class="keywordflow">return</span> (tmp);
03902     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count &gt;  0) {
03903         tmp.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> = (value.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a>&lt;&lt;count);
03904         tmp.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> = (value.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>&lt;&lt;count) | (value.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a>&gt;&gt;(64-count)) ;
03905         <span class="keywordflow">return</span> (tmp);
03906     }
03907    <span class="keywordflow">return</span>(value); <span class="comment">// MACH ADDED</span>
03908 }
03909 
03910 <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a>
<a name="l03911"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a222">03911</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a222">fp82_fp_U128_rsh</a>(<a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> value, EM_uint_t count)
03912 {
03913 <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> tmp;
03914 
03915     <span class="keywordflow">if</span> (count == 0) {
03916         <span class="keywordflow">return</span> (value);
03917     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count &gt;= 128) {
03918         <span class="keywordflow">return</span> (U128_0);
03919 
03920     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count &gt; 64) {
03921         tmp.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> = (value.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>&gt;&gt;(count-64));
03922         tmp.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>  = U64_0;
03923         <span class="keywordflow">return</span> (tmp);
03924     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count == 64) {
03925         tmp.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> = value.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>;
03926         tmp.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>  = U64_0;
03927         <span class="keywordflow">return</span> (tmp);
03928     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count &gt;  0) {
03929         tmp.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> = (value.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a>&gt;&gt;count) | (value.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>&lt;&lt;(64-count));
03930         tmp.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> = (value.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>&gt;&gt;count);
03931         <span class="keywordflow">return</span> (tmp);
03932     } 
03933     <span class="keywordflow">return</span>(U128_0); <span class="comment">// MACH ADDED</span>
03934 }
03935 
03936 <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a>
<a name="l03937"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a223">03937</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a223">fp82_fp_U64_x_U64_to_U128</a>(EM_uint64_t value1, EM_uint64_t value2)
03938 {
03939     <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> tmp_res;
03940     <a class="code" href="../../d2/d3/fetypes_8h.html#a17">EM_uint64_t</a> r0, s0, t0;
03941     <a class="code" href="../../d2/d3/fetypes_8h.html#a17">EM_uint64_t</a> r1, s1, t1;
03942 
03943     s0 = (value1&lt;&lt;32)&gt;&gt;32;
03944     s1 = (value1&gt;&gt;32);
03945 
03946     t0 = (value2&lt;&lt;32)&gt;&gt;32;
03947     t1 = (value2&gt;&gt;32);
03948 
03949 <span class="preprocessor">#ifdef HPC_BUGS</span>
03950 <span class="preprocessor"></span>    s0 = ((<a class="code" href="../../d2/d3/fetypes_8h.html#a17">EM_uint64_t</a>)( ( ( ((<a class="code" href="../../d2/d3/fetypes_8h.html#a16">EM_int64_t</a>)s0) &lt;&lt; 32 ) &gt;&gt; 32 ) ));
03951     s1 = ((<a class="code" href="../../d2/d3/fetypes_8h.html#a17">EM_uint64_t</a>)( ( ( ((<a class="code" href="../../d2/d3/fetypes_8h.html#a16">EM_int64_t</a>)s1) &lt;&lt; 32 ) &gt;&gt; 32 ) ));
03952     t0 = ((<a class="code" href="../../d2/d3/fetypes_8h.html#a17">EM_uint64_t</a>)( ( ( ((<a class="code" href="../../d2/d3/fetypes_8h.html#a16">EM_int64_t</a>)t0) &lt;&lt; 32 ) &gt;&gt; 32 ) ));
03953     t1 = ((<a class="code" href="../../d2/d3/fetypes_8h.html#a17">EM_uint64_t</a>)( ( ( ((<a class="code" href="../../d2/d3/fetypes_8h.html#a16">EM_int64_t</a>)t1) &lt;&lt; 32 ) &gt;&gt; 32 ) ));
03954 <span class="preprocessor">#endif</span>
03955 <span class="preprocessor"></span>
03956     tmp_res.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> = s0 * t0;
03957 
03958 <span class="preprocessor">#ifdef HPC_BUGS</span>
03959 <span class="preprocessor"></span>    <span class="keywordflow">if</span>(s0 &amp; U64_0x0000000080000000)
03960         tmp_res.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> += t0&lt;&lt;32;
03961     <span class="keywordflow">if</span>(t0 &amp; U64_0x0000000080000000)
03962         tmp_res.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> += s0&lt;&lt;32;
03963 <span class="preprocessor">#endif</span>
03964 <span class="preprocessor"></span>
03965 
03966     r0 = s0 * t1;
03967 
03968 <span class="preprocessor">#ifdef HPC_BUGS</span>
03969 <span class="preprocessor"></span>    <span class="keywordflow">if</span>(s0 &amp; U64_0x0000000080000000)
03970         r0 += t1&lt;&lt;32;
03971     <span class="keywordflow">if</span>(t1 &amp; U64_0x0000000080000000)
03972         r0 += s0&lt;&lt;32;
03973 <span class="preprocessor">#endif</span>
03974 <span class="preprocessor"></span>
03975 
03976     r1 = s1 * t0;
03977 
03978 <span class="preprocessor">#ifdef HPC_BUGS</span>
03979 <span class="preprocessor"></span>    <span class="keywordflow">if</span>(s1 &amp; U64_0x0000000080000000)
03980         r1 += t0&lt;&lt;32;
03981     <span class="keywordflow">if</span>(t0 &amp; U64_0x0000000080000000)
03982         r1 += s1&lt;&lt;32;
03983 <span class="preprocessor">#endif</span>
03984 <span class="preprocessor"></span>
03985 
03986     tmp_res.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> = s1 * t1;
03987 
03988 <span class="preprocessor">#ifdef HPC_BUGS</span>
03989 <span class="preprocessor"></span>    <span class="keywordflow">if</span>(s1 &amp; U64_0x0000000080000000)
03990         tmp_res.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> += t1&lt;&lt;32;
03991     <span class="keywordflow">if</span>(t1 &amp; U64_0x0000000080000000)
03992         tmp_res.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> += s1&lt;&lt;32;
03993 <span class="preprocessor">#endif</span>
03994 <span class="preprocessor"></span>
03995 
03996     <span class="keywordflow">if</span> ( (tmp_res.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> + (r0&lt;&lt;32)) &lt; tmp_res.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a>)
03997         tmp_res.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>++;
03998 
03999     tmp_res.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> += (r0&lt;&lt;32);
04000 
04001     <span class="keywordflow">if</span> ( (tmp_res.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> + (r1&lt;&lt;32)) &lt; tmp_res.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a>)
04002         tmp_res.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>++;
04003 
04004     tmp_res.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> += (r1&lt;&lt;32);
04005     tmp_res.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> += (r0&gt;&gt;32);
04006     tmp_res.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> += (r1&gt;&gt;32);
04007 
04008     <span class="keywordflow">return</span> (tmp_res);
04009 }
04010 
04011 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a>
<a name="l04012"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a224">04012</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a224">fp_I64_x_I64_to_I128</a>(EM_uint64_t value1, EM_uint64_t value2)
04013 {
04014     <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> tmp_res;
04015     <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> scratch;
04016 
04017     tmp_res = <a class="code" href="../../d1/d2/fehelper_8h.html#a26">fp_U64_x_U64_to_U128</a>(value1, value2);
04018 
04019     <span class="keywordflow">if</span> (value1 &amp; U64_0x8000000000000000) {
04020         scratch = <a class="code" href="../../d1/d2/fehelper_8h.html#a238">fp_U64_to_U128</a>(value2);
04021         scratch = <a class="code" href="../../d1/d2/fehelper_8h.html#a37">fp_U128_lsh</a>(scratch,64);
04022         scratch = <a class="code" href="../../d1/d2/fehelper_8h.html#a226">fp_U128_neg</a>(scratch);
04023         tmp_res = <a class="code" href="../../d1/d2/fehelper_8h.html#a27">fp_U128_add</a>(scratch, tmp_res);
04024     } 
04025 
04026     <span class="keywordflow">if</span> (value2 &amp; U64_0x8000000000000000) {
04027         scratch = <a class="code" href="../../d1/d2/fehelper_8h.html#a238">fp_U64_to_U128</a>(value1);
04028         scratch = <a class="code" href="../../d1/d2/fehelper_8h.html#a37">fp_U128_lsh</a>(scratch,64);
04029         scratch = <a class="code" href="../../d1/d2/fehelper_8h.html#a226">fp_U128_neg</a>(scratch);
04030         tmp_res = <a class="code" href="../../d1/d2/fehelper_8h.html#a27">fp_U128_add</a>(scratch, tmp_res);
04031     } 
04032 
04033     <span class="keywordflow">return</span> (tmp_res);
04034 }
04035 
04036 <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a>
<a name="l04037"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a225">04037</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a225">fp82_fp_U128_inc</a>(<a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> value)
04038 {
04039     <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> tmp;
04040             <span class="comment">/* add one */</span>
04041     tmp.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> = value.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> + 1;
04042     tmp.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> = value.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> + (tmp.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> &lt; value.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a>);
04043 
04044     <span class="keywordflow">return</span> (tmp);
04045 }
04046 
04047 <span class="keyword">static</span> <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a>
<a name="l04048"></a><a class="code" href="../../d0/d2/fehelper_8c.html#a91">04048</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a226">fp_U128_neg</a>(<a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> value)
04049 {
04050     <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> tmp;
04051 
04052             <span class="comment">/* complement */</span>
04053     value.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> = ~value.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a>;
04054     value.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> = ~value.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>;
04055             <span class="comment">/* add one */</span>
04056     tmp.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> = value.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> + 1;
04057     tmp.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> = value.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> + (tmp.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> &lt; value.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a>);
04058     <span class="keywordflow">return</span> (tmp);
04059 }
04060 
04061 <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a>
<a name="l04062"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a227">04062</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a227">fp82_fp_U128_add</a>(<a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> value1,
04063                  <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> value2)
04064 {
04065     <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> tmp;
04066 
04067         <span class="comment">/* sum  */</span>
04068     value2.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> = value1.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> + value2.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a>;
04069     value2.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> = value1.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> + value2.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>;
04070         <span class="comment">/* carry */</span>
04071     tmp.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> = 0;
04072     tmp.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> = (value2.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> &lt; value1.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a>);
04073 
04074         <span class="comment">/* carry propagate adder */</span>
04075     tmp.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> =  value2.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a>;
04076     tmp.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> += value2.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>;
04077     <span class="keywordflow">return</span> (tmp);
04078 }
04079 
04080 <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a>
<a name="l04081"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a228">04081</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a228">fp82_fp_U128_bor</a>(<a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> value1, <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> value2)
04082 {
04083     <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> tmp_res;
04084     tmp_res.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> = value1.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> | value2.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a>;
04085     tmp_res.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> = value1.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> | value2.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>;
04086     <span class="keywordflow">return</span> (tmp_res);
04087 }
04088 
04089 <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a>
<a name="l04090"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a229">04090</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a229">fp82_fp_U128_band</a>(<a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> value1, <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> value2)
04091 {
04092     <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> tmp_res;
04093     tmp_res.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> = value1.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> &amp; value2.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a>;
04094     tmp_res.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> = value1.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> &amp; value2.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>;
04095     <span class="keywordflow">return</span> (tmp_res);
04096 }
04097 
04098 <span class="comment">/* 256-bit unsigned int support routines */</span>
04099 
04100 <a class="code" href="../../d2/d3/fetypes_8h.html#a15">EM_boolean_t</a>
<a name="l04101"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a230">04101</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a230">fp82_fp_U256_eq</a>(<a class="code" href="../../d7/d1/structuint256__struct.html">EM_uint256_t</a> value1, <a class="code" href="../../d7/d1/structuint256__struct.html">EM_uint256_t</a> value2)
04102 {
04103     <span class="keywordflow">if</span> ( (value1.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a> == value2.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a>)
04104       &amp;&amp; (value1.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a> == value2.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a> )
04105       &amp;&amp; (value1.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a> == value2.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a> )
04106       &amp;&amp; (value1.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a> == value2.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a> ) )
04107         <span class="keywordflow">return</span> (1);
04108     <span class="keywordflow">else</span>
04109         <span class="keywordflow">return</span> (0);
04110 }
04111 
04112 
04113 <a class="code" href="../../d7/d1/structuint256__struct.html">EM_uint256_t</a>
<a name="l04114"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a233">04114</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a233">fp82_fp_U256_lsh</a>(<a class="code" href="../../d7/d1/structuint256__struct.html">EM_uint256_t</a> value, EM_uint_t count)
04115 {
04116 <a class="code" href="../../d7/d1/structuint256__struct.html">EM_uint256_t</a> tmp;
04117     <span class="keywordflow">if</span> (count == 0) {
04118         <span class="keywordflow">return</span> (value);
04119     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count &gt;= 256) {
04120         <span class="keywordflow">return</span> (U256_0);
04121 
04122     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count &gt;  192) {
04123         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a>  = U64_0;
04124         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a>  = U64_0;
04125         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a>  = U64_0;
04126         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a> = (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a>&lt;&lt;(count-192));
04127         <span class="keywordflow">return</span> (tmp);
04128     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count == 192) {
04129         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a>  = U64_0;
04130         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a>  = U64_0;
04131         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a>  = U64_0;
04132         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a> = value.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a>;
04133         <span class="keywordflow">return</span> (tmp);
04134     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count &gt;  128) {
04135         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a>  = U64_0;
04136         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a>  = U64_0;
04137         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a> = (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a>&lt;&lt;(count-128));
04138         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a> = (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a>&lt;&lt;(count-128)) | (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a>&gt;&gt;(192-count));
04139         <span class="keywordflow">return</span> (tmp);
04140     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count == 128) {
04141         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a>  = U64_0;
04142         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a>  = U64_0;
04143         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a> = value.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a>;
04144         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a> = value.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a>;
04145         <span class="keywordflow">return</span> (tmp);
04146     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count &gt;  64) {
04147         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a>  = U64_0;
04148         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a> = (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a>&lt;&lt;(count-64));
04149         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a> = (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a>&lt;&lt;(count-64)) | (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a>&gt;&gt;(128-count)) ;
04150         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a> = (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a>&lt;&lt;(count-64)) | (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a>&gt;&gt;(128-count)) ;
04151         <span class="keywordflow">return</span> (tmp);
04152     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count == 64) {
04153         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a> = 0;
04154         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a> = value.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a>;
04155         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a> = value.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a>;
04156         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a> = value.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a>;
04157         <span class="keywordflow">return</span> (tmp);
04158     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count &gt;  0) {
04159         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a> = (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a>&lt;&lt;count);
04160         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a> = (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a>&lt;&lt;count) | (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a>&gt;&gt;(64-count)) ;
04161         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a> = (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a>&lt;&lt;count) | (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a>&gt;&gt;(64-count)) ;
04162         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a> = (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a>&lt;&lt;(count)) | (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a>&gt;&gt;(64-count)) ;
04163         <span class="keywordflow">return</span> (tmp);
04164     } 
04165     <span class="keywordflow">return</span>(U256_0); <span class="comment">// MACH ADDED</span>
04166 
04167 }
04168 
04169 <a class="code" href="../../d7/d1/structuint256__struct.html">EM_uint256_t</a>
<a name="l04170"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a234">04170</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a234">fp82_fp_U256_rsh</a>(<a class="code" href="../../d7/d1/structuint256__struct.html">EM_uint256_t</a> value, EM_uint_t count)
04171 {
04172 <a class="code" href="../../d7/d1/structuint256__struct.html">EM_uint256_t</a> tmp;
04173     <span class="keywordflow">if</span> (count == 0) {
04174         <span class="keywordflow">return</span> (value);
04175     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count &gt;= 256) {
04176         <span class="keywordflow">return</span> (U256_0);
04177 
04178     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count &gt;  192) {
04179         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a> = (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a>&gt;&gt;(count-192));
04180         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a>  = U64_0;
04181         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a>  = U64_0;
04182         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a>  = U64_0;
04183         <span class="keywordflow">return</span> (tmp);
04184     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count == 192) {
04185         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a> = value.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a>;
04186         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a>  = U64_0;
04187         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a>  = U64_0;
04188         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a>  = U64_0;
04189         <span class="keywordflow">return</span> (tmp);
04190     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count &gt;  128) {
04191         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a> = (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a>&gt;&gt;(count-128)) | (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a>&lt;&lt;(192-count));
04192         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a> = (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a>&gt;&gt;(count-128));
04193         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a>  = U64_0;
04194         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a>  = U64_0;
04195         <span class="keywordflow">return</span> (tmp);
04196     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count == 128) {
04197         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a> = value.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a>;
04198         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a> = value.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a>;
04199         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a>  = U64_0;
04200         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a>  = U64_0;
04201         <span class="keywordflow">return</span> (tmp);
04202     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count &gt;  64) {
04203         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a> = (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a>&gt;&gt;(count-64)) | (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a>&lt;&lt;(128-count));
04204         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a> = (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a>&gt;&gt;(count-64)) | (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a>&lt;&lt;(128-count));
04205         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a> = (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a>&gt;&gt;(count-64));
04206         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a>  = U64_0;
04207         <span class="keywordflow">return</span> (tmp);
04208     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count == 64) {
04209         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a> = value.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a>;
04210         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a> = value.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a>;
04211         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a> = value.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a>;
04212         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a>  = U64_0;
04213         <span class="keywordflow">return</span> (tmp);
04214     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count &gt;  0) {
04215         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a> = (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a>&gt;&gt;count) | (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a>&lt;&lt;(64-count));
04216         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a> = (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a>&gt;&gt;count) | (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a>&lt;&lt;(64-count));
04217         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a> = (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a>&gt;&gt;count) | (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a>&lt;&lt;(64-count));
04218         tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a> = (value.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a>&gt;&gt;count);
04219         <span class="keywordflow">return</span> (tmp);
04220     } 
04221     <span class="keywordflow">return</span>(U256_0); <span class="comment">// MACH ADDED</span>
04222 
04223 }
04224 
04225 <a class="code" href="../../d7/d1/structuint256__struct.html">EM_uint256_t</a>
<a name="l04226"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a235">04226</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a235">fp82_fp_U256_inc</a>(<a class="code" href="../../d7/d1/structuint256__struct.html">EM_uint256_t</a> value)
04227 {
04228     <a class="code" href="../../d7/d1/structuint256__struct.html">EM_uint256_t</a> tmp;
04229 
04230             <span class="comment">/* add one */</span>
04231     tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a> = value.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a> + 1;
04232     tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a> = value.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a> + (tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a> &lt; value.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a>);
04233     tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a> = value.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a> + (tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a> &lt; value.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a>);
04234     tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a> = value.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a> + (tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a> &lt; value.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a>);
04235     <span class="keywordflow">return</span> (tmp);
04236 }
04237 
04238 <span class="keyword">static</span> <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d7/d1/structuint256__struct.html">EM_uint256_t</a>
<a name="l04239"></a><a class="code" href="../../d0/d2/fehelper_8c.html#a99">04239</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a236">fp_U256_neg</a>(<a class="code" href="../../d7/d1/structuint256__struct.html">EM_uint256_t</a> value)
04240 {
04241     <a class="code" href="../../d7/d1/structuint256__struct.html">EM_uint256_t</a> tmp;
04242 
04243             <span class="comment">/* complement */</span>
04244     value.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a> = ~value.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a>;
04245     value.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a> = ~value.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a>;
04246     value.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a> = ~value.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a>;
04247     value.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a> = ~value.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a>;
04248             <span class="comment">/* add one */</span>
04249     tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a> = value.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a> + 1;
04250     tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a> = value.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a> + (tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a> &lt; value.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a>);
04251     tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a> = value.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a> + (tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a> &lt; value.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a>);
04252     tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a> = value.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a> + (tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a> &lt; value.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a>);
04253     <span class="keywordflow">return</span> (tmp);
04254 }
04255 
04256 <span class="keyword">static</span> <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d7/d1/structuint256__struct.html">EM_uint256_t</a>
<a name="l04257"></a><a class="code" href="../../d0/d2/fehelper_8c.html#a100">04257</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a237">fp_U256_add</a>(<a class="code" href="../../d7/d1/structuint256__struct.html">EM_uint256_t</a> value1, <a class="code" href="../../d7/d1/structuint256__struct.html">EM_uint256_t</a> value2)
04258 {
04259     <a class="code" href="../../d7/d1/structuint256__struct.html">EM_uint256_t</a> tmp;
04260 
04261         <span class="comment">/* sum  */</span>
04262     value2.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a> = value1.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a> + value2.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a>;
04263     value2.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a> = value1.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a> + value2.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a>;
04264     value2.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a> = value1.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a> + value2.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a>;
04265     value2.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a> = value1.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a> + value2.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a>;
04266         <span class="comment">/* carry */</span>
04267     tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a> = 0;
04268     tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a> = (value2.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a> &lt; value1.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a>);
04269     tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a> = (value2.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a> &lt; value1.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a>);
04270     tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a> = (value2.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a> &lt; value1.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a>);
04271 <span class="comment">/*  c_out  = (value2.hh &lt; value1.hh); */</span>
04272         <span class="comment">/* carry propagate adder */</span>
04273     tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a> =  value2.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a>;
04274     tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a> += value2.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a>;
04275     tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a> += value2.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a> + (tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a> &lt; value2.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a>);
04276     tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a> += value2.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a> + (tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a> &lt; value2.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a>);
04277 <span class="comment">/*  c_out  +=             (tmp.hh &lt; value2.hh); */</span>
04278     <span class="keywordflow">return</span> (tmp);
04279 }
04280 
04281 <span class="comment">/* Basic Conversion Routines */</span>
04282 
04283 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a>
<a name="l04284"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a238">04284</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a238">fp_U64_to_U128</a>(EM_uint64_t value)
04285 {
04286     <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> tmp;
04287     tmp.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> = value;
04288     tmp.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> = U64_0;
04289     <span class="keywordflow">return</span> (tmp);
04290 }
04291 
04292 <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a17">EM_uint64_t</a>
<a name="l04293"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a239">04293</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a239">fp_U128_to_U64</a>(<a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> value)
04294 {
04295     <a class="code" href="../../d2/d3/fetypes_8h.html#a17">EM_uint64_t</a> tmp;
04296     tmp = value.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a>;
04297     <span class="keywordflow">return</span> (tmp);
04298 }
04299 
04300 <span class="keyword">static</span> <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d7/d1/structuint256__struct.html">EM_uint256_t</a>
<a name="l04301"></a><a class="code" href="../../d0/d2/fehelper_8c.html#a103">04301</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a240">fp_U64_to_U256</a>(EM_uint64_t value)
04302 {
04303     <a class="code" href="../../d7/d1/structuint256__struct.html">EM_uint256_t</a> tmp;
04304     tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a> = value;
04305     tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a> = U64_0;
04306     tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a> = U64_0;
04307     tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a> = U64_0;
04308     <span class="keywordflow">return</span> (tmp);
04309 }
04310 
04311 <span class="keyword">static</span> <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d2/d3/fetypes_8h.html#a17">EM_uint64_t</a>
<a name="l04312"></a><a class="code" href="../../d0/d2/fehelper_8c.html#a104">04312</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a241">fp_U256_to_U64</a>(<a class="code" href="../../d7/d1/structuint256__struct.html">EM_uint256_t</a> value)
04313 {
04314     <a class="code" href="../../d2/d3/fetypes_8h.html#a17">EM_uint64_t</a> tmp;
04315     tmp = value.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a>;
04316     <span class="keywordflow">return</span> (tmp);
04317 }
04318 
04319 <a class="code" href="../../d7/d1/structuint256__struct.html">EM_uint256_t</a>
<a name="l04320"></a><a class="code" href="../../d1/d2/fehelper_8h.html#a242">04320</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a242">fp82_fp_U128_to_U256</a>(<a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> value)
04321 {
04322     <a class="code" href="../../d7/d1/structuint256__struct.html">EM_uint256_t</a> tmp;
04323     tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a> = value.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a>;
04324     tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a> = value.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a>;
04325     tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o2">hl</a>  = U64_0;
04326     tmp.<a class="code" href="../../d7/d1/structuint256__struct.html#o3">hh</a>  = U64_0;
04327     <span class="keywordflow">return</span> (tmp);
04328 }
04329 
04330 <span class="keyword">static</span> <a class="code" href="../../d5/d3/filelock_8c.html#a1">INLINE</a> <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a>
<a name="l04331"></a><a class="code" href="../../d0/d2/fehelper_8c.html#a106">04331</a> <a class="code" href="../../d1/d2/fehelper_8h.html#a243">fp_U256_to_U128</a>(<a class="code" href="../../d7/d1/structuint256__struct.html">EM_uint256_t</a> value)
04332 {
04333     <a class="code" href="../../d6/d1/structuint128__struct.html">EM_uint128_t</a> tmp;
04334     tmp.<a class="code" href="../../d6/d1/structuint128__struct.html#o0">lo</a> = value.<a class="code" href="../../d7/d1/structuint256__struct.html#o0">ll</a>;
04335     tmp.<a class="code" href="../../d6/d1/structuint128__struct.html#o1">hi</a> = value.<a class="code" href="../../d7/d1/structuint256__struct.html#o1">lh</a>;
04336     <span class="keywordflow">return</span> (tmp);
04337 }
04338 
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:39:59 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
