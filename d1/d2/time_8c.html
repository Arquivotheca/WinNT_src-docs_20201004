<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: time.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>time.c File Reference</h1><code>#include "<a class="el" href="../../d6/d8/ntrtlp_8h-source.html">ntrtlp.h</a>"</code><br>

<p>
<a href="../../d2/d1/time_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a0">WEEKDAY_OF_1601</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a1">SHIFT10000</a>&nbsp;&nbsp;&nbsp;13</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a2">SHIFT10000000</a>&nbsp;&nbsp;&nbsp;23</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a3">SHIFT86400000</a>&nbsp;&nbsp;&nbsp;26</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a4">Convert100nsToMilliseconds</a>(LARGE_INTEGER)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a5">ConvertMillisecondsTo100ns</a>(MILLISECONDS)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a6">Convert100nsToSeconds</a>(LARGE_INTEGER)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a7">ConvertSecondsTo100ns</a>(SECONDS)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a8">ConvertMillisecondsToDays</a>(LARGE_INTEGER)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a9">ConvertDaysToMilliseconds</a>(DAYS)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a10">NumberOfLeapYears</a>(YEARS)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a11">ElapsedYearsToDays</a>(YEARS)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a12">IsLeapYear</a>(YEARS)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a13">MaxDaysInMonth</a>(YEAR, MONTH)</td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>ULONG&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a23">ElapsedDaysToYears</a> (IN ULONG ElapsedDays)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a24">TimeToDaysAndFraction</a> (IN PLARGE_INTEGER <a class="el" href="../../d6/d6/ttime_8c.html#a14">Time</a>, OUT PULONG ElapsedDays, OUT PULONG Milliseconds)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a25">DaysAndFractionToTime</a> (IN ULONG ElapsedDays, IN ULONG Milliseconds, OUT PLARGE_INTEGER <a class="el" href="../../d6/d6/ttime_8c.html#a14">Time</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a26">RtlTimeToTimeFields</a> (IN PLARGE_INTEGER <a class="el" href="../../d6/d6/ttime_8c.html#a14">Time</a>, OUT PTIME_FIELDS <a class="el" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a27">RtlCutoverTimeToSystemTime</a> (PTIME_FIELDS CutoverTime, PLARGE_INTEGER SystemTime, PLARGE_INTEGER CurrentSystemTime, BOOLEAN ThisYear)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a28">RtlTimeFieldsToTime</a> (IN PTIME_FIELDS <a class="el" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>, OUT PLARGE_INTEGER <a class="el" href="../../d6/d6/ttime_8c.html#a14">Time</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a29">RtlTimeToElapsedTimeFields</a> (IN PLARGE_INTEGER <a class="el" href="../../d6/d6/ttime_8c.html#a14">Time</a>, OUT PTIME_FIELDS <a class="el" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a30">RtlTimeToSecondsSince1980</a> (IN PLARGE_INTEGER <a class="el" href="../../d6/d6/ttime_8c.html#a14">Time</a>, OUT PULONG ElapsedSeconds)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a31">RtlSecondsSince1980ToTime</a> (IN ULONG ElapsedSeconds, OUT PLARGE_INTEGER <a class="el" href="../../d6/d6/ttime_8c.html#a14">Time</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a32">RtlTimeToSecondsSince1970</a> (IN PLARGE_INTEGER <a class="el" href="../../d6/d6/ttime_8c.html#a14">Time</a>, OUT PULONG ElapsedSeconds)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a33">RtlSecondsSince1970ToTime</a> (IN ULONG ElapsedSeconds, OUT PLARGE_INTEGER <a class="el" href="../../d6/d6/ttime_8c.html#a14">Time</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>NTSTATUS&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a34">RtlSystemTimeToLocalTime</a> (IN PLARGE_INTEGER SystemTime, OUT PLARGE_INTEGER LocalTime)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>NTSTATUS&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a35">RtlLocalTimeToSystemTime</a> (IN PLARGE_INTEGER LocalTime, OUT PLARGE_INTEGER SystemTime)</td></tr>

<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>CONST UCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a14">LeapYearDayToMonth</a> [366]</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>CONST UCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a15">NormalYearDayToMonth</a> [365]</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>CONST CSHORT&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a16">LeapYearDaysPrecedingMonth</a> [13]</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>CONST CSHORT&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a17">NormalYearDaysPrecedingMonth</a> [13]</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const LARGE_INTEGER&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a18">SecondsToStartOf1970</a> = {0xb6109100, 0x00000002}</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const LARGE_INTEGER&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a19">SecondsToStartOf1980</a> = {0xc8df3700, 0x00000002}</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const LARGE_INTEGER&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a20">Magic10000</a> = {0xe219652c, 0xd1b71758}</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const LARGE_INTEGER&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a21">Magic10000000</a> = {0xe57a42bd, 0xd6bf94d5}</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const LARGE_INTEGER&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/time_8c.html#a22">Magic86400000</a> = {0xfa67b90e, 0xc6d750eb}</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a4" doxytag="time.c::Convert100nsToMilliseconds" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define Convert100nsToMilliseconds          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LARGE_INTEGER&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div>(                         \
    RtlExtendedMagicDivide( (LARGE_INTEGER), Magic10000, SHIFT10000 )       \
    )
</div></pre>
<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00178">178</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="time.c::Convert100nsToSeconds" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define Convert100nsToSeconds          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LARGE_INTEGER&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div>(                              \
    RtlExtendedMagicDivide( (LARGE_INTEGER), Magic10000000, SHIFT10000000 ) \
    )
</div></pre>
<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00186">186</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="time.c::ConvertDaysToMilliseconds" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define ConvertDaysToMilliseconds          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">DAYS&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div>(                          \
    Int32x32To64( (DAYS), 86400000 )                               \
    )
</div></pre>
<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00198">198</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d1/time_8c-source.html#l00443">DaysAndFractionToTime()</a>, and <a class="el" href="../../d2/d1/time_8c-source.html#l00361">TimeToDaysAndFraction()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="time.c::ConvertMillisecondsTo100ns" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define ConvertMillisecondsTo100ns          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">MILLISECONDS&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div>(                 \
    <a class="code" href="../../d0/d1/largeic_8c.html#a2">RtlExtendedIntegerMultiply</a>( (MILLISECONDS), 10000 )            \
    )
</div></pre>
<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00182">182</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="time.c::ConvertMillisecondsToDays" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define ConvertMillisecondsToDays          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LARGE_INTEGER&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div>(                          \
    RtlExtendedMagicDivide( (LARGE_INTEGER), Magic86400000, SHIFT86400000 ) \
    )
</div></pre>
<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00194">194</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="time.c::ConvertSecondsTo100ns" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define ConvertSecondsTo100ns          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">SECONDS&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div>(                           \
    <a class="code" href="../../d0/d1/largeic_8c.html#a2">RtlExtendedIntegerMultiply</a>( (SECONDS), 10000000 )              \
    )
</div></pre>
<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00190">190</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="time.c::ElapsedYearsToDays" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define ElapsedYearsToDays          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">YEARS&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div>(            \
    ((YEARS) * 365) + <a class="code" href="../../d3/d6/stdtimep_8h.html#a25">NumberOfLeapYears</a>(YEARS) \
    )
</div></pre>
<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00310">310</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="time.c::IsLeapYear" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define IsLeapYear          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">YEARS&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div>(                        \
    (((YEARS) % 400 == 0) ||                       \
     ((YEARS) % 100 != 0) &amp;&amp; ((YEARS) % 4 == 0)) ? \
        <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>                                       \
    :                                              \
        <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>                                      \
    )
</div></pre>
<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00324">324</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="time.c::MaxDaysInMonth" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MaxDaysInMonth          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">YEAR,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>MONTH&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div>(                                      \
    <a class="code" href="../../d3/d6/stdtimep_8h.html#a27">IsLeapYear</a>(YEAR) ?                                                    \
        <a class="code" href="../../d1/d2/time_8c.html#a16">LeapYearDaysPrecedingMonth</a>[(MONTH) + 1] -                         \
                                    <a class="code" href="../../d1/d2/time_8c.html#a16">LeapYearDaysPrecedingMonth</a>[(MONTH)]   \
    :                                                                     \
        <a class="code" href="../../d1/d2/time_8c.html#a17">NormalYearDaysPrecedingMonth</a>[(MONTH) + 1] -                       \
                                    <a class="code" href="../../d1/d2/time_8c.html#a17">NormalYearDaysPrecedingMonth</a>[(MONTH)] \
    )
</div></pre>
<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00344">344</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="time.c::NumberOfLeapYears" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define NumberOfLeapYears          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">YEARS&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div>(                    \
    ((YEARS) / 4) - ((YEARS) / 100) + ((YEARS) / 400) \
    )
</div></pre>
<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00295">295</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="time.c::SHIFT10000" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define SHIFT10000&nbsp;&nbsp;&nbsp;13          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00165">165</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="time.c::SHIFT10000000" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define SHIFT10000000&nbsp;&nbsp;&nbsp;23          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00168">168</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="time.c::SHIFT86400000" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define SHIFT86400000&nbsp;&nbsp;&nbsp;26          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00171">171</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="time.c::WEEKDAY_OF_1601" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define WEEKDAY_OF_1601&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00138">138</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a25" doxytag="time.c::DaysAndFractionToTime" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID DaysAndFractionToTime           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>ElapsedDays</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Milliseconds</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>OUT PLARGE_INTEGER&nbsp;</td>
          <td class="mdname" nowrap> <em>Time</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00443">443</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.
<p>
References <a class="el" href="../../d2/d1/time_8c-source.html#l00198">ConvertDaysToMilliseconds</a>, <a class="el" href="../../d4/d5/stdtimep_8h-source.html#l00054">ConvertMillisecondsTo100ns</a>, and <a class="el" href="../../d7/d5/ttime_8c-source.html#l00047">Time</a>.
<p>
Referenced by <a class="el" href="../../d2/d1/time_8c-source.html#l00822">RtlTimeFieldsToTime()</a>.
<p>
<pre class="fragment"><div>00451                    :
00452 
00453     This routine converts an input elapsed day count and partial time
00454     in milliseconds to a 64-bit time value.
00455 
00456 Arguments:
00457 
00458     ElapsedDays - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> number of elapsed days
00459 
00460     Milliseconds - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> number of milliseconds in <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> partial day
00461 
00462     <a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a> - Receives <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> output time to value
00463 
00464 Return Value:
00465 
00466     None
00467 
00468 --*/
00469 
00470 {
00471     LARGE_INTEGER Temp;
00472     LARGE_INTEGER Temp2;
00473 
00474     <span class="comment">//</span>
00475     <span class="comment">//  Calculate the exact number of milliseconds in the elapsed days.</span>
00476     <span class="comment">//</span>
00477 
00478     Temp.QuadPart = <a class="code" href="../../d1/d2/time_8c.html#a9">ConvertDaysToMilliseconds</a>( ElapsedDays );
00479 
00480     <span class="comment">//</span>
00481     <span class="comment">//  Convert milliseconds to a large integer</span>
00482     <span class="comment">//</span>
00483 
00484     Temp2.LowPart = Milliseconds;
00485     Temp2.HighPart = 0;
00486 
00487     <span class="comment">//</span>
00488     <span class="comment">//  add milliseconds to the whole day milliseconds</span>
00489     <span class="comment">//</span>
00490 
00491     Temp.QuadPart = Temp.QuadPart + Temp2.QuadPart;
00492 
00493     <span class="comment">//</span>
00494     <span class="comment">//  Finally convert the milliseconds to 100ns resolution</span>
00495     <span class="comment">//</span>
00496 
00497     *(PLARGE_INTEGER)<a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a> = <a class="code" href="../../d3/d6/stdtimep_8h.html#a4">ConvertMillisecondsTo100ns</a>( Temp );
00498 
00499     <span class="comment">//</span>
00500     <span class="comment">//  and return to our caller</span>
00501     <span class="comment">//</span>
00502 
00503     <span class="keywordflow">return</span>;
00504 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a23" doxytag="time.c::ElapsedDaysToYears" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ULONG ElapsedDaysToYears           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN ULONG&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ElapsedDays</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00208">208</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.
<p>
<pre class="fragment"><div>00214                    :
00215 
00216     This routine computes <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> number of total years contained in <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> indicated
00217     number of elapsed days.  The computation <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> to first compute <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> number of
00218     400 years and subtract that <a class="code" href="../../d1/d9/icmui_8def.html#a4">it</a>, then <span class="keywordflow">do</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> 100 years and subtract that <a class="code" href="../../d6/d0/wsprintf_8c.html#a0">out</a>,
00219     then <span class="keywordflow">do</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> number of 4 years and subtract that <a class="code" href="../../d6/d0/wsprintf_8c.html#a0">out</a>.  Then what we have left
00220     <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> number of days with in a normalized 4 year block.  Normalized being that
00221     <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> first three years are not leap years.
00222 
00223 Arguments:
00224 
00225     ElapsedDays - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> number of days to use
00226 
00227 Return Value:
00228 
00229     ULONG - Returns <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> number of whole years contained within <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> input number
00230         of days.
00231 
00232 --*/
00233 
00234 {
00235     ULONG NumberOf400s;
00236     ULONG NumberOf100s;
00237     ULONG NumberOf4s;
00238     ULONG Years;
00239 
00240     <span class="comment">//</span>
00241     <span class="comment">//  A 400 year time block is 365*400 + 400/4 - 400/100 + 400/400 = 146097 days</span>
00242     <span class="comment">//  long.  So we simply compute the number of whole 400 year block and the</span>
00243     <span class="comment">//  the number days contained in those whole blocks, and subtract if from the</span>
00244     <span class="comment">//  elapsed day total</span>
00245     <span class="comment">//</span>
00246 
00247     NumberOf400s = ElapsedDays / 146097;
00248     ElapsedDays -= NumberOf400s * 146097;
00249 
00250     <span class="comment">//</span>
00251     <span class="comment">//  A 100 year time block is 365*100 + 100/4 - 100/100 = 36524 days long.</span>
00252     <span class="comment">//  The computation for the number of 100 year blocks is biased by 3/4 days per</span>
00253     <span class="comment">//  100 years to account for the extra leap day thrown in on the last year</span>
00254     <span class="comment">//  of each 400 year block.</span>
00255     <span class="comment">//</span>
00256 
00257     NumberOf100s = (ElapsedDays * 100 + 75) / 3652425;
00258     ElapsedDays -= NumberOf100s * 36524;
00259 
00260     <span class="comment">//</span>
00261     <span class="comment">//  A 4 year time block is 365*4 + 4/4 = 1461 days long.</span>
00262     <span class="comment">//</span>
00263 
00264     NumberOf4s = ElapsedDays / 1461;
00265     ElapsedDays -= NumberOf4s * 1461;
00266 
00267     <span class="comment">//</span>
00268     <span class="comment">//  Now the number of whole years is the number of 400 year blocks times 400,</span>
00269     <span class="comment">//  100 year blocks time 100, 4 year blocks times 4, and the number of elapsed</span>
00270     <span class="comment">//  whole years, taking into account the 3/4 day per year needed to handle the</span>
00271     <span class="comment">//  leap year.</span>
00272     <span class="comment">//</span>
00273 
00274     Years = (NumberOf400s * 400) +
00275             (NumberOf100s * 100) +
00276             (NumberOf4s * 4) +
00277             (ElapsedDays * 100 + 75) / 36525;
00278 
00279     <span class="keywordflow">return</span> Years;
00280 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a27" doxytag="time.c::RtlCutoverTimeToSystemTime" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN RtlCutoverTimeToSystemTime           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PTIME_FIELDS&nbsp;</td>
          <td class="mdname" nowrap> <em>CutoverTime</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PLARGE_INTEGER&nbsp;</td>
          <td class="mdname" nowrap> <em>SystemTime</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PLARGE_INTEGER&nbsp;</td>
          <td class="mdname" nowrap> <em>CurrentSystemTime</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOLEAN&nbsp;</td>
          <td class="mdname" nowrap> <em>ThisYear</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00655">655</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.
<p>
References <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d2/d1/time_8c-source.html#l00822">RtlTimeFieldsToTime()</a>, <a class="el" href="../../d2/d1/time_8c-source.html#l00508">RtlTimeToTimeFields()</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
<pre class="fragment"><div>00661 {
00662     TIME_FIELDS CurrentTimeFields;
00663 
00664     <span class="comment">//</span>
00665     <span class="comment">// Get the current system time</span>
00666     <span class="comment">//</span>
00667 
00668     <a class="code" href="../../d1/d2/time_8c.html#a26">RtlTimeToTimeFields</a>(CurrentSystemTime,&amp;CurrentTimeFields);
00669 
00670     <span class="comment">//</span>
00671     <span class="comment">// check for absolute time field. If the year is specified,</span>
00672     <span class="comment">// the the time is an abosulte time</span>
00673     <span class="comment">//</span>
00674 
00675     <span class="keywordflow">if</span> ( CutoverTime-&gt;Year ) {
00676 
00677         <span class="comment">//</span>
00678         <span class="comment">// Convert this to a time value and make sure it</span>
00679         <span class="comment">// is greater than the current system time</span>
00680         <span class="comment">//</span>
00681 
00682         <span class="keywordflow">if</span> ( !<a class="code" href="../../d1/d2/time_8c.html#a28">RtlTimeFieldsToTime</a>(CutoverTime,SystemTime) ) {
00683             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00684             }
00685 
00686         <span class="keywordflow">if</span> (SystemTime-&gt;QuadPart &lt; CurrentSystemTime-&gt;QuadPart) {
00687             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00688             }
00689         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00690         }
00691     <span class="keywordflow">else</span> {
00692 
00693         TIME_FIELDS WorkingTimeField;
00694         TIME_FIELDS ScratchTimeField;
00695         LARGE_INTEGER ScratchTime;
00696         CSHORT BestWeekdayDate;
00697         CSHORT WorkingWeekdayNumber;
00698         CSHORT TargetWeekdayNumber;
00699         CSHORT TargetYear;
00700         CSHORT TargetMonth;
00701         CSHORT TargetWeekday;     <span class="comment">// range [0..6] == [Sunday..Saturday]</span>
00702         BOOLEAN MonthMatches;
00703         <span class="comment">//</span>
00704         <span class="comment">// The time is an day in the month style time</span>
00705         <span class="comment">//</span>
00706         <span class="comment">// the convention is the Day is 1-5 specifying 1st, 2nd... Last</span>
00707         <span class="comment">// day within the month. The day is WeekDay.</span>
00708         <span class="comment">//</span>
00709 
00710         <span class="comment">//</span>
00711         <span class="comment">// Compute the target month and year</span>
00712         <span class="comment">//</span>
00713 
00714         TargetWeekdayNumber = CutoverTime-&gt;Day;
00715         <span class="keywordflow">if</span> ( TargetWeekdayNumber &gt; 5 || TargetWeekdayNumber == 0 ) {
00716             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00717             }
00718         TargetWeekday = CutoverTime-&gt;Weekday;
00719         TargetMonth = CutoverTime-&gt;Month;
00720         MonthMatches = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00721         <span class="keywordflow">if</span> ( !ThisYear ) {
00722             <span class="keywordflow">if</span> ( TargetMonth &lt; CurrentTimeFields.Month ) {
00723                 TargetYear = CurrentTimeFields.Year + 1;
00724                 }
00725             <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( TargetMonth &gt; CurrentTimeFields.Month ) {
00726                 TargetYear = CurrentTimeFields.Year;
00727                 }
00728             <span class="keywordflow">else</span> {
00729                 TargetYear = CurrentTimeFields.Year;
00730                 MonthMatches = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00731                 }
00732             }
00733         <span class="keywordflow">else</span> {
00734             TargetYear = CurrentTimeFields.Year;
00735             }
00736 try_next_year:
00737         BestWeekdayDate = 0;
00738 
00739         WorkingTimeField.Year = TargetYear;
00740         WorkingTimeField.Month = TargetMonth;
00741         WorkingTimeField.Day = 1;
00742         WorkingTimeField.Hour = CutoverTime-&gt;Hour;
00743         WorkingTimeField.Minute = CutoverTime-&gt;Minute;
00744         WorkingTimeField.Second = CutoverTime-&gt;Second;
00745         WorkingTimeField.Milliseconds = CutoverTime-&gt;Milliseconds;
00746         WorkingTimeField.Weekday = 0;
00747 
00748         <span class="comment">//</span>
00749         <span class="comment">// Convert to time and then back to time fields so we can determine</span>
00750         <span class="comment">// the weekday of day 1 on the month</span>
00751         <span class="comment">//</span>
00752 
00753         <span class="keywordflow">if</span> ( !<a class="code" href="../../d1/d2/time_8c.html#a28">RtlTimeFieldsToTime</a>(&amp;WorkingTimeField,&amp;ScratchTime) ) {
00754             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00755             }
00756         <a class="code" href="../../d1/d2/time_8c.html#a26">RtlTimeToTimeFields</a>(&amp;ScratchTime,&amp;ScratchTimeField);
00757 
00758         <span class="comment">//</span>
00759         <span class="comment">// Compute bias to target weekday</span>
00760         <span class="comment">//</span>
00761         <span class="keywordflow">if</span> ( ScratchTimeField.Weekday &gt; TargetWeekday ) {
00762             WorkingTimeField.Day += (7-(ScratchTimeField.Weekday - TargetWeekday));
00763             }
00764         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( ScratchTimeField.Weekday &lt; TargetWeekday ) {
00765             WorkingTimeField.Day += (TargetWeekday - ScratchTimeField.Weekday);
00766             }
00767 
00768         <span class="comment">//</span>
00769         <span class="comment">// We are now at the first weekday that matches our target weekday</span>
00770         <span class="comment">//</span>
00771 
00772         BestWeekdayDate = WorkingTimeField.Day;
00773         WorkingWeekdayNumber = 1;
00774 
00775         <span class="comment">//</span>
00776         <span class="comment">// Keep going one week at a time until we either pass the</span>
00777         <span class="comment">// target weekday, or we match exactly</span>
00778         <span class="comment">//</span>
00779 
00780         <span class="keywordflow">while</span> ( WorkingWeekdayNumber &lt; TargetWeekdayNumber ) {
00781             WorkingTimeField.Day += 7;
00782             <span class="keywordflow">if</span> ( !<a class="code" href="../../d1/d2/time_8c.html#a28">RtlTimeFieldsToTime</a>(&amp;WorkingTimeField,&amp;ScratchTime) ) {
00783                 <span class="keywordflow">break</span>;
00784                 }
00785             <a class="code" href="../../d1/d2/time_8c.html#a26">RtlTimeToTimeFields</a>(&amp;ScratchTime,&amp;ScratchTimeField);
00786             WorkingWeekdayNumber++;
00787             BestWeekdayDate = ScratchTimeField.Day;
00788             }
00789         WorkingTimeField.Day = BestWeekdayDate;
00790 
00791         <span class="comment">//</span>
00792         <span class="comment">// If the months match, and the date is less than the current</span>
00793         <span class="comment">// date, then be have to go to next year.</span>
00794         <span class="comment">//</span>
00795 
00796         <span class="keywordflow">if</span> ( !<a class="code" href="../../d1/d2/time_8c.html#a28">RtlTimeFieldsToTime</a>(&amp;WorkingTimeField,&amp;ScratchTime) ) {
00797             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00798             }
00799         <span class="keywordflow">if</span> ( MonthMatches ) {
00800             <span class="keywordflow">if</span> ( WorkingTimeField.Day &lt; CurrentTimeFields.Day ) {
00801                 MonthMatches = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00802                 TargetYear++;
00803                 <span class="keywordflow">goto</span> try_next_year;
00804                 }
00805             <span class="keywordflow">if</span> ( WorkingTimeField.Day == CurrentTimeFields.Day ) {
00806 
00807                 <span class="keywordflow">if</span> (ScratchTime.QuadPart &lt; CurrentSystemTime-&gt;QuadPart) {
00808                     MonthMatches = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00809                     TargetYear++;
00810                     <span class="keywordflow">goto</span> try_next_year;
00811                     }
00812                 }
00813             }
00814         *SystemTime = ScratchTime;
00815 
00816         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00817         }
00818 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a35" doxytag="time.c::RtlLocalTimeToSystemTime" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NTSTATUS RtlLocalTimeToSystemTime           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PLARGE_INTEGER&nbsp;</td>
          <td class="mdname" nowrap> <em>LocalTime</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>OUT PLARGE_INTEGER&nbsp;</td>
          <td class="mdname" nowrap> <em>SystemTime</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l01306">1306</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.
<p>
References <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, and <a class="el" href="../../d3/d0/cttoken_8c-source.html#l00135">Status</a>.
<p>
<pre class="fragment"><div>01310 {
01311 
01312     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
01313     SYSTEM_TIMEOFDAY_INFORMATION TimeOfDay;
01314 
01315     <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = ZwQuerySystemInformation(
01316                 SystemTimeOfDayInformation,
01317                 &amp;TimeOfDay,
01318                 <span class="keyword">sizeof</span>(TimeOfDay),
01319                 NULL
01320                 );
01321     <span class="keywordflow">if</span> ( !<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(Status) ) {
01322         <span class="keywordflow">return</span> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
01323         }
01324 
01325     <span class="comment">//</span>
01326     <span class="comment">// SystemTime = LocalTime + TimeZoneBias</span>
01327     <span class="comment">//</span>
01328 
01329     SystemTime-&gt;QuadPart = LocalTime-&gt;QuadPart + TimeOfDay.TimeZoneBias.QuadPart;
01330 
01331     <span class="keywordflow">return</span> STATUS_SUCCESS;
01332 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a33" doxytag="time.c::RtlSecondsSince1970ToTime" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID RtlSecondsSince1970ToTime           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>ElapsedSeconds</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>OUT PLARGE_INTEGER&nbsp;</td>
          <td class="mdname" nowrap> <em>Time</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l01223">1223</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.
<p>
References <a class="el" href="../../d4/d5/stdtimep_8h-source.html#l00062">ConvertSecondsTo100ns</a>, <a class="el" href="../../d4/d5/stdtimep_8h-source.html#l00297">SecondsToStartOf1970</a>, and <a class="el" href="../../d7/d5/ttime_8c-source.html#l00047">Time</a>.
<p>
Referenced by <a class="el" href="../../d7/d5/ttime_8c-source.html#l00053">main()</a>.
<p>
<pre class="fragment"><div>01230                    :
01231 
01232     This routine converts <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> seconds since <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> start of 1970 to an
01233     NT <a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a> value
01234 
01235 Arguments:
01236 
01237     ElapsedSeconds - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> number of seconds from <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> start of 1970
01238         to convert from
01239 
01240     <a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a> - Receives <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> converted <a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a> value
01241 
01242 Return Value:
01243 
01244     None
01245 
01246 --*/
01247 
01248 {
01249     LARGE_INTEGER Seconds;
01250 
01251     <span class="comment">//</span>
01252     <span class="comment">//  Move elapsed seconds to a large integer</span>
01253     <span class="comment">//</span>
01254 
01255     Seconds.LowPart = ElapsedSeconds;
01256     Seconds.HighPart = 0;
01257 
01258     <span class="comment">//</span>
01259     <span class="comment">//  Convert number of seconds from 1970 to number of seconds from 1601</span>
01260     <span class="comment">//</span>
01261 
01262     Seconds.QuadPart = Seconds.QuadPart + <a class="code" href="../../d3/d6/stdtimep_8h.html#a32">SecondsToStartOf1970</a>.QuadPart;
01263 
01264     <span class="comment">//</span>
01265     <span class="comment">//  Convert seconds to 100ns resolution</span>
01266     <span class="comment">//</span>
01267 
01268     *(PLARGE_INTEGER)<a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a> = <a class="code" href="../../d3/d6/stdtimep_8h.html#a6">ConvertSecondsTo100ns</a>( Seconds );
01269 
01270     <span class="comment">//</span>
01271     <span class="comment">//  return to our caller</span>
01272     <span class="comment">//</span>
01273 
01274     <span class="keywordflow">return</span>;
01275 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a31" doxytag="time.c::RtlSecondsSince1980ToTime" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID RtlSecondsSince1980ToTime           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>ElapsedSeconds</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>OUT PLARGE_INTEGER&nbsp;</td>
          <td class="mdname" nowrap> <em>Time</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l01098">1098</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.
<p>
References <a class="el" href="../../d4/d5/stdtimep_8h-source.html#l00062">ConvertSecondsTo100ns</a>, <a class="el" href="../../d4/d5/stdtimep_8h-source.html#l00298">SecondsToStartOf1980</a>, and <a class="el" href="../../d7/d5/ttime_8c-source.html#l00047">Time</a>.
<p>
Referenced by <a class="el" href="../../d7/d5/ttime_8c-source.html#l00053">main()</a>.
<p>
<pre class="fragment"><div>01105                    :
01106 
01107     This routine converts <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> seconds since <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> start of 1980 to an
01108     NT <a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a> value.
01109 
01110 Arguments:
01111 
01112     ElapsedSeconds - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> number of seconds from <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> start of 1980
01113         to convert from
01114 
01115     <a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a> - Receives <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> converted <a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a> value
01116 
01117 Return Value:
01118 
01119     None
01120 
01121 --*/
01122 
01123 {
01124     LARGE_INTEGER Seconds;
01125 
01126     <span class="comment">//</span>
01127     <span class="comment">//  Move elapsed seconds to a large integer</span>
01128     <span class="comment">//</span>
01129 
01130     Seconds.LowPart = ElapsedSeconds;
01131     Seconds.HighPart = 0;
01132 
01133     <span class="comment">//</span>
01134     <span class="comment">//  convert number of seconds from 1980 to number of seconds from 1601</span>
01135     <span class="comment">//</span>
01136 
01137     Seconds.QuadPart = Seconds.QuadPart + <a class="code" href="../../d3/d6/stdtimep_8h.html#a33">SecondsToStartOf1980</a>.QuadPart;
01138 
01139     <span class="comment">//</span>
01140     <span class="comment">//  Convert seconds to 100ns resolution</span>
01141     <span class="comment">//</span>
01142 
01143     *(PLARGE_INTEGER)<a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a> = <a class="code" href="../../d3/d6/stdtimep_8h.html#a6">ConvertSecondsTo100ns</a>( Seconds );
01144 
01145     <span class="comment">//</span>
01146     <span class="comment">//  and return to our caller</span>
01147     <span class="comment">//</span>
01148 
01149     <span class="keywordflow">return</span>;
01150 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a34" doxytag="time.c::RtlSystemTimeToLocalTime" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NTSTATUS RtlSystemTimeToLocalTime           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PLARGE_INTEGER&nbsp;</td>
          <td class="mdname" nowrap> <em>SystemTime</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>OUT PLARGE_INTEGER&nbsp;</td>
          <td class="mdname" nowrap> <em>LocalTime</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l01278">1278</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.
<p>
References <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, and <a class="el" href="../../d3/d0/cttoken_8c-source.html#l00135">Status</a>.
<p>
<pre class="fragment"><div>01282 {
01283     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
01284     SYSTEM_TIMEOFDAY_INFORMATION TimeOfDay;
01285 
01286     <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = ZwQuerySystemInformation(
01287                 SystemTimeOfDayInformation,
01288                 &amp;TimeOfDay,
01289                 <span class="keyword">sizeof</span>(TimeOfDay),
01290                 NULL
01291                 );
01292     <span class="keywordflow">if</span> ( !<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(Status) ) {
01293         <span class="keywordflow">return</span> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
01294         }
01295 
01296     <span class="comment">//</span>
01297     <span class="comment">// LocalTime = SystemTime - TimeZoneBias</span>
01298     <span class="comment">//</span>
01299 
01300     LocalTime-&gt;QuadPart = SystemTime-&gt;QuadPart - TimeOfDay.TimeZoneBias.QuadPart;
01301 
01302     <span class="keywordflow">return</span> STATUS_SUCCESS;
01303 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a28" doxytag="time.c::RtlTimeFieldsToTime" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN RtlTimeFieldsToTime           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PTIME_FIELDS&nbsp;</td>
          <td class="mdname" nowrap> <em>TimeFields</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>OUT PLARGE_INTEGER&nbsp;</td>
          <td class="mdname" nowrap> <em>Time</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00822">822</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.
<p>
References <a class="el" href="../../d2/d1/time_8c-source.html#l00443">DaysAndFractionToTime()</a>, <a class="el" href="../../d4/d5/stdtimep_8h-source.html#l00354">ElapsedYearsToDays</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d4/d5/stdtimep_8h-source.html#l00368">IsLeapYear</a>, <a class="el" href="../../d2/d1/time_8c-source.html#l00098">LeapYearDaysPrecedingMonth</a>, <a class="el" href="../../d4/d5/stdtimep_8h-source.html#l00388">MaxDaysInMonth</a>, <a class="el" href="../../d2/d1/time_8c-source.html#l00113">NormalYearDaysPrecedingMonth</a>, <a class="el" href="../../d7/d5/ttime_8c-source.html#l00047">Time</a>, <a class="el" href="../../d7/d5/ttime_8c-source.html#l00046">TimeFields</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d7/d5/ttime_8c-source.html#l00053">main()</a>, <a class="el" href="../../d2/d1/time_8c-source.html#l00655">RtlCutoverTimeToSystemTime()</a>, <a class="el" href="../../d5/d2/token_8c-source.html#l01010">SeMakeAnonymousLogonToken()</a>, <a class="el" href="../../d5/d2/token_8c-source.html#l00536">SeMakeSystemToken()</a>, <a class="el" href="../../d7/d9/ctaccess_8c-source.html#l00178">TestTokenInitialize()</a>, and <a class="el" href="../../d4/d7/udfprocs_8h-source.html#l01921">UdfConvertUdfTimeToNtTime()</a>.
<p>
<pre class="fragment"><div>00829                    :
00830 
00831     This routine converts an input <a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a> Field variable to a 64-bit NT time
00832     value.  It ignores <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> WeekDay of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> time field.
00833 
00834 Arguments:
00835 
00836     <a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a> - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> time field record to use
00837 
00838     <a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a> - Receives <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> NT <a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a> corresponding to <a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>
00839 
00840 Return Value:
00841 
00842     BOOLEAN - <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> <span class="keywordflow">if</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> <a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a> Fields <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> well formed and within <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a>
00843         range of time expressible by LARGE_INTEGER and <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a> otherwise.
00844 
00845 --*/
00846 
00847 {
00848     ULONG Year;
00849     ULONG Month;
00850     ULONG Day;
00851     ULONG Hour;
00852     ULONG Minute;
00853     ULONG Second;
00854     ULONG Milliseconds;
00855 
00856     ULONG ElapsedDays;
00857     ULONG ElapsedMilliseconds;
00858 
00859     <span class="comment">//</span>
00860     <span class="comment">//  Load the time field elements into local variables.  This should</span>
00861     <span class="comment">//  ensure that the compiler will only load the input elements</span>
00862     <span class="comment">//  once, even if there are alias problems.  It will also make</span>
00863     <span class="comment">//  everything (except the year) zero based.  We cannot zero base the</span>
00864     <span class="comment">//  year because then we can't recognize cases where we're given a year</span>
00865     <span class="comment">//  before 1601.</span>
00866     <span class="comment">//</span>
00867 
00868     Year         = <a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>-&gt;Year;
00869     Month        = <a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>-&gt;Month - 1;
00870     Day          = <a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>-&gt;Day - 1;
00871     Hour         = <a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>-&gt;Hour;
00872     Minute       = <a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>-&gt;Minute;
00873     Second       = <a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>-&gt;Second;
00874     Milliseconds = <a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>-&gt;Milliseconds;
00875 
00876     <span class="comment">//</span>
00877     <span class="comment">//  Check that the time field input variable contains</span>
00878     <span class="comment">//  proper values.</span>
00879     <span class="comment">//</span>
00880 
00881     <span class="keywordflow">if</span> ((<a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>-&gt;Month &lt; 1)                      ||
00882         (<a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>-&gt;Day &lt; 1)                        ||
00883         (Year &lt; 1601)                                ||
00884         (Month &gt; 11)                                 ||
00885         ((CSHORT)Day &gt;= <a class="code" href="../../d3/d6/stdtimep_8h.html#a28">MaxDaysInMonth</a>(Year, Month)) ||
00886         (Hour &gt; 23)                                  ||
00887         (Minute &gt; 59)                                ||
00888         (Second &gt; 59)                                ||
00889         (Milliseconds &gt; 999)) {
00890 
00891         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00892 
00893     }
00894 
00895     <span class="comment">//</span>
00896     <span class="comment">//  Compute the total number of elapsed days represented by the</span>
00897     <span class="comment">//  input time field variable</span>
00898     <span class="comment">//</span>
00899 
00900     ElapsedDays = <a class="code" href="../../d3/d6/stdtimep_8h.html#a26">ElapsedYearsToDays</a>( Year - 1601 );
00901 
00902     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d6/stdtimep_8h.html#a27">IsLeapYear</a>( Year - 1600 )) {
00903 
00904         ElapsedDays += <a class="code" href="../../d1/d2/time_8c.html#a16">LeapYearDaysPrecedingMonth</a>[ Month ];
00905 
00906     } <span class="keywordflow">else</span> {
00907 
00908         ElapsedDays += <a class="code" href="../../d1/d2/time_8c.html#a17">NormalYearDaysPrecedingMonth</a>[ Month ];
00909 
00910     }
00911 
00912     ElapsedDays += Day;
00913 
00914     <span class="comment">//</span>
00915     <span class="comment">//  Now compute the total number of milliseconds in the fractional</span>
00916     <span class="comment">//  part of the day</span>
00917     <span class="comment">//</span>
00918 
00919     ElapsedMilliseconds = (((Hour*60) + Minute)*60 + Second)*1000 + Milliseconds;
00920 
00921     <span class="comment">//</span>
00922     <span class="comment">//  Given the elapsed days and milliseconds we can now build</span>
00923     <span class="comment">//  the output time variable</span>
00924     <span class="comment">//</span>
00925 
00926     <a class="code" href="../../d1/d2/time_8c.html#a25">DaysAndFractionToTime</a>( ElapsedDays, ElapsedMilliseconds, Time );
00927 
00928     <span class="comment">//</span>
00929     <span class="comment">//  And return to our caller</span>
00930     <span class="comment">//</span>
00931 
00932     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00933 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a29" doxytag="time.c::RtlTimeToElapsedTimeFields" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID RtlTimeToElapsedTimeFields           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PLARGE_INTEGER&nbsp;</td>
          <td class="mdname" nowrap> <em>Time</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>OUT PTIME_FIELDS&nbsp;</td>
          <td class="mdname" nowrap> <em>TimeFields</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00937">937</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.
<p>
References <a class="el" href="../../d7/d5/ttime_8c-source.html#l00047">Time</a>, <a class="el" href="../../d7/d5/ttime_8c-source.html#l00046">TimeFields</a>, and <a class="el" href="../../d2/d1/time_8c-source.html#l00361">TimeToDaysAndFraction()</a>.
<p>
<pre class="fragment"><div>00944                    :
00945 
00946     This routine converts an input 64-bit LARGE_INTEGER variable to its corresponding
00947     time field record.  The input time <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> elapsed time (difference
00948     between to times).  It will tell <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> caller <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> number of days, hour,
00949     minute, second, and milliseconds that <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> elapsed time represents.
00950 
00951 Arguments:
00952 
00953     <a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a> - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> time value to interpret
00954 
00955     <a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a> - Receives a value corresponding to <a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a>
00956 
00957 Return Value:
00958 
00959     None
00960 
00961 --*/
00962 
00963 {
00964     ULONG Days;
00965     ULONG Hours;
00966     ULONG Minutes;
00967     ULONG Seconds;
00968     ULONG Milliseconds;
00969 
00970     <span class="comment">//</span>
00971     <span class="comment">//  First divide the input time 64 bit time variable into</span>
00972     <span class="comment">//  the number of whole days and part days (in milliseconds)</span>
00973     <span class="comment">//</span>
00974 
00975     <a class="code" href="../../d1/d2/time_8c.html#a24">TimeToDaysAndFraction</a>( Time, &amp;Days, &amp;Milliseconds );
00976 
00977     <span class="comment">//</span>
00978     <span class="comment">//  Now we need to compute the elapsed hour, minute, second, milliseconds</span>
00979     <span class="comment">//  from the millisecond variable.  This variable currently contains</span>
00980     <span class="comment">//  the number of milliseconds in our input time variable that did not</span>
00981     <span class="comment">//  fit into a whole day.  To compute the hour, minute, second part</span>
00982     <span class="comment">//  we will actually do the arithmetic backwards computing milliseconds</span>
00983     <span class="comment">//  seconds, minutes, and then hours.  We start by computing the</span>
00984     <span class="comment">//  number of whole seconds left in the day, and then computing</span>
00985     <span class="comment">//  the millisecond remainder.</span>
00986     <span class="comment">//</span>
00987 
00988     Seconds = Milliseconds / 1000;
00989     Milliseconds = Milliseconds % 1000;
00990 
00991     <span class="comment">//</span>
00992     <span class="comment">//  Now we compute the number of whole minutes left in the day</span>
00993     <span class="comment">//  and the number of remainder seconds</span>
00994     <span class="comment">//</span>
00995 
00996     Minutes = Seconds / 60;
00997     Seconds = Seconds % 60;
00998 
00999     <span class="comment">//</span>
01000     <span class="comment">//  Now compute the number of whole hours left in the day</span>
01001     <span class="comment">//  and the number of remainder minutes</span>
01002     <span class="comment">//</span>
01003 
01004     Hours = Minutes / 60;
01005     Minutes = Minutes % 60;
01006 
01007     <span class="comment">//</span>
01008     <span class="comment">//  As our final step we put everything into the time fields</span>
01009     <span class="comment">//  output variable</span>
01010     <span class="comment">//</span>
01011 
01012     <a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>-&gt;Year         = 0;
01013     <a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>-&gt;Month        = 0;
01014     <a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>-&gt;Day          = (CSHORT)Days;
01015     <a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>-&gt;Hour         = (CSHORT)Hours;
01016     <a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>-&gt;Minute       = (CSHORT)Minutes;
01017     <a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>-&gt;Second       = (CSHORT)Seconds;
01018     <a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>-&gt;Milliseconds = (CSHORT)Milliseconds;
01019 
01020     <span class="comment">//</span>
01021     <span class="comment">//  and return to our caller</span>
01022     <span class="comment">//</span>
01023 
01024     <span class="keywordflow">return</span>;
01025 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a32" doxytag="time.c::RtlTimeToSecondsSince1970" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN RtlTimeToSecondsSince1970           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PLARGE_INTEGER&nbsp;</td>
          <td class="mdname" nowrap> <em>Time</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>OUT PULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>ElapsedSeconds</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l01154">1154</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.
<p>
References <a class="el" href="../../d4/d5/stdtimep_8h-source.html#l00058">Convert100nsToSeconds</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d4/d5/stdtimep_8h-source.html#l00297">SecondsToStartOf1970</a>, <a class="el" href="../../d7/d5/ttime_8c-source.html#l00047">Time</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d7/d5/ttime_8c-source.html#l00053">main()</a>.
<p>
<pre class="fragment"><div>01161                    :
01162 
01163     This routine converts an input 64-bit NT <a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a> variable to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a>
01164     number of seconds since <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> start of 1970.  The NT time must be
01165     within <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> range 1970 to around 2105.
01166 
01167 Arguments:
01168 
01169     <a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a> - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> <a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a> to convert from
01170 
01171     ElapsedSeconds - Receives <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> number of seconds since <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> start of 1970
01172         denoted by <a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a>
01173 
01174 Return Value:
01175 
01176     BOOLEAN - <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> <span class="keywordflow">if</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> input time <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> within <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> range expressible by
01177         ElapsedSeconds and <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a> otherwise
01178 
01179 --*/
01180 
01181 {
01182     LARGE_INTEGER Seconds;
01183 
01184     <span class="comment">//</span>
01185     <span class="comment">//  First convert time to seconds since 1601</span>
01186     <span class="comment">//</span>
01187 
01188     Seconds = <a class="code" href="../../d3/d6/stdtimep_8h.html#a5">Convert100nsToSeconds</a>( *(PLARGE_INTEGER)Time );
01189 
01190     <span class="comment">//</span>
01191     <span class="comment">//  Then subtract the number of seconds from 1601 to 1970.</span>
01192     <span class="comment">//</span>
01193 
01194     Seconds.QuadPart = Seconds.QuadPart - <a class="code" href="../../d3/d6/stdtimep_8h.html#a32">SecondsToStartOf1970</a>.QuadPart;
01195 
01196     <span class="comment">//</span>
01197     <span class="comment">//  If the results is negative then the date was before 1970 or if</span>
01198     <span class="comment">//  the results is greater than a ulong then its too far in the</span>
01199     <span class="comment">//  future so we return FALSE</span>
01200     <span class="comment">//</span>
01201 
01202     <span class="keywordflow">if</span> (Seconds.HighPart != 0) {
01203 
01204         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01205 
01206     }
01207 
01208     <span class="comment">//</span>
01209     <span class="comment">//  Otherwise we have the answer</span>
01210     <span class="comment">//</span>
01211 
01212     *ElapsedSeconds = Seconds.LowPart;
01213 
01214     <span class="comment">//</span>
01215     <span class="comment">//  And return to our caller</span>
01216     <span class="comment">//</span>
01217 
01218     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01219 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a30" doxytag="time.c::RtlTimeToSecondsSince1980" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN RtlTimeToSecondsSince1980           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PLARGE_INTEGER&nbsp;</td>
          <td class="mdname" nowrap> <em>Time</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>OUT PULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>ElapsedSeconds</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l01029">1029</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.
<p>
References <a class="el" href="../../d4/d5/stdtimep_8h-source.html#l00058">Convert100nsToSeconds</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d4/d5/stdtimep_8h-source.html#l00298">SecondsToStartOf1980</a>, <a class="el" href="../../d7/d5/ttime_8c-source.html#l00047">Time</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d7/d5/ttime_8c-source.html#l00053">main()</a>.
<p>
<pre class="fragment"><div>01036                    :
01037 
01038     This routine converts an input 64-bit NT <a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a> variable to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a>
01039     number of seconds since <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> start of 1980.  The NT time must be
01040     within <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> range 1980 to around 2115.
01041 
01042 Arguments:
01043 
01044     <a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a> - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> <a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a> to convert from
01045 
01046     ElapsedSeconds - Receives <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> number of seconds since <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> start of 1980
01047         denoted by <a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a>
01048 
01049 Return Value:
01050 
01051     BOOLEAN - <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> <span class="keywordflow">if</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> input <a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a> <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> within a range expressible by
01052         ElapsedSeconds and <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a> otherwise
01053 
01054 --*/
01055 
01056 {
01057     LARGE_INTEGER Seconds;
01058 
01059     <span class="comment">//</span>
01060     <span class="comment">//  First convert time to seconds since 1601</span>
01061     <span class="comment">//</span>
01062 
01063     Seconds = <a class="code" href="../../d3/d6/stdtimep_8h.html#a5">Convert100nsToSeconds</a>( *(PLARGE_INTEGER)Time );
01064 
01065     <span class="comment">//</span>
01066     <span class="comment">//  Then subtract the number of seconds from 1601 to 1980.</span>
01067     <span class="comment">//</span>
01068 
01069     Seconds.QuadPart = Seconds.QuadPart - <a class="code" href="../../d3/d6/stdtimep_8h.html#a33">SecondsToStartOf1980</a>.QuadPart;
01070 
01071     <span class="comment">//</span>
01072     <span class="comment">//  If the results is negative then the date was before 1980 or if</span>
01073     <span class="comment">//  the results is greater than a ulong then its too far in the</span>
01074     <span class="comment">//  future so we return FALSE</span>
01075     <span class="comment">//</span>
01076 
01077     <span class="keywordflow">if</span> (Seconds.HighPart != 0) {
01078 
01079         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01080 
01081     }
01082 
01083     <span class="comment">//</span>
01084     <span class="comment">//  Otherwise we have the answer</span>
01085     <span class="comment">//</span>
01086 
01087     *ElapsedSeconds = Seconds.LowPart;
01088 
01089     <span class="comment">//</span>
01090     <span class="comment">//  And return to our caller</span>
01091     <span class="comment">//</span>
01092 
01093     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01094 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a26" doxytag="time.c::RtlTimeToTimeFields" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID RtlTimeToTimeFields           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PLARGE_INTEGER&nbsp;</td>
          <td class="mdname" nowrap> <em>Time</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>OUT PTIME_FIELDS&nbsp;</td>
          <td class="mdname" nowrap> <em>TimeFields</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00508">508</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.
<p>
References <a class="el" href="../../d4/d5/stdtimep_8h-source.html#l00323">ElapsedDaysToYears</a>, <a class="el" href="../../d4/d5/stdtimep_8h-source.html#l00354">ElapsedYearsToDays</a>, <a class="el" href="../../d4/d5/stdtimep_8h-source.html#l00368">IsLeapYear</a>, <a class="el" href="../../d2/d1/time_8c-source.html#l00098">LeapYearDaysPrecedingMonth</a>, <a class="el" href="../../d2/d1/time_8c-source.html#l00062">LeapYearDayToMonth</a>, <a class="el" href="../../d2/d1/time_8c-source.html#l00113">NormalYearDaysPrecedingMonth</a>, <a class="el" href="../../d2/d1/time_8c-source.html#l00076">NormalYearDayToMonth</a>, <a class="el" href="../../d7/d5/ttime_8c-source.html#l00047">Time</a>, <a class="el" href="../../d7/d5/ttime_8c-source.html#l00046">TimeFields</a>, <a class="el" href="../../d2/d1/time_8c-source.html#l00361">TimeToDaysAndFraction()</a>, and <a class="el" href="../../d4/d5/stdtimep_8h-source.html#l00284">WEEKDAY_OF_1601</a>.
<p>
Referenced by <a class="el" href="../../d3/d1/timer_8c-source.html#l01212">ExGetNextWakeTime()</a>, <a class="el" href="../../d3/d3/internal_8c-source.html#l09157">IopCopyBootLogRegistryToFile()</a>, <a class="el" href="../../d8/d9/ke_2miscc_8c-source.html#l00335">KeSetSystemTime()</a>, <a class="el" href="../../d7/d5/ttime_8c-source.html#l00053">main()</a>, <a class="el" href="../../d2/d5/allocpag_8c-source.html#l03270">MiInitializeSpecialPoolCriteria()</a>, and <a class="el" href="../../d2/d1/time_8c-source.html#l00655">RtlCutoverTimeToSystemTime()</a>.
<p>
<pre class="fragment"><div>00515                    :
00516 
00517     This routine converts an input 64-bit LARGE_INTEGER variable to its corresponding
00518     time field record.  It will tell <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> caller <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> year, month, day, hour,
00519     minute, second, millisecond, and weekday corresponding to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> input time
00520     variable.
00521 
00522 Arguments:
00523 
00524     <a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a> - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> time value to interpret
00525 
00526     <a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a> - Receives a value corresponding to <a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a>
00527 
00528 Return Value:
00529 
00530     None
00531 
00532 --*/
00533 
00534 {
00535     ULONG Years;
00536     ULONG Month;
00537     ULONG Days;
00538 
00539     ULONG Hours;
00540     ULONG Minutes;
00541     ULONG Seconds;
00542     ULONG Milliseconds;
00543 
00544     <span class="comment">//</span>
00545     <span class="comment">//  First divide the input time 64 bit time variable into</span>
00546     <span class="comment">//  the number of whole days and part days (in milliseconds)</span>
00547     <span class="comment">//</span>
00548 
00549     <a class="code" href="../../d1/d2/time_8c.html#a24">TimeToDaysAndFraction</a>( Time, &amp;Days, &amp;Milliseconds );
00550 
00551     <span class="comment">//</span>
00552     <span class="comment">//  Compute which weekday it is and save it away now in the output</span>
00553     <span class="comment">//  variable.  We add the weekday of the base day to bias our computation</span>
00554     <span class="comment">//  which means that if one day has elapsed then we the weekday we want</span>
00555     <span class="comment">//  is the Jan 2nd, 1601.</span>
00556     <span class="comment">//</span>
00557 
00558     <a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>-&gt;Weekday = (CSHORT)((Days + <a class="code" href="../../d3/d6/stdtimep_8h.html#a23">WEEKDAY_OF_1601</a>) % 7);
00559 
00560     <span class="comment">//</span>
00561     <span class="comment">//  Calculate the number of whole years contained in the elapsed days</span>
00562     <span class="comment">//  For example if Days = 500 then Years = 1</span>
00563     <span class="comment">//</span>
00564 
00565     Years = <a class="code" href="../../d3/d6/stdtimep_8h.html#a24">ElapsedDaysToYears</a>( Days );
00566 
00567     <span class="comment">//</span>
00568     <span class="comment">//  And subtract the number of whole years from our elapsed days</span>
00569     <span class="comment">//  For example if Days = 500, Years = 1, and the new days is equal</span>
00570     <span class="comment">//  to 500 - 365 (normal year).</span>
00571     <span class="comment">//</span>
00572 
00573     Days = Days - <a class="code" href="../../d3/d6/stdtimep_8h.html#a26">ElapsedYearsToDays</a>( Years );
00574 
00575     <span class="comment">//</span>
00576     <span class="comment">//  Now test whether the year we are working on (i.e., The year</span>
00577     <span class="comment">//  after the total number of elapsed years) is a leap year</span>
00578     <span class="comment">//  or not.</span>
00579     <span class="comment">//</span>
00580 
00581     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d6/stdtimep_8h.html#a27">IsLeapYear</a>( Years + 1 )) {
00582 
00583         <span class="comment">//</span>
00584         <span class="comment">//  The current year is a leap year, so figure out what month</span>
00585         <span class="comment">//  it is, and then subtract the number of days preceding the</span>
00586         <span class="comment">//  month from the days to figure out what day of the month it is</span>
00587         <span class="comment">//</span>
00588 
00589         Month = <a class="code" href="../../d1/d2/time_8c.html#a14">LeapYearDayToMonth</a>[Days];
00590         Days = Days - <a class="code" href="../../d1/d2/time_8c.html#a16">LeapYearDaysPrecedingMonth</a>[Month];
00591 
00592     } <span class="keywordflow">else</span> {
00593 
00594         <span class="comment">//</span>
00595         <span class="comment">//  The current year is a normal year, so figure out the month</span>
00596         <span class="comment">//  and days as described above for the leap year case</span>
00597         <span class="comment">//</span>
00598 
00599         Month = <a class="code" href="../../d1/d2/time_8c.html#a15">NormalYearDayToMonth</a>[Days];
00600         Days = Days - <a class="code" href="../../d1/d2/time_8c.html#a17">NormalYearDaysPrecedingMonth</a>[Month];
00601 
00602     }
00603 
00604     <span class="comment">//</span>
00605     <span class="comment">//  Now we need to compute the elapsed hour, minute, second, milliseconds</span>
00606     <span class="comment">//  from the millisecond variable.  This variable currently contains</span>
00607     <span class="comment">//  the number of milliseconds in our input time variable that did not</span>
00608     <span class="comment">//  fit into a whole day.  To compute the hour, minute, second part</span>
00609     <span class="comment">//  we will actually do the arithmetic backwards computing milliseconds</span>
00610     <span class="comment">//  seconds, minutes, and then hours.  We start by computing the</span>
00611     <span class="comment">//  number of whole seconds left in the day, and then computing</span>
00612     <span class="comment">//  the millisecond remainder.</span>
00613     <span class="comment">//</span>
00614 
00615     Seconds = Milliseconds / 1000;
00616     Milliseconds = Milliseconds % 1000;
00617 
00618     <span class="comment">//</span>
00619     <span class="comment">//  Now we compute the number of whole minutes left in the day</span>
00620     <span class="comment">//  and the number of remainder seconds</span>
00621     <span class="comment">//</span>
00622 
00623     Minutes = Seconds / 60;
00624     Seconds = Seconds % 60;
00625 
00626     <span class="comment">//</span>
00627     <span class="comment">//  Now compute the number of whole hours left in the day</span>
00628     <span class="comment">//  and the number of remainder minutes</span>
00629     <span class="comment">//</span>
00630 
00631     Hours = Minutes / 60;
00632     Minutes = Minutes % 60;
00633 
00634     <span class="comment">//</span>
00635     <span class="comment">//  As our final step we put everything into the time fields</span>
00636     <span class="comment">//  output variable</span>
00637     <span class="comment">//</span>
00638 
00639     <a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>-&gt;Year         = (CSHORT)(Years + 1601);
00640     <a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>-&gt;Month        = (CSHORT)(Month + 1);
00641     <a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>-&gt;Day          = (CSHORT)(Days + 1);
00642     <a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>-&gt;Hour         = (CSHORT)Hours;
00643     <a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>-&gt;Minute       = (CSHORT)Minutes;
00644     <a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>-&gt;Second       = (CSHORT)Seconds;
00645     <a class="code" href="../../d6/d6/ttime_8c.html#a13">TimeFields</a>-&gt;Milliseconds = (CSHORT)Milliseconds;
00646 
00647     <span class="comment">//</span>
00648     <span class="comment">//  and return to our caller</span>
00649     <span class="comment">//</span>
00650 
00651     <span class="keywordflow">return</span>;
00652 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a24" doxytag="time.c::TimeToDaysAndFraction" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID TimeToDaysAndFraction           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PLARGE_INTEGER&nbsp;</td>
          <td class="mdname" nowrap> <em>Time</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>OUT PULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>ElapsedDays</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>OUT PULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Milliseconds</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00361">361</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.
<p>
References <a class="el" href="../../d9/d2/kdapi_8c-source.html#l00048">Convert100nsToMilliseconds</a>, <a class="el" href="../../d2/d1/time_8c-source.html#l00198">ConvertDaysToMilliseconds</a>, <a class="el" href="../../d4/d5/stdtimep_8h-source.html#l00066">ConvertMillisecondsToDays</a>, and <a class="el" href="../../d7/d5/ttime_8c-source.html#l00047">Time</a>.
<p>
Referenced by <a class="el" href="../../d2/d1/time_8c-source.html#l00937">RtlTimeToElapsedTimeFields()</a>, and <a class="el" href="../../d2/d1/time_8c-source.html#l00508">RtlTimeToTimeFields()</a>.
<p>
<pre class="fragment"><div>00369                    :
00370 
00371     This routine converts an input 64-bit time value to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> number
00372     of total elapsed days and <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> number of milliseconds in <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a>
00373     partial day.
00374 
00375 Arguments:
00376 
00377     <a class="code" href="../../d6/d6/ttime_8c.html#a14">Time</a> - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> input time to convert from
00378 
00379     ElapsedDays - Receives <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> number of elapsed days
00380 
00381     Milliseconds - Receives <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> number of milliseconds in <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> partial day
00382 
00383 Return Value:
00384 
00385     None
00386 
00387 --*/
00388 
00389 {
00390     LARGE_INTEGER TotalMilliseconds;
00391     LARGE_INTEGER Temp;
00392 
00393     <span class="comment">//</span>
00394     <span class="comment">//  Convert the input time to total milliseconds</span>
00395     <span class="comment">//</span>
00396 
00397     TotalMilliseconds = <a class="code" href="../../d8/d3/kdapi_8c.html#a1">Convert100nsToMilliseconds</a>( *(PLARGE_INTEGER)Time );
00398 
00399     <span class="comment">//</span>
00400     <span class="comment">//  Convert milliseconds to total days</span>
00401     <span class="comment">//</span>
00402 
00403     Temp = <a class="code" href="../../d3/d6/stdtimep_8h.html#a7">ConvertMillisecondsToDays</a>( TotalMilliseconds );
00404 
00405     <span class="comment">//</span>
00406     <span class="comment">//  Set the elapsed days from temp, we've divided it enough so that</span>
00407     <span class="comment">//  the high part must be zero.</span>
00408     <span class="comment">//</span>
00409 
00410     *ElapsedDays = Temp.LowPart;
00411 
00412     <span class="comment">//</span>
00413     <span class="comment">//  Calculate the exact number of milliseconds in the elapsed days</span>
00414     <span class="comment">//  and subtract that from the total milliseconds to figure out</span>
00415     <span class="comment">//  the number of milliseconds left in the partial day</span>
00416     <span class="comment">//</span>
00417 
00418     Temp.QuadPart = <a class="code" href="../../d1/d2/time_8c.html#a9">ConvertDaysToMilliseconds</a>( *ElapsedDays );
00419 
00420     Temp.QuadPart = TotalMilliseconds.QuadPart - Temp.QuadPart;
00421 
00422     <span class="comment">//</span>
00423     <span class="comment">//  Set the fraction part from temp, the total number of milliseconds in</span>
00424     <span class="comment">//  a day guarantees that the high part must be zero.</span>
00425     <span class="comment">//</span>
00426 
00427     *Milliseconds = Temp.LowPart;
00428 
00429     <span class="comment">//</span>
00430     <span class="comment">//  And return to our caller</span>
00431     <span class="comment">//</span>
00432 
00433     <span class="keywordflow">return</span>;
00434 }

</div></pre>    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a16" doxytag="time.c::LeapYearDaysPrecedingMonth" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> CONST CSHORT <a class="el" href="../../d1/d2/time_8c.html#a16">LeapYearDaysPrecedingMonth</a>[13]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div> {
    0,                                 
    31,                                
    31+29,                             
    31+29+31,                          
    31+29+31+30,                       
    31+29+31+30+31,                    
    31+29+31+30+31+30,                 
    31+29+31+30+31+30+31,              
    31+29+31+30+31+30+31+31,           
    31+29+31+30+31+30+31+31+30,        
    31+29+31+30+31+30+31+31+30+31,     
    31+29+31+30+31+30+31+31+30+31+30,  
    31+29+31+30+31+30+31+31+30+31+30+31}
</div></pre>
<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00098">98</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d1/time_8c-source.html#l00822">RtlTimeFieldsToTime()</a>, and <a class="el" href="../../d2/d1/time_8c-source.html#l00508">RtlTimeToTimeFields()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="time.c::LeapYearDayToMonth" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> CONST UCHAR <a class="el" href="../../d1/d2/time_8c.html#a14">LeapYearDayToMonth</a>[366]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div> {
     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  
     1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,        
     2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,  
     3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,     
     4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,  
     5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,     
     6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6,  
     7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7,  
     8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8,     
     9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,  
    10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,     
    11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11}
</div></pre>
<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00062">62</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d1/time_8c-source.html#l00508">RtlTimeToTimeFields()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a20" doxytag="time.c::Magic10000" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const LARGE_INTEGER <a class="el" href="../../d1/d2/time_8c.html#a20">Magic10000</a> = {0xe219652c, 0xd1b71758}          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00164">164</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a21" doxytag="time.c::Magic10000000" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const LARGE_INTEGER <a class="el" href="../../d1/d2/time_8c.html#a21">Magic10000000</a> = {0xe57a42bd, 0xd6bf94d5}          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00167">167</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a22" doxytag="time.c::Magic86400000" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const LARGE_INTEGER <a class="el" href="../../d1/d2/time_8c.html#a22">Magic86400000</a> = {0xfa67b90e, 0xc6d750eb}          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00170">170</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="time.c::NormalYearDaysPrecedingMonth" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> CONST CSHORT <a class="el" href="../../d1/d2/time_8c.html#a17">NormalYearDaysPrecedingMonth</a>[13]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div> {
    0,                                 
    31,                                
    31+28,                             
    31+28+31,                          
    31+28+31+30,                       
    31+28+31+30+31,                    
    31+28+31+30+31+30,                 
    31+28+31+30+31+30+31,              
    31+28+31+30+31+30+31+31,           
    31+28+31+30+31+30+31+31+30,        
    31+28+31+30+31+30+31+31+30+31,     
    31+28+31+30+31+30+31+31+30+31+30,  
    31+28+31+30+31+30+31+31+30+31+30+31}
</div></pre>
<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00113">113</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d1/time_8c-source.html#l00822">RtlTimeFieldsToTime()</a>, and <a class="el" href="../../d2/d1/time_8c-source.html#l00508">RtlTimeToTimeFields()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="time.c::NormalYearDayToMonth" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> CONST UCHAR <a class="el" href="../../d1/d2/time_8c.html#a15">NormalYearDayToMonth</a>[365]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div> {
     0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  
     1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,           
     2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,  
     3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,     
     4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,  
     5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,     
     6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6,  
     7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7,  
     8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8,     
     9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9,  
    10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,     
    11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11}
</div></pre>
<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00076">76</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d1/time_8c-source.html#l00508">RtlTimeToTimeFields()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="time.c::SecondsToStartOf1970" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const LARGE_INTEGER <a class="el" href="../../d1/d2/time_8c.html#a18">SecondsToStartOf1970</a> = {0xb6109100, 0x00000002}          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00149">149</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d1/time_8c-source.html#l01223">RtlSecondsSince1970ToTime()</a>, and <a class="el" href="../../d2/d1/time_8c-source.html#l01154">RtlTimeToSecondsSince1970()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a19" doxytag="time.c::SecondsToStartOf1980" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const LARGE_INTEGER <a class="el" href="../../d1/d2/time_8c.html#a19">SecondsToStartOf1980</a> = {0xc8df3700, 0x00000002}          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d1/time_8c-source.html#l00151">151</a> of file <a class="el" href="../../d2/d1/time_8c-source.html">time.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d1/time_8c-source.html#l01098">RtlSecondsSince1980ToTime()</a>, and <a class="el" href="../../d2/d1/time_8c-source.html#l01029">RtlTimeToSecondsSince1980()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:45:46 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
