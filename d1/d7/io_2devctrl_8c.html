<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: io/devctrl.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>devctrl.c File Reference</h1><code>#include "<a class="el" href="../../d1/d5/iop_8h-source.html">iop.h</a>"</code><br>

<p>
<a href="../../d2/d6/io_2devctrl_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>NTSTATUS&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d7/io_2devctrl_8c.html#a0">NtDeviceIoControlFile</a> (IN HANDLE FileHandle, IN HANDLE Event OPTIONAL, IN PIO_APC_ROUTINE ApcRoutine OPTIONAL, IN PVOID ApcContext OPTIONAL, OUT PIO_STATUS_BLOCK IoStatusBlock, IN ULONG IoControlCode, IN PVOID InputBuffer OPTIONAL, IN ULONG InputBufferLength, OUT PVOID OutputBuffer OPTIONAL, IN ULONG OutputBufferLength)</td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a0" doxytag="io/devctrl.c::NtDeviceIoControlFile" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NTSTATUS NtDeviceIoControlFile           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN HANDLE&nbsp;</td>
          <td class="mdname" nowrap> <em>FileHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN HANDLE Event&nbsp;</td>
          <td class="mdname" nowrap> <em>OPTIONAL</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PIO_APC_ROUTINE ApcRoutine&nbsp;</td>
          <td class="mdname" nowrap> <em>OPTIONAL</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PVOID ApcContext&nbsp;</td>
          <td class="mdname" nowrap> <em>OPTIONAL</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>OUT PIO_STATUS_BLOCK&nbsp;</td>
          <td class="mdname" nowrap> <em>IoStatusBlock</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>IoControlCode</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PVOID InputBuffer&nbsp;</td>
          <td class="mdname" nowrap> <em>OPTIONAL</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>InputBufferLength</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>OUT PVOID OutputBuffer&nbsp;</td>
          <td class="mdname" nowrap> <em>OPTIONAL</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>OutputBufferLength</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d6/io_2devctrl_8c-source.html#l00034">34</a> of file <a class="el" href="../../d2/d6/io_2devctrl_8c-source.html">io/devctrl.c</a>.
<p>
References <a class="el" href="../../d9/d8/client_2ntstubs_8c-source.html#l00086">Event()</a>, <a class="el" href="../../d3/d3/internal_8c-source.html#l08084">IopXxxControlFile()</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d5/d5/netboot_8c-source.html#l04247">IopCacheNetbiosNameForIpAddress()</a>, <a class="el" href="../../d5/d5/netboot_8c-source.html#l00770">IopStartNetworkForRemoteBoot()</a>, <a class="el" href="../../d5/d5/netboot_8c-source.html#l01834">IopStartTcpIpForRemoteBoot()</a>, <a class="el" href="../../d5/d5/netboot_8c-source.html#l04377">IopTCPQueryInformationEx()</a>, <a class="el" href="../../d5/d5/netboot_8c-source.html#l04458">IopTCPSetInformationEx()</a>, <a class="el" href="../../d5/d4/vdmprint_8c-source.html#l00236">VdmFlushPrinterWriteData()</a>, <a class="el" href="../../d5/d4/vdmprint_8c-source.html#l00042">VdmPrinterStatus()</a>, and <a class="el" href="../../d5/d3/command_8c-source.html#l00035">Win32CommandChannelThread()</a>.
<p>
<pre class="fragment"><div>00049                    :
00050 
00051     This service builds descriptors or MDLs <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> supplied buffer(s) and
00052     passes the untyped data to the device driver associated with the file
00053     handle.  It is up to the driver to check the input data and function
00054     IoControlCode for validity, as well as to make the appropriate access
00055     checks.
00056 
00057 Arguments:
00058 
00059     FileHandle - Supplies a handle to the file on which the service is being
00060         performed.
00061 
00062     Event - Supplies an optional event to be set to the Signaled state when
00063         the service is complete.
00064 
00065     ApcRoutine - Supplies an optional APC routine to be executed when the
00066         service is complete.
00067 
00068     ApcContext - Supplies a context parameter to be passed to the ApcRoutine,
00069         if an ApcRoutine was specified.
00070 
00071     IoStatusBlock - Address of the caller's I/O status block.
00072 
00073     IoControlCode - Subfunction code to determine exactly what operation is
00074         being performed.
00075 
00076     InputBuffer - Optionally supplies an input buffer to be passed to the
00077         device driver.  Whether or not the buffer is actually optional is
00078         dependent on the IoControlCode.
00079 
00080     InputBufferLength - Length of the InputBuffer in bytes.
00081 
00082     OutputBuffer - Optionally supplies an output buffer to receive information
00083         from the device driver.  Whether or not the buffer is actually optional
00084         is dependent on the IoControlCode.
00085 
00086     OutputBufferLength - Length of the OutputBuffer in bytes.
00087 
00088 Return Value:
00089 
00090     The status returned is success if the control operation was properly
00091     queued to the I/O system.   Once the operation completes, the status
00092     can be determined by examining the Status field of the I/O status block.
00093 
00094 --*/
00095 
00096 {
00097     <span class="comment">//</span>
00098     <span class="comment">// Simply invoke the common routine that implements both device and file</span>
00099     <span class="comment">// system I/O controls.</span>
00100     <span class="comment">//</span>
00101 
00102     <span class="keywordflow">return</span> <a class="code" href="../../d0/d6/iop_8h.html#a216">IopXxxControlFile</a>( FileHandle,
00103                               Event,
00104                               ApcRoutine,
00105                               ApcContext,
00106                               IoStatusBlock,
00107                               IoControlCode,
00108                               InputBuffer,
00109                               InputBufferLength,
00110                               OutputBuffer,
00111                               OutputBufferLength,
00112                               TRUE );
00113 }
}
</div></pre>    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:43:26 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
