<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: client/help.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>help.c File Reference</h1><code>#include "<a class="el" href="../../d8/d2/w32_2ntuser_2client_2precomp_8h-source.html">precomp.h</a>"</code><br>

<p>
<a href="../../d2/d9/client_2help_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d0/client_2help_8c.html#a0">MAX_ATTEMPTS</a>&nbsp;&nbsp;&nbsp;5</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d0/client_2help_8c.html#a1">HLP_POPUP</a>&nbsp;&nbsp;&nbsp;'p'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d0/client_2help_8c.html#a2">HLP_TRAININGCARD</a>&nbsp;&nbsp;&nbsp;'<a class="el" href="../../d7/d1/genuedef_8c.html#a8">c</a>'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d0/client_2help_8c.html#a3">HLP_APPLICATION</a>&nbsp;&nbsp;&nbsp;'x'</td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>LRESULT&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d0/client_2help_8c.html#a9">SendWinHelpMessage</a> (HWND hwnd, WPARAM wParam, LPARAM lParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>LPHLP&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d0/client_2help_8c.html#a10">HFill</a> (LPCSTR lpszHelp, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> ulCommand, ULONG_PTR ulData)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d0/client_2help_8c.html#a11">LaunchHelper</a> (LPWSTR lpfile, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwType)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d0/client_2help_8c.html#a12">LaunchHelp</a> (<a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwType)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d6/d9/structtagWND.html">PWND</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d0/client_2help_8c.html#a13">GetNextDlgHelpItem</a> (<a class="el" href="../../d6/d9/structtagWND.html">PWND</a> pwndDlg, <a class="el" href="../../d6/d9/structtagWND.html">PWND</a> pwnd)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>UINT&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d0/client_2help_8c.html#a14">HelpMenu</a> (HWND hwnd, PPOINT ppt)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>HWND&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d0/client_2help_8c.html#a15">FindWinHelpWindow</a> (LPCWSTR lpwstrHelpWindowClass, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwType, BOOL bLaunchIt)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL CALLBACK&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d0/client_2help_8c.html#a16">EnumHwndDlgChildProc</a> (HWND hwnd, LPARAM lParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d0/client_2help_8c.html#a17">WinHelpA</a> (HWND hwnd, LPCSTR lpszHelp, UINT uCommand, ULONG_PTR dwData)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d0/client_2help_8c.html#a18">WinHelpW</a> (HWND hwndMain, LPCWSTR lpwszHelp, UINT uCommand, ULONG_PTR dwData)</td></tr>

<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d0/client_2help_8c.html#a4">szDefaultHelpFileA</a> [] = "windows.hlp"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PWCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d0/client_2help_8c.html#a5">szEXECHELP</a> = TEXT("\\winhlp32 - ")</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PWCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d0/client_2help_8c.html#a6">szMS_WINHELP</a> = L"MS_WINHELP"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PWCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d0/client_2help_8c.html#a7">szMS_POPUPHELP</a> = L"MS_POPUPHELP"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PWCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d0/client_2help_8c.html#a8">szMS_TCARDHELP</a> = L"MS_TCARDHELP"</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a3" doxytag="client/help.c::HLP_APPLICATION" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define HLP_APPLICATION&nbsp;&nbsp;&nbsp;'x'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00026">26</a> of file <a class="el" href="../../d2/d9/client_2help_8c-source.html">client/help.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00183">LaunchHelper()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="client/help.c::HLP_POPUP" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define HLP_POPUP&nbsp;&nbsp;&nbsp;'p'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00024">24</a> of file <a class="el" href="../../d2/d9/client_2help_8c-source.html">client/help.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00183">LaunchHelper()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="client/help.c::HLP_TRAININGCARD" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define HLP_TRAININGCARD&nbsp;&nbsp;&nbsp;'<a class="el" href="../../d7/d1/genuedef_8c.html#a8">c</a>'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00025">25</a> of file <a class="el" href="../../d2/d9/client_2help_8c-source.html">client/help.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00183">LaunchHelper()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="client/help.c::MAX_ATTEMPTS" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MAX_ATTEMPTS&nbsp;&nbsp;&nbsp;5          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00015">15</a> of file <a class="el" href="../../d2/d9/client_2help_8c-source.html">client/help.c</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a16" doxytag="client/help.c::EnumHwndDlgChildProc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL CALLBACK EnumHwndDlgChildProc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HWND&nbsp;</td>
          <td class="mdname" nowrap> <em>hwnd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPARAM&nbsp;</td>
          <td class="mdname" nowrap> <em>lParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00419">419</a> of file <a class="el" href="../../d2/d9/client_2help_8c-source.html">client/help.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d5/d9/rtl_2help_8c-source.html#l00054">EnumPwndDlgChildProc()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d5/d9/immcli_8h-source.html#l00120">ValidateHwnd</a>.
<p>
Referenced by <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00447">WinHelpA()</a>.
<p>
<pre class="fragment"><div>00420 {
00421     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd;
00422     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> bResult;
00423 
00424     <span class="keywordflow">if</span> (pwnd = <a class="code" href="../../d4/d0/immcli_8h.html#a4">ValidateHwnd</a>(hwnd))
00425         bResult = <a class="code" href="../../d4/d0/rtl_2help_8c.html#a2">EnumPwndDlgChildProc</a>( pwnd, lParam );
00426     <span class="keywordflow">else</span>
00427         bResult = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00428 
00429     <span class="keywordflow">return</span> bResult;
00430 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="client/help.c::FindWinHelpWindow" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> HWND FindWinHelpWindow           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LPCWSTR&nbsp;</td>
          <td class="mdname" nowrap> <em>lpwstrHelpWindowClass</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dwType</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOL&nbsp;</td>
          <td class="mdname" nowrap> <em>bLaunchIt</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00375">375</a> of file <a class="el" href="../../d2/d9/client_2help_8c-source.html">client/help.c</a>.
<p>
References <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d1/d7/ntcftxt_8h-source.html#l00061">FindWindowEx()</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l00786">FW_32BIT</a>, <a class="el" href="../../d6/d0/usercli_8h.html#a557">InternalFindWindowExW()</a>, <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00256">LaunchHelp()</a>, and <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>.
<p>
Referenced by <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00447">WinHelpA()</a>.
<p>
<pre class="fragment"><div>00380 {
00381     HWND    hwndHelp;
00382 
00383     <span class="comment">/*</span>
00384 <span class="comment">     *  Find the current help window.  If not found, try and launch</span>
00385 <span class="comment">     *  the WinHlp32 application.  We are interested only in 32 bit help.</span>
00386 <span class="comment">     *  Note that 16 bit apps don't walk this path, ntvdm taking care of</span>
00387 <span class="comment">     *  starting the 16 bit help for them.</span>
00388 <span class="comment">     */</span>
00389     hwndHelp = <a class="code" href="../../d6/d0/usercli_8h.html#a557">InternalFindWindowExW</a>(NULL, NULL, lpwstrHelpWindowClass, NULL, FW_32BIT);
00390 
00391     <span class="keywordflow">if</span> (hwndHelp == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00392         <span class="keywordflow">if</span> (bLaunchIt) {
00393             <span class="comment">/*</span>
00394 <span class="comment">             *  Can't find it --&gt; see if we want to launch it</span>
00395 <span class="comment">             */</span>
00396             <span class="keywordflow">if</span> ((<a class="code" href="../../d1/d0/client_2help_8c.html#a12">LaunchHelp</a>(dwType) == <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>) ||
00397                 (hwndHelp = <a class="code" href="../../d0/d8/ntcftxt_8h.html#a10">FindWindowEx</a>(NULL, NULL, (LPWSTR)lpwstrHelpWindowClass, NULL)) == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
00398               {
00399 
00400                 <span class="comment">/*</span>
00401 <span class="comment">                 *  Can't find help, or not enough memory to load help.</span>
00402 <span class="comment">                 *  pwndHelp will be NULL at this point.</span>
00403 <span class="comment">                 */</span>
00404 <span class="preprocessor">#if DBG</span>
00405 <span class="preprocessor"></span>                RIPMSG0( RIP_WARNING, <span class="stringliteral">"xxxWinHelpA: xxxLaunchHelp and xxxFindWinow failed."</span> );
00406 <span class="preprocessor">#endif</span>
00407 <span class="preprocessor"></span>            }
00408         }
00409     }
00410 
00411     <span class="keywordflow">return</span> hwndHelp;
00412 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="client/help.c::GetNextDlgHelpItem" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d6/d9/structtagWND.html">PWND</a> GetNextDlgHelpItem           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d6/d9/structtagWND.html">PWND</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pwndDlg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d6/d9/structtagWND.html">PWND</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pwnd</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00290">290</a> of file <a class="el" href="../../d2/d9/client_2help_8c-source.html">client/help.c</a>.
<p>
References <a class="el" href="../../d7/d8/dlgmgrc_8c-source.html#l00125">_GetChildControl()</a>, <a class="el" href="../../d3/d7/rtl_2winmgr_8c-source.html#l00513">_IsDescendant()</a>, <a class="el" href="../../d7/d8/dlgmgrc_8c-source.html#l00207">_NextControl()</a>, and <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>.
<p>
Referenced by <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00447">WinHelpA()</a>.
<p>
<pre class="fragment"><div>00291 {
00292     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndSave;
00293 
00294     <span class="keywordflow">if</span> (pwnd == pwndDlg)
00295         pwnd = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00296     <span class="keywordflow">else</span>
00297     {
00298         pwnd = <a class="code" href="../../d6/d0/usercli_8h.html#a643">_GetChildControl</a>(pwndDlg, pwnd);
00299         <span class="keywordflow">if</span> (pwnd)
00300         {
00301             <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d8/rtl_2winmgr_8c.html#a5">_IsDescendant</a>(pwndDlg, pwnd))
00302                 <span class="keywordflow">return</span>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
00303         }
00304     }
00305 
00306     <span class="comment">/*</span>
00307 <span class="comment">     *  BACKWARD COMPATIBILITY</span>
00308 <span class="comment">     *</span>
00309 <span class="comment">     *  Note that the result when there are no tabstops of</span>
00310 <span class="comment">     *  IGetNextDlgTabItem(hwndDlg, NULL, FALSE) was the last item, now</span>
00311 <span class="comment">     *  will be the first item.  We could put a check for fRecurse here</span>
00312 <span class="comment">     *  and do the old thing if not set.</span>
00313 <span class="comment">     */</span>
00314 
00315     <span class="comment">/*</span>
00316 <span class="comment">     *  We are going to bug out if we hit the first child a second time.</span>
00317 <span class="comment">     */</span>
00318     pwndSave = pwnd;
00319     pwnd = <a class="code" href="../../d6/d0/usercli_8h.html#a639">_NextControl</a>(pwndDlg, pwnd, CWP_SKIPINVISIBLE);
00320 
00321     <span class="keywordflow">while</span> ((pwnd != pwndSave) &amp;&amp; (pwnd != pwndDlg))
00322     {
00323         UserAssert(pwnd);
00324 
00325         <span class="keywordflow">if</span> (!pwndSave)
00326             pwndSave = pwnd;
00327 
00328         <span class="keywordflow">if</span> ((pwnd-&gt;style &amp; (WS_TABSTOP | WS_VISIBLE))  == (WS_TABSTOP | WS_VISIBLE))
00329             <span class="comment">/*</span>
00330 <span class="comment">             *  Found it.</span>
00331 <span class="comment">             */</span>
00332             <span class="keywordflow">break</span>;
00333 
00334         pwnd = <a class="code" href="../../d6/d0/usercli_8h.html#a639">_NextControl</a>(pwndDlg, pwnd, CWP_SKIPINVISIBLE);
00335     }
00336 
00337     <span class="keywordflow">return</span>(pwnd);
00338 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="client/help.c::HelpMenu" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> UINT HelpMenu           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HWND&nbsp;</td>
          <td class="mdname" nowrap> <em>hwnd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PPOINT&nbsp;</td>
          <td class="mdname" nowrap> <em>ppt</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00348">348</a> of file <a class="el" href="../../d2/d9/client_2help_8c-source.html">client/help.c</a>.
<p>
References <a class="el" href="../../d4/d8/client_2wow_8c-source.html#l00350">GetSubMenu()</a>, <a class="el" href="../../d2/d7/clglobal_8c-source.html#l00053">hmodUser</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02663">ID_HELPMENU</a>, <a class="el" href="../../d0/d5/ndismain_8h-source.html#l00025">INT</a>, <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l04100">NtUserDestroyMenu()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d8/d6/menuc_8c-source.html#l00246">TrackPopupMenu()</a>, and <a class="el" href="../../d0/d5/ndismain_8h-source.html#l00026">UINT</a>.
<p>
Referenced by <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00447">WinHelpA()</a>.
<p>
<pre class="fragment"><div>00351 {
00352     <a class="code" href="../../d9/d5/ndismain_8h.html#a263">INT</a>     cmd;
00353     HMENU   hmenu = LoadMenu( hmodUser, MAKEINTRESOURCE(ID_HELPMENU));
00354 
00355     <span class="keywordflow">if</span> (hmenu != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00356         cmd = <a class="code" href="../../d7/d7/menuc_8c.html#a8">TrackPopupMenu</a>( <a class="code" href="../../d3/d9/client_2wow_8c.html#a14">GetSubMenu</a>(hmenu, 0),
00357               TPM_LEFTALIGN | TPM_TOPALIGN | TPM_RETURNCMD | TPM_RIGHTBUTTON,
00358               ppt-&gt;x, ppt-&gt;y, 0, hwnd, NULL);
00359         <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a158">NtUserDestroyMenu</a>(hmenu);
00360         <span class="keywordflow">return</span> cmd;
00361     }
00362 
00363     <span class="keywordflow">return</span> (<a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>)-1;
00364 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="client/help.c::HFill" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> LPHLP HFill           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LPCSTR&nbsp;</td>
          <td class="mdname" nowrap> <em>lpszHelp</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ulCommand</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG_PTR&nbsp;</td>
          <td class="mdname" nowrap> <em>ulData</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00060">60</a> of file <a class="el" href="../../d2/d9/client_2help_8c-source.html">client/help.c</a>.
<p>
References <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d6/d8/ntrtlp_8h-source.html#l00184">HIBYTE</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, and <a class="el" href="../../d2/d7/regtest_8c.html#a2">strlen()</a>.
<p>
Referenced by <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00447">WinHelpA()</a>.
<p>
<pre class="fragment"><div>00064 {
00065     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   cb;     <span class="comment">// Size of the data block</span>
00066     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   cbStr;  <span class="comment">// Length of the help file name</span>
00067     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   cbData; <span class="comment">// Size of the dwData parameter in bytes (0 if not used)</span>
00068     LPHLP   phlp;   <span class="comment">// Pointer to data block</span>
00069     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>    bType;  <span class="comment">// dwData parameter type</span>
00070 
00071     <span class="comment">/*</span>
00072 <span class="comment">     * Get the length of the help file name</span>
00073 <span class="comment">     */</span>
00074     cbStr = (lpszHelp) ? <a class="code" href="../../d2/d7/regtest_8c.html#a2">strlen</a>(lpszHelp) + 1 : 0;
00075 
00076     <span class="comment">/*</span>
00077 <span class="comment">     * Get the length of any dwData parameters</span>
00078 <span class="comment">     */</span>
00079     bType = <a class="code" href="../../d5/d9/ntrtlp_8h.html#a5">HIBYTE</a>(LOWORD(ulCommand));
00080     <span class="keywordflow">if</span> (ulData) {
00081         <span class="keywordflow">switch</span> (bType) {
00082         <span class="keywordflow">case</span> <a class="code" href="../../d5/d9/ntrtlp_8h.html#a5">HIBYTE</a>(HELP_HB_STRING):
00083             <span class="comment">/*</span>
00084 <span class="comment">             * ulData is an ANSI string, so compute its length</span>
00085 <span class="comment">             */</span>
00086             cbData = <a class="code" href="../../d2/d7/regtest_8c.html#a2">strlen</a>((LPSTR)ulData) + 1;
00087             <span class="keywordflow">break</span>;
00088 
00089         <span class="keywordflow">case</span> <a class="code" href="../../d5/d9/ntrtlp_8h.html#a5">HIBYTE</a>(HELP_HB_STRUCT):
00090             <span class="comment">/*</span>
00091 <span class="comment">             * ulData points to a structure who's first member is</span>
00092 <span class="comment">             * an int that contains the size of the structure in bytes.</span>
00093 <span class="comment">             */</span>
00094             cbData = *((<a class="code" href="../../d3/d8/propapi_8h.html#a49">int</a> *)ulData);
00095             <span class="keywordflow">break</span>;
00096 
00097         <span class="keywordflow">default</span>:
00098             <span class="comment">/*</span>
00099 <span class="comment">             * dwData has no parameter</span>
00100 <span class="comment">             */</span>
00101             cbData = 0;
00102         }
00103     } <span class="keywordflow">else</span> {
00104         <span class="comment">/*</span>
00105 <span class="comment">         * No parameter is present</span>
00106 <span class="comment">         */</span>
00107         cbData = 0;
00108     }
00109 
00110     <span class="comment">/*</span>
00111 <span class="comment">     * Calculate size (NOTE: HLP is called WINHLP in Win95)</span>
00112 <span class="comment">     */</span>
00113     cb = <span class="keyword">sizeof</span>(HLP) + cbStr + cbData;
00114 
00115     <span class="comment">/*</span>
00116 <span class="comment">     * Get data block</span>
00117 <span class="comment">     */</span>
00118     <span class="keywordflow">if</span> ((phlp = (LPHLP)LocalAlloc(LPTR, cb)) == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
00119         <span class="keywordflow">return</span> <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00120 
00121     <span class="comment">/*</span>
00122 <span class="comment">     * Fill in info</span>
00123 <span class="comment">     */</span>
00124     phlp-&gt;cbData = (WORD)cb;
00125     phlp-&gt;usCommand = (WORD)ulCommand;
00126     phlp-&gt;ulReserved = 0;
00127     <span class="comment">// phlp-&gt;ulTopic = 0;</span>
00128 
00129     <span class="comment">/*</span>
00130 <span class="comment">     * Fill in file name</span>
00131 <span class="comment">     */</span>
00132     <span class="keywordflow">if</span> (lpszHelp) {
00133         phlp-&gt;offszHelpFile = <span class="keyword">sizeof</span>(HLP);  <span class="comment">// NOTE: HLP is called WINHLP in Win95</span>
00134         strcpy((LPSTR)(phlp + 1), lpszHelp);
00135     } <span class="keywordflow">else</span> {
00136         phlp-&gt;offszHelpFile = 0;
00137     }
00138 
00139     <span class="comment">/*</span>
00140 <span class="comment">     * Fill in data</span>
00141 <span class="comment">     */</span>
00142     <span class="keywordflow">switch</span> (bType) {
00143     <span class="keywordflow">case</span> <a class="code" href="../../d5/d9/ntrtlp_8h.html#a5">HIBYTE</a>(HELP_HB_STRING):
00144         if (cbData) {
00145             phlp-&gt;offabData = (WORD)(<span class="keyword">sizeof</span>(HLP) + cbStr);  <span class="comment">// NOTE: HLP is called WINHLP in Win95</span>
00146             strcpy((LPSTR)phlp + phlp-&gt;offabData, (LPSTR)ulData);
00147         } <span class="keywordflow">else</span> {
00148             phlp-&gt;offabData = 0;
00149         }
00150         <span class="keywordflow">break</span>;
00151 
00152     <span class="keywordflow">case</span> <a class="code" href="../../d5/d9/ntrtlp_8h.html#a5">HIBYTE</a>(HELP_HB_STRUCT):
00153         if (cbData) {
00154             phlp-&gt;offabData = (WORD)(<span class="keyword">sizeof</span>(HLP) + cbStr);  <span class="comment">// NOTE: HLP is called WINHLP in Win95</span>
00155             RtlCopyMemory((LPBYTE)phlp + phlp-&gt;offabData, (PVOID)ulData,
00156                     *((<span class="keywordtype">int</span> far *)ulData));
00157         } <span class="keywordflow">else</span> {
00158             phlp-&gt;offabData = 0;
00159         }
00160         <span class="keywordflow">break</span>;
00161 
00162     <span class="keywordflow">default</span>:
00163         phlp-&gt;offabData = 0;
00164 <span class="comment">// BradG - This item is named differently in the Win95 WINHLP structure</span>
00165 <span class="comment">//      phlp-&gt;ctx   = ulData;</span>
00166         phlp-&gt;ulTopic = ulData;
00167         <span class="keywordflow">break</span>;
00168     }
00169 
00170     <span class="keywordflow">return</span>(phlp);
00171 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="client/help.c::LaunchHelp" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL LaunchHelp           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dwType</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00256">256</a> of file <a class="el" href="../../d2/d9/client_2help_8c-source.html">client/help.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>, <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00183">LaunchHelper()</a>, <a class="el" href="../../d4/d8/arcinst_8c-source.html#l00065">MAX_PATH</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00375">FindWinHelpWindow()</a>.
<p>
<pre class="fragment"><div>00257 {
00258     WCHAR wszPath[<a class="code" href="../../d3/d9/arcinst_8c.html#a6">MAX_PATH</a>];
00259 
00260     GetSystemWindowsDirectoryW(wszPath, MAX_PATH);
00261 
00262     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0/client_2help_8c.html#a11">LaunchHelper</a>(wszPath, dwType))
00263         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00264 
00265     <span class="comment">/*</span>
00266 <span class="comment">     * Search the system directory (Not in Win95)</span>
00267 <span class="comment">     */</span>
00268     GetSystemDirectoryW(wszPath, MAX_PATH);
00269     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d0/client_2help_8c.html#a11">LaunchHelper</a>(wszPath, dwType))
00270         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00271 
00272     <span class="comment">/*</span>
00273 <span class="comment">     * Try the search path</span>
00274 <span class="comment">     */</span>
00275     wszPath[0] = <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="charliteral">'\0'</span>;
00276     <span class="keywordflow">return</span> <a class="code" href="../../d1/d0/client_2help_8c.html#a11">LaunchHelper</a>(wszPath, dwType);
00277 
00278 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="client/help.c::LaunchHelper" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL LaunchHelper           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LPWSTR&nbsp;</td>
          <td class="mdname" nowrap> <em>lpfile</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dwType</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00183">183</a> of file <a class="el" href="../../d2/d9/client_2help_8c-source.html">client/help.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00026">HLP_APPLICATION</a>, <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00024">HLP_POPUP</a>, <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00025">HLP_TRAININGCARD</a>, <a class="el" href="../../d6/d9/obclose_8c-source.html#l00037">NtClose()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00018">szEXECHELP</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d0/d0/client_2nt6_2user_8h.html#a1252a1148">TYPE_POPUP</a>, <a class="el" href="../../d0/d0/client_2nt6_2user_8h.html#a1252a1149">TYPE_TCARD</a>, and <a class="el" href="../../d4/d7/client_8c-source.html#l01434">WaitForInputIdle()</a>.
<p>
Referenced by <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00256">LaunchHelp()</a>.
<p>
<pre class="fragment"><div>00184 {
00185     <span class="keywordtype">int</span>                 cchLen;
00186     <span class="keywordtype">int</span>                 cchShift;
00187     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>               idProcess;
00188     STARTUPINFO         StartupInfo;
00189     PROCESS_INFORMATION ProcessInformation;
00190     PWCHAR pwcExecHelp;
00191 
00192     pwcExecHelp = <a class="code" href="../../d1/d0/client_2help_8c.html#a5">szEXECHELP</a>;
00193 
00194     <span class="comment">/*</span>
00195 <span class="comment">     *  Are we at the root?? If so, skip over leading backslash in text string</span>
00196 <span class="comment">     */</span>
00197     <span class="keywordflow">if</span> (*lpfile) {
00198         cchLen = wcslen(lpfile);
00199         cchShift = (lpfile[cchLen - 1] == TEXT(<span class="charliteral">'\\'</span>)) ? 1 : 0;
00200         wcscat(lpfile, pwcExecHelp + cchShift);
00201     } <span class="keywordflow">else</span> {
00202         wcscat(lpfile, pwcExecHelp + 1);
00203     }
00204 
00205 
00206     <span class="comment">/*</span>
00207 <span class="comment">     * Defaultly send "winhlp32 -x" or adjust the last flag character</span>
00208 <span class="comment">     */</span>
00209     <span class="keywordflow">switch</span> (dwType) {
00210     <span class="keywordflow">case</span> <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a1252a1148">TYPE_POPUP</a>:
00211         lpfile[wcslen(lpfile)-1] = TEXT(HLP_POPUP);
00212         <span class="keywordflow">break</span>;
00213 
00214     <span class="keywordflow">case</span> <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a1252a1149">TYPE_TCARD</a>:
00215         lpfile[wcslen(lpfile)-1] = TEXT(HLP_TRAININGCARD);
00216         <span class="keywordflow">break</span>;
00217 
00218     <span class="keywordflow">default</span>:
00219         lpfile[wcslen(lpfile)-1] = TEXT(HLP_APPLICATION);
00220         <span class="keywordflow">break</span>;
00221     }
00222 
00223     <span class="comment">/*</span>
00224 <span class="comment">     *  Launch winhelp</span>
00225 <span class="comment">     */</span>
00226     memset(&amp;StartupInfo,0,<span class="keyword">sizeof</span>(StartupInfo));
00227     StartupInfo.cb = <span class="keyword">sizeof</span>(StartupInfo);
00228     StartupInfo.wShowWindow = SW_SHOW;
00229     StartupInfo.dwFlags = STARTF_USESHOWWINDOW | STARTF_FORCEONFEEDBACK;
00230 
00231     idProcess = (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)CreateProcessW(NULL, lpfile,
00232             NULL, NULL, FALSE, NORMAL_PRIORITY_CLASS, NULL, NULL, &amp;StartupInfo,
00233             &amp;ProcessInformation);
00234 
00235     <span class="keywordflow">if</span> (idProcess) {
00236         <a class="code" href="../../d3/d8/client_8c.html#a56">WaitForInputIdle</a>(ProcessInformation.hProcess, 10000);
00237         <a class="code" href="../../d5/d0/obclose_8c.html#a1">NtClose</a>(ProcessInformation.hProcess);
00238         <a class="code" href="../../d5/d0/obclose_8c.html#a1">NtClose</a>(ProcessInformation.hThread);
00239         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00240     }
00241 
00242     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00243 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="client/help.c::SendWinHelpMessage" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> LRESULT SendWinHelpMessage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HWND&nbsp;</td>
          <td class="mdname" nowrap> <em>hwnd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>WPARAM&nbsp;</td>
          <td class="mdname" nowrap> <em>wParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPARAM&nbsp;</td>
          <td class="mdname" nowrap> <em>lParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00039">39</a> of file <a class="el" href="../../d2/d9/client_2help_8c-source.html">client/help.c</a>.
<p>
References <a class="el" href="../../d4/d7/client_8c-source.html#l03509">AllowSetForegroundWindow()</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d4/d7/winmgrc_8c-source.html#l00251">GetWindowThreadProcessId()</a>, and <a class="el" href="../../d6/d8/cltxt_8h-source.html#l00652">SendMessage()</a>.
<p>
Referenced by <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00447">WinHelpA()</a>.
<p>
<pre class="fragment"><div>00040 {
00041     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwProcessId = 0;
00042     <a class="code" href="../../d3/d8/winmgrc_8c.html#a18">GetWindowThreadProcessId</a>(hwnd, &amp;dwProcessId);
00043     <a class="code" href="../../d3/d8/client_8c.html#a132">AllowSetForegroundWindow</a>(dwProcessId);
00044     <span class="keywordflow">return</span> <a class="code" href="../../d5/d9/cltxt_8h.html#a16">SendMessage</a>(hwnd, WM_WINHELP, wParam, lParam);
00045 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="client/help.c::WinHelpA" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL WinHelpA           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HWND&nbsp;</td>
          <td class="mdname" nowrap> <em>hwnd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPCSTR&nbsp;</td>
          <td class="mdname" nowrap> <em>lpszHelp</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>uCommand</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG_PTR&nbsp;</td>
          <td class="mdname" nowrap> <em>dwData</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00447">447</a> of file <a class="el" href="../../d2/d9/client_2help_8c-source.html">client/help.c</a>.
<p>
References <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02436">BFTYPEMASK</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d6/d8/cltxt_8h-source.html#l00629">DefWindowProc()</a>, <a class="el" href="../../d0/d0/client_2nt6_2user_8h.html#a1079">DLGENUMDATA</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d1/d7/clenum_8c-source.html#l00188">EnumChildWindows()</a>, <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00419">EnumHwndDlgChildProc()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d7/rtl_2winmgr_8c-source.html#l00019">FindNCHit()</a>, <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00375">FindWinHelpWindow()</a>, <a class="el" href="../../d5/d9/rtl_2help_8c-source.html#l00012">FIsParentDude()</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00793">FNID_BUTTON</a>, <a class="el" href="../../d4/d8/client_2wow_8c-source.html#l00624">GetCursorPos()</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00843">GETFNID</a>, <a class="el" href="../../d4/d7/winmgrc_8c-source.html#l00090">GetFocus()</a>, <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00290">GetNextDlgHelpItem()</a>, <a class="el" href="../../d3/d7/rtl_2winmgr_8c-source.html#l00817">GetTopLevelWindow()</a>, <a class="el" href="../../d4/d8/client_2wow_8c-source.html#l00655">GetWindowRect()</a>, <a class="el" href="../../d2/d7/clglobal_8c-source.html#l00051">gpsi</a>, <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00348">HelpMenu()</a>, <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00060">HFill()</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l01514">HW</a>, <a class="el" href="../../d7/d8/kernlini_8c-source.html#l01688">MAX_ATTEMPTS</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l02826">tagDLGENUMDATA::ptCurHelp</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00411">PTR_TO_ID</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l02825">tagDLGENUMDATA::pwndControl</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l02824">tagDLGENUMDATA::pwndDialog</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l01838">tagWND::rcWindow</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00215">REBASEPWND</a>, <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00039">SendWinHelpMessage()</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00062">SHORT</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l01764">tagWND::spmenu</a>, <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00016">szDefaultHelpFileA</a>, <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00020">szMS_POPUPHELP</a>, <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00021">szMS_TCARDHELP</a>, <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00019">szMS_WINHELP</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02555">TestWF</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d0/d0/client_2nt6_2user_8h.html#a1252a1147">TYPE_NORMAL</a>, <a class="el" href="../../d0/d0/client_2nt6_2user_8h.html#a1252a1148">TYPE_POPUP</a>, <a class="el" href="../../d0/d0/client_2nt6_2user_8h.html#a1252a1149">TYPE_TCARD</a>, and <a class="el" href="../../d5/d9/immcli_8h-source.html#l00120">ValidateHwnd</a>.
<p>
Referenced by <a class="el" href="../../d2/d9/client_2help_8c-source.html#l01116">WinHelpW()</a>.
<p>
<pre class="fragment"><div>00452 {
00453     LPWSTR  lpwstrHelpWindowClass;
00454     LPHLP   lpHlp = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00455     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   dwType;
00456     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>    pwnd;
00457     HWND    hwndHelp = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;    <span class="comment">/* Handle of help's main window         */</span>
00458     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>    pwndTop = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;     <span class="comment">/* Top level window that WinHelp uses.  */</span>
00459     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>    pwndMain;           <span class="comment">/* pointer to main help control         */</span>
00460     LRESULT lResult;
00461     POINT   ptCur;
00462     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    bResult = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00463 
00464     pwnd = <a class="code" href="../../d4/d0/immcli_8h.html#a4">ValidateHwnd</a>(hwnd);
00465 
00466     <span class="keywordflow">if</span> (uCommand &amp; HELP_TCARD) {
00467         <span class="comment">/*</span>
00468 <span class="comment">         * For Training Cards, the HELP_TCARD bit is set.  We need to</span>
00469 <span class="comment">         * set our help window class to szMS_TCARDHELP and then remove</span>
00470 <span class="comment">         * the HELP_TCARD bit.</span>
00471 <span class="comment">         */</span>
00472         lpwstrHelpWindowClass = <a class="code" href="../../d1/d0/client_2help_8c.html#a8">szMS_TCARDHELP</a>;
00473         uCommand &amp;= ~HELP_TCARD;    <span class="comment">// mask out the tcard flag</span>
00474         dwType = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a1252a1149">TYPE_TCARD</a>;
00475     } <span class="keywordflow">else</span> {
00476         <span class="keywordflow">if</span>( (uCommand == HELP_CONTEXTMENU) || (uCommand == HELP_CONTEXTPOPUP) ||
00477             (uCommand == HELP_SETPOPUP_POS) || (uCommand == HELP_WM_HELP)) {
00478             <span class="comment">/*</span>
00479 <span class="comment">             *  Popups should be connected to a valid window.  pwndMain has already</span>
00480 <span class="comment">             *  been validated as a real window handle or NULL, so we just need to</span>
00481 <span class="comment">             *  check the NULL case here.</span>
00482 <span class="comment">             */</span>
00483             <span class="keywordflow">if</span> (pwnd == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00484                 RIPERR1(ERROR_INVALID_PARAMETER,
00485                         RIP_WARNING,
00486                         <span class="stringliteral">"WinHelpA: NULL hWnd invalid for this type of help command (0x%X)"</span>,
00487                         uCommand);
00488 
00489                 bResult = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00490                 <span class="keywordflow">goto</span> Exit_WinHelp;
00491             }
00492             dwType = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a1252a1148">TYPE_POPUP</a>;
00493             lpwstrHelpWindowClass = <a class="code" href="../../d1/d0/client_2help_8c.html#a7">szMS_POPUPHELP</a>;
00494         } <span class="keywordflow">else</span> {
00495             dwType = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a1252a1147">TYPE_NORMAL</a>;
00496             lpwstrHelpWindowClass = <a class="code" href="../../d1/d0/client_2help_8c.html#a6">szMS_WINHELP</a>;
00497         }
00498     }
00499 
00500     <span class="comment">/*</span>
00501 <span class="comment">     * Get the cursor's current location  This is where we assume the user</span>
00502 <span class="comment">     * clicked.  We will use this position to search for a child window and</span>
00503 <span class="comment">     * to set the context sensitive help popup window's location.</span>
00504 <span class="comment">     *</span>
00505 <span class="comment">     * If the last input was a keyboard one, use the point in the center</span>
00506 <span class="comment">     * of the focus window rectangle. MCostea #249270</span>
00507 <span class="comment">     */</span>
00508     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;bLastRITWasKeyboard) {
00509         HWND hWndFocus = <a class="code" href="../../d3/d8/winmgrc_8c.html#a11">GetFocus</a>();
00510         RECT rcWindow;
00511 
00512         <span class="keywordflow">if</span> (<a class="code" href="../../d3/d9/client_2wow_8c.html#a26">GetWindowRect</a>(hWndFocus, &amp;rcWindow)) {
00513             ptCur.x = (rcWindow.left + rcWindow.right)/2;
00514             ptCur.y = (rcWindow.top + rcWindow.bottom)/2;
00515         } <span class="keywordflow">else</span> {
00516             <span class="keywordflow">goto</span> getCursorPos;
00517         }
00518     } <span class="keywordflow">else</span> {
00519 getCursorPos:
00520         <a class="code" href="../../d3/d9/client_2wow_8c.html#a25">GetCursorPos</a>(&amp;ptCur);
00521     }
00522 
00523     <span class="comment">/*</span>
00524 <span class="comment">     * If we are handling the HELP_CONTEXTMENU command, see if we</span>
00525 <span class="comment">     * can determine the correct child window.</span>
00526 <span class="comment">     */</span>
00527     <span class="keywordflow">if</span> (uCommand == HELP_CONTEXTMENU &amp;&amp; <a class="code" href="../../d4/d0/rtl_2help_8c.html#a0">FIsParentDude</a>(pwnd)) {
00528         LONG        lPt;
00529         <span class="keywordtype">int</span>         nHit;
00530         <a class="code" href="../../d1/d4/structtagDLGENUMDATA.html">DLGENUMDATA</a> DlgEnumData;
00531 
00532         <span class="comment">/*</span>
00533 <span class="comment">         *  If the user really clicked on the caption or the system menu,</span>
00534 <span class="comment">         *  then we want the context menu for the window, not help for a</span>
00535 <span class="comment">         *  control.  This makes it consistent across all 3.x and 4.0</span>
00536 <span class="comment">         *  windows.</span>
00537 <span class="comment">         */</span>
00538         lPt = MAKELONG(ptCur.x,ptCur.y);
00539         nHit = <a class="code" href="../../d2/d8/rtl_2winmgr_8c.html#a0">FindNCHit</a>(pwnd, lPt);
00540         <span class="keywordflow">if</span> ((nHit == HTCAPTION) || (nHit == HTSYSMENU))
00541             <a class="code" href="../../d5/d9/cltxt_8h.html#a15">DefWindowProc</a>(hwnd, WM_CONTEXTMENU, (WPARAM)hwnd, lPt);
00542 
00543         <span class="comment">/*</span>
00544 <span class="comment">         * If this is a dialog class, then one of three things has</span>
00545 <span class="comment">         * happened:</span>
00546 <span class="comment">         *</span>
00547 <span class="comment">         *  o   This is a disabled control</span>
00548 <span class="comment">         *  o   This is a static text control</span>
00549 <span class="comment">         *  o   This is the background of the dialog box.</span>
00550 <span class="comment">         *</span>
00551 <span class="comment">         * What we do is enumerate the child windows and see if</span>
00552 <span class="comment">         * any of them contain the current cursor point. If they do,</span>
00553 <span class="comment">         * change our window handle and continue on. Otherwise,</span>
00554 <span class="comment">         * return doing nothing -- we don't want context-sensitive</span>
00555 <span class="comment">         * help for a dialog background.</span>
00556 <span class="comment">         *</span>
00557 <span class="comment">         * If this is a group box, then we might have clicked on a</span>
00558 <span class="comment">         * disabled control, so we enumerate child windows to see</span>
00559 <span class="comment">         * if we get another control.</span>
00560 <span class="comment">         */</span>
00561         DlgEnumData.<a class="code" href="../../d1/d4/structtagDLGENUMDATA.html#o0">pwndDialog</a> = pwnd;
00562         DlgEnumData.<a class="code" href="../../d1/d4/structtagDLGENUMDATA.html#o1">pwndControl</a> = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00563         DlgEnumData.<a class="code" href="../../d1/d4/structtagDLGENUMDATA.html#o2">ptCurHelp</a> = ptCur;
00564         <a class="code" href="../../d0/d8/clenum_8c.html#a8">EnumChildWindows</a>(hwnd, (WNDENUMPROC)EnumHwndDlgChildProc, (LPARAM)&amp;DlgEnumData);
00565         <span class="keywordflow">if</span> (DlgEnumData.<a class="code" href="../../d1/d4/structtagDLGENUMDATA.html#o1">pwndControl</a> == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00566             <span class="comment">/*</span>
00567 <span class="comment">             * Can't find a control, so nothing to do.</span>
00568 <span class="comment">             */</span>
00569             <span class="keywordflow">goto</span> Exit_WinHelp;
00570         } <span class="keywordflow">else</span> {
00571             <span class="comment">/*</span>
00572 <span class="comment">             * Remember this control because it will be used as the</span>
00573 <span class="comment">             * control for context sensitive help.</span>
00574 <span class="comment">             */</span>
00575             pwndMain = DlgEnumData.<a class="code" href="../../d1/d4/structtagDLGENUMDATA.html#o1">pwndControl</a>;
00576         }
00577     } <span class="keywordflow">else</span> {
00578         <span class="comment">/*</span>
00579 <span class="comment">         * We will use pwnd as our main control.  No need to lock it</span>
00580 <span class="comment">         * because it is already locked.</span>
00581 <span class="comment">         */</span>
00582         pwndMain = pwnd;
00583     }
00584 
00585     <span class="comment">/*</span>
00586 <span class="comment">     * For HELP_CONTEXTPOPUP and HELP_WM_HELP, see if we can derive the</span>
00587 <span class="comment">     * context id by looking at the array of double word ID pairs that</span>
00588 <span class="comment">     * have been passed in in dwData.</span>
00589 <span class="comment">     */</span>
00590     <span class="keywordflow">if</span> (uCommand == HELP_CONTEXTMENU || uCommand == HELP_WM_HELP) {
00591         <span class="keywordtype">int</span>     <span class="keywordtype">id</span>;
00592         <span class="keywordtype">int</span>     i;
00593         LPDWORD pid;
00594 
00595 <span class="comment">// MapIdToHelp:</span>
00596         <span class="comment">/*</span>
00597 <span class="comment">         * Be careful about the cast below.  We need the ID, which is stored</span>
00598 <span class="comment">         * in the LOWORD of spmenu to be sign extended to an int.</span>
00599 <span class="comment">         * Don't sign extend so IDs like 8008 work</span>
00600 <span class="comment">         */</span>
00601         <span class="keywordtype">id</span> = (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a99">PTR_TO_ID</a>(pwndMain-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o16">spmenu</a>));   <span class="comment">// get control id</span>
00602         pid = (LPDWORD) dwData;
00603 
00604         <span class="comment">/*</span>
00605 <span class="comment">         * Is the control's ID -1?</span>
00606 <span class="comment">         */</span>
00607         <span class="keywordflow">if</span> ((<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a13">SHORT</a>)<span class="keywordtype">id</span> == -1)
00608         {
00609             <span class="comment">/*</span>
00610 <span class="comment">             * This is a static (i.e., ID'less) control</span>
00611 <span class="comment">             */</span>
00612             <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndCtrl;
00613             <span class="keywordtype">int</span> cAttempts = 0;
00614 
00615             <span class="comment">/*</span>
00616 <span class="comment">             * If the control is a group box, with an ID of -1, bail out</span>
00617 <span class="comment">             * as the UI specs decided to have no context help</span>
00618 <span class="comment">             * for these cases.  MCostea</span>
00619 <span class="comment">             */</span>
00620             <span class="keywordflow">if</span> ((<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwndMain, BFTYPEMASK) == BS_GROUPBOX) &amp;&amp;
00621                 (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a232">GETFNID</a>(pwndMain) == <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a200">FNID_BUTTON</a>)) {
00622                 <span class="keywordflow">goto</span> Exit_WinHelp;
00623             }
00624 
00625             <span class="comment">/*</span>
00626 <span class="comment">             * For non-id controls (typically static controls), step</span>
00627 <span class="comment">             * through to the next tab item. Keep finding the next tab</span>
00628 <span class="comment">             * item until we find a valid id, or we have tried</span>
00629 <span class="comment">             * MAX_ATTEMPTS times.</span>
00630 <span class="comment">             */</span>
00631             <span class="keywordflow">do</span> {
00632                 pwndCtrl = <a class="code" href="../../d1/d0/client_2help_8c.html#a13">GetNextDlgHelpItem</a>( <a class="code" href="../../d6/d0/usercli_8h.html#a27">REBASEPWND</a>(pwndMain,spwndParent), pwndMain );
00633 
00634                 <span class="comment">/*</span>
00635 <span class="comment">                 * pwndCtrl will be NULL if hwndMain doesn't have a parent,</span>
00636 <span class="comment">                 * or if there are no tab stops.</span>
00637 <span class="comment">                 */</span>
00638                 <span class="keywordflow">if</span> (!pwndCtrl) {
00639                     <span class="comment">/*</span>
00640 <span class="comment">                     * Remember to unlock the control</span>
00641 <span class="comment">                     */</span>
00642                     bResult = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00643                     <span class="keywordflow">goto</span> Exit_WinHelp;
00644                 }
00645 
00646                 <span class="comment">/*</span>
00647 <span class="comment">                 * Be careful about the cast below.  We need the ID, which is stored</span>
00648 <span class="comment">                 * in the LOWORD of spmenu to be sign extended to an int.</span>
00649 <span class="comment">                 * Don't sign extend so IDs like 8008 work</span>
00650 <span class="comment">                 */</span>
00651                 <span class="keywordtype">id</span> = (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a99">PTR_TO_ID</a>(pwndCtrl-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o16">spmenu</a>));
00652 
00653             } <span class="keywordflow">while</span> (((<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a13">SHORT</a>)<span class="keywordtype">id</span> == -1) &amp;&amp; (++cAttempts &lt; <a class="code" href="../../d6/d9/kernlini_8c.html#a6">MAX_ATTEMPTS</a>));
00654         }
00655 
00656         <span class="keywordflow">if</span> ((<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a13">SHORT</a>)<span class="keywordtype">id</span> == -1) {
00657             <span class="keywordtype">id</span> = -1;
00658         }
00659 
00660         <span class="comment">/*</span>
00661 <span class="comment">         * Find the id value in array of id/help context values</span>
00662 <span class="comment">         */</span>
00663         <span class="keywordflow">for</span> (i = 0; pid[i]; i += 2) {
00664             <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>) pid[i] == <span class="keywordtype">id</span>)
00665                 <span class="keywordflow">break</span>;
00666         }
00667 
00668         <span class="comment">/*</span>
00669 <span class="comment">         * Since no help was specified for the found control, see if</span>
00670 <span class="comment">         * the control is one of the known ID (i.e., OK, Cancel...)</span>
00671 <span class="comment">         */</span>
00672         <span class="keywordflow">if</span> (!pid[i]) {
00673             <span class="comment">/*</span>
00674 <span class="comment">             * Help for the standard controls is in the default</span>
00675 <span class="comment">             * help file windows.hlp.  Switch to this file.</span>
00676 <span class="comment">             */</span>
00677             lpszHelp = <a class="code" href="../../d1/d0/client_2help_8c.html#a4">szDefaultHelpFileA</a>;
00678 
00679             <span class="keywordflow">switch</span> (<span class="keywordtype">id</span>) {
00680             <span class="keywordflow">case</span> IDOK:
00681                 dwData = IDH_OK;
00682                 <span class="keywordflow">break</span>;
00683 
00684             <span class="keywordflow">case</span> IDCANCEL:
00685                 dwData = IDH_CANCEL;
00686                 <span class="keywordflow">break</span>;
00687 
00688             <span class="keywordflow">case</span> IDHELP:
00689                 dwData = IDH_HELP;
00690                 <span class="keywordflow">break</span>;
00691 
00692             <span class="keywordflow">default</span>:
00693                 <span class="comment">/*</span>
00694 <span class="comment">                 * Unknown control, give a generic missing context info</span>
00695 <span class="comment">                 * popup message in windows.hlp.</span>
00696 <span class="comment">                 */</span>
00697                 dwData = IDH_MISSING_CONTEXT;
00698             }
00699         } <span class="keywordflow">else</span> {
00700             dwData = pid[i + 1];
00701             <span class="keywordflow">if</span> (dwData == (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)-1) {
00702                 <span class="comment">/*</span>
00703 <span class="comment">                 * Remember, to unlock the control</span>
00704 <span class="comment">                 */</span>
00705                 <span class="keywordflow">goto</span> Exit_WinHelp;     <span class="comment">// caller doesn't want help after all</span>
00706             }
00707         }
00708 
00709         <span class="comment">/*</span>
00710 <span class="comment">         *  Now that we know the caller wants help for this control, display the</span>
00711 <span class="comment">         *  help menu.</span>
00712 <span class="comment">         */</span>
00713         <span class="keywordflow">if</span> (uCommand == HELP_CONTEXTMENU)
00714         {
00715             <span class="keywordtype">int</span> cmd;
00716 
00717             <span class="comment">/*</span>
00718 <span class="comment">             * Must lock pwndMain because it may have been reassigned above.</span>
00719 <span class="comment">             */</span>
00720             cmd = <a class="code" href="../../d6/d0/usercli_8h.html#a544">HelpMenu</a>(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a450">HW</a>(pwndMain), &amp;ptCur);
00721             <span class="keywordflow">if</span> (cmd &lt;= 0)   <span class="comment">// probably means user cancelled the menu</span>
00722                 <span class="keywordflow">goto</span> Exit_WinHelp;
00723         }
00724 
00725         <span class="comment">/*</span>
00726 <span class="comment">         * Create WM_WINHELP's HLP data structure for HELP_SETPOPUP_POS</span>
00727 <span class="comment">         */</span>
00728         <span class="keywordflow">if</span> (!(lpHlp = <a class="code" href="../../d6/d0/usercli_8h.html#a552">HFill</a>(lpszHelp, HELP_SETPOPUP_POS,
00729                 MAKELONG(pwndMain-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o6">rcWindow</a>.left, pwndMain-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o6">rcWindow</a>.top)))) {
00730             <span class="comment">/*</span>
00731 <span class="comment">             * Remember to unlock pwndMain if needed</span>
00732 <span class="comment">             */</span>
00733             bResult = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00734             <span class="keywordflow">goto</span> Exit_WinHelp;
00735         }
00736 
00737         <span class="comment">/*</span>
00738 <span class="comment">         * Tell WinHelp where to put the popup.  This is different than Win95</span>
00739 <span class="comment">         * because we try and avoid a recursive call here.  So, we find the</span>
00740 <span class="comment">         * WinHlp32 window and send the HELP_SETPOPUP_POS.  No recursion.</span>
00741 <span class="comment">         */</span>
00742         hwndHelp = <a class="code" href="../../d1/d0/client_2help_8c.html#a15">FindWinHelpWindow</a>( lpwstrHelpWindowClass, dwType, TRUE);
00743         <span class="keywordflow">if</span> (hwndHelp == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a> ) {
00744             <span class="comment">/*</span>
00745 <span class="comment">             * Uable to communicate with WinHlp32.exe.</span>
00746 <span class="comment">             * Remember to unlock the control</span>
00747 <span class="comment">             */</span>
00748             bResult = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00749             <span class="keywordflow">goto</span> Exit_WinHelp;
00750         }
00751 
00752         <span class="comment">/*</span>
00753 <span class="comment">         * Send the WM_WINHELP message to WinHlp32's window.</span>
00754 <span class="comment">         */</span>
00755         lResult = <a class="code" href="../../d1/d0/client_2help_8c.html#a9">SendWinHelpMessage</a>(hwndHelp, (WPARAM)<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a450">HW</a>(pwndMain), (LPARAM)lpHlp);
00756         LocalFree(lpHlp);
00757         lpHlp = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00758 
00759 <span class="comment">/* BradG - revalidate  pwndMain? */</span>
00760 
00761         <span class="keywordflow">if</span> (!lResult)
00762         {
00763             <span class="comment">/*</span>
00764 <span class="comment">             * WinHlp32 couldn't process the command.  Bail out!</span>
00765 <span class="comment">             */</span>
00766             bResult = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00767             <span class="keywordflow">goto</span> Exit_WinHelp;
00768         }
00769 
00770         <span class="comment">/*</span>
00771 <span class="comment">         * Make HELP_WM_HELP and HELP_CONTEXTMENU act like HELP_CONTEXTPOPUP</span>
00772 <span class="comment">         */</span>
00773         uCommand = HELP_CONTEXTPOPUP;
00774     }
00775 
00776 
00777     <span class="keywordflow">if</span> (uCommand == HELP_CONTEXTPOPUP ) {
00778 <span class="comment">// MapNullHlpToWindowsHlp:</span>
00779         <span class="comment">/*</span>
00780 <span class="comment">         * If no help file was specified, use windows.hlp</span>
00781 <span class="comment">         */</span>
00782         <span class="keywordflow">if</span> (lpszHelp == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a> || *lpszHelp == <span class="charliteral">'\0'</span>)
00783             lpszHelp = <a class="code" href="../../d1/d0/client_2help_8c.html#a4">szDefaultHelpFileA</a>;  <span class="comment">// default: use windows.hlp</span>
00784 
00785         <span class="comment">/*</span>
00786 <span class="comment">         *  WINHELP.EXE will call SetForegroundWindow on the hwnd that we pass</span>
00787 <span class="comment">         *  to it below.  We really want to pass the parent dialog hwnd of the</span>
00788 <span class="comment">         *  control so that focus will properly be restored to the dialog and</span>
00789 <span class="comment">         *  not the control that wants help.</span>
00790 <span class="comment">         */</span>
00791         pwndTop = <a class="code" href="../../d2/d8/rtl_2winmgr_8c.html#a11">GetTopLevelWindow</a>(pwndMain);
00792     } <span class="keywordflow">else</span> {
00793         pwndTop = pwndMain;
00794     }
00795 
00796 
00797     <span class="comment">/*</span>
00798 <span class="comment">     * Move Help file name to a handle</span>
00799 <span class="comment">     */</span>
00800     <span class="keywordflow">if</span> (!(lpHlp = <a class="code" href="../../d6/d0/usercli_8h.html#a552">HFill</a>(lpszHelp, uCommand, dwData))) {
00801         <span class="comment">/*</span>
00802 <span class="comment">         * Can't allocate memory</span>
00803 <span class="comment">         */</span>
00804         bResult = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00805         <span class="keywordflow">goto</span> Exit_WinHelp;
00806     }
00807 
00808     <span class="comment">/*</span>
00809 <span class="comment">     *  Get a pointer to the help window.</span>
00810 <span class="comment">     */</span>
00811     hwndHelp = <a class="code" href="../../d1/d0/client_2help_8c.html#a15">FindWinHelpWindow</a>( lpwstrHelpWindowClass, dwType, (uCommand != HELP_QUIT));
00812     <span class="keywordflow">if</span> (hwndHelp == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00813         <span class="keywordflow">if</span> (uCommand != HELP_QUIT)
00814             <span class="comment">/*</span>
00815 <span class="comment">             * Can't find Winhlp</span>
00816 <span class="comment">             */</span>
00817             bResult = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00818         <span class="keywordflow">goto</span> Exit_WinHelp;
00819     }
00820 
00821     <span class="comment">/*</span>
00822 <span class="comment">     * Send the WM_WINHELP message to WinHlp32's window</span>
00823 <span class="comment">     * Must ThreadLock pwndHelp AND pwndMain (because pwndMain may have been</span>
00824 <span class="comment">     * reassigned above).</span>
00825 <span class="comment">     */</span>
00826     <a class="code" href="../../d1/d0/client_2help_8c.html#a9">SendWinHelpMessage</a>(hwndHelp, (WPARAM)<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a450">HW</a>(pwndTop), (LPARAM)lpHlp);
00827 
00828     <span class="comment">/*</span>
00829 <span class="comment">     * Free the help info data structure (if not already free).</span>
00830 <span class="comment">     */</span>
00831 Exit_WinHelp:
00832     <span class="keywordflow">if</span> (lpHlp != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00833         LocalFree(lpHlp);
00834     }
00835 
00836     <span class="keywordflow">return</span> bResult;
00837 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="client/help.c::WinHelpW" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL WinHelpW           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HWND&nbsp;</td>
          <td class="mdname" nowrap> <em>hwndMain</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPCWSTR&nbsp;</td>
          <td class="mdname" nowrap> <em>lpwszHelp</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>uCommand</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG_PTR&nbsp;</td>
          <td class="mdname" nowrap> <em>dwData</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d9/client_2help_8c-source.html#l01116">1116</a> of file <a class="el" href="../../d2/d9/client_2help_8c-source.html">client/help.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l00050">CHAR</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d0/d6/nlsxlat_8c-source.html#l00905">RtlUnicodeToMultiByteN()</a>, <a class="el" href="../../d3/d0/cttoken_8c-source.html#l00135">Status</a>, <a class="el" href="../../d2/d7/regtest_8c.html#a2">strlen()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00447">WinHelpA()</a>.
<p>
Referenced by <a class="el" href="../../d0/d9/imectl_8c-source.html#l00361">ImeRunHelp()</a>.
<p>
<pre class="fragment"><div>01121 {
01122     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> fSuccess = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01123     LPSTR lpAnsiHelp = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01124     LPSTR lpAnsiKey = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01125     PMULTIKEYHELPA pmkh = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01126     PHELPWININFOA phwi = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01127     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
01128 
01129 
01130     <span class="comment">/*</span>
01131 <span class="comment">     * First convert the string.</span>
01132 <span class="comment">     */</span>
01133     <span class="keywordflow">if</span> (lpwszHelp != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a> &amp;&amp;
01134             !WCSToMB(lpwszHelp, -1, &amp;lpAnsiHelp, -1, TRUE)) {
01135         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01136     }
01137 
01138     <span class="comment">/*</span>
01139 <span class="comment">     * Then convert dwData if needed</span>
01140 <span class="comment">     */</span>
01141     <span class="keywordflow">switch</span> (uCommand) {
01142     <span class="keywordflow">case</span> HELP_MULTIKEY:
01143         <span class="keywordflow">if</span> (!WCSToMB(((PMULTIKEYHELPW)dwData)-&gt;szKeyphrase, -1, &amp;lpAnsiKey,
01144                 -1, TRUE)) {
01145             <span class="keywordflow">goto</span> FreeAnsiHelp;
01146         }
01147 
01148         pmkh = (PMULTIKEYHELPA)LocalAlloc(LPTR,
01149                 <span class="keyword">sizeof</span>(MULTIKEYHELPA) + <a class="code" href="../../d2/d7/regtest_8c.html#a2">strlen</a>(lpAnsiKey));
01150         <span class="keywordflow">if</span> (pmkh == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
01151             <span class="keywordflow">goto</span> FreeAnsiKeyAndHelp;
01152         }
01153 
01154         pmkh-&gt;mkSize = <span class="keyword">sizeof</span>(MULTIKEYHELPA) + <a class="code" href="../../d2/d7/regtest_8c.html#a2">strlen</a>(lpAnsiKey);
01155         <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d9/d6/nlsxlat_8c.html#a37">RtlUnicodeToMultiByteN</a>((LPSTR)&amp;pmkh-&gt;mkKeylist, <span class="keyword">sizeof</span>(CHAR),
01156                 NULL, (LPWSTR)&amp;((PMULTIKEYHELPW)dwData)-&gt;mkKeylist,
01157                 <span class="keyword">sizeof</span>(WCHAR));
01158         strcpy(pmkh-&gt;szKeyphrase, lpAnsiKey);
01159         <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(Status)) {
01160             <span class="keywordflow">goto</span> FreeAnsiKeyAndHelp;
01161         }
01162 
01163         dwData = (ULONG_PTR)pmkh;
01164         <span class="keywordflow">break</span>;
01165 
01166     <span class="keywordflow">case</span> HELP_SETWINPOS:
01167         <span class="keywordflow">if</span> (!WCSToMB(((PHELPWININFOW)dwData)-&gt;rgchMember, -1, &amp;lpAnsiKey,
01168                 -1, TRUE)) {
01169             <span class="keywordflow">goto</span> FreeAnsiKeyAndHelp;
01170         }
01171 
01172         phwi = (PHELPWININFOA)LocalAlloc(LPTR, ((PHELPWININFOW)dwData)-&gt;wStructSize);
01173         <span class="keywordflow">if</span> (phwi == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
01174             <span class="keywordflow">goto</span> FreeAnsiKeyAndHelp;
01175         }
01176 
01177         *phwi = *((PHELPWININFOA)dwData);   <span class="comment">// copies identical parts</span>
01178         strcpy(phwi-&gt;rgchMember, lpAnsiKey);
01179         dwData = (ULONG_PTR)phwi;
01180         <span class="keywordflow">break</span>;
01181 
01182     <span class="keywordflow">case</span> HELP_KEY:
01183     <span class="keywordflow">case</span> HELP_PARTIALKEY:
01184     <span class="keywordflow">case</span> HELP_COMMAND:
01185         <span class="keywordflow">if</span> (!WCSToMB((LPCTSTR)dwData, -1, &amp;lpAnsiKey, -1, TRUE)) {
01186             <span class="keywordflow">goto</span> FreeAnsiKeyAndHelp;
01187         }
01188 
01189         dwData = (ULONG_PTR)lpAnsiKey;
01190         <span class="keywordflow">break</span>;
01191     }
01192 
01193     <span class="comment">/*</span>
01194 <span class="comment">     * Call the Ansi version</span>
01195 <span class="comment">     */</span>
01196     fSuccess = <a class="code" href="../../d1/d0/client_2help_8c.html#a17">WinHelpA</a>(hwndMain, lpAnsiHelp, uCommand, dwData);
01197 
01198     <span class="keywordflow">if</span> (pmkh) {
01199         LocalFree(pmkh);
01200     }
01201 
01202     <span class="keywordflow">if</span> (phwi) {
01203         LocalFree(phwi);
01204     }
01205 
01206 FreeAnsiKeyAndHelp:
01207     <span class="keywordflow">if</span> (lpAnsiKey) {
01208         LocalFree(lpAnsiKey);
01209     }
01210 
01211 
01212 FreeAnsiHelp:
01213     <span class="keywordflow">if</span> (lpAnsiHelp)
01214         LocalFree(lpAnsiHelp);
01215 
01216     <span class="keywordflow">return</span> fSuccess;
01217 }
</div></pre>    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a4" doxytag="client/help.c::szDefaultHelpFileA" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char <a class="el" href="../../d1/d0/client_2help_8c.html#a4">szDefaultHelpFileA</a>[] = "windows.hlp"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00016">16</a> of file <a class="el" href="../../d2/d9/client_2help_8c-source.html">client/help.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00447">WinHelpA()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="client/help.c::szEXECHELP" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PWCHAR <a class="el" href="../../d1/d0/client_2help_8c.html#a5">szEXECHELP</a> = TEXT("\\winhlp32 - ")          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00018">18</a> of file <a class="el" href="../../d2/d9/client_2help_8c-source.html">client/help.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00183">LaunchHelper()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="client/help.c::szMS_POPUPHELP" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PWCHAR <a class="el" href="../../d1/d0/client_2help_8c.html#a7">szMS_POPUPHELP</a> = L"MS_POPUPHELP"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00020">20</a> of file <a class="el" href="../../d2/d9/client_2help_8c-source.html">client/help.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00447">WinHelpA()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="client/help.c::szMS_TCARDHELP" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PWCHAR <a class="el" href="../../d1/d0/client_2help_8c.html#a8">szMS_TCARDHELP</a> = L"MS_TCARDHELP"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00021">21</a> of file <a class="el" href="../../d2/d9/client_2help_8c-source.html">client/help.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00447">WinHelpA()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="client/help.c::szMS_WINHELP" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PWCHAR <a class="el" href="../../d1/d0/client_2help_8c.html#a6">szMS_WINHELP</a> = L"MS_WINHELP"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00019">19</a> of file <a class="el" href="../../d2/d9/client_2help_8c-source.html">client/help.c</a>.
<p>
Referenced by <a class="el" href="../../d2/d9/client_2help_8c-source.html#l00447">WinHelpA()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:44:04 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
