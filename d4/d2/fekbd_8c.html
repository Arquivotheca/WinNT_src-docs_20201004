<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: fekbd.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>fekbd.c File Reference</h1><code>#include "<a class="el" href="../../d1/d3/w32_2ntuser_2kernel_2precomp_8h-source.html">precomp.h</a>"</code><br>

<p>
<a href="../../d5/d1/fekbd_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a0">NLS_CLEAR_VK</a>(Vk)&nbsp;&nbsp;&nbsp;((Vk) &amp;= (KBDEXT|KBDMULTIVK|KBDSPECIAL|KBDNUMPAD|KBDBREAK))</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a1">NLS_CLEAR_VK_AND_ATTR</a>(Vk)&nbsp;&nbsp;&nbsp;((Vk) &amp;= (KBDEXT|KBDMULTIVK|KBDSPECIAL|KBDNUMPAD))</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a2">GEN_KANA_AWARE</a>&nbsp;&nbsp;&nbsp;0x1</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a3">GEN_VK_END</a>&nbsp;&nbsp;&nbsp;0x2</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a4">GEN_VK_HOME</a>&nbsp;&nbsp;&nbsp;0x4</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a5">IS_KANA_AWARE</a>()&nbsp;&nbsp;&nbsp;(<a class="el" href="../../d4/d2/fekbd_8c.html#a15">fNlsKbdConfiguration</a> &amp; GEN_KANA_AWARE)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a6">IS_SEND_VK_END</a>()&nbsp;&nbsp;&nbsp;(<a class="el" href="../../d4/d2/fekbd_8c.html#a15">fNlsKbdConfiguration</a> &amp; GEN_VK_END)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a7">IS_SEND_VK_HOME</a>()&nbsp;&nbsp;&nbsp;(<a class="el" href="../../d4/d2/fekbd_8c.html#a15">fNlsKbdConfiguration</a> &amp; GEN_VK_HOME)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a8">NLSKBD_CONFIG_PATH</a>&nbsp;&nbsp;&nbsp;L"WOW\\keyboard"</td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a18">NlsTestKeyStateToggle</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> Vk)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a19">NlsSetKeyStateToggle</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> Vk)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a20">NlsClearKeyStateToggle</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> Vk)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a21">NlsGetCurrentInputMode</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> *QueryMode)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a22">NlsNullProc</a> (PKE pKe, ULONG_PTR dwExtraInfo, ULONG dwParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a23">NlsSendBaseVk</a> (PKE pKe, ULONG_PTR dwExtraInfo, ULONG dwParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a24">NlsSendParamVk</a> (PKE pKe, ULONG_PTR dwExtraInfo, ULONG dwParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a25">NlsLapseProc</a> (PKE pKe, ULONG_PTR dwExtraInfo, ULONG dwParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a26">NlsAlphanumericModeProc</a> (PKE pKe, ULONG_PTR dwExtraInfo, ULONG dwParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a27">NlsKatakanaModeProc</a> (PKE pKe, ULONG_PTR dwExtraInfo, ULONG dwParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a28">NlsHiraganaModeProc</a> (PKE pKe, ULONG_PTR dwExtraInfo, ULONG dwParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a29">NlsSbcsDbcsToggleProc</a> (PKE pKe, ULONG_PTR dwExtraInfo, ULONG dwParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a30">NlsRomanToggleProc</a> (PKE pKe, ULONG_PTR dwExtraInfo, ULONG dwParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a31">NlsCodeInputToggleProc</a> (PKE pKe, ULONG_PTR dwExtraInfo, ULONG dwParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a32">NlsKanaModeToggleProc</a> (PKE pKe, ULONG_PTR dwExtraInfo, ULONG dwParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a33">NlsHelpOrEndProc</a> (PKE pKe, ULONG_PTR dwExtraInfo, ULONG dwParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a34">NlsHomeOrClearProc</a> (PKE pKe, ULONG_PTR dwExtraInfo, ULONG dwParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a35">NlsNumpadModeProc</a> (PKE pKe, ULONG_PTR dwExtraInfo, ULONG dwParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a36">NlsKanaEventProc</a> (PKE pKe, ULONG_PTR dwExtraInfo, ULONG dwParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a37">NlsConvOrNonConvProc</a> (PKE pKe, ULONG_PTR dwExtraInfo, ULONG dwParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a38">GenerateNlsVkKey</a> (PVK_F pVkToF, WORD nMod, PKE pKe, ULONG_PTR dwExtraInfo)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a39">GenerateNlsVkAltKey</a> (PVK_F pVkToF, WORD nMod, PKE pKe, ULONG_PTR dwExtraInfo)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a40">KbdNlsFuncTypeDummy</a> (PVK_F pVkToF, PKE pKe, ULONG_PTR dwExtraInfo)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a41">KbdNlsFuncTypeNormal</a> (PVK_F pVkToF, PKE pKe, ULONG_PTR dwExtraInfo)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a42">KbdNlsFuncTypeAlt</a> (PVK_F pVkToF, PKE pKe, ULONG_PTR dwExtraInfo)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a43">xxxKENLSProcs</a> (PKE pKe, ULONG_PTR dwExtraInfo)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a44">NlsKbdSendIMENotification</a> (<a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwImeOpen, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwImeConversion)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a45">NlsKbdSendIMEProc</a> (<a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwImeOpen, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwImeConversion)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a46">NlsKbdInitializePerSystem</a> (VOID)</td></tr>

<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a9">NlsAlphaNumMode</a> [] = {VK_DBE_ALPHANUMERIC,VK_DBE_HIRAGANA,VK_DBE_KATAKANA,0}</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a10">NlsSbcsDbcsMode</a> [] = {VK_DBE_SBCSCHAR,VK_DBE_DBCSCHAR,0}</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a11">NlsRomanMode</a> [] = {VK_DBE_NOROMAN,VK_DBE_ROMAN,0}</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a12">NlsCodeInputMode</a> [] = {VK_DBE_NOCODEINPUT,VK_DBE_CODEINPUT,0}</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VK_TO_BIT&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a13">aVkToBits_NLSKBD</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>MODIFIERS&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a14">Modifiers_NLSKBD</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a15">fNlsKbdConfiguration</a> = GEN_KANA_AWARE | GEN_VK_END | GEN_VK_HOME</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>NLSKEPROC&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a16">aNLSKEProc</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>NLSVKFPROC&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d2/fekbd_8c.html#a17">aNLSVKFProc</a> []</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a2" doxytag="fekbd.c::GEN_KANA_AWARE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define GEN_KANA_AWARE&nbsp;&nbsp;&nbsp;0x1          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00063">63</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
Referenced by <a class="el" href="../../d5/d1/fekbd_8c-source.html#l01092">NlsKbdInitializePerSystem()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="fekbd.c::GEN_VK_END" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define GEN_VK_END&nbsp;&nbsp;&nbsp;0x2          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00064">64</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
Referenced by <a class="el" href="../../d5/d1/fekbd_8c-source.html#l01092">NlsKbdInitializePerSystem()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="fekbd.c::GEN_VK_HOME" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define GEN_VK_HOME&nbsp;&nbsp;&nbsp;0x4          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00065">65</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
Referenced by <a class="el" href="../../d5/d1/fekbd_8c-source.html#l01092">NlsKbdInitializePerSystem()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="fekbd.c::IS_KANA_AWARE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define IS_KANA_AWARE          </td>
          <td class="md" valign="top">(&nbsp;</td>
&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(<a class="el" href="../../d4/d2/fekbd_8c.html#a15">fNlsKbdConfiguration</a> &amp; GEN_KANA_AWARE)</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00067">67</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
Referenced by <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00600">NlsHelpOrEndProc()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="fekbd.c::IS_SEND_VK_END" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define IS_SEND_VK_END          </td>
          <td class="md" valign="top">(&nbsp;</td>
&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(<a class="el" href="../../d4/d2/fekbd_8c.html#a15">fNlsKbdConfiguration</a> &amp; GEN_VK_END)</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00068">68</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
Referenced by <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00600">NlsHelpOrEndProc()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="fekbd.c::IS_SEND_VK_HOME" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define IS_SEND_VK_HOME          </td>
          <td class="md" valign="top">(&nbsp;</td>
&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(<a class="el" href="../../d4/d2/fekbd_8c.html#a15">fNlsKbdConfiguration</a> &amp; GEN_VK_HOME)</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00069">69</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
Referenced by <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00649">NlsHomeOrClearProc()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="fekbd.c::NLS_CLEAR_VK" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define NLS_CLEAR_VK          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">Vk&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;((Vk) &amp;= (KBDEXT|KBDMULTIVK|KBDSPECIAL|KBDNUMPAD|KBDBREAK))</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00018">18</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
Referenced by <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00230">NlsAlphanumericModeProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00495">NlsCodeInputToggleProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00600">NlsHelpOrEndProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00332">NlsHiraganaModeProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00649">NlsHomeOrClearProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00783">NlsKanaEventProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00281">NlsKatakanaModeProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00676">NlsNumpadModeProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00439">NlsRomanToggleProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00383">NlsSbcsDbcsToggleProc()</a>, and <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00189">NlsSendParamVk()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="fekbd.c::NLS_CLEAR_VK_AND_ATTR" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define NLS_CLEAR_VK_AND_ATTR          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">Vk&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;((Vk) &amp;= (KBDEXT|KBDMULTIVK|KBDSPECIAL|KBDNUMPAD))</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00024">24</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
Referenced by <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00551">NlsKanaModeToggleProc()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="fekbd.c::NLSKBD_CONFIG_PATH" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define NLSKBD_CONFIG_PATH&nbsp;&nbsp;&nbsp;L"WOW\\keyboard"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l01082">1082</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
Referenced by <a class="el" href="../../d5/d1/fekbd_8c-source.html#l01092">NlsKbdInitializePerSystem()</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a39" doxytag="fekbd.c::GenerateNlsVkAltKey" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL GenerateNlsVkAltKey           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PVK_F&nbsp;</td>
          <td class="mdname" nowrap> <em>pVkToF</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>WORD&nbsp;</td>
          <td class="mdname" nowrap> <em>nMod</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PKE&nbsp;</td>
          <td class="mdname" nowrap> <em>pKe</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG_PTR&nbsp;</td>
          <td class="mdname" nowrap> <em>dwExtraInfo</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00875">875</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00845">aNLSKEProc</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, and <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>.
<p>
Referenced by <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00940">KbdNlsFuncTypeAlt()</a>.
<p>
<pre class="fragment"><div>00876 {
00877     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>  iFuncIndex;
00878     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwParam;
00879 
00880     iFuncIndex = pVkToF-&gt;NLSFEProcAlt[nMod].NLSFEProcIndex;
00881     dwParam = pVkToF-&gt;NLSFEProcAlt[nMod].NLSFEProcParam;
00882 
00883     <span class="keywordflow">return</span>((<a class="code" href="../../d4/d2/fekbd_8c.html#a16">aNLSKEProc</a>[iFuncIndex])(pKe,dwExtraInfo,dwParam));
00884 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a38" doxytag="fekbd.c::GenerateNlsVkKey" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL GenerateNlsVkKey           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PVK_F&nbsp;</td>
          <td class="mdname" nowrap> <em>pVkToF</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>WORD&nbsp;</td>
          <td class="mdname" nowrap> <em>nMod</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PKE&nbsp;</td>
          <td class="mdname" nowrap> <em>pKe</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG_PTR&nbsp;</td>
          <td class="mdname" nowrap> <em>dwExtraInfo</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00864">864</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00845">aNLSKEProc</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, and <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>.
<p>
Referenced by <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00940">KbdNlsFuncTypeAlt()</a>, and <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00912">KbdNlsFuncTypeNormal()</a>.
<p>
<pre class="fragment"><div>00865 {
00866     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>  iFuncIndex;
00867     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwParam;
00868 
00869     iFuncIndex = pVkToF-&gt;NLSFEProc[nMod].NLSFEProcIndex;
00870     dwParam = pVkToF-&gt;NLSFEProc[nMod].NLSFEProcParam;
00871 
00872     <span class="keywordflow">return</span>((<a class="code" href="../../d4/d2/fekbd_8c.html#a16">aNLSKEProc</a>[iFuncIndex])(pKe, dwExtraInfo, dwParam));
00873 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a42" doxytag="fekbd.c::KbdNlsFuncTypeAlt" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL KbdNlsFuncTypeAlt           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PVK_F&nbsp;</td>
          <td class="mdname" nowrap> <em>pVkToF</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PKE&nbsp;</td>
          <td class="mdname" nowrap> <em>pKe</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG_PTR&nbsp;</td>
          <td class="mdname" nowrap> <em>dwExtraInfo</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00940">940</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00593">gafRawKeyState</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00875">GenerateNlsVkAltKey()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00864">GenerateNlsVkKey()</a>, <a class="el" href="../../d4/d0/xlate_8c-source.html#l00047">GetModificationNumber()</a>, <a class="el" href="../../d4/d0/xlate_8c-source.html#l00026">GetModifierBits()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00045">Modifiers_NLSKBD</a>, and <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>.
<p>
<pre class="fragment"><div>00941 {
00942     WORD nMod;
00943     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> fRet = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00944 
00945     <span class="keywordflow">if</span> (pKe == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00946         <span class="comment">/*</span>
00947 <span class="comment">         * Clear state and deactivate this key processor</span>
00948 <span class="comment">         */</span>
00949         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00950     }
00951 
00952     nMod = <a class="code" href="../../d3/d1/xlate_8c.html#a2">GetModificationNumber</a>(&amp;Modifiers_NLSKBD,
00953                                  <a class="code" href="../../d3/d1/xlate_8c.html#a1">GetModifierBits</a>(&amp;Modifiers_NLSKBD,
00954                                                  gafRawKeyState));
00955 
00956     <span class="keywordflow">if</span> (nMod != SHFT_INVALID) {
00957         <span class="keywordflow">if</span> (!(pKe-&gt;usFlaggedVk &amp; KBDBREAK)) {
00958             <span class="keywordflow">if</span> (pVkToF-&gt;NLSFEProcCurrent == KBDNLS_INDEX_ALT) {
00959                 fRet = <a class="code" href="../../d4/d2/fekbd_8c.html#a39">GenerateNlsVkAltKey</a>(pVkToF, nMod, pKe, dwExtraInfo);
00960             } <span class="keywordflow">else</span> {
00961                 fRet = <a class="code" href="../../d4/d2/fekbd_8c.html#a38">GenerateNlsVkKey</a>(pVkToF, nMod, pKe, dwExtraInfo);
00962             }
00963             <span class="keywordflow">if</span> (pVkToF-&gt;NLSFEProcSwitch &amp; (1 &lt;&lt; nMod)) {
00964                 TAGMSG0(DBGTAG_IMM, <span class="stringliteral">"USERKM:FEKBD Switching Alt table\n"</span>);
00965                 <span class="comment">/*</span>
00966 <span class="comment">                 * Switch to "alt".</span>
00967 <span class="comment">                 */</span>
00968                 pVkToF-&gt;NLSFEProcCurrent = KBDNLS_INDEX_ALT;
00969             }
00970         } <span class="keywordflow">else</span> {
00971             <span class="keywordflow">if</span> (pVkToF-&gt;NLSFEProcCurrent == KBDNLS_INDEX_ALT) {
00972                 fRet = <a class="code" href="../../d4/d2/fekbd_8c.html#a39">GenerateNlsVkAltKey</a>(pVkToF, nMod, pKe, dwExtraInfo);
00973                 <span class="comment">/*</span>
00974 <span class="comment">                 * Back to "normal"</span>
00975 <span class="comment">                 */</span>
00976                 pVkToF-&gt;NLSFEProcCurrent = KBDNLS_INDEX_NORMAL;
00977             } <span class="keywordflow">else</span> {
00978                 fRet = <a class="code" href="../../d4/d2/fekbd_8c.html#a38">GenerateNlsVkKey</a>(pVkToF, nMod, pKe, dwExtraInfo);
00979             }
00980         }
00981     }
00982     <span class="keywordflow">return</span> fRet;
00983 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a40" doxytag="fekbd.c::KbdNlsFuncTypeDummy" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL KbdNlsFuncTypeDummy           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PVK_F&nbsp;</td>
          <td class="mdname" nowrap> <em>pVkToF</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PKE&nbsp;</td>
          <td class="mdname" nowrap> <em>pKe</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG_PTR&nbsp;</td>
          <td class="mdname" nowrap> <em>dwExtraInfo</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00893">893</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
<pre class="fragment"><div>00894 {
00895     UNREFERENCED_PARAMETER(pVkToF);
00896     UNREFERENCED_PARAMETER(pKe);
00897     UNREFERENCED_PARAMETER(dwExtraInfo);
00898 
00899     <span class="comment">/*</span>
00900 <span class="comment">     * We don't need to modify Original data.</span>
00901 <span class="comment">     */</span>
00902     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00903 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a41" doxytag="fekbd.c::KbdNlsFuncTypeNormal" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL KbdNlsFuncTypeNormal           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PVK_F&nbsp;</td>
          <td class="mdname" nowrap> <em>pVkToF</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PKE&nbsp;</td>
          <td class="mdname" nowrap> <em>pKe</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG_PTR&nbsp;</td>
          <td class="mdname" nowrap> <em>dwExtraInfo</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00912">912</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00593">gafRawKeyState</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00864">GenerateNlsVkKey()</a>, <a class="el" href="../../d4/d0/xlate_8c-source.html#l00047">GetModificationNumber()</a>, <a class="el" href="../../d4/d0/xlate_8c-source.html#l00026">GetModifierBits()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00045">Modifiers_NLSKBD</a>, and <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>.
<p>
<pre class="fragment"><div>00913 {
00914     WORD nMod;
00915 
00916     <span class="keywordflow">if</span> (pKe == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00917         <span class="comment">/*</span>
00918 <span class="comment">         * Clear state and deactivate this key processor</span>
00919 <span class="comment">         */</span>
00920         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00921     }
00922 
00923     nMod = <a class="code" href="../../d3/d1/xlate_8c.html#a2">GetModificationNumber</a>(&amp;Modifiers_NLSKBD,
00924                                  <a class="code" href="../../d3/d1/xlate_8c.html#a1">GetModifierBits</a>(&amp;Modifiers_NLSKBD,
00925                                                  gafRawKeyState));
00926 
00927     <span class="keywordflow">if</span> (nMod != SHFT_INVALID) {
00928         <span class="keywordflow">return</span>(<a class="code" href="../../d4/d2/fekbd_8c.html#a38">GenerateNlsVkKey</a>(pVkToF, nMod, pKe, dwExtraInfo));
00929     }
00930     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00931 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a26" doxytag="fekbd.c::NlsAlphanumericModeProc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL NlsAlphanumericModeProc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PKE&nbsp;</td>
          <td class="mdname" nowrap> <em>pKe</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG_PTR&nbsp;</td>
          <td class="mdname" nowrap> <em>dwExtraInfo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>dwParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00230">230</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00611">gdwIMEOpenStatus</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00018">NLS_CLEAR_VK</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00030">NlsAlphaNumMode</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00110">NlsClearKeyStateToggle()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00124">NlsGetCurrentInputMode()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l01071">NlsKbdSendIMEProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00211">NlsLapseProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00080">NlsTestKeyStateToggle()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00064">USHORT</a>, and <a class="el" href="../../d7/d7/ntinput_8c-source.html#l01338">xxxKeyEvent()</a>.
<p>
<pre class="fragment"><div>00231 {
00232     <span class="keywordflow">if</span> (!(pKe-&gt;usFlaggedVk &amp; KBDBREAK)) {
00233         <span class="comment">/*</span>
00234 <span class="comment">         * We are in 'make' sequence.</span>
00235 <span class="comment">         */</span>
00236         <span class="comment">/*</span>
00237 <span class="comment">         * Clear Virtual code.</span>
00238 <span class="comment">         */</span>
00239         <a class="code" href="../../d4/d2/fekbd_8c.html#a0">NLS_CLEAR_VK</a>(pKe-&gt;usFlaggedVk);
00240 
00241         <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d2/fekbd_8c.html#a18">NlsTestKeyStateToggle</a>(VK_DBE_ALPHANUMERIC)) {
00242             <span class="comment">/*</span>
00243 <span class="comment">             * Query current mode.</span>
00244 <span class="comment">             */</span>
00245             <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> CurrentMode = <a class="code" href="../../d4/d2/fekbd_8c.html#a21">NlsGetCurrentInputMode</a>(NlsAlphaNumMode);
00246             <span class="comment">/*</span>
00247 <span class="comment">             * Off toggle for previous key mode.</span>
00248 <span class="comment">             */</span>
00249             <a class="code" href="../../d4/d2/fekbd_8c.html#a20">NlsClearKeyStateToggle</a>(CurrentMode);
00250             <span class="comment">/*</span>
00251 <span class="comment">             * We are not in 'AlphaNumeric' mode, before enter 'AlphaNumeric'</span>
00252 <span class="comment">             * mode, we should send 'break' for previous key mode.</span>
00253 <span class="comment">             */</span>
00254             <a class="code" href="../../d4/d1/userk_8h.html#a1039">xxxKeyEvent</a>((USHORT)(pKe-&gt;usFlaggedVk | CurrentMode | KBDBREAK),
00255                       pKe-&gt;bScanCode, pKe-&gt;dwTime, dwExtraInfo, FALSE);
00256         }
00257         <span class="comment">/*</span>
00258 <span class="comment">         * Switch to 'AlphaNumeric' mode.</span>
00259 <span class="comment">         */</span>
00260         pKe-&gt;usFlaggedVk |= VK_DBE_ALPHANUMERIC;
00261 
00262         <span class="comment">/*</span>
00263 <span class="comment">         * Call i/o control.</span>
00264 <span class="comment">         */</span>
00265         <span class="keywordflow">if</span> ((!<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a231">gdwIMEOpenStatus</a>) &amp;&amp; <a class="code" href="../../d4/d2/fekbd_8c.html#a18">NlsTestKeyStateToggle</a>(VK_KANA)) {
00266             <a class="code" href="../../d4/d1/userk_8h.html#a2106">NlsKbdSendIMEProc</a>(TRUE, IME_CMODE_KATAKANA);
00267         }
00268     } <span class="keywordflow">else</span> {
00269         <span class="keywordflow">return</span> <a class="code" href="../../d4/d2/fekbd_8c.html#a25">NlsLapseProc</a>(pKe,dwExtraInfo,dwParam);
00270     }
00271     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00272 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a20" doxytag="fekbd.c::NlsClearKeyStateToggle" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID NlsClearKeyStateToggle           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>Vk</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00110">110</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02978">ClearAsyncKeyStateToggle</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02965">ClearKeyStateToggle</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00099">gpqForeground</a>, and <a class="el" href="../../d2/d7/hal_8h.html#a212">VOID()</a>.
<p>
Referenced by <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00230">NlsAlphanumericModeProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00495">NlsCodeInputToggleProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00332">NlsHiraganaModeProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00281">NlsKatakanaModeProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00439">NlsRomanToggleProc()</a>, and <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00383">NlsSbcsDbcsToggleProc()</a>.
<p>
<pre class="fragment"><div>00111 {
00112     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a29">gpqForeground</a>)
00113         <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a842">ClearKeyStateToggle</a>(gpqForeground,Vk);
00114     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a848">ClearAsyncKeyStateToggle</a>(Vk);
00115 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a31" doxytag="fekbd.c::NlsCodeInputToggleProc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL NlsCodeInputToggleProc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PKE&nbsp;</td>
          <td class="mdname" nowrap> <em>pKe</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG_PTR&nbsp;</td>
          <td class="mdname" nowrap> <em>dwExtraInfo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>dwParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00495">495</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00018">NLS_CLEAR_VK</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00110">NlsClearKeyStateToggle()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00033">NlsCodeInputMode</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00124">NlsGetCurrentInputMode()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00211">NlsLapseProc()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00064">USHORT</a>, and <a class="el" href="../../d7/d7/ntinput_8c-source.html#l01338">xxxKeyEvent()</a>.
<p>
<pre class="fragment"><div>00496 {
00497     <span class="keywordflow">if</span> (!(pKe-&gt;usFlaggedVk &amp; KBDBREAK)) {
00498         <span class="comment">/*</span>
00499 <span class="comment">         * We are in 'make' sequence.</span>
00500 <span class="comment">         */</span>
00501         <span class="comment">/*</span>
00502 <span class="comment">         * Query current 'CodeInput'/'NoCodeInput' mode.</span>
00503 <span class="comment">         */</span>
00504         <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> CurrentMode = <a class="code" href="../../d4/d2/fekbd_8c.html#a21">NlsGetCurrentInputMode</a>(NlsCodeInputMode);
00505         <span class="comment">/*</span>
00506 <span class="comment">         * Clear Virtual code.</span>
00507 <span class="comment">         */</span>
00508         <a class="code" href="../../d4/d2/fekbd_8c.html#a0">NLS_CLEAR_VK</a>(pKe-&gt;usFlaggedVk);
00509         <span class="comment">/*</span>
00510 <span class="comment">         * Off toggle for previous key mode.</span>
00511 <span class="comment">         */</span>
00512         <a class="code" href="../../d4/d2/fekbd_8c.html#a20">NlsClearKeyStateToggle</a>(CurrentMode);
00513 
00514         <span class="keywordflow">switch</span> (CurrentMode) {
00515             <span class="keywordflow">case</span> VK_DBE_NOCODEINPUT:
00516                 <span class="comment">/*</span>
00517 <span class="comment">                 * We are in 'NoCodeInput' mode, let us send 'break key' for that.</span>
00518 <span class="comment">                 */</span>
00519                 <a class="code" href="../../d4/d1/userk_8h.html#a1039">xxxKeyEvent</a>((USHORT)(pKe-&gt;usFlaggedVk|VK_DBE_NOCODEINPUT|KBDBREAK),
00520                           pKe-&gt;bScanCode, pKe-&gt;dwTime, dwExtraInfo, FALSE);
00521                 <span class="comment">/*</span>
00522 <span class="comment">                 * Then, switch to 'CodeInput' mode.</span>
00523 <span class="comment">                 */</span>
00524                 pKe-&gt;usFlaggedVk |= VK_DBE_CODEINPUT;
00525                 <span class="keywordflow">break</span>;
00526             <span class="keywordflow">case</span> VK_DBE_CODEINPUT:
00527                 <span class="comment">/*</span>
00528 <span class="comment">                 * We are in 'CodeInput' mode, let us send 'break key' for that.</span>
00529 <span class="comment">                 */</span>
00530                 <a class="code" href="../../d4/d1/userk_8h.html#a1039">xxxKeyEvent</a>((USHORT)(pKe-&gt;usFlaggedVk|VK_DBE_CODEINPUT|KBDBREAK),
00531                           pKe-&gt;bScanCode, pKe-&gt;dwTime, dwExtraInfo, FALSE);
00532                 <span class="comment">/*</span>
00533 <span class="comment">                 * Then, switch to 'NoCodeInput' mode.</span>
00534 <span class="comment">                 */</span>
00535                 pKe-&gt;usFlaggedVk |= VK_DBE_NOCODEINPUT;
00536                 <span class="keywordflow">break</span>;
00537         }
00538     } <span class="keywordflow">else</span> {
00539         <span class="keywordflow">return</span>(<a class="code" href="../../d4/d2/fekbd_8c.html#a25">NlsLapseProc</a>(pKe,dwExtraInfo,dwParam));
00540     }
00541     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00542 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a37" doxytag="fekbd.c::NlsConvOrNonConvProc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL NlsConvOrNonConvProc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PKE&nbsp;</td>
          <td class="mdname" nowrap> <em>pKe</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG_PTR&nbsp;</td>
          <td class="mdname" nowrap> <em>dwExtraInfo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>dwParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00821">821</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00611">gdwIMEOpenStatus</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l01071">NlsKbdSendIMEProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00080">NlsTestKeyStateToggle()</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
<pre class="fragment"><div>00822 {
00823     UNREFERENCED_PARAMETER(pKe);
00824     UNREFERENCED_PARAMETER(dwExtraInfo);
00825     UNREFERENCED_PARAMETER(dwParam);
00826     <span class="comment">/*</span>
00827 <span class="comment">     *</span>
00828 <span class="comment">     */</span>
00829     <span class="keywordflow">if</span> ((!<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a231">gdwIMEOpenStatus</a>) &amp;&amp; (!(<a class="code" href="../../d4/d2/fekbd_8c.html#a18">NlsTestKeyStateToggle</a>(VK_KANA)))) {
00830         <a class="code" href="../../d4/d1/userk_8h.html#a2106">NlsKbdSendIMEProc</a>(FALSE, IME_CMODE_ALPHANUMERIC);
00831     }
00832     <span class="comment">/*</span>
00833 <span class="comment">     * We don't need to modify Original data.</span>
00834 <span class="comment">     */</span>
00835     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00836 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a21" doxytag="fekbd.c::NlsGetCurrentInputMode" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> NlsGetCurrentInputMode           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>QueryMode</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00124">124</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, and <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00080">NlsTestKeyStateToggle()</a>.
<p>
Referenced by <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00230">NlsAlphanumericModeProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00495">NlsCodeInputToggleProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00332">NlsHiraganaModeProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00281">NlsKatakanaModeProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00439">NlsRomanToggleProc()</a>, and <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00383">NlsSbcsDbcsToggleProc()</a>.
<p>
<pre class="fragment"><div>00125 {
00126     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> *VkTable = QueryMode;
00127     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> VkDefault;
00128     <span class="comment">/*</span>
00129 <span class="comment">     * Get VkDefault, we will return this, if no bit is toggled.</span>
00130 <span class="comment">     */</span>
00131     VkDefault = *VkTable;
00132 
00133     <span class="keywordflow">while</span> (*VkTable) {
00134         <span class="keywordflow">if</span> (<a class="code" href="../../d4/d2/fekbd_8c.html#a18">NlsTestKeyStateToggle</a>(*VkTable)) {
00135             <span class="keywordflow">return</span> *VkTable;
00136         }
00137         VkTable++;
00138     }
00139 
00140     <span class="comment">/* Something error */</span>
00141     <span class="keywordflow">return</span> VkDefault;
00142 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a33" doxytag="fekbd.c::NlsHelpOrEndProc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL NlsHelpOrEndProc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PKE&nbsp;</td>
          <td class="mdname" nowrap> <em>pKe</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG_PTR&nbsp;</td>
          <td class="mdname" nowrap> <em>dwExtraInfo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>dwParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00600">600</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00067">IS_KANA_AWARE</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00068">IS_SEND_VK_END</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00018">NLS_CLEAR_VK</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00080">NlsTestKeyStateToggle()</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
<pre class="fragment"><div>00601 {
00602     UNREFERENCED_PARAMETER(dwExtraInfo);
00603     UNREFERENCED_PARAMETER(dwParam);
00604 
00605     <span class="keywordflow">if</span> (!(pKe-&gt;usFlaggedVk &amp; KBDNUMPAD)) {
00606         <span class="comment">/*</span>
00607 <span class="comment">         * Clear Virtual code.</span>
00608 <span class="comment">         */</span>
00609         <a class="code" href="../../d4/d2/fekbd_8c.html#a0">NLS_CLEAR_VK</a>(pKe-&gt;usFlaggedVk);
00610 
00611         <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d2/fekbd_8c.html#a5">IS_KANA_AWARE</a>()) {
00612             <span class="comment">/*</span>
00613 <span class="comment">             * We don't care 'kana' status. just check VK_END or VK_HELP.</span>
00614 <span class="comment">             */</span>
00615             <span class="keywordflow">if</span> (<a class="code" href="../../d4/d2/fekbd_8c.html#a6">IS_SEND_VK_END</a>()) {
00616                 pKe-&gt;usFlaggedVk |= VK_END;
00617             } <span class="keywordflow">else</span> {
00618                 pKe-&gt;usFlaggedVk |= VK_HELP;
00619             }
00620         } <span class="keywordflow">else</span> {
00621             <span class="comment">/*</span>
00622 <span class="comment">             * We care 'kana' status.</span>
00623 <span class="comment">             */</span>
00624             <span class="keywordflow">if</span> (<a class="code" href="../../d4/d2/fekbd_8c.html#a6">IS_SEND_VK_END</a>()) {
00625                 <span class="keywordflow">if</span> (<a class="code" href="../../d4/d2/fekbd_8c.html#a18">NlsTestKeyStateToggle</a>(VK_KANA)) {
00626                     pKe-&gt;usFlaggedVk |= VK_HELP;
00627                 } <span class="keywordflow">else</span> {
00628                     pKe-&gt;usFlaggedVk |= VK_END;
00629                 }
00630             } <span class="keywordflow">else</span> {
00631                 <span class="keywordflow">if</span> (<a class="code" href="../../d4/d2/fekbd_8c.html#a18">NlsTestKeyStateToggle</a>(VK_KANA)) {
00632                     pKe-&gt;usFlaggedVk |= VK_END;
00633                 } <span class="keywordflow">else</span> {
00634                     pKe-&gt;usFlaggedVk |= VK_HELP;
00635                 }
00636             }
00637         }
00638     }
00639     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00640 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a28" doxytag="fekbd.c::NlsHiraganaModeProc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL NlsHiraganaModeProc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PKE&nbsp;</td>
          <td class="mdname" nowrap> <em>pKe</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG_PTR&nbsp;</td>
          <td class="mdname" nowrap> <em>dwExtraInfo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>dwParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00332">332</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00611">gdwIMEOpenStatus</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00018">NLS_CLEAR_VK</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00030">NlsAlphaNumMode</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00110">NlsClearKeyStateToggle()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00124">NlsGetCurrentInputMode()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l01071">NlsKbdSendIMEProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00211">NlsLapseProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00080">NlsTestKeyStateToggle()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00064">USHORT</a>, and <a class="el" href="../../d7/d7/ntinput_8c-source.html#l01338">xxxKeyEvent()</a>.
<p>
<pre class="fragment"><div>00333 {
00334     <span class="keywordflow">if</span> (!(pKe-&gt;usFlaggedVk &amp; KBDBREAK)) {
00335         <span class="comment">/*</span>
00336 <span class="comment">         * We are in 'make' sequence.</span>
00337 <span class="comment">         */</span>
00338         <span class="comment">/*</span>
00339 <span class="comment">         * Clear Virtual code.</span>
00340 <span class="comment">         */</span>
00341         <a class="code" href="../../d4/d2/fekbd_8c.html#a0">NLS_CLEAR_VK</a>(pKe-&gt;usFlaggedVk);
00342 
00343         <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d2/fekbd_8c.html#a18">NlsTestKeyStateToggle</a>(VK_DBE_HIRAGANA)) {
00344             <span class="comment">/*</span>
00345 <span class="comment">             * Query current mode.</span>
00346 <span class="comment">             */</span>
00347             <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> CurrentMode = <a class="code" href="../../d4/d2/fekbd_8c.html#a21">NlsGetCurrentInputMode</a>(NlsAlphaNumMode);
00348             <span class="comment">/*</span>
00349 <span class="comment">             * Off toggle for previous key mode.</span>
00350 <span class="comment">             */</span>
00351             <a class="code" href="../../d4/d2/fekbd_8c.html#a20">NlsClearKeyStateToggle</a>(CurrentMode);
00352             <span class="comment">/*</span>
00353 <span class="comment">             * We are not in 'Hiragana' mode, yet. Before enter 'Hiragana'</span>
00354 <span class="comment">             * mode, we should make 'break key' for previous key.</span>
00355 <span class="comment">             */</span>
00356             <a class="code" href="../../d4/d1/userk_8h.html#a1039">xxxKeyEvent</a>((USHORT)(pKe-&gt;usFlaggedVk | CurrentMode | KBDBREAK),
00357                       pKe-&gt;bScanCode, pKe-&gt;dwTime, dwExtraInfo, FALSE);
00358         }
00359         <span class="comment">/*</span>
00360 <span class="comment">         * Switch to 'Hiragana' mode.</span>
00361 <span class="comment">         */</span>
00362         pKe-&gt;usFlaggedVk |= VK_DBE_HIRAGANA;
00363 
00364         <span class="comment">/*</span>
00365 <span class="comment">         * Call i/o control.</span>
00366 <span class="comment">         */</span>
00367         <span class="keywordflow">if</span> ((!<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a231">gdwIMEOpenStatus</a>) &amp;&amp; (!(<a class="code" href="../../d4/d2/fekbd_8c.html#a18">NlsTestKeyStateToggle</a>(VK_KANA)))) {
00368             <a class="code" href="../../d4/d1/userk_8h.html#a2106">NlsKbdSendIMEProc</a>(FALSE, IME_CMODE_ALPHANUMERIC);
00369         }
00370     } <span class="keywordflow">else</span> {
00371         <span class="keywordflow">return</span>(<a class="code" href="../../d4/d2/fekbd_8c.html#a25">NlsLapseProc</a>(pKe,dwExtraInfo,dwParam));
00372     }
00373     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00374 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a34" doxytag="fekbd.c::NlsHomeOrClearProc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL NlsHomeOrClearProc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PKE&nbsp;</td>
          <td class="mdname" nowrap> <em>pKe</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG_PTR&nbsp;</td>
          <td class="mdname" nowrap> <em>dwExtraInfo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>dwParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00649">649</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00069">IS_SEND_VK_HOME</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00018">NLS_CLEAR_VK</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
<pre class="fragment"><div>00650 {
00651     UNREFERENCED_PARAMETER(dwExtraInfo);
00652     UNREFERENCED_PARAMETER(dwParam);
00653 
00654     <span class="keywordflow">if</span> (!(pKe-&gt;usFlaggedVk &amp; KBDNUMPAD)) {
00655         <span class="comment">/*</span>
00656 <span class="comment">         * Clear virtual code.</span>
00657 <span class="comment">         */</span>
00658         <a class="code" href="../../d4/d2/fekbd_8c.html#a0">NLS_CLEAR_VK</a>(pKe-&gt;usFlaggedVk);
00659 
00660         <span class="keywordflow">if</span> (<a class="code" href="../../d4/d2/fekbd_8c.html#a7">IS_SEND_VK_HOME</a>()) {
00661             pKe-&gt;usFlaggedVk |= VK_HOME;
00662         } <span class="keywordflow">else</span> {
00663             pKe-&gt;usFlaggedVk |= VK_CLEAR;
00664         }
00665     }
00666     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00667 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a36" doxytag="fekbd.c::NlsKanaEventProc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL NlsKanaEventProc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PKE&nbsp;</td>
          <td class="mdname" nowrap> <em>pKe</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG_PTR&nbsp;</td>
          <td class="mdname" nowrap> <em>dwExtraInfo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>dwParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00783">783</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00018">NLS_CLEAR_VK</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l01071">NlsKbdSendIMEProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00080">NlsTestKeyStateToggle()</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
<pre class="fragment"><div>00784 {
00785     UNREFERENCED_PARAMETER(dwExtraInfo);
00786     <span class="comment">/*</span>
00787 <span class="comment">     * Clear Virtual code.</span>
00788 <span class="comment">     */</span>
00789     <a class="code" href="../../d4/d2/fekbd_8c.html#a0">NLS_CLEAR_VK</a>(pKe-&gt;usFlaggedVk);
00790 
00791     <span class="comment">/*</span>
00792 <span class="comment">     * Set parameter as new VK key.</span>
00793 <span class="comment">     */</span>
00794     pKe-&gt;usFlaggedVk |= (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)dwParam;
00795 
00796     <span class="comment">/*</span>
00797 <span class="comment">     * Send notification to kernel mode keyboard driver.</span>
00798 <span class="comment">     */</span>
00799     <span class="keywordflow">if</span> (!(pKe-&gt;usFlaggedVk &amp; KBDBREAK)) {
00800         <span class="keywordflow">if</span> (<a class="code" href="../../d4/d2/fekbd_8c.html#a18">NlsTestKeyStateToggle</a>(VK_KANA)) {
00801             <span class="comment">/*</span>
00802 <span class="comment">             * Call i/o control.</span>
00803 <span class="comment">             */</span>
00804             <a class="code" href="../../d4/d1/userk_8h.html#a2106">NlsKbdSendIMEProc</a>(FALSE, IME_CMODE_ALPHANUMERIC);
00805         } <span class="keywordflow">else</span> {
00806             <span class="comment">/*</span>
00807 <span class="comment">             * Call i/o control.</span>
00808 <span class="comment">             */</span>
00809             <a class="code" href="../../d4/d1/userk_8h.html#a2106">NlsKbdSendIMEProc</a>(TRUE, IME_CMODE_KATAKANA);
00810         }
00811     }
00812     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00813 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a32" doxytag="fekbd.c::NlsKanaModeToggleProc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL NlsKanaModeToggleProc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PKE&nbsp;</td>
          <td class="mdname" nowrap> <em>pKe</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG_PTR&nbsp;</td>
          <td class="mdname" nowrap> <em>dwExtraInfo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>dwParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00551">551</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00024">NLS_CLEAR_VK_AND_ATTR</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00211">NlsLapseProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00080">NlsTestKeyStateToggle()</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
<pre class="fragment"><div>00552 {
00553     <span class="comment">/*</span>
00554 <span class="comment">     * Check this is 'make' or 'break'.</span>
00555 <span class="comment">     */</span>
00556     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> bMake = !(pKe-&gt;usFlaggedVk &amp; KBDBREAK);
00557     <span class="comment">/*</span>
00558 <span class="comment">     * Check we are in 'kana' mode or not.</span>
00559 <span class="comment">     */</span>
00560     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> bKana = <a class="code" href="../../d4/d2/fekbd_8c.html#a18">NlsTestKeyStateToggle</a>(VK_KANA);
00561     <span class="comment">/*</span>
00562 <span class="comment">     * Clear virtual code and key attributes.</span>
00563 <span class="comment">     */</span>
00564     <a class="code" href="../../d4/d2/fekbd_8c.html#a1">NLS_CLEAR_VK_AND_ATTR</a>(pKe-&gt;usFlaggedVk);
00565 
00566     <span class="keywordflow">if</span> (bMake) {
00567         <span class="comment">/*</span>
00568 <span class="comment">         * We are in 'make' sequence.</span>
00569 <span class="comment">         */</span>
00570         <span class="keywordflow">if</span> (bKana) {
00571             <span class="comment">/*</span>
00572 <span class="comment">             * Make 'break' for VK_KANA.</span>
00573 <span class="comment">             */</span>
00574             pKe-&gt;usFlaggedVk |= (VK_KANA|KBDBREAK);
00575         } <span class="keywordflow">else</span> {
00576             <span class="comment">/*</span>
00577 <span class="comment">             * Not yet in 'kana' mode, Let generate 'make' for VK_KANA...</span>
00578 <span class="comment">             */</span>
00579             pKe-&gt;usFlaggedVk |= VK_KANA;
00580         }
00581         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00582     } <span class="keywordflow">else</span> {
00583         <span class="comment">/*</span>
00584 <span class="comment">         * We will keep 'down' &amp; 'toggled' in 'kana' mode,</span>
00585 <span class="comment">         * then don't need to generate 'break' for VK_KANA.</span>
00586 <span class="comment">         * when next time generate 'make' for this, we will generate</span>
00587 <span class="comment">         * 'break' for this.</span>
00588 <span class="comment">         */</span>
00589         <span class="keywordflow">return</span>(<a class="code" href="../../d4/d2/fekbd_8c.html#a25">NlsLapseProc</a>(pKe,dwExtraInfo,dwParam));
00590     }
00591 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a27" doxytag="fekbd.c::NlsKatakanaModeProc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL NlsKatakanaModeProc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PKE&nbsp;</td>
          <td class="mdname" nowrap> <em>pKe</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG_PTR&nbsp;</td>
          <td class="mdname" nowrap> <em>dwExtraInfo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>dwParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00281">281</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00611">gdwIMEOpenStatus</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00018">NLS_CLEAR_VK</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00030">NlsAlphaNumMode</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00110">NlsClearKeyStateToggle()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00124">NlsGetCurrentInputMode()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l01071">NlsKbdSendIMEProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00211">NlsLapseProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00080">NlsTestKeyStateToggle()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00064">USHORT</a>, and <a class="el" href="../../d7/d7/ntinput_8c-source.html#l01338">xxxKeyEvent()</a>.
<p>
<pre class="fragment"><div>00282 {
00283     <span class="keywordflow">if</span> (!(pKe-&gt;usFlaggedVk &amp; KBDBREAK)) {
00284         <span class="comment">/*</span>
00285 <span class="comment">         * We are in 'make' sequence.</span>
00286 <span class="comment">         */</span>
00287         <span class="comment">/*</span>
00288 <span class="comment">         * Clear Virtual code.</span>
00289 <span class="comment">         */</span>
00290         <a class="code" href="../../d4/d2/fekbd_8c.html#a0">NLS_CLEAR_VK</a>(pKe-&gt;usFlaggedVk);
00291 
00292         <span class="keywordflow">if</span> (!<a class="code" href="../../d4/d2/fekbd_8c.html#a18">NlsTestKeyStateToggle</a>(VK_DBE_KATAKANA)) {
00293             <span class="comment">/*</span>
00294 <span class="comment">             * Query current mode.</span>
00295 <span class="comment">             */</span>
00296             <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> CurrentMode = <a class="code" href="../../d4/d2/fekbd_8c.html#a21">NlsGetCurrentInputMode</a>(NlsAlphaNumMode);
00297             <span class="comment">/*</span>
00298 <span class="comment">             * Off toggle for previous key mode.</span>
00299 <span class="comment">             */</span>
00300             <a class="code" href="../../d4/d2/fekbd_8c.html#a20">NlsClearKeyStateToggle</a>(CurrentMode);
00301             <span class="comment">/*</span>
00302 <span class="comment">             * We are not in 'Katakana' mode, yet. Before enter 'Katakana'</span>
00303 <span class="comment">             * mode, we should make 'break key' for previous mode.</span>
00304 <span class="comment">             */</span>
00305             <a class="code" href="../../d4/d1/userk_8h.html#a1039">xxxKeyEvent</a>((USHORT)(pKe-&gt;usFlaggedVk | CurrentMode | KBDBREAK),
00306                        pKe-&gt;bScanCode, pKe-&gt;dwTime, dwExtraInfo, FALSE);
00307         }
00308         <span class="comment">/*</span>
00309 <span class="comment">         * Switch to 'Katakana' mode.</span>
00310 <span class="comment">         */</span>
00311         pKe-&gt;usFlaggedVk |= VK_DBE_KATAKANA;
00312 
00313         <span class="comment">/*</span>
00314 <span class="comment">         * Call i/o control.</span>
00315 <span class="comment">         */</span>
00316         <span class="keywordflow">if</span> ((!<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a231">gdwIMEOpenStatus</a>) &amp;&amp; (!(<a class="code" href="../../d4/d2/fekbd_8c.html#a18">NlsTestKeyStateToggle</a>(VK_KANA)))) {
00317             <a class="code" href="../../d4/d1/userk_8h.html#a2106">NlsKbdSendIMEProc</a>(FALSE, IME_CMODE_ALPHANUMERIC);
00318         }
00319     } <span class="keywordflow">else</span> {
00320         <span class="keywordflow">return</span>(<a class="code" href="../../d4/d2/fekbd_8c.html#a25">NlsLapseProc</a>(pKe,dwExtraInfo,dwParam));
00321     }
00322     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00323 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a46" doxytag="fekbd.c::NlsKbdInitializePerSystem" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID NlsKbdInitializePerSystem           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l01092">1092</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00006">EndString</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00071">fNlsKbdConfiguration</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00063">GEN_KANA_AWARE</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00064">GEN_VK_END</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00065">GEN_VK_HOME</a>, <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l01082">NLSKBD_CONFIG_PATH</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00096">NlsSetKeyStateToggle()</a>, <a class="el" href="../../d4/d5/kernel_2sendmsg_8c-source.html#l01292">NoString</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d7/d5/nls_8c-source.html#l01608">RtlEqualUnicodeString()</a>, <a class="el" href="../../d3/d6/string_8c-source.html#l00148">RtlInitUnicodeString()</a>, <a class="el" href="../../d5/d6/rtl_2regutil_8c-source.html#l00744">RtlQueryRegistryValues()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d2/d7/hal_8h.html#a212">VOID()</a>.
<p>
Referenced by <a class="el" href="../../d8/d0/w32_2ntuser_2kernel_2init_8c-source.html#l01142">LW_DriversInit()</a>.
<p>
<pre class="fragment"><div>01093 {
01094     RTL_QUERY_REGISTRY_TABLE QueryTable[4];
01095 
01096     UNICODE_STRING <a class="code" href="../../d6/d2/aug98_2dll32_2getcrd_8c.html#a3">EndString</a>, HelpString;
01097     UNICODE_STRING YesString, <a class="code" href="../../d3/d6/kernel_2sendmsg_8c.html#a4">NoString</a>;
01098     UNICODE_STRING HomeString, ClearString;
01099 
01100     UNICODE_STRING HelpKeyString;
01101     UNICODE_STRING KanaHelpString;
01102     UNICODE_STRING ClearKeyString;
01103 
01104     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> status;
01105 
01106     <span class="comment">//</span>
01107     <span class="comment">// Set default VK_DBE_xxx status.</span>
01108     <span class="comment">//</span>
01109     <span class="comment">//</span>
01110     <span class="comment">// AlphaNumeric input mode.</span>
01111     <span class="comment">//</span>
01112     <a class="code" href="../../d4/d2/fekbd_8c.html#a19">NlsSetKeyStateToggle</a>(VK_DBE_ALPHANUMERIC);
01113     <span class="comment">//</span>
01114     <span class="comment">// Single byte character input mode.</span>
01115     <span class="comment">//</span>
01116     <a class="code" href="../../d4/d2/fekbd_8c.html#a19">NlsSetKeyStateToggle</a>(VK_DBE_SBCSCHAR);
01117     <span class="comment">//</span>
01118     <span class="comment">// No roman input mode.</span>
01119     <span class="comment">//</span>
01120     <a class="code" href="../../d4/d2/fekbd_8c.html#a19">NlsSetKeyStateToggle</a>(VK_DBE_NOROMAN);
01121     <span class="comment">//</span>
01122     <span class="comment">// No code input mode.</span>
01123     <span class="comment">//</span>
01124     <a class="code" href="../../d4/d2/fekbd_8c.html#a19">NlsSetKeyStateToggle</a>(VK_DBE_NOCODEINPUT);
01125 
01126     <span class="comment">//</span>
01127     <span class="comment">// From Here, below code is for compatibility for Windows NT 3.xx</span>
01128     <span class="comment">// for NEC PC-9800 verion.</span>
01129     <span class="comment">//</span>
01130 
01131     <span class="comment">//</span>
01132     <span class="comment">// Initialize default strings.</span>
01133     <span class="comment">//</span>
01134     <a class="code" href="../../d2/d7/string_8c.html#a7">RtlInitUnicodeString</a>(&amp;EndString, L<span class="stringliteral">"end"</span>);
01135     <a class="code" href="../../d2/d7/string_8c.html#a7">RtlInitUnicodeString</a>(&amp;HelpString,L<span class="stringliteral">"help"</span>);
01136 
01137     <a class="code" href="../../d2/d7/string_8c.html#a7">RtlInitUnicodeString</a>(&amp;YesString,L<span class="stringliteral">"yes"</span>);
01138     <a class="code" href="../../d2/d7/string_8c.html#a7">RtlInitUnicodeString</a>(&amp;NoString, L<span class="stringliteral">"no"</span>);
01139 
01140     <a class="code" href="../../d2/d7/string_8c.html#a7">RtlInitUnicodeString</a>(&amp;HomeString, L<span class="stringliteral">"home"</span>);
01141     <a class="code" href="../../d2/d7/string_8c.html#a7">RtlInitUnicodeString</a>(&amp;ClearString,L<span class="stringliteral">"clear"</span>);
01142 
01143     <span class="comment">//</span>
01144     <span class="comment">// Initialize recieve buffer.</span>
01145     <span class="comment">//</span>
01146     <a class="code" href="../../d2/d7/string_8c.html#a7">RtlInitUnicodeString</a>(&amp;HelpKeyString,NULL);
01147     <a class="code" href="../../d2/d7/string_8c.html#a7">RtlInitUnicodeString</a>(&amp;KanaHelpString,NULL);
01148     <a class="code" href="../../d2/d7/string_8c.html#a7">RtlInitUnicodeString</a>(&amp;ClearKeyString,NULL);
01149 
01150     <span class="comment">//</span>
01151     <span class="comment">// Initalize query tables.</span>
01152     <span class="comment">//</span>
01153     <span class="comment">// ValueName : "helpkey"</span>
01154     <span class="comment">// ValueData : if "end" VK_END, otherwise VK_HELP</span>
01155     <span class="comment">//</span>
01156     QueryTable[0].QueryRoutine = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01157     QueryTable[0].Flags = RTL_QUERY_REGISTRY_DIRECT;
01158     QueryTable[0].Name = (PWSTR) <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"helpkey"</span>,
01159     QueryTable[0].EntryContext = (PVOID) &amp;HelpKeyString;
01160     QueryTable[0].DefaultType = REG_SZ;
01161     QueryTable[0].DefaultData = &amp;<a class="code" href="../../d6/d2/aug98_2dll32_2getcrd_8c.html#a3">EndString</a>;
01162     QueryTable[0].DefaultLength = 0;
01163 
01164     <span class="comment">//</span>
01165     <span class="comment">// ValueName : "KanaHelpKey"</span>
01166     <span class="comment">// ValueData : if "yes" if kana on switch VK_HELP and VK_END</span>
01167     <span class="comment">//</span>
01168     QueryTable[1].QueryRoutine = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01169     QueryTable[1].Flags = RTL_QUERY_REGISTRY_DIRECT;
01170     QueryTable[1].Name = (PWSTR) <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"KanaHelpKey"</span>,
01171     QueryTable[1].EntryContext = (PVOID) &amp;KanaHelpString;
01172     QueryTable[1].DefaultType = REG_SZ;
01173     QueryTable[1].DefaultData = &amp;YesString;
01174     QueryTable[1].DefaultLength = 0;
01175 
01176     <span class="comment">//</span>
01177     <span class="comment">// ValueName : "clrkey"</span>
01178     <span class="comment">// ValueData : if "home" VK_HOME, otherwise VK_CLEAR</span>
01179     <span class="comment">//</span>
01180     QueryTable[2].QueryRoutine = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01181     QueryTable[2].Flags = RTL_QUERY_REGISTRY_DIRECT;
01182     QueryTable[2].Name = (PWSTR) <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"clrkey"</span>,
01183     QueryTable[2].EntryContext = (PVOID) &amp;ClearKeyString;
01184     QueryTable[2].DefaultType = REG_SZ;
01185     QueryTable[2].DefaultData = &amp;HomeString;
01186     QueryTable[2].DefaultLength = 0;
01187 
01188     QueryTable[3].QueryRoutine = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01189     QueryTable[3].Flags = 0;
01190     QueryTable[3].Name = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01191 
01192     status = <a class="code" href="../../d4/d7/rtl_2regutil_8c.html#a19">RtlQueryRegistryValues</a>(
01193                  RTL_REGISTRY_WINDOWS_NT,
01194                  NLSKBD_CONFIG_PATH,
01195                  QueryTable, NULL, NULL);
01196 
01197     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
01198         RIPMSG1(RIP_WARNING, <span class="stringliteral">"FEKBD:RtlQueryRegistryValues fails (%x)\n"</span>, status);
01199         <span class="keywordflow">return</span>;
01200     }
01201 
01202     <span class="keywordflow">if</span> (<a class="code" href="../../d6/d6/nls_8c.html#a42">RtlEqualUnicodeString</a>(&amp;HelpKeyString,&amp;HelpString,TRUE)) {
01203         <span class="comment">/*</span>
01204 <span class="comment">         * Generate VK_HELP, when NLSKBD_HELP_OR_END is called.</span>
01205 <span class="comment">         */</span>
01206         <a class="code" href="../../d4/d2/fekbd_8c.html#a15">fNlsKbdConfiguration</a> &amp;= ~<a class="code" href="../../d4/d2/fekbd_8c.html#a3">GEN_VK_END</a>;
01207     }
01208 
01209     <span class="keywordflow">if</span> (<a class="code" href="../../d6/d6/nls_8c.html#a42">RtlEqualUnicodeString</a>(&amp;KanaHelpString,&amp;NoString,TRUE)) {
01210         <span class="comment">/*</span>
01211 <span class="comment">         * In case of "yes":</span>
01212 <span class="comment">         * If 'kana' is on, when NLSKBD_HELP_OR_END is called, switch VK_END and VK_HELP.</span>
01213 <span class="comment">         * Else, in case of "no":</span>
01214 <span class="comment">         * Doesn't generate by 'kana' toggle state.</span>
01215 <span class="comment">         */</span>
01216         <a class="code" href="../../d4/d2/fekbd_8c.html#a15">fNlsKbdConfiguration</a> &amp;= ~<a class="code" href="../../d4/d2/fekbd_8c.html#a2">GEN_KANA_AWARE</a>;
01217     }
01218 
01219     <span class="keywordflow">if</span> (<a class="code" href="../../d6/d6/nls_8c.html#a42">RtlEqualUnicodeString</a>(&amp;ClearKeyString,&amp;ClearString,TRUE)) {
01220         <span class="comment">/*</span>
01221 <span class="comment">         * Generate VK_CLEAR, when KBDNLS_HOME_OR_CLEAR is called.</span>
01222 <span class="comment">         */</span>
01223         <a class="code" href="../../d4/d2/fekbd_8c.html#a15">fNlsKbdConfiguration</a> &amp;= ~<a class="code" href="../../d4/d2/fekbd_8c.html#a4">GEN_VK_HOME</a>;
01224     }
01225 
01226     <span class="keywordflow">return</span>;
01227 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a44" doxytag="fekbd.c::NlsKbdSendIMENotification" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID NlsKbdSendIMENotification           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dwImeOpen</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dwImeConversion</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l01034">1034</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d5/d0/userk_8h-source.html#l01839">BEGINATOMICDEVICEINFOLISTCHECK</a>, <a class="el" href="../../d5/d0/userk_8h-source.html#l01895">DEVICE_TYPE_KEYBOARD</a>, <a class="el" href="../../d5/d0/userk_8h-source.html#l01843">ENDATOMICDEVICEINFOLISTCHECK</a>, <a class="el" href="../../d5/d0/userk_8h-source.html#l07254">EnterDeviceInfoListCrit()</a>, <a class="el" href="../../d5/d0/userk_8h-source.html#l01903">GDIAF_IME_STATUS</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00569">gKbdImeStatus</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00522">gpDeviceInfoList</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00191">gpKbdNlsTbl</a>, <a class="el" href="../../d5/d0/userk_8h-source.html#l07258">LeaveDeviceInfoListCrit()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d6/d8/w32_2ntuser_2kernel_2pnp_8c-source.html#l01535">RequestDeviceChange()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d2/d7/hal_8h.html#a212">VOID()</a>.
<p>
Referenced by <a class="el" href="../../d5/d1/fekbd_8c-source.html#l01071">NlsKbdSendIMEProc()</a>, and <a class="el" href="../../d6/d7/ntimm_8c-source.html#l02295">xxxNotifyIMEStatus()</a>.
<p>
<pre class="fragment"><div>01035 {
01036     PKBDNLSTABLES       pKbdNlsTable = <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a72">gpKbdNlsTbl</a>;
01037 
01038     <span class="keywordflow">if</span> (pKbdNlsTable == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
01039         <span class="comment">/*</span>
01040 <span class="comment">         * 'Active' layout driver does not have NLSKBD table.</span>
01041 <span class="comment">         */</span>
01042         <span class="keywordflow">return</span>;
01043     }
01044 
01045     <span class="comment">/*</span>
01046 <span class="comment">     * Let us send notification to kernel mode keyboard driver, if nessesary.</span>
01047 <span class="comment">     */</span>
01048     <span class="keywordflow">if</span> ((pKbdNlsTable-&gt;LayoutInformation) &amp; NLSKBD_INFO_SEND_IME_NOTIFICATION) {
01049         <a class="code" href="../../d5/d3/structtagDEVICEINFO.html">PDEVICEINFO</a> pDeviceInfo;
01050 
01051         <span class="comment">/*</span>
01052 <span class="comment">         * Fill up the KEYBOARD_IME_STATUS structure.</span>
01053 <span class="comment">         */</span>
01054         <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a221">gKbdImeStatus</a>.UnitId      = 0;
01055         <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a221">gKbdImeStatus</a>.ImeOpen     = dwImeOpen;
01056         <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a221">gKbdImeStatus</a>.ImeConvMode = dwImeConversion;
01057 
01058         <a class="code" href="../../d4/d1/userk_8h.html#a2065">EnterDeviceInfoListCrit</a>();
01059         <a class="code" href="../../d4/d1/userk_8h.html#a160">BEGINATOMICDEVICEINFOLISTCHECK</a>();
01060         <span class="keywordflow">for</span> (pDeviceInfo = <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a205">gpDeviceInfoList</a>; pDeviceInfo; pDeviceInfo = pDeviceInfo-&gt;pNext) {
01061             <span class="keywordflow">if</span> ((pDeviceInfo-&gt;type == <a class="code" href="../../d4/d1/userk_8h.html#a176">DEVICE_TYPE_KEYBOARD</a>) &amp;&amp; (pDeviceInfo-&gt;handle)) {
01062                 <a class="code" href="../../d4/d1/userk_8h.html#a992">RequestDeviceChange</a>(pDeviceInfo, GDIAF_IME_STATUS, TRUE);
01063             }
01064         }
01065         <a class="code" href="../../d4/d1/userk_8h.html#a164">ENDATOMICDEVICEINFOLISTCHECK</a>();
01066         <a class="code" href="../../d4/d1/userk_8h.html#a2066">LeaveDeviceInfoListCrit</a>();
01067     }
01068     <span class="keywordflow">return</span>;
01069 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a45" doxytag="fekbd.c::NlsKbdSendIMEProc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID NlsKbdSendIMEProc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dwImeOpen</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dwImeConversion</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l01071">1071</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d7/d2/queue_8c-source.html#l01039">GetAppImeCompatFlags()</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00099">gpqForeground</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l01034">NlsKbdSendIMENotification()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d5/d0/userk_8h-source.html#l03107">tagQ::ptiKeyboard</a>, and <a class="el" href="../../d2/d7/hal_8h.html#a212">VOID()</a>.
<p>
Referenced by <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00230">NlsAlphanumericModeProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00821">NlsConvOrNonConvProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00332">NlsHiraganaModeProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00783">NlsKanaEventProc()</a>, and <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00281">NlsKatakanaModeProc()</a>.
<p>
<pre class="fragment"><div>01072 {
01073     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a29">gpqForeground</a> != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a> &amp;&amp; <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a29">gpqForeground</a>-&gt;<a class="code" href="../../d7/d4/structtagQ.html#o5">ptiKeyboard</a> != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a> &amp;&amp;
01074         (!(<a class="code" href="../../d6/d3/queue_8c.html#a36">GetAppImeCompatFlags</a>(<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a29">gpqForeground</a>-&gt;<a class="code" href="../../d7/d4/structtagQ.html#o5">ptiKeyboard</a>) &amp; IMECOMPAT_HYDRACLIENT))) {
01075         <a class="code" href="../../d4/d2/fekbd_8c.html#a44">NlsKbdSendIMENotification</a>(dwImeOpen, dwImeConversion);
01076     }
01077 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a25" doxytag="fekbd.c::NlsLapseProc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL NlsLapseProc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PKE&nbsp;</td>
          <td class="mdname" nowrap> <em>pKe</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG_PTR&nbsp;</td>
          <td class="mdname" nowrap> <em>dwExtraInfo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>dwParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00211">211</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>.
<p>
Referenced by <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00230">NlsAlphanumericModeProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00495">NlsCodeInputToggleProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00332">NlsHiraganaModeProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00551">NlsKanaModeToggleProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00281">NlsKatakanaModeProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00439">NlsRomanToggleProc()</a>, and <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00383">NlsSbcsDbcsToggleProc()</a>.
<p>
<pre class="fragment"><div>00212 {
00213     UNREFERENCED_PARAMETER(pKe);
00214     UNREFERENCED_PARAMETER(dwExtraInfo);
00215     UNREFERENCED_PARAMETER(dwParam);
00216 
00217     <span class="comment">/*</span>
00218 <span class="comment">     * Just throw away this event.</span>
00219 <span class="comment">     */</span>
00220     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00221 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a22" doxytag="fekbd.c::NlsNullProc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL NlsNullProc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PKE&nbsp;</td>
          <td class="mdname" nowrap> <em>pKe</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG_PTR&nbsp;</td>
          <td class="mdname" nowrap> <em>dwExtraInfo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>dwParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00151">151</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
<pre class="fragment"><div>00152 {
00153     UNREFERENCED_PARAMETER(pKe);
00154     UNREFERENCED_PARAMETER(dwExtraInfo);
00155     UNREFERENCED_PARAMETER(dwParam);
00156 
00157     <span class="comment">/*</span>
00158 <span class="comment">     * Actually we should not get here...</span>
00159 <span class="comment">     */</span>
00160     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00161 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a35" doxytag="fekbd.c::NlsNumpadModeProc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL NlsNumpadModeProc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PKE&nbsp;</td>
          <td class="mdname" nowrap> <em>pKe</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG_PTR&nbsp;</td>
          <td class="mdname" nowrap> <em>dwExtraInfo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>dwParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00676">676</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d6/d8/ntrtlp_8h-source.html#l00183">LOBYTE</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00018">NLS_CLEAR_VK</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00080">NlsTestKeyStateToggle()</a>, <a class="el" href="../../d5/d0/userk_8h-source.html#l05734">TestRawKeyDown</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
<pre class="fragment"><div>00677 {
00678     <span class="comment">/*</span>
00679 <span class="comment">     * Get current Virtual key.</span>
00680 <span class="comment">     */</span>
00681     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> Vk = <a class="code" href="../../d5/d9/ntrtlp_8h.html#a4">LOBYTE</a>(pKe-&gt;usFlaggedVk);
00682 
00683     UNREFERENCED_PARAMETER(dwExtraInfo);
00684     UNREFERENCED_PARAMETER(dwParam);
00685 
00686     <span class="keywordflow">if</span>(!<a class="code" href="../../d4/d2/fekbd_8c.html#a18">NlsTestKeyStateToggle</a>(VK_NUMLOCK)) {
00687         <span class="comment">/*</span>
00688 <span class="comment">         * Clear virtual code.</span>
00689 <span class="comment">         */</span>
00690         <a class="code" href="../../d4/d2/fekbd_8c.html#a0">NLS_CLEAR_VK</a>(pKe-&gt;usFlaggedVk);
00691 
00692         <span class="keywordflow">switch</span> (Vk) {
00693         <span class="keywordflow">case</span> VK_NUMPAD0:
00694              pKe-&gt;usFlaggedVk |= VK_INSERT;
00695              <span class="keywordflow">break</span>;
00696         <span class="keywordflow">case</span> VK_NUMPAD1:
00697              pKe-&gt;usFlaggedVk |= VK_END;
00698              <span class="keywordflow">break</span>;
00699         <span class="keywordflow">case</span> VK_NUMPAD2:
00700              pKe-&gt;usFlaggedVk |= VK_DOWN;
00701              <span class="keywordflow">break</span>;
00702         <span class="keywordflow">case</span> VK_NUMPAD3:
00703              pKe-&gt;usFlaggedVk |= VK_NEXT;
00704              <span class="keywordflow">break</span>;
00705         <span class="keywordflow">case</span> VK_NUMPAD4:
00706              pKe-&gt;usFlaggedVk |= VK_LEFT;
00707              <span class="keywordflow">break</span>;
00708         <span class="keywordflow">case</span> VK_NUMPAD5:
00709              pKe-&gt;usFlaggedVk |= VK_CLEAR;
00710              <span class="keywordflow">break</span>;
00711         <span class="keywordflow">case</span> VK_NUMPAD6:
00712              pKe-&gt;usFlaggedVk |= VK_RIGHT;
00713              <span class="keywordflow">break</span>;
00714         <span class="keywordflow">case</span> VK_NUMPAD7:
00715              pKe-&gt;usFlaggedVk |= VK_HOME;
00716              <span class="keywordflow">break</span>;
00717         <span class="keywordflow">case</span> VK_NUMPAD8:
00718              pKe-&gt;usFlaggedVk |= VK_UP;
00719              <span class="keywordflow">break</span>;
00720         <span class="keywordflow">case</span> VK_NUMPAD9:
00721              pKe-&gt;usFlaggedVk |= VK_PRIOR;
00722              <span class="keywordflow">break</span>;
00723         <span class="keywordflow">case</span> VK_DECIMAL:
00724              pKe-&gt;usFlaggedVk |= VK_DELETE;
00725              <span class="keywordflow">break</span>;
00726         }
00727 
00728     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d4/d1/userk_8h.html#a579">TestRawKeyDown</a>(VK_SHIFT)) {
00729         <span class="comment">/*</span>
00730 <span class="comment">         * Clear virtual code.</span>
00731 <span class="comment">         */</span>
00732         <a class="code" href="../../d4/d2/fekbd_8c.html#a0">NLS_CLEAR_VK</a>(pKe-&gt;usFlaggedVk);
00733 
00734         <span class="keywordflow">switch</span> (Vk) {
00735         <span class="keywordflow">case</span> VK_NUMPAD0:
00736              pKe-&gt;usFlaggedVk |= VK_INSERT;
00737              <span class="keywordflow">break</span>;
00738         <span class="keywordflow">case</span> VK_NUMPAD1:
00739              pKe-&gt;usFlaggedVk |= VK_END;
00740              <span class="keywordflow">break</span>;
00741         <span class="keywordflow">case</span> VK_NUMPAD2:
00742              pKe-&gt;usFlaggedVk |= VK_DOWN;
00743              <span class="keywordflow">break</span>;
00744         <span class="keywordflow">case</span> VK_NUMPAD3:
00745              pKe-&gt;usFlaggedVk |= VK_NEXT;
00746              <span class="keywordflow">break</span>;
00747         <span class="keywordflow">case</span> VK_NUMPAD4:
00748              pKe-&gt;usFlaggedVk |= VK_LEFT;
00749              <span class="keywordflow">break</span>;
00750         <span class="keywordflow">case</span> VK_NUMPAD5:
00751              pKe-&gt;usFlaggedVk |= VK_CLEAR;
00752              <span class="keywordflow">break</span>;
00753         <span class="keywordflow">case</span> VK_NUMPAD6:
00754              pKe-&gt;usFlaggedVk |= VK_RIGHT;
00755              <span class="keywordflow">break</span>;
00756         <span class="keywordflow">case</span> VK_NUMPAD7:
00757              pKe-&gt;usFlaggedVk |= VK_HOME;
00758              <span class="keywordflow">break</span>;
00759         <span class="keywordflow">case</span> VK_NUMPAD8:
00760              pKe-&gt;usFlaggedVk |= VK_UP;
00761              <span class="keywordflow">break</span>;
00762         <span class="keywordflow">case</span> VK_NUMPAD9:
00763              pKe-&gt;usFlaggedVk |= VK_PRIOR;
00764              <span class="keywordflow">break</span>;
00765         <span class="keywordflow">case</span> VK_DECIMAL:
00766              pKe-&gt;usFlaggedVk |= VK_DELETE;
00767              <span class="keywordflow">break</span>;
00768         }
00769     } <span class="keywordflow">else</span> {
00770         <span class="comment">/*</span>
00771 <span class="comment">         * Otherwise, just pass through...</span>
00772 <span class="comment">         */</span>
00773     }
00774     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00775 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a30" doxytag="fekbd.c::NlsRomanToggleProc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL NlsRomanToggleProc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PKE&nbsp;</td>
          <td class="mdname" nowrap> <em>pKe</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG_PTR&nbsp;</td>
          <td class="mdname" nowrap> <em>dwExtraInfo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>dwParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00439">439</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00018">NLS_CLEAR_VK</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00110">NlsClearKeyStateToggle()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00124">NlsGetCurrentInputMode()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00211">NlsLapseProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00032">NlsRomanMode</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00064">USHORT</a>, and <a class="el" href="../../d7/d7/ntinput_8c-source.html#l01338">xxxKeyEvent()</a>.
<p>
<pre class="fragment"><div>00440 {
00441     <span class="keywordflow">if</span> (!(pKe-&gt;usFlaggedVk &amp; KBDBREAK)) {
00442         <span class="comment">/*</span>
00443 <span class="comment">         * We are in 'make' sequence.</span>
00444 <span class="comment">         */</span>
00445         <span class="comment">/*</span>
00446 <span class="comment">         * Query current 'Roman'/'NoRoman' mode.</span>
00447 <span class="comment">         */</span>
00448         <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> CurrentMode = <a class="code" href="../../d4/d2/fekbd_8c.html#a21">NlsGetCurrentInputMode</a>(NlsRomanMode);
00449         <span class="comment">/*</span>
00450 <span class="comment">         * Clear Virtual code.</span>
00451 <span class="comment">         */</span>
00452         <a class="code" href="../../d4/d2/fekbd_8c.html#a0">NLS_CLEAR_VK</a>(pKe-&gt;usFlaggedVk);
00453         <span class="comment">/*</span>
00454 <span class="comment">         * Off toggle for previous key mode.</span>
00455 <span class="comment">         */</span>
00456         <a class="code" href="../../d4/d2/fekbd_8c.html#a20">NlsClearKeyStateToggle</a>(CurrentMode);
00457 
00458         <span class="keywordflow">switch</span> (CurrentMode) {
00459             <span class="keywordflow">case</span> VK_DBE_NOROMAN:
00460                 <span class="comment">/*</span>
00461 <span class="comment">                 * We are in 'NoRoman' mode, let us send 'break key' for that.</span>
00462 <span class="comment">                 */</span>
00463                 <a class="code" href="../../d4/d1/userk_8h.html#a1039">xxxKeyEvent</a>((USHORT)(pKe-&gt;usFlaggedVk|VK_DBE_NOROMAN|KBDBREAK),
00464                           pKe-&gt;bScanCode, pKe-&gt;dwTime, dwExtraInfo, FALSE);
00465                 <span class="comment">/*</span>
00466 <span class="comment">                 * Then, switch to 'Roman' mode.</span>
00467 <span class="comment">                 */</span>
00468                 pKe-&gt;usFlaggedVk |= VK_DBE_ROMAN;
00469                 <span class="keywordflow">break</span>;
00470             <span class="keywordflow">case</span> VK_DBE_ROMAN:
00471                 <span class="comment">/*</span>
00472 <span class="comment">                 * We are in 'Roman' mode, let us send 'break key' for that.</span>
00473 <span class="comment">                 */</span>
00474                 <a class="code" href="../../d4/d1/userk_8h.html#a1039">xxxKeyEvent</a>((USHORT)(pKe-&gt;usFlaggedVk|VK_DBE_ROMAN|KBDBREAK),
00475                           pKe-&gt;bScanCode, pKe-&gt;dwTime, dwExtraInfo, FALSE);
00476                 <span class="comment">/*</span>
00477 <span class="comment">                 * Then, switch to 'NoRoman' mode.</span>
00478 <span class="comment">                 */</span>
00479                 pKe-&gt;usFlaggedVk |= VK_DBE_NOROMAN;
00480                 <span class="keywordflow">break</span>;
00481         }
00482     } <span class="keywordflow">else</span> {
00483         <span class="keywordflow">return</span>(<a class="code" href="../../d4/d2/fekbd_8c.html#a25">NlsLapseProc</a>(pKe,dwExtraInfo,dwParam));
00484     }
00485     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00486 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a29" doxytag="fekbd.c::NlsSbcsDbcsToggleProc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL NlsSbcsDbcsToggleProc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PKE&nbsp;</td>
          <td class="mdname" nowrap> <em>pKe</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG_PTR&nbsp;</td>
          <td class="mdname" nowrap> <em>dwExtraInfo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>dwParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00383">383</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00018">NLS_CLEAR_VK</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00110">NlsClearKeyStateToggle()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00124">NlsGetCurrentInputMode()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00211">NlsLapseProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00031">NlsSbcsDbcsMode</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00064">USHORT</a>, and <a class="el" href="../../d7/d7/ntinput_8c-source.html#l01338">xxxKeyEvent()</a>.
<p>
<pre class="fragment"><div>00384 {
00385     <span class="keywordflow">if</span> (!(pKe-&gt;usFlaggedVk &amp; KBDBREAK)) {
00386         <span class="comment">/*</span>
00387 <span class="comment">         * We are in 'make' sequence.</span>
00388 <span class="comment">         */</span>
00389         <span class="comment">/*</span>
00390 <span class="comment">         * Query current 'Sbcs'/'Dbcs' mode.</span>
00391 <span class="comment">         */</span>
00392         <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> CurrentMode = <a class="code" href="../../d4/d2/fekbd_8c.html#a21">NlsGetCurrentInputMode</a>(NlsSbcsDbcsMode);
00393         <span class="comment">/*</span>
00394 <span class="comment">         * Clear Virtual code.</span>
00395 <span class="comment">         */</span>
00396         <a class="code" href="../../d4/d2/fekbd_8c.html#a0">NLS_CLEAR_VK</a>(pKe-&gt;usFlaggedVk);
00397         <span class="comment">/*</span>
00398 <span class="comment">         * Off toggle for previous key mode.</span>
00399 <span class="comment">         */</span>
00400         <a class="code" href="../../d4/d2/fekbd_8c.html#a20">NlsClearKeyStateToggle</a>(CurrentMode);
00401 
00402         <span class="keywordflow">switch</span> (CurrentMode) {
00403         <span class="keywordflow">case</span> VK_DBE_SBCSCHAR:
00404             <span class="comment">/*</span>
00405 <span class="comment">             * We are in 'SbcsChar' mode, let us send 'break key' for that.</span>
00406 <span class="comment">             */</span>
00407             <a class="code" href="../../d4/d1/userk_8h.html#a1039">xxxKeyEvent</a>((USHORT)(pKe-&gt;usFlaggedVk|VK_DBE_SBCSCHAR|KBDBREAK),
00408                       pKe-&gt;bScanCode, pKe-&gt;dwTime, dwExtraInfo, FALSE);
00409             <span class="comment">/*</span>
00410 <span class="comment">             * Then, switch to 'DbcsChar' mode.</span>
00411 <span class="comment">             */</span>
00412             pKe-&gt;usFlaggedVk |= VK_DBE_DBCSCHAR;
00413             <span class="keywordflow">break</span>;
00414         <span class="keywordflow">case</span> VK_DBE_DBCSCHAR:
00415             <span class="comment">/*</span>
00416 <span class="comment">             * We are in 'DbcsChar' mode, let us send 'break key' for that.</span>
00417 <span class="comment">             */</span>
00418             <a class="code" href="../../d4/d1/userk_8h.html#a1039">xxxKeyEvent</a>((USHORT)(pKe-&gt;usFlaggedVk|VK_DBE_DBCSCHAR|KBDBREAK),
00419                       pKe-&gt;bScanCode, pKe-&gt;dwTime, dwExtraInfo, FALSE);
00420             <span class="comment">/*</span>
00421 <span class="comment">             * Then, switch to 'SbcsChar' mode.</span>
00422 <span class="comment">             */</span>
00423             pKe-&gt;usFlaggedVk |= VK_DBE_SBCSCHAR;
00424             <span class="keywordflow">break</span>;
00425         }
00426     } <span class="keywordflow">else</span> {
00427         <span class="keywordflow">return</span>(<a class="code" href="../../d4/d2/fekbd_8c.html#a25">NlsLapseProc</a>(pKe,dwExtraInfo,dwParam));
00428     }
00429     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00430 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a23" doxytag="fekbd.c::NlsSendBaseVk" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL NlsSendBaseVk           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PKE&nbsp;</td>
          <td class="mdname" nowrap> <em>pKe</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG_PTR&nbsp;</td>
          <td class="mdname" nowrap> <em>dwExtraInfo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>dwParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00170">170</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
<pre class="fragment"><div>00171 {
00172     UNREFERENCED_PARAMETER(pKe);
00173     UNREFERENCED_PARAMETER(dwExtraInfo);
00174     UNREFERENCED_PARAMETER(dwParam);
00175 
00176     <span class="comment">/*</span>
00177 <span class="comment">     * We don't need to modify Original data.</span>
00178 <span class="comment">     */</span>
00179     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00180 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a24" doxytag="fekbd.c::NlsSendParamVk" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL NlsSendParamVk           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PKE&nbsp;</td>
          <td class="mdname" nowrap> <em>pKe</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG_PTR&nbsp;</td>
          <td class="mdname" nowrap> <em>dwExtraInfo</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>dwParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00189">189</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00018">NLS_CLEAR_VK</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
<pre class="fragment"><div>00190 {
00191     UNREFERENCED_PARAMETER(dwExtraInfo);
00192 
00193     <span class="comment">/*</span>
00194 <span class="comment">     * Clear Virtual code.</span>
00195 <span class="comment">     */</span>
00196     <a class="code" href="../../d4/d2/fekbd_8c.html#a0">NLS_CLEAR_VK</a>(pKe-&gt;usFlaggedVk);
00197     <span class="comment">/*</span>
00198 <span class="comment">     * Set parameter as new VK key.</span>
00199 <span class="comment">     */</span>
00200     pKe-&gt;usFlaggedVk |= (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)dwParam;
00201     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00202 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a19" doxytag="fekbd.c::NlsSetKeyStateToggle" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID NlsSetKeyStateToggle           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>Vk</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00096">96</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00099">gpqForeground</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02976">SetAsyncKeyStateToggle</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02963">SetKeyStateToggle</a>, and <a class="el" href="../../d2/d7/hal_8h.html#a212">VOID()</a>.
<p>
Referenced by <a class="el" href="../../d5/d1/fekbd_8c-source.html#l01092">NlsKbdInitializePerSystem()</a>.
<p>
<pre class="fragment"><div>00097 {
00098     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a29">gpqForeground</a>)
00099         <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a841">SetKeyStateToggle</a>(gpqForeground,Vk);
00100     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a847">SetAsyncKeyStateToggle</a>(Vk);
00101 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="fekbd.c::NlsTestKeyStateToggle" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL NlsTestKeyStateToggle           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>Vk</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00080">80</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00099">gpqForeground</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02974">TestAsyncKeyStateToggle</a>, and <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02961">TestKeyStateToggle</a>.
<p>
Referenced by <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00230">NlsAlphanumericModeProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00821">NlsConvOrNonConvProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00124">NlsGetCurrentInputMode()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00600">NlsHelpOrEndProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00332">NlsHiraganaModeProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00783">NlsKanaEventProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00551">NlsKanaModeToggleProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00281">NlsKatakanaModeProc()</a>, and <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00676">NlsNumpadModeProc()</a>.
<p>
<pre class="fragment"><div>00081 {
00082     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a29">gpqForeground</a>) {
00083         <span class="keywordflow">return</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a840">TestKeyStateToggle</a>(gpqForeground,Vk));
00084     } <span class="keywordflow">else</span> {
00085         <span class="keywordflow">return</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a846">TestAsyncKeyStateToggle</a>(Vk));
00086     }
00087 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a43" doxytag="fekbd.c::xxxKENLSProcs" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL xxxKENLSProcs           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PKE&nbsp;</td>
          <td class="mdname" nowrap> <em>pKe</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG_PTR&nbsp;</td>
          <td class="mdname" nowrap> <em>dwExtraInfo</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l01004">1004</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
References <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00992">aNLSVKFProc</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d5/d0/userk_8h-source.html#l01833">CheckCritIn</a>, <a class="el" href="../../d4/d5/ntuser_2kernel_2globals_8c-source.html#l00191">gpKbdNlsTbl</a>, <a class="el" href="../../d6/d8/ntrtlp_8h-source.html#l00183">LOBYTE</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d0/d5/ndismain_8h-source.html#l00026">UINT</a>.
<p>
Referenced by <a class="el" href="../../d7/d7/ntinput_8c-source.html#l02791">xxxProcessKeyEvent()</a>.
<p>
<pre class="fragment"><div>01005 {
01006 
01007     <a class="code" href="../../d4/d1/userk_8h.html#a154">CheckCritIn</a>();
01008 
01009     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a72">gpKbdNlsTbl</a> != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
01010         PVK_F pVkToF = <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a72">gpKbdNlsTbl</a>-&gt;pVkToF;
01011         <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>  iNumVk = <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a72">gpKbdNlsTbl</a>-&gt;NumOfVkToF;
01012 
01013         <span class="keywordflow">while</span>(iNumVk) {
01014             <span class="keywordflow">if</span> (pVkToF[iNumVk-1].Vk == <a class="code" href="../../d5/d9/ntrtlp_8h.html#a4">LOBYTE</a>(pKe-&gt;usFlaggedVk)) {
01015                 <span class="keywordflow">return</span>((<a class="code" href="../../d4/d2/fekbd_8c.html#a17">aNLSVKFProc</a>[pVkToF[iNumVk-1].NLSFEProcType])
01016                                     (&amp;(pVkToF[iNumVk-1]),pKe,dwExtraInfo));
01017             }
01018             iNumVk--;
01019         }
01020     }
01021     <span class="comment">/*</span>
01022 <span class="comment">     * Other special Key Event processors</span>
01023 <span class="comment">     */</span>
01024     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01025 }
</div></pre>    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a16" doxytag="fekbd.c::aNLSKEProc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NLSKEPROC <a class="el" href="../../d4/d2/fekbd_8c.html#a16">aNLSKEProc</a>[]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div> {
    <a class="code" href="../../d4/d2/fekbd_8c.html#a22">NlsNullProc</a>,             
    <a class="code" href="../../d4/d2/fekbd_8c.html#a25">NlsLapseProc</a>,            
    <a class="code" href="../../d4/d2/fekbd_8c.html#a23">NlsSendBaseVk</a>,           
    <a class="code" href="../../d4/d2/fekbd_8c.html#a24">NlsSendParamVk</a>,          
    <a class="code" href="../../d4/d2/fekbd_8c.html#a32">NlsKanaModeToggleProc</a>,   
    <a class="code" href="../../d4/d2/fekbd_8c.html#a26">NlsAlphanumericModeProc</a>, 
    <a class="code" href="../../d4/d2/fekbd_8c.html#a28">NlsHiraganaModeProc</a>,     
    <a class="code" href="../../d4/d2/fekbd_8c.html#a27">NlsKatakanaModeProc</a>,     
    <a class="code" href="../../d4/d2/fekbd_8c.html#a29">NlsSbcsDbcsToggleProc</a>,   
    <a class="code" href="../../d4/d2/fekbd_8c.html#a30">NlsRomanToggleProc</a>,      
    <a class="code" href="../../d4/d2/fekbd_8c.html#a31">NlsCodeInputToggleProc</a>,  
    <a class="code" href="../../d4/d2/fekbd_8c.html#a33">NlsHelpOrEndProc</a>,        
    <a class="code" href="../../d4/d2/fekbd_8c.html#a34">NlsHomeOrClearProc</a>,      
    <a class="code" href="../../d4/d2/fekbd_8c.html#a35">NlsNumpadModeProc</a>,       
    <a class="code" href="../../d4/d2/fekbd_8c.html#a36">NlsKanaEventProc</a>,        
    <a class="code" href="../../d4/d2/fekbd_8c.html#a37">NlsConvOrNonConvProc</a>,    
}
</div></pre>
<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00845">845</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
Referenced by <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00875">GenerateNlsVkAltKey()</a>, and <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00864">GenerateNlsVkKey()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="fekbd.c::aNLSVKFProc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NLSVKFPROC <a class="el" href="../../d4/d2/fekbd_8c.html#a17">aNLSVKFProc</a>[]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div> {
    <a class="code" href="../../d4/d2/fekbd_8c.html#a40">KbdNlsFuncTypeDummy</a>,  
    <a class="code" href="../../d4/d2/fekbd_8c.html#a41">KbdNlsFuncTypeNormal</a>, 
    <a class="code" href="../../d4/d2/fekbd_8c.html#a42">KbdNlsFuncTypeAlt</a>     
}
</div></pre>
<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00992">992</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
Referenced by <a class="el" href="../../d5/d1/fekbd_8c-source.html#l01004">xxxKENLSProcs()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="fekbd.c::aVkToBits_NLSKBD" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VK_TO_BIT <a class="el" href="../../d4/d2/fekbd_8c.html#a13">aVkToBits_NLSKBD</a>[]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div> {
    { VK_SHIFT,   KBDSHIFT},
    { VK_CONTROL, KBDCTRL},
    { VK_MENU,    KBDALT},
    { 0,          0}
}
</div></pre>
<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00038">38</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="fekbd.c::fNlsKbdConfiguration" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> <a class="el" href="../../d4/d2/fekbd_8c.html#a15">fNlsKbdConfiguration</a> = GEN_KANA_AWARE | GEN_VK_END | GEN_VK_HOME          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00071">71</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
Referenced by <a class="el" href="../../d5/d1/fekbd_8c-source.html#l01092">NlsKbdInitializePerSystem()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="fekbd.c::Modifiers_NLSKBD" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> MODIFIERS <a class="el" href="../../d4/d2/fekbd_8c.html#a14">Modifiers_NLSKBD</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div> {
    &amp;<a class="code" href="../../d4/d2/fekbd_8c.html#a13">aVkToBits_NLSKBD</a>[0],
    7,
    {
        0,  
        1,  
        2,  
        3,  
        4,  
        5,  
        6,  
        7,  
    }
}
</div></pre>
<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00045">45</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
Referenced by <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00940">KbdNlsFuncTypeAlt()</a>, and <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00912">KbdNlsFuncTypeNormal()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="fekbd.c::NlsAlphaNumMode" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> <a class="el" href="../../d4/d2/fekbd_8c.html#a9">NlsAlphaNumMode</a>[] = {VK_DBE_ALPHANUMERIC,VK_DBE_HIRAGANA,VK_DBE_KATAKANA,0}          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00030">30</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
Referenced by <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00230">NlsAlphanumericModeProc()</a>, <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00332">NlsHiraganaModeProc()</a>, and <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00281">NlsKatakanaModeProc()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="fekbd.c::NlsCodeInputMode" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> <a class="el" href="../../d4/d2/fekbd_8c.html#a12">NlsCodeInputMode</a>[] = {VK_DBE_NOCODEINPUT,VK_DBE_CODEINPUT,0}          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00033">33</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
Referenced by <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00495">NlsCodeInputToggleProc()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="fekbd.c::NlsRomanMode" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> <a class="el" href="../../d4/d2/fekbd_8c.html#a11">NlsRomanMode</a>[] = {VK_DBE_NOROMAN,VK_DBE_ROMAN,0}          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00032">32</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
Referenced by <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00439">NlsRomanToggleProc()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="fekbd.c::NlsSbcsDbcsMode" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> <a class="el" href="../../d4/d2/fekbd_8c.html#a10">NlsSbcsDbcsMode</a>[] = {VK_DBE_SBCSCHAR,VK_DBE_DBCSCHAR,0}          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00031">31</a> of file <a class="el" href="../../d5/d1/fekbd_8c-source.html">fekbd.c</a>.
<p>
Referenced by <a class="el" href="../../d5/d1/fekbd_8c-source.html#l00383">NlsSbcsDbcsToggleProc()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:43:39 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
