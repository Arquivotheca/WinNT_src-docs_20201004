<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: engineup.c Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>engineup.c</h1><a href="../../d3/d7/w98_2lh__core_2engineup_8c.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">/*</span>
00002 <span class="comment">        File:           LHCalcEngineOnlyLookup.c</span>
00003 <span class="comment"></span>
00004 <span class="comment">        Contains:       </span>
00005 <span class="comment"></span>
00006 <span class="comment">        Written by:     U. J. Krabbenhoeft</span>
00007 <span class="comment"></span>
00008 <span class="comment">        Version:</span>
00009 <span class="comment"></span>
00010 <span class="comment">        Copyright:      © 1993-1997 by Heidelberger Druckmaschinen AG, all rights reserved.</span>
00011 <span class="comment"></span>
00012 <span class="comment">*/</span>
00013 
00014 <span class="preprocessor">#undef LH_DATA_IN_TYPE</span>
00015 <span class="preprocessor"></span><span class="preprocessor">#undef LH_DATA_OUT_TYPE</span>
00016 <span class="preprocessor"></span><span class="preprocessor">#undef LH_LUT_DATA_TYPE</span>
00017 <span class="preprocessor"></span><span class="preprocessor">#undef LH_DATA_IN_COUNT</span>
00018 <span class="preprocessor"></span><span class="preprocessor">#undef LH_DATA_OUT_COUNT</span>
00019 <span class="preprocessor"></span><span class="preprocessor">#undef LH_DATA_SHR</span>
00020 <span class="preprocessor"></span><span class="preprocessor">#undef LH_DATA_SHR_CORR</span>
00021 <span class="preprocessor"></span><span class="preprocessor">#undef LH_LUT_DATA_SHR</span>
00022 <span class="preprocessor"></span><span class="preprocessor">#undef LH_BIT_BREIT_INTERNAL</span>
00023 <span class="preprocessor"></span><span class="preprocessor">#if LH_DATA_IN_SIZE_16</span>
00024 <span class="preprocessor"></span><span class="preprocessor">#define LH_DATA_IN_TYPE LH_UINT16</span>
00025 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00026"></a><a class="code" href="../../d3/d7/w98_2lh__core_2engineup_8c.html#a0">00026</a> <span class="preprocessor"></span><span class="preprocessor">#define LH_DATA_IN_TYPE LH_UINT8</span>
00027 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00028 <span class="preprocessor"></span><span class="preprocessor">#if LH_DATA_OUT_SIZE_16</span>
00029 <span class="preprocessor"></span><span class="preprocessor">#define LH_DATA_OUT_TYPE LH_UINT16</span>
00030 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00031"></a><a class="code" href="../../d3/d7/w98_2lh__core_2engineup_8c.html#a1">00031</a> <span class="preprocessor"></span><span class="preprocessor">#define LH_DATA_OUT_TYPE LH_UINT8</span>
00032 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00033 <span class="preprocessor"></span><span class="preprocessor">#if LH_LUT_DATA_SIZE_16</span>
00034 <span class="preprocessor"></span><span class="preprocessor">#define LH_BIT_BREIT_INTERNAL   16</span>
00035 <span class="preprocessor"></span><span class="preprocessor">#define LH_LUT_DATA_TYPE LH_UINT16</span>
00036 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00037"></a><a class="code" href="../../d3/d7/w98_2lh__core_2engineup_8c.html#a2">00037</a> <span class="preprocessor"></span><span class="preprocessor">#define LH_BIT_BREIT_INTERNAL   10</span>
<a name="l00038"></a><a class="code" href="../../d3/d7/w98_2lh__core_2engineup_8c.html#a3">00038</a> <span class="preprocessor"></span><span class="preprocessor">#define LH_LUT_DATA_TYPE LH_UINT8</span>
00039 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00040 <span class="preprocessor"></span>
00041 <span class="preprocessor">#if LH_DATA_IN_COUNT_4</span>
00042 <span class="preprocessor"></span><span class="preprocessor">#define LH_DATA_IN_COUNT                4</span>
00043 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00044"></a><a class="code" href="../../d3/d7/w98_2lh__core_2engineup_8c.html#a4">00044</a> <span class="preprocessor"></span><span class="preprocessor">#define LH_DATA_IN_COUNT                3</span>
00045 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00046 <span class="preprocessor"></span>
00047 <span class="preprocessor">#if LH_DATA_OUT_COUNT_4</span>
00048 <span class="preprocessor"></span><span class="preprocessor">#define LH_DATA_OUT_COUNT               4</span>
00049 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00050"></a><a class="code" href="../../d3/d7/w98_2lh__core_2engineup_8c.html#a5">00050</a> <span class="preprocessor"></span><span class="preprocessor">#define LH_DATA_OUT_COUNT               3</span>
00051 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00052 <span class="preprocessor"></span>
<a name="l00053"></a><a class="code" href="../../d3/d7/w98_2lh__core_2engineup_8c.html#a6">00053</a> <span class="preprocessor">#define LH_BIT_MASKE_ADR (((1&lt;&lt;LH_BIT_BREIT_ADR)-1)&lt;&lt; (LH_BIT_BREIT_INTERNAL-LH_BIT_BREIT_ADR))</span>
<a name="l00054"></a><a class="code" href="../../d3/d7/w98_2lh__core_2engineup_8c.html#a7">00054</a> <span class="preprocessor"></span><span class="preprocessor">#define LH_BIT_BREIT_SELEKTOR (LH_BIT_BREIT_INTERNAL-LH_BIT_BREIT_ADR)</span>
<a name="l00055"></a><a class="code" href="../../d3/d7/w98_2lh__core_2engineup_8c.html#a8">00055</a> <span class="preprocessor"></span><span class="preprocessor">#define LH_BIT_MASKE_SELEKTOR ((1&lt;&lt;LH_BIT_BREIT_SELEKTOR)-1)</span>
00056 <span class="preprocessor"></span>
<a name="l00057"></a><a class="code" href="../../d3/d7/w98_2lh__core_2engineup_8c.html#a9">00057</a> <span class="preprocessor">#define LH_ADR_BEREICH_SEL              (1&lt;&lt;LH_BIT_BREIT_SELEKTOR)</span>
00058 <span class="preprocessor"></span>
00059 <span class="preprocessor">#if LH_LUT_DATA_SIZE_16</span>
00060 <span class="preprocessor"></span><span class="preprocessor">#define LH_DATA_SHR               (16-LH_ADR_BREIT_AUS_LUT)  </span><span class="comment">/* z.B. 16+11-10=17 */</span>
00061 <span class="preprocessor">#define LH_DATA_SHR_CORR 0              </span><span class="comment">/* notwendig bei LH_DATA_SHR &gt; 16 */</span>
00062 <span class="preprocessor">#define LH_LUT_DATA_SHR  16             </span><span class="comment">/* Normierung bei Alutinterpolation */</span>
00063 <span class="preprocessor">#else</span>
<a name="l00064"></a><a class="code" href="../../d3/d7/w98_2lh__core_2engineup_8c.html#a10">00064</a> <span class="preprocessor"></span><span class="preprocessor">#define LH_DATA_SHR               (LH_ADR_BREIT_AUS_LUT-8)   </span><span class="comment">/* z.B. 10-8=2 */</span>
<a name="l00065"></a><a class="code" href="../../d3/d7/w98_2lh__core_2engineup_8c.html#a11">00065</a> <span class="preprocessor">#define LH_LUT_DATA_SHR  8              </span><span class="comment">/* Normierung bei Alutinterpolation */</span>
00066 <span class="preprocessor">#endif</span>
00067 <span class="preprocessor"></span>
00068 <span class="preprocessor">#if LH_DATA_IN_COUNT_4</span>
00069 <span class="preprocessor"></span>{
00070 
00071         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a7">LH_UINT32</a> ein_regY;
00072         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a7">LH_UINT32</a> ein_regM;
00073         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a7">LH_UINT32</a> ein_regC;
00074         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a7">LH_UINT32</a> ein_regK;
00075         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> ein_cache[4];
00076         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a3">LH_LUT_DATA_TYPE</a> * paNewVal0;
00077 
00078         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>        Mode;
00079         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a7">LH_UINT32</a>       PixelCount, LineCount, i, j;
00080         <span class="keywordtype">long</span> inputOffset,outputOffset;
00081         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> * input0 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> *)calcParam-&gt;inputData[0];
00082         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> * input1 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> *)calcParam-&gt;inputData[1];
00083         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> * input2 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> *)calcParam-&gt;inputData[2];
00084         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> * input3 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> *)calcParam-&gt;inputData[3];
00085         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> * input4 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> *)calcParam-&gt;inputData[4];
00086 
00087         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> * output0 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> *)calcParam-&gt;outputData[0];
00088         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> * output1 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> *)calcParam-&gt;outputData[1];
00089         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> * output2 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> *)calcParam-&gt;outputData[2];
00090         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> * output3 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> *)calcParam-&gt;outputData[3];
00091         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> * output4 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> *)calcParam-&gt;outputData[4];
00092 
00093         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * My_InputLut = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)lutParam-&gt;inputLut;
00094         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a3">LH_LUT_DATA_TYPE</a> * My_OutputLut = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a3">LH_LUT_DATA_TYPE</a> *)lutParam-&gt;outputLut;
00095         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a3">LH_LUT_DATA_TYPE</a> * My_ColorLut = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a3">LH_LUT_DATA_TYPE</a> *)lutParam-&gt;colorLut;
00096 
00097         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> Mask = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a>)-1;
00098 
00099 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
00100 <span class="preprocessor"></span>        <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a11">CMError</a> err = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
00101 <span class="preprocessor">#endif</span>
00102 <span class="preprocessor"></span>        <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a1">LH_START_PROC</a>(<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a7">LH_CALC_PROC_NAME</a>)
00103 
00104         #<span class="keywordflow">if</span> <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a3">LH_DATA_IN_SIZE_16</a>
00105         inputOffset = (<span class="keywordtype">long</span>)calcParam-&gt;cmInputPixelOffset / 2;
00106 <span class="preprocessor">        #else</span>
00107 <span class="preprocessor"></span>        inputOffset = (<span class="keywordtype">long</span>)calcParam-&gt;cmInputPixelOffset;
00108 <span class="preprocessor">        #endif</span>
00109 <span class="preprocessor"></span><span class="preprocessor">        #if LH_DATA_OUT_SIZE_16</span>
00110 <span class="preprocessor"></span>        outputOffset = (<span class="keywordtype">long</span>)calcParam-&gt;cmOutputPixelOffset / 2;
00111 <span class="preprocessor">        #else</span>
00112 <span class="preprocessor"></span>        outputOffset = (<span class="keywordtype">long</span>)calcParam-&gt;cmOutputPixelOffset;
00113 <span class="preprocessor">        #endif</span>
00114 <span class="preprocessor"></span>
00115         <span class="keywordflow">if</span> (calcParam-&gt;clearMask)
00116                 Mask = 0;
00117         Mode = <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a0">LH_CALC_ENGINE_UNDEF_MODE</a>;
00118 
00119 
00120         <span class="keywordflow">if</span> ((calcParam-&gt;cmInputPixelOffset * calcParam-&gt;cmPixelPerLine == calcParam-&gt;cmInputBytesPerLine) &amp;&amp; (calcParam-&gt;cmOutputPixelOffset * calcParam-&gt;cmPixelPerLine == calcParam-&gt;cmOutputBytesPerLine))
00121         {
00122                 PixelCount = calcParam-&gt;cmPixelPerLine * calcParam-&gt;cmLineCount;
00123                 LineCount = 1;
00124         }
00125         <span class="keywordflow">else</span>
00126         {
00127                 PixelCount = calcParam-&gt;cmPixelPerLine;
00128                 LineCount = calcParam-&gt;cmLineCount;
00129         }
00130         <span class="keywordflow">if</span> (calcParam-&gt;copyAlpha )
00131         {
00132                         Mode = <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a4">LH_CALC_ENGINE_U_TO_U</a>;
00133         }
00134         <span class="keywordflow">else</span>
00135         {
00136                 <span class="keywordflow">if</span> (calcParam-&gt;clearMask)
00137                         Mode = <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a2">LH_CALC_ENGINE_P_TO_U</a>;
00138                 <span class="keywordflow">else</span>
00139                         Mode = <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a1">LH_CALC_ENGINE_P_TO_P</a>;
00140         }
00141 
00142         j = 0;
00143         <span class="keywordflow">while</span> (LineCount)
00144         {
00145                 i = PixelCount;
00146                 <span class="keywordflow">while</span> (i)
00147                 {
00148 <span class="preprocessor">                        #if LH_LUT_DATA_SIZE_16</span>
00149 <span class="preprocessor"></span><span class="preprocessor">                        #if LH_DATA_OUT_SIZE_16</span>
00150 <span class="preprocessor"></span>                        <span class="keyword">register</span> <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a7">LH_UINT32</a> ko;
00151                         <span class="keyword">register</span> <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a7">LH_UINT32</a> aVal;
00152 <span class="preprocessor">                #endif</span>
00153 <span class="preprocessor"></span><span class="preprocessor">                #endif</span>
00154 <span class="preprocessor"></span><span class="preprocessor">                        #if LH_DATA_IN_SIZE_16</span>
00155 <span class="preprocessor"></span>                        ein_regC = My_InputLut[((ein_cache[0]=*input0)&gt;&gt;( 16-<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a0">LH_ADR_BREIT_EIN_LUT</a> )) + ( 0 &lt;&lt; <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a0">LH_ADR_BREIT_EIN_LUT</a> )];
00156                         ein_regC += 1&lt;&lt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a7">LH_BIT_BREIT_SELEKTOR</a>-1;
00157                         ein_regM = My_InputLut[((ein_cache[1]=*input1)&gt;&gt;( 16-<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a0">LH_ADR_BREIT_EIN_LUT</a> )) + ( 1 &lt;&lt; <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a0">LH_ADR_BREIT_EIN_LUT</a> )];
00158                         ein_regM += 1&lt;&lt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a7">LH_BIT_BREIT_SELEKTOR</a>-1;
00159                         ein_regY = My_InputLut[((ein_cache[2]=*input2)&gt;&gt;( 16-<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a0">LH_ADR_BREIT_EIN_LUT</a> )) + ( 2 &lt;&lt; <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a0">LH_ADR_BREIT_EIN_LUT</a> )];
00160                         ein_regY += 1&lt;&lt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a7">LH_BIT_BREIT_SELEKTOR</a>-1;
00161                         ein_regK = My_InputLut[((ein_cache[3]=*input3)&gt;&gt;( 16-<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a0">LH_ADR_BREIT_EIN_LUT</a> )) + ( 3 &lt;&lt; <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a0">LH_ADR_BREIT_EIN_LUT</a> )];
00162                         ein_regK += 1&lt;&lt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a7">LH_BIT_BREIT_SELEKTOR</a>-1;
00163 <span class="preprocessor">                        #else</span>
00164 <span class="preprocessor"></span>                        ein_regC = My_InputLut[(ein_cache[0]=*input0) + ( 0 &lt;&lt; <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a0">LH_ADR_BREIT_EIN_LUT</a> )];
00165                         ein_regC += 1&lt;&lt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a7">LH_BIT_BREIT_SELEKTOR</a>-1;
00166                         ein_regM = My_InputLut[(ein_cache[1]=*input1) + ( 1 &lt;&lt; <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a0">LH_ADR_BREIT_EIN_LUT</a> )];
00167                         ein_regM += 1&lt;&lt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a7">LH_BIT_BREIT_SELEKTOR</a>-1;
00168                         ein_regY = My_InputLut[(ein_cache[2]=*input2) + ( 2 &lt;&lt; <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a0">LH_ADR_BREIT_EIN_LUT</a> )];
00169                         ein_regY += 1&lt;&lt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a7">LH_BIT_BREIT_SELEKTOR</a>-1;
00170                         ein_regK = My_InputLut[(ein_cache[3]=*input3) + ( 3 &lt;&lt; <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a0">LH_ADR_BREIT_EIN_LUT</a> )];
00171                         ein_regK += 1&lt;&lt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a7">LH_BIT_BREIT_SELEKTOR</a>-1;
00172 <span class="preprocessor">                        #endif</span>
00173 <span class="preprocessor"></span>                        paNewVal0 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a3">LH_LUT_DATA_TYPE</a> *)My_ColorLut + 
00174                                                 ((((((((ein_regC &amp; <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a6">LH_BIT_MASKE_ADR</a>) &lt;&lt; <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a6">LH_BIT_BREIT_ADR</a>) +
00175                                                            (ein_regM &amp; <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a6">LH_BIT_MASKE_ADR</a>)) &lt;&lt; <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a6">LH_BIT_BREIT_ADR</a>) +
00176                                                            (ein_regY &amp; <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a6">LH_BIT_MASKE_ADR</a>))&gt;&gt; (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a7">LH_BIT_BREIT_SELEKTOR</a>-<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a6">LH_BIT_BREIT_ADR</a>)) + 
00177                                                        (ein_regK &gt;&gt; <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a7">LH_BIT_BREIT_SELEKTOR</a>))*<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a5">LH_DATA_OUT_COUNT</a>);
00178 <span class="preprocessor">                                                #if LH_LUT_DATA_SIZE_16</span>
00179 <span class="preprocessor"></span><span class="preprocessor">                                                        #if LH_DATA_OUT_SIZE_16</span>
00180 <span class="preprocessor"></span>                                        
00181                                                         aVal =                                   (      paNewVal0[0]);
00182                                                         aVal = aVal + ( aVal &gt;&gt; ( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a11">LH_LUT_DATA_SHR</a> ));
00183                                                         aVal = aVal - ( aVal &gt;&gt; ( <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a> ));
00184                                                         ko = (aVal&gt;&gt;LH_DATA_SHR_CORR) &amp; ( (1&lt;&lt;( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> - LH_DATA_SHR_CORR))-1 );
00185                                                         aVal = (aVal &gt;&gt; ( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> )) + ( 0 &lt;&lt; <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a> );
00186                                                 *output0 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a>)((My_OutputLut[aVal] * ( (1&lt;&lt;( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> - LH_DATA_SHR_CORR )) - ko ) + My_OutputLut[aVal +1] * ko)&gt;&gt;(<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> - LH_DATA_SHR_CORR) );
00187         
00188                                                         aVal =                                   (      paNewVal0[1]);
00189                                                         aVal = aVal + ( aVal &gt;&gt; ( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a11">LH_LUT_DATA_SHR</a> ));
00190                                                         aVal = aVal - ( aVal &gt;&gt; ( <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a> ));
00191                                                         ko = (aVal&gt;&gt;LH_DATA_SHR_CORR) &amp; ( (1&lt;&lt;( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> - LH_DATA_SHR_CORR))-1 );
00192                                                         aVal = (aVal &gt;&gt; ( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> )) + ( 1 &lt;&lt; <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a> );
00193                                                 *output1 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a>)((My_OutputLut[aVal] * ( (1&lt;&lt;( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> - LH_DATA_SHR_CORR )) - ko ) + My_OutputLut[aVal +1] * ko)&gt;&gt;(<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> - LH_DATA_SHR_CORR) );
00194         
00195                                                         aVal =                                   (      paNewVal0[2]);
00196                                                         aVal = aVal + ( aVal &gt;&gt; ( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a11">LH_LUT_DATA_SHR</a> ));
00197                                                         aVal = aVal - ( aVal &gt;&gt; ( <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a> ));
00198                                                         ko = (aVal&gt;&gt;LH_DATA_SHR_CORR) &amp; ( (1&lt;&lt;( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> - LH_DATA_SHR_CORR))-1 );
00199                                                         aVal = (aVal &gt;&gt; ( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> )) + ( 2 &lt;&lt; <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a> );
00200                                                 *output2 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a>)((My_OutputLut[aVal] * ( (1&lt;&lt;( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> - LH_DATA_SHR_CORR )) - ko ) + My_OutputLut[aVal +1] * ko)&gt;&gt;(<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> - LH_DATA_SHR_CORR) );
00201         
00202 <span class="preprocessor">                                                        #if LH_DATA_OUT_COUNT_4</span>
00203 <span class="preprocessor"></span>                                                        aVal =                                   (      paNewVal0[3]);
00204                                                         aVal = aVal + ( aVal &gt;&gt; ( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a11">LH_LUT_DATA_SHR</a> ));
00205                                                         aVal = aVal - ( aVal &gt;&gt; ( <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a> ));
00206                                                         ko = (aVal&gt;&gt;LH_DATA_SHR_CORR) &amp; ( (1&lt;&lt;( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> - LH_DATA_SHR_CORR))-1 );
00207                                                         aVal = (aVal &gt;&gt; ( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> )) + ( 3 &lt;&lt; <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a> );
00208                                                 *output3 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a>)((My_OutputLut[aVal] * ( (1&lt;&lt;( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> - LH_DATA_SHR_CORR )) - ko ) + My_OutputLut[aVal +1] * ko)&gt;&gt;(<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> - LH_DATA_SHR_CORR) );
00209 <span class="preprocessor">                                                        #endif</span>
00210 <span class="preprocessor"></span>                                                        
00211 <span class="preprocessor">                                                        #else</span>
00212 <span class="preprocessor"></span>                                                        *output0 = My_OutputLut[((      paNewVal0[0])&gt;&gt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a>) + (0&lt;&lt;<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a>)]&gt;&gt;8;
00213                                                         *output1 = My_OutputLut[((      paNewVal0[1])&gt;&gt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a>) + (1&lt;&lt;<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a>)]&gt;&gt;8;
00214                                                         *output2 = My_OutputLut[((      paNewVal0[2])&gt;&gt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a>) + (2&lt;&lt;<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a>)]&gt;&gt;8;
00215 <span class="preprocessor">                                                        #if LH_DATA_OUT_COUNT_4</span>
00216 <span class="preprocessor"></span>                                                        *output3 = My_OutputLut[((      paNewVal0[3])&gt;&gt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a>) + (3&lt;&lt;<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a>)]&gt;&gt;8;
00217 <span class="preprocessor">                                                        #endif</span>
00218 <span class="preprocessor"></span><span class="preprocessor">                                                        #endif</span>
00219 <span class="preprocessor"></span>                                                        
00220 <span class="preprocessor">                                                        #else</span>
00221 <span class="preprocessor"></span>                                                        *output0 = My_OutputLut[((      paNewVal0[0])&lt;&lt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a>) + (0&lt;&lt;<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a>)];
00222                                                         *output1 = My_OutputLut[((      paNewVal0[1])&lt;&lt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a>) + (1&lt;&lt;<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a>)];
00223                                                         *output2 = My_OutputLut[((      paNewVal0[2])&lt;&lt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a>) + (2&lt;&lt;<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a>)];
00224 <span class="preprocessor">                                                        #if LH_DATA_OUT_COUNT_4</span>
00225 <span class="preprocessor"></span>                                                        *output3 = My_OutputLut[((      paNewVal0[3])&lt;&lt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a>) + (3&lt;&lt;<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a>)];
00226 <span class="preprocessor">                                                        #endif</span>
00227 <span class="preprocessor"></span><span class="preprocessor">                                                        #endif</span>
00228 <span class="preprocessor"></span>
00229 <span class="preprocessor">                        #if LH_DATA_OUT_SIZE_16 &amp;&amp; ! LH_LUT_DATA_SIZE_16</span>
00230 <span class="preprocessor"></span>                        *output0 |= (*output0 &lt;&lt; 8);
00231                         *output1 |= (*output1 &lt;&lt; 8);
00232                         *output2 |= (*output2 &lt;&lt; 8);
00233 <span class="preprocessor">                        #if LH_DATA_OUT_COUNT_4</span>
00234 <span class="preprocessor"></span>                        *output3 |= (*output3 &lt;&lt; 8);
00235 <span class="preprocessor">                        #endif</span>
00236 <span class="preprocessor"></span><span class="preprocessor">                        #endif</span>
00237 <span class="preprocessor"></span>                        
00238                         <span class="keywordflow">if</span> (Mode == <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a1">LH_CALC_ENGINE_P_TO_P</a>)
00239                         {
00240                                 <span class="keywordflow">while</span> (--i)
00241                                 {
00242                                         input0 += inputOffset;
00243                                         input1 += inputOffset;
00244                                         input2 += inputOffset;
00245                                         input3 += inputOffset;
00246                                         output0 += outputOffset;
00247                                         output1 += outputOffset;
00248                                         output2 += outputOffset;
00249 <span class="preprocessor">                                        #if LH_DATA_OUT_COUNT_4</span>
00250 <span class="preprocessor"></span>                                        output3 += outputOffset;
00251 <span class="preprocessor">                                        #endif</span>
00252 <span class="preprocessor"></span>
00253                                         <span class="keywordflow">if</span> ((*input0 ^ ein_cache[0]) || (*input1 ^ ein_cache[1]) || (*input2 ^ ein_cache[2]) || (*input3 ^ ein_cache[3]))
00254                                         {
00255                                                 <span class="keywordflow">break</span>;
00256                                         }
00257                                         *output0 = output0[-outputOffset];
00258                                         *output1 = output1[-outputOffset];
00259                                         *output2 = output2[-outputOffset];
00260 <span class="preprocessor">                                        #if LH_DATA_OUT_COUNT_4</span>
00261 <span class="preprocessor"></span>                                        *output3 = output3[-outputOffset];
00262 <span class="preprocessor">                                        #endif</span>
00263 <span class="preprocessor"></span>                                }
00264                         }
00265                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Mode == <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a2">LH_CALC_ENGINE_P_TO_U</a>)
00266                         {
00267 <span class="preprocessor">                                #if LH_DATA_OUT_COUNT_4</span>
00268 <span class="preprocessor"></span>                                *output4 &amp;= Mask;
00269 <span class="preprocessor">                                #else</span>
00270 <span class="preprocessor"></span>                                *output3 &amp;= Mask;
00271 <span class="preprocessor">                                #endif</span>
00272 <span class="preprocessor"></span>                                <span class="keywordflow">while</span> (--i)
00273                                 {
00274                                         input0 += inputOffset;
00275                                         input1 += inputOffset;
00276                                         input2 += inputOffset;
00277                                         input3 += inputOffset;
00278                                         output0 += outputOffset;
00279                                         output1 += outputOffset;
00280                                         output2 += outputOffset;
00281                                         output3 += outputOffset;
00282 <span class="preprocessor">                                        #if LH_DATA_OUT_COUNT_4</span>
00283 <span class="preprocessor"></span>                                        output4 += outputOffset;
00284 <span class="preprocessor">                                        #endif</span>
00285 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span> ((*input0 ^ ein_cache[0]) || (*input1 ^ ein_cache[1]) || (*input2 ^ ein_cache[2]) || (*input3 ^ ein_cache[3]))
00286                                         {
00287                                                 <span class="keywordflow">break</span>;
00288                                         }
00289                                         *output0 = output0[-outputOffset];
00290                                         *output1 = output1[-outputOffset];
00291                                         *output2 = output2[-outputOffset];
00292 <span class="preprocessor">                                        #if LH_DATA_OUT_COUNT_4</span>
00293 <span class="preprocessor"></span>                                        *output3 = output3[-outputOffset];
00294                                         *output4 &amp;= Mask;
00295 <span class="preprocessor">                                        #else</span>
00296 <span class="preprocessor"></span>                                        *output3 &amp;= Mask;
00297 <span class="preprocessor">                                        #endif</span>
00298 <span class="preprocessor"></span>                                }
00299                         }
00300                         <span class="keywordflow">else</span>
00301                         {
00302 <span class="preprocessor">                                #if LH_DATA_OUT_COUNT_4</span>
00303 <span class="preprocessor"></span>                                *output4 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a>)*input4;
00304 <span class="preprocessor">                                #else</span>
00305 <span class="preprocessor"></span>                                *output3 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a>)*input4;
00306 <span class="preprocessor">                                #endif</span>
00307 <span class="preprocessor"></span>                                <span class="keywordflow">while</span> (--i)
00308                                 {                                                               <span class="comment">/*U_TO_U*/</span>
00309                                         input0 += inputOffset;
00310                                         input1 += inputOffset;
00311                                         input2 += inputOffset;
00312                                         input3 += inputOffset;
00313                                         input4 += inputOffset;
00314 
00315                                         output0 += outputOffset;
00316                                         output1 += outputOffset;
00317                                         output2 += outputOffset;
00318                                         output3 += outputOffset;
00319 <span class="preprocessor">                                        #if LH_DATA_OUT_COUNT_4</span>
00320 <span class="preprocessor"></span>                                        output4 += outputOffset;
00321 <span class="preprocessor">                                        #endif</span>
00322 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span> ((*input0 ^ ein_cache[0]) || (*input1 ^ ein_cache[1]) || (*input2 ^ ein_cache[2]) || (*input3 ^ ein_cache[3]))
00323                                         {
00324                                                 <span class="keywordflow">break</span>;
00325                                         }
00326                                         *output0 = output0[-outputOffset];
00327                                         *output1 = output1[-outputOffset];
00328                                         *output2 = output2[-outputOffset];
00329 <span class="preprocessor">                                        #if LH_DATA_OUT_COUNT_4</span>
00330 <span class="preprocessor"></span>                                        *output3 = output3[-outputOffset];
00331                                         *output4 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a>)*input4;
00332 <span class="preprocessor">                                        #else</span>
00333 <span class="preprocessor"></span>                                        *output3 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a>)*input4;
00334 <span class="preprocessor">                                        #endif</span>
00335 <span class="preprocessor"></span>                                }
00336                         }
00337                 }
00338                 <span class="keywordflow">if</span> (--LineCount)
00339                 {
00340                         j++;
00341                         input0 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> *)((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;inputData[0] + j * calcParam-&gt;cmInputBytesPerLine);
00342                         input1 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> *)((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;inputData[1] + j * calcParam-&gt;cmInputBytesPerLine);
00343                         input2 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> *)((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;inputData[2] + j * calcParam-&gt;cmInputBytesPerLine);
00344                         input3 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> *)((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;inputData[3] + j * calcParam-&gt;cmInputBytesPerLine);
00345                         input4 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> *)((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;inputData[4] + j * calcParam-&gt;cmInputBytesPerLine);
00346 
00347                         output0 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> *)((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;outputData[0] + j * calcParam-&gt;cmOutputBytesPerLine);
00348                         output1 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> *)((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;outputData[1] + j * calcParam-&gt;cmOutputBytesPerLine);
00349                         output2 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> *)((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;outputData[2] + j * calcParam-&gt;cmOutputBytesPerLine);
00350                         output3 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> *)((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;outputData[3] + j * calcParam-&gt;cmOutputBytesPerLine);
00351 <span class="preprocessor">                        #if LH_DATA_OUT_COUNT_4</span>
00352 <span class="preprocessor"></span>                        output4 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> *)((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;outputData[4] + j * calcParam-&gt;cmOutputBytesPerLine);
00353 <span class="preprocessor">                        #endif</span>
00354 <span class="preprocessor"></span>                }
00355         }
00356         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a2">LH_END_PROC</a>(<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a7">LH_CALC_PROC_NAME</a>)
00357         <span class="keywordflow">return</span> 0;
00358 }
00359 <span class="preprocessor">#else</span>
00360 <span class="preprocessor"></span>{
00361 
00362         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a7">LH_UINT32</a> ein_regb;
00363         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a7">LH_UINT32</a> ein_regg;
00364         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a7">LH_UINT32</a> ein_regr;
00365         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> ein_cache[3];
00366         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a3">LH_LUT_DATA_TYPE</a> * paNewVal0;
00367 
00368         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a>        Mode;
00369         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a7">LH_UINT32</a>       PixelCount, LineCount, i, j;
00370         <span class="keywordtype">long</span> inputOffset,outputOffset;
00371         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> * input0 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> *)calcParam-&gt;inputData[0];
00372         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> * input1 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> *)calcParam-&gt;inputData[1];
00373         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> * input2 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> *)calcParam-&gt;inputData[2];
00374         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> * input3 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> *)calcParam-&gt;inputData[3];
00375 
00376         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> * output0 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> *)calcParam-&gt;outputData[0];
00377         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> * output1 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> *)calcParam-&gt;outputData[1];
00378         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> * output2 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> *)calcParam-&gt;outputData[2];
00379         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> * output3 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> *)calcParam-&gt;outputData[3];
00380         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> * output4 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> *)calcParam-&gt;outputData[4];
00381 
00382         <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> * My_InputLut = (<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a6">LH_UINT16</a> *)lutParam-&gt;inputLut;
00383         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a3">LH_LUT_DATA_TYPE</a> * My_OutputLut = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a3">LH_LUT_DATA_TYPE</a> *)lutParam-&gt;outputLut;
00384         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a3">LH_LUT_DATA_TYPE</a> * My_ColorLut = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a3">LH_LUT_DATA_TYPE</a> *)lutParam-&gt;colorLut;
00385 
00386         <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> Mask = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a>)-1;
00387 
00388 <span class="preprocessor">#ifdef DEBUG_OUTPUT</span>
00389 <span class="preprocessor"></span>        <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a11">CMError</a> err = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
00390 <span class="preprocessor">#endif</span>
00391 <span class="preprocessor"></span>        <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a1">LH_START_PROC</a>(LH_CALC_PROC_NAME)
00392 
00393         #<span class="keywordflow">if</span> <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a3">LH_DATA_IN_SIZE_16</a>
00394         inputOffset = (<span class="keywordtype">long</span>)calcParam-&gt;cmInputPixelOffset / 2;
00395 <span class="preprocessor">        #else</span>
00396 <span class="preprocessor"></span>        inputOffset = (<span class="keywordtype">long</span>)calcParam-&gt;cmInputPixelOffset;
00397 <span class="preprocessor">        #endif</span>
00398 <span class="preprocessor"></span><span class="preprocessor">        #if LH_DATA_OUT_SIZE_16</span>
00399 <span class="preprocessor"></span>        outputOffset = (<span class="keywordtype">long</span>)calcParam-&gt;cmOutputPixelOffset / 2;
00400 <span class="preprocessor">        #else</span>
00401 <span class="preprocessor"></span>        outputOffset = (<span class="keywordtype">long</span>)calcParam-&gt;cmOutputPixelOffset;
00402 <span class="preprocessor">        #endif</span>
00403 <span class="preprocessor"></span>
00404         <span class="keywordflow">if</span> (calcParam-&gt;clearMask)
00405                 Mask = 0;
00406         Mode = <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a0">LH_CALC_ENGINE_UNDEF_MODE</a>;
00407 
00408 
00409         <span class="keywordflow">if</span> ((calcParam-&gt;cmInputPixelOffset * calcParam-&gt;cmPixelPerLine == calcParam-&gt;cmInputBytesPerLine) &amp;&amp; (calcParam-&gt;cmOutputPixelOffset * calcParam-&gt;cmPixelPerLine == calcParam-&gt;cmOutputBytesPerLine))
00410         {
00411                 PixelCount = calcParam-&gt;cmPixelPerLine * calcParam-&gt;cmLineCount;
00412                 LineCount = 1;
00413         }
00414         <span class="keywordflow">else</span>
00415         {
00416                 PixelCount = calcParam-&gt;cmPixelPerLine;
00417                 LineCount = calcParam-&gt;cmLineCount;
00418         }
00419         <span class="keywordflow">if</span> (calcParam-&gt;copyAlpha )
00420         {
00421                         Mode = <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a4">LH_CALC_ENGINE_U_TO_U</a>;
00422         }
00423         <span class="keywordflow">else</span>
00424         {
00425                 <span class="keywordflow">if</span> (calcParam-&gt;clearMask)
00426                         Mode = <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a2">LH_CALC_ENGINE_P_TO_U</a>;
00427                 <span class="keywordflow">else</span>
00428                         Mode = <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a1">LH_CALC_ENGINE_P_TO_P</a>;
00429         }
00430         j = 0;
00431         <span class="keywordflow">while</span> (LineCount)
00432         {
00433                 i = PixelCount;
00434                 <span class="keywordflow">while</span> (i)
00435                 {
00436 <span class="preprocessor">                        #if LH_LUT_DATA_SIZE_16</span>
00437 <span class="preprocessor"></span><span class="preprocessor">                        #if LH_DATA_OUT_SIZE_16</span>
00438 <span class="preprocessor"></span>                        <span class="keyword">register</span> <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a7">LH_UINT32</a> ko;
00439                         <span class="keyword">register</span> <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a7">LH_UINT32</a> aVal;
00440 <span class="preprocessor">                #endif</span>
00441 <span class="preprocessor"></span><span class="preprocessor">                #endif</span>
00442 <span class="preprocessor"></span><span class="preprocessor">                        #if LH_DATA_IN_SIZE_16</span>
00443 <span class="preprocessor"></span>                        ein_regr = My_InputLut[((ein_cache[0]=*input0)&gt;&gt;( 16-<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a0">LH_ADR_BREIT_EIN_LUT</a> )) + ( 0 &lt;&lt; <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a0">LH_ADR_BREIT_EIN_LUT</a> )];
00444                         ein_regr += 1&lt;&lt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a7">LH_BIT_BREIT_SELEKTOR</a>-1;
00445                         ein_regg = My_InputLut[((ein_cache[1]=*input1)&gt;&gt;( 16-<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a0">LH_ADR_BREIT_EIN_LUT</a> )) + ( 1 &lt;&lt; <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a0">LH_ADR_BREIT_EIN_LUT</a> )];
00446                         ein_regg += 1&lt;&lt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a7">LH_BIT_BREIT_SELEKTOR</a>-1;
00447                         ein_regb = My_InputLut[((ein_cache[2]=*input2)&gt;&gt;( 16-<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a0">LH_ADR_BREIT_EIN_LUT</a> )) + ( 2 &lt;&lt; <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a0">LH_ADR_BREIT_EIN_LUT</a> )];
00448                         ein_regb += 1&lt;&lt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a7">LH_BIT_BREIT_SELEKTOR</a>-1;
00449 <span class="preprocessor">                        #else</span>
00450 <span class="preprocessor"></span>                        ein_regr = My_InputLut[(ein_cache[0]=*input0) + ( 0 &lt;&lt; <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a0">LH_ADR_BREIT_EIN_LUT</a> )];
00451                         ein_regr += 1&lt;&lt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a7">LH_BIT_BREIT_SELEKTOR</a>-1;
00452                         ein_regg = My_InputLut[(ein_cache[1]=*input1) + ( 1 &lt;&lt; <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a0">LH_ADR_BREIT_EIN_LUT</a> )];
00453                         ein_regg += 1&lt;&lt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a7">LH_BIT_BREIT_SELEKTOR</a>-1;
00454                         ein_regb = My_InputLut[(ein_cache[2]=*input2) + ( 2 &lt;&lt; <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a0">LH_ADR_BREIT_EIN_LUT</a> )];
00455                         ein_regb += 1&lt;&lt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a7">LH_BIT_BREIT_SELEKTOR</a>-1;
00456 <span class="preprocessor">                        #endif</span>
00457 <span class="preprocessor"></span>                        paNewVal0 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a3">LH_LUT_DATA_TYPE</a> *)My_ColorLut + 
00458                                                 ((((((ein_regr &amp; <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a6">LH_BIT_MASKE_ADR</a>) &lt;&lt; <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a6">LH_BIT_BREIT_ADR</a>) +
00459                                                          (ein_regg &amp; <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a6">LH_BIT_MASKE_ADR</a>))&gt;&gt; (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a7">LH_BIT_BREIT_SELEKTOR</a>-<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a6">LH_BIT_BREIT_ADR</a>)) + 
00460                                                      (ein_regb &gt;&gt; <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a7">LH_BIT_BREIT_SELEKTOR</a>))*<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a5">LH_DATA_OUT_COUNT</a>);
00461 <span class="preprocessor">                                                #if LH_LUT_DATA_SIZE_16</span>
00462 <span class="preprocessor"></span><span class="preprocessor">                                                #if LH_DATA_OUT_SIZE_16</span>
00463 <span class="preprocessor"></span>                                
00464                                                 aVal =                                   ( paNewVal0[0]);
00465                                                 aVal = aVal + ( aVal &gt;&gt; ( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a11">LH_LUT_DATA_SHR</a> ));
00466                                                 aVal = aVal - ( aVal &gt;&gt; ( <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a> ));
00467                                                 ko = (aVal&gt;&gt;LH_DATA_SHR_CORR) &amp; ( (1&lt;&lt;( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> - LH_DATA_SHR_CORR))-1 );
00468                                                 aVal = (aVal &gt;&gt; ( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> )) + ( 0 &lt;&lt; <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a> );
00469                                         *output0 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a>)((My_OutputLut[aVal] * ( (1&lt;&lt;( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> - LH_DATA_SHR_CORR )) - ko ) + My_OutputLut[aVal +1] * ko)&gt;&gt;(<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> - LH_DATA_SHR_CORR) );
00470 
00471                                                 paNewVal0++;
00472                                                 aVal =                                   ( paNewVal0[0]);
00473                                                 aVal = aVal + ( aVal &gt;&gt; ( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a11">LH_LUT_DATA_SHR</a> ));
00474                                                 aVal = aVal - ( aVal &gt;&gt; ( <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a> ));
00475                                                 ko = (aVal&gt;&gt;LH_DATA_SHR_CORR) &amp; ( (1&lt;&lt;( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> - LH_DATA_SHR_CORR))-1 );
00476                                                 aVal = (aVal &gt;&gt; ( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> )) + ( 1 &lt;&lt; <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a> );
00477                                         *output1 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a>)((My_OutputLut[aVal] * ( (1&lt;&lt;( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> - LH_DATA_SHR_CORR )) - ko ) + My_OutputLut[aVal +1] * ko)&gt;&gt;(<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> - LH_DATA_SHR_CORR) );
00478 
00479                                                 paNewVal0++;
00480                                                 aVal =                                   ( paNewVal0[0]);
00481                                                 aVal = aVal + ( aVal &gt;&gt; ( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a11">LH_LUT_DATA_SHR</a> ));
00482                                                 aVal = aVal - ( aVal &gt;&gt; ( <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a> ));
00483                                                 ko = (aVal&gt;&gt;LH_DATA_SHR_CORR) &amp; ( (1&lt;&lt;( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> - LH_DATA_SHR_CORR))-1 );
00484                                                 aVal = (aVal &gt;&gt; ( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> )) + ( 2 &lt;&lt; <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a> );
00485                                         *output2 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a>)((My_OutputLut[aVal] * ( (1&lt;&lt;( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> - LH_DATA_SHR_CORR )) - ko ) + My_OutputLut[aVal +1] * ko)&gt;&gt;(<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> - LH_DATA_SHR_CORR) );
00486 
00487 <span class="preprocessor">                                                #if LH_DATA_OUT_COUNT_4</span>
00488 <span class="preprocessor"></span>                                                paNewVal0++;
00489                                                 aVal =                                   ( paNewVal0[0]);
00490                                                 aVal = aVal + ( aVal &gt;&gt; ( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a11">LH_LUT_DATA_SHR</a> ));
00491                                                 aVal = aVal - ( aVal &gt;&gt; ( <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a> ));
00492                                                 ko = (aVal&gt;&gt;LH_DATA_SHR_CORR) &amp; ( (1&lt;&lt;( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> - LH_DATA_SHR_CORR))-1 );
00493                                                 aVal = (aVal &gt;&gt; ( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> )) + ( 3 &lt;&lt; <a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a> );
00494                                         *output3 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a>)((My_OutputLut[aVal] * ( (1&lt;&lt;( <a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> - LH_DATA_SHR_CORR )) - ko ) + My_OutputLut[aVal +1] * ko)&gt;&gt;(<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a> - LH_DATA_SHR_CORR) );
00495 <span class="preprocessor">                                                #endif</span>
00496 <span class="preprocessor"></span>                                                
00497 <span class="preprocessor">                                                #else</span>
00498 <span class="preprocessor"></span>                                                *output0 = My_OutputLut[(( paNewVal0[0])&gt;&gt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a>) + (0&lt;&lt;<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a>)]&gt;&gt;8;
00499                                                 paNewVal0++;
00500                                                 *output1 = My_OutputLut[(( paNewVal0[0])&gt;&gt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a>) + (1&lt;&lt;<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a>)]&gt;&gt;8;
00501                                                 paNewVal0++;
00502                                                 *output2 = My_OutputLut[(( paNewVal0[0])&gt;&gt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a>) + (2&lt;&lt;<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a>)]&gt;&gt;8;
00503 <span class="preprocessor">                                                #if LH_DATA_OUT_COUNT_4</span>
00504 <span class="preprocessor"></span>                                                paNewVal0++;
00505                                                 *output3 = My_OutputLut[(( paNewVal0[0])&gt;&gt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a>) + (3&lt;&lt;<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a>)]&gt;&gt;8;
00506 <span class="preprocessor">                                                #endif</span>
00507 <span class="preprocessor"></span><span class="preprocessor">                                                #endif</span>
00508 <span class="preprocessor"></span>                                                
00509 <span class="preprocessor">                                                #else</span>
00510 <span class="preprocessor"></span>                                                *output0 = My_OutputLut[(( paNewVal0[0])&lt;&lt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a>) + (0&lt;&lt;<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a>)];
00511                                                 paNewVal0++;
00512                                                 *output1 = My_OutputLut[(( paNewVal0[0])&lt;&lt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a>) + (1&lt;&lt;<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a>)];
00513                                                 paNewVal0++;
00514                                                 *output2 = My_OutputLut[(( paNewVal0[0])&lt;&lt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a>) + (2&lt;&lt;<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a>)];
00515 <span class="preprocessor">                                                #if LH_DATA_OUT_COUNT_4</span>
00516 <span class="preprocessor"></span>                                                paNewVal0++;
00517                                                 *output3 = My_OutputLut[(( paNewVal0[0])&lt;&lt;<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a10">LH_DATA_SHR</a>) + (3&lt;&lt;<a class="code" href="../../d1/d9/lh__core_2gen_8c.html#a1">LH_ADR_BREIT_AUS_LUT</a>)];
00518 <span class="preprocessor">                                                #endif</span>
00519 <span class="preprocessor"></span><span class="preprocessor">                                                #endif</span>
00520 <span class="preprocessor"></span>
00521 <span class="preprocessor">                        #if LH_DATA_OUT_SIZE_16 &amp;&amp; ! LH_LUT_DATA_SIZE_16</span>
00522 <span class="preprocessor"></span>                        *output0 |= (*output0 &lt;&lt; 8);
00523                         *output1 |= (*output1 &lt;&lt; 8);
00524                         *output2 |= (*output2 &lt;&lt; 8);
00525 <span class="preprocessor">                        #if LH_DATA_OUT_COUNT_4</span>
00526 <span class="preprocessor"></span>                        *output3 |= (*output3 &lt;&lt; 8);
00527 <span class="preprocessor">                        #endif</span>
00528 <span class="preprocessor"></span><span class="preprocessor">                        #endif</span>
00529 <span class="preprocessor"></span>                        
00530                         <span class="keywordflow">if</span> (Mode == <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a1">LH_CALC_ENGINE_P_TO_P</a>)
00531                         {
00532                                 <span class="keywordflow">while</span> (--i)
00533                                 {
00534                                         input0 += inputOffset;
00535                                         input1 += inputOffset;
00536                                         input2 += inputOffset;
00537                                         output0 += outputOffset;
00538                                         output1 += outputOffset;
00539                                         output2 += outputOffset;
00540 <span class="preprocessor">                                        #if LH_DATA_OUT_COUNT_4</span>
00541 <span class="preprocessor"></span>                                        output3 += outputOffset;
00542 <span class="preprocessor">                                        #endif</span>
00543 <span class="preprocessor"></span>
00544                                         <span class="keywordflow">if</span> ((*input0 ^ ein_cache[0]) || (*input1 ^ ein_cache[1]) || (*input2 ^ ein_cache[2]))
00545                                         {
00546                                                 <span class="keywordflow">break</span>;
00547                                         }
00548                                         *output0 = output0[-outputOffset];
00549                                         *output1 = output1[-outputOffset];
00550                                         *output2 = output2[-outputOffset];
00551 <span class="preprocessor">                                        #if LH_DATA_OUT_COUNT_4</span>
00552 <span class="preprocessor"></span>                                        *output3 = output3[-outputOffset];
00553 <span class="preprocessor">                                        #endif</span>
00554 <span class="preprocessor"></span>                                }
00555                         }
00556                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Mode == <a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a2">LH_CALC_ENGINE_P_TO_U</a>)
00557                         {
00558 <span class="preprocessor">                                #if LH_DATA_OUT_COUNT_4</span>
00559 <span class="preprocessor"></span>                                *output4 &amp;= Mask;
00560 <span class="preprocessor">                                #else</span>
00561 <span class="preprocessor"></span>                                *output3 &amp;= Mask;
00562 <span class="preprocessor">                                #endif</span>
00563 <span class="preprocessor"></span>                                <span class="keywordflow">while</span> (--i)
00564                                 {
00565                                         input0 += inputOffset;
00566                                         input1 += inputOffset;
00567                                         input2 += inputOffset;
00568                                         output0 += outputOffset;
00569                                         output1 += outputOffset;
00570                                         output2 += outputOffset;
00571                                         output3 += outputOffset;
00572 <span class="preprocessor">                                        #if LH_DATA_OUT_COUNT_4</span>
00573 <span class="preprocessor"></span>                                        output4 += outputOffset;
00574 <span class="preprocessor">                                        #endif</span>
00575 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span> ((*input0 ^ ein_cache[0]) || (*input1 ^ ein_cache[1]) || (*input2 ^ ein_cache[2]))
00576                                         {
00577                                                 <span class="keywordflow">break</span>;
00578                                         }
00579                                         *output0 = output0[-outputOffset];
00580                                         *output1 = output1[-outputOffset];
00581                                         *output2 = output2[-outputOffset];
00582 <span class="preprocessor">                                        #if LH_DATA_OUT_COUNT_4</span>
00583 <span class="preprocessor"></span>                                        *output3 = output3[-outputOffset];
00584                                         *output4 &amp;= Mask;
00585 <span class="preprocessor">                                        #else</span>
00586 <span class="preprocessor"></span>                                        *output3 &amp;= Mask;
00587 <span class="preprocessor">                                        #endif</span>
00588 <span class="preprocessor"></span>                                }
00589                         }
00590                         <span class="keywordflow">else</span>
00591                         {
00592 <span class="preprocessor">                                #if LH_DATA_OUT_COUNT_4</span>
00593 <span class="preprocessor"></span>                                *output4 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a>)*input3;
00594 <span class="preprocessor">                                #else</span>
00595 <span class="preprocessor"></span>                                *output3 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a>)*input3;
00596 <span class="preprocessor">                                #endif</span>
00597 <span class="preprocessor"></span>                                <span class="keywordflow">while</span> (--i)
00598                                 {                                                               <span class="comment">/*U_TO_U*/</span>
00599                                         input0 += inputOffset;
00600                                         input1 += inputOffset;
00601                                         input2 += inputOffset;
00602                                         input3 += inputOffset;
00603 
00604                                         output0 += outputOffset;
00605                                         output1 += outputOffset;
00606                                         output2 += outputOffset;
00607                                         output3 += outputOffset;
00608 <span class="preprocessor">                                        #if LH_DATA_OUT_COUNT_4</span>
00609 <span class="preprocessor"></span>                                        output4 += outputOffset;
00610 <span class="preprocessor">                                        #endif</span>
00611 <span class="preprocessor"></span>                                        <span class="keywordflow">if</span> ((*input0 ^ ein_cache[0]) || (*input1 ^ ein_cache[1]) || (*input2 ^ ein_cache[2]))
00612                                         {
00613                                                 <span class="keywordflow">break</span>;
00614                                         }
00615                                         *output0 = output0[-outputOffset];
00616                                         *output1 = output1[-outputOffset];
00617                                         *output2 = output2[-outputOffset];
00618 <span class="preprocessor">                                        #if LH_DATA_OUT_COUNT_4</span>
00619 <span class="preprocessor"></span>                                        *output3 = output3[-outputOffset];
00620                                         *output4 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a>)*input3;
00621 <span class="preprocessor">                                        #else</span>
00622 <span class="preprocessor"></span>                                        *output3 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a>)*input3;
00623 <span class="preprocessor">                                        #endif</span>
00624 <span class="preprocessor"></span>                                }
00625                         }
00626                 }
00627                 <span class="keywordflow">if</span> (--LineCount)
00628                 {
00629                         j++;
00630                         input0 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> *)((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;inputData[0] + j * calcParam-&gt;cmInputBytesPerLine);
00631                         input1 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> *)((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;inputData[1] + j * calcParam-&gt;cmInputBytesPerLine);
00632                         input2 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> *)((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;inputData[2] + j * calcParam-&gt;cmInputBytesPerLine);
00633                         input3 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a0">LH_DATA_IN_TYPE</a> *)((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;inputData[3] + j * calcParam-&gt;cmInputBytesPerLine);
00634 
00635                         output0 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> *)((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;outputData[0] + j * calcParam-&gt;cmOutputBytesPerLine);
00636                         output1 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> *)((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;outputData[1] + j * calcParam-&gt;cmOutputBytesPerLine);
00637                         output2 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> *)((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;outputData[2] + j * calcParam-&gt;cmOutputBytesPerLine);
00638                         output3 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> *)((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;outputData[3] + j * calcParam-&gt;cmOutputBytesPerLine);
00639 <span class="preprocessor">                        #if LH_DATA_OUT_COUNT_4</span>
00640 <span class="preprocessor"></span>                        output4 = (<a class="code" href="../../d2/d6/lh__core_2engine_8c.html#a1">LH_DATA_OUT_TYPE</a> *)((<a class="code" href="../../d0/d3/lh__core_2calcenf_8h.html#a5">LH_UINT8</a> *)calcParam-&gt;outputData[4] + j * calcParam-&gt;cmOutputBytesPerLine);
00641 <span class="preprocessor">                        #endif</span>
00642 <span class="preprocessor"></span>                }
00643         }
00644         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a2">LH_END_PROC</a>(LH_CALC_PROC_NAME)
00645         return 0;
00646 }
00647 #endif
00648 #undef LH_CALC_PROC_NAME
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:39:56 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
