<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: exp.h File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>exp.h File Reference</h1><code>#include "<a class="el" href="../../d0/d8/ntos_8h-source.html">ntos.h</a>"</code><br>
<code>#include "zwapi.h"</code><br>
<code>#include "wdbgexts.h"</code><br>
<code>#include "ntdbg.h"</code><br>
<code>#include "<a class="el" href="../../d1/d9/ki_8h-source.html">ki.h</a>"</code><br>
<code>#include "stdio.h"</code><br>
<code>#include "<a class="el" href="../../d5/d1/pool_8h-source.html">pool.h</a>"</code><br>

<p>
<a href="../../d5/d9/exp_8h-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d9/structEXP__INITIALIZE__GLOBAL__CALLBACKS.html">EXP_INITIALIZE_GLOBAL_CALLBACKS</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/struct__EXP__LICENSE__INFO.html">_EXP_LICENSE_INFO</a></td></tr>

<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a0">NOEXTAPI</a></td></tr>

<tr><td colspan=2><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d2/d9/struct__EXP__LICENSE__INFO.html">_EXP_LICENSE_INFO</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a1">EXP_LICENSE_INFO</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d2/d9/struct__EXP__LICENSE__INFO.html">_EXP_LICENSE_INFO</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a2">PEXP_LICENSE_INFO</a></td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a18">ExpWorkerInitialization</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a19">ExpEventInitialization</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a20">ExpEventPairInitialization</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a21">ExpMutantInitialization</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a22">ExpSemaphoreInitialization</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a23">ExpTimerInitialization</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a24">ExpWin32Initialization</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a25">ExpResourceInitialization</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PVOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a26">ExpCheckForResource</a> (IN PVOID p, IN ULONG <a class="el" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a0">Size</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a27">ExpInitSystemPhase0</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a28">ExpInitSystemPhase1</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a29">ExpProfileInitialization</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a30">ExpUuidInitialization</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a31">ExpProfileDelete</a> (IN PVOID Object)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a32">ExpInitializeCallbacks</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a33">ExpSysEventInitialization</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a34">ExpCheckSystemInfoWork</a> (IN PVOID Context)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a35">ExInitSystemPhase2</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a36">ExpCheckSystemInformation</a> (PVOID Context, PVOID InformationClass, PVOID Argument2)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a37">ExpTimeZoneWork</a> (IN PVOID Context)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a38">ExpTimeRefreshDpcRoutine</a> (IN <a class="el" href="../../d1/d6/struct__KDPC.html">PKDPC</a> Dpc, IN PVOID DeferredContext, IN PVOID SystemArgument1, IN PVOID SystemArgument2)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a39">ExpTimeRefreshWork</a> (IN PVOID Context)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a40">ExpTimeZoneDpcRoutine</a> (IN <a class="el" href="../../d1/d6/struct__KDPC.html">PKDPC</a> Dpc, IN PVOID DeferredContext, IN PVOID SystemArgument1, IN PVOID SystemArgument2)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a41">ExInitializeTimeRefresh</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a42">ExpExpirationThread</a> (IN PVOID StartContext)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>ULONG&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a43">ExpComputeTickCountMultiplier</a> (IN ULONG TimeIncrement)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a44">ExpWatchProductTypeInitialization</a> (VOID)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a45">ExpWatchProductTypeWork</a> (IN PVOID Context)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a46">ExpWatchLicenseInfoWork</a> (IN PVOID Context)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a47">ExpWatchSystemPrefixWork</a> (IN PVOID Context)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a48">ExpWatchExpirationDataWork</a> (IN PVOID Context)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PVOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a49">ExpCheckForWorker</a> (IN PVOID p, IN ULONG <a class="el" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a0">Size</a>)</td></tr>

<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>ULONG&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a3">ExpNtExpirationData</a> [3]</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a4">ExpSetupModeDetected</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>LARGE_INTEGER&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a5">ExpSetupSystemPrefix</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>HANDLE&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a6">ExpSetupKey</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a7">ExpSystemPrefixValid</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>WCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a8">ExpWstrCallback</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d1/d9/structEXP__INITIALIZE__GLOBAL__CALLBACKS.html">EXP_INITIALIZE_GLOBAL_CALLBACKS</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a9">ExpInitializeCallback</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d6/d9/struct__FAST__MUTEX.html">FAST_MUTEX</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a10">ExpEnvironmentLock</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d1/d4/struct__NPAGED__LOOKASIDE__LIST.html">NPAGED_LOOKASIDE_LIST</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a11">ExpSmallPagedPoolLookasideLists</a> [POOL_SMALL_LISTS]</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d1/d4/struct__NPAGED__LOOKASIDE__LIST.html">NPAGED_LOOKASIDE_LIST</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a12">ExpSmallNPagedPoolLookasideLists</a> [POOL_SMALL_LISTS]</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>LIST_ENTRY&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a13">ExNPagedLookasideListHead</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>KSPIN_LOCK&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a14">ExNPagedLookasideLock</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>LIST_ENTRY&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a15">ExPagedLookasideListHead</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>KSPIN_LOCK&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a16">ExPagedLookasideLock</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>LIST_ENTRY&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/exp_8h.html#a17">ExPoolLookasideListHead</a></td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a0" doxytag="exp.h::NOEXTAPI" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define NOEXTAPI          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d9/exp_8h-source.html#l00031">31</a> of file <a class="el" href="../../d5/d9/exp_8h-source.html">exp.h</a>.    </td>
  </tr>
</table>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="a1" doxytag="exp.h::EXP_LICENSE_INFO" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d2/d9/struct__EXP__LICENSE__INFO.html">_EXP_LICENSE_INFO</a>  <a class="el" href="../../d2/d9/struct__EXP__LICENSE__INFO.html">EXP_LICENSE_INFO</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="exp.h::PEXP_LICENSE_INFO" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d2/d9/struct__EXP__LICENSE__INFO.html">_EXP_LICENSE_INFO</a> * <a class="el" href="../../d2/d9/struct__EXP__LICENSE__INFO.html">PEXP_LICENSE_INFO</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a41" doxytag="exp.h::ExInitializeTimeRefresh" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID ExInitializeTimeRefresh           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a35" doxytag="exp.h::ExInitSystemPhase2" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID ExInitSystemPhase2           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a26" doxytag="exp.h::ExpCheckForResource" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PVOID ExpCheckForResource           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PVOID&nbsp;</td>
          <td class="mdname" nowrap> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Size</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d9/d7/ex_2resource_8c-source.html#l02894">2894</a> of file <a class="el" href="../../d9/d7/ex_2resource_8c-source.html">ex/resource.c</a>.
<p>
References <a class="el" href="../../d7/d5/memprint_8h-source.html#l00079">DbgPrint</a>, <a class="el" href="../../d9/d7/ex_2resource_8c-source.html#l00114">ExpResourceSpinLock</a>, <a class="el" href="../../d8/d3/ddkresrc_8c-source.html#l00157">ExpSystemResourcesList</a>, <a class="el" href="../../d5/d8/ke_8h-source.html#l02776">KeNumberProcessors</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d5/d9/tex_8c-source.html#l01561">Resource</a>, and <a class="el" href="../../d9/d6/lh__open_2pi__mem_8h-source.html#l00017">Size</a>.
<p>
Referenced by <a class="el" href="../../d3/d1/ex_2pool_8c-source.html#l03892">ExFreePoolSanityChecks()</a>, and <a class="el" href="../../d9/d7/sysload_8c-source.html#l02896">MmUnloadSystemImage()</a>.
<p>
<pre class="fragment"><div>02899 {
02900 
02901     KIRQL OldIrql;
02902     PLIST_ENTRY Head, Next;
02903     <a class="code" href="../../d6/d4/struct__ERESOURCE.html">PERESOURCE</a> <a class="code" href="../../d4/d0/tex_8c.html#a21">Resource</a>;
02904     PCHAR BeginBlock;
02905     PCHAR EndBlock;
02906 
02907     <span class="comment">//</span>
02908     <span class="comment">// This can cause a deadlock on MP machines.</span>
02909     <span class="comment">//</span>
02910 
02911     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d9/ke_8h.html#a133">KeNumberProcessors</a> &gt; 1) {
02912         <span class="keywordflow">return</span> <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
02913     }
02914 
02915     BeginBlock = (PCHAR)p;
02916     EndBlock = (PCHAR)p + <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a0">Size</a>;
02917 
02918     ExAcquireSpinLock( &amp;ExpResourceSpinLock, &amp;OldIrql );
02919     Head = &amp;<a class="code" href="../../d7/d4/ddkresrc_8c.html#a17">ExpSystemResourcesList</a>;
02920     Next = Head-&gt;Flink;
02921     <span class="keywordflow">while</span> (Next != Head) {
02922         <a class="code" href="../../d4/d0/tex_8c.html#a21">Resource</a> = CONTAINING_RECORD( Next,
02923                                       <a class="code" href="../../d6/d4/struct__ERESOURCE.html">ERESOURCE</a>,
02924                                       SystemResourcesList
02925                                     );
02926 
02927         <span class="keywordflow">if</span> ((PCHAR)<a class="code" href="../../d4/d0/tex_8c.html#a21">Resource</a> &gt;= BeginBlock &amp;&amp; (PCHAR)<a class="code" href="../../d4/d0/tex_8c.html#a21">Resource</a> &lt; EndBlock) {
02928             <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>( <span class="stringliteral">"EX: ExFreePool( %lx, %lx ) contains an ERESOURCE structure that has not been ExDeleteResourced\n"</span>,
02929                       p, Size
02930                     );
02931             DbgBreakPoint();
02932             ExReleaseSpinLock( &amp;ExpResourceSpinLock, OldIrql );
02933             <span class="keywordflow">return</span> (PVOID)<a class="code" href="../../d4/d0/tex_8c.html#a21">Resource</a>;
02934         }
02935 
02936         Next = Next-&gt;Flink;
02937     }
02938 
02939     ExReleaseSpinLock( &amp;ExpResourceSpinLock, OldIrql );
02940     <span class="keywordflow">return</span> <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
02941 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a49" doxytag="exp.h::ExpCheckForWorker" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PVOID ExpCheckForWorker           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PVOID&nbsp;</td>
          <td class="mdname" nowrap> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Size</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d8/worker_8c-source.html#l01097">1097</a> of file <a class="el" href="../../d2/d8/worker_8c-source.html">worker.c</a>.
<p>
References <a class="el" href="../../d5/d8/ex_8h.html#a332a205">CriticalWorkQueue</a>, <a class="el" href="../../d5/d8/ke_8h-source.html#l00499">_KQUEUE::EntryListHead</a>, <a class="el" href="../../d2/d8/worker_8c-source.html#l00086">ExWorkerQueue</a>, <a class="el" href="../../d0/d1/bugcheck_8c-source.html#l00428">KeBugCheckEx()</a>, <a class="el" href="../../d5/d8/ke_8h-source.html#l01907">KiLockDispatcherDatabase</a>, <a class="el" href="../../d0/d0/ki_8h.html#a84">KiUnlockDispatcherDatabase()</a>, <a class="el" href="../../d5/d8/ex_8h.html#a332a208">MaximumWorkQueue</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d9/d6/lh__open_2pi__mem_8h-source.html#l00017">Size</a>, <a class="el" href="../../d5/d8/ex_8h.html#a110">WORK_QUEUE_TYPE</a>, and <a class="el" href="../../d6/d7/ex_8h-source.html#l01990">_EX_WORK_QUEUE::WorkerQueue</a>.
<p>
<pre class="fragment"><div>01102 {
01103     KIRQL OldIrql;
01104     PLIST_ENTRY Entry;
01105     PCHAR BeginBlock;
01106     PCHAR EndBlock;
01107     <a class="code" href="../../d5/d8/ex_8h.html#a110">WORK_QUEUE_TYPE</a> wqt;
01108 
01109     BeginBlock = (PCHAR)p;
01110     EndBlock = (PCHAR)p + <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a0">Size</a>;
01111 
01112     <a class="code" href="../../d4/d9/ke_8h.html#a36">KiLockDispatcherDatabase</a> (&amp;OldIrql);
01113     <span class="keywordflow">for</span> (wqt = <a class="code" href="../../d5/d8/ex_8h.html#a332a205">CriticalWorkQueue</a>; wqt &lt; <a class="code" href="../../d5/d8/ex_8h.html#a332a208">MaximumWorkQueue</a>; wqt++) {
01114         <span class="keywordflow">for</span> (Entry = (PLIST_ENTRY) <a class="code" href="../../d1/d9/worker_8c.html#a12">ExWorkerQueue</a>[wqt].<a class="code" href="../../d8/d7/struct__EX__WORK__QUEUE.html#o0">WorkerQueue</a>.<a class="code" href="../../d7/d7/struct__KQUEUE.html#o1">EntryListHead</a>.Flink;
01115              Entry &amp;&amp; (Entry != (PLIST_ENTRY) &amp;<a class="code" href="../../d1/d9/worker_8c.html#a12">ExWorkerQueue</a>[wqt].<a class="code" href="../../d8/d7/struct__EX__WORK__QUEUE.html#o0">WorkerQueue</a>.<a class="code" href="../../d7/d7/struct__KQUEUE.html#o1">EntryListHead</a>);
01116              Entry = Entry-&gt;Flink) {
01117            <span class="keywordflow">if</span> (((PCHAR) Entry &gt;= BeginBlock) &amp;&amp; ((PCHAR) Entry &lt; EndBlock)) {
01118               <a class="code" href="../../d9/d1/bugcheck_8c.html#a19">KeBugCheckEx</a>(WORKER_INVALID,
01119                            0x0,
01120                            (ULONG_PTR)Entry,
01121                            (ULONG_PTR)BeginBlock,
01122                            (ULONG_PTR)EndBlock);
01123  
01124            }
01125         }
01126     }
01127     <a class="code" href="../../d0/d0/ki_8h.html#a84">KiUnlockDispatcherDatabase</a> (OldIrql);
01128 
01129     <span class="keywordflow">return</span> <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01130 }</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a36" doxytag="exp.h::ExpCheckSystemInformation" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID ExpCheckSystemInformation           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PVOID&nbsp;</td>
          <td class="mdname" nowrap> <em>Context</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PVOID&nbsp;</td>
          <td class="mdname" nowrap> <em>InformationClass</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PVOID&nbsp;</td>
          <td class="mdname" nowrap> <em>Argument2</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a34" doxytag="exp.h::ExpCheckSystemInfoWork" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID ExpCheckSystemInfoWork           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PVOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>Context</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a43" doxytag="exp.h::ExpComputeTickCountMultiplier" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ULONG ExpComputeTickCountMultiplier           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN ULONG&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>TimeIncrement</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a19" doxytag="exp.h::ExpEventInitialization" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN ExpEventInitialization           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a20" doxytag="exp.h::ExpEventPairInitialization" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN ExpEventPairInitialization           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a42" doxytag="exp.h::ExpExpirationThread" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID ExpExpirationThread           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PVOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>StartContext</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a32" doxytag="exp.h::ExpInitializeCallbacks" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN ExpInitializeCallbacks           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a27" doxytag="exp.h::ExpInitSystemPhase0" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN ExpInitSystemPhase0           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a28" doxytag="exp.h::ExpInitSystemPhase1" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN ExpInitSystemPhase1           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a21" doxytag="exp.h::ExpMutantInitialization" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN ExpMutantInitialization           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a31" doxytag="exp.h::ExpProfileDelete" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID ExpProfileDelete           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PVOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>Object</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d6/ex_2profile_8c-source.html#l00145">145</a> of file <a class="el" href="../../d0/d6/ex_2profile_8c-source.html">ex/profile.c</a>.
<p>
References <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00146">ASSERT</a>, <a class="el" href="../../d7/d2/cmwraper_8c-source.html#l00304">ExFreePool()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d1/d7/profobj_8c-source.html#l00520">KeStopProfile()</a>, <a class="el" href="../../d0/d6/ex_2profile_8c-source.html#l00040">_EPROFILE::LockedBufferAddress</a>, <a class="el" href="../../d0/d6/ex_2profile_8c-source.html#l00041">_EPROFILE::Mdl</a>, <a class="el" href="../../d6/d5/iosup_8c-source.html#l01347">MmUnlockPages()</a>, <a class="el" href="../../d6/d5/iosup_8c-source.html#l03124">MmUnmapLockedPages()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d5/d9/ob_8h-source.html#l00494">ObDereferenceObject</a>, <a class="el" href="../../d9/d6/ex_2profile_8c.html#a2">PEPROFILE</a>, <a class="el" href="../../d0/d6/ex_2profile_8c-source.html#l00033">_EPROFILE::Process</a>, and <a class="el" href="../../d0/d6/ex_2profile_8c-source.html#l00039">_EPROFILE::ProfileObject</a>.
<p>
Referenced by <a class="el" href="../../d0/d6/ex_2profile_8c-source.html#l00079">ExpProfileInitialization()</a>.
<p>
<pre class="fragment"><div>00151                    :
00152 
00153 
00154     This routine <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> called by <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> object management procedures whenever
00155     <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> last reference to a profile object has been removed.  This routine
00156     stops profiling, returns locked buffers and pages, dereferences <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a>
00157     specified process and returns.
00158 
00159 Arguments:
00160 
00161     Object - a pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> body of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> profile object.
00162 
00163 Return Value:
00164 
00165     None.
00166 
00167 --*/
00168 
00169 {
00170     <a class="code" href="../../d5/d4/struct__EPROFILE.html">PEPROFILE</a> Profile;
00171     BOOLEAN   State;
00172     <a class="code" href="../../d0/d4/struct__EPROCESS.html">PEPROCESS</a> ProcessAddress;
00173 
00174     Profile = (<a class="code" href="../../d5/d4/struct__EPROFILE.html">PEPROFILE</a>)Object;
00175 
00176     <span class="keywordflow">if</span> (Profile-&gt;<a class="code" href="../../d5/d4/struct__EPROFILE.html#o7">LockedBufferAddress</a> != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00177 
00178         <span class="comment">//</span>
00179         <span class="comment">// Stop profiling and unlock the buffers and deallocate pool.</span>
00180         <span class="comment">//</span>
00181 
00182         State = <a class="code" href="../../d0/d8/profobj_8c.html#a9">KeStopProfile</a> (Profile-&gt;<a class="code" href="../../d5/d4/struct__EPROFILE.html#o6">ProfileObject</a>);
00183         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a> (State != FALSE);
00184 
00185         <a class="code" href="../../d5/d6/iosup_8c.html#a56">MmUnmapLockedPages</a> (Profile-&gt;<a class="code" href="../../d5/d4/struct__EPROFILE.html#o7">LockedBufferAddress</a>, Profile-&gt;<a class="code" href="../../d5/d4/struct__EPROFILE.html#o8">Mdl</a>);
00186         <a class="code" href="../../d5/d6/iosup_8c.html#a45">MmUnlockPages</a> (Profile-&gt;<a class="code" href="../../d5/d4/struct__EPROFILE.html#o8">Mdl</a>);
00187         <a class="code" href="../../d5/d8/ex_8h.html#a224">ExFreePool</a> (Profile-&gt;<a class="code" href="../../d5/d4/struct__EPROFILE.html#o6">ProfileObject</a>);
00188     }
00189 
00190     <span class="keywordflow">if</span> (Profile-&gt;<a class="code" href="../../d5/d4/struct__EPROFILE.html#o0">Process</a> != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00191         ProcessAddress = CONTAINING_RECORD(Profile-&gt;<a class="code" href="../../d5/d4/struct__EPROFILE.html#o0">Process</a>, <a class="code" href="../../d0/d4/struct__EPROCESS.html">EPROCESS</a>, Pcb);
00192         <a class="code" href="../../d4/d0/ob_8h.html#a14">ObDereferenceObject</a> ((PVOID)ProcessAddress);
00193     }
00194 
00195     <span class="keywordflow">return</span>;
00196 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a29" doxytag="exp.h::ExpProfileInitialization" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN ExpProfileInitialization           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d0/d6/ex_2profile_8c-source.html#l00079">79</a> of file <a class="el" href="../../d0/d6/ex_2profile_8c-source.html">ex/profile.c</a>.
<p>
References <a class="el" href="../../d0/d6/ex_2profile_8c-source.html#l00145">ExpProfileDelete()</a>, <a class="el" href="../../d0/d6/ex_2profile_8c-source.html#l00057">ExpProfileMapping</a>, <a class="el" href="../../d0/d6/ex_2profile_8c-source.html#l00053">ExpProfileStateMutex</a>, <a class="el" href="../../d0/d6/ex_2profile_8c-source.html#l00051">ExProfileObjectType</a>, <a class="el" href="../../d4/d4/mutntobj_8c-source.html#l00099">KeInitializeMutex()</a>, <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>, <a class="el" href="../../d4/d9/exlevels_8h-source.html#l00013">MUTEX_LEVEL_EX_PROFILE</a>, <a class="el" href="../../d5/d8/ex_8h.html#a329a173">NonPagedPool</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d1/d1/obtype_8c-source.html#l00069">ObCreateObjectType()</a>, <a class="el" href="../../d3/d6/string_8c-source.html#l00148">RtlInitUnicodeString()</a>, and <a class="el" href="../../d3/d0/cttoken_8c-source.html#l00135">Status</a>.
<p>
<pre class="fragment"><div>00084                    :
00085 
00086     This function creates <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> profile object <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a> descriptor at system
00087     initialization and stores <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> address of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> object <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a> descriptor
00088     in global storage.
00089 
00090 Arguments:
00091 
00092     None.
00093 
00094 Return Value:
00095 
00096     <a class="code" href="../../d2/d1/bench_8h.html#a5">A</a> value of <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> returned <span class="keywordflow">if</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> profile object <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a> descriptor <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a>
00097     successfully initialized. Otherwise a value of <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a> <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> returned.
00098 
00099 --*/
00100 
00101 {
00102 
00103     <a class="code" href="../../d5/d6/struct__OBJECT__TYPE__INITIALIZER.html">OBJECT_TYPE_INITIALIZER</a> ObjectTypeInitializer;
00104     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
00105     UNICODE_STRING TypeName;
00106 
00107     <span class="comment">//</span>
00108     <span class="comment">// Initialize mutex for synchronizing start and stop operations.</span>
00109     <span class="comment">//</span>
00110 
00111     <a class="code" href="../../d3/d5/mutntobj_8c.html#a2">KeInitializeMutex</a> (&amp;ExpProfileStateMutex, MUTEX_LEVEL_EX_PROFILE);
00112 
00113     <span class="comment">//</span>
00114     <span class="comment">// Initialize string descriptor.</span>
00115     <span class="comment">//</span>
00116 
00117     <a class="code" href="../../d2/d7/string_8c.html#a7">RtlInitUnicodeString</a>(&amp;TypeName, L<span class="stringliteral">"Profile"</span>);
00118 
00119     <span class="comment">//</span>
00120     <span class="comment">// Create event object type descriptor.</span>
00121     <span class="comment">//</span>
00122 
00123     RtlZeroMemory(&amp;ObjectTypeInitializer,<span class="keyword">sizeof</span>(ObjectTypeInitializer));
00124     ObjectTypeInitializer.<a class="code" href="../../d5/d6/struct__OBJECT__TYPE__INITIALIZER.html#o0">Length</a> = <span class="keyword">sizeof</span>(ObjectTypeInitializer);
00125     ObjectTypeInitializer.<a class="code" href="../../d5/d6/struct__OBJECT__TYPE__INITIALIZER.html#o3">InvalidAttributes</a> = OBJ_OPENLINK;
00126     ObjectTypeInitializer.<a class="code" href="../../d5/d6/struct__OBJECT__TYPE__INITIALIZER.html#o9">PoolType</a> = <a class="code" href="../../d5/d8/ex_8h.html#a329a173">NonPagedPool</a>;
00127     ObjectTypeInitializer.<a class="code" href="../../d5/d6/struct__OBJECT__TYPE__INITIALIZER.html#o11">DefaultNonPagedPoolCharge</a> = <span class="keyword">sizeof</span>(<a class="code" href="../../d5/d4/struct__EPROFILE.html">EPROFILE</a>);
00128     ObjectTypeInitializer.<a class="code" href="../../d5/d6/struct__OBJECT__TYPE__INITIALIZER.html#o5">ValidAccessMask</a> = PROFILE_ALL_ACCESS;
00129     ObjectTypeInitializer.<a class="code" href="../../d5/d6/struct__OBJECT__TYPE__INITIALIZER.html#o15">DeleteProcedure</a> = <a class="code" href="../../d4/d0/exp_8h.html#a31">ExpProfileDelete</a>;
00130     ObjectTypeInitializer.<a class="code" href="../../d5/d6/struct__OBJECT__TYPE__INITIALIZER.html#o4">GenericMapping</a> = <a class="code" href="../../d9/d6/ex_2profile_8c.html#a6">ExpProfileMapping</a>;
00131 
00132     <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d0/d2/obtype_8c.html#a2">ObCreateObjectType</a>(&amp;TypeName,
00133                                 &amp;ObjectTypeInitializer,
00134                                 (PSECURITY_DESCRIPTOR)NULL,
00135                                 &amp;ExProfileObjectType);
00136 
00137     <span class="comment">//</span>
00138     <span class="comment">// If the event object type descriptor was successfully created, then</span>
00139     <span class="comment">// return a value of TRUE. Otherwise return a value of FALSE.</span>
00140     <span class="comment">//</span>
00141 
00142     <span class="keywordflow">return</span> (BOOLEAN)(<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(Status));
00143 }
<a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a25" doxytag="exp.h::ExpResourceInitialization" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN ExpResourceInitialization           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d9/d7/ex_2resource_8c-source.html#l00150">150</a> of file <a class="el" href="../../d9/d7/ex_2resource_8c-source.html">ex/resource.c</a>.
<p>
References <a class="el" href="../../d6/d7/ex_8h-source.html#l02323">_RESOURCE_PERFORMANCE_DATA::ActiveResourceCount</a>, <a class="el" href="../../d6/d7/ex_8h-source.html#l02325">_RESOURCE_PERFORMANCE_DATA::ExclusiveAcquire</a>, <a class="el" href="../../d9/d7/ex_2resource_8c-source.html#l00114">ExpResourceSpinLock</a>, <a class="el" href="../../d8/d3/ddkresrc_8c-source.html#l00157">ExpSystemResourcesList</a>, <a class="el" href="../../d8/d3/ddkresrc_8c-source.html#l00035">ExpTimeout</a>, <a class="el" href="../../d6/d7/ex_8h-source.html#l02333">_RESOURCE_PERFORMANCE_DATA::HashTable</a>, <a class="el" href="../../d2/d9/cmchek_8c-source.html#l00095">Index</a>, <a class="el" href="../../d4/d9/ke_8h.html#a354">KeInitializeSpinLock()</a>, <a class="el" href="../../d6/d7/ex_8h-source.html#l02332">_RESOURCE_PERFORMANCE_DATA::MaximumTableExpand</a>, <a class="el" href="../../d6/d7/ex_8h-source.html#l02331">_RESOURCE_PERFORMANCE_DATA::OwnerTableExpands</a>, <a class="el" href="../../d6/d7/ex_8h-source.html#l02313">RESOURCE_HASH_TABLE_SIZE</a>, <a class="el" href="../../d6/d7/ex_8h-source.html#l02326">_RESOURCE_PERFORMANCE_DATA::SharedFirstLevel</a>, <a class="el" href="../../d6/d7/ex_8h-source.html#l02327">_RESOURCE_PERFORMANCE_DATA::SharedSecondLevel</a>, <a class="el" href="../../d6/d7/ex_8h-source.html#l02328">_RESOURCE_PERFORMANCE_DATA::StarveFirstLevel</a>, <a class="el" href="../../d6/d7/ex_8h-source.html#l02329">_RESOURCE_PERFORMANCE_DATA::StarveSecondLevel</a>, <a class="el" href="../../d6/d7/ex_8h-source.html#l02324">_RESOURCE_PERFORMANCE_DATA::TotalResourceCount</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d6/d7/ex_8h-source.html#l02330">_RESOURCE_PERFORMANCE_DATA::WaitForExclusive</a>.
<p>
<pre class="fragment"><div>00156                    :
00157 
00158     This function initializes global data during system initialization.
00159 
00160 Arguments:
00161 
00162     None.
00163 
00164 Return Value:
00165 
00166     BOOLEAN - <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>
00167 
00168 --*/
00169 
00170 {
00171 
00172     ULONG <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>;
00173 
00174     <span class="comment">//</span>
00175     <span class="comment">// Initialize resource timeout value, the system resource listhead,</span>
00176     <span class="comment">// and the resource spinlock.</span>
00177     <span class="comment">//</span>
00178 
00179     <a class="code" href="../../d7/d4/ddkresrc_8c.html#a14">ExpTimeout</a>.QuadPart = Int32x32To64(4 * 1000, -10000);
00180     InitializeListHead(&amp;ExpSystemResourcesList);
00181     <a class="code" href="../../d4/d9/ke_8h.html#a354">KeInitializeSpinLock</a>(&amp;ExpResourceSpinLock);
00182 
00183     <span class="comment">//</span>
00184     <span class="comment">// Initialize resource performance data.</span>
00185     <span class="comment">//</span>
00186 
00187 <span class="preprocessor">#if defined(_COLLECT_RESOURCE_DATA_)</span>
00188 <span class="preprocessor"></span>
00189     ExpResourcePerformanceData.ActiveResourceCount = 0;
00190     ExpResourcePerformanceData.TotalResourceCount = 0;
00191     ExpResourcePerformanceData.ExclusiveAcquire = 0;
00192     ExpResourcePerformanceData.SharedFirstLevel = 0;
00193     ExpResourcePerformanceData.SharedSecondLevel = 0;
00194     ExpResourcePerformanceData.StarveFirstLevel = 0;
00195     ExpResourcePerformanceData.StarveSecondLevel = 0;
00196     ExpResourcePerformanceData.WaitForExclusive = 0;
00197     ExpResourcePerformanceData.OwnerTableExpands = 0;
00198     ExpResourcePerformanceData.MaximumTableExpand = 0;
00199     <span class="keywordflow">for</span> (<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a> = 0; <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a> &lt; <a class="code" href="../../d5/d8/ex_8h.html#a65">RESOURCE_HASH_TABLE_SIZE</a>; <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a> += 1) {
00200         InitializeListHead(&amp;ExpResourcePerformanceData.HashTable[Index]);
00201     }
00202 
00203 <span class="preprocessor">#endif</span>
00204 <span class="preprocessor"></span>
00205     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00206 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a22" doxytag="exp.h::ExpSemaphoreInitialization" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN ExpSemaphoreInitialization           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a33" doxytag="exp.h::ExpSysEventInitialization" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN ExpSysEventInitialization           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a38" doxytag="exp.h::ExpTimeRefreshDpcRoutine" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID ExpTimeRefreshDpcRoutine           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d1/d6/struct__KDPC.html">PKDPC</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Dpc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PVOID&nbsp;</td>
          <td class="mdname" nowrap> <em>DeferredContext</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PVOID&nbsp;</td>
          <td class="mdname" nowrap> <em>SystemArgument1</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PVOID&nbsp;</td>
          <td class="mdname" nowrap> <em>SystemArgument2</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a39" doxytag="exp.h::ExpTimeRefreshWork" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID ExpTimeRefreshWork           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PVOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>Context</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a23" doxytag="exp.h::ExpTimerInitialization" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN ExpTimerInitialization           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a40" doxytag="exp.h::ExpTimeZoneDpcRoutine" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID ExpTimeZoneDpcRoutine           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d1/d6/struct__KDPC.html">PKDPC</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Dpc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PVOID&nbsp;</td>
          <td class="mdname" nowrap> <em>DeferredContext</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PVOID&nbsp;</td>
          <td class="mdname" nowrap> <em>SystemArgument1</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PVOID&nbsp;</td>
          <td class="mdname" nowrap> <em>SystemArgument2</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a37" doxytag="exp.h::ExpTimeZoneWork" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID ExpTimeZoneWork           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PVOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>Context</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a30" doxytag="exp.h::ExpUuidInitialization" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN ExpUuidInitialization           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a48" doxytag="exp.h::ExpWatchExpirationDataWork" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID ExpWatchExpirationDataWork           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PVOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>Context</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a46" doxytag="exp.h::ExpWatchLicenseInfoWork" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID ExpWatchLicenseInfoWork           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PVOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>Context</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a44" doxytag="exp.h::ExpWatchProductTypeInitialization" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN ExpWatchProductTypeInitialization           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a45" doxytag="exp.h::ExpWatchProductTypeWork" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID ExpWatchProductTypeWork           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PVOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>Context</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a47" doxytag="exp.h::ExpWatchSystemPrefixWork" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID ExpWatchSystemPrefixWork           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PVOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>Context</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a24" doxytag="exp.h::ExpWin32Initialization" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN ExpWin32Initialization           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="exp.h::ExpWorkerInitialization" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN ExpWorkerInitialization           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">VOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d2/d8/worker_8c-source.html#l00220">220</a> of file <a class="el" href="../../d2/d8/worker_8c-source.html">worker.c</a>.
<p>
References <a class="el" href="../../d5/d8/ex_8h.html#a332a205">CriticalWorkQueue</a>, <a class="el" href="../../d5/d8/ex_8h.html#a332a206">DelayedWorkQueue</a>, <a class="el" href="../../d2/d8/worker_8c-source.html#l00095">ExCriticalWorkerThreads</a>, <a class="el" href="../../d2/d8/worker_8c-source.html#l00096">ExDelayedWorkerThreads</a>, <a class="el" href="../../d9/d9/cmdat3_8c-source.html#l00106">ExpAdditionalCriticalWorkerThreads</a>, <a class="el" href="../../d9/d9/cmdat3_8c-source.html#l00107">ExpAdditionalDelayedWorkerThreads</a>, <a class="el" href="../../d2/d8/worker_8c-source.html#l00971">ExpCreateWorkerThread()</a>, <a class="el" href="../../d2/d8/worker_8c-source.html#l00431">ExpWorkerThreadBalanceManager()</a>, <a class="el" href="../../d2/d8/worker_8c-source.html#l00102">ExThreadSetManagerEvent</a>, <a class="el" href="../../d2/d8/worker_8c-source.html#l00086">ExWorkerQueue</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d8/ex_8h.html#a332a207">HyperCriticalWorkQueue</a>, <a class="el" href="../../d2/d9/cmchek_8c-source.html#l00095">Index</a>, <a class="el" href="../../d5/d8/ke_8h-source.html#l01066">KeInitializeEvent</a>, <a class="el" href="../../d9/d2/queueobj_8c-source.html#l00036">KeInitializeQueue()</a>, <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>, <a class="el" href="../../d2/d8/worker_8c-source.html#l00061">LARGE_NUMBER_OF_THREADS</a>, <a class="el" href="../../d6/d7/ex_8h-source.html#l02027">_EX_WORK_QUEUE::MakeThreadsAsNecessary</a>, <a class="el" href="../../d2/d8/worker_8c-source.html#l00056">MAX_ADDITIONAL_THREADS</a>, <a class="el" href="../../d5/d8/ex_8h.html#a332a208">MaximumWorkQueue</a>, <a class="el" href="../../d2/d8/worker_8c-source.html#l00060">MEDIUM_NUMBER_OF_THREADS</a>, <a class="el" href="../../d6/d0/mminit_8c-source.html#l03087">MmIsThisAnNtAsSystem()</a>, <a class="el" href="../../d2/d1/mm_8h.html#a343a167">MmLargeSystem</a>, <a class="el" href="../../d2/d1/mm_8h.html#a343a166">MmMediumSystem</a>, <a class="el" href="../../d3/d0/mm_8h-source.html#l00399">MmNumberOfPhysicalPages</a>, <a class="el" href="../../d6/d0/mminit_8c-source.html#l03073">MmQuerySystemSize()</a>, <a class="el" href="../../d2/d1/mm_8h.html#a343a165">MmSmallSystem</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d8/d9/ctlnpqos_8c-source.html#l00027">ObjectAttributes</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00599">PAGE_SIZE</a>, <a class="el" href="../../d3/d7/ps_2create_8c-source.html#l00175">PsCreateSystemThread()</a>, <a class="el" href="../../d2/d8/worker_8c-source.html#l00059">SMALL_NUMBER_OF_THREADS</a>, <a class="el" href="../../d3/d0/cttoken_8c-source.html#l00135">Status</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d5/d8/ex_8h.html#a110">WORK_QUEUE_TYPE</a>.
<p>
<pre class="fragment"><div>00224 {
00225 
00226     ULONG <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a>;
00227     OBJECT_ATTRIBUTES <a class="code" href="../../d7/d0/ctlnpqos_8c.html#a4">ObjectAttributes</a>;
00228     ULONG NumberOfDelayedThreads;
00229     ULONG NumberOfCriticalThreads;
00230     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
00231     HANDLE Thread;
00232     BOOLEAN NtAs;
00233     <a class="code" href="../../d5/d8/ex_8h.html#a110">WORK_QUEUE_TYPE</a> WorkQueueType;
00234 
00235     <span class="comment">//</span>
00236     <span class="comment">// Set the number of worker threads based on the system size.</span>
00237     <span class="comment">//</span>
00238 
00239     NtAs = <a class="code" href="../../d5/d1/mminit_8c.html#a58">MmIsThisAnNtAsSystem</a>();
00240     <span class="keywordflow">switch</span> (<a class="code" href="../../d5/d1/mminit_8c.html#a57">MmQuerySystemSize</a>()) {
00241     <span class="keywordflow">case</span> <a class="code" href="../../d2/d1/mm_8h.html#a343a165">MmSmallSystem</a>:
00242         NumberOfDelayedThreads = <a class="code" href="../../d1/d9/worker_8c.html#a6">MEDIUM_NUMBER_OF_THREADS</a>;
00243         <span class="keywordflow">if</span> (<a class="code" href="../../d2/d1/mm_8h.html#a136">MmNumberOfPhysicalPages</a> &gt; ((12*1024*1024)/<a class="code" href="../../d6/d7/halmips_8h.html#a446">PAGE_SIZE</a>) ) {
00244             NumberOfCriticalThreads = <a class="code" href="../../d1/d9/worker_8c.html#a6">MEDIUM_NUMBER_OF_THREADS</a>;
00245         } <span class="keywordflow">else</span> {
00246             NumberOfCriticalThreads = <a class="code" href="../../d1/d9/worker_8c.html#a5">SMALL_NUMBER_OF_THREADS</a>;
00247         }
00248         <span class="keywordflow">break</span>;
00249 
00250     <span class="keywordflow">case</span> <a class="code" href="../../d2/d1/mm_8h.html#a343a166">MmMediumSystem</a>:
00251         NumberOfDelayedThreads = <a class="code" href="../../d1/d9/worker_8c.html#a6">MEDIUM_NUMBER_OF_THREADS</a>;
00252         NumberOfCriticalThreads = <a class="code" href="../../d1/d9/worker_8c.html#a6">MEDIUM_NUMBER_OF_THREADS</a>;
00253         <span class="keywordflow">if</span> ( NtAs ) {
00254             NumberOfCriticalThreads += <a class="code" href="../../d1/d9/worker_8c.html#a6">MEDIUM_NUMBER_OF_THREADS</a>;
00255             }
00256         <span class="keywordflow">break</span>;
00257 
00258     <span class="keywordflow">case</span> <a class="code" href="../../d2/d1/mm_8h.html#a343a167">MmLargeSystem</a>:
00259         NumberOfDelayedThreads = <a class="code" href="../../d1/d9/worker_8c.html#a6">MEDIUM_NUMBER_OF_THREADS</a>;
00260         NumberOfCriticalThreads = <a class="code" href="../../d1/d9/worker_8c.html#a7">LARGE_NUMBER_OF_THREADS</a>;
00261         <span class="keywordflow">if</span> ( NtAs ) {
00262             NumberOfCriticalThreads += <a class="code" href="../../d1/d9/worker_8c.html#a7">LARGE_NUMBER_OF_THREADS</a>;
00263             }
00264         <span class="keywordflow">break</span>;
00265 
00266     <span class="keywordflow">default</span>:
00267         NumberOfDelayedThreads = <a class="code" href="../../d1/d9/worker_8c.html#a5">SMALL_NUMBER_OF_THREADS</a>;
00268         NumberOfCriticalThreads = <a class="code" href="../../d1/d9/worker_8c.html#a5">SMALL_NUMBER_OF_THREADS</a>;
00269     }
00270 
00271 
00272     <span class="comment">//</span>
00273     <span class="comment">// Initialize the work Queue objects.</span>
00274     <span class="comment">//</span>
00275 
00276     <span class="keywordflow">if</span> ( <a class="code" href="../../d8/d0/cmdat3_8c.html#a50">ExpAdditionalCriticalWorkerThreads</a> &gt; <a class="code" href="../../d1/d9/worker_8c.html#a3">MAX_ADDITIONAL_THREADS</a> ) {
00277         <a class="code" href="../../d8/d0/cmdat3_8c.html#a50">ExpAdditionalCriticalWorkerThreads</a> = <a class="code" href="../../d1/d9/worker_8c.html#a3">MAX_ADDITIONAL_THREADS</a>;
00278         }
00279 
00280     <span class="keywordflow">if</span> ( <a class="code" href="../../d8/d0/cmdat3_8c.html#a51">ExpAdditionalDelayedWorkerThreads</a> &gt; <a class="code" href="../../d1/d9/worker_8c.html#a3">MAX_ADDITIONAL_THREADS</a> ) {
00281         <a class="code" href="../../d8/d0/cmdat3_8c.html#a51">ExpAdditionalDelayedWorkerThreads</a> = <a class="code" href="../../d1/d9/worker_8c.html#a3">MAX_ADDITIONAL_THREADS</a>;
00282         }
00283 
00284     <span class="comment">//</span>
00285     <span class="comment">// Initialize the ExWorkerQueue[] array.</span>
00286     <span class="comment">// </span>
00287 
00288     <span class="keywordflow">for</span> (WorkQueueType = 0; WorkQueueType &lt; <a class="code" href="../../d5/d8/ex_8h.html#a332a208">MaximumWorkQueue</a>; WorkQueueType++) {
00289 
00290         RtlZeroMemory(&amp;ExWorkerQueue[WorkQueueType],
00291                       <span class="keyword">sizeof</span>(<a class="code" href="../../d8/d7/struct__EX__WORK__QUEUE.html">EX_WORK_QUEUE</a>));
00292 
00293         <a class="code" href="../../d8/d3/queueobj_8c.html#a1">KeInitializeQueue</a>(&amp;ExWorkerQueue[WorkQueueType].WorkerQueue, 0);
00294     }
00295 
00296     <span class="comment">//</span>
00297     <span class="comment">// We only create dynamic threads for the critical work queue (note</span>
00298     <span class="comment">// this doesn't apply to dynamic threads created to break deadlocks.)</span>
00299     <span class="comment">//</span>
00300     <span class="comment">// The rationale is this: folks who use the delayed work queue are</span>
00301     <span class="comment">// not time critical, and the hypercritical queue is used rarely</span>
00302     <span class="comment">// by folks who are non-blocking.</span>
00303     <span class="comment">//</span>
00304 
00305     <a class="code" href="../../d1/d9/worker_8c.html#a12">ExWorkerQueue</a>[<a class="code" href="../../d5/d8/ex_8h.html#a332a205">CriticalWorkQueue</a>].<a class="code" href="../../d8/d7/struct__EX__WORK__QUEUE.html#o5">MakeThreadsAsNecessary</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00306 
00307     <span class="comment">//</span>
00308     <span class="comment">// Initialize the global thread set manager event.</span>
00309     <span class="comment">//</span>
00310 
00311     <a class="code" href="../../d4/d9/ke_8h.html#a20">KeInitializeEvent</a>(&amp;ExThreadSetManagerEvent,
00312                       SynchronizationEvent,
00313                       FALSE);
00314 
00315     <span class="comment">//</span>
00316     <span class="comment">// Create the desired number of executive worker threads for each</span>
00317     <span class="comment">// of the work queues.</span>
00318     <span class="comment">//</span>
00319 
00320     InitializeObjectAttributes(&amp;ObjectAttributes, NULL, 0, NULL, NULL);
00321 
00322     <span class="comment">//</span>
00323     <span class="comment">// Create any builtin critical and delayed worker threads.</span>
00324     <span class="comment">//</span>
00325 
00326     <span class="keywordflow">for</span> (<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a> = 0; <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a> &lt; (NumberOfCriticalThreads + <a class="code" href="../../d8/d0/cmdat3_8c.html#a50">ExpAdditionalCriticalWorkerThreads</a>); <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a> += 1) {
00327 
00328         <span class="comment">//</span>
00329         <span class="comment">// Create a worker thread to service the critical work queue.</span>
00330         <span class="comment">//</span>
00331 
00332         <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d1/d9/worker_8c.html#a23">ExpCreateWorkerThread</a>( CriticalWorkQueue, FALSE );
00333         <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(Status)) {
00334             <span class="keywordflow">break</span>;
00335         }
00336         <a class="code" href="../../d1/d9/worker_8c.html#a15">ExCriticalWorkerThreads</a>++;
00337     }
00338 
00339 
00340     <span class="keywordflow">for</span> (<a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a> = 0; <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a> &lt; (NumberOfDelayedThreads + <a class="code" href="../../d8/d0/cmdat3_8c.html#a51">ExpAdditionalDelayedWorkerThreads</a>); <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a> += 1) {
00341 
00342         <span class="comment">//</span>
00343         <span class="comment">// Create a worker thread to service the delayed work queue.</span>
00344         <span class="comment">//</span>
00345 
00346         <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d1/d9/worker_8c.html#a23">ExpCreateWorkerThread</a>( DelayedWorkQueue, FALSE );
00347         <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(Status)) {
00348             <span class="keywordflow">break</span>;
00349         }
00350 
00351         <a class="code" href="../../d1/d9/worker_8c.html#a16">ExDelayedWorkerThreads</a>++;
00352     }
00353 
00354     <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d1/d9/worker_8c.html#a23">ExpCreateWorkerThread</a>( HyperCriticalWorkQueue, FALSE );
00355 
00356     <span class="comment">//</span>
00357     <span class="comment">// Create the worker thread set manager thread.</span>
00358     <span class="comment">//</span>
00359 
00360     <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d2/d8/ps_2create_8c.html#a11">PsCreateSystemThread</a>(&amp;Thread,
00361                                   THREAD_ALL_ACCESS,
00362                                   &amp;ObjectAttributes,
00363                                   0L,
00364                                   NULL,
00365                                   ExpWorkerThreadBalanceManager,
00366                                   NULL);
00367     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(Status)) {
00368         ZwClose( Thread );
00369     }
00370 
00371     <span class="keywordflow">return</span> (BOOLEAN)<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(Status);
00372 }
</div></pre>    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a13" doxytag="exp.h::ExNPagedLookasideListHead" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> LIST_ENTRY <a class="el" href="../../d9/d5/ex_2lookasid_8c.html#a3">ExNPagedLookasideListHead</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d9/exp_8h-source.html#l00262">262</a> of file <a class="el" href="../../d5/d9/exp_8h-source.html">exp.h</a>.
<p>
Referenced by <a class="el" href="../../d0/d5/ex_2lookasid_8c-source.html#l00089">ExAdjustLookasideDepth()</a>, <a class="el" href="../../d0/d5/ex_2lookasid_8c-source.html#l00408">ExInitializeNPagedLookasideList()</a>, and <a class="el" href="../../d7/d7/sysinfo_8c-source.html#l03661">ExpGetLookasideInformation()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="exp.h::ExNPagedLookasideLock" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> KSPIN_LOCK <a class="el" href="../../d9/d5/ex_2lookasid_8c.html#a4">ExNPagedLookasideLock</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d9/exp_8h-source.html#l00263">263</a> of file <a class="el" href="../../d5/d9/exp_8h-source.html">exp.h</a>.
<p>
Referenced by <a class="el" href="../../d0/d5/ex_2lookasid_8c-source.html#l00089">ExAdjustLookasideDepth()</a>, <a class="el" href="../../d0/d5/ex_2lookasid_8c-source.html#l00494">ExDeleteNPagedLookasideList()</a>, <a class="el" href="../../d0/d5/ex_2lookasid_8c-source.html#l00408">ExInitializeNPagedLookasideList()</a>, and <a class="el" href="../../d7/d7/sysinfo_8c-source.html#l03661">ExpGetLookasideInformation()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="exp.h::ExPagedLookasideListHead" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> LIST_ENTRY <a class="el" href="../../d9/d5/ex_2lookasid_8c.html#a5">ExPagedLookasideListHead</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d9/exp_8h-source.html#l00264">264</a> of file <a class="el" href="../../d5/d9/exp_8h-source.html">exp.h</a>.
<p>
Referenced by <a class="el" href="../../d0/d5/ex_2lookasid_8c-source.html#l00089">ExAdjustLookasideDepth()</a>, <a class="el" href="../../d0/d5/ex_2lookasid_8c-source.html#l00543">ExInitializePagedLookasideList()</a>, and <a class="el" href="../../d7/d7/sysinfo_8c-source.html#l03661">ExpGetLookasideInformation()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="exp.h::ExPagedLookasideLock" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> KSPIN_LOCK <a class="el" href="../../d9/d5/ex_2lookasid_8c.html#a6">ExPagedLookasideLock</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d9/exp_8h-source.html#l00265">265</a> of file <a class="el" href="../../d5/d9/exp_8h-source.html">exp.h</a>.
<p>
Referenced by <a class="el" href="../../d0/d5/ex_2lookasid_8c-source.html#l00089">ExAdjustLookasideDepth()</a>, <a class="el" href="../../d0/d5/ex_2lookasid_8c-source.html#l00629">ExDeletePagedLookasideList()</a>, <a class="el" href="../../d0/d5/ex_2lookasid_8c-source.html#l00543">ExInitializePagedLookasideList()</a>, and <a class="el" href="../../d7/d7/sysinfo_8c-source.html#l03661">ExpGetLookasideInformation()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="exp.h::ExpEnvironmentLock" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d6/d9/struct__FAST__MUTEX.html">FAST_MUTEX</a> <a class="el" href="../../d5/d8/sysenv_8c.html#a1">ExpEnvironmentLock</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d9/exp_8h-source.html#l00257">257</a> of file <a class="el" href="../../d5/d9/exp_8h-source.html">exp.h</a>.
<p>
Referenced by <a class="el" href="../../d6/d7/sysenv_8c-source.html#l00045">NtQuerySystemEnvironmentValue()</a>, and <a class="el" href="../../d6/d7/sysenv_8c-source.html#l00305">NtSetSystemEnvironmentValue()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="exp.h::ExpInitializeCallback" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d1/d9/structEXP__INITIALIZE__GLOBAL__CALLBACKS.html">EXP_INITIALIZE_GLOBAL_CALLBACKS</a> <a class="el" href="../../d4/d0/exp_8h.html#a9">ExpInitializeCallback</a>[]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d9/exp_8h-source.html#l00254">254</a> of file <a class="el" href="../../d5/d9/exp_8h-source.html">exp.h</a>.
<p>
Referenced by <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00101">ExpInitializeCallbacks()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="exp.h::ExpNtExpirationData" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ULONG <a class="el" href="../../d4/d0/exp_8h.html#a3">ExpNtExpirationData</a>[3]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d9/exp_8h-source.html#l00236">236</a> of file <a class="el" href="../../d5/d9/exp_8h-source.html">exp.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="exp.h::ExPoolLookasideListHead" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> LIST_ENTRY <a class="el" href="../../d9/d5/ex_2lookasid_8c.html#a7">ExPoolLookasideListHead</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d9/exp_8h-source.html#l00266">266</a> of file <a class="el" href="../../d5/d9/exp_8h-source.html">exp.h</a>.
<p>
Referenced by <a class="el" href="../../d0/d5/ex_2lookasid_8c-source.html#l00089">ExAdjustLookasideDepth()</a>, <a class="el" href="../../d7/d7/sysinfo_8c-source.html#l03661">ExpGetLookasideInformation()</a>, and <a class="el" href="../../d3/d1/ex_2pool_8c-source.html#l03405">ExQueryPoolUsage()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="exp.h::ExpSetupKey" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> HANDLE <a class="el" href="../../d4/d0/exp_8h.html#a6">ExpSetupKey</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d9/exp_8h-source.html#l00239">239</a> of file <a class="el" href="../../d5/d9/exp_8h-source.html">exp.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="exp.h::ExpSetupModeDetected" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN <a class="el" href="../../d4/d0/exp_8h.html#a4">ExpSetupModeDetected</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d9/exp_8h-source.html#l00237">237</a> of file <a class="el" href="../../d5/d9/exp_8h-source.html">exp.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="exp.h::ExpSetupSystemPrefix" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> LARGE_INTEGER <a class="el" href="../../d4/d0/exp_8h.html#a5">ExpSetupSystemPrefix</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d9/exp_8h-source.html#l00238">238</a> of file <a class="el" href="../../d5/d9/exp_8h-source.html">exp.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="exp.h::ExpSmallNPagedPoolLookasideLists" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d1/d4/struct__NPAGED__LOOKASIDE__LIST.html">NPAGED_LOOKASIDE_LIST</a> <a class="el" href="../../d2/d2/ex_2pool_8c.html#a59">ExpSmallNPagedPoolLookasideLists</a>[POOL_SMALL_LISTS]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d9/exp_8h-source.html#l00260">260</a> of file <a class="el" href="../../d5/d9/exp_8h-source.html">exp.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="exp.h::ExpSmallPagedPoolLookasideLists" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d1/d4/struct__NPAGED__LOOKASIDE__LIST.html">NPAGED_LOOKASIDE_LIST</a> <a class="el" href="../../d2/d2/ex_2pool_8c.html#a60">ExpSmallPagedPoolLookasideLists</a>[POOL_SMALL_LISTS]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d9/exp_8h-source.html#l00259">259</a> of file <a class="el" href="../../d5/d9/exp_8h-source.html">exp.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="exp.h::ExpSystemPrefixValid" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN <a class="el" href="../../d4/d0/exp_8h.html#a7">ExpSystemPrefixValid</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d9/exp_8h-source.html#l00240">240</a> of file <a class="el" href="../../d5/d9/exp_8h-source.html">exp.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="exp.h::ExpWstrCallback" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> WCHAR <a class="el" href="../../d4/d0/exp_8h.html#a8">ExpWstrCallback</a>[]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d5/d9/exp_8h-source.html#l00253">253</a> of file <a class="el" href="../../d5/d9/exp_8h-source.html">exp.h</a>.
<p>
Referenced by <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00101">ExpInitializeCallbacks()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:43:36 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
