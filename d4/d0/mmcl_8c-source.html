<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: mmcl.c Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>mmcl.c</h1><a href="../../d3/d1/mmcl_8c.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">/****************************** Module Header ******************************\</span>
00002 <span class="comment">* Module Name: mmcl.c</span>
00003 <span class="comment">*</span>
00004 <span class="comment">* Copyright (c) 1985 - 1999, Microsoft Corporation</span>
00005 <span class="comment">* </span>
00006 <span class="comment">* Multimonitor APIs in the client.</span>
00007 <span class="comment">* </span>
00008 <span class="comment">* History:</span>
00009 <span class="comment">* 29-Mar-1997 adams     Created.</span>
00010 <span class="comment">\***************************************************************************/</span>
00011 
00012 <span class="preprocessor">#include "<a class="code" href="../../d7/d3/w32_2ntuser_2client_2precomp_8h.html">precomp.h</a>"</span>
00013 <span class="preprocessor">#pragma hdrstop</span>
00014 <span class="preprocessor"></span>
00015 HMONITOR
<a name="l00016"></a><a class="code" href="../../d3/d1/mmcl_8c.html#a0">00016</a> <a class="code" href="../../d3/d1/mmcl_8c.html#a0">MonitorFromPoint</a>(
00017     IN POINT pt,
00018     IN DWORD dwFlags)
00019 {
00020     <a class="code" href="../../d0/d2/structtagMONITOR.html">PMONITOR</a>    pMonitor;
00021 
00022     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a> &gt; MONITOR_DEFAULTTONEAREST) {
00023         RIPERR1(ERROR_INVALID_FLAGS,
00024                 RIP_WARNING,
00025                 <span class="stringliteral">"Invalid flags to MonitorFromPoint, %x"</span>, <a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a>);
00026 
00027         <span class="keywordflow">return</span> <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00028     }
00029 
00030     pMonitor = <a class="code" href="../../d9/d1/mmrtl_8c.html#a6">_MonitorFromPoint</a>(pt, <a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a>);
00031 
00032     <span class="keywordflow">try</span> {
00033         <span class="keywordflow">return</span> <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a448">PtoH</a>(pMonitor);
00034     } except(W32ExceptionHandler(<a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>, RIP_WARNING)) {
00035         <span class="keywordflow">return</span> <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00036     }
00037 }
00038 
00039 
00040 
00041 HMONITOR
<a name="l00042"></a><a class="code" href="../../d3/d1/mmcl_8c.html#a1">00042</a> <a class="code" href="../../d3/d1/mmcl_8c.html#a1">MonitorFromRect</a>(
00043     IN LPCRECT lprc,
00044     IN DWORD dwFlags)
00045 {
00046     <a class="code" href="../../d0/d2/structtagMONITOR.html">PMONITOR</a>    pMonitor;
00047 
00048     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a> &gt; MONITOR_DEFAULTTONEAREST) {
00049         RIPERR1(ERROR_INVALID_FLAGS,
00050                 RIP_WARNING,
00051                 <span class="stringliteral">"Invalid flags to MonitorFromRect, %x"</span>, <a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a>);
00052 
00053         <span class="keywordflow">return</span> <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00054     }
00055 
00056     pMonitor = <a class="code" href="../../d9/d1/mmrtl_8c.html#a7">_MonitorFromRect</a>(lprc, <a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a>);
00057 
00058     <span class="keywordflow">try</span> {
00059         <span class="keywordflow">return</span> <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a448">PtoH</a>(pMonitor);
00060     } except(W32ExceptionHandler(<a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>, RIP_WARNING)) {
00061         <span class="keywordflow">return</span> <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00062     }
00063 }
00064 
00065 
00066 
00067 HMONITOR
<a name="l00068"></a><a class="code" href="../../d3/d1/mmcl_8c.html#a2">00068</a> <a class="code" href="../../d3/d1/mmcl_8c.html#a2">MonitorFromWindow</a>(
00069     IN HWND hwnd,
00070     IN DWORD dwFlags)
00071 {
00072     <a class="code" href="../../d0/d2/structtagMONITOR.html">PMONITOR</a>    pMonitor;
00073     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>        pwnd;
00074 
00075     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a> &gt; MONITOR_DEFAULTTONEAREST) {
00076         RIPERR1(ERROR_INVALID_FLAGS,
00077                 RIP_WARNING,
00078                 <span class="stringliteral">"Invalid flags to MonitorFromWindow, %x"</span>, <a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a>);
00079 
00080         <span class="keywordflow">return</span> <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00081     }
00082 
00083     <span class="keywordflow">if</span> (hwnd) {
00084         pwnd = <a class="code" href="../../d4/d0/immcli_8h.html#a4">ValidateHwnd</a>(hwnd);
00085         <span class="keywordflow">if</span> (!pwnd) {
00086             <span class="keywordflow">return</span> <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00087         }
00088     } <span class="keywordflow">else</span> {
00089         pwnd = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00090     }
00091 
00092     pMonitor = <a class="code" href="../../d9/d1/mmrtl_8c.html#a8">_MonitorFromWindow</a>(pwnd, <a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a>);
00093 
00094     <span class="keywordflow">try</span> {
00095         <span class="keywordflow">return</span> <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a448">PtoH</a>(pMonitor);
00096     } except(W32ExceptionHandler(<a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>, RIP_WARNING)) {
00097         <span class="keywordflow">return</span> <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00098     }
00099 }
00100 
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:40:50 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
