<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: makefile.inc Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>makefile.inc</h1><a href="../../d3/d1/w32_2ntcon_2server_2makefile_8inc.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 ..\precomp.h: ..\consrv.h ..\cmdline.h ..\globals.h ..\menu.h ..\..\inc\conmsg.h \
00002     ..\..\inc\server.h ..\..\inc\font.h $(BASEDIR)\<span class="keyword">private</span>\inc\winconp.h $(BASEDIR)\<span class="keyword">private</span>\inc\winbasep.h \
00003     ..\..\..\w32inc\winuserk.h $(BASEDIR)\<span class="keyword">private</span>\inc\winuserp.h \
00004     $(BASEDIR)\<span class="keyword">private</span>\ntos\w32\ntuser\server\usersrv.h
00005 
00006 <span class="preprocessor">#</span>
00007 <span class="preprocessor"></span><span class="preprocessor"># From here down is a hack to build conexts.dll</span>
00008 <span class="preprocessor"></span><span class="preprocessor">#</span>
00009 <span class="preprocessor"></span>
00010 EXT_DEF=..\conexts.def
00011 
00012 EXT_LIBS=$(BASEDIR)\<span class="keyword">public</span>\sdk\lib\*\ntdll.lib\
00013          $(LINKLIBS)
00014 
00015 EXT_OBJS=obj\*\conexts.res\
00016          obj\*\conexts.obj
00017 
00018 EXT_TARGET=obj\*\conexts
00019 
00020 !<a class="code" href="../../d2/d0/aw_8h.html#a1">IF</a> $(386)
00021 EXT_LIBS=$(EXT_LIBS:*=i386)
00022 EXT_OBJS=$(EXT_OBJS:*=i386)
00023 EXT_TARGET=$(EXT_TARGET:*=i386)
00024 !ELSEIF $(IA64)
00025 EXT_LIBS=$(EXT_LIBS:*=ia64)
00026 EXT_OBJS=$(EXT_OBJS:*=ia64)
00027 EXT_TARGET=$(EXT_TARGET:*=ia64)
00028 !ELSEIF $(ALPHA)
00029 EXT_LIBS=$(EXT_LIBS:*=alpha)
00030 EXT_OBJS=$(EXT_OBJS:*=alpha)
00031 EXT_TARGET=$(EXT_TARGET:*=alpha)
00032 !ELSEIF $(AXP64)
00033 EXT_LIBS=$(EXT_LIBS:*=axp64)
00034 EXT_OBJS=$(EXT_OBJS:*=axp64)
00035 EXT_TARGET=$(EXT_TARGET:*=axp64)
00036 !ENDIF
00037 
00038 !<a class="code" href="../../d2/d0/aw_8h.html#a1">IF</a> <span class="stringliteral">"$(NOLINK)"</span> == <span class="stringliteral">""</span>
00039 all: $(EXT_TARGET).dll
00040 !ELSE
00041 all: $(EXT_TARGET).lib
00042 !ENDIF
00043 
00044 $(EXT_TARGET).lib $(EXT_TARGET).exp: $(EXT_DEF) $(EXT_OBJS)
00045     -lib -<a class="code" href="../../d6/d0/wsprintf_8c.html#a0">out</a>:$(@R).lib @&lt;&lt;
00046 -machine:$(MACHINE_TYPE)
00047 -def:$(EXT_DEF)
00048 -nodefaultlib
00049 $(EXT_OBJS)
00050 &lt;&lt;
00051 !IFDEF _NTLIBS
00052     @$(LIB_COPY) $@ $(@B) LIBS &gt;nul
00053 !ENDIF
00054 
00055 $(EXT_TARGET).dll: $(EXT_TARGET).exp $(EXT_OBJS) $(EXT_LIBS)
00056     $(LINKER) @&lt;&lt;
00057 -dll
00058 -machine:$(MACHINE_TYPE)
00059 -noentry -nod
00060 -base:@$(BASEDIR)\<span class="keyword">public</span>\sdk\lib\coffbase.txt,$(@B)
00061 -subsystem:console$(SUBSYSTEM_CONVER)
00062 $(HEADEROBJNAME)
00063 $**
00064 &lt;&lt;
00065     $(BINPLACE_CMD)
00066 !IFDEF _NTDUMPAMAP
00067     link -dump -map $@ | sort /R /+62 &gt; $(_NTDUMPAMAP)\$(@B).srt
00068 !ENDIF
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:40:41 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
