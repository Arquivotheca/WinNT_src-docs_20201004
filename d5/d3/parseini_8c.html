<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: parseini.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>parseini.c File Reference</h1><code>#include "<a class="el" href="../../d2/d1/cmp_8h-source.html">cmp.h</a>"</code><br>
<code>#include "string.h"</code><br>
<code>#include "ctype.h"</code><br>
<code>#include "stdlib.h"</code><br>
<code>#include "<a class="el" href="../../d7/d2/parseini_8h-source.html">parseini.h</a>"</code><br>

<p>
<a href="../../d6/d2/parseini_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d5/struct__value.html">_value</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d7/d1/struct__line.html">_line</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/struct__section.html">_section</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d2/struct__inf.html">_inf</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d7/d1/struct__token.html">_token</a></td></tr>

<tr><td colspan=2><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d5/d5/struct__value.html">_value</a> VALUE *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a0">PVALUE</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d7/d1/struct__line.html">_line</a> LINE *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a1">PLINE</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d4/d0/struct__section.html">_section</a> <a class="el" href="../../d5/d0/struct__SECTION.html">SECTION</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a2">PSECTION</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d0/d2/struct__inf.html">_inf</a> INF *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a3">PINF</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d7/d1/struct__token.html">_token</a> <a class="el" href="../../d8/d1/struct__TOKEN.html">TOKEN</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a4">PTOKEN</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef enum <a class="el" href="../../d5/d3/parseini_8c.html#a47">_tokentype</a> TOKENTYPE *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a5">PTOKENTTYPE</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef enum <a class="el" href="../../d5/d3/parseini_8c.html#a46">_stringsSectionType</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a6">STRINGSSECTIONTYPE</a></td></tr>

<tr><td colspan=2><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>enum &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a46">_stringsSectionType</a> { <br>
&nbsp;&nbsp;<a class="el" href="../../d5/d3/parseini_8c.html#a46a11">StringsSectionNone</a>, 
<a class="el" href="../../d5/d3/parseini_8c.html#a46a12">StringsSectionPlain</a>, 
<a class="el" href="../../d5/d3/parseini_8c.html#a46a13">StringsSectionLoosePrimaryMatch</a>, 
<a class="el" href="../../d5/d3/parseini_8c.html#a46a14">StringsSectionExactPrimaryMatch</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="../../d5/d3/parseini_8c.html#a46a15">StringsSectionExactMatch</a>
<br>
 }</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>enum &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a47">_tokentype</a> { <br>
&nbsp;&nbsp;<a class="el" href="../../d5/d3/parseini_8c.html#a47a16">TOK_EOF</a>, 
<a class="el" href="../../d5/d3/parseini_8c.html#a47a17">TOK_EOL</a>, 
<a class="el" href="../../d5/d3/parseini_8c.html#a47a18">TOK_LBRACE</a>, 
<a class="el" href="../../d5/d3/parseini_8c.html#a47a19">TOK_RBRACE</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="../../d5/d3/parseini_8c.html#a47a20">TOK_STRING</a>, 
<a class="el" href="../../d5/d3/parseini_8c.html#a47a21">TOK_EQUAL</a>, 
<a class="el" href="../../d5/d3/parseini_8c.html#a47a22">TOK_COMMA</a>, 
<a class="el" href="../../d5/d3/parseini_8c.html#a47a23">TOK_ERRPARSE</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="../../d5/d3/parseini_8c.html#a47a24">TOK_ERRNOMEM</a>
<br>
 }</td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a25">CmpFreeValueList</a> (IN <a class="el" href="../../d5/d3/parseini_8c.html#a0">PVALUE</a> pValue)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a26">CmpFreeLineList</a> (IN <a class="el" href="../../d5/d3/parseini_8c.html#a1">PLINE</a> pLine)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a27">CmpFreeSectionList</a> (IN <a class="el" href="../../d4/d8/mi_8h.html#a480">PSECTION</a> pSection)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a28">CmpProcessForSimpleStringSub</a> (IN <a class="el" href="../../d5/d3/parseini_8c.html#a3">PINF</a> pInf, IN PCHAR <a class="el" href="../../d0/d0/tdetach_8c.html#a0">String</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a29">CmpAppendSection</a> (IN <a class="el" href="../../d5/d3/parseini_8c.html#a3">PINF</a> pInf, IN PCHAR pSectionName, IN BOOLEAN Allocated)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a30">CmpAppendLine</a> (IN <a class="el" href="../../d5/d3/parseini_8c.html#a3">PINF</a> pInf, IN PCHAR pLineKey, IN BOOLEAN Allocated)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a31">CmpAppendValue</a> (IN <a class="el" href="../../d5/d3/parseini_8c.html#a3">PINF</a> pInf, IN PCHAR pValueString, IN BOOLEAN Allocated)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a32">CmpGetToken</a> (IN OUT PCHAR *Stream, IN PCHAR MaxStream, IN OUT PULONG LineNumber, IN OUT <a class="el" href="../../d5/d3/parseini_8c.html#a4">PTOKEN</a> <a class="el" href="../../d2/d1/cttoken_8c.html#a28">Token</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d5/d3/parseini_8c.html#a3">PINF</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a33">CmpParseInfBuffer</a> (IN PCHAR <a class="el" href="../../d8/d6/ttri_8c.html#a3">Buffer</a>, IN ULONG <a class="el" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a0">Size</a>, IN OUT PULONG ErrorLine)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d5/d3/parseini_8c.html#a0">PVALUE</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a34">CmpSearchValueInLine</a> (IN <a class="el" href="../../d5/d3/parseini_8c.html#a1">PLINE</a> pLine, IN ULONG ValueIndex)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d5/d3/parseini_8c.html#a1">PLINE</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a35">CmpSearchLineInSectionByIndex</a> (IN <a class="el" href="../../d4/d8/mi_8h.html#a480">PSECTION</a> pSection, IN ULONG LineIndex)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d4/d8/mi_8h.html#a480">PSECTION</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a36">CmpSearchSectionByName</a> (IN <a class="el" href="../../d5/d3/parseini_8c.html#a3">PINF</a> pInf, IN PCHAR SectionName)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PVOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a37">CmpOpenInfFile</a> (IN PVOID InfImage, IN ULONG ImageSize)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a38">CmpCloseInfFile</a> (PVOID InfHandle)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a39">CmpSearchInfSection</a> (IN <a class="el" href="../../d5/d3/parseini_8c.html#a3">PINF</a> pInf, IN PCHAR Section)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a40">CmpGetKeyName</a> (IN PVOID InfHandle, IN PCHAR Section, IN ULONG LineIndex)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a41">CmpSearchInfLine</a> (IN PVOID InfHandle, IN PCHAR Section, IN ULONG LineIndex)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a42">CmpGetSectionLineIndex</a> (IN PVOID InfHandle, IN PCHAR Section, IN ULONG LineIndex, IN ULONG ValueIndex)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>ULONG&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a43">CmpGetSectionLineIndexValueCount</a> (IN PVOID InfHandle, IN PCHAR Section, IN ULONG LineIndex)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a44">CmpGetIntField</a> (IN PVOID InfHandle, IN PCHAR Section, IN ULONG LineIndex, IN ULONG ValueIndex, IN OUT PULONG Data)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a45">CmpGetBinaryField</a> (IN PVOID InfHandle, IN PCHAR Section, IN ULONG LineIndex, IN ULONG ValueIndex, IN OUT PVOID <a class="el" href="../../d8/d6/ttri_8c.html#a3">Buffer</a>, IN ULONG <a class="el" href="../../d7/d2/rtqval_8c.html#a7">BufferSize</a>, IN OUT PULONG ActualSize)</td></tr>

<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d2/d1/bench_8h.html#a8">CHAR</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a7">StringTerminators</a> [] = "[]=,\t \"\n\f\v\r"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a8">QStringTerminators</a> = <a class="el" href="../../d5/d3/parseini_8c.html#a7">StringTerminators</a> + 6</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a9">EmptyValue</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d2/d1/bench_8h.html#a8">CHAR</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d3/parseini_8c.html#a10">DblSpaceSection</a> [] = "DBLSPACE_SECTION"</td></tr>

</table>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="a3" doxytag="parseini.c::PINF" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d0/d2/struct__inf.html">_inf</a> INF* <a class="el" href="../../d5/d3/parseini_8c.html#a3">PINF</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l00037">37</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
Referenced by <a class="el" href="../../d6/d2/parseini_8c-source.html#l00219">CmpAppendSection()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01832">CmpCloseInfFile()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l02177">CmpGetBinaryField()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01890">CmpGetKeyName()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01991">CmpGetSectionLineIndex()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l02060">CmpGetSectionLineIndexValueCount()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01790">CmpOpenInfFile()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00744">CmpParseInfBuffer()</a>, and <a class="el" href="../../d6/d2/parseini_8c-source.html#l01942">CmpSearchInfLine()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="parseini.c::PLINE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d7/d1/struct__line.html">_line</a> LINE* <a class="el" href="../../d5/d3/parseini_8c.html#a1">PLINE</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l00035">35</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
Referenced by <a class="el" href="../../d6/d2/parseini_8c-source.html#l00383">CmpAppendLine()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00219">CmpAppendSection()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00462">CmpAppendValue()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01495">CmpFreeLineList()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l02177">CmpGetBinaryField()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01890">CmpGetKeyName()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01991">CmpGetSectionLineIndex()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l02060">CmpGetSectionLineIndexValueCount()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01369">CmpProcessForSimpleStringSub()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01942">CmpSearchInfLine()</a>, and <a class="el" href="../../d6/d2/parseini_8c-source.html#l01739">CmpSearchLineInSectionByIndex()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="parseini.c::PSECTION" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d4/d0/struct__section.html">_section</a> <a class="el" href="../../d5/d0/struct__SECTION.html">SECTION</a>* <a class="el" href="../../d4/d8/mi_8h.html#a480">PSECTION</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l00036">36</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
Referenced by <a class="el" href="../../d6/d2/parseini_8c-source.html#l00383">CmpAppendLine()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00219">CmpAppendSection()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01558">CmpFreeSectionList()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l02177">CmpGetBinaryField()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01890">CmpGetKeyName()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01991">CmpGetSectionLineIndex()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l02060">CmpGetSectionLineIndexValueCount()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01369">CmpProcessForSimpleStringSub()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01942">CmpSearchInfLine()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01661">CmpSearchSectionByName()</a>, <a class="el" href="../../d9/d7/sysload_8c-source.html#l00443">MiLoadSystemImage()</a>, <a class="el" href="../../d4/d4/mapview_8c-source.html#l03268">MiMapViewInSystemSpace()</a>, <a class="el" href="../../d6/d4/sectsup_8c-source.html#l00511">MiSectionDelete()</a>, <a class="el" href="../../d6/d4/sectsup_8c-source.html#l00768">MiSectionInitialization()</a>, <a class="el" href="../../d1/d7/creasect_8c-source.html#l00390">MmCreateSection()</a>, <a class="el" href="../../d9/d9/extsect_8c-source.html#l00201">MmExtendSection()</a>, <a class="el" href="../../d6/d4/sectsup_8c-source.html#l01721">MmGetFileNameForSection()</a>, <a class="el" href="../../d5/d4/procsup_8c-source.html#l00911">MmInitializeProcessAddressSpace()</a>, <a class="el" href="../../d2/d4/mapcache_8c-source.html#l00063">MmMapViewInSystemCache()</a>, <a class="el" href="../../d4/d4/mapview_8c-source.html#l00753">MmMapViewOfSection()</a>, <a class="el" href="../../d9/d7/sysload_8c-source.html#l02472">MmPageEntireDriver()</a>, <a class="el" href="../../d9/d7/sysload_8c-source.html#l02896">MmUnloadSystemImage()</a>, <a class="el" href="../../d2/d4/mapcache_8c-source.html#l00381">MmUnmapViewInSystemCache()</a>, <a class="el" href="../../d1/d7/creasect_8c-source.html#l00134">NtCreateSection()</a>, <a class="el" href="../../d2/d7/super_8c-source.html#l00056">NtCreateSuperSection()</a>, <a class="el" href="../../d9/d9/extsect_8c-source.html#l00085">NtExtendSection()</a>, <a class="el" href="../../d4/d4/mapview_8c-source.html#l00199">NtMapViewOfSection()</a>, and <a class="el" href="../../d5/d2/querysec_8c-source.html#l00031">NtQuerySection()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="parseini.c::PTOKEN" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d7/d1/struct__token.html">_token</a> <a class="el" href="../../d8/d1/struct__TOKEN.html">TOKEN</a>* <a class="el" href="../../d8/d3/tokenp_8h.html#a15">PTOKEN</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l00038">38</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
Referenced by <a class="el" href="../../d6/d2/tokenadj_8c-source.html#l00432">NtAdjustGroupsToken()</a>, <a class="el" href="../../d6/d2/tokenadj_8c-source.html#l00046">NtAdjustPrivilegesToken()</a>, <a class="el" href="../../d7/d2/tokendup_8c-source.html#l00046">NtDuplicateToken()</a>, <a class="el" href="../../d7/d2/tokendup_8c-source.html#l01306">NtFilterToken()</a>, <a class="el" href="../../d4/d4/seaudit_8c-source.html#l02072">NtOpenObjectAuditAlarm()</a>, <a class="el" href="../../d8/d2/tokenopn_8c-source.html#l00458">NtOpenThreadToken()</a>, <a class="el" href="../../d9/d3/privileg_8c-source.html#l00231">NtPrivilegeCheck()</a>, <a class="el" href="../../d4/d4/seaudit_8c-source.html#l00731">NtPrivilegedServiceAuditAlarm()</a>, <a class="el" href="../../d4/d4/seaudit_8c-source.html#l00406">NtPrivilegeObjectAuditAlarm()</a>, <a class="el" href="../../d0/d3/tokenqry_8c-source.html#l00034">NtQueryInformationToken()</a>, <a class="el" href="../../d1/d3/tokenset_8c-source.html#l00037">NtSetInformationToken()</a>, <a class="el" href="../../d1/d3/accessck_8c-source.html#l02704">SeAccessCheckByType()</a>, <a class="el" href="../../d5/d2/token_8c-source.html#l00241">SeAssignPrimaryToken()</a>, <a class="el" href="../../d4/d4/seaudit_8c-source.html#l03736">SeAuditHandleCreation()</a>, <a class="el" href="../../d4/d4/seaudit_8c-source.html#l04648">SeAuditingFileOrGlobalEvents()</a>, <a class="el" href="../../d8/d5/sepaudit_8c-source.html#l02653">SeAuditProcessExit()</a>, <a class="el" href="../../d7/d2/tokendup_8c-source.html#l01227">SeCopyClientToken()</a>, <a class="el" href="../../d3/d4/seastate_8c-source.html#l00180">SeCreateAccessState()</a>, <a class="el" href="../../d5/d2/token_8c-source.html#l00302">SeDeassignPrimaryToken()</a>, <a class="el" href="../../d5/d2/token_8c-source.html#l00346">SeExchangePrimaryToken()</a>, <a class="el" href="../../d7/d2/tokendup_8c-source.html#l01859">SeFastFilterToken()</a>, <a class="el" href="../../d7/d2/tokendup_8c-source.html#l01634">SeFilterToken()</a>, <a class="el" href="../../d5/d2/token_8c-source.html#l00475">SeGetTokenControlInformation()</a>, <a class="el" href="../../d5/d2/token_8c-source.html#l02867">SeIsChildToken()</a>, <a class="el" href="../../d5/d2/token_8c-source.html#l02960">SeIsChildTokenByPointer()</a>, <a class="el" href="../../d1/d7/subject_8c-source.html#l00115">SeLockSubjectContext()</a>, <a class="el" href="../../d4/d4/seaudit_8c-source.html#l02765">SeOpenObjectAuditAlarm()</a>, <a class="el" href="../../d4/d4/seaudit_8c-source.html#l03085">SeOpenObjectForDeleteAuditAlarm()</a>, <a class="el" href="../../d1/d3/accessck_8c-source.html#l01564">SepAccessCheck()</a>, <a class="el" href="../../d4/d4/seaudit_8c-source.html#l01050">SepAccessCheckAndAuditAlarm()</a>, <a class="el" href="../../d8/d5/sepaudit_8c-source.html#l01907">SepAdtObjectReferenceAuditAlarm()</a>, <a class="el" href="../../d8/d2/tokenopn_8c-source.html#l00049">SepCreateImpersonationTokenDacl()</a>, <a class="el" href="../../d5/d2/token_8c-source.html#l02213">SepCreateToken()</a>, <a class="el" href="../../d2/d4/seassign_8c-source.html#l00995">SepDumpTokenInfo()</a>, <a class="el" href="../../d7/d2/tokendup_8c-source.html#l00362">SepDuplicateToken()</a>, <a class="el" href="../../d7/d2/tokendup_8c-source.html#l01939">SepFilterToken()</a>, <a class="el" href="../../d1/d7/subject_8c-source.html#l00234">SepGetDefaultsSubjectContext()</a>, <a class="el" href="../../d1/d7/subject_8c-source.html#l00306">SepIdAssignableAsGroup()</a>, <a class="el" href="../../d4/d4/seaudit_8c-source.html#l00989">SePrivilegedServiceAuditAlarm()</a>, <a class="el" href="../../d1/d3/accessck_8c-source.html#l03652">SePrivilegePolicyCheck()</a>, <a class="el" href="../../d7/d2/tokendup_8c-source.html#l00933">SepSidInSidAndAttributes()</a>, <a class="el" href="../../d1/d3/accessck_8c-source.html#l00733">SepSidInToken()</a>, <a class="el" href="../../d1/d3/accessck_8c-source.html#l00856">SepSidInTokenEx()</a>, <a class="el" href="../../d1/d3/accessck_8c-source.html#l03796">SepTokenIsOwner()</a>, <a class="el" href="../../d1/d7/subject_8c-source.html#l00381">SepValidOwnerSubjectContext()</a>, <a class="el" href="../../d0/d3/tokenqry_8c-source.html#l01152">SeQueryAuthenticationIdToken()</a>, <a class="el" href="../../d0/d3/tokenqry_8c-source.html#l01189">SeQueryInformationToken()</a>, <a class="el" href="../../d0/d3/tokenqry_8c-source.html#l01763">SeQuerySessionIdToken()</a>, <a class="el" href="../../d1/d3/tokenset_8c-source.html#l00851">SeSetSessionIdToken()</a>, <a class="el" href="../../d5/d2/token_8c-source.html#l01327">SeSubProcessToken()</a>, <a class="el" href="../../d5/d2/token_8c-source.html#l00211">SeTokenImpersonationLevel()</a>, <a class="el" href="../../d5/d2/token_8c-source.html#l00150">SeTokenIsAdmin()</a>, <a class="el" href="../../d5/d2/token_8c-source.html#l00181">SeTokenIsRestricted()</a>, <a class="el" href="../../d5/d2/token_8c-source.html#l00118">SeTokenType()</a>, and <a class="el" href="../../d1/d7/subject_8c-source.html#l00159">SeUnlockSubjectContext()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="parseini.c::PTOKENTTYPE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef enum <a class="el" href="../../d5/d3/parseini_8c.html#a47">_tokentype</a> TOKENTYPE* <a class="el" href="../../d5/d3/parseini_8c.html#a5">PTOKENTTYPE</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l00039">39</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="parseini.c::PVALUE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d5/d5/struct__value.html">_value</a> VALUE* <a class="el" href="../../d5/d3/parseini_8c.html#a0">PVALUE</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l00034">34</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
Referenced by <a class="el" href="../../d6/d2/parseini_8c-source.html#l00383">CmpAppendLine()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00462">CmpAppendValue()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01439">CmpFreeValueList()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l02177">CmpGetBinaryField()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01991">CmpGetSectionLineIndex()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l02060">CmpGetSectionLineIndexValueCount()</a>, and <a class="el" href="../../d6/d2/parseini_8c-source.html#l01622">CmpSearchValueInLine()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="parseini.c::STRINGSSECTIONTYPE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef enum <a class="el" href="../../d5/d3/parseini_8c.html#a46">_stringsSectionType</a> <a class="el" href="../../d5/d3/parseini_8c.html#a6">STRINGSSECTIONTYPE</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l00040">40</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
Referenced by <a class="el" href="../../d6/d2/parseini_8c-source.html#l00219">CmpAppendSection()</a>.    </td>
  </tr>
</table>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="a46" doxytag="parseini.c::_stringsSectionType" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> enum <a class="el" href="../../d5/d3/parseini_8c.html#a46">_stringsSectionType</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Enumeration values: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em><a class="anchor" name="a46a11" doxytag="StringsSectionNone" ></a>StringsSectionNone</em>&nbsp;</td><td>
</td></tr>
<tr><td valign=top><em><a class="anchor" name="a46a12" doxytag="StringsSectionPlain" ></a>StringsSectionPlain</em>&nbsp;</td><td>
</td></tr>
<tr><td valign=top><em><a class="anchor" name="a46a13" doxytag="StringsSectionLoosePrimaryMatch" ></a>StringsSectionLoosePrimaryMatch</em>&nbsp;</td><td>
</td></tr>
<tr><td valign=top><em><a class="anchor" name="a46a14" doxytag="StringsSectionExactPrimaryMatch" ></a>StringsSectionExactPrimaryMatch</em>&nbsp;</td><td>
</td></tr>
<tr><td valign=top><em><a class="anchor" name="a46a15" doxytag="StringsSectionExactMatch" ></a>StringsSectionExactMatch</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l00078">78</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
<pre class="fragment"><div>00079 {
00080     <a class="code" href="../../d5/d3/parseini_8c.html#a46a11">StringsSectionNone</a>,
00081     <a class="code" href="../../d5/d3/parseini_8c.html#a46a12">StringsSectionPlain</a>,
00082     <a class="code" href="../../d5/d3/parseini_8c.html#a46a13">StringsSectionLoosePrimaryMatch</a>,
00083     <a class="code" href="../../d5/d3/parseini_8c.html#a46a14">StringsSectionExactPrimaryMatch</a>,
00084     <a class="code" href="../../d5/d3/parseini_8c.html#a46a15">StringsSectionExactMatch</a>
00085 };
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a47" doxytag="parseini.c::_tokentype" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> enum <a class="el" href="../../d5/d3/parseini_8c.html#a47">_tokentype</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Enumeration values: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em><a class="anchor" name="a47a16" doxytag="TOK_EOF" ></a>TOK_EOF</em>&nbsp;</td><td>
</td></tr>
<tr><td valign=top><em><a class="anchor" name="a47a17" doxytag="TOK_EOL" ></a>TOK_EOL</em>&nbsp;</td><td>
</td></tr>
<tr><td valign=top><em><a class="anchor" name="a47a18" doxytag="TOK_LBRACE" ></a>TOK_LBRACE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign=top><em><a class="anchor" name="a47a19" doxytag="TOK_RBRACE" ></a>TOK_RBRACE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign=top><em><a class="anchor" name="a47a20" doxytag="TOK_STRING" ></a>TOK_STRING</em>&nbsp;</td><td>
</td></tr>
<tr><td valign=top><em><a class="anchor" name="a47a21" doxytag="TOK_EQUAL" ></a>TOK_EQUAL</em>&nbsp;</td><td>
</td></tr>
<tr><td valign=top><em><a class="anchor" name="a47a22" doxytag="TOK_COMMA" ></a>TOK_COMMA</em>&nbsp;</td><td>
</td></tr>
<tr><td valign=top><em><a class="anchor" name="a47a23" doxytag="TOK_ERRPARSE" ></a>TOK_ERRPARSE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign=top><em><a class="anchor" name="a47a24" doxytag="TOK_ERRNOMEM" ></a>TOK_ERRNOMEM</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l00087">87</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
<pre class="fragment"><div>00088 {
00089     <a class="code" href="../../d5/d3/parseini_8c.html#a47a16">TOK_EOF</a>,
00090     <a class="code" href="../../d5/d3/parseini_8c.html#a47a17">TOK_EOL</a>,
00091     <a class="code" href="../../d5/d3/parseini_8c.html#a47a18">TOK_LBRACE</a>,
00092     <a class="code" href="../../d5/d3/parseini_8c.html#a47a19">TOK_RBRACE</a>,
00093     <a class="code" href="../../d5/d3/parseini_8c.html#a47a20">TOK_STRING</a>,
00094     <a class="code" href="../../d5/d3/parseini_8c.html#a47a21">TOK_EQUAL</a>,
00095     <a class="code" href="../../d5/d3/parseini_8c.html#a47a22">TOK_COMMA</a>,
00096     <a class="code" href="../../d5/d3/parseini_8c.html#a47a23">TOK_ERRPARSE</a>,
00097     <a class="code" href="../../d5/d3/parseini_8c.html#a47a24">TOK_ERRNOMEM</a>
00098 };
</div></pre>    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a30" doxytag="parseini.c::CmpAppendLine" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN CmpAppendLine           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d5/d3/parseini_8c.html#a3">PINF</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pInf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>pLineKey</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN BOOLEAN&nbsp;</td>
          <td class="mdname" nowrap> <em>Allocated</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l00383">383</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
References <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00146">ASSERT</a>, <a class="el" href="../../d6/d7/ex_8h-source.html#l00253">ExAllocatePoolWithTag</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d5/d8/ex_8h.html#a329a174">PagedPool</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00035">PLINE</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00036">PSECTION</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00034">PVALUE</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d6/d2/parseini_8c-source.html#l00744">CmpParseInfBuffer()</a>.
<p>
<pre class="fragment"><div>00391                        :
00392 
00393         This routine creates a <span class="keyword">new</span> line and appends <a class="code" href="../../d1/d9/icmui_8def.html#a4">it</a> to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> end of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> line list.
00394 
00395     Input Parameters:
00396 
00397         pInf - Pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf to be processed.
00398 
00399         pLineKey - <a class="code" href="../../d8/d0/geninst_8c.html#a20">Name</a> of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> line.
00400 
00401         Allocated - <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> <span class="keywordflow">if</span> memory was allocated <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> line name.
00402 
00403     Return Value:
00404 
00405         <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> iff successful.
00406 
00407 --*/
00408 
00409 {
00410     <a class="code" href="../../d5/d3/parseini_8c.html#a1">PLINE</a> pNewLine;
00411 
00412     <span class="comment">//</span>
00413     <span class="comment">// Check to see if current section initialized.</span>
00414     <span class="comment">//</span>
00415 
00416     <span class="keywordflow">if</span> (pInf-&gt;pSectionRecord == (<a class="code" href="../../d5/d3/parseini_8c.html#a2">PSECTION</a>)<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
00417     {
00418         <span class="keywordflow">return</span> (<a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>);
00419     }
00420 
00421     <span class="comment">//</span>
00422     <span class="comment">// Allocate memory for the new Line.</span>
00423     <span class="comment">//</span>
00424 
00425     pNewLine = (<a class="code" href="../../d5/d3/parseini_8c.html#a1">PLINE</a>)<a class="code" href="../../d5/d8/ex_8h.html#a4">ExAllocatePoolWithTag</a>(PagedPool, <span class="keyword">sizeof</span>(LINE), CM_PARSEINI_TAG);
00426     <span class="keywordflow">if</span> (pNewLine == (<a class="code" href="../../d5/d3/parseini_8c.html#a1">PLINE</a>)<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
00427     {
00428         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>(pNewLine);
00429         <span class="keywordflow">return</span> (<a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>);
00430     }
00431 
00432     <span class="comment">//</span>
00433     <span class="comment">// Link it in.</span>
00434     <span class="comment">//</span>
00435 
00436     pNewLine-&gt;pNext  = (<a class="code" href="../../d5/d3/parseini_8c.html#a1">PLINE</a>)<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00437     pNewLine-&gt;pValue = (<a class="code" href="../../d5/d3/parseini_8c.html#a0">PVALUE</a>)<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00438     pNewLine-&gt;pName  = pLineKey;
00439     pNewLine-&gt;Allocated = Allocated;
00440 
00441     <span class="keywordflow">if</span> (pInf-&gt;pLineRecord == (<a class="code" href="../../d5/d3/parseini_8c.html#a1">PLINE</a>)<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
00442     {
00443         pInf-&gt;pSectionRecord-&gt;pLine = pNewLine;
00444     }
00445     <span class="keywordflow">else</span>
00446     {
00447         pInf-&gt;pLineRecord-&gt;pNext = pNewLine;
00448     }
00449 
00450     pInf-&gt;pLineRecord  = pNewLine;
00451 
00452     <span class="comment">//</span>
00453     <span class="comment">// Reset the current value record</span>
00454     <span class="comment">//</span>
00455 
00456     pInf-&gt;pValueRecord = (<a class="code" href="../../d5/d3/parseini_8c.html#a0">PVALUE</a>)<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00457 
00458     <span class="keywordflow">return</span> (<a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>);
00459 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a29" doxytag="parseini.c::CmpAppendSection" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN CmpAppendSection           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d5/d3/parseini_8c.html#a3">PINF</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pInf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>pSectionName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN BOOLEAN&nbsp;</td>
          <td class="mdname" nowrap> <em>Allocated</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l00219">219</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
References <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00146">ASSERT</a>, <a class="el" href="../../d6/d7/ex_8h-source.html#l00253">ExAllocatePoolWithTag</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d5/d8/ex_8h.html#a329a174">PagedPool</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00037">PINF</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00035">PLINE</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00036">PSECTION</a>, <a class="el" href="../../d4/d8/mi_8h.html#a479">SECTION</a>, <a class="el" href="../../d5/d3/parseini_8c.html#a46a15">StringsSectionExactMatch</a>, <a class="el" href="../../d5/d3/parseini_8c.html#a46a14">StringsSectionExactPrimaryMatch</a>, <a class="el" href="../../d5/d3/parseini_8c.html#a46a13">StringsSectionLoosePrimaryMatch</a>, <a class="el" href="../../d5/d3/parseini_8c.html#a46a11">StringsSectionNone</a>, <a class="el" href="../../d5/d3/parseini_8c.html#a46a12">StringsSectionPlain</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00040">STRINGSSECTIONTYPE</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d4/d4/i386_2trapc_8c-source.html#l00076">type</a>, and <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00064">USHORT</a>.
<p>
Referenced by <a class="el" href="../../d6/d2/parseini_8c-source.html#l00744">CmpParseInfBuffer()</a>.
<p>
<pre class="fragment"><div>00227                        :
00228 
00229         This routine creates a <span class="keyword">new</span> section or merges with an existing section in <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf.
00230 
00231     Input Parameters:
00232 
00233         pInf - Pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf to be processed.
00234 
00235         pSectionName - <a class="code" href="../../d8/d0/geninst_8c.html#a20">Name</a> of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> section.
00236 
00237         Allocated - <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> <span class="keywordflow">if</span> memory was allocated <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> section name.
00238 
00239     Return Value:
00240 
00241         <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> iff successful.
00242 
00243 --*/
00244 
00245 {
00246     <a class="code" href="../../d5/d3/parseini_8c.html#a2">PSECTION</a>            pNewSection;
00247     <a class="code" href="../../d5/d3/parseini_8c.html#a1">PLINE</a>               pLineRecord;
00248     <a class="code" href="../../d5/d3/parseini_8c.html#a6">STRINGSSECTIONTYPE</a>  <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a>;
00249     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>              <span class="keywordtype">id</span>;
00250     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>              threadLang;
00251     PCHAR               p;
00252 
00253     <span class="comment">//</span>
00254     <span class="comment">// Check to see if INF initialised and the parameters passed in is valid</span>
00255     <span class="comment">//</span>
00256 
00257     <span class="keywordflow">if</span> (    pInf == (<a class="code" href="../../d5/d3/parseini_8c.html#a3">PINF</a>)<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a> ||
00258             pSectionName == (PCHAR)<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
00259     {
00260         <span class="keywordflow">return</span> (<a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>);
00261     }
00262 
00263     <span class="comment">//</span>
00264     <span class="comment">// See if we already have a section by this name. If so we want</span>
00265     <span class="comment">// to merge sections.</span>
00266     <span class="comment">//</span>
00267 
00268     <span class="keywordflow">for</span>(    pNewSection = pInf-&gt;pSection;
00269             pNewSection;
00270             pNewSection = pNewSection-&gt;pNext)
00271     {
00272         <span class="keywordflow">if</span>(pNewSection-&gt;pName &amp;&amp; _stricmp(pNewSection-&gt;pName,pSectionName) == 0)
00273         {
00274             <span class="keywordflow">break</span>;
00275         }
00276     }
00277 
00278     <span class="keywordflow">if</span>(pNewSection)
00279     {
00280         <span class="comment">//</span>
00281         <span class="comment">// Set pLineRecord to point to the last line currently in the section.</span>
00282         <span class="comment">//</span>
00283 
00284         <span class="keywordflow">for</span>(    pLineRecord = pNewSection-&gt;pLine;
00285                 pLineRecord &amp;&amp; pLineRecord-&gt;pNext;
00286                 pLineRecord = pLineRecord-&gt;pNext);
00287 
00288         pInf-&gt;pLineRecord = pLineRecord;
00289     }
00290     <span class="keywordflow">else</span>
00291     {
00292         <span class="comment">//</span>
00293         <span class="comment">// Allocate memory for the new section</span>
00294         <span class="comment">//</span>
00295 
00296         pNewSection = (<a class="code" href="../../d5/d3/parseini_8c.html#a2">PSECTION</a>)<a class="code" href="../../d5/d8/ex_8h.html#a4">ExAllocatePoolWithTag</a>(PagedPool, <span class="keyword">sizeof</span>(<a class="code" href="../../d5/d0/struct__SECTION.html">SECTION</a>), CM_PARSEINI_TAG);
00297 
00298         <span class="keywordflow">if</span> (pNewSection == (<a class="code" href="../../d5/d3/parseini_8c.html#a2">PSECTION</a>)<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
00299         {
00300             <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>(pNewSection);
00301             <span class="keywordflow">return</span> (<a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>);
00302         }
00303 
00304         <span class="comment">//</span>
00305         <span class="comment">// Initialize the new section.</span>
00306         <span class="comment">//</span>
00307 
00308         pNewSection-&gt;pNext = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00309         pNewSection-&gt;pLine = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00310         pNewSection-&gt;pName = pSectionName;
00311         pNewSection-&gt;Allocated = Allocated;
00312 
00313         <span class="comment">//</span>
00314         <span class="comment">// Link it in.</span>
00315         <span class="comment">//</span>
00316 
00317         pNewSection-&gt;pNext = pInf-&gt;pSection;
00318         pInf-&gt;pSection = pNewSection;
00319 
00320         <span class="keywordflow">if</span>(_strnicmp(pSectionName, <span class="stringliteral">"Strings"</span>, 7) == 0)
00321         {
00322             <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a> = <a class="code" href="../../d5/d3/parseini_8c.html#a46a11">StringsSectionNone</a>;
00323 
00324             <span class="keywordflow">if</span>(pSectionName[7] == <span class="charliteral">'.'</span>)
00325             {
00326                 <span class="comment">//</span>
00327                 <span class="comment">// The langid part must be in the form of 4 hex digits.</span>
00328                 <span class="comment">//</span>
00329 
00330                 <span class="keywordtype">id</span> = (<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>)strtoul(pSectionName + 8, &amp;p, 16);
00331                 <span class="keywordflow">if</span>(p == (pSectionName + 8 + 5) &amp;&amp; *p == <span class="charliteral">'\0'</span>)
00332                 {
00333                     threadLang = LANGIDFROMLCID(NtCurrentTeb()-&gt;CurrentLocale);
00334 
00335                     <span class="keywordflow">if</span>(threadLang == <span class="keywordtype">id</span>)
00336                     {
00337                         <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a> = <a class="code" href="../../d5/d3/parseini_8c.html#a46a15">StringsSectionExactMatch</a>;
00338                     }
00339                     <span class="keywordflow">else</span>
00340                     {
00341                         <span class="keywordflow">if</span>(<span class="keywordtype">id</span> == PRIMARYLANGID(threadLang))
00342                         {
00343                             <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a> = <a class="code" href="../../d5/d3/parseini_8c.html#a46a14">StringsSectionExactPrimaryMatch</a>;
00344                         }
00345                         <span class="keywordflow">else</span>
00346                         {
00347                             <span class="keywordflow">if</span>(PRIMARYLANGID(<span class="keywordtype">id</span>) == PRIMARYLANGID(threadLang))
00348                             {
00349                                 <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a> = <a class="code" href="../../d5/d3/parseini_8c.html#a46a13">StringsSectionLoosePrimaryMatch</a>;
00350                             }
00351                         }
00352                     }
00353                 }
00354             }
00355             <span class="keywordflow">else</span>
00356             {
00357                 <span class="keywordflow">if</span>(!pSectionName[7])
00358                 {
00359                     <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a> = <a class="code" href="../../d5/d3/parseini_8c.html#a46a12">StringsSectionPlain</a>;
00360                 }
00361             }
00362 
00363             <span class="keywordflow">if</span>(<a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a> &gt; pInf-&gt;StringsSectionType)
00364             {
00365                 pInf-&gt;StringsSection = pNewSection;
00366             }
00367         }
00368 
00369         <span class="comment">//</span>
00370         <span class="comment">// Reset the current line record.</span>
00371         <span class="comment">//</span>
00372 
00373         pInf-&gt;pLineRecord = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00374     }
00375 
00376     pInf-&gt;pSectionRecord = pNewSection;
00377     pInf-&gt;pValueRecord = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00378 
00379     <span class="keywordflow">return</span> (<a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>);
00380 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a31" doxytag="parseini.c::CmpAppendValue" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN CmpAppendValue           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d5/d3/parseini_8c.html#a3">PINF</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pInf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>pValueString</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN BOOLEAN&nbsp;</td>
          <td class="mdname" nowrap> <em>Allocated</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l00462">462</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
References <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00146">ASSERT</a>, <a class="el" href="../../d6/d7/ex_8h-source.html#l00253">ExAllocatePoolWithTag</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d5/d8/ex_8h.html#a329a174">PagedPool</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00035">PLINE</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00034">PVALUE</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d6/d2/parseini_8c-source.html#l00744">CmpParseInfBuffer()</a>.
<p>
<pre class="fragment"><div>00470                        :
00471 
00472         This routine creates a <span class="keyword">new</span> value and appends <a class="code" href="../../d1/d9/icmui_8def.html#a4">it</a> to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> end of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> value list.
00473 
00474     Input Parameters:
00475 
00476         pInf - Pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf to be processed.
00477 
00478         pValueString - <a class="code" href="../../d8/d0/geninst_8c.html#a20">Name</a> of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> value.
00479 
00480         Allocated - <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> <span class="keywordflow">if</span> memory was allocated <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> value name.
00481 
00482     Return Value:
00483 
00484         <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> iff successful.
00485 
00486 --*/
00487 
00488 {
00489     <a class="code" href="../../d5/d3/parseini_8c.html#a0">PVALUE</a> pNewValue;
00490 
00491     <span class="comment">//</span>
00492     <span class="comment">// Check to see if current line record has been initialised and</span>
00493     <span class="comment">// the parameter passed in is valid.</span>
00494     <span class="comment">//</span>
00495 
00496     <span class="keywordflow">if</span> (    pInf-&gt;pLineRecord == (<a class="code" href="../../d5/d3/parseini_8c.html#a1">PLINE</a>)<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a> ||
00497             pValueString == (PCHAR)<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
00498     {
00499         <span class="keywordflow">return</span> (<a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>);
00500     }
00501 
00502     <span class="comment">//</span>
00503     <span class="comment">// Allocate memory for the new value record.</span>
00504     <span class="comment">//</span>
00505 
00506     pNewValue = (<a class="code" href="../../d5/d3/parseini_8c.html#a0">PVALUE</a>)<a class="code" href="../../d5/d8/ex_8h.html#a4">ExAllocatePoolWithTag</a>(PagedPool, <span class="keyword">sizeof</span>(VALUE), CM_PARSEINI_TAG);
00507 
00508     <span class="keywordflow">if</span> (pNewValue == (<a class="code" href="../../d5/d3/parseini_8c.html#a0">PVALUE</a>)<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
00509     {
00510         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>(pNewValue);
00511         <span class="keywordflow">return</span> (<a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>);
00512     }
00513 
00514     <span class="comment">//</span>
00515     <span class="comment">// Link it in.</span>
00516     <span class="comment">//</span>
00517 
00518     pNewValue-&gt;pNext  = (<a class="code" href="../../d5/d3/parseini_8c.html#a0">PVALUE</a>)<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00519     pNewValue-&gt;pName  = pValueString;
00520     pNewValue-&gt;Allocated = Allocated;
00521 
00522     <span class="keywordflow">if</span> (pInf-&gt;pValueRecord == (<a class="code" href="../../d5/d3/parseini_8c.html#a0">PVALUE</a>)<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
00523     {
00524         pInf-&gt;pLineRecord-&gt;pValue = pNewValue;
00525     }
00526     <span class="keywordflow">else</span>
00527     {
00528         pInf-&gt;pValueRecord-&gt;pNext = pNewValue;
00529     }
00530 
00531     pInf-&gt;pValueRecord = pNewValue;
00532 
00533     <span class="keywordflow">return</span> (<a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>);
00534 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a38" doxytag="parseini.c::CmpCloseInfFile" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID CmpCloseInfFile           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PVOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>InfHandle</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l01832">1832</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
References <a class="el" href="../../d6/d2/parseini_8c-source.html#l01558">CmpFreeSectionList()</a>, <a class="el" href="../../d7/d2/cmwraper_8c-source.html#l00304">ExFreePool()</a>, and <a class="el" href="../../d6/d2/parseini_8c-source.html#l00037">PINF</a>.
<p>
Referenced by <a class="el" href="../../d0/d3/rules_8c-source.html#l00315">CmpMatchInfList()</a>.
<p>
<pre class="fragment"><div>01838                        :
01839 
01840         This routine closes <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf handle by releasing any
01841         memory allocated <span class="keywordflow">for</span> <a class="code" href="../../d1/d9/icmui_8def.html#a4">it</a> during parsing.
01842 
01843     Input Parameters:
01844 
01845         InfHandle - <a class="code" href="../../d7/d0/cmdat2_8c.html#a19">Handle</a> to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf to be closed.
01846 
01847     Return Value:
01848 
01849         None.
01850 
01851 --*/
01852 
01853 {
01854     <span class="keywordflow">if</span> (InfHandle)
01855     {
01856         <a class="code" href="../../d5/d3/parseini_8c.html#a27">CmpFreeSectionList</a>(((PINF)InfHandle)-&gt;pSection);
01857         <a class="code" href="../../d5/d8/ex_8h.html#a224">ExFreePool</a>(InfHandle);
01858     }
01859 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a26" doxytag="parseini.c::CmpFreeLineList" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID CmpFreeLineList           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d5/d3/parseini_8c.html#a1">PLINE</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pLine</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l01495">1495</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
References <a class="el" href="../../d6/d2/parseini_8c-source.html#l01439">CmpFreeValueList()</a>, <a class="el" href="../../d7/d2/cmwraper_8c-source.html#l00304">ExFreePool()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00035">PLINE</a>, and <a class="el" href="../../d6/d2/parseini_8c-source.html#l00051">_line::pNext</a>.
<p>
Referenced by <a class="el" href="../../d6/d2/parseini_8c-source.html#l01558">CmpFreeSectionList()</a>.
<p>
<pre class="fragment"><div>01501                        :
01502 
01503         This routine releases memory <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> list of lines and
01504         values under <a class="code" href="../../d1/d9/icmui_8def.html#a4">it</a>.
01505 
01506     Input Parameters:
01507 
01508         pLine - Pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> line list to be freed.
01509 
01510     Return Value:
01511 
01512         None.
01513 
01514 --*/
01515 
01516 {
01517     <a class="code" href="../../d5/d3/parseini_8c.html#a1">PLINE</a> pNext;
01518 
01519     <span class="keywordflow">while</span> (pLine)
01520     {
01521         <span class="comment">//</span>
01522         <span class="comment">// Save the next pointer so we dont access memory after it has</span>
01523         <span class="comment">// been freed.</span>
01524         <span class="comment">//</span>
01525 
01526         pNext = pLine-&gt;<a class="code" href="../../d7/d1/struct__line.html#o0">pNext</a>;
01527 
01528         <span class="comment">//</span>
01529         <span class="comment">// Free any data inside this Line.</span>
01530         <span class="comment">//</span>
01531 
01532         <span class="keywordflow">if</span> (pLine-&gt;Allocated &amp;&amp; pLine-&gt;pName)
01533         {
01534             <a class="code" href="../../d5/d8/ex_8h.html#a224">ExFreePool</a>((PVOID)pLine-&gt;pName);
01535         }
01536 
01537         <span class="comment">//</span>
01538         <span class="comment">// Free the list of values inside this Line.</span>
01539         <span class="comment">//</span>
01540 
01541         <a class="code" href="../../d5/d3/parseini_8c.html#a25">CmpFreeValueList</a>(pLine-&gt;pValue);
01542 
01543         <span class="comment">//</span>
01544         <span class="comment">// Free memory for this line itself.</span>
01545         <span class="comment">//</span>
01546 
01547         <a class="code" href="../../d5/d8/ex_8h.html#a224">ExFreePool</a>((PVOID)pLine);
01548 
01549         <span class="comment">//</span>
01550         <span class="comment">// Go to the next line.</span>
01551         <span class="comment">//</span>
01552 
01553         pLine = pNext;
01554     }
01555 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a27" doxytag="parseini.c::CmpFreeSectionList" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID CmpFreeSectionList           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d4/d8/mi_8h.html#a480">PSECTION</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pSection</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l01558">1558</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
References <a class="el" href="../../d6/d2/parseini_8c-source.html#l01495">CmpFreeLineList()</a>, <a class="el" href="../../d7/d2/cmwraper_8c-source.html#l00304">ExFreePool()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00059">_section::pNext</a>, and <a class="el" href="../../d6/d2/parseini_8c-source.html#l00036">PSECTION</a>.
<p>
Referenced by <a class="el" href="../../d6/d2/parseini_8c-source.html#l01832">CmpCloseInfFile()</a>.
<p>
<pre class="fragment"><div>01564                        :
01565 
01566         This routine releases memory <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> list of sections and
01567         lines under <a class="code" href="../../d1/d9/icmui_8def.html#a4">it</a>.
01568 
01569     Input Parameters:
01570 
01571         pSection - Pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> section list to be freed.
01572 
01573     Return Value:
01574 
01575         None.
01576 
01577 --*/
01578 
01579 {
01580     <a class="code" href="../../d5/d3/parseini_8c.html#a2">PSECTION</a> pNext;
01581 
01582     <span class="keywordflow">while</span> (pSection)
01583     {
01584         <span class="comment">//</span>
01585         <span class="comment">// Save the next pointer so we dont access memory after it has</span>
01586         <span class="comment">// been freed.</span>
01587         <span class="comment">//</span>
01588 
01589         pNext = pSection-&gt;<a class="code" href="../../d4/d0/struct__section.html#o0">pNext</a>;
01590 
01591         <span class="comment">//</span>
01592         <span class="comment">// Free any data inside this Line.</span>
01593         <span class="comment">//</span>
01594 
01595         <span class="keywordflow">if</span> (pSection-&gt;Allocated &amp;&amp; pSection-&gt;pName)
01596         {
01597             <a class="code" href="../../d5/d8/ex_8h.html#a224">ExFreePool</a>((PVOID)pSection-&gt;pName);
01598         }
01599 
01600         <span class="comment">//</span>
01601         <span class="comment">// Free the list of values inside this Line.</span>
01602         <span class="comment">//</span>
01603 
01604         <a class="code" href="../../d5/d3/parseini_8c.html#a26">CmpFreeLineList</a>(pSection-&gt;pLine);
01605 
01606         <span class="comment">//</span>
01607         <span class="comment">// Free memory for this line itself.</span>
01608         <span class="comment">//</span>
01609 
01610         <a class="code" href="../../d5/d8/ex_8h.html#a224">ExFreePool</a>((PVOID)pSection);
01611 
01612         <span class="comment">//</span>
01613         <span class="comment">// Go to the next line.</span>
01614         <span class="comment">//</span>
01615 
01616         pSection = pNext;
01617     }
01618 
01619 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a25" doxytag="parseini.c::CmpFreeValueList" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID CmpFreeValueList           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d5/d3/parseini_8c.html#a0">PVALUE</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pValue</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l01439">1439</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
References <a class="el" href="../../d7/d2/cmwraper_8c-source.html#l00304">ExFreePool()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00044">_value::pNext</a>, and <a class="el" href="../../d6/d2/parseini_8c-source.html#l00034">PVALUE</a>.
<p>
Referenced by <a class="el" href="../../d6/d2/parseini_8c-source.html#l01495">CmpFreeLineList()</a>.
<p>
<pre class="fragment"><div>01445                        :
01446 
01447         This routine releases memory <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> list of values.
01448 
01449     Input Parameters:
01450 
01451         pValue - Pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> value list to be freed.
01452 
01453     Return Value:
01454 
01455         None.
01456 
01457 --*/
01458 
01459 {
01460     <a class="code" href="../../d5/d3/parseini_8c.html#a0">PVALUE</a> pNext;
01461 
01462     <span class="keywordflow">while</span> (pValue)
01463     {
01464         <span class="comment">//</span>
01465         <span class="comment">// Save the next pointer so we dont access memory after it has</span>
01466         <span class="comment">// been freed.</span>
01467         <span class="comment">//</span>
01468 
01469         pNext = pValue-&gt;<a class="code" href="../../d5/d5/struct__value.html#o0">pNext</a>;
01470 
01471         <span class="comment">//</span>
01472         <span class="comment">// Free any data inside this value.</span>
01473         <span class="comment">//</span>
01474 
01475         <span class="keywordflow">if</span> (pValue-&gt;Allocated &amp;&amp; pValue-&gt;pName)
01476         {
01477             <a class="code" href="../../d5/d8/ex_8h.html#a224">ExFreePool</a>((PVOID)pValue-&gt;pName);
01478         }
01479 
01480         <span class="comment">//</span>
01481         <span class="comment">// Free memory for this value.</span>
01482         <span class="comment">//</span>
01483 
01484         <a class="code" href="../../d5/d8/ex_8h.html#a224">ExFreePool</a>(pValue);
01485 
01486         <span class="comment">//</span>
01487         <span class="comment">// Go to the next value.</span>
01488         <span class="comment">//</span>
01489 
01490         pValue = pNext;
01491     }
01492 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a45" doxytag="parseini.c::CmpGetBinaryField" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN CmpGetBinaryField           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PVOID&nbsp;</td>
          <td class="mdname" nowrap> <em>InfHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>Section</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>LineIndex</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>ValueIndex</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN OUT PVOID&nbsp;</td>
          <td class="mdname" nowrap> <em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>BufferSize</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN OUT PULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>ActualSize</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l02177">2177</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
References <a class="el" href="../../d7/d1/rtqkey_8c-source.html#l00042">Buffer</a>, <a class="el" href="../../d7/d1/rtqkey_8c-source.html#l00045">BufferSize</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01991">CmpGetSectionLineIndex()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l02060">CmpGetSectionLineIndexValueCount()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01739">CmpSearchLineInSectionByIndex()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01661">CmpSearchSectionByName()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00037">PINF</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00035">PLINE</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00036">PSECTION</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00034">PVALUE</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d9/d9/geninst_8c-source.html#l00987">CmpGetAddRegInfData()</a>.
<p>
<pre class="fragment"><div>02189                        :
02190 
02191         This routine reads binary data from <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf.
02192 
02193     Input Parameters:
02194 
02195         InfHandle - <a class="code" href="../../d7/d0/cmdat2_8c.html#a19">Handle</a> to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf to be read.
02196 
02197         Section - <a class="code" href="../../d8/d0/geninst_8c.html#a20">Name</a> of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> section to be read.
02198 
02199         LineIndex - <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a> of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> line to be read.
02200 
02201         ValueIndex - <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a> of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> value to be read.
02202 
02203         <a class="code" href="../../d6/d2/rtqkey_8c.html#a3">Buffer</a> - Receives <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> binary data read.
02204 
02205         <a class="code" href="../../d6/d2/rtqkey_8c.html#a5">BufferSize</a> - <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a0">Size</a> of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> buffer.
02206 
02207         ActualSize - Receives <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> size of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> data buffer required.
02208 
02209     Return Value:
02210 
02211         <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> iff successful.
02212 
02213 --*/
02214 
02215 {
02216     BOOLEAN     result = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
02217     ULONG       requiredSize;
02218     <a class="code" href="../../d5/d3/parseini_8c.html#a2">PSECTION</a>    pSection;
02219     <a class="code" href="../../d5/d3/parseini_8c.html#a1">PLINE</a>       pLine;
02220     <a class="code" href="../../d5/d3/parseini_8c.html#a0">PVALUE</a>      pValue;
02221     ULONG       count;
02222     PCHAR       valueStr;
02223 
02224     <span class="comment">//</span>
02225     <span class="comment">// Compute the size of buffer required to read in the binary data.</span>
02226     <span class="comment">//</span>
02227 
02228     requiredSize = (<a class="code" href="../../d6/d3/parseini_8h.html#a6">CmpGetSectionLineIndexValueCount</a>(   InfHandle,
02229                                                         Section,
02230                                                         LineIndex) - ValueIndex) * <span class="keyword">sizeof</span>(UCHAR);
02231     <span class="comment">//</span>
02232     <span class="comment">// Validate input parameters.</span>
02233     <span class="comment">//</span>
02234 
02235     <span class="keywordflow">if</span> (<a class="code" href="../../d6/d2/rtqkey_8c.html#a3">Buffer</a> &amp;&amp; <a class="code" href="../../d6/d2/rtqkey_8c.html#a5">BufferSize</a> &gt;= requiredSize)
02236     {
02237         <span class="comment">//</span>
02238         <span class="comment">// Search the section in the inf.</span>
02239         <span class="comment">//</span>
02240 
02241         pSection = <a class="code" href="../../d5/d3/parseini_8c.html#a36">CmpSearchSectionByName</a>((PINF)InfHandle, Section);
02242         <span class="keywordflow">if</span>(pSection)
02243         {
02244             <span class="comment">//</span>
02245             <span class="comment">// Search the line in this section.</span>
02246             <span class="comment">//</span>
02247 
02248             pLine = <a class="code" href="../../d5/d3/parseini_8c.html#a35">CmpSearchLineInSectionByIndex</a>(pSection, LineIndex);
02249             <span class="keywordflow">if</span> (pLine)
02250             {
02251                 <span class="comment">//</span>
02252                 <span class="comment">// Go to the specified value.</span>
02253                 <span class="comment">//</span>
02254 
02255                 <span class="keywordflow">for</span>(    pValue = pLine-&gt;pValue, count = 0;
02256                         pValue &amp;&amp; count &lt; ValueIndex;
02257                         pValue = pValue-&gt;pNext, count++);
02258 
02259                 <span class="comment">//</span>
02260                 <span class="comment">// Read in and convert the binary data.</span>
02261                 <span class="comment">//</span>
02262 
02263                 <span class="keywordflow">for</span> (   ;
02264                         pValue;
02265                         pValue = pValue-&gt;pNext)
02266                 {
02267                     valueStr = <a class="code" href="../../d6/d3/parseini_8h.html#a5">CmpGetSectionLineIndex</a>(  InfHandle,
02268                                                         Section,
02269                                                         LineIndex,
02270                                                         ValueIndex++);
02271                     <span class="keywordflow">if</span> (valueStr == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
02272                     {
02273                         <span class="keywordflow">break</span>;
02274                     }
02275                     *((PUCHAR)<a class="code" href="../../d6/d2/rtqkey_8c.html#a3">Buffer</a>)++ = (UCHAR)strtoul(valueStr, NULL, 16);
02276                 }
02277                 <span class="keywordflow">if</span> (valueStr)
02278                 {
02279                     result = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
02280                 }
02281             }
02282         }
02283     }
02284 
02285     <span class="comment">//</span>
02286     <span class="comment">// The caller wants to know the buffer size required.</span>
02287     <span class="comment">//</span>
02288 
02289     <span class="keywordflow">if</span> (ActualSize)
02290     {
02291         *ActualSize = requiredSize;
02292         result = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
02293     }
02294 
02295     <span class="keywordflow">return</span> (result);
02296 }
}
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a44" doxytag="parseini.c::CmpGetIntField" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN CmpGetIntField           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PVOID&nbsp;</td>
          <td class="mdname" nowrap> <em>InfHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>Section</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>LineIndex</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>ValueIndex</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN OUT PULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Data</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l02120">2120</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
References <a class="el" href="../../d6/d2/parseini_8c-source.html#l01991">CmpGetSectionLineIndex()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d9/d9/geninst_8c-source.html#l00987">CmpGetAddRegInfData()</a>, <a class="el" href="../../d9/d9/geninst_8c-source.html#l00311">CmpProcessAddRegLine()</a>, and <a class="el" href="../../d9/d9/geninst_8c-source.html#l00776">CmpProcessBitRegLine()</a>.
<p>
<pre class="fragment"><div>02130                        :
02131 
02132         This routine reads integer data from <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf.
02133 
02134     Input Parameters:
02135 
02136         InfHandle - <a class="code" href="../../d7/d0/cmdat2_8c.html#a19">Handle</a> to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf to be read.
02137 
02138         Section - <a class="code" href="../../d8/d0/geninst_8c.html#a20">Name</a> of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> section to be read.
02139 
02140         LineIndex - <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a> of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> line to be read.
02141 
02142         ValueIndex - <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a> of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> value to be read.
02143 
02144         Data - Receives <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> integer data.
02145 
02146     Return Value:
02147 
02148         <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> iff successful.
02149 
02150 --*/
02151 
02152 {
02153     PCHAR   valueStr;
02154 
02155     <span class="comment">//</span>
02156     <span class="comment">// Get the specified value.</span>
02157     <span class="comment">//</span>
02158 
02159     valueStr = <a class="code" href="../../d6/d3/parseini_8h.html#a5">CmpGetSectionLineIndex</a>(  InfHandle,
02160                                         Section,
02161                                         LineIndex,
02162                                         ValueIndex);
02163     <span class="comment">//</span>
02164     <span class="comment">// If valid value is found, convert it to an integer.</span>
02165     <span class="comment">//</span>
02166 
02167     <span class="keywordflow">if</span> (valueStr &amp;&amp; *valueStr)
02168     {
02169         *Data = strtoul(valueStr, NULL, 16);
02170         <span class="keywordflow">return</span> (<a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>);
02171     }
02172 
02173     <span class="keywordflow">return</span> (<a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>);
02174 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a40" doxytag="parseini.c::CmpGetKeyName" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PCHAR CmpGetKeyName           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PVOID&nbsp;</td>
          <td class="mdname" nowrap> <em>InfHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>Section</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>LineIndex</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l01890">1890</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
References <a class="el" href="../../d6/d2/parseini_8c-source.html#l01739">CmpSearchLineInSectionByIndex()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01661">CmpSearchSectionByName()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00037">PINF</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00035">PLINE</a>, and <a class="el" href="../../d6/d2/parseini_8c-source.html#l00036">PSECTION</a>.
<p>
Referenced by <a class="el" href="../../d9/d9/geninst_8c-source.html#l00176">CmpGenInstall()</a>, and <a class="el" href="../../d0/d3/rules_8c-source.html#l00394">CmpMatchDescription()</a>.
<p>
<pre class="fragment"><div>01898                        :
01899 
01900         This routine returns <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> name of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> specified line in <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf.
01901 
01902     Input Parameters:
01903 
01904         InfHandle - <a class="code" href="../../d7/d0/cmdat2_8c.html#a19">Handle</a> to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf to be read.
01905 
01906         Section - <a class="code" href="../../d8/d0/geninst_8c.html#a20">Name</a> of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> section to be read.
01907 
01908         LineIndex - <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a> of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> line to be read.
01909 
01910     Return Value:
01911 
01912         Pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> name of line in <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf iff successful. Else <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>.
01913 
01914 --*/
01915 
01916 {
01917     <a class="code" href="../../d5/d3/parseini_8c.html#a2">PSECTION</a>    pSection;
01918     <a class="code" href="../../d5/d3/parseini_8c.html#a1">PLINE</a>       pLine;
01919 
01920     <span class="comment">//</span>
01921     <span class="comment">// First search the section.</span>
01922     <span class="comment">//</span>
01923 
01924     pSection = <a class="code" href="../../d5/d3/parseini_8c.html#a36">CmpSearchSectionByName</a>((PINF)InfHandle, Section);
01925     <span class="keywordflow">if</span>(pSection)
01926     {
01927         <span class="comment">//</span>
01928         <span class="comment">// Get the line in the section.</span>
01929         <span class="comment">//</span>
01930 
01931         pLine = <a class="code" href="../../d5/d3/parseini_8c.html#a35">CmpSearchLineInSectionByIndex</a>(pSection, LineIndex);
01932         <span class="keywordflow">if</span>(pLine)
01933         {
01934             <span class="keywordflow">return</span>(pLine-&gt;pName);
01935         }
01936     }
01937 
01938     <span class="keywordflow">return</span> (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
01939 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a42" doxytag="parseini.c::CmpGetSectionLineIndex" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PCHAR CmpGetSectionLineIndex           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PVOID&nbsp;</td>
          <td class="mdname" nowrap> <em>InfHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>Section</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>LineIndex</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>ValueIndex</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l01991">1991</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
References <a class="el" href="../../d6/d2/parseini_8c-source.html#l01369">CmpProcessForSimpleStringSub()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01739">CmpSearchLineInSectionByIndex()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01661">CmpSearchSectionByName()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01622">CmpSearchValueInLine()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00037">PINF</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00035">PLINE</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00036">PSECTION</a>, and <a class="el" href="../../d6/d2/parseini_8c-source.html#l00034">PVALUE</a>.
<p>
Referenced by <a class="el" href="../../d9/d9/geninst_8c-source.html#l00176">CmpGenInstall()</a>, <a class="el" href="../../d9/d9/geninst_8c-source.html#l00987">CmpGetAddRegInfData()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l02177">CmpGetBinaryField()</a>, <a class="el" href="../../d0/d3/rules_8c-source.html#l01703">CmpGetInfData()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l02120">CmpGetIntField()</a>, <a class="el" href="../../d0/d3/rules_8c-source.html#l01623">CmpMatchAcpiCreatorIdRule()</a>, <a class="el" href="../../d0/d3/rules_8c-source.html#l01540">CmpMatchAcpiCreatorRevisionRule()</a>, <a class="el" href="../../d0/d3/rules_8c-source.html#l01171">CmpMatchAcpiOemIdRule()</a>, <a class="el" href="../../d0/d3/rules_8c-source.html#l01372">CmpMatchAcpiOemRevisionRule()</a>, <a class="el" href="../../d0/d3/rules_8c-source.html#l01288">CmpMatchAcpiOemTableIdRule()</a>, <a class="el" href="../../d0/d3/rules_8c-source.html#l01456">CmpMatchAcpiRevisionRule()</a>, <a class="el" href="../../d0/d3/rules_8c-source.html#l00476">CmpMatchDateRule()</a>, <a class="el" href="../../d0/d3/rules_8c-source.html#l00315">CmpMatchInfList()</a>, <a class="el" href="../../d0/d3/rules_8c-source.html#l01145">CmpMatchInstallRule()</a>, <a class="el" href="../../d0/d3/rules_8c-source.html#l00569">CmpMatchMemoryRule()</a>, <a class="el" href="../../d0/d3/rules_8c-source.html#l00764">CmpMatchNextMatchRule()</a>, <a class="el" href="../../d0/d3/rules_8c-source.html#l00957">CmpMatchOemIdRule()</a>, <a class="el" href="../../d0/d3/rules_8c-source.html#l00853">CmpMatchPointerRule()</a>, <a class="el" href="../../d0/d3/rules_8c-source.html#l00666">CmpMatchSearchRule()</a>, <a class="el" href="../../d9/d9/geninst_8c-source.html#l00311">CmpProcessAddRegLine()</a>, <a class="el" href="../../d9/d9/geninst_8c-source.html#l00776">CmpProcessBitRegLine()</a>, and <a class="el" href="../../d9/d9/geninst_8c-source.html#l00658">CmpProcessDelRegLine()</a>.
<p>
<pre class="fragment"><div>02000                        :
02001 
02002         This routine returns <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> value at <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> specified location in <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf.
02003 
02004     Input Parameters:
02005 
02006         InfHandle - <a class="code" href="../../d7/d0/cmdat2_8c.html#a19">Handle</a> to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf to be read.
02007 
02008         Section - <a class="code" href="../../d8/d0/geninst_8c.html#a20">Name</a> of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> section to be read.
02009 
02010         LineIndex - <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a> of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> line to be read.
02011 
02012         ValueIndex - <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a> of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> value to be read.
02013 
02014     Return Value:
02015 
02016         Pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> value iff successful. Else <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>.
02017 
02018 --*/
02019 
02020 {
02021     <a class="code" href="../../d5/d3/parseini_8c.html#a2">PSECTION</a> pSection;
02022     <a class="code" href="../../d5/d3/parseini_8c.html#a1">PLINE</a>    pLine;
02023     <a class="code" href="../../d5/d3/parseini_8c.html#a0">PVALUE</a>   pValue;
02024 
02025     <span class="comment">//</span>
02026     <span class="comment">// Search the section in the inf.</span>
02027     <span class="comment">//</span>
02028 
02029     pSection = <a class="code" href="../../d5/d3/parseini_8c.html#a36">CmpSearchSectionByName</a>((PINF)InfHandle, Section);
02030     <span class="keywordflow">if</span>(pSection)
02031     {
02032         <span class="comment">//</span>
02033         <span class="comment">// Search the line in the section.</span>
02034         <span class="comment">//</span>
02035 
02036         pLine = <a class="code" href="../../d5/d3/parseini_8c.html#a35">CmpSearchLineInSectionByIndex</a>(pSection, LineIndex);
02037         <span class="keywordflow">if</span>(pLine)
02038         {
02039             <span class="comment">//</span>
02040             <span class="comment">// Search the value in the line.</span>
02041             <span class="comment">//</span>
02042 
02043             pValue = <a class="code" href="../../d5/d3/parseini_8c.html#a34">CmpSearchValueInLine</a>(pLine, ValueIndex);
02044             <span class="keywordflow">if</span>(pValue)
02045             {
02046                 <span class="comment">//</span>
02047                 <span class="comment">// The value may need to be replaced by one of the strings</span>
02048                 <span class="comment">// from the string section.</span>
02049                 <span class="comment">//</span>
02050 
02051                 <span class="keywordflow">return</span>(<a class="code" href="../../d5/d3/parseini_8c.html#a28">CmpProcessForSimpleStringSub</a>(InfHandle, pValue-&gt;pName));
02052             }
02053         }
02054     }
02055 
02056     <span class="keywordflow">return</span>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
02057 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a43" doxytag="parseini.c::CmpGetSectionLineIndexValueCount" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ULONG CmpGetSectionLineIndexValueCount           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PVOID&nbsp;</td>
          <td class="mdname" nowrap> <em>InfHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>Section</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>LineIndex</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l02060">2060</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
References <a class="el" href="../../d6/d2/parseini_8c-source.html#l01739">CmpSearchLineInSectionByIndex()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01661">CmpSearchSectionByName()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00037">PINF</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00035">PLINE</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00036">PSECTION</a>, and <a class="el" href="../../d6/d2/parseini_8c-source.html#l00034">PVALUE</a>.
<p>
Referenced by <a class="el" href="../../d9/d9/geninst_8c-source.html#l00987">CmpGetAddRegInfData()</a>, and <a class="el" href="../../d6/d2/parseini_8c-source.html#l02177">CmpGetBinaryField()</a>.
<p>
<pre class="fragment"><div>02068                        :
02069 
02070         This routine returns <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> number of values in <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf line.
02071 
02072     Input Parameters:
02073 
02074         InfHandle - <a class="code" href="../../d7/d0/cmdat2_8c.html#a19">Handle</a> to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf to be read.
02075 
02076         Section - <a class="code" href="../../d8/d0/geninst_8c.html#a20">Name</a> of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> section to be read.
02077 
02078         LineIndex - <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a> of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> line to be read.
02079 
02080     Return Value:
02081 
02082         Number of values in <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf line.
02083 
02084 --*/
02085 
02086 {
02087     <a class="code" href="../../d5/d3/parseini_8c.html#a2">PSECTION</a>    pSection;
02088     <a class="code" href="../../d5/d3/parseini_8c.html#a1">PLINE</a>       pLine;
02089     <a class="code" href="../../d5/d3/parseini_8c.html#a0">PVALUE</a>      pValue;
02090     ULONG       count = 0;
02091 
02092     <span class="comment">//</span>
02093     <span class="comment">// Search the section in the inf.</span>
02094     <span class="comment">//</span>
02095 
02096     pSection = <a class="code" href="../../d5/d3/parseini_8c.html#a36">CmpSearchSectionByName</a>((PINF)InfHandle, Section);
02097     <span class="keywordflow">if</span>(pSection)
02098     {
02099         <span class="comment">//</span>
02100         <span class="comment">// Search the line in the section.</span>
02101         <span class="comment">//</span>
02102 
02103         pLine = <a class="code" href="../../d5/d3/parseini_8c.html#a35">CmpSearchLineInSectionByIndex</a>(pSection, LineIndex);
02104         <span class="keywordflow">if</span> (pLine)
02105         {
02106             <span class="comment">//</span>
02107             <span class="comment">// Count the number of values in this line.</span>
02108             <span class="comment">//</span>
02109 
02110             <span class="keywordflow">for</span>(    pValue = pLine-&gt;pValue;
02111                     pValue;
02112                     pValue = pValue-&gt;pNext, count++);
02113         }
02114     }
02115 
02116     <span class="keywordflow">return</span> (count);
02117 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a32" doxytag="parseini.c::CmpGetToken" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID CmpGetToken           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN OUT PCHAR *&nbsp;</td>
          <td class="mdname" nowrap> <em>Stream</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>MaxStream</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN OUT PULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>LineNumber</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN OUT <a class="el" href="../../d8/d3/tokenp_8h.html#a15">PTOKEN</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Token</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l00537">537</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
References <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00146">ASSERT</a>, <a class="el" href="../../d6/d7/ex_8h-source.html#l00253">ExAllocatePoolWithTag</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d5/d8/ex_8h.html#a329a174">PagedPool</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00214">QStringTerminators</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00213">StringTerminators</a>, <a class="el" href="../../d5/d3/parseini_8c.html#a47a22">TOK_COMMA</a>, <a class="el" href="../../d5/d3/parseini_8c.html#a47a16">TOK_EOF</a>, <a class="el" href="../../d5/d3/parseini_8c.html#a47a17">TOK_EOL</a>, <a class="el" href="../../d5/d3/parseini_8c.html#a47a21">TOK_EQUAL</a>, <a class="el" href="../../d5/d3/parseini_8c.html#a47a24">TOK_ERRNOMEM</a>, <a class="el" href="../../d5/d3/parseini_8c.html#a47a23">TOK_ERRPARSE</a>, <a class="el" href="../../d5/d3/parseini_8c.html#a47a18">TOK_LBRACE</a>, <a class="el" href="../../d5/d3/parseini_8c.html#a47a19">TOK_RBRACE</a>, <a class="el" href="../../d5/d3/parseini_8c.html#a47a20">TOK_STRING</a>, <a class="el" href="../../d7/d9/ctaccess_8c-source.html#l00123">Token</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d6/d2/parseini_8c-source.html#l00744">CmpParseInfBuffer()</a>.
<p>
<pre class="fragment"><div>00546                    :
00547 
00548     This function returns <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> Next token from <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> configuration stream.
00549 
00550 Arguments:
00551 
00552     Stream - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> address of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> configuration stream.  Returns
00553         <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> address of where to start looking <span class="keywordflow">for</span> tokens within <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a>
00554         stream.
00555 
00556     MaxStream - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> address of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> last character in <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> stream.
00557 
00558 
00559 Return Value:
00560 
00561     None.
00562 
00563 --*/
00564 
00565 {
00566 
00567     PCHAR   pch;
00568     PCHAR   pchStart;
00569     PCHAR   pchNew;
00570     ULONG   length;
00571     BOOLEAN done;
00572 
00573     <a class="code" href="../../d6/d0/ctaccess_8c.html#a29">Token</a>-&gt;Allocated = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00574     <a class="code" href="../../d6/d0/ctaccess_8c.html#a29">Token</a>-&gt;pValue = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00575 
00576     <span class="keywordflow">do</span>
00577     {
00578         done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00579 
00580         <span class="comment">//</span>
00581         <span class="comment">//  Skip whitespace (except for EOL).</span>
00582         <span class="comment">//</span>
00583 
00584         <span class="keywordflow">for</span> (   pch = *Stream;
00585                 pch &lt; MaxStream &amp;&amp; *pch != <span class="charliteral">'\n'</span> &amp;&amp; isspace(*pch);
00586                 pch++);
00587 
00588         <span class="comment">//</span>
00589         <span class="comment">// Check for comments and remove them.</span>
00590         <span class="comment">//</span>
00591 
00592         <span class="keywordflow">if</span> (    pch &lt; MaxStream &amp;&amp;
00593                 (*pch == <span class="charliteral">'#'</span> || *pch == <span class="charliteral">';'</span>))
00594         {
00595             <span class="keywordflow">while</span> (pch &lt; MaxStream &amp;&amp; *pch != <span class="charliteral">'\n'</span>)
00596             {
00597                 pch++;
00598             }
00599         }
00600 
00601         <span class="comment">//</span>
00602         <span class="comment">// Check to see if EOF has been reached, set the token to the right</span>
00603         <span class="comment">// value.</span>
00604         <span class="comment">//</span>
00605 
00606         <span class="keywordflow">if</span> (pch &gt;= MaxStream || *pch == 26)
00607         {
00608             *Stream = pch;
00609             <a class="code" href="../../d6/d0/ctaccess_8c.html#a29">Token</a>-&gt;Type  = <a class="code" href="../../d5/d3/parseini_8c.html#a47a16">TOK_EOF</a>;
00610             <a class="code" href="../../d6/d0/ctaccess_8c.html#a29">Token</a>-&gt;pValue = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00611 
00612             <span class="keywordflow">return</span>;
00613         }
00614 
00615         <span class="keywordflow">switch</span> (*pch)
00616         {
00617             <span class="keywordflow">case</span> <span class="charliteral">'['</span>:
00618 
00619                 pch++;
00620                 <a class="code" href="../../d6/d0/ctaccess_8c.html#a29">Token</a>-&gt;Type  = <a class="code" href="../../d5/d3/parseini_8c.html#a47a18">TOK_LBRACE</a>;
00621                 <span class="keywordflow">break</span>;
00622 
00623             <span class="keywordflow">case</span> <span class="charliteral">']'</span>:
00624 
00625                 pch++;
00626                 <a class="code" href="../../d6/d0/ctaccess_8c.html#a29">Token</a>-&gt;Type  = <a class="code" href="../../d5/d3/parseini_8c.html#a47a19">TOK_RBRACE</a>;
00627                 <span class="keywordflow">break</span>;
00628 
00629             <span class="keywordflow">case</span> <span class="charliteral">'='</span>:
00630 
00631                 pch++;
00632                 <a class="code" href="../../d6/d0/ctaccess_8c.html#a29">Token</a>-&gt;Type  = <a class="code" href="../../d5/d3/parseini_8c.html#a47a21">TOK_EQUAL</a>;
00633                 <span class="keywordflow">break</span>;
00634 
00635             <span class="keywordflow">case</span> <span class="charliteral">','</span>:
00636 
00637                 pch++;
00638                 <a class="code" href="../../d6/d0/ctaccess_8c.html#a29">Token</a>-&gt;Type  = <a class="code" href="../../d5/d3/parseini_8c.html#a47a22">TOK_COMMA</a>;
00639                 <span class="keywordflow">break</span>;
00640 
00641             <span class="keywordflow">case</span> <span class="charliteral">'\n'</span>:
00642 
00643                 pch++;
00644                 <a class="code" href="../../d6/d0/ctaccess_8c.html#a29">Token</a>-&gt;Type  = <a class="code" href="../../d5/d3/parseini_8c.html#a47a17">TOK_EOL</a>;
00645                 <span class="keywordflow">break</span>;
00646 
00647             <span class="keywordflow">case</span> <span class="charliteral">'\"'</span>:
00648 
00649                 pch++;
00650 
00651                 <span class="comment">//</span>
00652                 <span class="comment">// Determine quoted string.</span>
00653                 <span class="comment">//</span>
00654 
00655                 <span class="keywordflow">for</span> (   pchStart = pch;
00656                         pch &lt; MaxStream &amp;&amp; (strchr(QStringTerminators, *pch) == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
00657                         pch++);
00658 
00659                 <span class="keywordflow">if</span> (pch &gt;= MaxStream || *pch != <span class="charliteral">'\"'</span>)
00660                 {
00661                     <a class="code" href="../../d6/d0/ctaccess_8c.html#a29">Token</a>-&gt;Type   = <a class="code" href="../../d5/d3/parseini_8c.html#a47a23">TOK_ERRPARSE</a>;
00662                 }
00663                 <span class="keywordflow">else</span>
00664                 {
00665 
00666                     <span class="comment">//</span>
00667                     <span class="comment">// We require a quoted string to end with a double-quote.</span>
00668                     <span class="comment">// (If the string ended with anything else, the if() above</span>
00669                     <span class="comment">// would not have let us into the else clause.) The quote</span>
00670                     <span class="comment">// character is irrelevent, however, and can be overwritten.</span>
00671                     <span class="comment">// So we'll save some heap and use the string in-place.</span>
00672                     <span class="comment">// No need to make a copy.</span>
00673                     <span class="comment">//</span>
00674                     <span class="comment">// Note that this alters the image of txtsetup.sif we pass</span>
00675                     <span class="comment">// to setupdd.sys. Thus the inf parser in setupdd.sys must</span>
00676                     <span class="comment">// be able to treat a nul character as if it were a terminating</span>
00677                     <span class="comment">// double quote.</span>
00678                     <span class="comment">//</span>
00679 
00680                     *pch++ = <span class="charliteral">'\0'</span>;
00681                     <a class="code" href="../../d6/d0/ctaccess_8c.html#a29">Token</a>-&gt;Type = <a class="code" href="../../d5/d3/parseini_8c.html#a47a20">TOK_STRING</a>;
00682                     <a class="code" href="../../d6/d0/ctaccess_8c.html#a29">Token</a>-&gt;pValue = pchStart;
00683                 }
00684                 <span class="keywordflow">break</span>;
00685 
00686             <span class="keywordflow">case</span> <span class="charliteral">'\\'</span>:
00687 
00688                 <span class="keywordflow">for</span> (   pchNew = ++pch;
00689                         pchNew &lt; MaxStream &amp;&amp;
00690                             *pchNew != <span class="charliteral">'\n'</span> &amp;&amp; isspace(*pchNew);
00691                         pchNew++);
00692 
00693                 <span class="keywordflow">if</span> (*pchNew == <span class="charliteral">'\n'</span>)
00694                 {
00695                     pch = pchNew + 1;
00696                     done = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00697                     <span class="keywordflow">break</span>;
00698                 }
00699 
00700             <span class="keywordflow">default</span>:
00701 
00702                 <span class="comment">//</span>
00703                 <span class="comment">// Determine regular string.</span>
00704                 <span class="comment">//</span>
00705 
00706                 <span class="keywordflow">for</span> (   pchStart = pch;
00707                         pch &lt; MaxStream &amp;&amp; (strchr(StringTerminators, *pch) == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
00708                         pch++);
00709 
00710                 <span class="keywordflow">if</span> (pch == pchStart)
00711                 {
00712                     pch++;
00713                     <a class="code" href="../../d6/d0/ctaccess_8c.html#a29">Token</a>-&gt;Type  = <a class="code" href="../../d5/d3/parseini_8c.html#a47a23">TOK_ERRPARSE</a>;
00714                 }
00715                 <span class="keywordflow">else</span>
00716                 {
00717                     length = (ULONG)(pch - pchStart);
00718                     pchNew = <a class="code" href="../../d5/d8/ex_8h.html#a4">ExAllocatePoolWithTag</a>(PagedPool, length + 1, CM_PARSEINI_TAG);
00719                     <span class="keywordflow">if</span> (pchNew == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
00720                     {
00721                         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>(pchNew);
00722                         <a class="code" href="../../d6/d0/ctaccess_8c.html#a29">Token</a>-&gt;Type = <a class="code" href="../../d5/d3/parseini_8c.html#a47a24">TOK_ERRNOMEM</a>;
00723                     }
00724                     <span class="keywordflow">else</span>
00725                     {
00726                         strncpy(pchNew, pchStart, length);
00727                         pchNew[length] = 0;
00728                         <a class="code" href="../../d6/d0/ctaccess_8c.html#a29">Token</a>-&gt;Type = <a class="code" href="../../d5/d3/parseini_8c.html#a47a20">TOK_STRING</a>;
00729                         <a class="code" href="../../d6/d0/ctaccess_8c.html#a29">Token</a>-&gt;pValue = pchNew;
00730                         <a class="code" href="../../d6/d0/ctaccess_8c.html#a29">Token</a>-&gt;Allocated = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00731                     }
00732                 }
00733                 <span class="keywordflow">break</span>;
00734         }
00735 
00736         *Stream = pch;
00737     }
00738     <span class="keywordflow">while</span> (!done);
00739 
00740     <span class="keywordflow">return</span>;
00741 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a37" doxytag="parseini.c::CmpOpenInfFile" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PVOID CmpOpenInfFile           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PVOID&nbsp;</td>
          <td class="mdname" nowrap> <em>InfImage</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>ImageSize</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l01790">1790</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
References <a class="el" href="../../d6/d2/parseini_8c-source.html#l00744">CmpParseInfBuffer()</a>, <a class="el" href="../../d7/d5/memprint_8h-source.html#l00079">DbgPrint</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, and <a class="el" href="../../d6/d2/parseini_8c-source.html#l00037">PINF</a>.
<p>
Referenced by <a class="el" href="../../d0/d3/rules_8c-source.html#l00315">CmpMatchInfList()</a>.
<p>
<pre class="fragment"><div>01797                        :
01798 
01799         This routine opens an handle to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf.
01800 
01801     Input Parameters:
01802 
01803         InfImage - Pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf image read into memory.
01804 
01805         ImageSize - Image size.
01806 
01807     Return Value:
01808 
01809         Returns handle to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf iff successful. Else <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>.
01810 
01811 --*/
01812 
01813 {
01814     <a class="code" href="../../d5/d3/parseini_8c.html#a3">PINF</a>    infHandle;
01815     ULONG   errorLine = 0;
01816 
01817     <span class="comment">//</span>
01818     <span class="comment">// Parse the inf buffer.</span>
01819     <span class="comment">//</span>
01820 
01821     infHandle = <a class="code" href="../../d5/d3/parseini_8c.html#a33">CmpParseInfBuffer</a>(InfImage, ImageSize, &amp;errorLine);
01822 
01823     <span class="keywordflow">if</span> (infHandle == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
01824     {
01825         <a class="code" href="../../d6/d6/memprint_8h.html#a7">DbgPrint</a>(<span class="stringliteral">"Error on line %d in CmpOpenInfFile!\n"</span>, errorLine);
01826     }
01827 
01828     <span class="keywordflow">return</span> (infHandle);
01829 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a33" doxytag="parseini.c::CmpParseInfBuffer" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d5/d3/parseini_8c.html#a3">PINF</a> CmpParseInfBuffer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Size</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN OUT PULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>ErrorLine</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l00744">744</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
References <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00146">ASSERT</a>, <a class="el" href="../../d7/d1/rtqkey_8c-source.html#l00042">Buffer</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00383">CmpAppendLine()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00219">CmpAppendSection()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00462">CmpAppendValue()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00537">CmpGetToken()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00216">DblSpaceSection</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00215">EmptyValue</a>, <a class="el" href="../../d6/d7/ex_8h-source.html#l00253">ExAllocatePoolWithTag</a>, <a class="el" href="../../d7/d2/cmwraper_8c-source.html#l00304">ExFreePool()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d5/d8/ex_8h.html#a329a174">PagedPool</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00037">PINF</a>, <a class="el" href="../../d9/d6/lh__open_2pi__mem_8h-source.html#l00017">Size</a>, <a class="el" href="../../d5/d3/parseini_8c.html#a46a11">StringsSectionNone</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00213">StringTerminators</a>, <a class="el" href="../../d2/d7/regtest_8c.html#a2">strlen()</a>, <a class="el" href="../../d5/d3/parseini_8c.html#a47a22">TOK_COMMA</a>, <a class="el" href="../../d5/d3/parseini_8c.html#a47a16">TOK_EOF</a>, <a class="el" href="../../d5/d3/parseini_8c.html#a47a17">TOK_EOL</a>, <a class="el" href="../../d5/d3/parseini_8c.html#a47a21">TOK_EQUAL</a>, <a class="el" href="../../d5/d3/parseini_8c.html#a47a18">TOK_LBRACE</a>, <a class="el" href="../../d5/d3/parseini_8c.html#a47a19">TOK_RBRACE</a>, <a class="el" href="../../d5/d3/parseini_8c.html#a47a20">TOK_STRING</a>, <a class="el" href="../../d8/d3/tokenp_8h.html#a14">TOKEN</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d6/d2/parseini_8c-source.html#l01790">CmpOpenInfFile()</a>.
<p>
<pre class="fragment"><div>00752                    :
00753 
00754    Given a character buffer containing <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> INF <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a9">file</a>, <span class="keyword">this</span> routine parses
00755    <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> INF into an internal form with Section records, Line records and
00756    Value records.
00757 
00758 Arguments:
00759 
00760    <a class="code" href="../../d6/d2/rtqkey_8c.html#a3">Buffer</a> - contains to ptr to a buffer containing <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> INF <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a9">file</a>
00761 
00762    <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a0">Size</a> - contains <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> size of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> buffer.
00763 
00764    ErrorLine - <span class="keywordflow">if</span> a parse error occurs, <span class="keyword">this</span> variable receives <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> line
00765         number of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> line containing <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> error.
00766 
00767 
00768 Return Value:
00769 
00770    PVOID - INF handle ptr to be used in subsequent INF calls.
00771 
00772 --*/
00773 
00774 {
00775     <a class="code" href="../../d5/d3/parseini_8c.html#a3">PINF</a>        pInf;
00776     ULONG       state;
00777     PCHAR       stream;
00778     PCHAR       maxStream;
00779     PCHAR       pchSectionName;
00780     PCHAR       pchValue;
00781     <a class="code" href="../../d8/d1/struct__TOKEN.html">TOKEN</a>       token;
00782     BOOLEAN     done;
00783     BOOLEAN     error;
00784     ULONG       infLine;
00785     BOOLEAN     allocated;
00786 
00787     <span class="comment">//</span>
00788     <span class="comment">// Need EmptyValue to point at a NULL character.</span>
00789     <span class="comment">//</span>
00790 
00791     <a class="code" href="../../d5/d3/parseini_8c.html#a9">EmptyValue</a> = <a class="code" href="../../d5/d3/parseini_8c.html#a7">StringTerminators</a> + <a class="code" href="../../d2/d7/regtest_8c.html#a2">strlen</a>(StringTerminators);
00792 
00793     <span class="comment">//</span>
00794     <span class="comment">// Allocate memory for the INF record.</span>
00795     <span class="comment">//</span>
00796 
00797     pInf = (<a class="code" href="../../d5/d3/parseini_8c.html#a3">PINF</a>)<a class="code" href="../../d5/d8/ex_8h.html#a4">ExAllocatePoolWithTag</a>(PagedPool, <span class="keyword">sizeof</span>(INF), CM_PARSEINI_TAG);
00798 
00799     <span class="keywordflow">if</span> (pInf == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
00800     {
00801         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>(pInf);
00802         <span class="keywordflow">return</span> (pInf);
00803     }
00804 
00805     pInf-&gt;pSection = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00806     pInf-&gt;pSectionRecord = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00807     pInf-&gt;pLineRecord = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00808     pInf-&gt;pValueRecord = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00809     pInf-&gt;StringsSectionType = <a class="code" href="../../d5/d3/parseini_8c.html#a46a11">StringsSectionNone</a>;
00810     pInf-&gt;StringsSection = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00811 
00812     <span class="comment">//</span>
00813     <span class="comment">// Set initial state.</span>
00814     <span class="comment">//</span>
00815 
00816     state     = 1;
00817     stream    = <a class="code" href="../../d6/d2/rtqkey_8c.html#a3">Buffer</a>;
00818     maxStream = <a class="code" href="../../d6/d2/rtqkey_8c.html#a3">Buffer</a> + <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a0">Size</a>;
00819     pchSectionName = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00820     pchValue = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00821     done      = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00822     error     = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00823     infLine = 1;
00824 
00825     <span class="comment">//</span>
00826     <span class="comment">// Enter token processing loop.</span>
00827     <span class="comment">//</span>
00828 
00829     <span class="keywordflow">while</span> (!done)
00830     {
00831 
00832        <a class="code" href="../../d5/d3/parseini_8c.html#a32">CmpGetToken</a>(&amp;stream, maxStream, &amp;infLine, &amp;token);
00833 
00834         <span class="keywordflow">switch</span> (state)
00835         {
00836             <span class="comment">//</span>
00837             <span class="comment">// STATE1: Start of file, this state remains till first</span>
00838             <span class="comment">//         section is found</span>
00839             <span class="comment">// Valid Tokens: TOK_EOL, TOK_EOF, TOK_LBRACE</span>
00840             <span class="comment">//               TOK_STRING when reading Dblspace.inf</span>
00841             <span class="comment">//</span>
00842 
00843             <span class="keywordflow">case</span> 1:
00844 
00845                 <span class="keywordflow">switch</span> (token.Type)
00846                 {
00847                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a17">TOK_EOL</a>:
00848 
00849                         <span class="keywordflow">break</span>;
00850 
00851                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a16">TOK_EOF</a>:
00852 
00853                         done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00854 
00855                         <span class="keywordflow">break</span>;
00856 
00857                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a18">TOK_LBRACE</a>:
00858 
00859                         state = 2;
00860 
00861                         <span class="keywordflow">break</span>;
00862 
00863                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a20">TOK_STRING</a>:
00864 
00865                         pchSectionName = <a class="code" href="../../d5/d8/ex_8h.html#a4">ExAllocatePoolWithTag</a>(PagedPool, <span class="keyword">sizeof</span>(DblSpaceSection), CM_PARSEINI_TAG);
00866                         <span class="keywordflow">if</span> (pchSectionName)
00867                         {
00868                             strcpy(pchSectionName, DblSpaceSection);
00869                             pchValue = token.pValue;
00870                             allocated = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00871                             token.Allocated = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00872                             <span class="keywordflow">if</span> (<a class="code" href="../../d5/d3/parseini_8c.html#a29">CmpAppendSection</a>(pInf, pchSectionName, TRUE))
00873                             {
00874                                 pchSectionName = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00875                                 state = 6;
00876                             }
00877                             <span class="keywordflow">else</span>
00878                             {
00879                                 error = done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00880                             }
00881                         }
00882                         <span class="keywordflow">else</span>
00883                         {
00884                             <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>(pchSectionName);
00885                             error = done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00886                         }
00887 
00888                         <span class="keywordflow">break</span>;
00889 
00890                     <span class="keywordflow">default</span>:
00891 
00892                         error = done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00893 
00894                         <span class="keywordflow">break</span>;
00895                 }
00896 
00897                 <span class="keywordflow">break</span>;
00898 
00899             <span class="comment">//</span>
00900             <span class="comment">// STATE 2: Section LBRACE has been received, expecting STRING</span>
00901             <span class="comment">//</span>
00902             <span class="comment">// Valid Tokens: TOK_STRING, TOK_RBRACE</span>
00903             <span class="comment">//</span>
00904 
00905             <span class="keywordflow">case</span> 2:
00906 
00907                 <span class="keywordflow">switch</span> (token.Type)
00908                 {
00909                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a20">TOK_STRING</a>:
00910 
00911                         state = 3;
00912                         pchSectionName = token.pValue;
00913                         allocated = token.Allocated;
00914 
00915                         <span class="keywordflow">break</span>;
00916 
00917                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a19">TOK_RBRACE</a>:
00918 
00919                         token.pValue = <a class="code" href="../../d5/d3/parseini_8c.html#a9">EmptyValue</a>;
00920                         token.Allocated = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00921                         allocated = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00922                         state = 4;
00923 
00924                         <span class="keywordflow">break</span>;
00925 
00926                     <span class="keywordflow">default</span>:
00927 
00928                         error = done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00929 
00930                         <span class="keywordflow">break</span>;
00931 
00932                 }
00933 
00934                 <span class="keywordflow">break</span>;
00935 
00936             <span class="comment">//</span>
00937             <span class="comment">// STATE 3: Section Name received, expecting RBRACE</span>
00938             <span class="comment">//</span>
00939             <span class="comment">// Valid Tokens: TOK_RBRACE</span>
00940             <span class="comment">//</span>
00941 
00942             <span class="keywordflow">case</span> 3:
00943 
00944                 <span class="keywordflow">switch</span> (token.Type)
00945                 {
00946                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a19">TOK_RBRACE</a>:
00947 
00948                         state = 4;
00949 
00950                         <span class="keywordflow">break</span>;
00951 
00952                     <span class="keywordflow">default</span>:
00953 
00954                         error = done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00955 
00956                         <span class="keywordflow">break</span>;
00957                 }
00958 
00959                 <span class="keywordflow">break</span>;
00960 
00961             <span class="comment">//</span>
00962             <span class="comment">// STATE 4: Section Definition Complete, expecting EOL</span>
00963             <span class="comment">//</span>
00964             <span class="comment">// Valid Tokens: TOK_EOL, TOK_EOF</span>
00965             <span class="comment">//</span>
00966 
00967             <span class="keywordflow">case</span> 4:
00968 
00969                 <span class="keywordflow">switch</span> (token.Type)
00970                 {
00971 
00972                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a17">TOK_EOL</a>:
00973 
00974                         <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d3/parseini_8c.html#a29">CmpAppendSection</a>(pInf, pchSectionName, allocated))
00975                         {
00976 
00977                             error = done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00978                         }
00979                         <span class="keywordflow">else</span>
00980                         {
00981                             pchSectionName = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00982                             state = 5;
00983                         }
00984 
00985                         <span class="keywordflow">break</span>;
00986 
00987                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a16">TOK_EOF</a>:
00988 
00989                         <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d3/parseini_8c.html#a29">CmpAppendSection</a>(pInf, pchSectionName, allocated))
00990                         {
00991                             error = done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00992                         }
00993                         <span class="keywordflow">else</span>
00994                         {
00995                             pchSectionName = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00996                             done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00997                         }
00998 
00999                         <span class="keywordflow">break</span>;
01000 
01001                     <span class="keywordflow">default</span>:
01002 
01003                         error = done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01004 
01005                         <span class="keywordflow">break</span>;
01006                 }
01007 
01008                 <span class="keywordflow">break</span>;
01009 
01010             <span class="comment">//</span>
01011             <span class="comment">// STATE 5: Expecting Section Lines</span>
01012             <span class="comment">//</span>
01013             <span class="comment">// Valid Tokens: TOK_EOL, TOK_EOF, TOK_STRING, TOK_LBRACE</span>
01014             <span class="comment">//</span>
01015 
01016             <span class="keywordflow">case</span> 5:
01017 
01018                 <span class="keywordflow">switch</span> (token.Type)
01019                 {
01020                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a17">TOK_EOL</a>:
01021 
01022                         <span class="keywordflow">break</span>;
01023 
01024                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a16">TOK_EOF</a>:
01025 
01026                         done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01027 
01028                         <span class="keywordflow">break</span>;
01029 
01030                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a20">TOK_STRING</a>:
01031 
01032                         pchValue = token.pValue;
01033                         allocated = token.Allocated;
01034                         state = 6;
01035 
01036                         <span class="keywordflow">break</span>;
01037 
01038                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a18">TOK_LBRACE</a>:
01039 
01040                         state = 2;
01041 
01042                         <span class="keywordflow">break</span>;
01043 
01044                     <span class="keywordflow">default</span>:
01045 
01046                         error = done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01047 
01048                         <span class="keywordflow">break</span>;
01049                 }
01050 
01051                 <span class="keywordflow">break</span>;
01052 
01053             <span class="comment">//</span>
01054             <span class="comment">// STATE 6: String returned, not sure whether it is key or value</span>
01055             <span class="comment">//</span>
01056             <span class="comment">// Valid Tokens: TOK_EOL, TOK_EOF, TOK_COMMA, TOK_EQUAL</span>
01057             <span class="comment">//</span>
01058 
01059             <span class="keywordflow">case</span> 6:
01060 
01061                 <span class="keywordflow">switch</span> (token.Type)
01062                 {
01063 
01064                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a17">TOK_EOL</a>:
01065 
01066                         <span class="keywordflow">if</span> (    !<a class="code" href="../../d5/d3/parseini_8c.html#a30">CmpAppendLine</a>(pInf, NULL, FALSE) ||
01067                                 !<a class="code" href="../../d5/d3/parseini_8c.html#a31">CmpAppendValue</a>(pInf, pchValue, allocated))
01068                         {
01069                             error = done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01070                         }
01071                         <span class="keywordflow">else</span>
01072                         {
01073                             pchValue = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01074                             state = 5;
01075                         }
01076 
01077                         <span class="keywordflow">break</span>;
01078 
01079                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a16">TOK_EOF</a>:
01080 
01081                         <span class="keywordflow">if</span> (    !<a class="code" href="../../d5/d3/parseini_8c.html#a30">CmpAppendLine</a>(pInf, NULL, FALSE) ||
01082                                 !<a class="code" href="../../d5/d3/parseini_8c.html#a31">CmpAppendValue</a>(pInf, pchValue, allocated))
01083                         {
01084                             error = done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01085                         }
01086                         <span class="keywordflow">else</span>
01087                         {
01088                             pchValue = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01089                             done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01090                         }
01091 
01092                         <span class="keywordflow">break</span>;
01093 
01094                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a22">TOK_COMMA</a>:
01095 
01096                         <span class="keywordflow">if</span> (    !<a class="code" href="../../d5/d3/parseini_8c.html#a30">CmpAppendLine</a>(pInf, NULL, FALSE) ||
01097                                 !<a class="code" href="../../d5/d3/parseini_8c.html#a31">CmpAppendValue</a>(pInf, pchValue, allocated))
01098                         {
01099                             error = done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01100                         }
01101                         <span class="keywordflow">else</span>
01102                         {
01103                             pchValue = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01104                             state = 7;
01105                         }
01106 
01107                         <span class="keywordflow">break</span>;
01108 
01109                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a21">TOK_EQUAL</a>:
01110 
01111                         <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d3/parseini_8c.html#a30">CmpAppendLine</a>(pInf, pchValue, allocated))
01112                         {
01113                             error = done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01114                         }
01115                         <span class="keywordflow">else</span>
01116                         {
01117                             pchValue = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01118                             state = 8;
01119                         }
01120 
01121                         <span class="keywordflow">break</span>;
01122 
01123                     <span class="keywordflow">default</span>:
01124 
01125                         error = done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01126 
01127                         <span class="keywordflow">break</span>;
01128                 }
01129 
01130                 <span class="keywordflow">break</span>;
01131 
01132             <span class="comment">//</span>
01133             <span class="comment">// STATE 7: Comma received, Expecting another string</span>
01134             <span class="comment">//</span>
01135             <span class="comment">// Valid Tokens: TOK_STRING TOK_COMMA</span>
01136             <span class="comment">//   A comma means we have an empty value.</span>
01137             <span class="comment">//</span>
01138 
01139             <span class="keywordflow">case</span> 7:
01140 
01141                 <span class="keywordflow">switch</span> (token.Type)
01142                 {
01143 
01144                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a22">TOK_COMMA</a>:
01145 
01146                         token.pValue = <a class="code" href="../../d5/d3/parseini_8c.html#a9">EmptyValue</a>;
01147                         token.Allocated = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01148                         allocated = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01149                         <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d3/parseini_8c.html#a31">CmpAppendValue</a>(pInf, token.pValue, FALSE))
01150                         {
01151                             error = done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01152                         }
01153 
01154                         <span class="comment">//</span>
01155                         <span class="comment">// State stays at 7 because we are expecting a string</span>
01156                         <span class="comment">//</span>
01157 
01158                         <span class="keywordflow">break</span>;
01159 
01160                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a20">TOK_STRING</a>:
01161 
01162                         <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d3/parseini_8c.html#a31">CmpAppendValue</a>(pInf, token.pValue, token.Allocated))
01163                         {
01164                             error = done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01165                         }
01166                         <span class="keywordflow">else</span>
01167                         {
01168                             state = 9;
01169                         }
01170 
01171                         <span class="keywordflow">break</span>;
01172 
01173                     <span class="keywordflow">default</span>:
01174 
01175                         error = done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01176 
01177                         <span class="keywordflow">break</span>;
01178                 }
01179 
01180                 <span class="keywordflow">break</span>;
01181 
01182             <span class="comment">//</span>
01183             <span class="comment">// STATE 8: Equal received, Expecting another string</span>
01184             <span class="comment">//          If none, assume there is a single empty string on the RHS</span>
01185             <span class="comment">//</span>
01186             <span class="comment">// Valid Tokens: TOK_STRING, TOK_EOL, TOK_EOF</span>
01187             <span class="comment">//</span>
01188 
01189             <span class="keywordflow">case</span> 8:
01190 
01191                 <span class="keywordflow">switch</span> (token.Type)
01192                 {
01193                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a16">TOK_EOF</a>:
01194 
01195                         token.pValue = <a class="code" href="../../d5/d3/parseini_8c.html#a9">EmptyValue</a>;
01196                         token.Allocated = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01197                         allocated = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01198                         <span class="keywordflow">if</span>(!<a class="code" href="../../d5/d3/parseini_8c.html#a31">CmpAppendValue</a>(pInf, token.pValue, FALSE))
01199                         {
01200                             error = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01201                         }
01202 
01203                         done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01204 
01205                         <span class="keywordflow">break</span>;
01206 
01207                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a17">TOK_EOL</a>:
01208 
01209                         token.pValue = <a class="code" href="../../d5/d3/parseini_8c.html#a9">EmptyValue</a>;
01210                         token.Allocated = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01211                         allocated = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01212                         <span class="keywordflow">if</span>(!<a class="code" href="../../d5/d3/parseini_8c.html#a31">CmpAppendValue</a>(pInf, token.pValue, FALSE))
01213                         {
01214                             error = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01215                             done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01216                         }
01217                         <span class="keywordflow">else</span>
01218                         {
01219                             state = 5;
01220                         }
01221 
01222                         <span class="keywordflow">break</span>;
01223 
01224                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a20">TOK_STRING</a>:
01225 
01226                         <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d3/parseini_8c.html#a31">CmpAppendValue</a>(pInf, token.pValue, FALSE))
01227                         {
01228                             error = done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01229                         }
01230                         <span class="keywordflow">else</span>
01231                         {
01232                             state = 9;
01233                         }
01234 
01235                         <span class="keywordflow">break</span>;
01236 
01237                     <span class="keywordflow">default</span>:
01238 
01239                         error = done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01240 
01241                         <span class="keywordflow">break</span>;
01242                 }
01243 
01244                 <span class="keywordflow">break</span>;
01245 
01246             <span class="comment">//</span>
01247             <span class="comment">// STATE 9: String received after equal, value string</span>
01248             <span class="comment">//</span>
01249             <span class="comment">// Valid Tokens: TOK_EOL, TOK_EOF, TOK_COMMA</span>
01250             <span class="comment">//</span>
01251 
01252             <span class="keywordflow">case</span> 9:
01253 
01254                 <span class="keywordflow">switch</span> (token.Type)
01255                 {
01256                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a17">TOK_EOL</a>:
01257 
01258                         state = 5;
01259 
01260                         <span class="keywordflow">break</span>;
01261 
01262                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a16">TOK_EOF</a>:
01263 
01264                         done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01265 
01266                         <span class="keywordflow">break</span>;
01267 
01268                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a22">TOK_COMMA</a>:
01269 
01270                         state = 7;
01271 
01272                         <span class="keywordflow">break</span>;
01273 
01274                     <span class="keywordflow">default</span>:
01275 
01276                         error = done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01277 
01278                         <span class="keywordflow">break</span>;
01279                 }
01280 
01281                 <span class="keywordflow">break</span>;
01282 
01283             <span class="comment">//</span>
01284             <span class="comment">// STATE 10: Value string definitely received</span>
01285             <span class="comment">//</span>
01286             <span class="comment">// Valid Tokens: TOK_EOL, TOK_EOF, TOK_COMMA</span>
01287             <span class="comment">//</span>
01288 
01289             <span class="keywordflow">case</span> 10:
01290 
01291                 <span class="keywordflow">switch</span> (token.Type)
01292                 {
01293                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a17">TOK_EOL</a>:
01294 
01295                         state =5;
01296 
01297                         <span class="keywordflow">break</span>;
01298 
01299                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a16">TOK_EOF</a>:
01300 
01301                         done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01302 
01303                         <span class="keywordflow">break</span>;
01304 
01305                     <span class="keywordflow">case</span> <a class="code" href="../../d5/d3/parseini_8c.html#a47a22">TOK_COMMA</a>:
01306 
01307                         state = 7;
01308 
01309                         <span class="keywordflow">break</span>;
01310 
01311                     <span class="keywordflow">default</span>:
01312 
01313                         error = done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01314 
01315                         <span class="keywordflow">break</span>;
01316                 }
01317 
01318                 <span class="keywordflow">break</span>;
01319 
01320             <span class="keywordflow">default</span>:
01321 
01322                 error = done = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01323 
01324                 <span class="keywordflow">break</span>;
01325 
01326         } <span class="comment">// END switch(state)</span>
01327 
01328 
01329         <span class="keywordflow">if</span> (error)
01330         {
01331             *ErrorLine = infLine;
01332             <span class="keywordflow">if</span> (pchSectionName != (PCHAR)<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a> &amp;&amp; allocated)
01333             {
01334                 <a class="code" href="../../d5/d8/ex_8h.html#a224">ExFreePool</a>(pchSectionName);
01335             }
01336 
01337             <span class="keywordflow">if</span> (pchValue != (PCHAR)<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a> &amp;&amp; allocated)
01338             {
01339                 <a class="code" href="../../d5/d8/ex_8h.html#a224">ExFreePool</a>(pchValue);
01340             }
01341 
01342             <a class="code" href="../../d5/d8/ex_8h.html#a224">ExFreePool</a>(pInf);
01343 
01344             pInf = (<a class="code" href="../../d5/d3/parseini_8c.html#a3">PINF</a>)<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01345         }
01346         <span class="keywordflow">else</span>
01347         {
01348             <span class="comment">//</span>
01349             <span class="comment">// Keep track of line numbers for error reporting.</span>
01350             <span class="comment">//</span>
01351 
01352             <span class="keywordflow">if</span> (token.Type == <a class="code" href="../../d5/d3/parseini_8c.html#a47a17">TOK_EOL</a>)
01353             {
01354                 infLine++;
01355             }
01356         }
01357 
01358     } <span class="comment">// END while</span>
01359 
01360     <span class="keywordflow">if</span> (pInf)
01361     {
01362         pInf-&gt;pSectionRecord = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01363     }
01364 
01365     <span class="keywordflow">return</span>(pInf);
01366 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a28" doxytag="parseini.c::CmpProcessForSimpleStringSub" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PCHAR CmpProcessForSimpleStringSub           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d5/d3/parseini_8c.html#a3">PINF</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pInf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>String</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l01369">1369</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
References <a class="el" href="../../d6/d2/parseini_8c-source.html#l00035">PLINE</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00036">PSECTION</a>, <a class="el" href="../../d5/d8/talloc_8c-source.html#l00027">String</a>, and <a class="el" href="../../d2/d7/regtest_8c.html#a2">strlen()</a>.
<p>
Referenced by <a class="el" href="../../d6/d2/parseini_8c-source.html#l01991">CmpGetSectionLineIndex()</a>.
<p>
<pre class="fragment"><div>01376                        :
01377 
01378         This routine substitutes reference to string in <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> STRINGS section of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf.
01379 
01380     Input Parameters:
01381 
01382         pInf - Pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf to be processed.
01383 
01384         <a class="code" href="../../d4/d9/talloc_8c.html#a0">String</a> - <a class="code" href="../../d4/d9/talloc_8c.html#a0">String</a> to be substituted.
01385 
01386     Return Value:
01387 
01388         None.
01389 
01390 --*/
01391 
01392 {
01393     ULONG       len;
01394     PCHAR       returnString;
01395     <a class="code" href="../../d5/d3/parseini_8c.html#a2">PSECTION</a>    pSection;
01396     <a class="code" href="../../d5/d3/parseini_8c.html#a1">PLINE</a>       pLine;
01397 
01398     <span class="comment">//</span>
01399     <span class="comment">// Assume no substitution necessary.</span>
01400     <span class="comment">//</span>
01401 
01402     returnString = <a class="code" href="../../d4/d9/talloc_8c.html#a0">String</a>;
01403     len = <a class="code" href="../../d2/d7/regtest_8c.html#a2">strlen</a>(String);
01404     pSection = pInf-&gt;StringsSection;
01405 
01406     <span class="comment">//</span>
01407     <span class="comment">// If it starts and end with % then look it up in the</span>
01408     <span class="comment">// strings section. Note the initial check before doing a</span>
01409     <span class="comment">// wcslen, to preserve performance in the 99% case where</span>
01410     <span class="comment">// there is no substitution.</span>
01411     <span class="comment">//</span>
01412 
01413     <span class="keywordflow">if</span>( <a class="code" href="../../d4/d9/talloc_8c.html#a0">String</a>[0] == <span class="charliteral">'%'</span> &amp;&amp;
01414         len &gt; 2 &amp;&amp;
01415         <a class="code" href="../../d4/d9/talloc_8c.html#a0">String</a>[len - 1] == <span class="charliteral">'%'</span> &amp;&amp;
01416         pSection)
01417     {
01418 
01419         <span class="keywordflow">for</span>(pLine = pSection-&gt;pLine; pLine; pLine = pLine-&gt;pNext)
01420         {
01421             <span class="keywordflow">if</span>( pLine-&gt;pName &amp;&amp;
01422                 _strnicmp(pLine-&gt;pName, String + 1, len - 2) == 0 &amp;&amp;
01423                 pLine-&gt;pName[len - 2] == <span class="charliteral">'\0'</span>)
01424             {
01425                 <span class="keywordflow">break</span>;
01426             }
01427         }
01428 
01429         <span class="keywordflow">if</span>(pLine &amp;&amp; pLine-&gt;pValue &amp;&amp; pLine-&gt;pValue-&gt;pName)
01430         {
01431             returnString = pLine-&gt;pValue-&gt;pName;
01432         }
01433     }
01434 
01435     <span class="keywordflow">return</span>(returnString);
01436 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a41" doxytag="parseini.c::CmpSearchInfLine" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN CmpSearchInfLine           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PVOID&nbsp;</td>
          <td class="mdname" nowrap> <em>InfHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>Section</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>LineIndex</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l01942">1942</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
References <a class="el" href="../../d6/d2/parseini_8c-source.html#l01739">CmpSearchLineInSectionByIndex()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01661">CmpSearchSectionByName()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00037">PINF</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l00035">PLINE</a>, and <a class="el" href="../../d6/d2/parseini_8c-source.html#l00036">PSECTION</a>.
<p>
Referenced by <a class="el" href="../../d9/d9/geninst_8c-source.html#l00258">CmpProcessReg()</a>.
<p>
<pre class="fragment"><div>01950                        :
01951 
01952         This routine searches <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> specified line in <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf.
01953 
01954     Input Parameters:
01955 
01956         InfHandle - <a class="code" href="../../d7/d0/cmdat2_8c.html#a19">Handle</a> to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf to be read.
01957 
01958         Section - <a class="code" href="../../d8/d0/geninst_8c.html#a20">Name</a> of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> section to be read.
01959 
01960         LineIndex - <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a> of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> line to be read.
01961 
01962     Return Value:
01963 
01964         <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> iff line <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> found in <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> section in <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf.
01965 
01966 --*/
01967 
01968 {
01969     <a class="code" href="../../d5/d3/parseini_8c.html#a2">PSECTION</a>    pSection;
01970     <a class="code" href="../../d5/d3/parseini_8c.html#a1">PLINE</a>       pLine = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01971 
01972     <span class="comment">//</span>
01973     <span class="comment">// First search the section.</span>
01974     <span class="comment">//</span>
01975 
01976     pSection = <a class="code" href="../../d5/d3/parseini_8c.html#a36">CmpSearchSectionByName</a>((PINF)InfHandle, Section);
01977     <span class="keywordflow">if</span>(pSection)
01978     {
01979         <span class="comment">//</span>
01980         <span class="comment">// Search the line in the section.</span>
01981         <span class="comment">//</span>
01982 
01983         pLine = <a class="code" href="../../d5/d3/parseini_8c.html#a35">CmpSearchLineInSectionByIndex</a>(pSection, LineIndex);
01984     }
01985 
01986     <span class="keywordflow">return</span> (pLine != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
01987 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a39" doxytag="parseini.c::CmpSearchInfSection" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN CmpSearchInfSection           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d5/d3/parseini_8c.html#a3">PINF</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pInf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>Section</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l01862">1862</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
References <a class="el" href="../../d6/d2/parseini_8c-source.html#l01661">CmpSearchSectionByName()</a>, and <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>.
<p>
<pre class="fragment"><div>01869                        :
01870 
01871         This routine searches <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> specified section in <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf.
01872 
01873     Input Parameters:
01874 
01875         InfHandle - <a class="code" href="../../d7/d0/cmdat2_8c.html#a19">Handle</a> to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf to be read.
01876 
01877         Section - <a class="code" href="../../d8/d0/geninst_8c.html#a20">Name</a> of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> section to be read.
01878 
01879     Return Value:
01880 
01881         <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> iff section <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> found in <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf.
01882 
01883 --*/
01884 
01885 {
01886     <span class="keywordflow">return</span> (<a class="code" href="../../d5/d3/parseini_8c.html#a36">CmpSearchSectionByName</a>(pInf, Section) != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
01887 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a35" doxytag="parseini.c::CmpSearchLineInSectionByIndex" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d5/d3/parseini_8c.html#a1">PLINE</a> CmpSearchLineInSectionByIndex           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d4/d8/mi_8h.html#a480">PSECTION</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pSection</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>LineIndex</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l01739">1739</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
References <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, and <a class="el" href="../../d6/d2/parseini_8c-source.html#l00035">PLINE</a>.
<p>
Referenced by <a class="el" href="../../d6/d2/parseini_8c-source.html#l02177">CmpGetBinaryField()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01890">CmpGetKeyName()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01991">CmpGetSectionLineIndex()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l02060">CmpGetSectionLineIndexValueCount()</a>, and <a class="el" href="../../d6/d2/parseini_8c-source.html#l01942">CmpSearchInfLine()</a>.
<p>
<pre class="fragment"><div>01746                        :
01747 
01748         This routine searches <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> specified line in <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf.
01749 
01750     Input Parameters:
01751 
01752         pSection - Pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> section to be searched.
01753 
01754         LineIndex - <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a> of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> line to be searched.
01755 
01756     Return Value:
01757 
01758         Pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> line iff found. Else <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>.
01759 
01760 --*/
01761 
01762 {
01763     <a class="code" href="../../d5/d3/parseini_8c.html#a1">PLINE</a>   pLine = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01764     ULONG   i;
01765 
01766     <span class="comment">//</span>
01767     <span class="comment">// Validate the parameters passed in.</span>
01768     <span class="comment">//</span>
01769 
01770     <span class="keywordflow">if</span> (pSection)
01771     {
01772 
01773         <span class="comment">//</span>
01774         <span class="comment">// Traverse down the current line list to the LineIndex line.</span>
01775         <span class="comment">//</span>
01776 
01777         <span class="keywordflow">for</span>(    i = 0, pLine = pSection-&gt;pLine;
01778                 i &lt; LineIndex &amp;&amp; pLine;
01779                 i++, pLine = pLine-&gt;pNext);
01780     }
01781 
01782     <span class="comment">//</span>
01783     <span class="comment">// Return the Line found</span>
01784     <span class="comment">//</span>
01785 
01786     <span class="keywordflow">return</span> (pLine);
01787 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a36" doxytag="parseini.c::CmpSearchSectionByName" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d4/d8/mi_8h.html#a480">PSECTION</a> CmpSearchSectionByName           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d5/d3/parseini_8c.html#a3">PINF</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pInf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>SectionName</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l01661">1661</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
References <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, and <a class="el" href="../../d6/d2/parseini_8c-source.html#l00036">PSECTION</a>.
<p>
Referenced by <a class="el" href="../../d6/d2/parseini_8c-source.html#l02177">CmpGetBinaryField()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01890">CmpGetKeyName()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01991">CmpGetSectionLineIndex()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l02060">CmpGetSectionLineIndexValueCount()</a>, <a class="el" href="../../d6/d2/parseini_8c-source.html#l01942">CmpSearchInfLine()</a>, and <a class="el" href="../../d6/d2/parseini_8c-source.html#l01862">CmpSearchInfSection()</a>.
<p>
<pre class="fragment"><div>01668                        :
01669 
01670         This routine searches <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> specified section in <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf.
01671 
01672     Input Parameters:
01673 
01674         pInf - Pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf to be searched.
01675 
01676         SectionName - <a class="code" href="../../d8/d0/geninst_8c.html#a20">Name</a> of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> section to be searched.
01677 
01678     Return Value:
01679 
01680         Pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> section iff found. Else <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>.
01681 
01682 --*/
01683 
01684 {
01685     <a class="code" href="../../d5/d3/parseini_8c.html#a2">PSECTION</a>    pSection = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01686     <a class="code" href="../../d5/d3/parseini_8c.html#a2">PSECTION</a>    pFirstSearchedSection;
01687 
01688     <span class="comment">//</span>
01689     <span class="comment">// Validate the parameters passed in.</span>
01690     <span class="comment">//</span>
01691 
01692     <span class="keywordflow">if</span> (pInf &amp;&amp; SectionName)
01693     {
01694         <span class="comment">//</span>
01695         <span class="comment">// Traverse down the section list searching each section for the</span>
01696         <span class="comment">// section name mentioned.</span>
01697         <span class="comment">//</span>
01698 
01699         <span class="keywordflow">for</span> (   pSection = pFirstSearchedSection = pInf-&gt;pSectionRecord;
01700                 pSection &amp;&amp; _stricmp(pSection-&gt;pName, SectionName);
01701                 pSection = pSection-&gt;pNext);
01702 
01703         <span class="comment">//</span>
01704         <span class="comment">// If we did not find the section, search from the beginning.</span>
01705         <span class="comment">//</span>
01706 
01707         <span class="keywordflow">if</span> (pSection == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
01708         {
01709             <span class="keywordflow">for</span> (   pSection = pInf-&gt;pSection;
01710                     pSection &amp;&amp; pSection != pFirstSearchedSection;
01711                     pSection = pSection-&gt;pNext)
01712             {
01713                 <span class="keywordflow">if</span> (pSection-&gt;pName &amp;&amp; _stricmp(pSection-&gt;pName, SectionName) == 0)
01714                 {
01715                     <span class="keywordflow">break</span>;
01716                 }
01717             }
01718 
01719             <span class="keywordflow">if</span> (pSection == pFirstSearchedSection)
01720             {
01721                 pSection = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01722             }
01723         }
01724 
01725         <span class="keywordflow">if</span> (pSection)
01726         {
01727             pInf-&gt;pSectionRecord = pSection;
01728         }
01729     }
01730 
01731     <span class="comment">//</span>
01732     <span class="comment">// Return the section at which we stopped.</span>
01733     <span class="comment">//</span>
01734 
01735     <span class="keywordflow">return</span> (pSection);
01736 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a34" doxytag="parseini.c::CmpSearchValueInLine" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d5/d3/parseini_8c.html#a0">PVALUE</a> CmpSearchValueInLine           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d5/d3/parseini_8c.html#a1">PLINE</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pLine</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>ValueIndex</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l01622">1622</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
References <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, and <a class="el" href="../../d6/d2/parseini_8c-source.html#l00034">PVALUE</a>.
<p>
Referenced by <a class="el" href="../../d6/d2/parseini_8c-source.html#l01991">CmpGetSectionLineIndex()</a>.
<p>
<pre class="fragment"><div>01629                        :
01630 
01631         This routine searches <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> specified value in <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> inf.
01632 
01633     Input Parameters:
01634 
01635         pLine - Pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> line to be searched.
01636 
01637         ValueIndex - <a class="code" href="../../d1/d0/cmchek_8c.html#a10">Index</a> of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> value to be searched.
01638 
01639     Return Value:
01640 
01641         Pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> value iff found. Else <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>.
01642 
01643 --*/
01644 
01645 {
01646     ULONG   i;
01647     <a class="code" href="../../d5/d3/parseini_8c.html#a0">PVALUE</a>  pValue = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01648 
01649     <span class="keywordflow">if</span> (pLine)
01650     {
01651         <span class="keywordflow">for</span> (   i = 0, pValue = pLine-&gt;pValue;
01652                 i &lt; ValueIndex &amp;&amp; pValue;
01653                 i++, pValue = pValue-&gt;pNext);
01654     }
01655 
01656     <span class="keywordflow">return</span> (pValue);
01657 }

</div></pre>    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a10" doxytag="parseini.c::DblSpaceSection" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d2/d1/bench_8h.html#a8">CHAR</a> <a class="el" href="../../d5/d3/parseini_8c.html#a10">DblSpaceSection</a>[] = "DBLSPACE_SECTION"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l00216">216</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
Referenced by <a class="el" href="../../d6/d2/parseini_8c-source.html#l00744">CmpParseInfBuffer()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="parseini.c::EmptyValue" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PCHAR <a class="el" href="../../d5/d3/parseini_8c.html#a9">EmptyValue</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l00215">215</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
Referenced by <a class="el" href="../../d6/d2/parseini_8c-source.html#l00744">CmpParseInfBuffer()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="parseini.c::QStringTerminators" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PCHAR <a class="el" href="../../d5/d3/parseini_8c.html#a8">QStringTerminators</a> = <a class="el" href="../../d5/d3/parseini_8c.html#a7">StringTerminators</a> + 6          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l00214">214</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
Referenced by <a class="el" href="../../d6/d2/parseini_8c-source.html#l00537">CmpGetToken()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="parseini.c::StringTerminators" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d2/d1/bench_8h.html#a8">CHAR</a> <a class="el" href="../../d5/d3/parseini_8c.html#a7">StringTerminators</a>[] = "[]=,\t \"\n\f\v\r"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d2/parseini_8c-source.html#l00213">213</a> of file <a class="el" href="../../d6/d2/parseini_8c-source.html">parseini.c</a>.
<p>
Referenced by <a class="el" href="../../d6/d2/parseini_8c-source.html#l00537">CmpGetToken()</a>, and <a class="el" href="../../d6/d2/parseini_8c-source.html#l00744">CmpParseInfBuffer()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:45:01 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
