<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: arcinst.h Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>arcinst.h</h1><a href="../../d4/d9/arcinst_8h.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="preprocessor">#include &lt;<a class="code" href="../../d9/d8/ntos_8h.html">ntos.h</a>&gt;</span>
00002 <span class="preprocessor">#include &lt;ntdddisk.h&gt;</span>
00003 <span class="preprocessor">#include &lt;<a class="code" href="../../d1/d9/arc_8h.html">arc.h</a>&gt;</span>
00004 <span class="preprocessor">#include &lt;<a class="code" href="../../d2/d9/arccodes_8h.html">arccodes.h</a>&gt;</span>
00005 <span class="preprocessor">#include &lt;stdarg.h&gt;</span>
00006 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
00007 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
00008 <span class="preprocessor">#include &lt;ctype.h&gt;</span>
00009 <span class="preprocessor">#include &lt;string.h&gt;</span>
00010 
00011 <span class="comment">//</span>
00012 <span class="comment">// Define special character values.</span>
00013 <span class="comment">//</span>
<a name="l00014"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a0">00014</a> <span class="preprocessor">#define ASCI_NUL   0x00</span>
<a name="l00015"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a1">00015</a> <span class="preprocessor"></span><span class="preprocessor">#define ASCI_BEL   0x07</span>
<a name="l00016"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a2">00016</a> <span class="preprocessor"></span><span class="preprocessor">#define ASCI_BS    0x08</span>
<a name="l00017"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a3">00017</a> <span class="preprocessor"></span><span class="preprocessor">#define ASCI_HT    0x09</span>
<a name="l00018"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a4">00018</a> <span class="preprocessor"></span><span class="preprocessor">#define ASCI_LF    0x0A</span>
<a name="l00019"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a5">00019</a> <span class="preprocessor"></span><span class="preprocessor">#define ASCI_VT    0x0B</span>
<a name="l00020"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a6">00020</a> <span class="preprocessor"></span><span class="preprocessor">#define ASCI_FF    0x0C</span>
<a name="l00021"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a7">00021</a> <span class="preprocessor"></span><span class="preprocessor">#define ASCI_CR    0x0D</span>
<a name="l00022"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a8">00022</a> <span class="preprocessor"></span><span class="preprocessor">#define ASCI_CSI   0x9B</span>
<a name="l00023"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a9">00023</a> <span class="preprocessor"></span><span class="preprocessor">#define ASCI_ESC   0x1B</span>
<a name="l00024"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a10">00024</a> <span class="preprocessor"></span><span class="preprocessor">#define ASCI_SYSRQ 0x80</span>
00025 <span class="preprocessor"></span>
00026 <span class="comment">//</span>
00027 <span class="comment">// Locally defined error codes</span>
00028 <span class="comment">//</span>
<a name="l00029"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a11">00029</a> <span class="preprocessor">#define EBADSYNTAX   EMAXIMUM</span>
00030 <span class="preprocessor"></span>
<a name="l00031"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a12">00031</a> <span class="preprocessor">#define MAX_COMPONENTS 20</span>
00032 <span class="preprocessor"></span>
00033 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00034 <a class="code" href="../../d4/d9/arcinst_8h.html#a81">AlGetEnvVarComponents</a> (
00035     IN  PCHAR  EnvValue,
00036     OUT PCHAR  **EnvVarComponents,
00037     OUT PULONG PNumComponents
00038     );
00039 
00040 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00041 <a class="code" href="../../d4/d9/arcinst_8h.html#a82">AlFreeEnvVarComponents</a> (
00042     IN PCHAR *EnvVarComponents
00043     );
00044 
00045 BOOLEAN
00046 <a class="code" href="../../d4/d9/arcinst_8h.html#a83">AlFindNextMatchComponent</a>(
00047     IN PCHAR EnvValue,
00048     IN PCHAR MatchValue,
00049     IN ULONG StartComponent,
00050     OUT PULONG MatchComponent OPTIONAL
00051     );
00052 
00053 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00054 <a class="code" href="../../d4/d9/arcinst_8h.html#a84">AlAddSystemPartition</a>(
00055     IN PCHAR NewSystemPartition
00056     );
00057 
00058 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00059 <a class="code" href="../../d4/d6/memory_8c.html#a21">AlMemoryInitialize</a> (
00060     ULONG StackPages,
00061     ULONG HeapPages
00062     );
00063 
00064 PVOID
00065 <a class="code" href="../../d4/d6/memory_8c.html#a22">AlAllocateHeap</a> (
00066     IN ULONG Size
00067     );
00068 
00069 PVOID
00070 <a class="code" href="../../d4/d6/memory_8c.html#a23">AlDeallocateHeap</a> (
00071     IN PVOID HeapAddress
00072     );
00073 
00074 PVOID
00075 <a class="code" href="../../d4/d6/memory_8c.html#a24">AlReallocateHeap</a> (
00076     IN PVOID HeapAddress,
00077     IN ULONG NewSize
00078     );
00079 
00080 BOOLEAN
00081 <a class="code" href="../../d4/d6/memory_8c.html#a25">AlValidateHeap</a>(
00082     IN BOOLEAN DumpHeap
00083     );
00084 
00085 BOOLEAN
00086 <a class="code" href="../../d4/d9/arcinst_8h.html#a90">AlInitializeMenuPackage</a>(
00087     VOID
00088     );
00089 
00090 BOOLEAN
00091 <a class="code" href="../../d4/d9/arcinst_8h.html#a91">AlNewMenu</a>(
00092     PVOID *MenuID
00093     );
00094 
00095 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00096 <a class="code" href="../../d4/d9/arcinst_8h.html#a92">AlFreeMenu</a>(
00097     PVOID MenuID
00098     );
00099 
00100 BOOLEAN                     <span class="comment">// fails if OOM</span>
00101 <a class="code" href="../../d4/d9/arcinst_8h.html#a93">AlAddMenuItem</a>(
00102     PVOID MenuID,
00103     PCHAR Text,
00104     ULONG AssociatedData,
00105     ULONG Attributes        <span class="comment">// currently unused</span>
00106     );
00107 
00108 BOOLEAN                     <span class="comment">// fails if OOM</span>
00109 <a class="code" href="../../d4/d9/arcinst_8h.html#a94">AlAddMenuItems</a>(
00110     PVOID MenuID,
00111     PCHAR Text[],           <span class="comment">// NOTE: associated data for each item is its</span>
00112     ULONG ItemCount         <span class="comment">// index in the array.</span>
00113     );
00114 
00115 BOOLEAN                     <span class="comment">// FALSE if user escaped</span>
00116 <a class="code" href="../../d4/d9/arcinst_8h.html#a95">AlDisplayMenu</a>(
00117     PVOID   MenuID,
00118     BOOLEAN PrintOnly,
00119     ULONG   AssociatedDataOfDefaultChoice,
00120     ULONG  *AssociatedDataOfChoice,
00121     ULONG   Row,
00122     PCHAR   MenuName        <span class="comment">// may be NULL</span>
00123     );
00124 
00125 ULONG
00126 <a class="code" href="../../d4/d9/arcinst_8h.html#a96">AlGetMenuNumberItems</a>(
00127     PVOID MenuID
00128     );
00129 
00130 ULONG
00131 <a class="code" href="../../d4/d9/arcinst_8h.html#a97">AlGetMenuAssociatedData</a>(
00132     PVOID   MenuID,
00133     ULONG   n
00134     );
00135 
00136 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00137 <a class="code" href="../../d4/d9/arcinst_8h.html#a98">AlGetMenuSelection</a>(
00138     IN  PCHAR   szTitle,
00139     IN  PCHAR   *rgszSelections,
00140     IN  ULONG   crgsz,
00141     IN  ULONG   crow,
00142     IN  ULONG   irgszDefault,
00143     OUT PULONG  pirgsz,
00144     OUT PCHAR   *pszSelection
00145     );
00146 
00147 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00148 <a class="code" href="../../d4/d9/arcinst_8h.html#a99">AlWaitKey</a>(
00149     PCHAR Prompt            <span class="comment">// uses default if NULL</span>
00150     );
00151 
00152 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00153 <a class="code" href="../../d4/d9/arcinst_8h.html#a100">vAlStatusMsg</a>(
00154     IN ULONG   Row,
00155     IN BOOLEAN Error,
00156     IN PCHAR   FormatString,
00157     IN va_list ArgumentList
00158     );
00159 
00160 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00161 <a class="code" href="../../d4/d9/arcinst_8h.html#a101">AlStatusMsg</a>(
00162     IN ULONG   TopRow,
00163     IN ULONG   BottomRow,
00164     IN BOOLEAN Error,
00165     IN PCHAR   FormatString,
00166     ...
00167     );
00168 
00169 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00170 <a class="code" href="../../d4/d9/arcinst_8h.html#a102">AlStatusMsgNoWait</a>(
00171     IN ULONG   TopRow,
00172     IN ULONG   BottomRow,
00173     IN BOOLEAN Error,
00174     IN PCHAR   FormatString,
00175     ...
00176     );
00177 
00178 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00179 <a class="code" href="../../d4/d9/arcinst_8h.html#a103">AlClearStatusArea</a>(
00180     IN ULONG TopRow,
00181     IN ULONG BottomRow
00182     );
00183 
00184 PCHAR
00185 <a class="code" href="../../d4/d9/arcinst_8h.html#a104">AlStrDup</a>(
00186     IN  PCHAR   szString
00187     );
00188 
00189 PCHAR
00190 <a class="code" href="../../d4/d9/arcinst_8h.html#a105">AlCombinePaths</a> (
00191     IN  PCHAR   szPath1,
00192     IN  PCHAR   szPath2
00193     );
00194 
00195 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00196 <a class="code" href="../../d4/d9/arcinst_8h.html#a106">AlFreeArray</a> (
00197     IN  BOOLEAN fFreeArray,
00198     IN  PCHAR   *rgsz,
00199     IN  ULONG   csz
00200     );
00201 
00202 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00203 <a class="code" href="../../d4/d9/arcinst_8h.html#a107">AlGetBase</a> (
00204     IN  PCHAR   szPath,
00205     OUT PCHAR   *pszBase
00206     );
00207 
00208 <span class="comment">//</span>
00209 <span class="comment">// Define types of adapters that can be booted from.</span>
00210 <span class="comment">//</span>
<a name="l00211"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a171">00211</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d4/d9/arcinst_8h.html#a171">_ADAPTER_TYPES</a> {
00212     <a class="code" href="../../d4/d9/arcinst_8h.html#a171a54">AdapterEisa</a>,
00213     <a class="code" href="../../d4/d9/arcinst_8h.html#a171a55">AdapterScsi</a>,
00214     <a class="code" href="../../d4/d9/arcinst_8h.html#a171a56">AdapterMulti</a>,
00215     <a class="code" href="../../d4/d9/arcinst_8h.html#a171a57">AdapterMaximum</a>
00216 } <a class="code" href="../../d4/d9/arcinst_8h.html#a39">ADAPTER_TYPES</a>;
00217 
00218 <span class="comment">//</span>
00219 <span class="comment">// Define type of controllers that can be booted from.</span>
00220 <span class="comment">//</span>
<a name="l00221"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a172">00221</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d4/d9/arcinst_8h.html#a172">_CONTROLLER_TYPES</a> {
00222     <a class="code" href="../../d4/d9/arcinst_8h.html#a172a58">ControllerDisk</a>,
00223     <a class="code" href="../../d4/d9/arcinst_8h.html#a172a59">ControllerCdrom</a>,
00224     <a class="code" href="../../d4/d9/arcinst_8h.html#a172a60">ControllerMaximum</a>
00225 } <a class="code" href="../../d4/d9/arcinst_8h.html#a40">CONTROLLER_TYPES</a>;
00226 
00227 <span class="comment">//</span>
00228 <span class="comment">// Define type of peripheral that can be booted from.</span>
00229 <span class="comment">//</span>
<a name="l00230"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a173">00230</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d4/d9/arcinst_8h.html#a173">_PERIPHERAL_TYPES</a> {
00231     <a class="code" href="../../d4/d9/arcinst_8h.html#a173a61">PeripheralRigidDisk</a>,
00232     <a class="code" href="../../d4/d9/arcinst_8h.html#a173a62">PeripheralFloppyDisk</a>,
00233     <a class="code" href="../../d4/d9/arcinst_8h.html#a173a63">PeripheralMaximum</a>
00234 } <a class="code" href="../../d4/d9/arcinst_8h.html#a41">PERIPHERAL_TYPES</a>;
00235 
00236 <span class="comment">//</span>
00237 <span class="comment">// Define type of token we are referring to</span>
00238 <span class="comment">//</span>
<a name="l00239"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a174">00239</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d4/d9/arcinst_8h.html#a174">_TOKEN_TYPES</a> {
00240     <a class="code" href="../../d4/d9/arcinst_8h.html#a174a64">AdaptType</a>,
00241     <a class="code" href="../../d4/d9/arcinst_8h.html#a174a65">ControllerType</a>,
00242     <a class="code" href="../../d4/d9/arcinst_8h.html#a174a66">PeripheralType</a>
00243 } <a class="code" href="../../d4/d9/arcinst_8h.html#a42">TOKEN_TYPES</a>;
00244 
00245 <span class="comment">//</span>
00246 <span class="comment">// Define error codes</span>
00247 <span class="comment">//</span>
<a name="l00248"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a13">00248</a> <span class="preprocessor">#define INVALID_TOKEN_TYPE  ~0L</span>
<a name="l00249"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a14">00249</a> <span class="preprocessor"></span><span class="preprocessor">#define INVALID_TOKEN_VALUE ~1L</span>
00250 <span class="preprocessor"></span>
00251 <span class="comment">//</span>
00252 <span class="comment">// token string is searched for next name(unit)</span>
00253 <span class="comment">//</span>
00254 PCHAR
00255 <a class="code" href="../../d4/d9/arcinst_8h.html#a108">AlGetNextArcNameToken</a> (
00256     IN PCHAR TokenString,
00257     OUT PCHAR OutputToken,
00258     OUT PULONG UnitNumber
00259     );
00260 
00261 <span class="comment">//</span>
00262 <span class="comment">// If invalid tokentype or tokenvalue passed in the error codes defined</span>
00263 <span class="comment">// above are returned, else the enumeration of the token type is returned</span>
00264 <span class="comment">//</span>
00265 ULONG
00266 <a class="code" href="../../d4/d9/arcinst_8h.html#a109">AlMatchArcNameToken</a> (
00267     IN PCHAR TokenValue,
00268     IN TOKEN_TYPES TokenType
00269     );
00270 
00271 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00272 <a class="code" href="../../d8/d1/fdengine_8c.html#a30">FdiskInitialize</a>(
00273     VOID
00274     );
00275 
00276 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00277 <a class="code" href="../../d8/d1/fdengine_8c.html#a31">FdiskCleanUp</a>(
00278     VOID
00279     );
00280 
00281 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00282 <a class="code" href="../../d7/d3/partit_8c.html#a36">ConfigureSystemPartitions</a>(
00283     VOID
00284     );
00285 
00286 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00287 <a class="code" href="../../d4/d9/arcinst_8h.html#a113">ConfigureOSPartitions</a>(
00288     VOID
00289     );
00290 
00291 ULONG
00292 <a class="code" href="../../d4/d9/arcinst_8h.html#a114">AlPrint</a> (
00293     PCHAR Format,
00294     ...
00295     );
00296 
<a name="l00297"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a43">00297</a> <span class="keyword">extern</span> <span class="keywordtype">char</span> <a class="code" href="../../d9/d6/almisc_8c.html#a7">MSGMARGIN</a>[];
00298 
<a name="l00299"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a15">00299</a> <span class="preprocessor">#define AlClearScreen() \</span>
00300 <span class="preprocessor">    AlPrint("%c2J", ASCI_CSI)</span>
00301 <span class="preprocessor"></span>
<a name="l00302"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a16">00302</a> <span class="preprocessor">#define AlClearLine() \</span>
00303 <span class="preprocessor">    AlPrint("%c2K", ASCI_CSI)</span>
00304 <span class="preprocessor"></span>
<a name="l00305"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a17">00305</a> <span class="preprocessor">#define AlSetScreenColor(FgColor, BgColor) \</span>
00306 <span class="preprocessor">    AlPrint("%c3%dm", ASCI_CSI, (UCHAR)FgColor); \</span>
00307 <span class="preprocessor">    AlPrint("%c4%dm", ASCI_CSI, (UCHAR)BgColor)</span>
00308 <span class="preprocessor"></span>
<a name="l00309"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a18">00309</a> <span class="preprocessor">#define AlSetScreenAttributes( HighIntensity, Underscored, ReverseVideo ) \</span>
00310 <span class="preprocessor">    AlPrint("%c0m", ASCI_CSI); \</span>
00311 <span class="preprocessor">    if (HighIntensity) { \</span>
00312 <span class="preprocessor">    AlPrint("%c1m", ASCI_CSI); \</span>
00313 <span class="preprocessor">    } \</span>
00314 <span class="preprocessor">    if (Underscored) { \</span>
00315 <span class="preprocessor">    AlPrint("%c4m", ASCI_CSI); \</span>
00316 <span class="preprocessor">    } \</span>
00317 <span class="preprocessor">    if (ReverseVideo) { \</span>
00318 <span class="preprocessor">    AlPrint("%c7m", ASCI_CSI); \</span>
00319 <span class="preprocessor">    }</span>
00320 <span class="preprocessor"></span>
<a name="l00321"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a19">00321</a> <span class="preprocessor">#define AlSetPosition( Row, Column ) \</span>
00322 <span class="preprocessor">    AlPrint("%c%d;%dH", ASCI_CSI, Row, Column)</span>
00323 <span class="preprocessor"></span>
00324 BOOLEAN             <span class="comment">// false if user escaped.</span>
00325 <a class="code" href="../../d4/d9/arcinst_8h.html#a115">AlGetString</a>(
00326     OUT PCHAR String,
00327     IN  ULONG StringLength
00328     );
00329 
<a name="l00330"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a20">00330</a> <span class="preprocessor">#define     AllocateMemory(size)            AlAllocateHeap(size)</span>
<a name="l00331"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a21">00331</a> <span class="preprocessor"></span><span class="preprocessor">#define     ReallocateMemory(block,size)    AlReallocateHeap(block,size)</span>
<a name="l00332"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a22">00332</a> <span class="preprocessor"></span><span class="preprocessor">#define     FreeMemory(block)               AlDeallocateHeap(block)</span>
00333 <span class="preprocessor"></span>
<a name="l00334"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a23">00334</a> <span class="preprocessor">#define     OK_STATUS                       ESUCCESS</span>
<a name="l00335"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a24">00335</a> <span class="preprocessor"></span><span class="preprocessor">#define     RETURN_OUT_OF_MEMORY            return(ENOMEM)</span>
00336 <span class="preprocessor"></span>
<a name="l00337"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a25">00337</a> <span class="preprocessor">#define LOWPART(x)      ((x).LowPart)</span>
00338 <span class="preprocessor"></span>
<a name="l00339"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a26">00339</a> <span class="preprocessor">#define ONE_MEG         (1024*1024)</span>
00340 <span class="preprocessor"></span>
00341 ULONG
00342 <a class="code" href="../../d8/d1/fdengine_8c.html#a50">SIZEMB</a>(
00343     IN LARGE_INTEGER ByteCount
00344     );
00345 
<a name="l00346"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a27">00346</a> <span class="preprocessor">#define ENTRIES_PER_BOOTSECTOR          4</span>
00347 <span class="preprocessor"></span>
00348 <span class="comment">/*</span>
00349 <span class="comment">    This structure is used to hold the information returned by the</span>
00350 <span class="comment">    get drive geometry call.</span>
00351 <span class="comment">*/</span>
<a name="l00352"></a><a class="code" href="../../d6/d8/struct__tagDISKGEOM.html">00352</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d6/d8/struct__tagDISKGEOM.html">_tagDISKGEOM</a> {
<a name="l00353"></a><a class="code" href="../../d6/d8/struct__tagDISKGEOM.html#o0">00353</a>     LARGE_INTEGER   <a class="code" href="../../d6/d8/struct__tagDISKGEOM.html#o0">Cylinders</a>;
<a name="l00354"></a><a class="code" href="../../d6/d8/struct__tagDISKGEOM.html#o1">00354</a>     ULONG           <a class="code" href="../../d6/d8/struct__tagDISKGEOM.html#o1">Heads</a>;
<a name="l00355"></a><a class="code" href="../../d6/d8/struct__tagDISKGEOM.html#o2">00355</a>     ULONG           <a class="code" href="../../d6/d8/struct__tagDISKGEOM.html#o2">SectorsPerTrack</a>;
<a name="l00356"></a><a class="code" href="../../d6/d8/struct__tagDISKGEOM.html#o3">00356</a>     ULONG           <a class="code" href="../../d6/d8/struct__tagDISKGEOM.html#o3">BytesPerSector</a>;
00357     <span class="comment">// These two are not part of drive geometry info, but calculated from it.</span>
<a name="l00358"></a><a class="code" href="../../d6/d8/struct__tagDISKGEOM.html#o4">00358</a>     ULONG           <a class="code" href="../../d6/d8/struct__tagDISKGEOM.html#o4">BytesPerCylinder</a>;
<a name="l00359"></a><a class="code" href="../../d6/d8/struct__tagDISKGEOM.html#o5">00359</a>     ULONG           <a class="code" href="../../d6/d8/struct__tagDISKGEOM.html#o5">BytesPerTrack</a>;
00360 } <a class="code" href="../../d6/d8/struct__tagDISKGEOM.html">DISKGEOM</a>,*<a class="code" href="../../d6/d8/struct__tagDISKGEOM.html">PDISKGEOM</a>;
00361 
00362 
00363 <span class="comment">/*</span>
00364 <span class="comment">    These structures are used in doubly-linked per disk lists that</span>
00365 <span class="comment">    describe the layout of the disk.</span>
00366 <span class="comment"></span>
00367 <span class="comment">    Free spaces are indicated by entries with a SysID of 0 (note that</span>
00368 <span class="comment">    these entries don't actually appear anywhere on-disk!)</span>
00369 <span class="comment"></span>
00370 <span class="comment">    The partition number is the number the system will assign to</span>
00371 <span class="comment">    the partition in naming it.  For free spaces, this is the number</span>
00372 <span class="comment">    that the system WOULD assign to it if it was a partition.</span>
00373 <span class="comment">    The number is good only for one transaction (create or delete),</span>
00374 <span class="comment">    after which partitions must be renumbered.</span>
00375 <span class="comment"></span>
00376 <span class="comment">*/</span>
00377 
<a name="l00378"></a><a class="code" href="../../d2/d9/struct__tagPARTITION.html">00378</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d2/d9/struct__tagPARTITION.html">_tagPARTITION</a> {
<a name="l00379"></a><a class="code" href="../../d2/d9/struct__tagPARTITION.html#o0">00379</a>     <span class="keyword">struct </span><a class="code" href="../../d2/d9/struct__tagPARTITION.html">_tagPARTITION</a>  *<a class="code" href="../../d2/d9/struct__tagPARTITION.html#o0">Next</a>;
<a name="l00380"></a><a class="code" href="../../d2/d9/struct__tagPARTITION.html#o1">00380</a>     <span class="keyword">struct </span><a class="code" href="../../d2/d9/struct__tagPARTITION.html">_tagPARTITION</a>  *<a class="code" href="../../d2/d9/struct__tagPARTITION.html#o1">Prev</a>;
<a name="l00381"></a><a class="code" href="../../d2/d9/struct__tagPARTITION.html#o2">00381</a>     LARGE_INTEGER          <a class="code" href="../../d2/d9/struct__tagPARTITION.html#o2">Offset</a>;
<a name="l00382"></a><a class="code" href="../../d2/d9/struct__tagPARTITION.html#o3">00382</a>     LARGE_INTEGER          <a class="code" href="../../d2/d9/struct__tagPARTITION.html#o3">Length</a>;
<a name="l00383"></a><a class="code" href="../../d2/d9/struct__tagPARTITION.html#o4">00383</a>     ULONG                  <a class="code" href="../../d2/d9/struct__tagPARTITION.html#o4">Disk</a>;
<a name="l00384"></a><a class="code" href="../../d2/d9/struct__tagPARTITION.html#o5">00384</a>     ULONG                  <a class="code" href="../../d2/d9/struct__tagPARTITION.html#o5">OriginalPartitionNumber</a>;
<a name="l00385"></a><a class="code" href="../../d2/d9/struct__tagPARTITION.html#o6">00385</a>     ULONG                  <a class="code" href="../../d2/d9/struct__tagPARTITION.html#o6">PartitionNumber</a>;
<a name="l00386"></a><a class="code" href="../../d2/d9/struct__tagPARTITION.html#o7">00386</a>     ULONG                  <a class="code" href="../../d2/d9/struct__tagPARTITION.html#o7">PersistentData</a>;
<a name="l00387"></a><a class="code" href="../../d2/d9/struct__tagPARTITION.html#o8">00387</a>     BOOLEAN                <a class="code" href="../../d2/d9/struct__tagPARTITION.html#o8">Update</a>;
<a name="l00388"></a><a class="code" href="../../d2/d9/struct__tagPARTITION.html#o9">00388</a>     BOOLEAN                <a class="code" href="../../d2/d9/struct__tagPARTITION.html#o9">Active</a>;
<a name="l00389"></a><a class="code" href="../../d2/d9/struct__tagPARTITION.html#o10">00389</a>     BOOLEAN                <a class="code" href="../../d2/d9/struct__tagPARTITION.html#o10">Recognized</a>;
<a name="l00390"></a><a class="code" href="../../d2/d9/struct__tagPARTITION.html#o11">00390</a>     UCHAR                  <a class="code" href="../../d2/d9/struct__tagPARTITION.html#o11">SysID</a>;
00391 } <a class="code" href="../../d2/d9/struct__tagPARTITION.html">PARTITION</a>,*<a class="code" href="../../d2/d9/struct__tagPARTITION.html">PPARTITION</a>;
00392 
<a name="l00393"></a><a class="code" href="../../d3/d9/struct__tagREGION__DATA.html">00393</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d3/d9/struct__tagREGION__DATA.html">_tagREGION_DATA</a> {
<a name="l00394"></a><a class="code" href="../../d3/d9/struct__tagREGION__DATA.html#o0">00394</a>     <a class="code" href="../../d4/d9/arcinst_8h.html#a47">PPARTITION</a>      <a class="code" href="../../d3/d9/struct__tagREGION__DATA.html#o0">Partition</a>;
<a name="l00395"></a><a class="code" href="../../d3/d9/struct__tagREGION__DATA.html#o1">00395</a>     LARGE_INTEGER   <a class="code" href="../../d3/d9/struct__tagREGION__DATA.html#o1">AlignedRegionOffset</a>;
<a name="l00396"></a><a class="code" href="../../d3/d9/struct__tagREGION__DATA.html#o2">00396</a>     LARGE_INTEGER   <a class="code" href="../../d3/d9/struct__tagREGION__DATA.html#o2">AlignedRegionSize</a>;
00397 } <a class="code" href="../../d3/d9/struct__tagREGION__DATA.html">REGION_DATA</a>,*<a class="code" href="../../d3/d9/struct__tagREGION__DATA.html">PREGION_DATA</a>;
00398 
00399 
00400 <span class="preprocessor">#if DBG</span>
00401 <span class="preprocessor"></span>
00402 <span class="preprocessor">#define ASRT(x)   if(!(x)) { char c; ULONG n;                                                      \</span>
00403 <span class="preprocessor">                             AlPrint("\r\nAssertion failure in %s, line %u\r\n",__FILE__,__LINE__);\</span>
00404 <span class="preprocessor">                             AlPrint("Press return to exit\r\n");                                  \</span>
00405 <span class="preprocessor">                             ArcRead(ARC_CONSOLE_INPUT,&amp;c,1,&amp;n);                                   \</span>
00406 <span class="preprocessor">                             ArcEnterInteractiveMode();                                                  \</span>
00407 <span class="preprocessor">                           }</span>
00408 <span class="preprocessor"></span>
00409 <span class="preprocessor">#else</span>
00410 <span class="preprocessor"></span>
<a name="l00411"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a28">00411</a> <span class="preprocessor">#define ASRT(x)</span>
00412 <span class="preprocessor"></span>
00413 <span class="preprocessor">#endif</span>
00414 <span class="preprocessor"></span>
00415 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00416 <a class="code" href="../../d1/d6/fmtexp_8c.html#a9">FmtIsFatPartition</a>(
00417     IN  ULONG    PartitionId,
00418     IN  ULONG       SectorSize,
00419     OUT PBOOLEAN    IsFatPartition
00420     );
00421 
00422 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00423 <a class="code" href="../../d1/d6/fmtexp_8c.html#a10">FmtIsFat</a>(
00424     IN  PCHAR       PartitionPath,
00425     OUT PBOOLEAN    IsFatPartition
00426     );
00427 
00428 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00429 <a class="code" href="../../d1/d6/fmtexp_8c.html#a16">FmtFatFormat</a>(
00430     IN  PCHAR   PartitionPath,
00431     IN  ULONG   HiddenSectorCount
00432     );
00433 
00434 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00435 <a class="code" href="../../d1/d6/fmtexp_8c.html#a17">FmtQueryFatPartitionList</a>(
00436     OUT PCHAR** FatPartitionList,
00437     OUT PULONG  ListLength
00438     );
00439 
00440 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00441 <a class="code" href="../../d1/d6/fmtexp_8c.html#a18">FmtFreeFatPartitionList</a>(
00442     IN OUT  PCHAR*  FatPartitionList,
00443     IN      ULONG   ListLength
00444     );
00445 
00446 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00447 <a class="code" href="../../d1/d6/low_8c.html#a9">LowOpenDisk</a>(
00448     IN  PCHAR       DevicePath,
00449     OUT PULONG   DiskId
00450     );
00451 
00452 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00453 <a class="code" href="../../d1/d6/low_8c.html#a10">LowCloseDisk</a>(
00454     IN  ULONG    DiskId
00455     );
00456 
00457 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00458 <a class="code" href="../../d1/d6/low_8c.html#a11">LowGetDriveGeometry</a>(
00459     IN  PCHAR   DevicePath,
00460     OUT PULONG  TotalSectorCount,
00461     OUT PULONG  SectorSize,
00462     OUT PULONG  SectorsPerTrack,
00463     OUT PULONG  Heads
00464     );
00465 
00466 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00467 <a class="code" href="../../d1/d6/low_8c.html#a12">LowGetPartitionGeometry</a>(
00468     IN  PCHAR   PartitionPath,
00469     OUT PULONG  TotalSectorCount,
00470     OUT PULONG  SectorSize,
00471     OUT PULONG  SectorsPerTrack,
00472     OUT PULONG  Heads
00473     );
00474 
00475 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00476 <a class="code" href="../../d1/d6/low_8c.html#a13">LowReadSectors</a>(
00477     IN  ULONG    VolumeId,
00478     IN  ULONG       SectorSize,
00479     IN  ULONG       StartingSector,
00480     IN  ULONG       NumberOfSectors,
00481     OUT PVOID       Buffer
00482     );
00483 
00484 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00485 <a class="code" href="../../d1/d6/low_8c.html#a14">LowWriteSectors</a>(
00486     IN  ULONG    VolumeId,
00487     IN  ULONG       SectorSize,
00488     IN  ULONG       StartingSector,
00489     IN  ULONG       NumberOfSectors,
00490     IN  PVOID       Buffer
00491     );
00492 
00493 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00494 <a class="code" href="../../d1/d6/low_8c.html#a16">LowQueryPathFromComponent</a>(
00495     IN  <a class="code" href="../../d4/d8/struct__CONFIGURATION__COMPONENT.html">PCONFIGURATION_COMPONENT</a>    Component,
00496     OUT PCHAR*                      Path
00497     );
00498 
00499 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00500 <a class="code" href="../../d1/d6/low_8c.html#a18">LowQueryComponentList</a>(
00501     IN  CONFIGURATION_CLASS*        ConfigClass OPTIONAL,
00502     IN  CONFIGURATION_TYPE*         ConfigType OPTIONAL,
00503     OUT <a class="code" href="../../d4/d8/struct__CONFIGURATION__COMPONENT.html">PCONFIGURATION_COMPONENT</a>**  ComponentList,
00504     OUT PULONG                      ListLength
00505     );
00506 
00507 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00508 <a class="code" href="../../d1/d6/low_8c.html#a19">LowQueryPathList</a>(
00509     IN  CONFIGURATION_CLASS*        ConfigClass OPTIONAL,
00510     IN  CONFIGURATION_TYPE*         ConfigType OPTIONAL,
00511     OUT PCHAR**                     PathList,
00512     OUT PULONG                      ListLength
00513     );
00514 
00515 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00516 <a class="code" href="../../d1/d6/low_8c.html#a20">LowFreePathList</a>(
00517     IN  PCHAR*  PathList,
00518     IN  ULONG   ListLength
00519     );
00520 
00521 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00522 <a class="code" href="../../d1/d6/low_8c.html#a21">LowQueryFdiskPathList</a>(
00523     OUT PCHAR** PathList,
00524     OUT PULONG  ListLength
00525     );
00526 
00527 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00528 <a class="code" href="../../d1/d6/low_8c.html#a22">LowFreeFdiskPathList</a>(
00529     IN OUT  PCHAR*  PathList,
00530     IN      ULONG   ListLength
00531     );
00532 
00533 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00534 <a class="code" href="../../d1/d6/low_8c.html#a23">LowGetDiskLayout</a>(
00535     IN  PCHAR                      Path,
00536     OUT PDRIVE_LAYOUT_INFORMATION *DriveLayout
00537     );
00538 
00539 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00540 <a class="code" href="../../d1/d6/low_8c.html#a27">LowSetDiskLayout</a>(
00541     IN PCHAR                     Path,
00542     IN PDRIVE_LAYOUT_INFORMATION DriveLayout
00543     );
00544 
<a name="l00545"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a175">00545</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> { <a class="code" href="../../d4/d9/arcinst_8h.html#a175a67">REGION_PRIMARY</a>,
00546                <a class="code" href="../../d4/d9/arcinst_8h.html#a175a68">REGION_EXTENDED</a>,
00547                <a class="code" href="../../d4/d9/arcinst_8h.html#a175a69">REGION_LOGICAL</a>
00548              } <a class="code" href="../../d4/d9/arcinst_8h.html#a175">REGION_TYPE</a>;
00549 
00550 <span class="keyword">enum</span> {
00551         <a class="code" href="../../d4/d9/arcinst_8h.html#a176a70">SYSID_UNUSED</a>     = 0,
00552         <a class="code" href="../../d4/d9/arcinst_8h.html#a176a71">SYSID_EXTENDED</a>   = 5,
00553         <a class="code" href="../../d4/d9/arcinst_8h.html#a176a72">SYSID_BIGFAT</a>     = 6,
00554         <a class="code" href="../../d4/d9/arcinst_8h.html#a176a73">SYSID_IFS</a>        = 7
00555      };
00556 
<a name="l00557"></a><a class="code" href="../../d4/d9/struct__tagREGION__DESCRIPTOR.html">00557</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d4/d9/struct__tagREGION__DESCRIPTOR.html">_tagREGION_DESCRIPTOR</a> {
<a name="l00558"></a><a class="code" href="../../d4/d9/struct__tagREGION__DESCRIPTOR.html#o0">00558</a>     ULONG           <a class="code" href="../../d4/d9/struct__tagREGION__DESCRIPTOR.html#o0">PersistentData</a>;
<a name="l00559"></a><a class="code" href="../../d4/d9/struct__tagREGION__DESCRIPTOR.html#o1">00559</a>     ULONG           <a class="code" href="../../d4/d9/struct__tagREGION__DESCRIPTOR.html#o1">Disk</a>;
<a name="l00560"></a><a class="code" href="../../d4/d9/struct__tagREGION__DESCRIPTOR.html#o2">00560</a>     ULONG           <a class="code" href="../../d4/d9/struct__tagREGION__DESCRIPTOR.html#o2">SizeMB</a>;
<a name="l00561"></a><a class="code" href="../../d4/d9/struct__tagREGION__DESCRIPTOR.html#o3">00561</a>     ULONG           <a class="code" href="../../d4/d9/struct__tagREGION__DESCRIPTOR.html#o3">PartitionNumber</a>;
<a name="l00562"></a><a class="code" href="../../d4/d9/struct__tagREGION__DESCRIPTOR.html#o4">00562</a>     ULONG           <a class="code" href="../../d4/d9/struct__tagREGION__DESCRIPTOR.html#o4">OriginalPartitionNumber</a>;
<a name="l00563"></a><a class="code" href="../../d4/d9/struct__tagREGION__DESCRIPTOR.html#o5">00563</a>     <a class="code" href="../../d4/d9/arcinst_8h.html#a175">REGION_TYPE</a>     <a class="code" href="../../d4/d9/struct__tagREGION__DESCRIPTOR.html#o5">RegionType</a>;
<a name="l00564"></a><a class="code" href="../../d4/d9/struct__tagREGION__DESCRIPTOR.html#o6">00564</a>     BOOLEAN         <a class="code" href="../../d4/d9/struct__tagREGION__DESCRIPTOR.html#o6">Active</a>;
<a name="l00565"></a><a class="code" href="../../d4/d9/struct__tagREGION__DESCRIPTOR.html#o7">00565</a>     BOOLEAN         <a class="code" href="../../d4/d9/struct__tagREGION__DESCRIPTOR.html#o7">Recognized</a>;
<a name="l00566"></a><a class="code" href="../../d4/d9/struct__tagREGION__DESCRIPTOR.html#o8">00566</a>     UCHAR           <a class="code" href="../../d4/d9/struct__tagREGION__DESCRIPTOR.html#o8">SysID</a>;
<a name="l00567"></a><a class="code" href="../../d4/d9/struct__tagREGION__DESCRIPTOR.html#o9">00567</a>     PVOID           <a class="code" href="../../d4/d9/struct__tagREGION__DESCRIPTOR.html#o9">Reserved</a>;
00568 } <a class="code" href="../../d4/d9/struct__tagREGION__DESCRIPTOR.html">REGION_DESCRIPTOR</a>,*<a class="code" href="../../d4/d9/struct__tagREGION__DESCRIPTOR.html">PREGION_DESCRIPTOR</a>;
00569 
00570 ULONG
00571 <a class="code" href="../../d8/d1/fdengine_8c.html#a61">GetDiskCount</a>(
00572     VOID
00573     );
00574 
00575 PCHAR
00576 <a class="code" href="../../d8/d1/fdengine_8c.html#a62">GetDiskName</a>(
00577     ULONG Disk
00578     );
00579 
00580 ULONG
00581 <a class="code" href="../../d8/d1/fdengine_8c.html#a51">DiskSizeMB</a>(
00582     IN ULONG Disk
00583     );
00584 
00585 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00586 <a class="code" href="../../d8/d1/fdengine_8c.html#a36">GetDiskRegions</a>(
00587     IN  ULONG               Disk,
00588     IN  BOOLEAN             WantUsedRegions,
00589     IN  BOOLEAN             WantFreeRegions,
00590     IN  BOOLEAN             WantPrimaryRegions,
00591     IN  BOOLEAN             WantLogicalRegions,
00592     OUT PREGION_DESCRIPTOR *Region,
00593     OUT ULONG              *RegionCount
00594     );
00595 
<a name="l00596"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a29">00596</a> <span class="preprocessor">#define GetAllDiskRegions(disk,regions,count) \</span>
00597 <span class="preprocessor">        GetDiskRegions(disk,TRUE,TRUE,TRUE,TRUE,regions,count)</span>
00598 <span class="preprocessor"></span>
<a name="l00599"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a30">00599</a> <span class="preprocessor">#define GetFreeDiskRegions(disk,regions,count) \</span>
00600 <span class="preprocessor">        GetDiskRegions(disk,FALSE,TRUE,TRUE,TRUE,regions,count)</span>
00601 <span class="preprocessor"></span>
<a name="l00602"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a31">00602</a> <span class="preprocessor">#define GetUsedDiskRegions(disk,regions,count) \</span>
00603 <span class="preprocessor">        GetDiskRegions(disk,TRUE,FALSE,TRUE,TRUE,regions,count)</span>
00604 <span class="preprocessor"></span>
<a name="l00605"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a32">00605</a> <span class="preprocessor">#define GetPrimaryDiskRegions(disk,regions,count) \</span>
00606 <span class="preprocessor">        GetDiskRegions(disk,TRUE,TRUE,TRUE,FALSE,regions,count)</span>
00607 <span class="preprocessor"></span>
<a name="l00608"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a33">00608</a> <span class="preprocessor">#define GetLogicalDiskRegions(disk,regions,count) \</span>
00609 <span class="preprocessor">        GetDiskRegions(disk,TRUE,TRUE,FALSE,TRUE,regions,count)</span>
00610 <span class="preprocessor"></span>
<a name="l00611"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a34">00611</a> <span class="preprocessor">#define GetUsedPrimaryDiskRegions(disk,regions,count) \</span>
00612 <span class="preprocessor">        GetDiskRegions(disk,TRUE,FALSE,TRUE,FALSE,regions,count)</span>
00613 <span class="preprocessor"></span>
<a name="l00614"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a35">00614</a> <span class="preprocessor">#define GetUsedLogicalDiskRegions(disk,regions,count) \</span>
00615 <span class="preprocessor">        GetDiskRegions(disk,TRUE,FALSE,FALSE,TRUE,regions,count)</span>
00616 <span class="preprocessor"></span>
<a name="l00617"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a36">00617</a> <span class="preprocessor">#define GetFreePrimaryDiskRegions(disk,regions,count) \</span>
00618 <span class="preprocessor">        GetDiskRegions(disk,FALSE,TRUE,TRUE,FALSE,regions,count)</span>
00619 <span class="preprocessor"></span>
<a name="l00620"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a37">00620</a> <span class="preprocessor">#define GetFreeLogicalDiskRegions(disk,regions,count) \</span>
00621 <span class="preprocessor">        GetDiskRegions(disk,FALSE,TRUE,FALSE,TRUE,regions,count)</span>
00622 <span class="preprocessor"></span>
00623 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00624 <a class="code" href="../../d8/d1/fdengine_8c.html#a38">FreeRegionArray</a>(
00625     IN PREGION_DESCRIPTOR Region,
00626     IN ULONG              RegionCount
00627     );
00628 
00629 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00630 <a class="code" href="../../d8/d1/fdengine_8c.html#a53">IsAnyCreationAllowed</a>(
00631     IN  ULONG    Disk,
00632     IN  BOOLEAN  AllowMultiplePrimaries,
00633     OUT PBOOLEAN AnyAllowed,
00634     OUT PBOOLEAN PrimaryAllowed,
00635     OUT PBOOLEAN ExtendedAllowed,
00636     OUT PBOOLEAN LogicalAllowed
00637     );
00638 
00639 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00640 <a class="code" href="../../d8/d1/fdengine_8c.html#a54">IsCreationOfPrimaryAllowed</a>(
00641     IN  ULONG    Disk,
00642     IN  BOOLEAN  AllowMultiplePrimaries,
00643     OUT PBOOLEAN Allowed
00644     );
00645 
00646 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00647 <a class="code" href="../../d8/d1/fdengine_8c.html#a55">IsCreationOfExtendedAllowed</a>(
00648     IN  ULONG    Disk,
00649     OUT PBOOLEAN Allowed
00650     );
00651 
00652 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00653 <a class="code" href="../../d8/d1/fdengine_8c.html#a56">IsCreationOfLogicalAllowed</a>(
00654     IN  ULONG    Disk,
00655     OUT PBOOLEAN Allowed
00656     );
00657 
00658 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00659 <a class="code" href="../../d8/d1/fdengine_8c.html#a57">DoesAnyPartitionExist</a>(
00660     IN  ULONG    Disk,
00661     OUT PBOOLEAN AnyExists,
00662     OUT PBOOLEAN PrimaryExists,
00663     OUT PBOOLEAN ExtendedExists,
00664     OUT PBOOLEAN LogicalExists
00665     );
00666 
00667 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00668 <a class="code" href="../../d8/d1/fdengine_8c.html#a58">DoesAnyPrimaryExist</a>(
00669     IN  ULONG    Disk,
00670     OUT PBOOLEAN Exists
00671     );
00672 
00673 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00674 <a class="code" href="../../d8/d1/fdengine_8c.html#a59">DoesExtendedExist</a>(
00675     IN  ULONG    Disk,
00676     OUT PBOOLEAN Exists
00677     );
00678 
00679 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00680 <a class="code" href="../../d8/d1/fdengine_8c.html#a60">DoesAnyLogicalExist</a>(
00681     IN  ULONG    Disk,
00682     OUT PBOOLEAN Exists
00683     );
00684 
00685 BOOLEAN
00686 <a class="code" href="../../d8/d1/fdengine_8c.html#a52">IsExtended</a>(
00687     IN UCHAR SysID
00688     );
00689 
00690 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00691 <a class="code" href="../../d4/d9/arcinst_8h.html#a150">SetPartitionActiveFlag</a>(
00692     IN PREGION_DESCRIPTOR Region,
00693     IN UCHAR              value
00694     );
00695 
00696 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00697 <a class="code" href="../../d8/d1/fdengine_8c.html#a34">CreatePartition</a>(
00698     IN PREGION_DESCRIPTOR Region,
00699     IN ULONG              CreationSizeMB,
00700     IN REGION_TYPE        Type
00701     );
00702 
00703 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00704 <a class="code" href="../../d8/d1/fdengine_8c.html#a33">CreatePartitionEx</a>(
00705     IN PREGION_DESCRIPTOR Region,
00706     IN LARGE_INTEGER      MinimumSize,
00707     IN ULONG              CreationSizeMB,
00708     IN REGION_TYPE        Type,
00709     IN UCHAR              SysId
00710     );
00711 
00712 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00713 <a class="code" href="../../d8/d1/fdengine_8c.html#a35">DeletePartition</a>(
00714     IN PREGION_DESCRIPTOR Region
00715     );
00716 
00717 ULONG
00718 <a class="code" href="../../d8/d1/fdengine_8c.html#a44">GetHiddenSectorCount</a>(
00719     ULONG Disk,
00720     ULONG Partition
00721     );
00722 
00723 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00724 <a class="code" href="../../d8/d1/fdengine_8c.html#a42">SetSysID</a>(
00725     IN ULONG Disk,
00726     IN ULONG Partition,
00727     IN UCHAR SysID
00728     );
00729 
00730 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00731 <a class="code" href="../../d8/d1/fdengine_8c.html#a43">SetSysID2</a>(
00732     IN PREGION_DESCRIPTOR Region,
00733     IN UCHAR              SysID
00734     );
00735 
00736 PCHAR
00737 <a class="code" href="../../d8/d1/fdengine_8c.html#a63">GetSysIDName</a>(
00738     UCHAR SysID
00739     );
00740 
00741 <a class="code" href="../../d1/d9/arc_8h.html#a44">ARC_STATUS</a>
00742 <a class="code" href="../../d8/d1/fdengine_8c.html#a68">CommitPartitionChanges</a>(
00743     IN ULONG Disk
00744     );
00745 
00746 BOOLEAN
00747 <a class="code" href="../../d8/d1/fdengine_8c.html#a69">HavePartitionsBeenChanged</a>(
00748     IN ULONG Disk
00749     );
00750 
00751 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00752 <a class="code" href="../../d8/d1/fdengine_8c.html#a70">FdMarkDiskDirty</a>(
00753     IN ULONG Disk
00754     );
00755 
00756 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00757 <a class="code" href="../../d8/d1/fdengine_8c.html#a71">FdSetPersistentData</a>(
00758     IN PREGION_DESCRIPTOR Region,
00759     IN ULONG              Data
00760     );
00761 
00762 ULONG
00763 <a class="code" href="../../d8/d1/fdengine_8c.html#a72">FdGetMinimumSizeMB</a>(
00764     IN ULONG Disk
00765     );
00766 
00767 ULONG
00768 <a class="code" href="../../d8/d1/fdengine_8c.html#a73">FdGetMaximumSizeMB</a>(
00769     IN PREGION_DESCRIPTOR Region,
00770     IN REGION_TYPE        CreationType
00771     );
00772 
00773 LARGE_INTEGER
00774 <a class="code" href="../../d8/d1/fdengine_8c.html#a74">FdGetExactSize</a>(
00775     IN PREGION_DESCRIPTOR Region,
00776     IN BOOLEAN            ForExtended
00777     );
00778 
00779 LARGE_INTEGER
00780 <a class="code" href="../../d8/d1/fdengine_8c.html#a75">FdGetExactOffset</a>(
00781     IN PREGION_DESCRIPTOR Region
00782     );
00783 
00784 BOOLEAN
00785 <a class="code" href="../../d8/d1/fdengine_8c.html#a76">FdCrosses1024Cylinder</a>(
00786     IN PREGION_DESCRIPTOR Region,
00787     IN ULONG              CreationSizeMB,
00788     IN REGION_TYPE        RegionType
00789     );
00790 
00791 ULONG
00792 <a class="code" href="../../d4/d9/arcinst_8h.html#a167">FdGetDiskSignature</a>(
00793     IN ULONG Disk
00794     );
00795 
00796 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00797 <a class="code" href="../../d4/d9/arcinst_8h.html#a168">FdSetDiskSignature</a>(
00798     IN ULONG Disk,
00799     IN ULONG Signature
00800     );
00801 
00802 BOOLEAN
00803 <a class="code" href="../../d8/d1/fdengine_8c.html#a77">IsDiskOffLine</a>(
00804     IN ULONG Disk
00805     );
00806 
00807 
00808 
<a name="l00809"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a177">00809</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d4/d9/arcinst_8h.html#a177">_BOOT_VARIABLES</a> {
00810     <a class="code" href="../../d4/d9/arcinst_8h.html#a177a74">LoadIdentifierVariable</a>,
00811     <a class="code" href="../../d4/d9/arcinst_8h.html#a177a75">SystemPartitionVariable</a>,
00812     <a class="code" href="../../d4/d9/arcinst_8h.html#a177a76">OsLoaderVariable</a>,
00813     <a class="code" href="../../d4/d9/arcinst_8h.html#a177a77">OsLoadPartitionVariable</a>,
00814     <a class="code" href="../../d4/d9/arcinst_8h.html#a177a78">OsLoadFilenameVariable</a>,
00815     <a class="code" href="../../d4/d9/arcinst_8h.html#a177a79">OsLoadOptionsVariable</a>,
00816     <a class="code" href="../../d4/d9/arcinst_8h.html#a177a80">MaximumBootVariable</a>
00817 } <a class="code" href="../../d4/d9/arcinst_8h.html#a52">BOOT_VARIABLE</a>;
00818 
<a name="l00819"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a53">00819</a> <span class="keyword">extern</span> PCHAR <a class="code" href="../../d4/d9/arcinst_8h.html#a53">BootString</a>[];
00820 
00821 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00822 <a class="code" href="../../d6/d8/jzcrap_8c.html#a1">JzDeleteVariableSegment</a> (
00823     PCHAR VariableName,
00824     ULONG Selection
00825     );
00826 
<a name="l00827"></a><a class="code" href="../../d4/d9/arcinst_8h.html#a38">00827</a> <span class="preprocessor">#define MAXIMUM_ENVIRONMENT_VALUE 256</span>
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:39:16 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
