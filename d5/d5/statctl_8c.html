<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: statctl.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>statctl.c File Reference</h1><code>#include "<a class="el" href="../../d8/d2/w32_2ntuser_2client_2precomp_8h-source.html">precomp.h</a>"</code><br>

<p>
<a href="../../d6/d4/statctl_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d5/statctl_8c.html#a0">IMAGE_STMMAX</a>&nbsp;&nbsp;&nbsp;IMAGE_ENHMETAFILE+1</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d5/statctl_8c.html#a1">STK_OWNER</a>&nbsp;&nbsp;&nbsp;0x00</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d5/statctl_8c.html#a2">STK_IMAGE</a>&nbsp;&nbsp;&nbsp;0x01</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d5/statctl_8c.html#a3">STK_TEXT</a>&nbsp;&nbsp;&nbsp;0x02</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d5/statctl_8c.html#a4">STK_GRAPHIC</a>&nbsp;&nbsp;&nbsp;0x03</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d5/statctl_8c.html#a5">STK_TYPE</a>&nbsp;&nbsp;&nbsp;0x03</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d5/statctl_8c.html#a6">STK_ERASE</a>&nbsp;&nbsp;&nbsp;0x04</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d5/statctl_8c.html#a7">STK_USEFONT</a>&nbsp;&nbsp;&nbsp;0x08</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d5/statctl_8c.html#a8">STK_USETEXT</a>&nbsp;&nbsp;&nbsp;0x10</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d5/statctl_8c.html#a9">IsValidImage</a>(imageType, realType, max)&nbsp;&nbsp;&nbsp;((imageType &lt; max) &amp;&amp; (<a class="el" href="../../d5/d5/statctl_8c.html#a10">rgbType</a>[imageType] == realType))</td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d5/statctl_8c.html#a13">xxxNextAniIconStep</a> (<a class="el" href="../../d1/d7/structtagSTAT.html">PSTAT</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>HANDLE&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d5/statctl_8c.html#a14">xxxSetStaticImage</a> (<a class="el" href="../../d1/d7/structtagSTAT.html">PSTAT</a>, HANDLE, BOOL)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d5/statctl_8c.html#a15">xxxStaticLoadImage</a> (<a class="el" href="../../d1/d7/structtagSTAT.html">PSTAT</a>, LPWSTR)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL CALLBACK&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d5/statctl_8c.html#a16">StaticCallback</a> (HDC hdc, <a class="el" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, BOOL fUnused, int cx, int <a class="el" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d5/statctl_8c.html#a17">xxxStaticPaint</a> (<a class="el" href="../../d1/d7/structtagSTAT.html">PSTAT</a> pstat, HDC hdc, BOOL fClip)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d5/statctl_8c.html#a18">StaticRepaint</a> (<a class="el" href="../../d1/d7/structtagSTAT.html">PSTAT</a> pstat)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>LRESULT FAR PASCAL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d5/statctl_8c.html#a19">StaticNotifyParent</a> (<a class="el" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="el" href="../../d6/d9/structtagWND.html">PWND</a> pwndParent, int nCode)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>LRESULT APIENTRY&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d5/statctl_8c.html#a20">StaticWndProcWorker</a> (<a class="el" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT message, WPARAM wParam, LPARAM lParam, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> fAnsi)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>LRESULT WINAPI&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d5/statctl_8c.html#a21">StaticWndProcA</a> (HWND hwnd, UINT message, WPARAM wParam, LPARAM lParam)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>LRESULT WINAPI&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d5/statctl_8c.html#a22">StaticWndProcW</a> (HWND hwnd, UINT message, WPARAM wParam, LPARAM lParam)</td></tr>

<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d5/statctl_8c.html#a10">rgbType</a> [IMAGE_STMMAX]</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d5/statctl_8c.html#a11">rgstk</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d2/d4/struct__LOOKASIDE.html">LOOKASIDE</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d5/d5/statctl_8c.html#a12">StaticLookaside</a></td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a0" doxytag="statctl.c::IMAGE_STMMAX" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define IMAGE_STMMAX&nbsp;&nbsp;&nbsp;IMAGE_ENHMETAFILE+1          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d4/statctl_8c-source.html#l00031">31</a> of file <a class="el" href="../../d6/d4/statctl_8c-source.html">statctl.c</a>.
<p>
Referenced by <a class="el" href="../../d6/d4/statctl_8c-source.html#l00840">StaticWndProcWorker()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="statctl.c::IsValidImage" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define IsValidImage          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">imageType,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>realType,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>max&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;((imageType &lt; max) &amp;&amp; (<a class="el" href="../../d5/d5/statctl_8c.html#a10">rgbType</a>[imageType] == realType))</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d4/statctl_8c-source.html#l00081">81</a> of file <a class="el" href="../../d6/d4/statctl_8c-source.html">statctl.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="statctl.c::STK_ERASE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define STK_ERASE&nbsp;&nbsp;&nbsp;0x04          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d4/statctl_8c-source.html#l00050">50</a> of file <a class="el" href="../../d6/d4/statctl_8c-source.html">statctl.c</a>.
<p>
Referenced by <a class="el" href="../../d6/d4/statctl_8c-source.html#l00419">xxxStaticPaint()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="statctl.c::STK_GRAPHIC" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define STK_GRAPHIC&nbsp;&nbsp;&nbsp;0x03          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d4/statctl_8c-source.html#l00047">47</a> of file <a class="el" href="../../d6/d4/statctl_8c-source.html">statctl.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="statctl.c::STK_IMAGE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define STK_IMAGE&nbsp;&nbsp;&nbsp;0x01          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d4/statctl_8c-source.html#l00045">45</a> of file <a class="el" href="../../d6/d4/statctl_8c-source.html">statctl.c</a>.
<p>
Referenced by <a class="el" href="../../d6/d4/statctl_8c-source.html#l00840">StaticWndProcWorker()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="statctl.c::STK_OWNER" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define STK_OWNER&nbsp;&nbsp;&nbsp;0x00          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d4/statctl_8c-source.html#l00044">44</a> of file <a class="el" href="../../d6/d4/statctl_8c-source.html">statctl.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="statctl.c::STK_TEXT" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define STK_TEXT&nbsp;&nbsp;&nbsp;0x02          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d4/statctl_8c-source.html#l00046">46</a> of file <a class="el" href="../../d6/d4/statctl_8c-source.html">statctl.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="statctl.c::STK_TYPE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define STK_TYPE&nbsp;&nbsp;&nbsp;0x03          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d4/statctl_8c-source.html#l00048">48</a> of file <a class="el" href="../../d6/d4/statctl_8c-source.html">statctl.c</a>.
<p>
Referenced by <a class="el" href="../../d6/d4/statctl_8c-source.html#l00840">StaticWndProcWorker()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="statctl.c::STK_USEFONT" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define STK_USEFONT&nbsp;&nbsp;&nbsp;0x08          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d4/statctl_8c-source.html#l00051">51</a> of file <a class="el" href="../../d6/d4/statctl_8c-source.html">statctl.c</a>.
<p>
Referenced by <a class="el" href="../../d6/d4/statctl_8c-source.html#l00840">StaticWndProcWorker()</a>, and <a class="el" href="../../d6/d4/statctl_8c-source.html#l00419">xxxStaticPaint()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="statctl.c::STK_USETEXT" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define STK_USETEXT&nbsp;&nbsp;&nbsp;0x10          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d4/statctl_8c-source.html#l00052">52</a> of file <a class="el" href="../../d6/d4/statctl_8c-source.html">statctl.c</a>.
<p>
Referenced by <a class="el" href="../../d6/d4/statctl_8c-source.html#l00344">StaticCallback()</a>, and <a class="el" href="../../d6/d4/statctl_8c-source.html#l00840">StaticWndProcWorker()</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a16" doxytag="statctl.c::StaticCallback" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL CALLBACK StaticCallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HDC&nbsp;</td>
          <td class="mdname" nowrap> <em>hdc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d6/d9/structtagWND.html">PWND</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pwnd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOL&nbsp;</td>
          <td class="mdname" nowrap> <em>fUnused</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>cx</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>cy</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d4/statctl_8c-source.html#l00344">344</a> of file <a class="el" href="../../d6/d4/statctl_8c-source.html">statctl.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00480">cy</a>, <a class="el" href="../../d6/d1/rtl_2drawtext_8c-source.html#l01692">DrawTextExW()</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d6/d8/ntrtlp_8h-source.html#l00184">HIBYTE</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l00463">_LARGE_UNICODE_STRING::Length</a>, <a class="el" href="../../d6/d8/ntrtlp_8h-source.html#l00183">LOBYTE</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00213">REBASE</a>, <a class="el" href="../../d6/d4/statctl_8c-source.html#l00054">rgstk</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02514">SFCENTERIMAGE</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02518">SFEDITCONTROL</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02519">SFELLIPSISMASK</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02512">SFNOPREFIX</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02511">SFTYPEMASK</a>, <a class="el" href="../../d6/d4/statctl_8c-source.html#l00052">STK_USETEXT</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l01855">tagWND::strName</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02555">TestWF</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d0/d5/ndismain_8h-source.html#l00026">UINT</a>, and <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l02524">WEFPUIACCELHIDDEN</a>.
<p>
Referenced by <a class="el" href="../../d6/d4/statctl_8c-source.html#l00419">xxxStaticPaint()</a>.
<p>
<pre class="fragment"><div>00350 {
00351     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>   style;
00352     LPWSTR lpszName;
00353     RECT   rc;
00354     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>   bType;
00355 
00356     UNREFERENCED_PARAMETER(fUnused);
00357 
00358     bType = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, SFTYPEMASK);
00359     UserAssert(rgstk[bType] &amp; STK_USETEXT);
00360 
00361     <span class="keywordflow">if</span> (pwnd-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o17">strName</a>.<a class="code" href="../../d2/d9/struct__LARGE__UNICODE__STRING.html#o0">Length</a>) {
00362         lpszName = <a class="code" href="../../d6/d0/usercli_8h.html#a26">REBASE</a>(pwnd, strName.Buffer);
00363 
00364         style = DT_NOCLIP | DT_EXPANDTABS;
00365 
00366         <span class="keywordflow">if</span> (bType != <a class="code" href="../../d5/d9/ntrtlp_8h.html#a4">LOBYTE</a>(SS_LEFTNOWORDWRAP)) {
00367             style |= DT_WORDBREAK;
00368             style |= (<a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>)(bType - <a class="code" href="../../d5/d9/ntrtlp_8h.html#a4">LOBYTE</a>(SS_LEFT));
00369 
00370             <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, SFEDITCONTROL))
00371                 style |= DT_EDITCONTROL;
00372         }
00373 
00374         <span class="keywordflow">switch</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, SFELLIPSISMASK)) {
00375         <span class="keywordflow">case</span> <a class="code" href="../../d5/d9/ntrtlp_8h.html#a5">HIBYTE</a>(LOWORD(SS_ENDELLIPSIS)):
00376             style |= DT_END_ELLIPSIS | DT_SINGLELINE;
00377             <span class="keywordflow">break</span>;
00378 
00379         <span class="keywordflow">case</span> <a class="code" href="../../d5/d9/ntrtlp_8h.html#a5">HIBYTE</a>(LOWORD(SS_PATHELLIPSIS)):
00380             style |= DT_PATH_ELLIPSIS | DT_SINGLELINE;
00381             <span class="keywordflow">break</span>;
00382 
00383         <span class="keywordflow">case</span> <a class="code" href="../../d5/d9/ntrtlp_8h.html#a5">HIBYTE</a>(LOWORD(SS_WORDELLIPSIS)):
00384             style |= DT_WORD_ELLIPSIS | DT_SINGLELINE;
00385             <span class="keywordflow">break</span>;
00386         }
00387 
00388         <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, SFNOPREFIX))
00389             style |= DT_NOPREFIX;
00390 
00391         <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, SFCENTERIMAGE))
00392             style |= DT_VCENTER | DT_SINGLELINE;
00393 
00394         rc.left     = 0;
00395         rc.top      = 0;
00396         rc.right    = cx;
00397         rc.bottom   = <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>;
00398 
00399         <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, WEFPUIACCELHIDDEN)) {
00400             style |= DT_HIDEPREFIX;
00401         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((<a class="code" href="../../d3/d7/structtagSTATWND.html">PSTATWND</a>)pwnd)-&gt;pstat-&gt;fPaintKbdCuesOnly) {
00402             style |= DT_PREFIXONLY;
00403         }
00404 
00405         <a class="code" href="../../d5/d2/rtl_2drawtext_8c.html#a51">DrawTextExW</a>(hdc, lpszName, -1, &amp;rc, (DWORD)style, NULL);
00406 
00407     }
00408 
00409     <span class="keywordflow">return</span>(<a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>);
00410 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a19" doxytag="statctl.c::StaticNotifyParent" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> LRESULT FAR PASCAL StaticNotifyParent           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d6/d9/structtagWND.html">PWND</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pwnd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d6/d9/structtagWND.html">PWND</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pwndParent</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>nCode</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d4/statctl_8c-source.html#l00812">812</a> of file <a class="el" href="../../d6/d4/statctl_8c-source.html">statctl.c</a>.
<p>
References <a class="el" href="../../d7/d6/aug98_2dll32_2icmdll_8h-source.html#l00010">FAR</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l01514">HW</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l01515">HWq</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00411">PTR_TO_ID</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00215">REBASEPWND</a>, <a class="el" href="../../d6/d8/cltxt_8h-source.html#l00652">SendMessage()</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l01764">tagWND::spmenu</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00362">ThreadLock</a>, and <a class="el" href="../../d7/d9/usercli_8h-source.html#l00366">ThreadUnlock</a>.
<p>
Referenced by <a class="el" href="../../d6/d4/statctl_8c-source.html#l00840">StaticWndProcWorker()</a>.
<p>
<pre class="fragment"><div>00816 {
00817     LRESULT lret;
00818     <a class="code" href="../../d5/d1/struct__TL.html">TL</a>   tlpwndParent;
00819 
00820     UserAssert(pwnd);
00821 
00822     <span class="keywordflow">if</span> (!pwndParent) {
00823         pwndParent = <a class="code" href="../../d6/d0/usercli_8h.html#a27">REBASEPWND</a>(pwnd, spwndParent);
00824     }
00825 
00826     <a class="code" href="../../d6/d0/usercli_8h.html#a36">ThreadLock</a>(pwndParent, &amp;tlpwndParent);
00827     lret = <a class="code" href="../../d5/d9/cltxt_8h.html#a16">SendMessage</a>(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a450">HW</a>(pwndParent), WM_COMMAND,
00828                        MAKELONG(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a99">PTR_TO_ID</a>(pwnd-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o16">spmenu</a>), nCode), (LPARAM)<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a451">HWq</a>(pwnd));
00829     <a class="code" href="../../d6/d0/usercli_8h.html#a40">ThreadUnlock</a>(&amp;tlpwndParent);
00830 
00831     <span class="keywordflow">return</span> lret;
00832 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="statctl.c::StaticRepaint" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void StaticRepaint           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/d7/structtagSTAT.html">PSTAT</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pstat</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d4/statctl_8c-source.html#l00784">784</a> of file <a class="el" href="../../d6/d4/statctl_8c-source.html">statctl.c</a>.
<p>
References <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l01515">HWq</a>, <a class="el" href="../../d3/d7/rtl_2winmgr_8c-source.html#l00537">IsVisible()</a>, <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l06624">NtUserGetDC()</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l01556">NtUserReleaseDC</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00862">tagSTAT::spwnd</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d6/d4/statctl_8c-source.html#l00419">xxxStaticPaint()</a>.
<p>
Referenced by <a class="el" href="../../d6/d4/statctl_8c-source.html#l00840">StaticWndProcWorker()</a>.
<p>
<pre class="fragment"><div>00786 {
00787     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd = pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o0">spwnd</a>;
00788 
00789     <span class="keywordflow">if</span> (<a class="code" href="../../d2/d8/rtl_2winmgr_8c.html#a6">IsVisible</a>(pwnd)) {
00790 
00791         HDC hdc;
00792         HWND hwnd = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a451">HWq</a>(pwnd);
00793 
00794         <span class="keywordflow">if</span> (hdc = <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a250">NtUserGetDC</a>(hwnd)) {
00795             <a class="code" href="../../d5/d5/statctl_8c.html#a17">xxxStaticPaint</a>(pstat, hdc, TRUE);
00796             <a class="code" href="../../d6/d0/usercli_8h.html#a211">NtUserReleaseDC</a>(hwnd, hdc);
00797         }
00798     }
00799 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a21" doxytag="statctl.c::StaticWndProcA" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> LRESULT WINAPI StaticWndProcA           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HWND&nbsp;</td>
          <td class="mdname" nowrap> <em>hwnd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>message</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>WPARAM&nbsp;</td>
          <td class="mdname" nowrap> <em>wParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPARAM&nbsp;</td>
          <td class="mdname" nowrap> <em>lParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d4/statctl_8c-source.html#l01173">1173</a> of file <a class="el" href="../../d6/d4/statctl_8c-source.html">statctl.c</a>.
<p>
References <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d6/d4/statctl_8c-source.html#l00840">StaticWndProcWorker()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d5/d9/immcli_8h-source.html#l00120">ValidateHwnd</a>.
<p>
Referenced by <a class="el" href="../../d7/d7/clinit_8c-source.html#l01219">ClientThreadSetup()</a>.
<p>
<pre class="fragment"><div>01178 {
01179     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd;
01180 
01181     <span class="keywordflow">if</span> ((pwnd = <a class="code" href="../../d4/d0/immcli_8h.html#a4">ValidateHwnd</a>(hwnd)) == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
01182         <span class="keywordflow">return</span> (0<a class="code" href="../../d2/d0/aw_8h.html#a3">L</a>);
01183     }
01184 
01185     <span class="keywordflow">return</span> <a class="code" href="../../d6/d0/usercli_8h.html#a613">StaticWndProcWorker</a>(pwnd, message, wParam, lParam, TRUE);
01186 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a22" doxytag="statctl.c::StaticWndProcW" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> LRESULT WINAPI StaticWndProcW           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HWND&nbsp;</td>
          <td class="mdname" nowrap> <em>hwnd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>message</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>WPARAM&nbsp;</td>
          <td class="mdname" nowrap> <em>wParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPARAM&nbsp;</td>
          <td class="mdname" nowrap> <em>lParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d4/statctl_8c-source.html#l01188">1188</a> of file <a class="el" href="../../d6/d4/statctl_8c-source.html">statctl.c</a>.
<p>
References <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d6/d4/statctl_8c-source.html#l00840">StaticWndProcWorker()</a>, and <a class="el" href="../../d5/d9/immcli_8h-source.html#l00120">ValidateHwnd</a>.
<p>
Referenced by <a class="el" href="../../d7/d7/clinit_8c-source.html#l01219">ClientThreadSetup()</a>, and <a class="el" href="../../d7/d7/clinit_8c-source.html#l00378">RW_RegisterControls()</a>.
<p>
<pre class="fragment"><div>01193 {
01194     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd;
01195 
01196     <span class="keywordflow">if</span> ((pwnd = <a class="code" href="../../d4/d0/immcli_8h.html#a4">ValidateHwnd</a>(hwnd)) == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
01197         <span class="keywordflow">return</span> (0<a class="code" href="../../d2/d0/aw_8h.html#a3">L</a>);
01198     }
01199 
01200     <span class="keywordflow">return</span> <a class="code" href="../../d6/d0/usercli_8h.html#a613">StaticWndProcWorker</a>(pwnd, message, wParam, lParam, FALSE);
01201 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a20" doxytag="statctl.c::StaticWndProcWorker" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> LRESULT APIENTRY StaticWndProcWorker           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d6/d9/structtagWND.html">PWND</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pwnd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>message</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>WPARAM&nbsp;</td>
          <td class="mdname" nowrap> <em>wParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPARAM&nbsp;</td>
          <td class="mdname" nowrap> <em>lParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>fAnsi</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d4/statctl_8c-source.html#l00840">840</a> of file <a class="el" href="../../d6/d4/statctl_8c-source.html">statctl.c</a>.
<p>
References <a class="el" href="../../d9/d8/client_2ntstubs_8c-source.html#l01171">_DefSetText()</a>, <a class="el" href="../../d7/d8/rtl_2wow_8c-source.html#l00924">_GetClientRect()</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l00048">APIENTRY</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l01738">tagCLS::atomClassName</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l01297">tagSERVERINFO::atomSysClass</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d2/d0/bench_8c-source.html#l00050">CHAR</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00361">CheckLock</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00868">tagSTAT::cicur</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02170">CURSOR_CALLFROMCLIENT</a>, <a class="el" href="../../d1/d8/clmsg_8c-source.html#l00574">DefWindowProcWorker()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00865">tagSTAT::fDeleteIt</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00836">FNID_CLEANEDUP_BIT</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00800">FNID_STATIC</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00870">tagSTAT::fPaintKbdCuesOnly</a>, <a class="el" href="../../d2/d1/rtlinit_8c-source.html#l00344">FreeLookasideEntry()</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00144">FWINDOWMSG</a>, <a class="el" href="../../d2/d7/clglobal_8c-source.html#l00051">gpsi</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00864">tagSTAT::hFont</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00867">tagSTAT::hImage</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l01515">HWq</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00349">ICLS_DIALOG</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00308">IDSYS_STANIMATE</a>, <a class="el" href="../../d6/d4/statctl_8c-source.html#l00031">IMAGE_STMMAX</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00270">INITCONTROLLOOKASIDE</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00591">IS_IME_ENABLED</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00598">IS_MIDEAST_ENABLED</a>, <a class="el" href="../../d9/d0/btnctl_8c-source.html#l00047">IsValidImage</a>, <a class="el" href="../../d3/d7/rtl_2winmgr_8c-source.html#l00537">IsVisible()</a>, <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>, <a class="el" href="../../d6/d8/ntrtlp_8h-source.html#l00183">LOBYTE</a>, <a class="el" href="../../d6/d5/chartran_8c-source.html#l00191">MBToWCSEx()</a>, <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l07752">NtUserAlterWindowStyle()</a>, <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l06520">NtUserBeginPaint()</a>, <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l04033">NtUserDestroyCursor()</a>, <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l06575">NtUserEndPaint()</a>, <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l05330">NtUserInvalidateRect()</a>, <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l05388">NtUserKillTimer()</a>, <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l07715">NtUserSetWindowFNID()</a>, <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l02180">NtUserSetWindowPos()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00210">REBASEALWAYS</a>, <a class="el" href="../../d6/d4/statctl_8c-source.html#l00054">rgstk</a>, <a class="el" href="../../d1/d8/clmsg_8c-source.html#l00270">SendMessageWorker()</a>, <a class="el" href="../../d9/d3/w32_2ntuser_2kernel_2random_8c-source.html#l00083">SetWindowState()</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02513">SFNOTIFY</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02517">SFSUNKEN</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02511">SFTYPEMASK</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00862">tagSTAT::spwnd</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l01745">tagWND::spwndParent</a>, <a class="el" href="../../d6/d0/usercli_8h.html#a371">STAT</a>, <a class="el" href="../../d6/d4/statctl_8c-source.html#l00076">StaticLookaside</a>, <a class="el" href="../../d6/d4/statctl_8c-source.html#l00812">StaticNotifyParent()</a>, <a class="el" href="../../d6/d4/statctl_8c-source.html#l00784">StaticRepaint()</a>, <a class="el" href="../../d6/d4/statctl_8c-source.html#l00045">STK_IMAGE</a>, <a class="el" href="../../d6/d4/statctl_8c-source.html#l00048">STK_TYPE</a>, <a class="el" href="../../d6/d4/statctl_8c-source.html#l00051">STK_USEFONT</a>, <a class="el" href="../../d6/d4/statctl_8c-source.html#l00052">STK_USETEXT</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00202">SYSMET</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02555">TestWF</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02561">TestwndChild</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00368">Unlock</a>, <a class="el" href="../../d4/d7/client_8c-source.html#l03608">UpdateWindow()</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00227">VALIDATECLASSANDSIZE</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02372">WEFRIGHT</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02378">WEFSTATICEDGE</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02419">WFVISIBLE</a>, <a class="el" href="../../d6/d4/statctl_8c-source.html#l01211">xxxNextAniIconStep()</a>, <a class="el" href="../../d6/d4/statctl_8c-source.html#l00094">xxxSetStaticImage()</a>, <a class="el" href="../../d6/d4/statctl_8c-source.html#l00246">xxxStaticLoadImage()</a>, and <a class="el" href="../../d6/d4/statctl_8c-source.html#l00419">xxxStaticPaint()</a>.
<p>
Referenced by <a class="el" href="../../d7/d7/clinit_8c-source.html#l01219">ClientThreadSetup()</a>, <a class="el" href="../../d6/d4/statctl_8c-source.html#l01173">StaticWndProcA()</a>, and <a class="el" href="../../d6/d4/statctl_8c-source.html#l01188">StaticWndProcW()</a>.
<p>
<pre class="fragment"><div>00846 {
00847     HWND        hwnd = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a451">HWq</a>(pwnd);
00848     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>        bType;
00849     <a class="code" href="../../d1/d7/structtagSTAT.html">PSTAT</a>       pstat;
00850     <span class="keyword">static</span> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> fInit = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00851 
00852     <a class="code" href="../../d6/d0/usercli_8h.html#a35">CheckLock</a>(pwnd);
00853 
00854     <a class="code" href="../../d6/d0/usercli_8h.html#a28">VALIDATECLASSANDSIZE</a>(pwnd, FNID_STATIC);
00855     <a class="code" href="../../d6/d0/usercli_8h.html#a29">INITCONTROLLOOKASIDE</a>(&amp;StaticLookaside, <a class="code" href="../../d1/d7/structtagSTAT.html">STAT</a>, spwnd, 8);
00856 
00857     <span class="comment">/*</span>
00858 <span class="comment">     * If the control is not interested in this message,</span>
00859 <span class="comment">     * pass it to DefWindowProc.</span>
00860 <span class="comment">     */</span>
00861     <span class="keywordflow">if</span> (!<a class="code" href="../../d6/d0/usercli_8h.html#a10">FWINDOWMSG</a>(message, FNID_STATIC))
00862         <span class="keywordflow">return</span> <a class="code" href="../../d6/d0/usercli_8h.html#a610">DefWindowProcWorker</a>(pwnd, message, wParam, lParam, fAnsi);
00863 
00864     <span class="comment">/*</span>
00865 <span class="comment">     * Get the pstat for the given window now since we will use it a lot in</span>
00866 <span class="comment">     * various handlers. This was stored using SetWindowLong(hwnd,0,pstat) when</span>
00867 <span class="comment">     * we initially created the static control.</span>
00868 <span class="comment">     */</span>
00869     pstat = ((<a class="code" href="../../d3/d7/structtagSTATWND.html">PSTATWND</a>)pwnd)-&gt;pstat;
00870 
00871     <span class="comment">/*</span>
00872 <span class="comment">     * Get the control's type</span>
00873 <span class="comment">     */</span>
00874     bType = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, SFTYPEMASK);
00875 
00876     <span class="keywordflow">switch</span> (message) {
00877     <span class="keywordflow">case</span> STM_GETICON:
00878         wParam = IMAGE_ICON;
00879 
00880     <span class="keywordflow">case</span> STM_GETIMAGE:
00881         <span class="keywordflow">if</span> (<a class="code" href="../../d8/d1/btnctl_8c.html#a7">IsValidImage</a>(wParam, bType, IMAGE_STMMAX)) {
00882             <span class="keywordflow">return</span> (LRESULT)pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o3">hImage</a>;
00883         }
00884         <span class="keywordflow">break</span>;
00885 
00886     <span class="keywordflow">case</span> STM_SETICON:
00887         lParam = (LPARAM)wParam;
00888         wParam = IMAGE_ICON;
00889 
00890     <span class="keywordflow">case</span> STM_SETIMAGE:
00891         <span class="keywordflow">if</span> (<a class="code" href="../../d8/d1/btnctl_8c.html#a7">IsValidImage</a>(wParam, bType, IMAGE_STMMAX)) {
00892             <span class="keywordflow">return</span> (LRESULT)<a class="code" href="../../d5/d5/statctl_8c.html#a14">xxxSetStaticImage</a>(pstat, (HANDLE)lParam, FALSE);
00893         }
00894         <span class="keywordflow">break</span>;
00895 
00896     <span class="keywordflow">case</span> WM_ERASEBKGND:
00897 
00898         <span class="comment">/*</span>
00899 <span class="comment">         * The control will be erased in xxxStaticPaint().</span>
00900 <span class="comment">         */</span>
00901         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00902 
00903     <span class="keywordflow">case</span> WM_PRINTCLIENT:
00904         <a class="code" href="../../d5/d5/statctl_8c.html#a17">xxxStaticPaint</a>(pstat, (HDC)wParam, FALSE);
00905         <span class="keywordflow">break</span>;
00906 
00907     <span class="keywordflow">case</span> WM_PAINT:
00908         {
00909             HDC         hdc;
00910             PAINTSTRUCT ps;
00911 
00912             <span class="keywordflow">if</span> ((hdc = (HDC)wParam) == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00913                 hdc = <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a246">NtUserBeginPaint</a>(hwnd, &amp;ps);
00914             }
00915 
00916             <span class="keywordflow">if</span> (<a class="code" href="../../d2/d8/rtl_2winmgr_8c.html#a6">IsVisible</a>(pwnd)) {
00917                 <a class="code" href="../../d5/d5/statctl_8c.html#a17">xxxStaticPaint</a>(pstat, hdc, !wParam);
00918             }
00919 
00920             <span class="comment">/*</span>
00921 <span class="comment">             * If hwnd was destroyed, BeginPaint was automatically undone.</span>
00922 <span class="comment">             */</span>
00923             <span class="keywordflow">if</span> (!wParam) {
00924                 <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a248">NtUserEndPaint</a>(hwnd, &amp;ps);
00925             }
00926         }
00927         <span class="keywordflow">break</span>;
00928 
00929     <span class="keywordflow">case</span> WM_CREATE:
00930 
00931         <span class="keywordflow">if</span> ((<a class="code" href="../../d5/d5/statctl_8c.html#a11">rgstk</a>[bType] &amp; <a class="code" href="../../d5/d5/statctl_8c.html#a5">STK_TYPE</a>) == <a class="code" href="../../d5/d5/statctl_8c.html#a2">STK_IMAGE</a>) {
00932             <span class="comment">/*</span>
00933 <span class="comment">             *  Pull the name from LPCREATESTRUCT like Win95 does</span>
00934 <span class="comment">             */</span>
00935             LPWSTR  lpszName;
00936             LPSTR   lpszAnsiName;
00937             <span class="keyword">struct </span>{
00938                 WORD tag;
00939                 <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> ordLo;
00940                 <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> ordHi;
00941             } dwUnicodeOrdinal;
00942 
00943             <span class="keywordflow">if</span> (fAnsi) {
00944                 <span class="comment">/*</span>
00945 <span class="comment">                 *  Convert the ANSI string to unicode if it exists</span>
00946 <span class="comment">                 */</span>
00947                 lpszAnsiName = (LPSTR)((LPCREATESTRUCT)lParam)-&gt;lpszName;
00948                 <span class="keywordflow">if</span> (lpszAnsiName) {
00949                     <span class="keywordflow">if</span> (lpszAnsiName[0] == (<a class="code" href="../../d1/d1/bench_8c.html#a16">CHAR</a>)0xff) {
00950                         <span class="comment">/*</span>
00951 <span class="comment">                         * Convert ANSI ordinal to UNICODE ordinal</span>
00952 <span class="comment">                         */</span>
00953                         dwUnicodeOrdinal.tag = 0xFFFF;
00954                         dwUnicodeOrdinal.ordLo = lpszAnsiName[1];
00955                         dwUnicodeOrdinal.ordHi = lpszAnsiName[2];
00956                         lpszName = (LPWSTR)&amp;dwUnicodeOrdinal;
00957                     } <span class="keywordflow">else</span> {
00958                         <a class="code" href="../../d5/d6/chartran_8c.html#a3">MBToWCSEx</a>(0, lpszAnsiName, -1, &amp;lpszName, -1, TRUE);
00959                     }
00960                 } <span class="keywordflow">else</span> {
00961                     lpszName = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00962                 }
00963             } <span class="keywordflow">else</span> {
00964                 lpszName = (LPWSTR)(((LPCREATESTRUCT)lParam)-&gt;lpszName);
00965             }
00966 
00967             <span class="comment">/*</span>
00968 <span class="comment">             *  Load the image</span>
00969 <span class="comment">             */</span>
00970             <a class="code" href="../../d5/d5/statctl_8c.html#a15">xxxStaticLoadImage</a>(pstat, lpszName);
00971 
00972             <span class="keywordflow">if</span> (fAnsi &amp;&amp;
00973                     lpszName &amp;&amp;
00974                     lpszName != (LPWSTR)&amp;dwUnicodeOrdinal) {
00975                 <span class="comment">/*</span>
00976 <span class="comment">                 *  Free the converted ANSI string</span>
00977 <span class="comment">                 */</span>
00978                 LocalFree(lpszName);
00979             }
00980         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (bType == SS_ETCHEDHORZ || bType == SS_ETCHEDVERT) {
00981 
00982             <span class="comment">/*</span>
00983 <span class="comment">             * Resize static window to fit edge.  Horizontal dudes</span>
00984 <span class="comment">             * make bottom one edge from top, vertical dudes make</span>
00985 <span class="comment">             * right edge one edge from left.</span>
00986 <span class="comment">             */</span>
00987 
00988             RECT    rcClient;
00989 
00990             <a class="code" href="../../d6/d9/rtl_2wow_8c.html#a19">_GetClientRect</a>(pwnd, &amp;rcClient);
00991             <span class="keywordflow">if</span> (bType == SS_ETCHEDHORZ)
00992                 rcClient.bottom = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYEDGE);
00993             <span class="keywordflow">else</span>
00994                 rcClient.right = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CXEDGE);
00995 
00996             <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a115">NtUserSetWindowPos</a>(hwnd, HWND_TOP, 0, 0, rcClient.right,
00997                 rcClient.bottom, SWP_NOMOVE | SWP_NOZORDER | SWP_NOACTIVATE);
00998         }
00999         <span class="keywordflow">break</span>;
01000 
01001     <span class="keywordflow">case</span> WM_DESTROY:
01002         <span class="keywordflow">if</span> (((<a class="code" href="../../d5/d5/statctl_8c.html#a11">rgstk</a>[bType] &amp; <a class="code" href="../../d5/d5/statctl_8c.html#a5">STK_TYPE</a>) == <a class="code" href="../../d5/d5/statctl_8c.html#a2">STK_IMAGE</a>) &amp;&amp;
01003             (pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o3">hImage</a> != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)                  &amp;&amp;
01004             (pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o2">fDeleteIt</a>)) {
01005 
01006             <span class="keywordflow">if</span> (bType == SS_BITMAP) {
01007                 DeleteObject(pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o3">hImage</a>);
01008             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (bType == SS_ICON) {
01009                 <span class="keywordflow">if</span> (pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o4">cicur</a> &gt; 1) {
01010                     <span class="comment">/*</span>
01011 <span class="comment">                     *  Kill the animated cursor timer</span>
01012 <span class="comment">                     */</span>
01013                     <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a208">NtUserKillTimer</a>(hwnd, IDSYS_STANIMATE);
01014                 }
01015                 <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a156">NtUserDestroyCursor</a>((HCURSOR)(pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o3">hImage</a>), CURSOR_CALLFROMCLIENT);
01016             }
01017         }
01018         <span class="keywordflow">break</span>;
01019 
01020     <span class="keywordflow">case</span> WM_NCCREATE:
01021         <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd,WEFRIGHT)) {
01022             <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a285">NtUserAlterWindowStyle</a>(hwnd, SS_TYPEMASK, SS_RIGHT);
01023         }
01024 
01025         <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, SFSUNKEN) ||
01026             ((bType == <a class="code" href="../../d5/d9/ntrtlp_8h.html#a4">LOBYTE</a>(SS_ETCHEDHORZ)) || (bType == <a class="code" href="../../d5/d9/ntrtlp_8h.html#a4">LOBYTE</a>(SS_ETCHEDVERT)))) {
01027             <a class="code" href="../../d4/d1/userk_8h.html#a1628">SetWindowState</a>(pwnd, WEFSTATICEDGE);
01028         }
01029         <span class="keywordflow">goto</span> CallDWP;
01030 
01031     <span class="keywordflow">case</span> WM_NCDESTROY:
01032     <span class="keywordflow">case</span> WM_FINALDESTROY:
01033         <span class="keywordflow">if</span> (pstat) {
01034             <a class="code" href="../../d6/d0/usercli_8h.html#a42">Unlock</a>(&amp;pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o0">spwnd</a>);
01035             <a class="code" href="../../d6/d0/usercli_8h.html#a408">FreeLookasideEntry</a>(&amp;StaticLookaside, pstat);
01036         }
01037         <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a284">NtUserSetWindowFNID</a>(hwnd, FNID_CLEANEDUP_BIT);
01038         <span class="keywordflow">break</span>;
01039 
01040     <span class="keywordflow">case</span> WM_NCHITTEST:
01041         <span class="keywordflow">return</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, SFNOTIFY) ? HTCLIENT : HTTRANSPARENT);
01042 
01043     <span class="keywordflow">case</span> WM_LBUTTONDOWN:
01044     <span class="keywordflow">case</span> WM_NCLBUTTONDOWN:
01045         <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, SFNOTIFY)) {
01046 
01047             <span class="comment">/*</span>
01048 <span class="comment">             * It is acceptable for an app to destroy a static label</span>
01049 <span class="comment">             * in response to a STN_CLICKED notification.</span>
01050 <span class="comment">             */</span>
01051             <a class="code" href="../../d5/d5/statctl_8c.html#a19">StaticNotifyParent</a>(pwnd, NULL, STN_CLICKED);
01052         }
01053         <span class="keywordflow">break</span>;
01054 
01055     <span class="keywordflow">case</span> WM_LBUTTONDBLCLK:
01056     <span class="keywordflow">case</span> WM_NCLBUTTONDBLCLK:
01057         <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, SFNOTIFY)) {
01058 
01059             <span class="comment">/*</span>
01060 <span class="comment">             * It is acceptable for an app to destroy a static label in</span>
01061 <span class="comment">             * response to a STN_DBLCLK notification.</span>
01062 <span class="comment">             */</span>
01063             <a class="code" href="../../d5/d5/statctl_8c.html#a19">StaticNotifyParent</a>(pwnd, NULL, STN_DBLCLK);
01064         }
01065         <span class="keywordflow">break</span>;
01066 
01067     <span class="keywordflow">case</span> WM_SETTEXT:
01068         <span class="comment">/*</span>
01069 <span class="comment">         *  No more hack to set icon/bitmap via WM_SETTEXT!</span>
01070 <span class="comment">         */</span>
01071         <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5/statctl_8c.html#a11">rgstk</a>[bType] &amp; <a class="code" href="../../d5/d5/statctl_8c.html#a8">STK_USETEXT</a>) {
01072             <span class="keywordflow">if</span> (<a class="code" href="../../d6/d0/usercli_8h.html#a622">_DefSetText</a>(hwnd, (LPWSTR)lParam, fAnsi)) {
01073                 <a class="code" href="../../d5/d5/statctl_8c.html#a18">StaticRepaint</a>(pstat);
01074                 <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01075             }
01076         }
01077         <span class="keywordflow">break</span>;
01078 
01079     <span class="keywordflow">case</span> WM_ENABLE:
01080         <a class="code" href="../../d5/d5/statctl_8c.html#a18">StaticRepaint</a>(pstat);
01081         <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, SFNOTIFY)) {
01082             <a class="code" href="../../d5/d5/statctl_8c.html#a19">StaticNotifyParent</a>(pwnd, NULL, (wParam ? STN_ENABLE : STN_DISABLE));
01083         }
01084         <span class="keywordflow">break</span>;
01085 
01086     <span class="keywordflow">case</span> WM_GETDLGCODE:
01087         <span class="keywordflow">return</span> (LONG)DLGC_STATIC;
01088 
01089     <span class="keywordflow">case</span> WM_SETFONT:
01090 
01091         <span class="comment">/*</span>
01092 <span class="comment">         * wParam - handle to the font</span>
01093 <span class="comment">         * lParam - if true, redraw else don't</span>
01094 <span class="comment">         */</span>
01095         <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5/statctl_8c.html#a11">rgstk</a>[bType] &amp; <a class="code" href="../../d5/d5/statctl_8c.html#a7">STK_USEFONT</a>) {
01096 
01097             pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o1">hFont</a> = (HANDLE)wParam;
01098 
01099             <span class="keywordflow">if</span> (lParam &amp;&amp; <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, WFVISIBLE)) {
01100                 <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a206">NtUserInvalidateRect</a>(hwnd, NULL, TRUE);
01101                 <a class="code" href="../../d3/d8/client_8c.html#a140">UpdateWindow</a>(hwnd);
01102             }
01103         }
01104         <span class="keywordflow">break</span>;
01105 
01106     <span class="keywordflow">case</span> WM_GETFONT:
01107         <span class="keywordflow">if</span> (<a class="code" href="../../d5/d5/statctl_8c.html#a11">rgstk</a>[bType] &amp; <a class="code" href="../../d5/d5/statctl_8c.html#a7">STK_USEFONT</a>) {
01108             <span class="keywordflow">return</span> (LRESULT)pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o1">hFont</a>;
01109         }
01110         <span class="keywordflow">break</span>;
01111 
01112     <span class="keywordflow">case</span> WM_TIMER:
01113         <span class="keywordflow">if</span> (wParam == <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a54">IDSYS_STANIMATE</a>) {
01114             <a class="code" href="../../d5/d5/statctl_8c.html#a13">xxxNextAniIconStep</a>(pstat);
01115         }
01116         <span class="keywordflow">break</span>;
01117 
01118     <span class="comment">/*</span>
01119 <span class="comment">     *  case WM_GETTEXT:</span>
01120 <span class="comment">     *  No more hack to get icon/bitmap via WM_GETTEXT!</span>
01121 <span class="comment">     */</span>
01122 
01123     <span class="keywordflow">case</span> WM_INPUTLANGCHANGEREQUEST:
01124         <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a126">IS_IME_ENABLED</a>() || <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a128">IS_MIDEAST_ENABLED</a>()) {
01125             <span class="comment">/*</span>
01126 <span class="comment">             * #115190</span>
01127 <span class="comment">             * If the window is one of controls on top of dialogbox,</span>
01128 <span class="comment">             * let the parent dialog handle it.</span>
01129 <span class="comment">             */</span>
01130             <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a735">TestwndChild</a>(pwnd) &amp;&amp; pwnd-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o3">spwndParent</a>) {
01131                 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndParent = <a class="code" href="../../d6/d0/usercli_8h.html#a24">REBASEALWAYS</a>(pwnd, spwndParent);
01132                 <span class="keywordflow">if</span> (pwndParent) {
01133                     <a class="code" href="../../d7/d0/structtagCLS.html">PCLS</a> pclsParent = <a class="code" href="../../d6/d0/usercli_8h.html#a24">REBASEALWAYS</a>(pwndParent, pcls);
01134 
01135                     UserAssert(pclsParent != NULL);
01136                     <span class="keywordflow">if</span> (pclsParent-&gt;<a class="code" href="../../d7/d0/structtagCLS.html#o1">atomClassName</a> == <a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;<a class="code" href="../../d2/d6/structtagSERVERINFO.html#o12">atomSysClass</a>[<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a76">ICLS_DIALOG</a>]) {
01137                         <span class="keywordflow">return</span> <a class="code" href="../../d6/d0/usercli_8h.html#a600">SendMessageWorker</a>(pwndParent, message, wParam, lParam, FALSE);
01138                     }
01139                 }
01140             }
01141         }
01142         <span class="keywordflow">goto</span> CallDWP;
01143 
01144     <span class="keywordflow">case</span> WM_UPDATEUISTATE:
01145         {
01146             <span class="comment">/*</span>
01147 <span class="comment">             * DWP will change the UIState bits accordingly</span>
01148 <span class="comment">             */</span>
01149             <a class="code" href="../../d6/d0/usercli_8h.html#a610">DefWindowProcWorker</a>(pwnd, message, wParam, lParam, fAnsi);
01150 
01151             <span class="keywordflow">if</span> (HIWORD(wParam) &amp; UISF_HIDEACCEL) {
01152                 <span class="comment">/*</span>
01153 <span class="comment">                 * Change in AccelHidden state: need to repaint</span>
01154 <span class="comment">                 */</span>
01155                 <span class="keywordflow">if</span> (ISSSTEXTOROD(bType)) {
01156                     pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o6">fPaintKbdCuesOnly</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01157                     <a class="code" href="../../d5/d5/statctl_8c.html#a18">StaticRepaint</a>(pstat);
01158                     pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o6">fPaintKbdCuesOnly</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01159                 }
01160             }
01161         }
01162         <span class="keywordflow">break</span>;
01163 
01164     <span class="keywordflow">default</span>:
01165 CallDWP:
01166         <span class="keywordflow">return</span> <a class="code" href="../../d6/d0/usercli_8h.html#a610">DefWindowProcWorker</a>(pwnd, message, wParam, lParam, fAnsi);
01167     }
01168 
01169     <span class="keywordflow">return</span> 0<a class="code" href="../../d2/d0/aw_8h.html#a3">L</a>;
01170 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="statctl.c::xxxNextAniIconStep" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID xxxNextAniIconStep           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/d7/structtagSTAT.html">PSTAT</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d4/statctl_8c-source.html#l01211">1211</a> of file <a class="el" href="../../d6/d4/statctl_8c-source.html">statctl.c</a>.
<p>
References <a class="el" href="../../d7/d9/usercli_8h-source.html#l00868">tagSTAT::cicur</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d8/clres_8c-source.html#l01465">GetCursorFrameInfo()</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00867">tagSTAT::hImage</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l01515">HWq</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00308">IDSYS_STANIMATE</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00869">tagSTAT::iicur</a>, <a class="el" href="../../d9/d5/sertl_8c-source.html#l00332">max</a>, <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l05330">NtUserInvalidateRect()</a>, <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l05388">NtUserKillTimer()</a>, <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l06092">NtUserSetTimer()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00862">tagSTAT::spwnd</a>, <a class="el" href="../../d4/d7/client_8c-source.html#l03608">UpdateWindow()</a>, and <a class="el" href="../../d2/d7/hal_8h.html#a212">VOID()</a>.
<p>
Referenced by <a class="el" href="../../d6/d4/statctl_8c-source.html#l00840">StaticWndProcWorker()</a>.
<p>
<pre class="fragment"><div>01213 {
01214     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwRate;
01215     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd = pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o0">spwnd</a>;
01216     HWND hwnd = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a451">HWq</a>(pwnd);
01217 
01218     <span class="comment">/*</span>
01219 <span class="comment">     * Stop the timer for the next animation step.</span>
01220 <span class="comment">     */</span>
01221     <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a208">NtUserKillTimer</a>(hwnd, IDSYS_STANIMATE);
01222 
01223     <span class="keywordflow">if</span> (++(pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o5">iicur</a>) &gt;= pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o4">cicur</a>) {
01224         pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o5">iicur</a> = 0;
01225     }
01226 
01227     <span class="comment">// Perhaps we can do something like shell\cpl\main\mouseptr.c</span>
01228     <span class="comment">// here, and make GetCursorFrameInfo obsolete.</span>
01229     <a class="code" href="../../d4/d9/clres_8c.html#a62">GetCursorFrameInfo</a>(pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o3">hImage</a>, NULL, pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o5">iicur</a>, &amp;dwRate, &amp;pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o4">cicur</a>);
01230     dwRate = <a class="code" href="../../d8/d6/sertl_8c.html#a1">max</a>(200, dwRate * 100 / 6);
01231 
01232     <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a206">NtUserInvalidateRect</a>(hwnd, NULL, FALSE);
01233     <a class="code" href="../../d3/d8/client_8c.html#a140">UpdateWindow</a>(hwnd);
01234 
01235     <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a230">NtUserSetTimer</a>(hwnd, IDSYS_STANIMATE, dwRate, NULL);
01236 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="statctl.c::xxxSetStaticImage" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> HANDLE xxxSetStaticImage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/d7/structtagSTAT.html">PSTAT</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>HANDLE&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOL&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d4/statctl_8c-source.html#l00094">94</a> of file <a class="el" href="../../d6/d4/statctl_8c-source.html">statctl.c</a>.
<p>
References <a class="el" href="../../d4/d7/winmgrc_8c-source.html#l00604">_AdjustWindowRectEx()</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00361">CheckLock</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00868">tagSTAT::cicur</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00865">tagSTAT::fDeleteIt</a>, <a class="el" href="../../d5/d8/clres_8c-source.html#l01465">GetCursorFrameInfo()</a>, <a class="el" href="../../d3/d7/rtl_2winmgr_8c-source.html#l00856">GetRect()</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l03426">GRECT_PARENTCOORDS</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l03421">GRECT_WINDOW</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00867">tagSTAT::hImage</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l01515">HWq</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00308">IDSYS_STANIMATE</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00869">tagSTAT::iicur</a>, <a class="el" href="../../d9/d5/sertl_8c-source.html#l00332">max</a>, <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l01669">NtUserGetIconSize()</a>, <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l05330">NtUserInvalidateRect()</a>, <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l05388">NtUserKillTimer()</a>, <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l06092">NtUserSetTimer()</a>, <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l02180">NtUserSetWindowPos()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l01839">tagWND::rcClient</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02514">SFCENTERIMAGE</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02511">SFTYPEMASK</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00862">tagSTAT::spwnd</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02555">TestWF</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d0/d5/ndismain_8h-source.html#l00026">UINT</a>, <a class="el" href="../../d4/d7/client_8c-source.html#l03608">UpdateWindow()</a>, and <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02419">WFVISIBLE</a>.
<p>
Referenced by <a class="el" href="../../d6/d4/statctl_8c-source.html#l00840">StaticWndProcWorker()</a>, and <a class="el" href="../../d6/d4/statctl_8c-source.html#l00246">xxxStaticLoadImage()</a>.
<p>
<pre class="fragment"><div>00098 {
00099     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>   bType;
00100     RECT   rc;
00101     RECT   rcWindow;
00102     HANDLE hImageOld;
00103     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  dwRate;
00104     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>   cicur;
00105     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>   fAnimated = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00106     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>   pwnd = pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o0">spwnd</a>;
00107     HWND   hwnd = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a451">HWq</a>(pwnd);
00108 
00109     <a class="code" href="../../d6/d0/usercli_8h.html#a35">CheckLock</a>(pwnd);
00110 
00111     bType = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, SFTYPEMASK);
00112 
00113     <span class="comment">/*</span>
00114 <span class="comment">     * If this is an old-ani-icon, then delete its timer.</span>
00115 <span class="comment">     */</span>
00116     <span class="keywordflow">if</span> ((bType == SS_ICON) &amp;&amp; pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o4">cicur</a> &gt; 1) {
00117         <span class="comment">/*</span>
00118 <span class="comment">         *  Old cursor was an animated cursor, so kill</span>
00119 <span class="comment">         *  the timer that is used to animate it.</span>
00120 <span class="comment">         */</span>
00121         <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a208">NtUserKillTimer</a>(hwnd, IDSYS_STANIMATE);
00122     }
00123 
00124     <span class="comment">/*</span>
00125 <span class="comment">     * Initialize the old-image return value.</span>
00126 <span class="comment">     */</span>
00127     hImageOld = pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o3">hImage</a>;
00128 
00129     rc.right = rc.bottom = 0;
00130 
00131     <span class="keywordflow">if</span> (hImage != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00132 
00133         <span class="keywordflow">switch</span> (bType) {
00134 
00135             <span class="keywordflow">case</span> SS_ENHMETAFILE: {
00136                 <span class="comment">/*</span>
00137 <span class="comment">                 * We do NOT resize the window.</span>
00138 <span class="comment">                 */</span>
00139                 rc.right  = pwnd-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o7">rcClient</a>.right  - pwnd-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o7">rcClient</a>.left;
00140                 rc.bottom = pwnd-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o7">rcClient</a>.bottom - pwnd-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o7">rcClient</a>.top;
00141                 <span class="keywordflow">break</span>;
00142             }
00143 
00144             <span class="keywordflow">case</span> SS_BITMAP: {
00145 
00146                     BITMAP bmp;
00147 
00148                     <span class="keywordflow">if</span> (GetObject(hImage, <span class="keyword">sizeof</span>(BITMAP), &amp;bmp)) {
00149                         rc.right  = bmp.bmWidth;
00150                         rc.bottom = bmp.bmHeight;
00151                     }
00152                 }
00153                 <span class="keywordflow">break</span>;
00154 
00155             <span class="keywordflow">case</span> SS_ICON: {
00156 
00157                     <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a106">NtUserGetIconSize</a>(hImage, 0, &amp;rc.right, &amp;rc.bottom);
00158                     rc.bottom /= 2;
00159 
00160                     pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o4">cicur</a> = 0;
00161                     pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o5">iicur</a> = 0;
00162 
00163                     <span class="comment">// Perhaps we can do something like shell\cpl\main\mouseptr.c</span>
00164                     <span class="comment">// here, and make GetCursorFrameInfo obsolete.</span>
00165                     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d9/clres_8c.html#a62">GetCursorFrameInfo</a>(hImage, NULL, 0, &amp;dwRate, &amp;cicur)) {
00166                         fAnimated = (cicur &gt; 1);
00167                         pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o4">cicur</a> = cicur;
00168                     }
00169                 }
00170                 <span class="keywordflow">break</span>;
00171         }
00172     }
00173 
00174     pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o3">hImage</a> = hImage;
00175     pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o2">fDeleteIt</a> = fDeleteIt;
00176 
00177 
00178     <span class="comment">/*</span>
00179 <span class="comment">     *  Resize static to fit.</span>
00180 <span class="comment">     *  Do NOT do this for SS_CENTERIMAGE</span>
00181 <span class="comment">     */</span>
00182     <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, SFCENTERIMAGE))
00183     {
00184         <span class="comment">/*</span>
00185 <span class="comment">         *  Get current window rect in parent's client coordinates.</span>
00186 <span class="comment">         */</span>
00187         <a class="code" href="../../d2/d8/rtl_2winmgr_8c.html#a12">GetRect</a>(pwnd, &amp;rcWindow, GRECT_WINDOW | GRECT_PARENTCOORDS);
00188 
00189         <span class="comment">/*</span>
00190 <span class="comment">         * Get new window dimensions</span>
00191 <span class="comment">         */</span>
00192         rc.left = 0;
00193         rc.top = 0;
00194 
00195         <span class="keywordflow">if</span> (rc.right &amp;&amp; rc.bottom) {
00196             <a class="code" href="../../d1/d0/inc_2user_8h.html#a1195">_AdjustWindowRectEx</a>(&amp;rc, pwnd-&gt;style, FALSE, pwnd-&gt;ExStyle);
00197             rc.right  -= rc.left;
00198             rc.bottom -= rc.top;
00199         }
00200 
00201         rc.left = rcWindow.left;
00202         rc.top = rcWindow.top;
00203 
00204         <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a115">NtUserSetWindowPos</a>(
00205                 hwnd,
00206                 HWND_TOP,
00207                 0,
00208                 0,
00209                 rc.right,
00210                 rc.bottom,
00211                 SWP_NOMOVE | SWP_NOACTIVATE | SWP_NOZORDER);
00212     }
00213 
00214     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, WFVISIBLE)) {
00215         <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a206">NtUserInvalidateRect</a>(hwnd, NULL, TRUE);
00216         <a class="code" href="../../d3/d8/client_8c.html#a140">UpdateWindow</a>(hwnd);
00217     }
00218 
00219 
00220     <span class="comment">/*</span>
00221 <span class="comment">     * If this is an aimated-icon, then start the timer for</span>
00222 <span class="comment">     * the animation sequence.</span>
00223 <span class="comment">     */</span>
00224     <span class="keywordflow">if</span>(fAnimated) {
00225         <span class="comment">// Perhaps we can do something like shell\cpl\main\mouseptr.c</span>
00226         <span class="comment">// here, and make GetCursorFrameInfo obsolete.</span>
00227         <a class="code" href="../../d4/d9/clres_8c.html#a62">GetCursorFrameInfo</a>(pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o3">hImage</a>, NULL, pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o5">iicur</a>, &amp;dwRate, &amp;cicur);
00228         dwRate = <a class="code" href="../../d8/d6/sertl_8c.html#a1">max</a>(200, dwRate * 100 / 6);
00229         <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a230">NtUserSetTimer</a>(hwnd, IDSYS_STANIMATE, dwRate, NULL);
00230     }
00231 
00232     <span class="keywordflow">return</span> hImageOld;
00233 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="statctl.c::xxxStaticLoadImage" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID xxxStaticLoadImage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/d7/structtagSTAT.html">PSTAT</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPWSTR&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d4/statctl_8c-source.html#l00246">246</a> of file <a class="el" href="../../d6/d4/statctl_8c-source.html">statctl.c</a>.
<p>
References <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00361">CheckLock</a>, <a class="el" href="../../d7/d6/aug98_2dll32_2icmdll_8h-source.html#l00010">FAR</a>, <a class="el" href="../../d2/d7/clglobal_8c-source.html#l00056">gfServerProcess</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02516">SFREALSIZEIMAGE</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02511">SFTYPEMASK</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00862">tagSTAT::spwnd</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02555">TestWF</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d2/d7/hal_8h.html#a212">VOID()</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02319">WFWIN40COMPAT</a>, and <a class="el" href="../../d6/d4/statctl_8c-source.html#l00094">xxxSetStaticImage()</a>.
<p>
Referenced by <a class="el" href="../../d6/d4/statctl_8c-source.html#l00840">StaticWndProcWorker()</a>.
<p>
<pre class="fragment"><div>00249 {
00250     HANDLE hImage = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00251     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>   pwnd = pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o0">spwnd</a>;
00252 
00253     <a class="code" href="../../d6/d0/usercli_8h.html#a35">CheckLock</a>(pwnd);
00254 
00255     <span class="keywordflow">if</span> (lpszName &amp;&amp; *lpszName) {
00256 
00257         <span class="comment">/*</span>
00258 <span class="comment">         * Only try to load the icon/bitmap if the string is non null.</span>
00259 <span class="comment">         */</span>
00260         <span class="keywordflow">if</span> (*(<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> <a class="code" href="../../d6/d7/aug98_2dll32_2icmdll_8h.html#a5">FAR</a> *)lpszName == 0xFF)
00261             lpszName = MAKEINTRESOURCE(((LPWORD)lpszName)[1]);
00262 
00263         <span class="comment">/*</span>
00264 <span class="comment">         * Load the image.  If it can't be found in the app, try the</span>
00265 <span class="comment">         * display driver.</span>
00266 <span class="comment">         */</span>
00267         <span class="keywordflow">if</span> (lpszName) {
00268 
00269             <span class="keywordflow">switch</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, SFTYPEMASK)) {
00270             <span class="keywordflow">case</span> SS_BITMAP:
00271 
00272                 <span class="comment">/*</span>
00273 <span class="comment">                 * If the window is not owned by the server, first call</span>
00274 <span class="comment">                 * back out to the client.</span>
00275 <span class="comment">                 */</span>
00276                 <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d8/clglobal_8c.html#a8">gfServerProcess</a> &amp;&amp; pwnd-&gt;hModule)
00277                     hImage = LoadBitmap(pwnd-&gt;hModule, lpszName);
00278 
00279                 <span class="comment">/*</span>
00280 <span class="comment">                 * If the above didn't load it, try loading it from the</span>
00281 <span class="comment">                 * display driver (hmod == NULL).</span>
00282 <span class="comment">                 */</span>
00283                 <span class="keywordflow">if</span> (hImage == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
00284                     hImage = LoadBitmap(NULL, lpszName);
00285                 <span class="keywordflow">break</span>;
00286 
00287             <span class="keywordflow">case</span> SS_ICON:
00288                 <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, SFREALSIZEIMAGE)) {
00289                     <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d8/clglobal_8c.html#a8">gfServerProcess</a> &amp;&amp; pwnd-&gt;hModule) {
00290                         hImage = LoadImage(pwnd-&gt;hModule, lpszName, IMAGE_ICON, 0, 0, 0);
00291                     }
00292                 } <span class="keywordflow">else</span> {
00293                     <span class="comment">/*</span>
00294 <span class="comment">                     * If the window is not owned by the server, first call</span>
00295 <span class="comment">                     * back out to the client.  Try loading both icons/cursor</span>
00296 <span class="comment">                     * types.</span>
00297 <span class="comment">                     */</span>
00298                     <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d8/clglobal_8c.html#a8">gfServerProcess</a> &amp;&amp; pwnd-&gt;hModule) {
00299 
00300                         hImage = LoadIcon(pwnd-&gt;hModule, lpszName);
00301 
00302                         <span class="comment">/*</span>
00303 <span class="comment">                         * We will also try to load a cursor-format if the</span>
00304 <span class="comment">                         * window is a 4.0 compatible.  Icons/Cursors are really</span>
00305 <span class="comment">                         * the same.  We don't do this for 3.x apps for the</span>
00306 <span class="comment">                         * usual compatibility reasons.</span>
00307 <span class="comment">                         */</span>
00308                         <span class="keywordflow">if</span> ((hImage == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) &amp;&amp; <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, WFWIN40COMPAT)) {
00309                             hImage = LoadCursor(pwnd-&gt;hModule, lpszName);
00310                         }
00311                     }
00312 
00313                     <span class="comment">/*</span>
00314 <span class="comment">                     * If the above didn't load it, try loading it from the</span>
00315 <span class="comment">                     * display driver (hmod == NULL).</span>
00316 <span class="comment">                     */</span>
00317                     <span class="keywordflow">if</span> (hImage == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00318                         hImage = LoadIcon(NULL, lpszName);
00319                     }
00320                 }
00321 
00322                 <span class="keywordflow">break</span>;
00323             }
00324 
00325             <span class="comment">/*</span>
00326 <span class="comment">             * Set the image if it was loaded.</span>
00327 <span class="comment">             */</span>
00328             <span class="keywordflow">if</span> (hImage)
00329                 <a class="code" href="../../d5/d5/statctl_8c.html#a14">xxxSetStaticImage</a>(pstat, hImage, TRUE);
00330 
00331         }
00332     }
00333 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="statctl.c::xxxStaticPaint" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void xxxStaticPaint           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/d7/structtagSTAT.html">PSTAT</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pstat</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>HDC&nbsp;</td>
          <td class="mdname" nowrap> <em>hdc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOL&nbsp;</td>
          <td class="mdname" nowrap> <em>fClip</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d4/statctl_8c-source.html#l00419">419</a> of file <a class="el" href="../../d6/d4/statctl_8c-source.html">statctl.c</a>.
<p>
References <a class="el" href="../../d7/d8/rtl_2wow_8c-source.html#l00924">_GetClientRect()</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00361">CheckLock</a>, <a class="el" href="../../d2/d0/inctlpan_8c-source.html#l00480">cy</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l00896">DrawEdge()</a>, <a class="el" href="../../d0/d1/rtl_2draw_8c-source.html#l01188">DrawFrame()</a>, <a class="el" href="../../d4/d7/client_8c-source.html#l01210">DrawIconEx()</a>, <a class="el" href="../../d4/d7/propapi_8h-source.html#l00043">dwFlags</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00787">FNID_DESKTOP</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00870">tagSTAT::fPaintKbdCuesOnly</a>, <a class="el" href="../../d2/d7/clglobal_8c-source.html#l00090">gcsHdc</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l01581">GetControlBrush</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00843">GETFNID</a>, <a class="el" href="../../d2/d7/clglobal_8c-source.html#l00101">ghdcBits2</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00864">tagSTAT::hFont</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00867">tagSTAT::hImage</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l01514">HW</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l01515">HWq</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00869">tagSTAT::iicur</a>, <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l00463">_LARGE_UNICODE_STRING::Length</a>, <a class="el" href="../../d6/d8/ntrtlp_8h-source.html#l00183">LOBYTE</a>, <a class="el" href="../../d0/d9/kernel_2ntstubs_8c-source.html#l01669">NtUserGetIconSize()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d8/d0/client_2draw_8c-source.html#l00025">PaintRect()</a>, <a class="el" href="../../d4/d1/client_2drawtext_8c-source.html#l00555">PSMTextOut()</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l01839">tagWND::rcClient</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00213">REBASE</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00215">REBASEPWND</a>, <a class="el" href="../../d6/d4/statctl_8c-source.html#l00054">rgstk</a>, <a class="el" href="../../d6/d8/cltxt_8h-source.html#l00652">SendMessage()</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02514">SFCENTERIMAGE</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02512">SFNOPREFIX</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02511">SFTYPEMASK</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l01764">tagWND::spmenu</a>, <a class="el" href="../../d7/d9/usercli_8h-source.html#l00862">tagSTAT::spwnd</a>, <a class="el" href="../../d6/d4/statctl_8c-source.html#l00344">StaticCallback()</a>, <a class="el" href="../../d6/d4/statctl_8c-source.html#l00050">STK_ERASE</a>, <a class="el" href="../../d6/d4/statctl_8c-source.html#l00051">STK_USEFONT</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l01855">tagWND::strName</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00212">SYSHBR</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00202">SYSMET</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l00204">SYSRGB</a>, <a class="el" href="../../d2/d7/clglobal_8c-source.html#l00064">szNull</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02555">TestWF</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d0/d5/ndismain_8h-source.html#l00026">UINT</a>, <a class="el" href="../../d2/d9/inc_2user_8h-source.html#l02524">WEFPUIACCELHIDDEN</a>, <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02373">WEFRTLREADING</a>, and <a class="el" href="../../d1/d9/client_2nt6_2user_8h-source.html#l02418">WFDISABLED</a>.
<p>
Referenced by <a class="el" href="../../d6/d4/statctl_8c-source.html#l00784">StaticRepaint()</a>, and <a class="el" href="../../d6/d4/statctl_8c-source.html#l00840">StaticWndProcWorker()</a>.
<p>
<pre class="fragment"><div>00423 {
00424     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>   pwndParent;
00425     RECT   rc;
00426     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>   cmd;
00427     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>   bType;
00428     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>   fFont;
00429     HBRUSH hbrControl;
00430     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>   oldAlign;
00431 <span class="preprocessor">#ifdef USE_MIRRORING</span>
00432 <span class="preprocessor"></span>    <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  dwOldLayout=0;
00433 <span class="preprocessor">#endif</span>
00434 <span class="preprocessor"></span>
00435     HANDLE hfontOld = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00436     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd = pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o0">spwnd</a>;
00437     HWND hwnd = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a451">HWq</a>(pwnd);
00438 
00439     <a class="code" href="../../d6/d0/usercli_8h.html#a35">CheckLock</a>(pwnd);
00440 
00441     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, WEFRTLREADING))
00442     {
00443         oldAlign = GetTextAlign(hdc);
00444         SetTextAlign(hdc, oldAlign | TA_RTLREADING);
00445     }
00446 
00447     bType = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, SFTYPEMASK);
00448     <a class="code" href="../../d6/d9/rtl_2wow_8c.html#a19">_GetClientRect</a>(pwnd, &amp;rc);
00449 
00450     <span class="keywordflow">if</span> (fClip) {
00451         IntersectClipRect(hdc, rc.left, rc.top, rc.right, rc.bottom);
00452     }
00453 
00454     fFont = (<a class="code" href="../../d5/d5/statctl_8c.html#a11">rgstk</a>[bType] &amp; <a class="code" href="../../d5/d5/statctl_8c.html#a7">STK_USEFONT</a>) &amp;&amp; (pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o1">hFont</a> != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
00455 
00456     <span class="keywordflow">if</span> (fFont) {
00457         hfontOld = SelectObject(hdc, pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o1">hFont</a>);
00458     }
00459 
00460 
00461     <span class="comment">/*</span>
00462 <span class="comment">     * Send WM_CTLCOLORSTATIC to all statics (even frames) for 1.03</span>
00463 <span class="comment">     * compatibility.</span>
00464 <span class="comment">     */</span>
00465     SetBkMode(hdc, OPAQUE);
00466     hbrControl = <a class="code" href="../../d6/d0/usercli_8h.html#a235">GetControlBrush</a>(hwnd, hdc, WM_CTLCOLORSTATIC);
00467 
00468 
00469     <span class="comment">/*</span>
00470 <span class="comment">     * Do we erase the background?  We don't for SS_OWNERDRAW</span>
00471 <span class="comment">     * and STK_GRAPHIC kind of things.</span>
00472 <span class="comment">     */</span>
00473     pwndParent = <a class="code" href="../../d6/d0/usercli_8h.html#a27">REBASEPWND</a>(pwnd, spwndParent);
00474     <span class="keywordflow">if</span> ((<a class="code" href="../../d5/d5/statctl_8c.html#a11">rgstk</a>[bType] &amp; <a class="code" href="../../d5/d5/statctl_8c.html#a6">STK_ERASE</a>) &amp;&amp; !pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o6">fPaintKbdCuesOnly</a>) {
00475         <a class="code" href="../../d6/d0/usercli_8h.html#a645">PaintRect</a>(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a450">HW</a>(pwndParent), hwnd, hdc, hbrControl, &amp;rc);
00476     }
00477 
00478     <span class="keywordflow">switch</span> (<a class="code" href="../../d5/d9/ntrtlp_8h.html#a4">LOBYTE</a>(bType)) {
00479     <span class="keywordflow">case</span> SS_ICON:
00480 
00481         <span class="keywordflow">if</span> (pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o3">hImage</a>) {
00482 
00483             <span class="keywordtype">int</span>     cx;
00484             <span class="keywordtype">int</span>     <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>;
00485             POINT   pt;
00486 
00487 <span class="preprocessor">#ifdef USE_MIRRORING</span>
00488 <span class="preprocessor"></span>            <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd,WEFLAYOUTRTL)) {
00489                 dwOldLayout = SetLayoutWidth(hdc, -1, 0);
00490             }
00491 <span class="preprocessor">#endif</span>
00492 <span class="preprocessor"></span>            <span class="comment">/*</span>
00493 <span class="comment">             * Perform the correct rect-setup.</span>
00494 <span class="comment">             */</span>
00495             <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd,SFCENTERIMAGE)) {
00496 
00497                 <a class="code" href="../../d9/d9/kernel_2ntstubs_8c.html#a106">NtUserGetIconSize</a>(pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o3">hImage</a>, pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o5">iicur</a>, &amp;cx, &amp;cy);
00498                 <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> &gt;&gt;= 1;
00499 
00500                 rc.left   = (rc.right  - cx) / 2;
00501                 rc.right  = (rc.left   + cx);
00502                 rc.top    = (rc.bottom - <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>) / 2;
00503                 rc.bottom = (rc.top    + <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a>);
00504 
00505             } <span class="keywordflow">else</span> {
00506 
00507                 cx = rc.right  - rc.left;
00508                 <a class="code" href="../../d1/d1/inctlpan_8c.html#a3">cy</a> = rc.bottom - rc.top;
00509             }
00510 
00511 
00512             <span class="comment">/*</span>
00513 <span class="comment">             * Output the icon.  If it's animated, we indicate</span>
00514 <span class="comment">             * the step-frame to output.</span>
00515 <span class="comment">             */</span>
00516             <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a232">GETFNID</a>(pwndParent) == <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a196">FNID_DESKTOP</a>) {
00517                 SetBrushOrgEx(hdc, 0, 0, &amp;pt);
00518             } <span class="keywordflow">else</span> {
00519                 SetBrushOrgEx(
00520                         hdc,
00521                         pwndParent-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o7">rcClient</a>.left - pwnd-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o7">rcClient</a>.left,
00522                         pwndParent-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o7">rcClient</a>.top - pwnd-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o7">rcClient</a>.top,
00523                         &amp;pt);
00524             }
00525 
00526             <a class="code" href="../../d3/d8/client_8c.html#a50">DrawIconEx</a>(hdc, rc.left, rc.top, pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o3">hImage</a>, cx, cy,
00527                        pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o5">iicur</a>, hbrControl, DI_NORMAL);
00528 
00529             SetBrushOrgEx(hdc, pt.x, pt.y, NULL);
00530 <span class="preprocessor">#ifdef USE_MIRRORING</span>
00531 <span class="preprocessor"></span>            <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd,WEFLAYOUTRTL)) {
00532                 SetLayoutWidth(hdc, -1, dwOldLayout);
00533             }
00534 <span class="preprocessor">#endif</span>
00535 <span class="preprocessor"></span>        } <span class="keywordflow">else</span> {
00536 
00537             <span class="comment">/*</span>
00538 <span class="comment">             * Empty!  Need to erase.</span>
00539 <span class="comment">             */</span>
00540             <a class="code" href="../../d6/d0/usercli_8h.html#a645">PaintRect</a>(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a450">HW</a>(pwndParent), hwnd, hdc, hbrControl, &amp;rc);
00541         }
00542         <span class="keywordflow">break</span>;
00543 
00544     <span class="keywordflow">case</span> SS_BITMAP:
00545 
00546         <span class="keywordflow">if</span> (pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o3">hImage</a>) {
00547 
00548             BITMAP  bmp;
00549             HBITMAP hbmpT;
00550             RECT    rcTmp;
00551             <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    fErase;
00552 
00553 
00554             <span class="comment">/*</span>
00555 <span class="comment">             * Get the bitmap information.  If this fails, then we</span>
00556 <span class="comment">             * can assume somethings wrong with its format...don't</span>
00557 <span class="comment">             * draw in this case.</span>
00558 <span class="comment">             */</span>
00559             <span class="keywordflow">if</span> (GetObject(pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o3">hImage</a>, <span class="keyword">sizeof</span>(BITMAP), &amp;bmp)) {
00560 
00561                 <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, SFCENTERIMAGE)) {
00562 
00563                     fErase = ((bmp.bmWidth  &lt; rc.right) ||
00564                               (bmp.bmHeight &lt; rc.bottom));
00565 
00566                     rc.left   = (rc.right  - bmp.bmWidth)  &gt;&gt; 1;
00567                     rc.right  = (rc.left   + bmp.bmWidth);
00568                     rc.top    = (rc.bottom - bmp.bmHeight) &gt;&gt; 1;
00569                     rc.bottom = (rc.top    + bmp.bmHeight);
00570 
00571                 } <span class="keywordflow">else</span> {
00572 
00573                     fErase = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00574                 }
00575 
00576                 <span class="comment">/*</span>
00577 <span class="comment">                 * Select in the bitmap and blt it to the client-surface.</span>
00578 <span class="comment">                 */</span>
00579                 RtlEnterCriticalSection(&amp;gcsHdc);
00580                 hbmpT = SelectObject(ghdcBits2, pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o3">hImage</a>);
00581                 StretchBlt(hdc, rc.left, rc.top, rc.right-rc.left,
00582                            rc.bottom-rc.top, ghdcBits2, 0, 0, bmp.bmWidth,
00583                            bmp.bmHeight, SRCCOPY|NOMIRRORBITMAP);
00584 
00585                 <span class="comment">/*</span>
00586 <span class="comment">                 * Only need to erase the background if the image is</span>
00587 <span class="comment">                 * centered and it's smaller than the client-area.</span>
00588 <span class="comment">                 */</span>
00589                 <span class="keywordflow">if</span> (fErase) {
00590 
00591                     HBRUSH hbr;
00592 
00593                     <span class="keywordflow">if</span> (hbr = CreateSolidBrush(GetPixel(ghdcBits2, 0, 0))) {
00594 
00595                         POLYPATBLT PolyData;
00596 
00597                         ExcludeClipRect(hdc, rc.left, rc.top,
00598                                         rc.right, rc.bottom);
00599 
00600                         <a class="code" href="../../d6/d9/rtl_2wow_8c.html#a19">_GetClientRect</a>(pwnd, &amp;rcTmp);
00601 
00602                         PolyData.x  = 0;
00603                         PolyData.y  = 0;
00604                         PolyData.cx = rcTmp.right;
00605                         PolyData.cy = rcTmp.bottom;
00606                         PolyData.BrClr.hbr = hbr;
00607 
00608                         PolyPatBlt(hdc,PATCOPY,&amp;PolyData,1,PPB_BRUSH);
00609 
00610                         DeleteObject(hbr);
00611                     }
00612                 }
00613 
00614                 <span class="keywordflow">if</span> (hbmpT) {
00615                     SelectObject(ghdcBits2, hbmpT);
00616                 }
00617                 RtlLeaveCriticalSection(&amp;gcsHdc);
00618             }
00619         }
00620         <span class="keywordflow">break</span>;
00621 
00622     <span class="keywordflow">case</span> SS_ENHMETAFILE:
00623 
00624         <span class="keywordflow">if</span> (pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o3">hImage</a>) {
00625 
00626             RECT rcl;
00627 
00628             rcl.left   = rc.left;
00629             rcl.top    = rc.top;
00630             rcl.right  = rc.right;
00631             rcl.bottom = rc.bottom;
00632 
00633             PlayEnhMetaFile(hdc, pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o3">hImage</a>, &amp;rcl);
00634         }
00635         <span class="keywordflow">break</span>;
00636 
00637     <span class="keywordflow">case</span> SS_OWNERDRAW: {
00638 
00639             DRAWITEMSTRUCT dis;
00640 
00641             dis.CtlType    = ODT_STATIC;
00642             dis.CtlID      = PtrToUlong(pwnd-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o16">spmenu</a>);
00643             dis.itemAction = ODA_DRAWENTIRE;
00644             dis.itemState  = (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, WFDISABLED) ? ODS_DISABLED : 0);
00645             dis.hwndItem   = hwnd;
00646             dis.hDC        = hdc;
00647             dis.itemData   = 0<a class="code" href="../../d2/d0/aw_8h.html#a3">L</a>;
00648             dis.rcItem     = rc;
00649 
00650             <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, WEFPUIACCELHIDDEN)) {
00651                 dis.itemState |= ODS_NOACCEL;
00652             }
00653 
00654             <span class="comment">/*</span>
00655 <span class="comment">             * Send a WM_DRAWITEM message to the parent.</span>
00656 <span class="comment">             */</span>
00657             <a class="code" href="../../d5/d9/cltxt_8h.html#a16">SendMessage</a>(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a450">HW</a>(pwndParent), WM_DRAWITEM, (WPARAM)dis.CtlID, (LPARAM)&amp;dis);
00658         }
00659         <span class="keywordflow">break</span>;
00660 
00661     <span class="keywordflow">case</span> SS_LEFT:
00662     <span class="keywordflow">case</span> SS_CENTER:
00663     <span class="keywordflow">case</span> SS_RIGHT:
00664     <span class="keywordflow">case</span> SS_LEFTNOWORDWRAP:
00665 
00666         <span class="keywordflow">if</span> (pwnd-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o17">strName</a>.<a class="code" href="../../d2/d9/struct__LARGE__UNICODE__STRING.html#o0">Length</a>) {
00667 
00668             <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> dstFlags;
00669 
00670             dstFlags = DST_COMPLEX;
00671 
00672             <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, WFDISABLED)) {
00673 <span class="preprocessor">#ifdef LATER</span>
00674 <span class="preprocessor"></span>                <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(SLOWMACHINE) &amp;&amp;
00675                    (GetBkColor(hdc)  != <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a20">SYSRGB</a>(GRAYTEXT))) {
00676 
00677                     SetTextColor(hdc, <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a20">SYSRGB</a>(GRAYTEXT));
00678                 }
00679                 <span class="keywordflow">else</span>
00680 <span class="preprocessor">#endif</span>
00681 <span class="preprocessor"></span>                    dstFlags |= DSS_DISABLED;
00682             }
00683 
00684             DrawState(hdc, <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(WINDOWTEXT),
00685                 (DRAWSTATEPROC)StaticCallback,(LPARAM)pwnd, (WPARAM)TRUE,
00686                 rc.left, rc.top, rc.right - rc.left, rc.bottom - rc.top,
00687                 dstFlags);
00688         }
00689         <span class="keywordflow">break</span>;
00690 
00691     <span class="keywordflow">case</span> SS_SIMPLE: {
00692 
00693             LPWSTR lpName;
00694             <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> cchName;
00695 
00696 
00697             <span class="comment">/*</span>
00698 <span class="comment">             * The "Simple" bType assumes everything, including the following:</span>
00699 <span class="comment">             *  1. The Text exists and fits on one line.</span>
00700 <span class="comment">             *  2. The Static item is always enabled.</span>
00701 <span class="comment">             *  3. The Static item is never changed to be a shorter string.</span>
00702 <span class="comment">             *  4. The Parent never responds to the CTLCOLOR message</span>
00703 <span class="comment">             */</span>
00704             <span class="keywordflow">if</span> (pwnd-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o17">strName</a>.<a class="code" href="../../d2/d9/struct__LARGE__UNICODE__STRING.html#o0">Length</a>) {
00705                 lpName = <a class="code" href="../../d6/d0/usercli_8h.html#a26">REBASE</a>(pwnd, strName.Buffer);
00706                 cchName = pwnd-&gt;<a class="code" href="../../d6/d9/structtagWND.html#o17">strName</a>.<a class="code" href="../../d2/d9/struct__LARGE__UNICODE__STRING.html#o0">Length</a> / <span class="keyword">sizeof</span>(WCHAR);
00707             } <span class="keywordflow">else</span> {
00708                 lpName = (LPWSTR)<a class="code" href="../../d1/d8/clglobal_8c.html#a13">szNull</a>;
00709                 cchName = 0;
00710             }
00711 
00712             <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd,SFNOPREFIX)) {
00713                 ExtTextOut(hdc, rc.left, rc.top, ETO_OPAQUE | ETO_CLIPPED,
00714                                 &amp;rc, lpName, cchName, 0L);
00715             } <span class="keywordflow">else</span> {
00716                 <span class="comment">/*</span>
00717 <span class="comment">                 * Use OPAQUE for speed.</span>
00718 <span class="comment">                 */</span>
00719                 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a>;
00720                 <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, WEFPUIACCELHIDDEN)) {
00721                     <a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a> = DT_HIDEPREFIX;
00722                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pstat-&gt;<a class="code" href="../../d1/d7/structtagSTAT.html#o6">fPaintKbdCuesOnly</a>) {
00723                     <a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a> = DT_PREFIXONLY;
00724                 } <span class="keywordflow">else</span> {
00725                     <a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a> = 0;
00726                 }
00727 
00728                 <a class="code" href="../../d6/d0/usercli_8h.html#a425">PSMTextOut</a>(hdc, rc.left, rc.top,
00729                         lpName, cchName, dwFlags);
00730             }
00731         }
00732         <span class="keywordflow">break</span>;
00733 
00734     <span class="keywordflow">case</span> SS_BLACKFRAME:
00735         cmd = (COLOR_3DDKSHADOW &lt;&lt; 3);
00736         <span class="keywordflow">goto</span> StatFrame;
00737 
00738     <span class="keywordflow">case</span> SS_GRAYFRAME:
00739         cmd = (COLOR_3DSHADOW &lt;&lt; 3);
00740         <span class="keywordflow">goto</span> StatFrame;
00741 
00742     <span class="keywordflow">case</span> SS_WHITEFRAME:
00743         cmd = (COLOR_3DHILIGHT &lt;&lt; 3);
00744 StatFrame:
00745         <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a17">DrawFrame</a>(hdc, &amp;rc, 1, cmd);
00746         <span class="keywordflow">break</span>;
00747 
00748     <span class="keywordflow">case</span> SS_BLACKRECT:
00749         hbrControl = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(3DDKSHADOW);
00750         <span class="keywordflow">goto</span> StatRect;
00751 
00752     <span class="keywordflow">case</span> SS_GRAYRECT:
00753         hbrControl = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(3DSHADOW);
00754         <span class="keywordflow">goto</span> StatRect;
00755 
00756     <span class="keywordflow">case</span> SS_WHITERECT:
00757         hbrControl = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a22">SYSHBR</a>(3DHILIGHT);
00758 StatRect:
00759         <a class="code" href="../../d6/d0/usercli_8h.html#a645">PaintRect</a>(<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a450">HW</a>(pwndParent), hwnd, hdc, hbrControl, &amp;rc);
00760         <span class="keywordflow">break</span>;
00761 
00762     <span class="keywordflow">case</span> SS_ETCHEDFRAME:
00763         <a class="code" href="../../d9/d1/rtl_2draw_8c.html#a15">DrawEdge</a>(hdc, &amp;rc, EDGE_ETCHED, BF_RECT);
00764         <span class="keywordflow">break</span>;
00765     }
00766 
00767     <span class="keywordflow">if</span> (hfontOld) {
00768         SelectObject(hdc, hfontOld);
00769     }
00770 
00771     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, WEFRTLREADING)) {
00772         SetTextAlign(hdc, oldAlign);
00773     }
00774 
00775 }
</div></pre>    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a10" doxytag="statctl.c::rgbType" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> <a class="el" href="../../d5/d5/statctl_8c.html#a10">rgbType</a>[IMAGE_STMMAX]<code> [static]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div> {
    SS_BITMAP,       
    SS_ICON,         
    SS_ICON,         
    SS_ENHMETAFILE   
}
</div></pre>
<p>
Definition at line <a class="el" href="../../d6/d4/statctl_8c-source.html#l00033">33</a> of file <a class="el" href="../../d6/d4/statctl_8c-source.html">statctl.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="statctl.c::rgstk" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> <a class="el" href="../../d5/d5/statctl_8c.html#a11">rgstk</a>[]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div> {
    <a class="code" href="../../d5/d5/statctl_8c.html#a3">STK_TEXT</a> | <a class="code" href="../../d5/d5/statctl_8c.html#a6">STK_ERASE</a> | <a class="code" href="../../d5/d5/statctl_8c.html#a7">STK_USEFONT</a> | <a class="code" href="../../d5/d5/statctl_8c.html#a8">STK_USETEXT</a>,       
    <a class="code" href="../../d5/d5/statctl_8c.html#a3">STK_TEXT</a> | <a class="code" href="../../d5/d5/statctl_8c.html#a6">STK_ERASE</a> | <a class="code" href="../../d5/d5/statctl_8c.html#a7">STK_USEFONT</a> | <a class="code" href="../../d5/d5/statctl_8c.html#a8">STK_USETEXT</a>,       
    <a class="code" href="../../d5/d5/statctl_8c.html#a3">STK_TEXT</a> | <a class="code" href="../../d5/d5/statctl_8c.html#a6">STK_ERASE</a> | <a class="code" href="../../d5/d5/statctl_8c.html#a7">STK_USEFONT</a> | <a class="code" href="../../d5/d5/statctl_8c.html#a8">STK_USETEXT</a>,       
    <a class="code" href="../../d5/d5/statctl_8c.html#a2">STK_IMAGE</a>,                                              
    <a class="code" href="../../d5/d5/statctl_8c.html#a4">STK_GRAPHIC</a>,                                            
    <a class="code" href="../../d5/d5/statctl_8c.html#a4">STK_GRAPHIC</a>,                                            
    <a class="code" href="../../d5/d5/statctl_8c.html#a4">STK_GRAPHIC</a>,                                            
    <a class="code" href="../../d5/d5/statctl_8c.html#a4">STK_GRAPHIC</a>,                                            
    <a class="code" href="../../d5/d5/statctl_8c.html#a4">STK_GRAPHIC</a>,                                            
    <a class="code" href="../../d5/d5/statctl_8c.html#a4">STK_GRAPHIC</a>,                                            
    <a class="code" href="../../d5/d5/statctl_8c.html#a1">STK_OWNER</a>,                                              
    <a class="code" href="../../d5/d5/statctl_8c.html#a3">STK_TEXT</a> | <a class="code" href="../../d5/d5/statctl_8c.html#a7">STK_USEFONT</a> | <a class="code" href="../../d5/d5/statctl_8c.html#a8">STK_USETEXT</a>,                   
    <a class="code" href="../../d5/d5/statctl_8c.html#a3">STK_TEXT</a> | <a class="code" href="../../d5/d5/statctl_8c.html#a6">STK_ERASE</a> | <a class="code" href="../../d5/d5/statctl_8c.html#a7">STK_USEFONT</a> | <a class="code" href="../../d5/d5/statctl_8c.html#a8">STK_USETEXT</a>,       
    <a class="code" href="../../d5/d5/statctl_8c.html#a1">STK_OWNER</a> | <a class="code" href="../../d5/d5/statctl_8c.html#a7">STK_USEFONT</a> | <a class="code" href="../../d5/d5/statctl_8c.html#a8">STK_USETEXT</a>,                  
    <a class="code" href="../../d5/d5/statctl_8c.html#a2">STK_IMAGE</a>,                                              
    <a class="code" href="../../d5/d5/statctl_8c.html#a2">STK_IMAGE</a> | <a class="code" href="../../d5/d5/statctl_8c.html#a6">STK_ERASE</a>,                                  
    <a class="code" href="../../d5/d5/statctl_8c.html#a4">STK_GRAPHIC</a>,                                            
    <a class="code" href="../../d5/d5/statctl_8c.html#a4">STK_GRAPHIC</a>,                                            
    <a class="code" href="../../d5/d5/statctl_8c.html#a4">STK_GRAPHIC</a>                                             
}
</div></pre>
<p>
Definition at line <a class="el" href="../../d6/d4/statctl_8c-source.html#l00054">54</a> of file <a class="el" href="../../d6/d4/statctl_8c-source.html">statctl.c</a>.
<p>
Referenced by <a class="el" href="../../d6/d4/statctl_8c-source.html#l00344">StaticCallback()</a>, <a class="el" href="../../d6/d4/statctl_8c-source.html#l00840">StaticWndProcWorker()</a>, and <a class="el" href="../../d6/d4/statctl_8c-source.html#l00419">xxxStaticPaint()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="statctl.c::StaticLookaside" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d2/d4/struct__LOOKASIDE.html">LOOKASIDE</a> <a class="el" href="../../d5/d5/statctl_8c.html#a12">StaticLookaside</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d6/d4/statctl_8c-source.html#l00076">76</a> of file <a class="el" href="../../d6/d4/statctl_8c-source.html">statctl.c</a>.
<p>
Referenced by <a class="el" href="../../d6/d4/statctl_8c-source.html#l00840">StaticWndProcWorker()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:45:40 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
