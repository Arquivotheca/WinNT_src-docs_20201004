<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: sti.h Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>sti.h</h1><a href="../../d4/d6/sti_8h.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">/*++</span>
00002 <span class="comment"></span>
00003 <span class="comment">Copyright (c) 1986-1997  Microsoft Corporation</span>
00004 <span class="comment"></span>
00005 <span class="comment">Module Name:</span>
00006 <span class="comment"></span>
00007 <span class="comment">    sti.h</span>
00008 <span class="comment"></span>
00009 <span class="comment">Abstract:</span>
00010 <span class="comment"></span>
00011 <span class="comment">    This module contains the user mode still image APIs in COM format</span>
00012 <span class="comment"></span>
00013 <span class="comment">Revision History:</span>
00014 <span class="comment"></span>
00015 <span class="comment"></span>
00016 <span class="comment">--*/</span>
00017 
00018 <span class="preprocessor">#ifndef _STICOM_</span>
00019 <span class="preprocessor"></span><span class="preprocessor">#define _STICOM_</span>
00020 <span class="preprocessor"></span>
00021 <span class="comment">//</span>
00022 <span class="comment">// Set packing</span>
00023 <span class="comment">//</span>
00024 <span class="preprocessor">#include &lt;pshpack8.h&gt;</span>
00025 
00026 <span class="comment">//</span>
00027 <span class="comment">// Only use UNICODE STI interfaces</span>
00028 <span class="comment">//</span>
<a name="l00029"></a><a class="code" href="../../d4/d6/sti_8h.html#a0">00029</a> <span class="preprocessor">#define STI_UNICODE 1</span>
00030 <span class="preprocessor"></span>
00031 <span class="comment">//</span>
00032 <span class="comment">// Include COM definitions</span>
00033 <span class="comment">//</span>
00034 <span class="preprocessor">#ifndef _NO_COM</span>
00035 <span class="preprocessor"></span><span class="preprocessor">#include &lt;objbase.h&gt;</span>
00036 <span class="preprocessor">#endif</span>
00037 <span class="preprocessor"></span>
00038 <span class="preprocessor">#include &lt;<a class="code" href="../../d6/d6/stireg_8h.html">stireg.h</a>&gt;</span>
00039 <span class="preprocessor">#include &lt;<a class="code" href="../../d5/d6/stierr_8h.html">stierr.h</a>&gt;</span>
00040 
00041 <span class="comment">//</span>
00042 <span class="comment">// Compiler pragmas</span>
00043 <span class="comment">//</span>
00044 <span class="preprocessor">#pragma warning(disable:4200)       // warning about zero-sized arrays being non-stadard C extension</span>
00045 <span class="preprocessor"></span>
<a name="l00046"></a><a class="code" href="../../d4/d6/sti_8h.html#a1">00046</a> <span class="preprocessor">#define DLLEXP __declspec( dllexport )</span>
00047 <span class="preprocessor"></span>
00048 <span class="preprocessor">#ifdef __cplusplus</span>
00049 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
00050 <span class="preprocessor">#endif</span>
00051 <span class="preprocessor"></span>
00052 <span class="preprocessor">#if defined( _WIN32 ) &amp;&amp; !defined( _NO_COM)</span>
00053 <span class="preprocessor"></span>
00054 <span class="comment">/*</span>
00055 <span class="comment"> * Class IID's</span>
00056 <span class="comment"> */</span>
00057 
00058 <span class="comment">// B323F8E0-2E68-11D0-90EA-00AA0060F86C</span>
00059 <a class="code" href="../../d9/d8/shellext_8h.html#a7">DEFINE_GUID</a>(CLSID_Sti, 0xB323F8E0L, 0x2E68, 0x11D0, 0x90, 0xEA, 0x00, 0xAA, 0x00, 0x60, 0xF8, 0x6C);
00060 
00061 <span class="comment">/*</span>
00062 <span class="comment"> * Interface IID's</span>
00063 <span class="comment"> */</span>
00064 
00065 <span class="comment">// {641BD880-2DC8-11D0-90EA-00AA0060F86C}</span>
00066 <a class="code" href="../../d9/d8/shellext_8h.html#a7">DEFINE_GUID</a>(IID_IStillImageW, 0x641BD880L, 0x2DC8, 0x11D0, 0x90, 0xEA, 0x00, 0xAA, 0x00, 0x60, 0xF8, 0x6C);
00067 
00068 <span class="comment">// {A7B1F740-1D7F-11D1-ACA9-00A02438AD48}</span>
00069 <a class="code" href="../../d9/d8/shellext_8h.html#a7">DEFINE_GUID</a>(IID_IStillImageA, 0xA7B1F740L, 0x1D7F, 0x11D1, 0xAC, 0xA9, 0x00, 0xA0, 0x24, 0x38, 0xAD, 0x48);
00070 
00071 
00072 <span class="comment">// {6CFA5A80-2DC8-11D0-90EA-00AA0060F86C}</span>
00073 <a class="code" href="../../d9/d8/shellext_8h.html#a7">DEFINE_GUID</a>(IID_IStiDevice, 0x6CFA5A80L, 0x2DC8, 0x11D0, 0x90, 0xEA, 0x00, 0xAA, 0x00, 0x60, 0xF8, 0x6C);
00074 
00075 <span class="preprocessor">#endif</span>
00076 <span class="preprocessor"></span>
00077 <span class="comment">//</span>
00078 <span class="comment">// Generic constants and definitions</span>
00079 <span class="comment">//</span>
<a name="l00080"></a><a class="code" href="../../d4/d6/sti_8h.html#a2">00080</a> <span class="preprocessor">#define STI_VERSION                 0x00000002</span>
<a name="l00081"></a><a class="code" href="../../d4/d6/sti_8h.html#a3">00081</a> <span class="preprocessor"></span><span class="preprocessor">#define STI_VERSION_MIN_ALLOWED     0x00000002</span>
00082 <span class="preprocessor"></span>
<a name="l00083"></a><a class="code" href="../../d4/d6/sti_8h.html#a4">00083</a> <span class="preprocessor">#define GET_STIVER_MAJOR(dwVersion)   HIWORD(dwVersion)</span>
<a name="l00084"></a><a class="code" href="../../d4/d6/sti_8h.html#a5">00084</a> <span class="preprocessor"></span><span class="preprocessor">#define GET_STIVER_MINOR(dwVersion)   LOWORD(dwVersion)</span>
00085 <span class="preprocessor"></span>
00086 <span class="comment">//</span>
00087 <span class="comment">// Maximum length of internal device name</span>
00088 <span class="comment">//</span>
<a name="l00089"></a><a class="code" href="../../d4/d6/sti_8h.html#a6">00089</a> <span class="preprocessor">#define STI_MAX_INTERNAL_NAME_LENGTH    128</span>
00090 <span class="preprocessor"></span>
00091 <span class="comment">// begin sti_device_information</span>
00092 
00093 <span class="comment">//</span>
00094 <span class="comment">//  Device information definitions and prototypes</span>
00095 <span class="comment">// ----------------------------------------------</span>
00096 <span class="comment">//</span>
00097 
00098 <span class="comment">//</span>
00099 <span class="comment">//  Following information is used for enumerating still image devices , currently configured</span>
00100 <span class="comment">//  in the system. Presence of the device in the enumerated list does not mean availability</span>
00101 <span class="comment">// of the device, it only means that device was installed at least once and had not been removed since.</span>
00102 <span class="comment">//</span>
00103 
00104 <span class="comment">//</span>
00105 <span class="comment">// Type of device ( scanner, camera) is represented by DWORD value with</span>
00106 <span class="comment">// hi word containing generic device type , and lo word containing sub-type</span>
00107 <span class="comment">//</span>
<a name="l00108"></a><a class="code" href="../../d4/d6/sti_8h.html#a140">00108</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d4/d6/sti_8h.html#a140">_STI_DEVICE_MJ_TYPE</a> {
00109     <a class="code" href="../../d4/d6/sti_8h.html#a140a132">StiDeviceTypeDefault</a>          = 0,
00110     <a class="code" href="../../d4/d6/sti_8h.html#a140a133">StiDeviceTypeScanner</a>          = 1,
00111     <a class="code" href="../../d4/d6/sti_8h.html#a140a134">StiDeviceTypeDigitalCamera</a>    = 2
00112 } <a class="code" href="../../d4/d6/sti_8h.html#a95">STI_DEVICE_MJ_TYPE</a>;
00113 
<a name="l00114"></a><a class="code" href="../../d4/d6/sti_8h.html#a96">00114</a> <span class="keyword">typedef</span> <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d4/d6/sti_8h.html#a96">STI_DEVICE_TYPE</a>;
00115 
00116 <span class="comment">//</span>
00117 <span class="comment">// Macros to extract device type/subtype from single type field</span>
00118 <span class="comment">//</span>
<a name="l00119"></a><a class="code" href="../../d4/d6/sti_8h.html#a7">00119</a> <span class="preprocessor">#define GET_STIDEVICE_TYPE(dwDevType)   HIWORD(dwDevType)</span>
<a name="l00120"></a><a class="code" href="../../d4/d6/sti_8h.html#a8">00120</a> <span class="preprocessor"></span><span class="preprocessor">#define GET_STIDEVICE_SUBTYPE(dwDevType)   LOWORD(dwDevType)</span>
00121 <span class="preprocessor"></span>
00122 <span class="comment">//</span>
00123 <span class="comment">// Device capabilities bits.</span>
00124 <span class="comment">// Various capabilities are grouped into separate bitmasks</span>
00125 <span class="comment">//</span>
00126 
<a name="l00127"></a><a class="code" href="../../d3/d6/struct__STI__DEV__CAPS.html">00127</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d3/d6/struct__STI__DEV__CAPS.html">_STI_DEV_CAPS</a> {
<a name="l00128"></a><a class="code" href="../../d3/d6/struct__STI__DEV__CAPS.html#o0">00128</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d3/d6/struct__STI__DEV__CAPS.html#o0">dwGeneric</a>;
00129 } <a class="code" href="../../d3/d6/struct__STI__DEV__CAPS.html">STI_DEV_CAPS</a>, *<a class="code" href="../../d3/d6/struct__STI__DEV__CAPS.html">PSTI_DEV_CAPS</a>;
00130 
00131 
00132 <span class="comment">//</span>
00133 <span class="comment">// Notifications are supported.</span>
00134 <span class="comment">// If this capability set , device can be subscribed to .</span>
00135 <span class="comment">//</span>
<a name="l00136"></a><a class="code" href="../../d4/d6/sti_8h.html#a9">00136</a> <span class="preprocessor">#define STI_GENCAP_NOTIFICATIONS    0x00000001</span>
00137 <span class="preprocessor"></span>
00138 <span class="comment">//</span>
00139 <span class="comment">// Polling required .</span>
00140 <span class="comment">// This capability is used when previous is set to TRUE. Presence of it means</span>
00141 <span class="comment">// that device is not capable of issuing "truly" asyncronous notifications, but can</span>
00142 <span class="comment">// be polled to determine the moment when event happened</span>
<a name="l00143"></a><a class="code" href="../../d4/d6/sti_8h.html#a10">00143</a> <span class="preprocessor">#define STI_GENCAP_POLLING_NEEDED   0x00000002</span>
00144 <span class="preprocessor"></span>
00145 
00146 <span class="comment">//</span>
00147 <span class="comment">// Type of bus connection for those in need to know</span>
00148 <span class="comment">//</span>
<a name="l00149"></a><a class="code" href="../../d4/d6/sti_8h.html#a11">00149</a> <span class="preprocessor">#define STI_HW_CONFIG_UNKNOWN   0x0001</span>
<a name="l00150"></a><a class="code" href="../../d4/d6/sti_8h.html#a12">00150</a> <span class="preprocessor"></span><span class="preprocessor">#define STI_HW_CONFIG_SCSI      0x0002</span>
<a name="l00151"></a><a class="code" href="../../d4/d6/sti_8h.html#a13">00151</a> <span class="preprocessor"></span><span class="preprocessor">#define STI_HW_CONFIG_USB       0x0004</span>
<a name="l00152"></a><a class="code" href="../../d4/d6/sti_8h.html#a14">00152</a> <span class="preprocessor"></span><span class="preprocessor">#define STI_HW_CONFIG_SERIAL    0x0008</span>
<a name="l00153"></a><a class="code" href="../../d4/d6/sti_8h.html#a15">00153</a> <span class="preprocessor"></span><span class="preprocessor">#define STI_HW_CONFIG_PARALLEL  0x0010</span>
00154 <span class="preprocessor"></span>
00155 <span class="comment">//</span>
00156 <span class="comment">// Device information structure, this is not configurable. This data is returned from</span>
00157 <span class="comment">// device enumeration API and is used for populating UI or selecting which device</span>
00158 <span class="comment">// should be used in current session</span>
00159 <span class="comment">//</span>
<a name="l00160"></a><a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html">00160</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html">_STI_DEVICE_INFORMATIONW</a> {
<a name="l00161"></a><a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html#o0">00161</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html#o0">dwSize</a>;
00162 
00163     <span class="comment">// Type of the hardware imaging device</span>
<a name="l00164"></a><a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html#o1">00164</a>     <a class="code" href="../../d4/d6/sti_8h.html#a96">STI_DEVICE_TYPE</a>   <a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html#o1">DeviceType</a>;
00165 
00166     <span class="comment">// Device identifier for reference when creating device object</span>
<a name="l00167"></a><a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html#o2">00167</a>     WCHAR   <a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html#o2">szDeviceInternalName</a>[<a class="code" href="../../d4/d6/sti_8h.html#a6">STI_MAX_INTERNAL_NAME_LENGTH</a>];
00168 
00169     <span class="comment">// Set of capabilities flags</span>
<a name="l00170"></a><a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html#o3">00170</a>     <a class="code" href="../../d3/d6/struct__STI__DEV__CAPS.html">STI_DEV_CAPS</a>   <a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html#o3">DeviceCapabilities</a>;
00171 
00172     <span class="comment">// This includes bus type</span>
<a name="l00173"></a><a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html#o4">00173</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html#o4">dwHardwareConfiguration</a>;
00174 
00175     <span class="comment">// Vendor description string</span>
<a name="l00176"></a><a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html#o5">00176</a>     LPWSTR    <a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html#o5">pszVendorDescription</a>;
00177 
00178     <span class="comment">// Device description , provided by vendor</span>
<a name="l00179"></a><a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html#o6">00179</a>     LPWSTR    <a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html#o6">pszDeviceDescription</a>;
00180 
00181     <span class="comment">// String , representing port on which device is accessible.</span>
<a name="l00182"></a><a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html#o7">00182</a>     LPWSTR    <a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html#o7">pszPortName</a>;
00183 
00184     <span class="comment">// Control panel propery provider</span>
<a name="l00185"></a><a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html#o8">00185</a>     LPWSTR    <a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html#o8">pszPropProvider</a>;
00186 
00187     <span class="comment">// Local specific ("friendly") name of the device, mainly used for showing in the UI</span>
<a name="l00188"></a><a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html#o9">00188</a>     LPWSTR    <a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html#o9">pszLocalName</a>;
00189 
00190 } <a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html">STI_DEVICE_INFORMATIONW</a>, *<a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html">PSTI_DEVICE_INFORMATIONW</a>;
00191 
<a name="l00192"></a><a class="code" href="../../d4/d6/struct__STI__DEVICE__INFORMATIONA.html">00192</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d4/d6/struct__STI__DEVICE__INFORMATIONA.html">_STI_DEVICE_INFORMATIONA</a> {
<a name="l00193"></a><a class="code" href="../../d4/d6/struct__STI__DEVICE__INFORMATIONA.html#o0">00193</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d6/struct__STI__DEVICE__INFORMATIONA.html#o0">dwSize</a>;
00194 
00195     <span class="comment">// Type of the hardware imaging device</span>
<a name="l00196"></a><a class="code" href="../../d4/d6/struct__STI__DEVICE__INFORMATIONA.html#o1">00196</a>     <a class="code" href="../../d4/d6/sti_8h.html#a96">STI_DEVICE_TYPE</a>   <a class="code" href="../../d4/d6/struct__STI__DEVICE__INFORMATIONA.html#o1">DeviceType</a>;
00197 
00198     <span class="comment">// Device identifier for reference when creating device object</span>
<a name="l00199"></a><a class="code" href="../../d4/d6/struct__STI__DEVICE__INFORMATIONA.html#o2">00199</a>     <a class="code" href="../../d1/d1/bench_8c.html#a16">CHAR</a>    <a class="code" href="../../d4/d6/struct__STI__DEVICE__INFORMATIONA.html#o2">szDeviceInternalName</a>[<a class="code" href="../../d4/d6/sti_8h.html#a6">STI_MAX_INTERNAL_NAME_LENGTH</a>];
00200 
00201     <span class="comment">// Set of capabilities flags</span>
<a name="l00202"></a><a class="code" href="../../d4/d6/struct__STI__DEVICE__INFORMATIONA.html#o3">00202</a>     <a class="code" href="../../d3/d6/struct__STI__DEV__CAPS.html">STI_DEV_CAPS</a>   <a class="code" href="../../d4/d6/struct__STI__DEVICE__INFORMATIONA.html#o3">DeviceCapabilities</a>;
00203 
00204     <span class="comment">// This includes bus type</span>
<a name="l00205"></a><a class="code" href="../../d4/d6/struct__STI__DEVICE__INFORMATIONA.html#o4">00205</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d6/struct__STI__DEVICE__INFORMATIONA.html#o4">dwHardwareConfiguration</a>;
00206 
00207     <span class="comment">// Vendor description string</span>
<a name="l00208"></a><a class="code" href="../../d4/d6/struct__STI__DEVICE__INFORMATIONA.html#o5">00208</a>     LPCSTR    <a class="code" href="../../d4/d6/struct__STI__DEVICE__INFORMATIONA.html#o5">pszVendorDescription</a>;
00209 
00210     <span class="comment">// Device description , provided by vendor</span>
<a name="l00211"></a><a class="code" href="../../d4/d6/struct__STI__DEVICE__INFORMATIONA.html#o6">00211</a>     LPCSTR    <a class="code" href="../../d4/d6/struct__STI__DEVICE__INFORMATIONA.html#o6">pszDeviceDescription</a>;
00212 
00213     <span class="comment">// String , representing port on which device is accessible.</span>
<a name="l00214"></a><a class="code" href="../../d4/d6/struct__STI__DEVICE__INFORMATIONA.html#o7">00214</a>     LPCSTR    <a class="code" href="../../d4/d6/struct__STI__DEVICE__INFORMATIONA.html#o7">pszPortName</a>;
00215 
00216     <span class="comment">// Control panel propery provider</span>
<a name="l00217"></a><a class="code" href="../../d4/d6/struct__STI__DEVICE__INFORMATIONA.html#o8">00217</a>     LPCSTR    <a class="code" href="../../d4/d6/struct__STI__DEVICE__INFORMATIONA.html#o8">pszPropProvider</a>;
00218 
00219     <span class="comment">// Local specific ("friendly") name of the device, mainly used for showing in the UI</span>
<a name="l00220"></a><a class="code" href="../../d4/d6/struct__STI__DEVICE__INFORMATIONA.html#o9">00220</a>     LPCSTR    <a class="code" href="../../d4/d6/struct__STI__DEVICE__INFORMATIONA.html#o9">pszLocalName</a>;
00221 
00222 } <a class="code" href="../../d4/d6/struct__STI__DEVICE__INFORMATIONA.html">STI_DEVICE_INFORMATIONA</a>, *<a class="code" href="../../d4/d6/struct__STI__DEVICE__INFORMATIONA.html">PSTI_DEVICE_INFORMATIONA</a>;
00223 
00224 <span class="preprocessor">#if defined(UNICODE) || defined(STI_UNICODE)</span>
<a name="l00225"></a><a class="code" href="../../d4/d6/sti_8h.html#a103">00225</a> <span class="preprocessor"></span><span class="keyword">typedef</span> <a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html">STI_DEVICE_INFORMATIONW</a> <a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html">STI_DEVICE_INFORMATION</a>;
<a name="l00226"></a><a class="code" href="../../d4/d6/sti_8h.html#a104">00226</a> <span class="keyword">typedef</span> <a class="code" href="../../d4/d6/sti_8h.html#a100">PSTI_DEVICE_INFORMATIONW</a> <a class="code" href="../../d5/d6/struct__STI__DEVICE__INFORMATIONW.html">PSTI_DEVICE_INFORMATION</a>;
00227 <span class="preprocessor">#else</span>
00228 <span class="preprocessor"></span><span class="keyword">typedef</span> <a class="code" href="../../d4/d6/struct__STI__DEVICE__INFORMATIONA.html">STI_DEVICE_INFORMATIONA</a> <a class="code" href="../../d4/d6/sti_8h.html#a103">STI_DEVICE_INFORMATION</a>;
00229 <span class="keyword">typedef</span> <a class="code" href="../../d4/d6/sti_8h.html#a102">PSTI_DEVICE_INFORMATIONA</a> <a class="code" href="../../d4/d6/sti_8h.html#a104">PSTI_DEVICE_INFORMATION</a>;
00230 <span class="preprocessor">#endif</span>
00231 <span class="preprocessor"></span>
00232 <span class="comment">// end sti_device_information</span>
00233 
00234 <span class="comment">//</span>
00235 <span class="comment">// Device state information.</span>
00236 <span class="comment">// ------------------------</span>
00237 <span class="comment">//</span>
00238 <span class="comment">// Following types  are used to inquire state characteristics of the device after</span>
00239 <span class="comment">// it had been opened.</span>
00240 <span class="comment">//</span>
00241 <span class="comment">// Device configuration structure contains configurable parameters reflecting</span>
00242 <span class="comment">// current state of the device</span>
00243 <span class="comment">//</span>
00244 <span class="comment">//</span>
00245 <span class="comment">// Device hardware status.</span>
00246 <span class="comment">//</span>
00247 
00248 <span class="comment">//</span>
00249 <span class="comment">// Individual bits for state acquiring  through StatusMask</span>
00250 <span class="comment">//</span>
00251 
00252 <span class="comment">// State of hardware as known to USD</span>
<a name="l00253"></a><a class="code" href="../../d4/d6/sti_8h.html#a16">00253</a> <span class="preprocessor">#define STI_DEVSTATUS_ONLINE_STATE      0x0001</span>
00254 <span class="preprocessor"></span>
00255 <span class="comment">// State of pending events ( as known to USD)</span>
<a name="l00256"></a><a class="code" href="../../d4/d6/sti_8h.html#a17">00256</a> <span class="preprocessor">#define STI_DEVSTATUS_EVENTS_STATE      0x0002</span>
00257 <span class="preprocessor"></span>
00258 <span class="comment">//</span>
00259 <span class="comment">// Online state values</span>
00260 <span class="comment">//</span>
<a name="l00261"></a><a class="code" href="../../d4/d6/sti_8h.html#a18">00261</a> <span class="preprocessor">#define STI_ONLINESTATE_OPERATIONAL         0x00000001</span>
<a name="l00262"></a><a class="code" href="../../d4/d6/sti_8h.html#a19">00262</a> <span class="preprocessor"></span><span class="preprocessor">#define STI_ONLINESTATE_PENDING             0x00000002</span>
<a name="l00263"></a><a class="code" href="../../d4/d6/sti_8h.html#a20">00263</a> <span class="preprocessor"></span><span class="preprocessor">#define STI_ONLINESTATE_ERROR               0x00000004</span>
<a name="l00264"></a><a class="code" href="../../d4/d6/sti_8h.html#a21">00264</a> <span class="preprocessor"></span><span class="preprocessor">#define STI_ONLINESTATE_PAUSED              0x00000008</span>
<a name="l00265"></a><a class="code" href="../../d4/d6/sti_8h.html#a22">00265</a> <span class="preprocessor"></span><span class="preprocessor">#define STI_ONLINESTATE_PAPER_JAM           0x00000010</span>
<a name="l00266"></a><a class="code" href="../../d4/d6/sti_8h.html#a23">00266</a> <span class="preprocessor"></span><span class="preprocessor">#define STI_ONLINESTATE_PAPER_PROBLEM       0x00000020</span>
<a name="l00267"></a><a class="code" href="../../d4/d6/sti_8h.html#a24">00267</a> <span class="preprocessor"></span><span class="preprocessor">#define STI_ONLINESTATE_OFFLINE             0x00000040</span>
<a name="l00268"></a><a class="code" href="../../d4/d6/sti_8h.html#a25">00268</a> <span class="preprocessor"></span><span class="preprocessor">#define STI_ONLINESTATE_IO_ACTIVE           0x00000080</span>
<a name="l00269"></a><a class="code" href="../../d4/d6/sti_8h.html#a26">00269</a> <span class="preprocessor"></span><span class="preprocessor">#define STI_ONLINESTATE_BUSY                0x00000100</span>
<a name="l00270"></a><a class="code" href="../../d4/d6/sti_8h.html#a27">00270</a> <span class="preprocessor"></span><span class="preprocessor">#define STI_ONLINESTATE_TRANSFERRING        0x00000200</span>
<a name="l00271"></a><a class="code" href="../../d4/d6/sti_8h.html#a28">00271</a> <span class="preprocessor"></span><span class="preprocessor">#define STI_ONLINESTATE_INITIALIZING        0x00000400</span>
<a name="l00272"></a><a class="code" href="../../d4/d6/sti_8h.html#a29">00272</a> <span class="preprocessor"></span><span class="preprocessor">#define STI_ONLINESTATE_WARMING_UP          0x00000800</span>
<a name="l00273"></a><a class="code" href="../../d4/d6/sti_8h.html#a30">00273</a> <span class="preprocessor"></span><span class="preprocessor">#define STI_ONLINESTATE_USER_INTERVENTION   0x00001000</span>
<a name="l00274"></a><a class="code" href="../../d4/d6/sti_8h.html#a31">00274</a> <span class="preprocessor"></span><span class="preprocessor">#define STI_ONLINESTATE_POWER_SAVE          0x00002000</span>
00275 <span class="preprocessor"></span>
00276 <span class="comment">//</span>
00277 <span class="comment">// Event processing parameters</span>
00278 <span class="comment">//</span>
<a name="l00279"></a><a class="code" href="../../d4/d6/sti_8h.html#a32">00279</a> <span class="preprocessor">#define STI_EVENTHANDLING_ENABLED           0x00000001</span>
<a name="l00280"></a><a class="code" href="../../d4/d6/sti_8h.html#a33">00280</a> <span class="preprocessor"></span><span class="preprocessor">#define STI_EVENTHANDLING_POLLING           0x00000002</span>
<a name="l00281"></a><a class="code" href="../../d4/d6/sti_8h.html#a34">00281</a> <span class="preprocessor"></span><span class="preprocessor">#define STI_EVENTHANDLING_PENDING           0x00000004</span>
00282 <span class="preprocessor"></span>
<a name="l00283"></a><a class="code" href="../../d6/d6/struct__STI__DEVICE__STATUS.html">00283</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d6/d6/struct__STI__DEVICE__STATUS.html">_STI_DEVICE_STATUS</a> {
00284 
<a name="l00285"></a><a class="code" href="../../d6/d6/struct__STI__DEVICE__STATUS.html#o0">00285</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d6/d6/struct__STI__DEVICE__STATUS.html#o0">dwSize</a>;
00286 
00287     <span class="comment">// Request field - bits of status to verify</span>
<a name="l00288"></a><a class="code" href="../../d6/d6/struct__STI__DEVICE__STATUS.html#o1">00288</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d6/d6/struct__STI__DEVICE__STATUS.html#o1">StatusMask</a>;
00289 
00290     <span class="comment">//</span>
00291     <span class="comment">// Fields are set when status mask contains STI_DEVSTATUS_ONLINE_STATE bit set</span>
00292     <span class="comment">//</span>
00293     <span class="comment">// Bitmask describing  device state</span>
<a name="l00294"></a><a class="code" href="../../d6/d6/struct__STI__DEVICE__STATUS.html#o2">00294</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d6/d6/struct__STI__DEVICE__STATUS.html#o2">dwOnlineState</a>;
00295 
00296     <span class="comment">// Device status code as defined by vendor</span>
<a name="l00297"></a><a class="code" href="../../d6/d6/struct__STI__DEVICE__STATUS.html#o3">00297</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d6/d6/struct__STI__DEVICE__STATUS.html#o3">dwHardwareStatusCode</a>;
00298 
00299     <span class="comment">//</span>
00300     <span class="comment">// Fields are set when status mask contains STI_DEVSTATUS_EVENTS_STATE bit set</span>
00301     <span class="comment">//</span>
00302 
00303     <span class="comment">// State of device notification processing (enabled, pending)</span>
<a name="l00304"></a><a class="code" href="../../d6/d6/struct__STI__DEVICE__STATUS.html#o4">00304</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d6/d6/struct__STI__DEVICE__STATUS.html#o4">dwEventHandlingState</a>;
00305 
00306     <span class="comment">// If device is polled, polling interval in ms</span>
<a name="l00307"></a><a class="code" href="../../d6/d6/struct__STI__DEVICE__STATUS.html#o5">00307</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d6/d6/struct__STI__DEVICE__STATUS.html#o5">dwPollingInterval</a>;
00308 
00309 } <a class="code" href="../../d6/d6/struct__STI__DEVICE__STATUS.html">STI_DEVICE_STATUS</a>,*<a class="code" href="../../d6/d6/struct__STI__DEVICE__STATUS.html">PSTI_DEVICE_STATUS</a>;
00310 
00311 <span class="comment">//</span>
00312 <span class="comment">// Structure to describe diagnostic ( test ) request to be processed by USD</span>
00313 <span class="comment">//</span>
00314 
00315 <span class="comment">// Basic test for presence of associated hardware</span>
<a name="l00316"></a><a class="code" href="../../d4/d6/sti_8h.html#a35">00316</a> <span class="preprocessor">#define STI_DIAGCODE_HWPRESENCE         0x00000001</span>
00317 <span class="preprocessor"></span>
00318 <span class="comment">//</span>
00319 <span class="comment">// Status bits for diagnostic</span>
00320 <span class="comment">//</span>
00321 
00322 <span class="comment">//</span>
00323 <span class="comment">// generic diagnostic errors</span>
00324 <span class="comment">//</span>
00325 
<a name="l00326"></a><a class="code" href="../../d7/d5/struct__ERROR__INFOW.html">00326</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d5/struct__ERROR__INFOW.html">_ERROR_INFOW</a> {
00327 
<a name="l00328"></a><a class="code" href="../../d7/d5/struct__ERROR__INFOW.html#o0">00328</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d7/d5/struct__ERROR__INFOW.html#o0">dwSize</a>;
00329 
00330     <span class="comment">// Generic error , describing results of last operation</span>
<a name="l00331"></a><a class="code" href="../../d7/d5/struct__ERROR__INFOW.html#o1">00331</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d7/d5/struct__ERROR__INFOW.html#o1">dwGenericError</a>;
00332 
00333     <span class="comment">// vendor specific error code</span>
<a name="l00334"></a><a class="code" href="../../d7/d5/struct__ERROR__INFOW.html#o2">00334</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d7/d5/struct__ERROR__INFOW.html#o2">dwVendorError</a>;
00335 
00336     <span class="comment">// String, describing in more details results of last operation if it failed</span>
<a name="l00337"></a><a class="code" href="../../d7/d5/struct__ERROR__INFOW.html#o3">00337</a>     WCHAR   <a class="code" href="../../d7/d5/struct__ERROR__INFOW.html#o3">szExtendedErrorText</a>[255];
00338 
00339 } <a class="code" href="../../d7/d5/struct__ERROR__INFOW.html">STI_ERROR_INFOW</a>,*<a class="code" href="../../d7/d5/struct__ERROR__INFOW.html">PSTI_ERROR_INFOW</a>;
00340 
<a name="l00341"></a><a class="code" href="../../d6/d5/struct__ERROR__INFOA.html">00341</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d6/d5/struct__ERROR__INFOA.html">_ERROR_INFOA</a> {
00342 
<a name="l00343"></a><a class="code" href="../../d6/d5/struct__ERROR__INFOA.html#o0">00343</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d6/d5/struct__ERROR__INFOA.html#o0">dwSize</a>;
00344 
<a name="l00345"></a><a class="code" href="../../d6/d5/struct__ERROR__INFOA.html#o1">00345</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d6/d5/struct__ERROR__INFOA.html#o1">dwGenericError</a>;
<a name="l00346"></a><a class="code" href="../../d6/d5/struct__ERROR__INFOA.html#o2">00346</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d6/d5/struct__ERROR__INFOA.html#o2">dwVendorError</a>;
00347 
<a name="l00348"></a><a class="code" href="../../d6/d5/struct__ERROR__INFOA.html#o3">00348</a>     <a class="code" href="../../d1/d1/bench_8c.html#a16">CHAR</a>   <a class="code" href="../../d6/d5/struct__ERROR__INFOA.html#o3">szExtendedErrorText</a>[255];
00349 
00350 } <a class="code" href="../../d6/d5/struct__ERROR__INFOA.html">STI_ERROR_INFOA</a>,*<a class="code" href="../../d6/d5/struct__ERROR__INFOA.html">PSTI_ERROR_INFOA</a>;
00351 
00352 <span class="preprocessor">#if defined(UNICODE) || defined(STI_UNICODE)</span>
<a name="l00353"></a><a class="code" href="../../d4/d6/sti_8h.html#a111">00353</a> <span class="preprocessor"></span><span class="keyword">typedef</span> <a class="code" href="../../d7/d5/struct__ERROR__INFOW.html">STI_ERROR_INFOW</a> <a class="code" href="../../d7/d5/struct__ERROR__INFOW.html">STI_ERROR_INFO</a>;
00354 <span class="preprocessor">#else</span>
00355 <span class="preprocessor"></span><span class="keyword">typedef</span> <a class="code" href="../../d6/d5/struct__ERROR__INFOA.html">STI_ERROR_INFOA</a> <a class="code" href="../../d4/d6/sti_8h.html#a111">STI_ERROR_INFO</a>;
00356 <span class="preprocessor">#endif</span>
00357 <span class="preprocessor"></span>
<a name="l00358"></a><a class="code" href="../../d4/d6/sti_8h.html#a112">00358</a> <span class="keyword">typedef</span> <a class="code" href="../../d4/d6/sti_8h.html#a111">STI_ERROR_INFO</a>* <a class="code" href="../../d7/d5/struct__ERROR__INFOW.html">PSTI_ERROR_INFO</a>;
00359 
<a name="l00360"></a><a class="code" href="../../d7/d6/struct__STI__DIAG.html">00360</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d6/struct__STI__DIAG.html">_STI_DIAG</a> {
00361 
<a name="l00362"></a><a class="code" href="../../d7/d6/struct__STI__DIAG.html#o0">00362</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d7/d6/struct__STI__DIAG.html#o0">dwSize</a>;
00363 
00364     <span class="comment">// Diagnostic request fields. Are set on request by caller</span>
00365 
00366     <span class="comment">// One of the</span>
<a name="l00367"></a><a class="code" href="../../d7/d6/struct__STI__DIAG.html#o1">00367</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d7/d6/struct__STI__DIAG.html#o1">dwBasicDiagCode</a>;
<a name="l00368"></a><a class="code" href="../../d7/d6/struct__STI__DIAG.html#o2">00368</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d7/d6/struct__STI__DIAG.html#o2">dwVendorDiagCode</a>;
00369 
00370     <span class="comment">// Response fields</span>
<a name="l00371"></a><a class="code" href="../../d7/d6/struct__STI__DIAG.html#o3">00371</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d7/d6/struct__STI__DIAG.html#o3">dwStatusMask</a>;
00372 
<a name="l00373"></a><a class="code" href="../../d7/d6/struct__STI__DIAG.html#o4">00373</a>     <a class="code" href="../../d4/d6/sti_8h.html#a111">STI_ERROR_INFO</a>  <a class="code" href="../../d7/d6/struct__STI__DIAG.html#o4">sErrorInfo</a>;
00374 
00375 } <a class="code" href="../../d7/d6/struct__STI__DIAG.html">STI_DIAG</a>,*<a class="code" href="../../d7/d6/struct__STI__DIAG.html">LPSTI_DIAG</a>;
00376 
00377 <span class="comment">//</span>
<a name="l00378"></a><a class="code" href="../../d4/d6/sti_8h.html#a115">00378</a> <span class="keyword">typedef</span> <a class="code" href="../../d7/d6/struct__STI__DIAG.html">STI_DIAG</a>    <a class="code" href="../../d7/d6/struct__STI__DIAG.html">DIAG</a>;
<a name="l00379"></a><a class="code" href="../../d4/d6/sti_8h.html#a116">00379</a> <span class="keyword">typedef</span> <a class="code" href="../../d4/d6/sti_8h.html#a114">LPSTI_DIAG</a>  <a class="code" href="../../d7/d6/struct__STI__DIAG.html">LPDIAG</a>;
00380 
00381 
00382 <span class="comment">// end device state information.</span>
00383 
00384 <span class="comment">//</span>
00385 <span class="comment">// Flags passed to WriteToErrorLog call in a first parameter, indicating type of the message</span>
00386 <span class="comment">// which needs to be logged</span>
00387 <span class="comment">//</span>
<a name="l00388"></a><a class="code" href="../../d4/d6/sti_8h.html#a36">00388</a> <span class="preprocessor">#define STI_TRACE_INFORMATION       0x00000001</span>
<a name="l00389"></a><a class="code" href="../../d4/d6/sti_8h.html#a37">00389</a> <span class="preprocessor"></span><span class="preprocessor">#define STI_TRACE_WARNING           0x00000002</span>
<a name="l00390"></a><a class="code" href="../../d4/d6/sti_8h.html#a38">00390</a> <span class="preprocessor"></span><span class="preprocessor">#define STI_TRACE_ERROR             0x00000004</span>
00391 <span class="preprocessor"></span>
00392 <span class="comment">//</span>
00393 <span class="comment">// Event notification mechansims.</span>
00394 <span class="comment">// ------------------------------</span>
00395 <span class="comment">//</span>
00396 <span class="comment">// Those are used to inform last subscribed caller of the changes in device state, initiated by</span>
00397 <span class="comment">// device.</span>
00398 <span class="comment">//</span>
00399 <span class="comment">// The only supported discipline of notification is stack. The last caller to subscribe will be notified</span>
00400 <span class="comment">// and will receive notification data. After caller unsubscribes , the previously subscribed caller will</span>
00401 <span class="comment">// become active.</span>
00402 <span class="comment">//</span>
00403 
00404 <span class="comment">// Notifications are sent to subscriber via window message. Window handle is passed as</span>
00405 <span class="comment">// parameter</span>
<a name="l00406"></a><a class="code" href="../../d4/d6/sti_8h.html#a39">00406</a> <span class="preprocessor">#define STI_SUBSCRIBE_FLAG_WINDOW   0x0001</span>
00407 <span class="preprocessor"></span>
00408 <span class="comment">// Device notification is signalling Win32 event ( auto-set event). Event handle</span>
00409 <span class="comment">// is passed as a parameter</span>
<a name="l00410"></a><a class="code" href="../../d4/d6/sti_8h.html#a40">00410</a> <span class="preprocessor">#define STI_SUBSCRIBE_FLAG_EVENT    0x0002</span>
00411 <span class="preprocessor"></span>
<a name="l00412"></a><a class="code" href="../../d9/d6/struct__STISUBSCRIBE.html">00412</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d6/struct__STISUBSCRIBE.html">_STISUBSCRIBE</a> {
00413 
<a name="l00414"></a><a class="code" href="../../d9/d6/struct__STISUBSCRIBE.html#o0">00414</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d9/d6/struct__STISUBSCRIBE.html#o0">dwSize</a>;
00415 
<a name="l00416"></a><a class="code" href="../../d9/d6/struct__STISUBSCRIBE.html#o1">00416</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a>;
00417 
00418     <span class="comment">// Not used . Will be used for subscriber to set bit mask filtering different events</span>
<a name="l00419"></a><a class="code" href="../../d9/d6/struct__STISUBSCRIBE.html#o2">00419</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d9/d6/struct__STISUBSCRIBE.html#o2">dwFilter</a>;
00420 
00421     <span class="comment">// When STI_SUBSCRIBE_FLAG_WINDOW bit is set, following fields should be set</span>
00422     <span class="comment">// Handle of the window which will receive notification message</span>
<a name="l00423"></a><a class="code" href="../../d9/d6/struct__STISUBSCRIBE.html#o3">00423</a>     HWND    <a class="code" href="../../d9/d6/struct__STISUBSCRIBE.html#o3">hWndNotify</a>;
00424 
00425     <span class="comment">// Handle of Win32 auto-reset event , which will be signalled whenever device has</span>
00426     <span class="comment">// notification pending</span>
<a name="l00427"></a><a class="code" href="../../d9/d6/struct__STISUBSCRIBE.html#o4">00427</a>     HANDLE  <a class="code" href="../../d9/d6/struct__STISUBSCRIBE.html#o4">hEvent</a>;
00428 
00429     <span class="comment">// Code of notification message, sent to window</span>
<a name="l00430"></a><a class="code" href="../../d9/d6/struct__STISUBSCRIBE.html#o5">00430</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>    <a class="code" href="../../d9/d6/struct__STISUBSCRIBE.html#o5">uiNotificationMessage</a>;
00431 
00432 } <a class="code" href="../../d9/d6/struct__STISUBSCRIBE.html">STISUBSCRIBE</a>,*<a class="code" href="../../d9/d6/struct__STISUBSCRIBE.html">LPSTISUBSCRIBE</a>;
00433 
<a name="l00434"></a><a class="code" href="../../d4/d6/sti_8h.html#a41">00434</a> <span class="preprocessor">#define MAX_NOTIFICATION_DATA   64</span>
00435 <span class="preprocessor"></span>
00436 
00437 <span class="comment">//</span>
00438 <span class="comment">// Structure to describe notification information</span>
00439 <span class="comment">//</span>
<a name="l00440"></a><a class="code" href="../../d8/d6/struct__STINOTIFY.html">00440</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/d6/struct__STINOTIFY.html">_STINOTIFY</a> {
00441 
<a name="l00442"></a><a class="code" href="../../d8/d6/struct__STINOTIFY.html#o0">00442</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d8/d6/struct__STINOTIFY.html#o0">dwSize</a>;                 <span class="comment">// Total size of the notification structure</span>
00443 
00444     <span class="comment">// GUID of the notification being retrieved</span>
<a name="l00445"></a><a class="code" href="../../d8/d6/struct__STINOTIFY.html#o1">00445</a>     GUID    <a class="code" href="../../d8/d6/struct__STINOTIFY.html#o1">guidNotificationCode</a>;
00446 
00447     <span class="comment">// Vendor specific notification description</span>
<a name="l00448"></a><a class="code" href="../../d8/d6/struct__STINOTIFY.html#o2">00448</a>     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>    <a class="code" href="../../d8/d6/struct__STINOTIFY.html#o2">abNotificationData</a>[<a class="code" href="../../d4/d6/sti_8h.html#a41">MAX_NOTIFICATION_DATA</a>];     <span class="comment">// USD specific</span>
00449 
00450 } <a class="code" href="../../d8/d6/struct__STINOTIFY.html">STINOTIFY</a>,*<a class="code" href="../../d8/d6/struct__STINOTIFY.html">LPSTINOTIFY</a>;
00451 
00452 
00453 <span class="comment">// end event_mechanisms</span>
00454 
00455 <span class="comment">//</span>
00456 <span class="comment">// STI device broadcasting</span>
00457 <span class="comment">//</span>
00458 
00459 <span class="comment">//</span>
00460 <span class="comment">// When STI Device is being added or removed, PnP broadacst is being sent , but it is not obvious</span>
00461 <span class="comment">// for application code to recognize if it is STI device and if so, what is the name of the</span>
00462 <span class="comment">// device. STI subsystem will analyze PnP broadcasts and rebroadcast another message via</span>
00463 <span class="comment">// BroadcastSystemMessage / WM_DEVICECHANGE / DBT_USERDEFINED .</span>
00464 
00465 <span class="comment">// String passed as user defined message contains STI prefix, action and device name</span>
00466 
<a name="l00467"></a><a class="code" href="../../d4/d6/sti_8h.html#a42">00467</a> <span class="preprocessor">#define STI_ADD_DEVICE_BROADCAST_ACTION     "Arrival"</span>
<a name="l00468"></a><a class="code" href="../../d4/d6/sti_8h.html#a43">00468</a> <span class="preprocessor"></span><span class="preprocessor">#define STI_REMOVE_DEVICE_BROADCAST_ACTION  "Removal"</span>
00469 <span class="preprocessor"></span>
<a name="l00470"></a><a class="code" href="../../d4/d6/sti_8h.html#a44">00470</a> <span class="preprocessor">#define STI_ADD_DEVICE_BROADCAST_STRING     "STI\\" STI_ADD_DEVICE_BROADCAST_ACTION "\\%s"</span>
<a name="l00471"></a><a class="code" href="../../d4/d6/sti_8h.html#a45">00471</a> <span class="preprocessor"></span><span class="preprocessor">#define STI_REMOVE_DEVICE_BROADCAST_STRING  "STI\\" STI_REMOVE_DEVICE_BROADCAST_ACTION "\\%s"</span>
00472 <span class="preprocessor"></span>
00473 
00474 <span class="comment">// end STI broadcasting</span>
00475 
00476 
00477 <span class="comment">//</span>
00478 <span class="comment">// Device create modes</span>
00479 <span class="comment">//</span>
00480 
00481 <span class="comment">// Device is being opened only for status querying and notifications receiving</span>
<a name="l00482"></a><a class="code" href="../../d4/d6/sti_8h.html#a46">00482</a> <span class="preprocessor">#define STI_DEVICE_CREATE_STATUS         0x00000001</span>
00483 <span class="preprocessor"></span>
00484 <span class="comment">// Device is being opened for data transfer ( supersedes status mode)</span>
<a name="l00485"></a><a class="code" href="../../d4/d6/sti_8h.html#a47">00485</a> <span class="preprocessor">#define STI_DEVICE_CREATE_DATA           0x00000002</span>
00486 <span class="preprocessor"></span>
<a name="l00487"></a><a class="code" href="../../d4/d6/sti_8h.html#a48">00487</a> <span class="preprocessor">#define STI_DEVICE_CREATE_BOTH           0x00000003</span>
00488 <span class="preprocessor"></span>
00489 <span class="comment">//</span>
00490 <span class="comment">// Bit mask for legitimate mode bits, which can be used when calling CreateDevice</span>
00491 <span class="comment">//</span>
<a name="l00492"></a><a class="code" href="../../d4/d6/sti_8h.html#a49">00492</a> <span class="preprocessor">#define STI_DEVICE_CREATE_MASK           0x0000FFFF</span>
00493 <span class="preprocessor"></span>
00494 <span class="comment">//</span>
00495 <span class="comment">// Flags controlling device enumeration</span>
00496 <span class="comment">//</span>
<a name="l00497"></a><a class="code" href="../../d4/d6/sti_8h.html#a50">00497</a> <span class="preprocessor">#define STIEDFL_ALLDEVICES             0x00000000</span>
<a name="l00498"></a><a class="code" href="../../d4/d6/sti_8h.html#a51">00498</a> <span class="preprocessor"></span><span class="preprocessor">#define STIEDFL_ATTACHEDONLY           0x00000001</span>
00499 <span class="preprocessor"></span>
00500 <span class="comment">//</span>
00501 <span class="comment">// Control code , sent to the device through raw control interface</span>
00502 <span class="comment">//</span>
<a name="l00503"></a><a class="code" href="../../d4/d6/sti_8h.html#a121">00503</a> <span class="keyword">typedef</span>  <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d4/d6/sti_8h.html#a121">STI_RAW_CONTROL_CODE</a>;
00504 
00505 <span class="comment">//</span>
00506 <span class="comment">// All raw codes below this one are reserved for future use.</span>
00507 <span class="comment">//</span>
<a name="l00508"></a><a class="code" href="../../d4/d6/sti_8h.html#a52">00508</a> <span class="preprocessor">#define STI_RAW_RESERVED    0x1000</span>
00509 <span class="preprocessor"></span>
00510  <span class="comment">/*</span>
00511 <span class="comment">  * COM Interfaces to STI</span>
00512 <span class="comment">  */</span>
00513 
00514 <span class="preprocessor">#ifdef __cplusplus</span>
00515 <span class="preprocessor"></span>
00516 <span class="comment">/* 'struct' not 'class' per the way DECLARE_INTERFACE_ is defined */</span>
00517 interface IStillImageW;
00518 interface IStillImageA;
00519 
00520 interface IStiDevice;
00521 
00522 <span class="preprocessor">#endif</span>
00523 <span class="preprocessor"></span>
00524 <span class="preprocessor">#ifndef MIDL_PASS</span>
00525 <span class="preprocessor"></span>
00526 <a class="code" href="../../d4/d6/sti_8h.html#a1">DLLEXP</a> STDMETHODIMP <a class="code" href="../../d4/d6/sti_8h.html#a135">StiCreateInstanceW</a>(HINSTANCE hinst, DWORD dwVer, interface IStillImageW **ppSti, LPUNKNOWN punkOuter);
00527 <a class="code" href="../../d4/d6/sti_8h.html#a1">DLLEXP</a> STDMETHODIMP <a class="code" href="../../d4/d6/sti_8h.html#a136">StiCreateInstanceA</a>(HINSTANCE hinst, DWORD dwVer, interface IStillImageA **ppSti, LPUNKNOWN punkOuter);
00528 
00529 <span class="preprocessor">#if defined(UNICODE) || defined(STI_UNICODE)</span>
<a name="l00530"></a><a class="code" href="../../d4/d6/sti_8h.html#a53">00530</a> <span class="preprocessor"></span><span class="preprocessor">#define IID_IStillImage     IID_IStillImageW</span>
<a name="l00531"></a><a class="code" href="../../d4/d6/sti_8h.html#a54">00531</a> <span class="preprocessor"></span><span class="preprocessor">#define IStillImage         IStillImageW</span>
<a name="l00532"></a><a class="code" href="../../d4/d6/sti_8h.html#a55">00532</a> <span class="preprocessor"></span><span class="preprocessor">#define StiCreateInstance   StiCreateInstanceW</span>
00533 <span class="preprocessor"></span><span class="preprocessor">#else</span>
00534 <span class="preprocessor"></span><span class="preprocessor">#define IID_IStillImage     IID_IStillImageA</span>
00535 <span class="preprocessor"></span><span class="preprocessor">#define IStillImage         IStillImageA</span>
00536 <span class="preprocessor"></span><span class="preprocessor">#define StiCreateInstance   StiCreateInstanceA</span>
00537 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00538 <span class="preprocessor"></span>
<a name="l00539"></a><a class="code" href="../../d4/d6/sti_8h.html#a122">00539</a> <span class="keyword">typedef</span> interface IStiDevice              *<a class="code" href="../../d4/d6/sti_8h.html#a122">LPSTILLIMAGEDEVICE</a>;
00540 
<a name="l00541"></a><a class="code" href="../../d4/d6/sti_8h.html#a123">00541</a> <span class="keyword">typedef</span> interface <a class="code" href="../../d4/d6/sti_8h.html#a54">IStillImage</a>             *<a class="code" href="../../d4/d6/sti_8h.html#a123">PSTI</a>;
<a name="l00542"></a><a class="code" href="../../d4/d6/sti_8h.html#a124">00542</a> <span class="keyword">typedef</span> interface IStiDevice              *<a class="code" href="../../d4/d6/sti_8h.html#a124">PSTIDEVICE</a>;
00543 
<a name="l00544"></a><a class="code" href="../../d4/d6/sti_8h.html#a125">00544</a> <span class="keyword">typedef</span> interface IStillImageA            *<a class="code" href="../../d4/d6/sti_8h.html#a125">PSTIA</a>;
<a name="l00545"></a><a class="code" href="../../d4/d6/sti_8h.html#a126">00545</a> <span class="keyword">typedef</span> interface IStiDeviceA             *<a class="code" href="../../d4/d6/sti_8h.html#a126">PSTIDEVICEA</a>;
00546 
<a name="l00547"></a><a class="code" href="../../d4/d6/sti_8h.html#a127">00547</a> <span class="keyword">typedef</span> interface IStillImageW            *<a class="code" href="../../d4/d6/sti_8h.html#a127">PSTIW</a>;
<a name="l00548"></a><a class="code" href="../../d4/d6/sti_8h.html#a128">00548</a> <span class="keyword">typedef</span> interface IStiDeviceW             *<a class="code" href="../../d4/d6/sti_8h.html#a128">PSTIDEVICEW</a>;
00549 
00550 <span class="comment">//DLLEXP STDMETHODIMP StiCreateInstance(HINSTANCE hinst, DWORD dwVer, PSTI *ppSti, LPUNKNOWN punkOuter);</span>
00551 
00552 <span class="comment">/*</span>
00553 <span class="comment"> * IStillImage interface</span>
00554 <span class="comment"> *</span>
00555 <span class="comment"> * Top level STI access interface.</span>
00556 <span class="comment"> *</span>
00557 <span class="comment"> */</span>
00558 
00559 <span class="preprocessor">#undef INTERFACE</span>
00560 <span class="preprocessor"></span><span class="preprocessor">#define INTERFACE IStillImageW</span>
<a name="l00561"></a><a class="code" href="../../d4/d6/sti_8h.html#a137">00561</a> <span class="preprocessor"></span><a class="code" href="../../d4/d6/sti_8h.html#a139">DECLARE_INTERFACE_</a>(IStillImageW, IUnknown)
00562 {
00563     <span class="comment">/*** IUnknown methods ***/</span>
00564     STDMETHOD(QueryInterface) (THIS_ REFIID riid, <a class="code" href="../../d0/d5/perfuser_8c.html#a5">LPVOID</a>* ppvObj) PURE;
00565     STDMETHOD_(ULONG, AddRef) (THIS) PURE;
00566     STDMETHOD_(ULONG, Release) (THIS) PURE;
00567 
00568     <span class="comment">/*** IStillImage methods ***/</span>
00569     STDMETHOD(Initialize) (THIS_ HINSTANCE hinst,<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwVersion) PURE;
00570 
00571     STDMETHOD(GetDeviceList)(THIS_ <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwType,<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a>,<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> *pdwItemsReturned,<a class="code" href="../../d0/d5/perfuser_8c.html#a5">LPVOID</a> *ppBuffer) PURE;
00572     STDMETHOD(GetDeviceInfo)(THIS_ LPWSTR  pwszDeviceName, <a class="code" href="../../d0/d5/perfuser_8c.html#a5">LPVOID</a> *ppBuffer) PURE;
00573 
00574     STDMETHOD(CreateDevice) (THIS_ LPWSTR  pwszDeviceName, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   dwMode, <a class="code" href="../../d4/d6/sti_8h.html#a124">PSTIDEVICE</a> *pDevice,LPUNKNOWN punkOuter) PURE;
00575 
00576     <span class="comment">//</span>
00577     <span class="comment">// Device instance values. Used to associate various data with device.</span>
00578     <span class="comment">//</span>
00579     STDMETHOD(GetDeviceValue)(THIS_ LPWSTR  pwszDeviceName,LPWSTR    pValueName,LPDWORD  pType,LPBYTE   pData,LPDWORD    cbData);
00580     STDMETHOD(SetDeviceValue)(THIS_ LPWSTR  pwszDeviceName,LPWSTR   pValueName,<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   Type,LPBYTE  pData,<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   cbData);
00581 
00582     <span class="comment">//</span>
00583     <span class="comment">// For appllication started through push model launch, returns associated information</span>
00584     <span class="comment">//</span>
00585     STDMETHOD(GetSTILaunchInformation)(THIS_ LPWSTR  pwszDeviceName, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> *pdwEventCode,LPWSTR  pwszEventName) PURE;
00586     STDMETHOD(RegisterLaunchApplication)(THIS_ LPWSTR  pwszAppName,LPWSTR  pwszCommandLine) PURE;
00587     STDMETHOD(UnregisterLaunchApplication)(THIS_ LPWSTR  pwszAppName) PURE;
00588 
00589     <span class="comment">//</span>
00590     <span class="comment">// To control state of notification handling. For polled devices this means state of monitor</span>
00591     <span class="comment">// polling, for true notification devices means enabling/disabling notification flow</span>
00592     <span class="comment">// from monitor to registered applications</span>
00593     <span class="comment">//</span>
00594     STDMETHOD(EnableHwNotifications)(THIS_ LPCWSTR  pwszDeviceName,<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> bNewState) PURE;
00595     STDMETHOD(GetHwNotificationState)(THIS_ LPCWSTR  pwszDeviceName,<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> *pbCurrentState) PURE;
00596 
00597     <span class="comment">//</span>
00598     <span class="comment">// When device is installed but not accessible, application may request bus refresh</span>
00599     <span class="comment">// which in some cases will make device known. This is mainly used for nonPnP buses</span>
00600     <span class="comment">// like SCSI, when device was powered on after PnP enumeration</span>
00601     <span class="comment">//</span>
00602     <span class="comment">//</span>
00603     STDMETHOD(RefreshDeviceBus)(THIS_ LPCWSTR  pwszDeviceName) PURE;
00604 
00605     <span class="comment">//</span>
00606     <span class="comment">// Launch application to emulate event on a device. Used by "control center" style components,</span>
00607     <span class="comment">// which intercept device event , analyze and later force launch based on certain criteria.</span>
00608     <span class="comment">//</span>
00609     STDMETHOD(LaunchApplicationForDevice)(THIS_ LPWSTR  pwszDeviceName,LPWSTR    pwszAppName,<a class="code" href="../../d4/d6/sti_8h.html#a120">LPSTINOTIFY</a>    pStiNotify);
00610 
00611     <span class="comment">//</span>
00612     <span class="comment">// For non-PnP devices with non-known bus type connection, setup extension, associated with the</span>
00613     <span class="comment">// device can set it's parameters</span>
00614     <span class="comment">//</span>
00615     STDMETHOD(SetupDeviceParameters)(THIS_ <a class="code" href="../../d4/d6/sti_8h.html#a100">PSTI_DEVICE_INFORMATIONW</a>);
00616 
00617     <span class="comment">//</span>
00618     <span class="comment">// Write message to STI error log</span>
00619     <span class="comment">//</span>
00620     STDMETHOD(WriteToErrorLog)(THIS_ <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwMessageType,LPCWSTR pszMessage) PURE;
00621 
00622 <span class="preprocessor">    #ifdef NOT_IMPLEMENTED</span>
00623 <span class="preprocessor"></span>
00624         <span class="comment">//</span>
00625         <span class="comment">// TO register application for receiving various STI notifications</span>
00626         <span class="comment">//</span>
00627         STIMETHOD(<a class="code" href="../../d5/d9/cltxt_8h.html#a37">RegisterDeviceNotification</a>(THIS_ LPWSTR  pwszAppName,LPSUBSCRIBE lpSubscribe) PURE;
00628         STIMETHOD(<a class="code" href="../../d8/d9/client_2ntstubs_8c.html#a46">UnregisterDeviceNotification</a>(THIS_ ) PURE;
00629 
00630     #endif <span class="comment">//NOT_IMPLEMENTED</span>
00631 
00632 };
00633 
<a name="l00634"></a><a class="code" href="../../d4/d6/sti_8h.html#a129">00634</a> <span class="keyword">typedef</span> <span class="keyword">struct</span> IStillImageW *<a class="code" href="../../d4/d6/sti_8h.html#a129">LPSTILLIMAGEW</a>;
00635 
00636 #undef <a class="code" href="../../d8/d3/struct__INTERFACE.html">INTERFACE</a>
00637 #define <a class="code" href="../../d8/d3/struct__INTERFACE.html">INTERFACE</a> IStillImageA
<a name="l00638"></a><a class="code" href="../../d4/d6/sti_8h.html#a138">00638</a> <a class="code" href="../../d4/d6/sti_8h.html#a139">DECLARE_INTERFACE_</a>(IStillImageA, IUnknown)
00639 {
00640     <span class="comment">/*** IUnknown methods ***/</span>
00641     STDMETHOD(QueryInterface) (THIS_ REFIID riid, LPVOID* ppvObj) PURE;
00642     STDMETHOD_(ULONG, AddRef) (THIS) PURE;
00643     STDMETHOD_(ULONG, Release) (THIS) PURE;
00644 
00645     <span class="comment">/*** IStillImage methods ***/</span>
00646     STDMETHOD(Initialize) (THIS_ HINSTANCE hinst,DWORD dwVersion) PURE;
00647 
00648     STDMETHOD(GetDeviceList)(THIS_ DWORD dwType,DWORD dwFlags,DWORD *pdwItemsReturned,LPVOID *ppBuffer) PURE;
00649     STDMETHOD(GetDeviceInfo)(THIS_ LPCSTR  pwszDeviceName, LPVOID *ppBuffer) PURE;
00650 
00651     STDMETHOD(CreateDevice) (THIS_ LPCSTR  pwszDeviceName, DWORD   dwMode, PSTIDEVICE *pDevice,LPUNKNOWN punkOuter) PURE;
00652 
00653     <span class="comment">//</span>
00654     <span class="comment">// Device instance values. Used to associate various data with device.</span>
00655     <span class="comment">//</span>
00656     STDMETHOD(GetDeviceValue)(THIS_ LPCSTR  pwszDeviceName,LPCSTR   pValueName,LPDWORD  pType,LPBYTE   pData,LPDWORD    cbData);
00657     STDMETHOD(SetDeviceValue)(THIS_ LPCSTR  pwszDeviceName,LPCSTR   pValueName,DWORD   Type,LPBYTE  pData,DWORD   cbData);
00658 
00659     <span class="comment">//</span>
00660     <span class="comment">// For appllication started through push model launch, returns associated information</span>
00661     <span class="comment">//</span>
00662     STDMETHOD(GetSTILaunchInformation)(THIS_ LPCSTR  pwszDeviceName, DWORD *pdwEventCode,LPSTR  pwszEventName) PURE;
00663     STDMETHOD(RegisterLaunchApplication)(THIS_ LPCSTR  pwszAppName,LPCSTR  pwszCommandLine) PURE;
00664     STDMETHOD(UnregisterLaunchApplication)(THIS_ LPCSTR  pwszAppName) PURE;
00665 
00666     <span class="comment">//</span>
00667     <span class="comment">// To control state of notification handling. For polled devices this means state of monitor</span>
00668     <span class="comment">// polling, for true notification devices means enabling/disabling notification flow</span>
00669     <span class="comment">// from monitor to registered applications</span>
00670     <span class="comment">//</span>
00671     STDMETHOD(EnableHwNotifications)(THIS_ LPCSTR  pwszDeviceName,BOOL bNewState) PURE;
00672     STDMETHOD(GetHwNotificationState)(THIS_ LPCSTR  pwszDeviceName,BOOL *pbCurrentState) PURE;
00673 
00674     <span class="comment">//</span>
00675     <span class="comment">// When device is installed but not accessible, application may request bus refresh</span>
00676     <span class="comment">// which in some cases will make device known. This is mainly used for nonPnP buses</span>
00677     <span class="comment">// like SCSI, when device was powered on after PnP enumeration</span>
00678     <span class="comment">//</span>
00679     <span class="comment">//</span>
00680     STDMETHOD(RefreshDeviceBus)(THIS_ LPCSTR  pwszDeviceName) PURE;
00681 
00682     <span class="comment">//</span>
00683     <span class="comment">// Launch application to emulate event on a device. Used by "control center" style components,</span>
00684     <span class="comment">// which intercept device event , analyze and later force launch based on certain criteria.</span>
00685     <span class="comment">//</span>
00686     STDMETHOD(LaunchApplicationForDevice)(THIS_ LPCSTR    pwszDeviceName,LPCSTR    pwszAppName,LPSTINOTIFY    pStiNotify);
00687 
00688 
00689     <span class="comment">//</span>
00690     <span class="comment">// For non-PnP devices with non-known bus type connection, setup extension, associated with the</span>
00691     <span class="comment">// device can set it's parameters</span>
00692     <span class="comment">//</span>
00693     STDMETHOD(SetupDeviceParameters)(THIS_ PSTI_DEVICE_INFORMATIONA);
00694 
00695     <span class="comment">//</span>
00696     <span class="comment">// Write message to STI error log</span>
00697     <span class="comment">//</span>
00698     STDMETHOD(WriteToErrorLog)(THIS_ DWORD dwMessageType,LPCSTR pszMessage) PURE;
00699 
00700     #ifdef NOT_IMPLEMENTED
00701 
00702         <span class="comment">//</span>
00703         <span class="comment">// TO register application for receiving various STI notifications</span>
00704         <span class="comment">//</span>
00705         STIMETHOD(<a class="code" href="../../d5/d9/cltxt_8h.html#a37">RegisterDeviceNotification</a>(THIS_ LPWSTR  pwszAppName,LPSUBSCRIBE lpSubscribe) PURE;
00706         STIMETHOD(<a class="code" href="../../d8/d9/client_2ntstubs_8c.html#a46">UnregisterDeviceNotification</a>(THIS_ ) PURE;
00707 
00708     #endif <span class="comment">//NOT_IMPLEMENTED</span>
00709 
00710 };
00711 
<a name="l00712"></a><a class="code" href="../../d4/d6/sti_8h.html#a130">00712</a> <span class="keyword">typedef</span> <span class="keyword">struct</span> IStillImageA *<a class="code" href="../../d4/d6/sti_8h.html#a130">LPSTILLIMAGEA</a>;
00713 
00714 #<span class="keywordflow">if</span> defined(UNICODE) || defined(STI_UNICODE)
<a name="l00715"></a><a class="code" href="../../d4/d6/sti_8h.html#a58">00715</a> #define IStillImageVtbl     IStillImageWVtbl
00716 #<span class="keywordflow">else</span>
00717 #define IStillImageVtbl     IStillImageAVtbl
00718 #endif
00719 
<a name="l00720"></a><a class="code" href="../../d4/d6/sti_8h.html#a131">00720</a> <span class="keyword">typedef</span> <span class="keyword">struct</span> IStillImage  *<a class="code" href="../../d4/d6/sti_8h.html#a131">LPSTILLIMAGE</a>;
00721 
00722 #<span class="keywordflow">if</span> !defined(__cplusplus) || defined(CINTERFACE)
<a name="l00723"></a><a class="code" href="../../d4/d6/sti_8h.html#a59">00723</a> #define <a class="code" href="../../d4/d6/sti_8h.html#a59">IStillImage_QueryInterface</a>(p,a,b)       (p)-&gt;lpVtbl-&gt;QueryInterface(p,a,b)
<a name="l00724"></a><a class="code" href="../../d4/d6/sti_8h.html#a60">00724</a> #define <a class="code" href="../../d4/d6/sti_8h.html#a60">IStillImage_AddRef</a>(p)                   (p)-&gt;lpVtbl-&gt;AddRef(p)
<a name="l00725"></a><a class="code" href="../../d4/d6/sti_8h.html#a61">00725</a> #define <a class="code" href="../../d4/d6/sti_8h.html#a61">IStillImage_Release</a>(p)                  (p)-&gt;lpVtbl-&gt;Release(p)
<a name="l00726"></a><a class="code" href="../../d4/d6/sti_8h.html#a62">00726</a> #define <a class="code" href="../../d4/d6/sti_8h.html#a62">IStillImage_Initialize</a>(p,a,b)           (p)-&gt;lpVtbl-&gt;Initialize(p,a,b)
00727 
<a name="l00728"></a><a class="code" href="../../d4/d6/sti_8h.html#a63">00728</a> #define <a class="code" href="../../d4/d6/sti_8h.html#a63">IStillImage_GetDeviceList</a>(p,a,b,c,d)    (p)-&gt;lpVtbl-&gt;GetDeviceList(p,a,b,c,d)
<a name="l00729"></a><a class="code" href="../../d4/d6/sti_8h.html#a64">00729</a> #define <a class="code" href="../../d4/d6/sti_8h.html#a64">IStillImage_GetDeviceInfo</a>(p,a,b)        (p)-&gt;lpVtbl-&gt;GetDeviceInfo(p,a,b)
<a name="l00730"></a><a class="code" href="../../d4/d6/sti_8h.html#a65">00730</a> #define <a class="code" href="../../d4/d6/sti_8h.html#a65">IStillImage_CreateDevice</a>(p,a,b,c,d)     (p)-&gt;lpVtbl-&gt;CreateDevice(p,a,b,c,d)
<a name="l00731"></a><a class="code" href="../../d4/d6/sti_8h.html#a66">00731</a> #define <a class="code" href="../../d4/d6/sti_8h.html#a66">IStillImage_GetDeviceValue</a>(p,a,b,c,d,e)           (p)-&gt;lpVtbl-&gt;GetDeviceValue(p,a,b,c,d,e)
<a name="l00732"></a><a class="code" href="../../d4/d6/sti_8h.html#a67">00732</a> #define <a class="code" href="../../d4/d6/sti_8h.html#a67">IStillImage_SetDeviceValue</a>(p,a,b,c,d,e)           (p)-&gt;lpVtbl-&gt;SetDeviceValue(p,a,b,c,d,e)
<a name="l00733"></a><a class="code" href="../../d4/d6/sti_8h.html#a68">00733</a> #define <a class="code" href="../../d4/d6/sti_8h.html#a68">IStillImage_GetSTILaunchInformation</a>(p,a,b,c)      (p)-&gt;lpVtbl-&gt;GetSTILaunchInformation(p,a,b,c)
<a name="l00734"></a><a class="code" href="../../d4/d6/sti_8h.html#a69">00734</a> #define <a class="code" href="../../d4/d6/sti_8h.html#a69">IStillImage_RegisterLaunchApplication</a>(p,a,b)      (p)-&gt;lpVtbl-&gt;RegisterLaunchApplication(p,a,b)
<a name="l00735"></a><a class="code" href="../../d4/d6/sti_8h.html#a70">00735</a> #define <a class="code" href="../../d4/d6/sti_8h.html#a70">IStillImage_UnregisterLaunchApplication</a>(p,a)      (p)-&gt;lpVtbl-&gt;UnregisterLaunchApplication(p,a)
<a name="l00736"></a><a class="code" href="../../d4/d6/sti_8h.html#a71">00736</a> #define <a class="code" href="../../d4/d6/sti_8h.html#a71">IStillImage_EnableHwNotifications</a>(p,a,b)          (p)-&gt;lpVtbl-&gt;EnableHwNotifications(p,a,b)
<a name="l00737"></a><a class="code" href="../../d4/d6/sti_8h.html#a72">00737</a> #define <a class="code" href="../../d4/d6/sti_8h.html#a72">IStillImage_GetHwNotificationState</a>(p,a,b)         (p)-&gt;lpVtbl-&gt;GetHwNotificationState(p,a,b)
<a name="l00738"></a><a class="code" href="../../d4/d6/sti_8h.html#a73">00738</a> #define <a class="code" href="../../d4/d6/sti_8h.html#a73">IStillImage_RefreshDeviceBus</a>(p,a)                 (p)-&gt;lpVtbl-&gt;RefreshDeviceBus(p,a)
00739 
00740 #endif
00741 
00742 <span class="comment">/*</span>
00743 <span class="comment"> * IStillImage_Device interface</span>
00744 <span class="comment"> *</span>
00745 <span class="comment"> * This is generic per device interface. Specialized interfaces are also</span>
00746 <span class="comment"> * available</span>
00747 <span class="comment"> */</span>
00748 <span class="preprocessor">#undef INTERFACE</span>
<a name="l00749"></a><a class="code" href="../../d4/d6/sti_8h.html#a74">00749</a> <span class="preprocessor"></span><span class="preprocessor">#define INTERFACE IStiDevice</span>
<a name="l00750"></a><a class="code" href="../../d4/d6/sti_8h.html#a139">00750</a> <span class="preprocessor"></span><a class="code" href="../../d4/d6/sti_8h.html#a139">DECLARE_INTERFACE_</a>(IStiDevice, IUnknown)
00751 {
00752     <span class="comment">/*** IUnknown methods ***/</span>
00753     STDMETHOD(QueryInterface) (THIS_ REFIID riid, <a class="code" href="../../d0/d5/perfuser_8c.html#a5">LPVOID</a>* ppvObj) PURE;
00754     STDMETHOD_(ULONG, AddRef) (THIS) PURE;
00755     STDMETHOD_(ULONG, Release) (THIS) PURE;
00756 
00757     <span class="comment">/*** IStiDevice methods ***/</span>
00758     STDMETHOD(Initialize) (THIS_ HINSTANCE hinst,LPCWSTR pwszDeviceName,<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwVersion,<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  dwMode) PURE;
00759 
00760     STDMETHOD(GetCapabilities) (THIS_ <a class="code" href="../../d4/d6/sti_8h.html#a98">PSTI_DEV_CAPS</a> pDevCaps) PURE;
00761 
00762     STDMETHOD(GetStatus) (THIS_ <a class="code" href="../../d4/d6/sti_8h.html#a106">PSTI_DEVICE_STATUS</a> pDevStatus) PURE;
00763 
00764     STDMETHOD(DeviceReset)(THIS ) PURE;
00765     STDMETHOD(Diagnostic)(THIS_ <a class="code" href="../../d4/d6/sti_8h.html#a114">LPSTI_DIAG</a> pBuffer) PURE;
00766 
00767     STDMETHOD(Escape)(THIS_ <a class="code" href="../../d4/d6/sti_8h.html#a121">STI_RAW_CONTROL_CODE</a>    EscapeFunction,<a class="code" href="../../d0/d5/perfuser_8c.html#a5">LPVOID</a>  lpInData,<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   cbInDataSize,<a class="code" href="../../d0/d5/perfuser_8c.html#a5">LPVOID</a> pOutData,<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwOutDataSize,LPDWORD pdwActualData) PURE ;
00768 
00769     STDMETHOD(GetLastError) (THIS_ LPDWORD pdwLastDeviceError) PURE;
00770 
00771     STDMETHOD(LockDevice) (THIS_ <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwTimeOut) PURE;
00772     STDMETHOD(UnLockDevice) (THIS ) PURE;
00773 
00774     STDMETHOD(RawReadData)(THIS_ <a class="code" href="../../d0/d5/perfuser_8c.html#a5">LPVOID</a> lpBuffer,LPDWORD lpdwNumberOfBytes,LPOVERLAPPED lpOverlapped) PURE;
00775     STDMETHOD(RawWriteData)(THIS_ <a class="code" href="../../d0/d5/perfuser_8c.html#a5">LPVOID</a> lpBuffer,<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> nNumberOfBytes,LPOVERLAPPED lpOverlapped) PURE;
00776 
00777     STDMETHOD(RawReadCommand)(THIS_ <a class="code" href="../../d0/d5/perfuser_8c.html#a5">LPVOID</a> lpBuffer,LPDWORD lpdwNumberOfBytes,LPOVERLAPPED lpOverlapped) PURE;
00778     STDMETHOD(RawWriteCommand)(THIS_ <a class="code" href="../../d0/d5/perfuser_8c.html#a5">LPVOID</a> lpBuffer,<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> nNumberOfBytes,LPOVERLAPPED lpOverlapped) PURE;
00779 
00780     <span class="comment">//</span>
00781     <span class="comment">// Subscription is used to enable "control center" style applications , where flow of</span>
00782     <span class="comment">// notifications should be redirected from monitor itself to another "launcher"</span>
00783     <span class="comment">//</span>
00784     STDMETHOD(Subscribe)(THIS_ <a class="code" href="../../d4/d6/sti_8h.html#a118">LPSTISUBSCRIBE</a> lpSubsribe) PURE;
00785     STDMETHOD(GetLastNotificationData)(THIS_ <a class="code" href="../../d4/d6/sti_8h.html#a120">LPSTINOTIFY</a>   lpNotify) PURE;
00786     STDMETHOD(UnSubscribe)(THIS ) PURE;
00787 
00788     STDMETHOD(GetLastErrorInfo) (THIS_ <a class="code" href="../../d4/d6/sti_8h.html#a111">STI_ERROR_INFO</a> *pLastErrorInfo) PURE;
00789 };
00790 
00791 <span class="preprocessor">#if !defined(__cplusplus) || defined(CINTERFACE)</span>
<a name="l00792"></a><a class="code" href="../../d4/d6/sti_8h.html#a75">00792</a> <span class="preprocessor"></span><span class="preprocessor">#define IStiDevice_QueryInterface(p,a,b)        (p)-&gt;lpVtbl-&gt;QueryInterface(p,a,b)</span>
<a name="l00793"></a><a class="code" href="../../d4/d6/sti_8h.html#a76">00793</a> <span class="preprocessor"></span><span class="preprocessor">#define IStiDevice_AddRef(p)                    (p)-&gt;lpVtbl-&gt;AddRef(p)</span>
<a name="l00794"></a><a class="code" href="../../d4/d6/sti_8h.html#a77">00794</a> <span class="preprocessor"></span><span class="preprocessor">#define IStiDevice_Release(p)                   (p)-&gt;lpVtbl-&gt;Release(p)</span>
<a name="l00795"></a><a class="code" href="../../d4/d6/sti_8h.html#a78">00795</a> <span class="preprocessor"></span><span class="preprocessor">#define IStiDevice_Initialize(p,a,b,c,d)        (p)-&gt;lpVtbl-&gt;Initialize(p,a,b,c,d)</span>
00796 <span class="preprocessor"></span>
<a name="l00797"></a><a class="code" href="../../d4/d6/sti_8h.html#a79">00797</a> <span class="preprocessor">#define IStiDevice_GetCapabilities(p,a)         (p)-&gt;lpVtbl-&gt;GetCapabilities(p,a)</span>
<a name="l00798"></a><a class="code" href="../../d4/d6/sti_8h.html#a80">00798</a> <span class="preprocessor"></span><span class="preprocessor">#define IStiDevice_GetStatus(p,a)               (p)-&gt;lpVtbl-&gt;GetStatus(p,a)</span>
<a name="l00799"></a><a class="code" href="../../d4/d6/sti_8h.html#a81">00799</a> <span class="preprocessor"></span><span class="preprocessor">#define IStiDevice_DeviceReset(p)               (p)-&gt;lpVtbl-&gt;DeviceReset(p)</span>
<a name="l00800"></a><a class="code" href="../../d4/d6/sti_8h.html#a82">00800</a> <span class="preprocessor"></span><span class="preprocessor">#define IStiDevice_LockDevice(p,a)              (p)-&gt;lpVtbl-&gt;LockDevice(p,a)</span>
<a name="l00801"></a><a class="code" href="../../d4/d6/sti_8h.html#a83">00801</a> <span class="preprocessor"></span><span class="preprocessor">#define IStiDevice_UnLockDevice(p)              (p)-&gt;lpVtbl-&gt;LockDevice(p)</span>
00802 <span class="preprocessor"></span>
<a name="l00803"></a><a class="code" href="../../d4/d6/sti_8h.html#a84">00803</a> <span class="preprocessor">#define IStiDevice_Diagnostic(p,a)              (p)-&gt;lpVtbl-&gt;Diagnostic(p,a)</span>
<a name="l00804"></a><a class="code" href="../../d4/d6/sti_8h.html#a85">00804</a> <span class="preprocessor"></span><span class="preprocessor">#define IStiDevice_Escape(p,a,b,c,d,e,f)        (p)-&gt;lpVtbl-&gt;Escape(p,a,b,c,d,e,f)</span>
<a name="l00805"></a><a class="code" href="../../d4/d6/sti_8h.html#a86">00805</a> <span class="preprocessor"></span><span class="preprocessor">#define IStiDevice_GetLastError(p,a)            (p)-&gt;lpVtbl-&gt;GetLastError(p,a)</span>
<a name="l00806"></a><a class="code" href="../../d4/d6/sti_8h.html#a87">00806</a> <span class="preprocessor"></span><span class="preprocessor">#define IStiDevice_RawReadData(p,a,b,c)         (p)-&gt;lpVtbl-&gt;RawReadData(p,a,b,c)</span>
<a name="l00807"></a><a class="code" href="../../d4/d6/sti_8h.html#a88">00807</a> <span class="preprocessor"></span><span class="preprocessor">#define IStiDevice_RawWriteData(p,a,b,c)        (p)-&gt;lpVtbl-&gt;RawWriteData(p,a,b,c)</span>
<a name="l00808"></a><a class="code" href="../../d4/d6/sti_8h.html#a89">00808</a> <span class="preprocessor"></span><span class="preprocessor">#define IStiDevice_RawReadCommand(p,a,b,c)      (p)-&gt;lpVtbl-&gt;RawReadCommand(p,a,b,c)</span>
<a name="l00809"></a><a class="code" href="../../d4/d6/sti_8h.html#a90">00809</a> <span class="preprocessor"></span><span class="preprocessor">#define IStiDevice_RawWriteCommand(p,a,b,c)     (p)-&gt;lpVtbl-&gt;RawWriteCommand(p,a,b,c)</span>
00810 <span class="preprocessor"></span>
<a name="l00811"></a><a class="code" href="../../d4/d6/sti_8h.html#a91">00811</a> <span class="preprocessor">#define IStiDevice_Subscribe(p,a)               (p)-&gt;lpVtbl-&gt;Subscribe(p,a)</span>
<a name="l00812"></a><a class="code" href="../../d4/d6/sti_8h.html#a92">00812</a> <span class="preprocessor"></span><span class="preprocessor">#define IStiDevice_GetNotificationData(p,a)     (p)-&gt;lpVtbl-&gt;GetNotificationData(p,a)</span>
<a name="l00813"></a><a class="code" href="../../d4/d6/sti_8h.html#a93">00813</a> <span class="preprocessor"></span><span class="preprocessor">#define IStiDevice_UnSubscribe(p)               (p)-&gt;lpVtbl-&gt;UnSubscribe(p)</span>
00814 <span class="preprocessor"></span>
<a name="l00815"></a><a class="code" href="../../d4/d6/sti_8h.html#a94">00815</a> <span class="preprocessor">#define IStiDevice_GetLastErrorInfo(p,a)        (p)-&gt;lpVtbl-&gt;GetLastErrorInfo(p,a)</span>
00816 <span class="preprocessor"></span>
00817 <span class="preprocessor">#endif</span>
00818 <span class="preprocessor"></span>
00819 <span class="preprocessor">#endif  // MIDL_PASS</span>
00820 <span class="preprocessor"></span>
00821 <span class="preprocessor">#ifdef __cplusplus</span>
00822 <span class="preprocessor"></span>};
00823 <span class="preprocessor">#endif</span>
00824 <span class="preprocessor"></span>
00825 <span class="comment">//</span>
00826 <span class="comment">// Reset packing</span>
00827 <span class="comment">//</span>
00828 <span class="preprocessor">#include &lt;poppack.h&gt;</span>
00829 
00830 <span class="preprocessor">#endif // _STICOM_</span>
00831 <span class="preprocessor"></span>
00832 
00833 
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:41:52 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
