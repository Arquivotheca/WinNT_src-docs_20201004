<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: userk.h Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>userk.h</h1><a href="../../d4/d1/userk_8h.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">/*++ BUILD Version: 0015    // Increment this if a change has global effects</span>
00002 <span class="comment"></span>
00003 <span class="comment">/****************************** Module Header ******************************\</span>
00004 <span class="comment">* Module Name: userk.h</span>
00005 <span class="comment">*</span>
00006 <span class="comment">* Copyright (c) 1985 - 1999, Microsoft Corporation</span>
00007 <span class="comment">*</span>
00008 <span class="comment">* Typedefs, defines, and prototypes that are used exclusively by the User</span>
00009 <span class="comment">* kernel-mode code.</span>
00010 <span class="comment">*</span>
00011 <span class="comment">* History:</span>
00012 <span class="comment">* 04-28-91 DarrinM      Created from PROTO.H, MACRO.H, and STRTABLE.H</span>
00013 <span class="comment">* 01-25-95 JimA         Prepped for kernel-mode</span>
00014 <span class="comment">\***************************************************************************/</span>
00015 
00016 <span class="preprocessor">#ifndef _USERK_</span>
00017 <span class="preprocessor"></span><span class="preprocessor">#define _USERK_</span>
00018 <span class="preprocessor"></span>
00019 <span class="preprocessor">#ifndef _WINBASE_</span>
00020 <span class="preprocessor"></span><span class="preprocessor">#include "wbasek.h"</span>
00021 <span class="preprocessor">#endif // _WINBASE_</span>
00022 <span class="preprocessor"></span>
00023 <span class="preprocessor">#include "<a class="code" href="../../d2/d0/csrmsg_8h.html">csrmsg.h</a>"</span>
00024 
<a name="l00025"></a><a class="code" href="../../d4/d1/userk_8h.html#a0">00025</a> <span class="preprocessor">#define GET_X_LPARAM(lp)                        ((int)(short)LOWORD(lp))</span>
<a name="l00026"></a><a class="code" href="../../d4/d1/userk_8h.html#a1">00026</a> <span class="preprocessor"></span><span class="preprocessor">#define GET_Y_LPARAM(lp)                        ((int)(short)HIWORD(lp))</span>
00027 <span class="preprocessor"></span><span class="comment">//BlColor flags</span>
<a name="l00028"></a><a class="code" href="../../d4/d1/userk_8h.html#a2">00028</a> <span class="preprocessor">#define BC_INVERT             0x00000001</span>
<a name="l00029"></a><a class="code" href="../../d4/d1/userk_8h.html#a3">00029</a> <span class="preprocessor"></span><span class="preprocessor">#define BC_NOMIRROR           0x00000002</span>
00030 <span class="preprocessor"></span><span class="preprocessor">#ifdef USE_MIRRORING</span>
00031 <span class="preprocessor"></span><span class="preprocessor">#define MIRRORED_HDC(hdc)     (GreGetLayout(hdc) &amp; LAYOUT_RTL)</span>
00032 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00033"></a><a class="code" href="../../d4/d1/userk_8h.html#a4">00033</a> <span class="preprocessor"></span><span class="preprocessor">#define HEBREW_UI_LANGID()    (gpsi-&gt;UILangID == MAKELANGID(LANG_HEBREW, SUBLANG_DEFAULT))</span>
00034 <span class="preprocessor"></span>
<a name="l00035"></a><a class="code" href="../../d4/d1/userk_8h.html#a5">00035</a> <span class="preprocessor">#define OEMRESOURCE 1</span>
00036 <span class="preprocessor"></span>
<a name="l00037"></a><a class="code" href="../../d4/d1/userk_8h.html#a6">00037</a> <span class="preprocessor">#define CCACHEDCAPTIONS 5</span>
00038 <span class="preprocessor"></span>
<a name="l00039"></a><a class="code" href="../../d4/d1/userk_8h.html#a7">00039</a> <span class="preprocessor">#define RIT_PROCESSINPUT  0x01</span>
<a name="l00040"></a><a class="code" href="../../d4/d1/userk_8h.html#a8">00040</a> <span class="preprocessor"></span><span class="preprocessor">#define RIT_STOPINPUT     0x02</span>
00041 <span class="preprocessor"></span>
00042 <span class="preprocessor">#include &lt;winnls.h&gt;</span>
00043 <span class="preprocessor">#include &lt;wincon.h&gt;</span>
00044 
00045 <span class="preprocessor">#include &lt;winuser.h&gt;</span>
00046 <span class="preprocessor">#include &lt;winuserp.h&gt;</span>
00047 <span class="preprocessor">#include &lt;wowuserp.h&gt;</span>
00048 
00049 <span class="preprocessor">#include &lt;<a class="code" href="../../d1/d0/inc_2user_8h.html">user.h</a>&gt;</span>
00050 
00051 <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> <a class="code" href="../../d4/d1/userk_8h.html#a780">_ptiCrit</a>(VOID);
00052 <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> <a class="code" href="../../d4/d1/userk_8h.html#a781">_ptiCritShared</a>(VOID);
00053 
00054 <span class="preprocessor">#if DBG</span>
00055 <span class="preprocessor"></span><span class="preprocessor">    #define PtiCurrent()  _ptiCrit()</span>
00056 <span class="preprocessor"></span><span class="preprocessor">    #define PtiCurrentShared() _ptiCritShared()</span>
00057 <span class="preprocessor"></span><span class="preprocessor">#else // DBG</span>
<a name="l00058"></a><a class="code" href="../../d4/d1/userk_8h.html#a9">00058</a> <span class="preprocessor"></span><span class="preprocessor">    #define PtiCurrent()  (gptiCurrent)</span>
<a name="l00059"></a><a class="code" href="../../d4/d1/userk_8h.html#a10">00059</a> <span class="preprocessor"></span><span class="preprocessor">    #define PtiCurrentShared() ((PTHREADINFO)(W32GetCurrentThread()))</span>
00060 <span class="preprocessor"></span><span class="preprocessor">#endif // DBG</span>
00061 <span class="preprocessor"></span>
<a name="l00062"></a><a class="code" href="../../d4/d1/userk_8h.html#a782">00062</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/d4/structtagEVENTHOOK.html">tagEVENTHOOK</a> *<a class="code" href="../../d8/d4/structtagEVENTHOOK.html">PEVENTHOOK</a>;
<a name="l00063"></a><a class="code" href="../../d4/d1/userk_8h.html#a783">00063</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d2/structtagNOTIFY.html">tagNOTIFY</a> *<a class="code" href="../../d9/d2/structtagNOTIFY.html">PNOTIFY</a>;
00064 
00065 <span class="preprocessor">#if DEBUGTAGS</span>
00066 <span class="preprocessor"></span>    <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a11">CheckPtiSysPeek</a>(<span class="keywordtype">int</span> where, <a class="code" href="../../d7/d4/structtagQ.html">PQ</a> pq, ULONG_PTR newIdSysPeek);
00067     <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a12">CheckSysLock</a>(<span class="keywordtype">int</span> where, <a class="code" href="../../d7/d4/structtagQ.html">PQ</a> pq, <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti);
00068 <span class="preprocessor">#else // DEBUGTAGS</span>
<a name="l00069"></a><a class="code" href="../../d4/d1/userk_8h.html#a11">00069</a> <span class="preprocessor"></span><span class="preprocessor">    #define CheckPtiSysPeek(where, pq, newIdSysPeek)</span>
<a name="l00070"></a><a class="code" href="../../d4/d1/userk_8h.html#a12">00070</a> <span class="preprocessor"></span><span class="preprocessor">    #define CheckSysLock(where, pq, pti)</span>
00071 <span class="preprocessor"></span><span class="preprocessor">#endif // DEBUGTAGS</span>
00072 <span class="preprocessor"></span>
00073 <span class="comment">/*</span>
00074 <span class="comment"> * ShutdownProcessRoutine return values</span>
00075 <span class="comment"> */</span>
<a name="l00076"></a><a class="code" href="../../d4/d1/userk_8h.html#a13">00076</a> <span class="preprocessor">#define SHUTDOWN_KNOWN_PROCESS   1</span>
<a name="l00077"></a><a class="code" href="../../d4/d1/userk_8h.html#a14">00077</a> <span class="preprocessor"></span><span class="preprocessor">#define SHUTDOWN_UNKNOWN_PROCESS 2</span>
<a name="l00078"></a><a class="code" href="../../d4/d1/userk_8h.html#a15">00078</a> <span class="preprocessor"></span><span class="preprocessor">#define SHUTDOWN_CANCEL          3</span>
00079 <span class="preprocessor"></span>
00080 <span class="comment">/*</span>
00081 <span class="comment"> * Macros to get address of current thread and process information.</span>
00082 <span class="comment"> */</span>
00083 
<a name="l00084"></a><a class="code" href="../../d4/d1/userk_8h.html#a16">00084</a> <span class="preprocessor">#define PpiCurrent() \</span>
00085 <span class="preprocessor">    ((PPROCESSINFO)(W32GetCurrentProcess()))</span>
00086 <span class="preprocessor"></span>
<a name="l00087"></a><a class="code" href="../../d4/d1/userk_8h.html#a17">00087</a> <span class="preprocessor">#define PtiFromThread(Thread) ((PTHREADINFO)((Thread)-&gt;Tcb.Win32Thread))</span>
00088 <span class="preprocessor"></span>
<a name="l00089"></a><a class="code" href="../../d4/d1/userk_8h.html#a18">00089</a> <span class="preprocessor">#define PpiFromProcess(Process)                                           \</span>
00090 <span class="preprocessor">        ((PPROCESSINFO)((PW32PROCESS)(Process)-&gt;Win32Process))</span>
00091 <span class="preprocessor"></span>
<a name="l00092"></a><a class="code" href="../../d4/d1/userk_8h.html#a19">00092</a> <span class="preprocessor">#define GetCurrentProcessId() \</span>
00093 <span class="preprocessor">        (PsGetCurrentThread()-&gt;Cid.UniqueProcess)</span>
00094 <span class="preprocessor"></span>
<a name="l00095"></a><a class="code" href="../../d4/d1/userk_8h.html#a20">00095</a> <span class="preprocessor">#define ISCSRSS() (PsGetCurrentProcess() == gpepCSRSS)</span>
00096 <span class="preprocessor"></span>
<a name="l00097"></a><a class="code" href="../../d4/d1/userk_8h.html#a21">00097</a> <span class="preprocessor">#define CheckForClientDeath()</span>
00098 <span class="preprocessor"></span>
00099 
00100 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a960">OpenEffectiveToken</a>(
00101     PHANDLE phToken);
00102 
00103 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a961">GetProcessLuid</a>(
00104     <a class="code" href="../../d5/d6/struct__ETHREAD.html">PETHREAD</a> Thread OPTIONAL,
00105     PLUID LuidProcess);
00106 
00107 BOOLEAN <a class="code" href="../../d6/d9/restrfil_8c.html#a29">IsRestricted</a>(
00108     <a class="code" href="../../d5/d6/struct__ETHREAD.html">PETHREAD</a> Thread);
00109 
00110 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a963">CreateSystemThread</a>(
00111     PKSTART_ROUTINE lpThreadAddress,
00112     PVOID pvContext,
00113     PHANDLE phThread);
00114 
00115 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a964">InitSystemThread</a>(
00116     PUNICODE_STRING pstrThreadName);
00117 
00118 <a class="code" href="../../d2/d6/struct__KEVENT.html">PKEVENT</a> <a class="code" href="../../d4/d1/userk_8h.html#a965">CreateKernelEvent</a>(
00119     IN EVENT_TYPE Type,
00120     IN BOOLEAN State);
00121 
00122 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a966">ProtectHandle</a>(
00123     IN HANDLE Handle,
00124     IN BOOLEAN Protect);
00125 
<a name="l00126"></a><a class="code" href="../../d4/d1/userk_8h.html#a967">00126</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> __inline <a class="code" href="../../d4/d1/userk_8h.html#a967">FreeKernelEvent</a>(PVOID* pp)
00127 {
00128     UserFreePool(*pp);
00129     *pp = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00130 }
00131 
00132 <span class="comment">/*</span>
00133 <span class="comment"> * Object types exported from the kernel.</span>
00134 <span class="comment"> */</span>
<a name="l00135"></a><a class="code" href="../../d4/d1/userk_8h.html#a784">00135</a> <span class="keyword">extern</span> <a class="code" href="../../d3/d6/struct__OBJECT__TYPE.html">POBJECT_TYPE</a> *<a class="code" href="../../d3/d7/win32_8c.html#a0">ExWindowStationObjectType</a>;
<a name="l00136"></a><a class="code" href="../../d4/d1/userk_8h.html#a785">00136</a> <span class="keyword">extern</span> <a class="code" href="../../d3/d6/struct__OBJECT__TYPE.html">POBJECT_TYPE</a> *<a class="code" href="../../d3/d7/win32_8c.html#a1">ExDesktopObjectType</a>;
<a name="l00137"></a><a class="code" href="../../d4/d1/userk_8h.html#a786">00137</a> <span class="keyword">extern</span> <a class="code" href="../../d3/d6/struct__OBJECT__TYPE.html">POBJECT_TYPE</a> *<a class="code" href="../../d7/d7/ntapi_8c.html#a3">ExEventObjectType</a>;
00138 
00139 <span class="comment">/*</span>
00140 <span class="comment"> * Private probing macros</span>
00141 <span class="comment"> */</span>
00142 
00143 <span class="preprocessor">#if defined(_X86_)</span>
00144 <span class="preprocessor"></span><span class="preprocessor">#define DATAALIGN sizeof(BYTE)</span>
00145 <span class="preprocessor"></span><span class="preprocessor">#define CHARALIGN sizeof(BYTE)</span>
00146 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00147"></a><a class="code" href="../../d4/d1/userk_8h.html#a22">00147</a> <span class="preprocessor"></span><span class="preprocessor">#define DATAALIGN sizeof(DWORD)</span>
<a name="l00148"></a><a class="code" href="../../d4/d1/userk_8h.html#a23">00148</a> <span class="preprocessor"></span><span class="preprocessor">#define CHARALIGN sizeof(WCHAR)</span>
00149 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00150 <span class="preprocessor"></span>
<a name="l00151"></a><a class="code" href="../../d4/d1/userk_8h.html#a24">00151</a> <span class="preprocessor">#define ProbeForReadBuffer(Address, Count, Alignment) {                     \</span>
00152 <span class="preprocessor">    if ((ULONG)(Count) &gt; (ULONG)(MAXULONG / sizeof(*(Address)))) {          \</span>
00153 <span class="preprocessor">        ExRaiseAccessViolation();                                           \</span>
00154 <span class="preprocessor">    }                                                                       \</span>
00155 <span class="preprocessor">    ProbeForRead(Address, (ULONG)(Count) * sizeof(*(Address)), Alignment);  \</span>
00156 <span class="preprocessor">}</span>
00157 <span class="preprocessor"></span>
<a name="l00158"></a><a class="code" href="../../d4/d1/userk_8h.html#a25">00158</a> <span class="preprocessor">#define ProbeForWriteBuffer(Address, Count, Alignment) {                    \</span>
00159 <span class="preprocessor">    if ((ULONG)(Count) &gt; (ULONG)(MAXULONG / sizeof(*(Address)))) {          \</span>
00160 <span class="preprocessor">        ExRaiseAccessViolation();                                           \</span>
00161 <span class="preprocessor">    }                                                                       \</span>
00162 <span class="preprocessor">    ProbeForWrite(Address, (ULONG)(Count) * sizeof(*(Address)), Alignment); \</span>
00163 <span class="preprocessor">}</span>
00164 <span class="preprocessor"></span>
<a name="l00165"></a><a class="code" href="../../d4/d1/userk_8h.html#a26">00165</a> <span class="preprocessor">#define ProbeAndReadSize(Address)                         \</span>
00166 <span class="preprocessor">    (((Address) &gt;= (SIZE * const)MM_USER_PROBE_ADDRESS) ? \</span>
00167 <span class="preprocessor">        (*(volatile SIZE * const)MM_USER_PROBE_ADDRESS) : (*(volatile SIZE *)(Address)))</span>
00168 <span class="preprocessor"></span>
<a name="l00169"></a><a class="code" href="../../d4/d1/userk_8h.html#a27">00169</a> <span class="preprocessor">#define ProbeAndReadBlendfunction(Address)                         \</span>
00170 <span class="preprocessor">    (((Address) &gt;= (BLENDFUNCTION * const)MM_USER_PROBE_ADDRESS) ? \</span>
00171 <span class="preprocessor">        (*(volatile BLENDFUNCTION * const)MM_USER_PROBE_ADDRESS) : (*(volatile BLENDFUNCTION *)(Address)))</span>
00172 <span class="preprocessor"></span>
00173 <span class="comment">//++</span>
00174 <span class="comment">//</span>
00175 <span class="comment">// BOOLEAN</span>
00176 <span class="comment">// ProbeAndReadPoint(</span>
00177 <span class="comment">//     IN PPOINT Address</span>
00178 <span class="comment">//     )</span>
00179 <span class="comment">//</span>
00180 <span class="comment">//--</span>
00181 
<a name="l00182"></a><a class="code" href="../../d4/d1/userk_8h.html#a28">00182</a> <span class="preprocessor">#define ProbePoint(Address)                                \</span>
00183 <span class="preprocessor">    (((Address) &gt;= (POINT * const)MM_USER_PROBE_ADDRESS) ? \</span>
00184 <span class="preprocessor">        (*(volatile DWORD * const)MM_USER_PROBE_ADDRESS) : (*(volatile DWORD *)(Address)))</span>
00185 <span class="preprocessor"></span>
<a name="l00186"></a><a class="code" href="../../d4/d1/userk_8h.html#a29">00186</a> <span class="preprocessor">#define ProbeAndReadPoint(Address)                         \</span>
00187 <span class="preprocessor">    (((Address) &gt;= (POINT * const)MM_USER_PROBE_ADDRESS) ? \</span>
00188 <span class="preprocessor">        (*(volatile POINT * const)MM_USER_PROBE_ADDRESS) : (*(volatile POINT *)(Address)))</span>
00189 <span class="preprocessor"></span>
00190 <span class="comment">//++</span>
00191 <span class="comment">//</span>
00192 <span class="comment">// BOOLEAN</span>
00193 <span class="comment">// ProbeAndReadRect(</span>
00194 <span class="comment">//     IN PRECT Address</span>
00195 <span class="comment">//     )</span>
00196 <span class="comment">//</span>
00197 <span class="comment">//--</span>
00198 
<a name="l00199"></a><a class="code" href="../../d4/d1/userk_8h.html#a30">00199</a> <span class="preprocessor">#define ProbeRect(Address)                                \</span>
00200 <span class="preprocessor">    (((Address) &gt;= (RECT * const)MM_USER_PROBE_ADDRESS) ? \</span>
00201 <span class="preprocessor">        (*(volatile DWORD * const)MM_USER_PROBE_ADDRESS) : (*(volatile DWORD *)(Address)))</span>
00202 <span class="preprocessor"></span>
<a name="l00203"></a><a class="code" href="../../d4/d1/userk_8h.html#a31">00203</a> <span class="preprocessor">#define ProbeAndReadRect(Address)                         \</span>
00204 <span class="preprocessor">    (((Address) &gt;= (RECT * const)MM_USER_PROBE_ADDRESS) ? \</span>
00205 <span class="preprocessor">        (*(volatile RECT * const)MM_USER_PROBE_ADDRESS) : (*(volatile RECT *)(Address)))</span>
00206 <span class="preprocessor"></span>
00207 <span class="comment">//++</span>
00208 <span class="comment">//</span>
00209 <span class="comment">// BOOLEAN</span>
00210 <span class="comment">// ProbeAndReadMessage(</span>
00211 <span class="comment">//     IN PMSG Address</span>
00212 <span class="comment">//     )</span>
00213 <span class="comment">//</span>
00214 <span class="comment">//--</span>
00215 
<a name="l00216"></a><a class="code" href="../../d4/d1/userk_8h.html#a32">00216</a> <span class="preprocessor">#define ProbeMessage(Address)                            \</span>
00217 <span class="preprocessor">    (((Address) &gt;= (MSG * const)MM_USER_PROBE_ADDRESS) ? \</span>
00218 <span class="preprocessor">        (*(volatile DWORD * const)MM_USER_PROBE_ADDRESS) : (*(volatile DWORD *)(Address)))</span>
00219 <span class="preprocessor"></span>
<a name="l00220"></a><a class="code" href="../../d4/d1/userk_8h.html#a33">00220</a> <span class="preprocessor">#define ProbeAndReadMessage(Address)                     \</span>
00221 <span class="preprocessor">    (((Address) &gt;= (MSG * const)MM_USER_PROBE_ADDRESS) ? \</span>
00222 <span class="preprocessor">        (*(volatile MSG * const)MM_USER_PROBE_ADDRESS) : (*(volatile MSG *)(Address)))</span>
00223 <span class="preprocessor"></span>
00224 <span class="comment">//++</span>
00225 <span class="comment">//</span>
00226 <span class="comment">// BOOLEAN</span>
00227 <span class="comment">// ProbeAndReadLargeString(</span>
00228 <span class="comment">//     IN PLARGE_STRING Address</span>
00229 <span class="comment">//     )</span>
00230 <span class="comment">//</span>
00231 <span class="comment">//--</span>
00232 
<a name="l00233"></a><a class="code" href="../../d4/d1/userk_8h.html#a34">00233</a> <span class="preprocessor">#define ProbeAndReadLargeString(Address)                          \</span>
00234 <span class="preprocessor">    (((Address) &gt;= (LARGE_STRING * const)MM_USER_PROBE_ADDRESS) ? \</span>
00235 <span class="preprocessor">        (*(volatile LARGE_STRING * const)MM_USER_PROBE_ADDRESS) : (*(volatile LARGE_STRING *)(Address)))</span>
00236 <span class="preprocessor"></span>
00237 <span class="comment">//++</span>
00238 <span class="comment">//</span>
00239 <span class="comment">// BOOLEAN</span>
00240 <span class="comment">// ProbeAndReadWindowPlacement(</span>
00241 <span class="comment">//     IN PWINDOWPLACEMENT Address</span>
00242 <span class="comment">//     )</span>
00243 <span class="comment">//</span>
00244 <span class="comment">//--</span>
00245 
<a name="l00246"></a><a class="code" href="../../d4/d1/userk_8h.html#a35">00246</a> <span class="preprocessor">#define ProbeAndReadWindowPlacement(Address)                         \</span>
00247 <span class="preprocessor">    (((Address) &gt;= (WINDOWPLACEMENT * const)MM_USER_PROBE_ADDRESS) ? \</span>
00248 <span class="preprocessor">        (*(volatile WINDOWPLACEMENT * const)MM_USER_PROBE_ADDRESS) : (*(volatile WINDOWPLACEMENT *)(Address)))</span>
00249 <span class="preprocessor"></span>
00250 <span class="comment">//++</span>
00251 <span class="comment">//</span>
00252 <span class="comment">// BOOLEAN</span>
00253 <span class="comment">// ProbeAndReadMenuItem(</span>
00254 <span class="comment">//     IN PMENUITEMINFO Address</span>
00255 <span class="comment">//     )</span>
00256 <span class="comment">//</span>
00257 <span class="comment">//--</span>
00258 
<a name="l00259"></a><a class="code" href="../../d4/d1/userk_8h.html#a36">00259</a> <span class="preprocessor">#define ProbeAndReadMenuItem(Address)                             \</span>
00260 <span class="preprocessor">    (((Address) &gt;= (MENUITEMINFO * const)MM_USER_PROBE_ADDRESS) ? \</span>
00261 <span class="preprocessor">        (*(volatile MENUITEMINFO * const)MM_USER_PROBE_ADDRESS) : (*(volatile MENUITEMINFO *)(Address)))</span>
00262 <span class="preprocessor"></span>
00263 <span class="comment">//++</span>
00264 <span class="comment">//</span>
00265 <span class="comment">// BOOLEAN</span>
00266 <span class="comment">// ProbeAndReadMenuInfo(</span>
00267 <span class="comment">//     IN PMENUINFO Address</span>
00268 <span class="comment">//     )</span>
00269 <span class="comment">//</span>
00270 <span class="comment">//--</span>
00271 
<a name="l00272"></a><a class="code" href="../../d4/d1/userk_8h.html#a37">00272</a> <span class="preprocessor">#define ProbeAndReadMenuInfo(Address)                             \</span>
00273 <span class="preprocessor">    (((Address) &gt;= (MENUINFO * const)MM_USER_PROBE_ADDRESS) ? \</span>
00274 <span class="preprocessor">        (*(volatile MENUINFO * const)MM_USER_PROBE_ADDRESS) : (*(volatile MENUINFO *)(Address)))</span>
00275 <span class="preprocessor"></span>
00276 <span class="comment">//++</span>
00277 <span class="comment">//</span>
00278 <span class="comment">// BOOLEAN</span>
00279 <span class="comment">// ProbeAndReadScrollInfo(</span>
00280 <span class="comment">//     IN PSCROLLINFO Address</span>
00281 <span class="comment">//     )</span>
00282 <span class="comment">//</span>
00283 <span class="comment">//--</span>
00284 
<a name="l00285"></a><a class="code" href="../../d4/d1/userk_8h.html#a38">00285</a> <span class="preprocessor">#define ProbeAndReadScrollInfo(Address)                         \</span>
00286 <span class="preprocessor">    (((Address) &gt;= (SCROLLINFO * const)MM_USER_PROBE_ADDRESS) ? \</span>
00287 <span class="preprocessor">        (*(volatile SCROLLINFO * const)MM_USER_PROBE_ADDRESS) : (*(volatile SCROLLINFO *)(Address)))</span>
00288 <span class="preprocessor"></span>
00289 <span class="comment">//++</span>
00290 <span class="comment">//</span>
00291 <span class="comment">// BOOLEAN</span>
00292 <span class="comment">// ProbeAndReadPopupParams(</span>
00293 <span class="comment">//     IN PTPMPARAMS Address</span>
00294 <span class="comment">//     )</span>
00295 <span class="comment">//</span>
00296 <span class="comment">//--</span>
00297 
<a name="l00298"></a><a class="code" href="../../d4/d1/userk_8h.html#a39">00298</a> <span class="preprocessor">#define ProbeAndReadPopupParams(Address)                       \</span>
00299 <span class="preprocessor">    (((Address) &gt;= (TPMPARAMS * const)MM_USER_PROBE_ADDRESS) ? \</span>
00300 <span class="preprocessor">        (*(volatile TPMPARAMS * const)MM_USER_PROBE_ADDRESS) : (*(volatile TPMPARAMS *)(Address)))</span>
00301 <span class="preprocessor"></span>
00302 <span class="comment">//++</span>
00303 <span class="comment">//</span>
00304 <span class="comment">// BOOLEAN</span>
00305 <span class="comment">// ProbeAndReadPaintStruct(</span>
00306 <span class="comment">//     IN PPAINTSTRUCT Address</span>
00307 <span class="comment">//     )</span>
00308 <span class="comment">//</span>
00309 <span class="comment">//--</span>
00310 
<a name="l00311"></a><a class="code" href="../../d4/d1/userk_8h.html#a40">00311</a> <span class="preprocessor">#define ProbeAndReadPaintStruct(Address)                         \</span>
00312 <span class="preprocessor">    (((Address) &gt;= (PAINTSTRUCT * const)MM_USER_PROBE_ADDRESS) ? \</span>
00313 <span class="preprocessor">        (*(volatile PAINTSTRUCT * const)MM_USER_PROBE_ADDRESS) : (*(volatile PAINTSTRUCT *)(Address)))</span>
00314 <span class="preprocessor"></span>
00315 <span class="comment">//++</span>
00316 <span class="comment">//</span>
00317 <span class="comment">// BOOLEAN</span>
00318 <span class="comment">// ProbeAndReadCreateStruct(</span>
00319 <span class="comment">//     IN PCREATESTRUCTW Address</span>
00320 <span class="comment">//     )</span>
00321 <span class="comment">//</span>
00322 <span class="comment">//--</span>
00323 
<a name="l00324"></a><a class="code" href="../../d4/d1/userk_8h.html#a41">00324</a> <span class="preprocessor">#define ProbeAndReadCreateStruct(Address)                          \</span>
00325 <span class="preprocessor">    (((Address) &gt;= (CREATESTRUCTW * const)MM_USER_PROBE_ADDRESS) ? \</span>
00326 <span class="preprocessor">        (*(volatile CREATESTRUCTW * const)MM_USER_PROBE_ADDRESS) : (*(volatile CREATESTRUCTW *)(Address)))</span>
00327 <span class="preprocessor"></span>
00328 <span class="comment">//++</span>
00329 <span class="comment">//</span>
00330 <span class="comment">// BOOLEAN</span>
00331 <span class="comment">// ProbeAndReadMDICreateStruct(</span>
00332 <span class="comment">//     IN PMDICREATESTRUCT Address</span>
00333 <span class="comment">//     )</span>
00334 <span class="comment">//</span>
00335 <span class="comment">//--</span>
00336 
<a name="l00337"></a><a class="code" href="../../d4/d1/userk_8h.html#a42">00337</a> <span class="preprocessor">#define ProbeAndReadMDICreateStruct(Address)                         \</span>
00338 <span class="preprocessor">    (((Address) &gt;= (MDICREATESTRUCT * const)MM_USER_PROBE_ADDRESS) ? \</span>
00339 <span class="preprocessor">        (*(volatile MDICREATESTRUCT * const)MM_USER_PROBE_ADDRESS) : (*(volatile MDICREATESTRUCT *)(Address)))</span>
00340 <span class="preprocessor"></span>
00341 <span class="comment">//++</span>
00342 <span class="comment">//</span>
00343 <span class="comment">// BOOLEAN</span>
00344 <span class="comment">// ProbeAndReadCopyDataStruct(</span>
00345 <span class="comment">//     IN PCOPYDATASTRUCT Address</span>
00346 <span class="comment">//     )</span>
00347 <span class="comment">//</span>
00348 <span class="comment">//--</span>
00349 
<a name="l00350"></a><a class="code" href="../../d4/d1/userk_8h.html#a43">00350</a> <span class="preprocessor">#define ProbeAndReadCopyDataStruct(Address)                         \</span>
00351 <span class="preprocessor">    (((Address) &gt;= (COPYDATASTRUCT * const)MM_USER_PROBE_ADDRESS) ? \</span>
00352 <span class="preprocessor">        (*(volatile COPYDATASTRUCT * const)MM_USER_PROBE_ADDRESS) : (*(volatile COPYDATASTRUCT *)(Address)))</span>
00353 <span class="preprocessor"></span>
00354 <span class="comment">//++</span>
00355 <span class="comment">//</span>
00356 <span class="comment">// BOOLEAN</span>
00357 <span class="comment">// ProbeAndReadCompareItemStruct(</span>
00358 <span class="comment">//     IN PCOMPAREITEMSTRUCT Address</span>
00359 <span class="comment">//     )</span>
00360 <span class="comment">//</span>
00361 <span class="comment">//--</span>
00362 
<a name="l00363"></a><a class="code" href="../../d4/d1/userk_8h.html#a44">00363</a> <span class="preprocessor">#define ProbeAndReadCompareItemStruct(Address)                         \</span>
00364 <span class="preprocessor">    (((Address) &gt;= (COMPAREITEMSTRUCT * const)MM_USER_PROBE_ADDRESS) ? \</span>
00365 <span class="preprocessor">        (*(volatile COMPAREITEMSTRUCT * const)MM_USER_PROBE_ADDRESS) : (*(volatile COMPAREITEMSTRUCT *)(Address)))</span>
00366 <span class="preprocessor"></span>
00367 <span class="comment">//++</span>
00368 <span class="comment">//</span>
00369 <span class="comment">// BOOLEAN</span>
00370 <span class="comment">// ProbeAndReadDeleteItemStruct(</span>
00371 <span class="comment">//     IN PDELETEITEMSTRUCT Address</span>
00372 <span class="comment">//     )</span>
00373 <span class="comment">//</span>
00374 <span class="comment">//--</span>
00375 
<a name="l00376"></a><a class="code" href="../../d4/d1/userk_8h.html#a45">00376</a> <span class="preprocessor">#define ProbeAndReadDeleteItemStruct(Address)                         \</span>
00377 <span class="preprocessor">    (((Address) &gt;= (DELETEITEMSTRUCT * const)MM_USER_PROBE_ADDRESS) ? \</span>
00378 <span class="preprocessor">        (*(volatile DELETEITEMSTRUCT * const)MM_USER_PROBE_ADDRESS) : (*(volatile DELETEITEMSTRUCT *)(Address)))</span>
00379 <span class="preprocessor"></span>
00380 <span class="comment">//++</span>
00381 <span class="comment">//</span>
00382 <span class="comment">// BOOLEAN</span>
00383 <span class="comment">// ProbeAndReadHelp(</span>
00384 <span class="comment">//     IN PHLP Address</span>
00385 <span class="comment">//     )</span>
00386 <span class="comment">//</span>
00387 <span class="comment">//--</span>
00388 
<a name="l00389"></a><a class="code" href="../../d4/d1/userk_8h.html#a46">00389</a> <span class="preprocessor">#define ProbeAndReadHelp(Address)                        \</span>
00390 <span class="preprocessor">    (((Address) &gt;= (HLP * const)MM_USER_PROBE_ADDRESS) ? \</span>
00391 <span class="preprocessor">        (*(volatile HLP * const)MM_USER_PROBE_ADDRESS) : (*(volatile HLP *)(Address)))</span>
00392 <span class="preprocessor"></span>
00393 <span class="comment">//++</span>
00394 <span class="comment">//</span>
00395 <span class="comment">// BOOLEAN</span>
00396 <span class="comment">// ProbeAndReadHelpInfo(</span>
00397 <span class="comment">//     IN PHELPINFO Address</span>
00398 <span class="comment">//     )</span>
00399 <span class="comment">//</span>
00400 <span class="comment">//--</span>
00401 
<a name="l00402"></a><a class="code" href="../../d4/d1/userk_8h.html#a47">00402</a> <span class="preprocessor">#define ProbeAndReadHelpInfo(Address)                         \</span>
00403 <span class="preprocessor">    (((Address) &gt;= (HELPINFO * const)MM_USER_PROBE_ADDRESS) ? \</span>
00404 <span class="preprocessor">        (*(volatile HELPINFO * const)MM_USER_PROBE_ADDRESS) : (*(volatile HELPINFO *)(Address)))</span>
00405 <span class="preprocessor"></span>
00406 <span class="comment">//++</span>
00407 <span class="comment">//</span>
00408 <span class="comment">// BOOLEAN</span>
00409 <span class="comment">// ProbeAndReadDrawItemStruct(</span>
00410 <span class="comment">//     IN PDRAWITEMSTRUCT Address</span>
00411 <span class="comment">//     )</span>
00412 <span class="comment">//</span>
00413 <span class="comment">//--</span>
00414 
<a name="l00415"></a><a class="code" href="../../d4/d1/userk_8h.html#a48">00415</a> <span class="preprocessor">#define ProbeAndReadDrawItemStruct(Address)                         \</span>
00416 <span class="preprocessor">    (((Address) &gt;= (DRAWITEMSTRUCT * const)MM_USER_PROBE_ADDRESS) ? \</span>
00417 <span class="preprocessor">        (*(volatile DRAWITEMSTRUCT * const)MM_USER_PROBE_ADDRESS) : (*(volatile DRAWITEMSTRUCT *)(Address)))</span>
00418 <span class="preprocessor"></span>
00419 <span class="comment">//++</span>
00420 <span class="comment">//</span>
00421 <span class="comment">// BOOLEAN</span>
00422 <span class="comment">// ProbeAndReadHookInfo(</span>
00423 <span class="comment">//     IN PDEBUGHOOKINFO Address</span>
00424 <span class="comment">//     )</span>
00425 <span class="comment">//</span>
00426 <span class="comment">//--</span>
00427 
<a name="l00428"></a><a class="code" href="../../d4/d1/userk_8h.html#a49">00428</a> <span class="preprocessor">#define ProbeAndReadHookInfo(Address)                              \</span>
00429 <span class="preprocessor">    (((Address) &gt;= (DEBUGHOOKINFO * const)MM_USER_PROBE_ADDRESS) ? \</span>
00430 <span class="preprocessor">        (*(volatile DEBUGHOOKINFO * const)MM_USER_PROBE_ADDRESS) : (*(volatile DEBUGHOOKINFO *)(Address)))</span>
00431 <span class="preprocessor"></span>
00432 <span class="comment">//++</span>
00433 <span class="comment">//</span>
00434 <span class="comment">// BOOLEAN</span>
00435 <span class="comment">// ProbeAndReadCBTActivateStruct(</span>
00436 <span class="comment">//     IN PCBTACTIVATESTRUCT Address</span>
00437 <span class="comment">//     )</span>
00438 <span class="comment">//</span>
00439 <span class="comment">//--</span>
00440 
<a name="l00441"></a><a class="code" href="../../d4/d1/userk_8h.html#a50">00441</a> <span class="preprocessor">#define ProbeAndReadCBTActivateStruct(Address)                         \</span>
00442 <span class="preprocessor">    (((Address) &gt;= (CBTACTIVATESTRUCT * const)MM_USER_PROBE_ADDRESS) ? \</span>
00443 <span class="preprocessor">        (*(volatile CBTACTIVATESTRUCT * const)MM_USER_PROBE_ADDRESS) : (*(volatile CBTACTIVATESTRUCT *)(Address)))</span>
00444 <span class="preprocessor"></span>
00445 <span class="comment">//++</span>
00446 <span class="comment">//</span>
00447 <span class="comment">// BOOLEAN</span>
00448 <span class="comment">// ProbeAndReadKbdHook(</span>
00449 <span class="comment">//     IN PKBDHOOKSTRUCT Address</span>
00450 <span class="comment">//     )</span>
00451 <span class="comment">//</span>
00452 <span class="comment">//--</span>
00453 
<a name="l00454"></a><a class="code" href="../../d4/d1/userk_8h.html#a51">00454</a> <span class="preprocessor">#define ProbeAndReadKbdHook(Address)                               \</span>
00455 <span class="preprocessor">    (((Address) &gt;= (KBDLLHOOKSTRUCT * const)MM_USER_PROBE_ADDRESS) ? \</span>
00456 <span class="preprocessor">        (*(volatile KBDLLHOOKSTRUCT * const)MM_USER_PROBE_ADDRESS) : (*(volatile KBDLLHOOKSTRUCT *)(Address)))</span>
00457 <span class="preprocessor"></span><span class="comment">//++</span>
00458 <span class="comment">//</span>
00459 <span class="comment">// BOOLEAN</span>
00460 <span class="comment">// ProbeAndReadMsllHook(</span>
00461 <span class="comment">//     IN PMSLLHOOKSTRUCT Address</span>
00462 <span class="comment">//     )</span>
00463 <span class="comment">//</span>
00464 <span class="comment">//--</span>
00465 
<a name="l00466"></a><a class="code" href="../../d4/d1/userk_8h.html#a52">00466</a> <span class="preprocessor">#define ProbeAndReadMsllHook(Address)                               \</span>
00467 <span class="preprocessor">    (((Address) &gt;= (MSLLHOOKSTRUCT * const)MM_USER_PROBE_ADDRESS) ? \</span>
00468 <span class="preprocessor">        (*(volatile MSLLHOOKSTRUCT * const)MM_USER_PROBE_ADDRESS) : (*(volatile MSLLHOOKSTRUCT *)(Address)))</span>
00469 <span class="preprocessor"></span>
00470 <span class="comment">//++</span>
00471 <span class="comment">//</span>
00472 <span class="comment">// BOOLEAN</span>
00473 <span class="comment">// ProbeAndReadMouseHook(</span>
00474 <span class="comment">//     IN PMOUSEHOOKSTRUCTEX Address</span>
00475 <span class="comment">//     )</span>
00476 <span class="comment">//</span>
00477 <span class="comment">//--</span>
00478 
<a name="l00479"></a><a class="code" href="../../d4/d1/userk_8h.html#a53">00479</a> <span class="preprocessor">#define ProbeAndReadMouseHook(Address)                               \</span>
00480 <span class="preprocessor">    (((Address) &gt;= (MOUSEHOOKSTRUCTEX * const)MM_USER_PROBE_ADDRESS) ? \</span>
00481 <span class="preprocessor">        (*(volatile MOUSEHOOKSTRUCTEX * const)MM_USER_PROBE_ADDRESS) : (*(volatile MOUSEHOOKSTRUCTEX *)(Address)))</span>
00482 <span class="preprocessor"></span>
00483 
00484 <span class="preprocessor">#ifdef REDIRECTION</span>
00485 <span class="preprocessor"></span>
00486 <span class="comment">//++</span>
00487 <span class="comment">//</span>
00488 <span class="comment">// BOOLEAN</span>
00489 <span class="comment">// ProbeAndReadHTHook(</span>
00490 <span class="comment">//     IN PHTHOOKSTRUCT Address</span>
00491 <span class="comment">//     )</span>
00492 <span class="comment">//</span>
00493 <span class="comment">//--</span>
00494 
00495 <span class="preprocessor">#define ProbeAndReadHTHook(Address)                               \</span>
00496 <span class="preprocessor">    (((Address) &gt;= (HTHOOKSTRUCT * const)MM_USER_PROBE_ADDRESS) ? \</span>
00497 <span class="preprocessor">        (*(volatile HTHOOKSTRUCT * const)MM_USER_PROBE_ADDRESS) : (*(volatile HTHOOKSTRUCT *)(Address)))</span>
00498 <span class="preprocessor"></span>
00499 <span class="preprocessor">#endif // REDIRECTION</span>
00500 <span class="preprocessor"></span>
00501 <span class="comment">//++</span>
00502 <span class="comment">//</span>
00503 <span class="comment">// BOOLEAN</span>
00504 <span class="comment">// ProbeAndReadCBTCreateStruct(</span>
00505 <span class="comment">//     IN PCBT_CREATEWND Address</span>
00506 <span class="comment">//     )</span>
00507 <span class="comment">//</span>
00508 <span class="comment">//--</span>
00509 
<a name="l00510"></a><a class="code" href="../../d4/d1/userk_8h.html#a54">00510</a> <span class="preprocessor">#define ProbeAndReadCBTCreateStruct(Address)                       \</span>
00511 <span class="preprocessor">    (((Address) &gt;= (CBT_CREATEWND * const)MM_USER_PROBE_ADDRESS) ? \</span>
00512 <span class="preprocessor">        (*(volatile CBT_CREATEWND * const)MM_USER_PROBE_ADDRESS) : (*(volatile CBT_CREATEWND *)(Address)))</span>
00513 <span class="preprocessor"></span>
00514 <span class="comment">//++</span>
00515 <span class="comment">//</span>
00516 <span class="comment">// BOOLEAN</span>
00517 <span class="comment">// ProbeAndReadTrackMouseEvent(</span>
00518 <span class="comment">//     IN LPTRACKMOUSEEVENT Address</span>
00519 <span class="comment">//     )</span>
00520 <span class="comment">//</span>
00521 <span class="comment">//--</span>
00522 
<a name="l00523"></a><a class="code" href="../../d4/d1/userk_8h.html#a55">00523</a> <span class="preprocessor">#define ProbeAndReadTrackMouseEvent(Address) \</span>
00524 <span class="preprocessor">    (((Address) &gt;= (TRACKMOUSEEVENT * const)MM_USER_PROBE_ADDRESS) ? \</span>
00525 <span class="preprocessor">        (*(volatile TRACKMOUSEEVENT * const)MM_USER_PROBE_ADDRESS) : (*(volatile TRACKMOUSEEVENT *)(Address)))</span>
00526 <span class="preprocessor"></span>
00527 <span class="comment">//++</span>
00528 <span class="comment">//</span>
00529 <span class="comment">// BOOLEAN</span>
00530 <span class="comment">// ProbeAndReadWindowPos(</span>
00531 <span class="comment">//     IN PWINDOWPOS Address</span>
00532 <span class="comment">//     )</span>
00533 <span class="comment">//</span>
00534 <span class="comment">//--</span>
00535 
<a name="l00536"></a><a class="code" href="../../d4/d1/userk_8h.html#a56">00536</a> <span class="preprocessor">#define ProbeAndReadWindowPos(Address) \</span>
00537 <span class="preprocessor">    (((Address) &gt;= (WINDOWPOS * const)MM_USER_PROBE_ADDRESS) ? \</span>
00538 <span class="preprocessor">        (*(volatile WINDOWPOS * const)MM_USER_PROBE_ADDRESS) : (*(volatile WINDOWPOS *)(Address)))</span>
00539 <span class="preprocessor"></span>
00540 <span class="comment">//++</span>
00541 <span class="comment">//</span>
00542 <span class="comment">// BOOLEAN</span>
00543 <span class="comment">// ProbeAndReadCursorFind(</span>
00544 <span class="comment">//     IN PCURSORFIND Address</span>
00545 <span class="comment">//     )</span>
00546 <span class="comment">//</span>
00547 <span class="comment">//--</span>
00548 
<a name="l00549"></a><a class="code" href="../../d4/d1/userk_8h.html#a57">00549</a> <span class="preprocessor">#define ProbeAndReadCursorFind(Address) \</span>
00550 <span class="preprocessor">    (((Address) &gt;= (CURSORFIND * const)MM_USER_PROBE_ADDRESS) ? \</span>
00551 <span class="preprocessor">        (*(volatile CURSORFIND * const)MM_USER_PROBE_ADDRESS) : (*(volatile CURSORFIND *)(Address)))</span>
00552 <span class="preprocessor"></span>
00553 <span class="comment">//++</span>
00554 <span class="comment">//</span>
00555 <span class="comment">// BOOLEAN</span>
00556 <span class="comment">// ProbeAndReadSetClipBData(</span>
00557 <span class="comment">//     IN PSETCLIPBDATA Address</span>
00558 <span class="comment">//     )</span>
00559 <span class="comment">//</span>
00560 <span class="comment">//--</span>
00561 
<a name="l00562"></a><a class="code" href="../../d4/d1/userk_8h.html#a58">00562</a> <span class="preprocessor">#define ProbeAndReadSetClipBData(Address) \</span>
00563 <span class="preprocessor">    (((Address) &gt;= (SETCLIPBDATA * const)MM_USER_PROBE_ADDRESS) ? \</span>
00564 <span class="preprocessor">        (*(volatile SETCLIPBDATA * const)MM_USER_PROBE_ADDRESS) : (*(volatile SETCLIPBDATA *)(Address)))</span>
00565 <span class="preprocessor"></span>
00566 <span class="comment">//++</span>
00567 <span class="comment">//</span>
00568 <span class="comment">// BOOLEAN</span>
00569 <span class="comment">// ProbeAndReadBroadcastSystemMsgParams(</span>
00570 <span class="comment">//     IN LPBROADCASTSYSTEMMSGPARAMS Address</span>
00571 <span class="comment">//     )</span>
00572 <span class="comment">//</span>
00573 <span class="comment">//--</span>
00574 
<a name="l00575"></a><a class="code" href="../../d4/d1/userk_8h.html#a59">00575</a> <span class="preprocessor">#define ProbeAndReadBroadcastSystemMsgParams(Address) \</span>
00576 <span class="preprocessor">    (((Address) &gt;= (BROADCASTSYSTEMMSGPARAMS * const)MM_USER_PROBE_ADDRESS) ? \</span>
00577 <span class="preprocessor">        (*(volatile BROADCASTSYSTEMMSGPARAMS * const)MM_USER_PROBE_ADDRESS) : (*(volatile BROADCASTSYSTEMMSGPARAMS *)(Address)))</span>
00578 <span class="preprocessor"></span>
00579 <span class="comment">//++</span>
00580 <span class="comment">//</span>
00581 <span class="comment">// BOOLEAN</span>
00582 <span class="comment">// ProbeAndReadCursorData(</span>
00583 <span class="comment">//     IN PCURSORDATA Address</span>
00584 <span class="comment">//     )</span>
00585 <span class="comment">//</span>
00586 <span class="comment">//--</span>
00587 
<a name="l00588"></a><a class="code" href="../../d4/d1/userk_8h.html#a60">00588</a> <span class="preprocessor">#define ProbeAndReadCursorData(Address) \</span>
00589 <span class="preprocessor">    (((Address) &gt;= (CURSORDATA * const)MM_USER_PROBE_ADDRESS) ? \</span>
00590 <span class="preprocessor">        (*(volatile CURSORDATA * const)MM_USER_PROBE_ADDRESS) : (*(volatile CURSORDATA *)(Address)))</span>
00591 <span class="preprocessor"></span>
00592 <span class="comment">//++</span>
00593 <span class="comment">//</span>
00594 <span class="comment">// BOOLEAN</span>
00595 <span class="comment">// ProbeForReadUnicodeStringBuffer(</span>
00596 <span class="comment">//     IN UNICODE_STRING String</span>
00597 <span class="comment">//     )</span>
00598 <span class="comment">//</span>
00599 <span class="comment">//--</span>
00600 
00601 <span class="preprocessor">#if defined(_X86_)</span>
00602 <span class="preprocessor"></span><span class="preprocessor">#define ProbeForReadUnicodeStringBuffer(String)                                                          \</span>
00603 <span class="preprocessor">    if (((ULONG_PTR)((String).Buffer) &amp; (sizeof(BYTE) - 1)) != 0) {                                   \</span>
00604 <span class="preprocessor">        ExRaiseDatatypeMisalignment();                                                            \</span>
00605 <span class="preprocessor">    } else if ((((ULONG_PTR)((String).Buffer) + ((String).Length) + sizeof(UNICODE_NULL)) &lt; (ULONG_PTR)((String).Buffer)) ||     \</span>
00606 <span class="preprocessor">               (((ULONG_PTR)((String).Buffer) + ((String).Length) + sizeof(UNICODE_NULL)) &gt; (ULONG_PTR)MM_USER_PROBE_ADDRESS)) { \</span>
00607 <span class="preprocessor">        ExRaiseAccessViolation();                                                                 \</span>
00608 <span class="preprocessor">    } else if (((String).Length) &gt; ((String).MaximumLength)) {                                    \</span>
00609 <span class="preprocessor">        ExRaiseAccessViolation();                                                                 \</span>
00610 <span class="preprocessor">    }</span>
00611 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00612"></a><a class="code" href="../../d4/d1/userk_8h.html#a61">00612</a> <span class="preprocessor"></span><span class="preprocessor">#define ProbeForReadUnicodeStringBuffer(String)                                                          \</span>
00613 <span class="preprocessor">    if (((ULONG_PTR)((String).Buffer) &amp; (sizeof(WCHAR) - 1)) != 0) {                                  \</span>
00614 <span class="preprocessor">        ExRaiseDatatypeMisalignment();                                                            \</span>
00615 <span class="preprocessor">    } else if ((((ULONG_PTR)((String).Buffer) + ((String).Length) + sizeof(UNICODE_NULL)) &lt; (ULONG_PTR)((String).Buffer)) ||     \</span>
00616 <span class="preprocessor">               (((ULONG_PTR)((String).Buffer) + ((String).Length) + sizeof(UNICODE_NULL)) &gt; (ULONG_PTR)MM_USER_PROBE_ADDRESS)) { \</span>
00617 <span class="preprocessor">        ExRaiseAccessViolation();                                                                 \</span>
00618 <span class="preprocessor">    } else if (((String).Length) &gt; ((String).MaximumLength)) {                                    \</span>
00619 <span class="preprocessor">        ExRaiseAccessViolation();                                                                 \</span>
00620 <span class="preprocessor">    }</span>
00621 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00622 <span class="preprocessor"></span>
00623 <span class="preprocessor">#if defined(_X86_)</span>
00624 <span class="preprocessor"></span><span class="preprocessor">#define ProbeForReadUnicodeStringFullBuffer(String)                                                          \</span>
00625 <span class="preprocessor">    if (((ULONG_PTR)((String).Buffer) &amp; (sizeof(BYTE) - 1)) != 0) {                                   \</span>
00626 <span class="preprocessor">        ExRaiseDatatypeMisalignment();                                                            \</span>
00627 <span class="preprocessor">    } else if ((((ULONG_PTR)((String).Buffer) + ((String).MaximumLength)) &lt; (ULONG_PTR)((String).Buffer)) ||     \</span>
00628 <span class="preprocessor">               (((ULONG_PTR)((String).Buffer) + ((String).MaximumLength)) &gt; (ULONG_PTR)MM_USER_PROBE_ADDRESS)) { \</span>
00629 <span class="preprocessor">        ExRaiseAccessViolation();                                                                 \</span>
00630 <span class="preprocessor">    } else if (((String).Length) &gt; ((String).MaximumLength)) {                                    \</span>
00631 <span class="preprocessor">        ExRaiseAccessViolation();                                                                 \</span>
00632 <span class="preprocessor">    }</span>
00633 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00634"></a><a class="code" href="../../d4/d1/userk_8h.html#a62">00634</a> <span class="preprocessor"></span><span class="preprocessor">#define ProbeForReadUnicodeStringFullBuffer(String)                                                          \</span>
00635 <span class="preprocessor">    if (((ULONG_PTR)((String).Buffer) &amp; (sizeof(WCHAR) - 1)) != 0) {                                  \</span>
00636 <span class="preprocessor">        ExRaiseDatatypeMisalignment();                                                            \</span>
00637 <span class="preprocessor">    } else if ((((ULONG_PTR)((String).Buffer) + ((String).MaximumLength)) &lt; (ULONG_PTR)((String).Buffer)) ||     \</span>
00638 <span class="preprocessor">               (((ULONG_PTR)((String).Buffer) + ((String).MaximumLength)) &gt; (ULONG_PTR)MM_USER_PROBE_ADDRESS)) { \</span>
00639 <span class="preprocessor">        ExRaiseAccessViolation();                                                                 \</span>
00640 <span class="preprocessor">    } else if (((String).Length) &gt; ((String).MaximumLength)) {                                    \</span>
00641 <span class="preprocessor">        ExRaiseAccessViolation();                                                                 \</span>
00642 <span class="preprocessor">    }</span>
00643 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00644 <span class="preprocessor"></span>
00645 <span class="comment">//++</span>
00646 <span class="comment">//</span>
00647 <span class="comment">// BOOLEAN</span>
00648 <span class="comment">// ProbeForReadUnicodeStringBufferOrId(</span>
00649 <span class="comment">//     IN UNICODE_STRING String</span>
00650 <span class="comment">//     )</span>
00651 <span class="comment">//</span>
00652 <span class="comment">//--</span>
00653 
<a name="l00654"></a><a class="code" href="../../d4/d1/userk_8h.html#a63">00654</a> <span class="preprocessor">#define ProbeForReadUnicodeStringBufferOrId(String) \</span>
00655 <span class="preprocessor">    if (IS_PTR((String).Buffer)) {           \</span>
00656 <span class="preprocessor">        ProbeForReadUnicodeStringBuffer(String);    \</span>
00657 <span class="preprocessor">    }</span>
00658 <span class="preprocessor"></span>
00659     <span class="comment">//++</span>
00660     <span class="comment">//</span>
00661     <span class="comment">// BOOLEAN</span>
00662     <span class="comment">// ProbeAndReadCandidateForm(</span>
00663     <span class="comment">//     IN PCANDIDATEFORM Address</span>
00664     <span class="comment">//     )</span>
00665     <span class="comment">//</span>
00666     <span class="comment">//--</span>
00667 
<a name="l00668"></a><a class="code" href="../../d4/d1/userk_8h.html#a64">00668</a> <span class="preprocessor">    #define ProbeAndReadCandidateForm(Address) \</span>
00669 <span class="preprocessor">        (((Address) &gt;= (CANDIDATEFORM * const)MM_USER_PROBE_ADDRESS) ? \</span>
00670 <span class="preprocessor">            (*(volatile CANDIDATEFORM * const)MM_USER_PROBE_ADDRESS) : (*(volatile CANDIDATEFORM *)(Address)))</span>
00671 <span class="preprocessor"></span>
00672     <span class="comment">//++</span>
00673     <span class="comment">//</span>
00674     <span class="comment">// BOOLEAN</span>
00675     <span class="comment">// ProbeAndReadCompositionForm(</span>
00676     <span class="comment">//     IN PCANDIDATEFORM Address</span>
00677     <span class="comment">//     )</span>
00678     <span class="comment">//</span>
00679     <span class="comment">//--</span>
00680 
<a name="l00681"></a><a class="code" href="../../d4/d1/userk_8h.html#a65">00681</a> <span class="preprocessor">    #define ProbeAndReadCompositionForm(Address) \</span>
00682 <span class="preprocessor">        (((Address) &gt;= (COMPOSITIONFORM * const)MM_USER_PROBE_ADDRESS) ? \</span>
00683 <span class="preprocessor">            (*(volatile COMPOSITIONFORM * const)MM_USER_PROBE_ADDRESS) : (*(volatile COMPOSITIONFORM *)(Address)))</span>
00684 <span class="preprocessor"></span>
00685     <span class="comment">//++</span>
00686     <span class="comment">//</span>
00687     <span class="comment">// BOOLEAN</span>
00688     <span class="comment">// ProbeAndReadLogFontW(</span>
00689     <span class="comment">//     IN PLOGFONTA Address</span>
00690     <span class="comment">//     )</span>
00691     <span class="comment">//</span>
00692     <span class="comment">//--</span>
00693 
<a name="l00694"></a><a class="code" href="../../d4/d1/userk_8h.html#a66">00694</a> <span class="preprocessor">    #define ProbeAndReadLogFontW(Address) \</span>
00695 <span class="preprocessor">        (((Address) &gt;= (LOGFONTW * const)MM_USER_PROBE_ADDRESS) ? \</span>
00696 <span class="preprocessor">            (*(volatile LOGFONTW * const)MM_USER_PROBE_ADDRESS) : (*(volatile LOGFONTW *)(Address)))</span>
00697 <span class="preprocessor"></span>
00698 
00699 <span class="comment">//++</span>
00700 <span class="comment">//</span>
00701 <span class="comment">// VOID</span>
00702 <span class="comment">// ProbeForWritePoint(</span>
00703 <span class="comment">//     IN PPOINT Address</span>
00704 <span class="comment">//     )</span>
00705 <span class="comment">//</span>
00706 <span class="comment">//--</span>
00707 
<a name="l00708"></a><a class="code" href="../../d4/d1/userk_8h.html#a67">00708</a> <span class="preprocessor">#define ProbeForWritePoint(Address) {                                        \</span>
00709 <span class="preprocessor">    if ((Address) &gt;= (POINT * const)MM_USER_PROBE_ADDRESS) {                 \</span>
00710 <span class="preprocessor">        *(volatile ULONG * const)MM_USER_PROBE_ADDRESS = 0;                  \</span>
00711 <span class="preprocessor">    }                                                                        \</span>
00712 <span class="preprocessor">                                                                             \</span>
00713 <span class="preprocessor">    *(volatile POINT *)(Address) = *(volatile POINT *)(Address);             \</span>
00714 <span class="preprocessor">}</span>
00715 <span class="preprocessor"></span>
00716 <span class="comment">//++</span>
00717 <span class="comment">//</span>
00718 <span class="comment">// VOID</span>
00719 <span class="comment">// ProbeForWriteRect(</span>
00720 <span class="comment">//     IN PRECT Address</span>
00721 <span class="comment">//     )</span>
00722 <span class="comment">//</span>
00723 <span class="comment">//--</span>
00724 
<a name="l00725"></a><a class="code" href="../../d4/d1/userk_8h.html#a68">00725</a> <span class="preprocessor">#define ProbeForWriteRect(Address) {                                         \</span>
00726 <span class="preprocessor">    if ((Address) &gt;= (RECT * const)MM_USER_PROBE_ADDRESS) {                  \</span>
00727 <span class="preprocessor">        *(volatile ULONG * const)MM_USER_PROBE_ADDRESS = 0;                  \</span>
00728 <span class="preprocessor">    }                                                                        \</span>
00729 <span class="preprocessor">                                                                             \</span>
00730 <span class="preprocessor">    *(volatile RECT *)(Address) = *(volatile RECT *)(Address);               \</span>
00731 <span class="preprocessor">}</span>
00732 <span class="preprocessor"></span>
00733 <span class="comment">//++</span>
00734 <span class="comment">//</span>
00735 <span class="comment">// VOID</span>
00736 <span class="comment">// ProbeForWriteMessage(</span>
00737 <span class="comment">//     IN PMSG Address</span>
00738 <span class="comment">//     )</span>
00739 <span class="comment">//</span>
00740 <span class="comment">//--</span>
00741 
<a name="l00742"></a><a class="code" href="../../d4/d1/userk_8h.html#a69">00742</a> <span class="preprocessor">#define ProbeForWriteMessage(Address) {                                      \</span>
00743 <span class="preprocessor">    if ((Address) &gt;= (MSG * const)MM_USER_PROBE_ADDRESS) {                   \</span>
00744 <span class="preprocessor">        *(volatile ULONG * const)MM_USER_PROBE_ADDRESS = 0;                  \</span>
00745 <span class="preprocessor">    }                                                                        \</span>
00746 <span class="preprocessor">                                                                             \</span>
00747 <span class="preprocessor">    *(volatile MSG *)(Address) = *(volatile MSG *)(Address);                 \</span>
00748 <span class="preprocessor">}</span>
00749 <span class="preprocessor"></span>
00750 <span class="comment">//++</span>
00751 <span class="comment">//</span>
00752 <span class="comment">// VOID</span>
00753 <span class="comment">// ProbeForWritePaintStruct(</span>
00754 <span class="comment">//     IN PPAINTSTRUCT Address</span>
00755 <span class="comment">//     )</span>
00756 <span class="comment">//</span>
00757 <span class="comment">//--</span>
00758 
<a name="l00759"></a><a class="code" href="../../d4/d1/userk_8h.html#a70">00759</a> <span class="preprocessor">#define ProbeForWritePaintStruct(Address) {                                  \</span>
00760 <span class="preprocessor">    if ((Address) &gt;= (PAINTSTRUCT * const)MM_USER_PROBE_ADDRESS) {           \</span>
00761 <span class="preprocessor">        *(volatile ULONG * const)MM_USER_PROBE_ADDRESS = 0;                  \</span>
00762 <span class="preprocessor">    }                                                                        \</span>
00763 <span class="preprocessor">                                                                             \</span>
00764 <span class="preprocessor">    *(volatile PAINTSTRUCT *)(Address) = *(volatile PAINTSTRUCT *)(Address); \</span>
00765 <span class="preprocessor">}</span>
00766 <span class="preprocessor"></span>
00767 <span class="comment">//++</span>
00768 <span class="comment">//</span>
00769 <span class="comment">// VOID</span>
00770 <span class="comment">// ProbeForWriteDropStruct(</span>
00771 <span class="comment">//     IN PDROPSTRUCT Address</span>
00772 <span class="comment">//     )</span>
00773 <span class="comment">//</span>
00774 <span class="comment">//--</span>
00775 
<a name="l00776"></a><a class="code" href="../../d4/d1/userk_8h.html#a71">00776</a> <span class="preprocessor">#define ProbeForWriteDropStruct(Address) {                                   \</span>
00777 <span class="preprocessor">    if ((Address) &gt;= (DROPSTRUCT * const)MM_USER_PROBE_ADDRESS) {            \</span>
00778 <span class="preprocessor">        *(volatile ULONG * const)MM_USER_PROBE_ADDRESS = 0;                  \</span>
00779 <span class="preprocessor">    }                                                                        \</span>
00780 <span class="preprocessor">                                                                             \</span>
00781 <span class="preprocessor">    *(volatile DROPSTRUCT *)(Address) = *(volatile DROPSTRUCT *)(Address);   \</span>
00782 <span class="preprocessor">}</span>
00783 <span class="preprocessor"></span>
00784 <span class="comment">//++</span>
00785 <span class="comment">//</span>
00786 <span class="comment">// VOID</span>
00787 <span class="comment">// ProbeForWriteScrollInfo(</span>
00788 <span class="comment">//     IN PSCROLLINFO Address</span>
00789 <span class="comment">//     )</span>
00790 <span class="comment">//</span>
00791 <span class="comment">//--</span>
00792 
<a name="l00793"></a><a class="code" href="../../d4/d1/userk_8h.html#a72">00793</a> <span class="preprocessor">#define ProbeForWriteScrollInfo(Address) {                                   \</span>
00794 <span class="preprocessor">    if ((Address) &gt;= (SCROLLINFO * const)MM_USER_PROBE_ADDRESS) {            \</span>
00795 <span class="preprocessor">        *(volatile ULONG * const)MM_USER_PROBE_ADDRESS = 0;                  \</span>
00796 <span class="preprocessor">    }                                                                        \</span>
00797 <span class="preprocessor">                                                                             \</span>
00798 <span class="preprocessor">    *(volatile SCROLLINFO *)(Address) = *(volatile SCROLLINFO *)(Address);   \</span>
00799 <span class="preprocessor">}</span>
00800 <span class="preprocessor"></span>
00801 <span class="comment">//++</span>
00802 <span class="comment">//</span>
00803 <span class="comment">// VOID</span>
00804 <span class="comment">// ProbeForWriteStyleStruct(</span>
00805 <span class="comment">//     IN PSTYLESTRUCT Address</span>
00806 <span class="comment">//     )</span>
00807 <span class="comment">//</span>
00808 <span class="comment">//--</span>
00809 
<a name="l00810"></a><a class="code" href="../../d4/d1/userk_8h.html#a73">00810</a> <span class="preprocessor">#define ProbeForWriteStyleStruct(Address) {                                  \</span>
00811 <span class="preprocessor">    if ((Address) &gt;= (STYLESTRUCT * const)MM_USER_PROBE_ADDRESS) {           \</span>
00812 <span class="preprocessor">        *(volatile ULONG * const)MM_USER_PROBE_ADDRESS = 0;                  \</span>
00813 <span class="preprocessor">    }                                                                        \</span>
00814 <span class="preprocessor">                                                                             \</span>
00815 <span class="preprocessor">    *(volatile STYLESTRUCT *)(Address) = *(volatile STYLESTRUCT *)(Address); \</span>
00816 <span class="preprocessor">}</span>
00817 <span class="preprocessor"></span>
00818 <span class="comment">//++</span>
00819 <span class="comment">//</span>
00820 <span class="comment">// VOID</span>
00821 <span class="comment">// ProbeForWriteMeasureItemStruct(</span>
00822 <span class="comment">//     IN PMEASUREITEMSTRUCT Address</span>
00823 <span class="comment">//     )</span>
00824 <span class="comment">//</span>
00825 <span class="comment">//--</span>
00826 
<a name="l00827"></a><a class="code" href="../../d4/d1/userk_8h.html#a74">00827</a> <span class="preprocessor">#define ProbeForWriteMeasureItemStruct(Address) {                                       \</span>
00828 <span class="preprocessor">    if ((Address) &gt;= (MEASUREITEMSTRUCT * const)MM_USER_PROBE_ADDRESS) {                \</span>
00829 <span class="preprocessor">        *(volatile ULONG * const)MM_USER_PROBE_ADDRESS = 0;                             \</span>
00830 <span class="preprocessor">    }                                                                                   \</span>
00831 <span class="preprocessor">                                                                                        \</span>
00832 <span class="preprocessor">    *(volatile MEASUREITEMSTRUCT *)(Address) = *(volatile MEASUREITEMSTRUCT *)(Address);\</span>
00833 <span class="preprocessor">}</span>
00834 <span class="preprocessor"></span>
00835 <span class="comment">//++</span>
00836 <span class="comment">//</span>
00837 <span class="comment">// VOID</span>
00838 <span class="comment">// ProbeForWriteCreateStruct(</span>
00839 <span class="comment">//     IN PCREATESTRUCTW Address</span>
00840 <span class="comment">//     )</span>
00841 <span class="comment">//</span>
00842 <span class="comment">//--</span>
00843 
<a name="l00844"></a><a class="code" href="../../d4/d1/userk_8h.html#a75">00844</a> <span class="preprocessor">#define ProbeForWriteCreateStruct(Address) {                                    \</span>
00845 <span class="preprocessor">    if ((Address) &gt;= (CREATESTRUCTW * const)MM_USER_PROBE_ADDRESS) {            \</span>
00846 <span class="preprocessor">        *(volatile ULONG * const)MM_USER_PROBE_ADDRESS = 0;                     \</span>
00847 <span class="preprocessor">    }                                                                           \</span>
00848 <span class="preprocessor">                                                                                \</span>
00849 <span class="preprocessor">    *(volatile CREATESTRUCTW *)(Address) = *(volatile CREATESTRUCTW *)(Address);\</span>
00850 <span class="preprocessor">}</span>
00851 <span class="preprocessor"></span>
00852 <span class="comment">//++</span>
00853 <span class="comment">//</span>
00854 <span class="comment">// VOID</span>
00855 <span class="comment">// ProbeForWriteEvent(</span>
00856 <span class="comment">//     IN PEVENTMSGMSG Address</span>
00857 <span class="comment">//     )</span>
00858 <span class="comment">//</span>
00859 <span class="comment">//--</span>
00860 
<a name="l00861"></a><a class="code" href="../../d4/d1/userk_8h.html#a76">00861</a> <span class="preprocessor">#define ProbeForWriteEvent(Address) {                                        \</span>
00862 <span class="preprocessor">    if ((Address) &gt;= (EVENTMSG * const)MM_USER_PROBE_ADDRESS) {              \</span>
00863 <span class="preprocessor">        *(volatile ULONG * const)MM_USER_PROBE_ADDRESS = 0;                  \</span>
00864 <span class="preprocessor">    }                                                                        \</span>
00865 <span class="preprocessor">                                                                             \</span>
00866 <span class="preprocessor">    *(volatile EVENTMSG *)(Address) = *(volatile EVENTMSG *)(Address);       \</span>
00867 <span class="preprocessor">}</span>
00868 <span class="preprocessor"></span>
00869 <span class="comment">//++</span>
00870 <span class="comment">//</span>
00871 <span class="comment">// VOID</span>
00872 <span class="comment">// ProbeForWriteWindowPlacement(</span>
00873 <span class="comment">//     IN PWINDOWPLACEMENT Address</span>
00874 <span class="comment">//     )</span>
00875 <span class="comment">//</span>
00876 <span class="comment">//--</span>
00877 
<a name="l00878"></a><a class="code" href="../../d4/d1/userk_8h.html#a77">00878</a> <span class="preprocessor">#define ProbeForWriteWindowPlacement(Address) {                                     \</span>
00879 <span class="preprocessor">    if ((Address) &gt;= (WINDOWPLACEMENT * const)MM_USER_PROBE_ADDRESS) {              \</span>
00880 <span class="preprocessor">        *(volatile ULONG * const)MM_USER_PROBE_ADDRESS = 0;                         \</span>
00881 <span class="preprocessor">    }                                                                               \</span>
00882 <span class="preprocessor">                                                                                    \</span>
00883 <span class="preprocessor">    *(volatile WINDOWPLACEMENT *)(Address) = *(volatile WINDOWPLACEMENT *)(Address);\</span>
00884 <span class="preprocessor">}</span>
00885 <span class="preprocessor"></span>
00886 <span class="comment">//++</span>
00887 <span class="comment">//</span>
00888 <span class="comment">// VOID</span>
00889 <span class="comment">// ProbeForWriteGetClipData(</span>
00890 <span class="comment">//     IN PGETCLIPBDATA Address</span>
00891 <span class="comment">//     )</span>
00892 <span class="comment">//</span>
00893 <span class="comment">//--</span>
00894 
<a name="l00895"></a><a class="code" href="../../d4/d1/userk_8h.html#a78">00895</a> <span class="preprocessor">#define ProbeForWriteGetClipData(Address) {                                   \</span>
00896 <span class="preprocessor">    if ((Address) &gt;= (GETCLIPBDATA * const)MM_USER_PROBE_ADDRESS) {           \</span>
00897 <span class="preprocessor">        *(volatile ULONG * const)MM_USER_PROBE_ADDRESS = 0;                   \</span>
00898 <span class="preprocessor">    }                                                                         \</span>
00899 <span class="preprocessor">                                                                              \</span>
00900 <span class="preprocessor">    *(volatile GETCLIPBDATA *)(Address) = *(volatile GETCLIPBDATA *)(Address);\</span>
00901 <span class="preprocessor">}</span>
00902 <span class="preprocessor"></span>
00903 <span class="comment">//++</span>
00904 <span class="comment">//</span>
00905 <span class="comment">// VOID</span>
00906 <span class="comment">// ProbeForWriteMDINextMenu(</span>
00907 <span class="comment">//     IN PMDINEXTMENU Address</span>
00908 <span class="comment">//     )</span>
00909 <span class="comment">//</span>
00910 <span class="comment">//--</span>
00911 
<a name="l00912"></a><a class="code" href="../../d4/d1/userk_8h.html#a79">00912</a> <span class="preprocessor">#define ProbeForWriteMDINextMenu(Address) {                                  \</span>
00913 <span class="preprocessor">    if ((Address) &gt;= (MDINEXTMENU * const)MM_USER_PROBE_ADDRESS) {           \</span>
00914 <span class="preprocessor">        *(volatile ULONG * const)MM_USER_PROBE_ADDRESS = 0;                  \</span>
00915 <span class="preprocessor">    }                                                                        \</span>
00916 <span class="preprocessor">                                                                             \</span>
00917 <span class="preprocessor">    *(volatile MDINEXTMENU *)(Address) = *(volatile MDINEXTMENU *)(Address); \</span>
00918 <span class="preprocessor">}</span>
00919 <span class="preprocessor"></span>
00920 <span class="comment">//++</span>
00921 <span class="comment">//</span>
00922 <span class="comment">// VOID</span>
00923 <span class="comment">// ProbeForWritePoint5(</span>
00924 <span class="comment">//     IN PPOINT5 Address</span>
00925 <span class="comment">//     )</span>
00926 <span class="comment">//</span>
00927 <span class="comment">//--</span>
00928 
<a name="l00929"></a><a class="code" href="../../d4/d1/userk_8h.html#a80">00929</a> <span class="preprocessor">#define ProbeForWritePoint5(Address) {                                     \</span>
00930 <span class="preprocessor">    if ((Address) &gt;= (POINT5 * const)MM_USER_PROBE_ADDRESS) {              \</span>
00931 <span class="preprocessor">        *(volatile ULONG * const)MM_USER_PROBE_ADDRESS = 0;                         \</span>
00932 <span class="preprocessor">    }                                                                               \</span>
00933 <span class="preprocessor">                                                                                    \</span>
00934 <span class="preprocessor">    *(volatile POINT5 *)(Address) = *(volatile POINT5 *)(Address);\</span>
00935 <span class="preprocessor">}</span>
00936 <span class="preprocessor"></span>
00937 <span class="comment">//++</span>
00938 <span class="comment">//</span>
00939 <span class="comment">// VOID</span>
00940 <span class="comment">// ProbeForWriteNCCalcSize(</span>
00941 <span class="comment">//     IN PNCCALCSIZE_PARAMS Address</span>
00942 <span class="comment">//     )</span>
00943 <span class="comment">//</span>
00944 <span class="comment">//--</span>
00945 
<a name="l00946"></a><a class="code" href="../../d4/d1/userk_8h.html#a81">00946</a> <span class="preprocessor">#define ProbeForWriteNCCalcSize(Address) {                                     \</span>
00947 <span class="preprocessor">    if ((Address) &gt;= (NCCALCSIZE_PARAMS * const)MM_USER_PROBE_ADDRESS) {              \</span>
00948 <span class="preprocessor">        *(volatile ULONG * const)MM_USER_PROBE_ADDRESS = 0;                         \</span>
00949 <span class="preprocessor">    }                                                                               \</span>
00950 <span class="preprocessor">                                                                                    \</span>
00951 <span class="preprocessor">    *(volatile NCCALCSIZE_PARAMS *)(Address) = *(volatile NCCALCSIZE_PARAMS *)(Address);\</span>
00952 <span class="preprocessor">}</span>
00953 <span class="preprocessor"></span>
00954 <span class="comment">//++</span>
00955 <span class="comment">//</span>
00956 <span class="comment">// VOID</span>
00957 <span class="comment">// ProbeForWriteWindowPos(</span>
00958 <span class="comment">//     IN PWINDOWPOS Address</span>
00959 <span class="comment">//     )</span>
00960 <span class="comment">//</span>
00961 <span class="comment">//--</span>
00962 
<a name="l00963"></a><a class="code" href="../../d4/d1/userk_8h.html#a82">00963</a> <span class="preprocessor">#define ProbeForWriteWindowPos(Address) {                                     \</span>
00964 <span class="preprocessor">    if ((Address) &gt;= (WINDOWPOS * const)MM_USER_PROBE_ADDRESS) {              \</span>
00965 <span class="preprocessor">        *(volatile ULONG * const)MM_USER_PROBE_ADDRESS = 0;                         \</span>
00966 <span class="preprocessor">    }                                                                               \</span>
00967 <span class="preprocessor">                                                                                    \</span>
00968 <span class="preprocessor">    *(volatile WINDOWPOS *)(Address) = *(volatile WINDOWPOS *)(Address);\</span>
00969 <span class="preprocessor">}</span>
00970 <span class="preprocessor"></span>
00971 
00972     <span class="comment">//++</span>
00973     <span class="comment">//</span>
00974     <span class="comment">// VOID</span>
00975     <span class="comment">// ProbeForWriteCandidateForm(</span>
00976     <span class="comment">//     IN PCANDIDATEFORM Address</span>
00977     <span class="comment">//     )</span>
00978     <span class="comment">//</span>
00979     <span class="comment">//--</span>
00980 
<a name="l00981"></a><a class="code" href="../../d4/d1/userk_8h.html#a83">00981</a> <span class="preprocessor">    #define ProbeForWriteCandidateForm(Address) {                                     \</span>
00982 <span class="preprocessor">        if ((Address) &gt;= (CANDIDATEFORM * const)MM_USER_PROBE_ADDRESS) {              \</span>
00983 <span class="preprocessor">            *(volatile ULONG * const)MM_USER_PROBE_ADDRESS = 0;                       \</span>
00984 <span class="preprocessor">        }                                                                             \</span>
00985 <span class="preprocessor">                                                                                      \</span>
00986 <span class="preprocessor">        *(volatile CANDIDATEFORM *)(Address) = *(volatile CANDIDATEFORM *)(Address);  \</span>
00987 <span class="preprocessor">    }</span>
00988 <span class="preprocessor"></span>
00989     <span class="comment">//++</span>
00990     <span class="comment">//</span>
00991     <span class="comment">// VOID</span>
00992     <span class="comment">// ProbeForWriteCompositionForm(</span>
00993     <span class="comment">//     IN PCOMPOSITIONFORM Address</span>
00994     <span class="comment">//     )</span>
00995     <span class="comment">//</span>
00996     <span class="comment">//--</span>
00997 
<a name="l00998"></a><a class="code" href="../../d4/d1/userk_8h.html#a84">00998</a> <span class="preprocessor">    #define ProbeForWriteCompositionForm(Address) {                                     \</span>
00999 <span class="preprocessor">        if ((Address) &gt;= (COMPOSITIONFORM * const)MM_USER_PROBE_ADDRESS) {              \</span>
01000 <span class="preprocessor">            *(volatile ULONG * const)MM_USER_PROBE_ADDRESS = 0;                         \</span>
01001 <span class="preprocessor">        }                                                                               \</span>
01002 <span class="preprocessor">                                                                                        \</span>
01003 <span class="preprocessor">        *(volatile COMPOSITIONFORM *)(Address) = *(volatile COMPOSITIONFORM *)(Address);\</span>
01004 <span class="preprocessor">    }</span>
01005 <span class="preprocessor"></span>
01006     <span class="comment">//++</span>
01007     <span class="comment">//</span>
01008     <span class="comment">// VOID</span>
01009     <span class="comment">// ProbeForWriteLogFontW(</span>
01010     <span class="comment">//     IN PLOGFONTW Address</span>
01011     <span class="comment">//     )</span>
01012     <span class="comment">//</span>
01013     <span class="comment">//--</span>
01014 
<a name="l01015"></a><a class="code" href="../../d4/d1/userk_8h.html#a85">01015</a> <span class="preprocessor">    #define ProbeForWriteLogFontW(Address) {                                   \</span>
01016 <span class="preprocessor">        if ((Address) &gt;= (LOGFONTW * const)MM_USER_PROBE_ADDRESS) {            \</span>
01017 <span class="preprocessor">            *(volatile ULONG * const)MM_USER_PROBE_ADDRESS = 0;                \</span>
01018 <span class="preprocessor">        }                                                                      \</span>
01019 <span class="preprocessor">                                                                               \</span>
01020 <span class="preprocessor">        *(volatile LOGFONTW *)(Address) = *(volatile LOGFONTW *)(Address);     \</span>
01021 <span class="preprocessor">    }</span>
01022 <span class="preprocessor"></span>
01023 <span class="comment">//++</span>
01024 <span class="comment">//</span>
01025 <span class="comment">// VOID</span>
01026 <span class="comment">// ProbeForWriteReconvertString(IN PRECONVERTSTRING Address)</span>
01027 <span class="comment">//</span>
01028 <span class="comment">//--</span>
01029 
<a name="l01030"></a><a class="code" href="../../d4/d1/userk_8h.html#a86">01030</a> <span class="preprocessor">#define ProbeForWriteReconvertString(Address) { \</span>
01031 <span class="preprocessor">    if ((Address) &gt;= (RECONVERTSTRING* const)MM_USER_PROBE_ADDRESS) {           \</span>
01032 <span class="preprocessor">        *(volatile ULONG* const)MM_USER_PROBE_ADDRESS = 0;                      \</span>
01033 <span class="preprocessor">    }                                                                           \</span>
01034 <span class="preprocessor">                                                                                \</span>
01035 <span class="preprocessor">    *(volatile RECONVERTSTRING*)(Address) = *(volatile RECONVERTSTRING*)(Address); \</span>
01036 <span class="preprocessor">    *((volatile BYTE*)(Address) + (Address)-&gt;dwSize) = *((volatile BYTE*)(Address) + (Address)-&gt;dwSize); \</span>
01037 <span class="preprocessor">}</span>
01038 <span class="preprocessor"></span>
<a name="l01039"></a><a class="code" href="../../d4/d1/userk_8h.html#a87">01039</a> <span class="preprocessor">#define ProbeForReadReconvertString(pReconv) \</span>
01040 <span class="preprocessor">    ProbeForRead((pReconv), (pReconv)-&gt;dwSize, 1)</span>
01041 <span class="preprocessor"></span>
01042 
01043 <span class="comment">//++</span>
01044 <span class="comment">//</span>
01045 <span class="comment">// VOID</span>
01046 <span class="comment">// ProbeForWriteImeCharPosition(IN LPPrivateIMECHARPOSITION Address)</span>
01047 <span class="comment">//</span>
01048 <span class="comment">//--</span>
01049 
<a name="l01050"></a><a class="code" href="../../d4/d1/userk_8h.html#a88">01050</a> <span class="preprocessor">#define ProbeForWriteImeCharPosition(Address) { \</span>
01051 <span class="preprocessor">    if ((Address) &gt;= (PrivateIMECHARPOSITION* const)MM_USER_PROBE_ADDRESS) {    \</span>
01052 <span class="preprocessor">        *(volatile ULONG* const)MM_USER_PROBE_ADDRESS = 0;                      \</span>
01053 <span class="preprocessor">    }                                                                           \</span>
01054 <span class="preprocessor">                                                                                \</span>
01055 <span class="preprocessor">    *(volatile PrivateIMECHARPOSITION*)(Address) = *(volatile PrivateIMECHARPOSITION*)(Address); \</span>
01056 <span class="preprocessor">}</span>
01057 <span class="preprocessor"></span>
01058 
01059 
01060 <span class="comment">//++</span>
01061 <span class="comment">//</span>
01062 <span class="comment">// VOID</span>
01063 <span class="comment">// ProbeAndReadMenuGetObjectInfo(</span>
01064 <span class="comment">//     IN PMENUGETOBJECTINFO Address</span>
01065 <span class="comment">//     )</span>
01066 <span class="comment">//</span>
01067 <span class="comment">//--</span>
01068 
<a name="l01069"></a><a class="code" href="../../d4/d1/userk_8h.html#a89">01069</a> <span class="preprocessor">#define ProbeAndReadMenuGetObjectInfo(Address) \</span>
01070 <span class="preprocessor">    (((Address) &gt;= (MENUGETOBJECTINFO * const)MM_USER_PROBE_ADDRESS) ? \</span>
01071 <span class="preprocessor">        (*(volatile MENUGETOBJECTINFO * const)MM_USER_PROBE_ADDRESS) : (*(volatile MENUGETOBJECTINFO *)(Address)))</span>
01072 <span class="preprocessor"></span>
01073 
01074 <span class="comment">/*</span>
01075 <span class="comment"> * This macro makes sure an object is thread locked. DEBUG only.</span>
01076 <span class="comment"> */</span>
01077 <span class="preprocessor">#if DBG</span>
01078 <span class="preprocessor"></span>    <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d6/d0/usercli_8h.html#a35">CheckLock</a>(PVOID pobj);
01079 <span class="preprocessor">#else // DBG</span>
<a name="l01080"></a><a class="code" href="../../d4/d1/userk_8h.html#a90">01080</a> <span class="preprocessor"></span><span class="preprocessor">    #define CheckLock(p)</span>
01081 <span class="preprocessor"></span><span class="preprocessor">#endif // DBG</span>
01082 <span class="preprocessor"></span>
01083 <span class="comment">/*</span>
01084 <span class="comment"> * Debug macros</span>
01085 <span class="comment"> */</span>
01086 <span class="preprocessor">#if DBG</span>
01087 <span class="preprocessor"></span>
01088 <span class="preprocessor">    #define TRACE_INIT(str)    { if (TraceInitialization &gt; 0) {  KdPrint(str); }}</span>
01089 <span class="preprocessor"></span><span class="preprocessor">    #define TRACE_SWITCH(str)  { if (TraceFullscreenSwitch &gt; 0)  {  KdPrint(str); }}</span>
01090 <span class="preprocessor"></span>
01091     <span class="keyword">extern</span> PCSZ apszSimpleCallNames[];
01092 
01093 <span class="preprocessor">    #define TRACE(s)            TAGMSG2(DBGTAG_StubReturn, "%s, retval = %x", (s), retval)</span>
01094 <span class="preprocessor"></span><span class="preprocessor">    #define TRACEVOID(s)        TAGMSG1(DBGTAG_StubReturn, "%s", (s))</span>
01095 <span class="preprocessor"></span>
01096 <span class="preprocessor">    #define TRACETHUNK(t)                                                       \</span>
01097 <span class="preprocessor">                TAGMSG3(DBGTAG_StubThunk,                                       \</span>
01098 <span class="preprocessor">                        "Thunk %s, %s(%s)",                                     \</span>
01099 <span class="preprocessor">                        (t),                                                    \</span>
01100 <span class="preprocessor">                        (xpfnProc &gt;= FNID_START &amp;&amp; xpfnProc &lt;= FNID_END ?       \</span>
01101 <span class="preprocessor">                                gapszFNID[xpfnProc - FNID_START] : "Unknown"),  \</span>
01102 <span class="preprocessor">                        (msg &gt;= WM_USER ? "WM_USER" : gapszMessage[msg]))</span>
01103 <span class="preprocessor"></span>
01104 <span class="preprocessor">    #define TRACECALLBACK(s)    TAGMSG2(DBGTAG_StubCallback, "%s, retval = %x", (s), retval)</span>
01105 <span class="preprocessor"></span>
01106 <span class="preprocessor">    #define TRACECALLBACKMSG(s)                                                         \</span>
01107 <span class="preprocessor">                TAGMSG4(DBGTAG_StubCallback,                                            \</span>
01108 <span class="preprocessor">                        "Callback %s, %s(%s), retval = %x",                             \</span>
01109 <span class="preprocessor">                        (s),                                                            \</span>
01110 <span class="preprocessor">                        (xpfnProc &gt;= (PROC)FNID_START &amp;&amp; xpfnProc &lt;= (PROC)FNID_END ?   \</span>
01111 <span class="preprocessor">                            gapszFNID[(ULONG_PTR)xpfnProc - FNID_START] : "Unknown"),    \</span>
01112 <span class="preprocessor">                        (msg &gt;= WM_USER ? "WM_USER" : gapszMessage[msg]),               \</span>
01113 <span class="preprocessor">                        retval)</span>
01114 <span class="preprocessor"></span><span class="preprocessor">#else // DBG</span>
01115 <span class="preprocessor"></span>
<a name="l01116"></a><a class="code" href="../../d4/d1/userk_8h.html#a91">01116</a> <span class="preprocessor">    #define TRACE_INIT(str) {}</span>
<a name="l01117"></a><a class="code" href="../../d4/d1/userk_8h.html#a92">01117</a> <span class="preprocessor"></span><span class="preprocessor">    #define TRACE_SWITCH(str) {}</span>
<a name="l01118"></a><a class="code" href="../../d4/d1/userk_8h.html#a93">01118</a> <span class="preprocessor"></span><span class="preprocessor">    #define TRACE(s)</span>
<a name="l01119"></a><a class="code" href="../../d4/d1/userk_8h.html#a94">01119</a> <span class="preprocessor"></span><span class="preprocessor">    #define TRACEVOID(s)</span>
<a name="l01120"></a><a class="code" href="../../d4/d1/userk_8h.html#a95">01120</a> <span class="preprocessor"></span><span class="preprocessor">    #define TRACETHUNK(t)</span>
<a name="l01121"></a><a class="code" href="../../d4/d1/userk_8h.html#a96">01121</a> <span class="preprocessor"></span><span class="preprocessor">    #define TRACECALLBACK(t)</span>
<a name="l01122"></a><a class="code" href="../../d4/d1/userk_8h.html#a97">01122</a> <span class="preprocessor"></span><span class="preprocessor">    #define TRACECALLBACKMSG(t)</span>
01123 <span class="preprocessor"></span>
01124 <span class="preprocessor">#endif // DBG</span>
01125 <span class="preprocessor"></span>
01126 <span class="comment">/*</span>
01127 <span class="comment"> * Statistics for performance counter</span>
01128 <span class="comment"> */</span>
01129 
<a name="l01130"></a><a class="code" href="../../d1/d3/structtagPERFINFO.html">01130</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d1/d3/structtagPERFINFO.html">tagPERFINFO</a> {
<a name="l01131"></a><a class="code" href="../../d1/d3/structtagPERFINFO.html#o0">01131</a>     LONG               <a class="code" href="../../d1/d3/structtagPERFINFO.html#o0">lCount</a>;
<a name="l01132"></a><a class="code" href="../../d1/d3/structtagPERFINFO.html#o1">01132</a>     LONG               <a class="code" href="../../d1/d3/structtagPERFINFO.html#o1">lMaxCount</a>;
<a name="l01133"></a><a class="code" href="../../d1/d3/structtagPERFINFO.html#o2">01133</a>     LONG               <a class="code" href="../../d1/d3/structtagPERFINFO.html#o2">lTotalCount</a>;
<a name="l01134"></a><a class="code" href="../../d1/d3/structtagPERFINFO.html#o3">01134</a>     SIZE_T             <a class="code" href="../../d1/d3/structtagPERFINFO.html#o3">lSize</a>;
01135 } <a class="code" href="../../d1/d3/structtagPERFINFO.html">PERFHANDLEINFO</a>, *<a class="code" href="../../d1/d3/structtagPERFINFO.html">PPERFHANDLEINFO</a>;
01136 
<a name="l01137"></a><a class="code" href="../../d4/d4/struct__HANDLEPAGE.html">01137</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d4/d4/struct__HANDLEPAGE.html">_HANDLEPAGE</a> {
<a name="l01138"></a><a class="code" href="../../d4/d4/struct__HANDLEPAGE.html#o0">01138</a>     ULONG_PTR <a class="code" href="../../d4/d4/struct__HANDLEPAGE.html#o0">iheLimit</a>;    <span class="comment">/* first handle index past the end of the page */</span>
<a name="l01139"></a><a class="code" href="../../d4/d4/struct__HANDLEPAGE.html#o1">01139</a>     ULONG_PTR <a class="code" href="../../d4/d4/struct__HANDLEPAGE.html#o1">iheFreeEven</a>; <span class="comment">/* first even free handle in the page -- window objects */</span>
<a name="l01140"></a><a class="code" href="../../d4/d4/struct__HANDLEPAGE.html#o2">01140</a>     ULONG_PTR <a class="code" href="../../d4/d4/struct__HANDLEPAGE.html#o2">iheFreeOdd</a>;  <span class="comment">/* first even odd handle in the page */</span>
01141 } <a class="code" href="../../d4/d4/struct__HANDLEPAGE.html">HANDLEPAGE</a>, *<a class="code" href="../../d4/d4/struct__HANDLEPAGE.html">PHANDLEPAGE</a>;
01142 
01143 
01144 <span class="preprocessor">#if DBG</span>
01145 <span class="preprocessor"></span><a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>  HMCleanUpHandleTable(VOID);
01146 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> DbgDumpHandleTable(VOID);
01147 <span class="preprocessor">#endif</span>
01148 <span class="preprocessor"></span>
01149 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>     <a class="code" href="../../d4/d1/userk_8h.html#a968">HMInitHandleTable</a>(PVOID pBase);
01150 PVOID    <a class="code" href="../../d4/d1/userk_8h.html#a969">HMAllocObject</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti, <a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a> pdesk, BYTE btype, DWORD size);
01151 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>     <a class="code" href="../../d4/d1/userk_8h.html#a970">HMFreeObject</a>(PVOID pobj);
01152 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>     <a class="code" href="../../d4/d1/userk_8h.html#a971">HMMarkObjectDestroy</a>(PVOID pobj);
01153 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>     <a class="code" href="../../d4/d1/userk_8h.html#a972">HMDestroyObject</a>(PVOID pobj);
01154 PVOID <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a0">FASTCALL</a> <a class="code" href="../../d4/d1/userk_8h.html#a973">HMAssignmentLock</a>(PVOID *ppobj, PVOID pobj);
01155 PVOID <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a0">FASTCALL</a> <a class="code" href="../../d4/d1/userk_8h.html#a974">HMAssignmentUnlock</a>(PVOID *ppobj);
01156 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a975">HMGetStats</a>(HANDLE hProcess, <span class="keywordtype">int</span> iPidType, PVOID pResults, UINT cjResultSize);
01157 HANDLE   <a class="code" href="../../d4/d1/userk_8h.html#a976">KernelPtoH</a>(PVOID pObj);
01158 <span class="keywordtype">void</span>     <a class="code" href="../../d4/d1/userk_8h.html#a977">HMDestroyUnlockedObject</a>(<a class="code" href="../../d2/d4/struct__HANDLEENTRY.html">PHE</a> phe);
01159 
01160 <span class="keywordtype">void</span>     <a class="code" href="../../d4/d1/userk_8h.html#a978">HMCleanupGrantedHandle</a>(HANDLE h);
01161 
01162 <span class="comment">/*</span>
01163 <span class="comment"> * Validation, handle mapping, etc.</span>
01164 <span class="comment"> */</span>
<a name="l01165"></a><a class="code" href="../../d4/d1/userk_8h.html#a98">01165</a> <span class="preprocessor">#define RevalidateHwnd(hwnd)   HMValidateHandleNoSecure(hwnd, TYPE_WINDOW)</span>
<a name="l01166"></a><a class="code" href="../../d4/d1/userk_8h.html#a99">01166</a> <span class="preprocessor"></span><span class="preprocessor">#define RevalidateCatHwnd(hwnd)   HMValidateCatHandleNoSecure(hwnd, TYPE_WINDOW)</span>
01167 <span class="preprocessor"></span>
<a name="l01168"></a><a class="code" href="../../d4/d1/userk_8h.html#a100">01168</a> <span class="preprocessor">#define HtoPq(h)    ((PVOID)HMObjectFromHandle(h))</span>
<a name="l01169"></a><a class="code" href="../../d4/d1/userk_8h.html#a101">01169</a> <span class="preprocessor"></span><span class="preprocessor">#define HtoPqCat(h)    ((PVOID)HMCatObjectFromHandle(h))</span>
<a name="l01170"></a><a class="code" href="../../d4/d1/userk_8h.html#a102">01170</a> <span class="preprocessor"></span><span class="preprocessor">#define HtoP(h)     ((PVOID)HMObjectFromHandle(h))</span>
<a name="l01171"></a><a class="code" href="../../d4/d1/userk_8h.html#a103">01171</a> <span class="preprocessor"></span><span class="preprocessor">#define HtoPCat(h)     ((PVOID)HMCatObjectFromHandle(h))</span>
<a name="l01172"></a><a class="code" href="../../d4/d1/userk_8h.html#a104">01172</a> <span class="preprocessor"></span><span class="preprocessor">#define PW(hwnd)    ((PWND)HtoP(hwnd))</span>
<a name="l01173"></a><a class="code" href="../../d4/d1/userk_8h.html#a105">01173</a> <span class="preprocessor"></span><span class="preprocessor">#define PWCat(hwnd)    ((PWND)HtoPCat(hwnd))</span>
<a name="l01174"></a><a class="code" href="../../d4/d1/userk_8h.html#a106">01174</a> <span class="preprocessor"></span><span class="preprocessor">#define TID(pti)    HandleToUlong((pti) == NULL ? NULL : (pti)-&gt;pEThread-&gt;Cid.UniqueThread)</span>
<a name="l01175"></a><a class="code" href="../../d4/d1/userk_8h.html#a107">01175</a> <span class="preprocessor"></span><span class="preprocessor">#define TIDq(pti)   HandleToUlong((pti)-&gt;pEThread-&gt;Cid.UniqueThread)</span>
01176 <span class="preprocessor"></span>
01177 <span class="comment">/*</span>
01178 <span class="comment"> * Assignment lock macro -&gt; used for locking objects embedded in structures</span>
01179 <span class="comment"> * and globals. Threadlocks used for locking objects across callbacks.</span>
01180 <span class="comment"> */</span>
<a name="l01181"></a><a class="code" href="../../d4/d1/userk_8h.html#a108">01181</a> <span class="preprocessor">#define Lock(ppobj, pobj) HMAssignmentLock((PVOID *)ppobj, (PVOID)pobj)</span>
<a name="l01182"></a><a class="code" href="../../d4/d1/userk_8h.html#a109">01182</a> <span class="preprocessor"></span><span class="preprocessor">#define Unlock(ppobj)     HMAssignmentUnlock((PVOID *)ppobj)</span>
01183 <span class="preprocessor"></span>
01184 PVOID <a class="code" href="../../d4/d1/userk_8h.html#a979">HMUnlockObjectInternal</a>(PVOID pobj);
01185 
<a name="l01186"></a><a class="code" href="../../d4/d1/userk_8h.html#a110">01186</a> <span class="preprocessor">#define HMUnlockObject(pobj) \</span>
01187 <span class="preprocessor">    ( (--((PHEAD)pobj)-&gt;cLockObj == 0) ? HMUnlockObjectInternal(pobj) : pobj )</span>
01188 <span class="preprocessor"></span>
01189 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a980">HMChangeOwnerThread</a>(PVOID pobj, <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti);
01190 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a981">HMChangeOwnerPheProcess</a>(<a class="code" href="../../d2/d4/struct__HANDLEENTRY.html">PHE</a> phe, <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti);
<a name="l01191"></a><a class="code" href="../../d4/d1/userk_8h.html#a111">01191</a> <span class="preprocessor">#define HMChangeOwnerProcess(pobj, pti) HMChangeOwnerPheProcess(HMPheFromObject(pobj), pti)</span>
01192 <span class="preprocessor"></span>
01193 <span class="preprocessor">#if DBG</span>
01194 <span class="preprocessor"></span>    <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>  <a class="code" href="../../d4/d1/userk_8h.html#a112">HMLockObject</a>(PVOID pobj);
01195     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>  HMRelocateLockRecord(PVOID ppobjOld, LONG_PTR cbDelta);
01196 <span class="preprocessor">#else // DBG</span>
<a name="l01197"></a><a class="code" href="../../d4/d1/userk_8h.html#a112">01197</a> <span class="preprocessor"></span><span class="preprocessor">    #define HMLockObject(p)     (((PHEAD)p)-&gt;cLockObj++)</span>
01198 <span class="preprocessor"></span><span class="preprocessor">#endif // DBG</span>
01199 <span class="preprocessor"></span>
01200 <span class="preprocessor">#if DBG</span>
01201 <span class="preprocessor"></span>    <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d6/d0/usercli_8h.html#a36">ThreadLock</a>(PVOID pobj, <a class="code" href="../../d5/d1/struct__TL.html">PTL</a> ptl);
01202 <span class="preprocessor">#else // DBG</span>
<a name="l01203"></a><a class="code" href="../../d4/d1/userk_8h.html#a113">01203</a> <span class="preprocessor"></span><span class="preprocessor">    #define ThreadLock(_pobj_, _ptl_)          \</span>
01204 <span class="preprocessor">    {                                          \</span>
01205 <span class="preprocessor">                                               \</span>
01206 <span class="preprocessor">        PTHREADINFO _pti_;                     \</span>
01207 <span class="preprocessor">        PVOID __pobj_ = (_pobj_);              \</span>
01208 <span class="preprocessor">                                               \</span>
01209 <span class="preprocessor">        _pti_ = PtiCurrent();                  \</span>
01210 <span class="preprocessor">        (_ptl_)-&gt;next = _pti_-&gt;ptl;            \</span>
01211 <span class="preprocessor">        _pti_-&gt;ptl = (_ptl_);                  \</span>
01212 <span class="preprocessor">        (_ptl_)-&gt;pobj = __pobj_;              \</span>
01213 <span class="preprocessor">        if (__pobj_ != NULL) {                \</span>
01214 <span class="preprocessor">            HMLockObject(__pobj_);            \</span>
01215 <span class="preprocessor">        }                                      \</span>
01216 <span class="preprocessor">    }</span>
01217 <span class="preprocessor"></span><span class="preprocessor">#endif // DBG</span>
01218 <span class="preprocessor"></span>
01219 <span class="preprocessor">#if DBG</span>
01220 <span class="preprocessor"></span><span class="preprocessor">    #define ThreadLockAlways(_pobj_, _ptl_)    \</span>
01221 <span class="preprocessor">    {                                          \</span>
01222 <span class="preprocessor">        PVOID __pobj_ = (_pobj_);              \</span>
01223 <span class="preprocessor">        UserAssert(__pobj_ != NULL);          \</span>
01224 <span class="preprocessor">        ThreadLock(__pobj_, _ptl_);             \</span>
01225 <span class="preprocessor">    }</span>
01226 <span class="preprocessor"></span><span class="preprocessor">#else // DBG</span>
<a name="l01227"></a><a class="code" href="../../d4/d1/userk_8h.html#a114">01227</a> <span class="preprocessor"></span><span class="preprocessor">    #define ThreadLockAlways(_pobj_, _ptl_)    \</span>
01228 <span class="preprocessor">    {                                          \</span>
01229 <span class="preprocessor">                                               \</span>
01230 <span class="preprocessor">        PTHREADINFO _pti_;                     \</span>
01231 <span class="preprocessor">        PVOID __pobj_ = (_pobj_);              \</span>
01232 <span class="preprocessor">                                               \</span>
01233 <span class="preprocessor">        _pti_ = PtiCurrent();                  \</span>
01234 <span class="preprocessor">        (_ptl_)-&gt;next = _pti_-&gt;ptl;            \</span>
01235 <span class="preprocessor">        _pti_-&gt;ptl = (_ptl_);                  \</span>
01236 <span class="preprocessor">        (_ptl_)-&gt;pobj = __pobj_;              \</span>
01237 <span class="preprocessor">        HMLockObject(__pobj_);                \</span>
01238 <span class="preprocessor">    }</span>
01239 <span class="preprocessor"></span><span class="preprocessor">#endif // DBG</span>
01240 <span class="preprocessor"></span>
01241 <span class="preprocessor">#if DBG</span>
01242 <span class="preprocessor"></span><span class="preprocessor">    #define ThreadLockNever(_ptl_)             \</span>
01243 <span class="preprocessor">    {                                          \</span>
01244 <span class="preprocessor">        ThreadLock(NULL, _ptl_);               \</span>
01245 <span class="preprocessor">    }</span>
01246 <span class="preprocessor"></span><span class="preprocessor">#else // DBG</span>
<a name="l01247"></a><a class="code" href="../../d4/d1/userk_8h.html#a115">01247</a> <span class="preprocessor"></span><span class="preprocessor">    #define ThreadLockNever(_ptl_)             \</span>
01248 <span class="preprocessor">    {                                          \</span>
01249 <span class="preprocessor">                                               \</span>
01250 <span class="preprocessor">        PTHREADINFO _pti_;                     \</span>
01251 <span class="preprocessor">                                               \</span>
01252 <span class="preprocessor">        _pti_ = PtiCurrent();                  \</span>
01253 <span class="preprocessor">        (_ptl_)-&gt;next = _pti_-&gt;ptl;            \</span>
01254 <span class="preprocessor">        _pti_-&gt;ptl = (_ptl_);                  \</span>
01255 <span class="preprocessor">        (_ptl_)-&gt;pobj = NULL;                  \</span>
01256 <span class="preprocessor">    }</span>
01257 <span class="preprocessor"></span><span class="preprocessor">#endif // DBG</span>
01258 <span class="preprocessor"></span>
01259 <span class="preprocessor">#if DBG</span>
01260 <span class="preprocessor"></span><span class="preprocessor">    #define ThreadLockAlwaysWithPti(_pti_, _pobj_, _ptl_)  \</span>
01261 <span class="preprocessor">    {                                          \</span>
01262 <span class="preprocessor">        PVOID __pobj_ = (_pobj_);              \</span>
01263 <span class="preprocessor">        UserAssert(_pti_ == PtiCurrentShared());     \</span>
01264 <span class="preprocessor">        UserAssert(__pobj_ != NULL);          \</span>
01265 <span class="preprocessor">        ThreadLock(__pobj_, _ptl_);             \</span>
01266 <span class="preprocessor">    }</span>
01267 <span class="preprocessor"></span><span class="preprocessor">#else // DBG</span>
<a name="l01268"></a><a class="code" href="../../d4/d1/userk_8h.html#a116">01268</a> <span class="preprocessor"></span><span class="preprocessor">    #define ThreadLockAlwaysWithPti(_pti_, _pobj_, _ptl_)  \</span>
01269 <span class="preprocessor">    {                                          \</span>
01270 <span class="preprocessor">        PVOID __pobj_ = (_pobj_);              \</span>
01271 <span class="preprocessor">        (_ptl_)-&gt;next = _pti_-&gt;ptl;            \</span>
01272 <span class="preprocessor">        _pti_-&gt;ptl = (_ptl_);                  \</span>
01273 <span class="preprocessor">        (_ptl_)-&gt;pobj = __pobj_;              \</span>
01274 <span class="preprocessor">        HMLockObject(__pobj_);                \</span>
01275 <span class="preprocessor">    }</span>
01276 <span class="preprocessor"></span><span class="preprocessor">#endif // DBG</span>
01277 <span class="preprocessor"></span>
01278 <span class="preprocessor">#if DBG</span>
01279 <span class="preprocessor"></span><span class="preprocessor">    #define ThreadLockNeverWithPti(_pti_, _ptl_)    \</span>
01280 <span class="preprocessor">    {                                               \</span>
01281 <span class="preprocessor">        UserAssert(_pti_ == PtiCurrentShared());    \</span>
01282 <span class="preprocessor">        ThreadLock(NULL, _ptl_);                    \</span>
01283 <span class="preprocessor">    }</span>
01284 <span class="preprocessor"></span><span class="preprocessor">#else // DBG</span>
<a name="l01285"></a><a class="code" href="../../d4/d1/userk_8h.html#a117">01285</a> <span class="preprocessor"></span><span class="preprocessor">    #define ThreadLockNeverWithPti(_pti_, _ptl_)    \</span>
01286 <span class="preprocessor">    {                                               \</span>
01287 <span class="preprocessor">        (_ptl_)-&gt;next = _pti_-&gt;ptl;                 \</span>
01288 <span class="preprocessor">        _pti_-&gt;ptl = (_ptl_);                       \</span>
01289 <span class="preprocessor">        (_ptl_)-&gt;pobj = NULL;                       \</span>
01290 <span class="preprocessor">    }</span>
01291 <span class="preprocessor"></span><span class="preprocessor">#endif // DBG</span>
01292 <span class="preprocessor"></span>
01293 <span class="preprocessor">#if DBG</span>
01294 <span class="preprocessor"></span><span class="preprocessor">    #define ThreadLockWithPti(_pti_, _pobj_, _ptl_) \</span>
01295 <span class="preprocessor">    {                                               \</span>
01296 <span class="preprocessor">        PVOID __pobj_ = (_pobj_);              \</span>
01297 <span class="preprocessor">        UserAssert(_pti_ == PtiCurrentShared());    \</span>
01298 <span class="preprocessor">        ThreadLock(__pobj_, _ptl_);                  \</span>
01299 <span class="preprocessor">    }</span>
01300 <span class="preprocessor"></span><span class="preprocessor">#else // DBG</span>
<a name="l01301"></a><a class="code" href="../../d4/d1/userk_8h.html#a118">01301</a> <span class="preprocessor"></span><span class="preprocessor">    #define ThreadLockWithPti(_pti_, _pobj_, _ptl_) \</span>
01302 <span class="preprocessor">    {                                               \</span>
01303 <span class="preprocessor">        PVOID __pobj_ = (_pobj_);              \</span>
01304 <span class="preprocessor">        (_ptl_)-&gt;next = _pti_-&gt;ptl;                 \</span>
01305 <span class="preprocessor">        _pti_-&gt;ptl = (_ptl_);                       \</span>
01306 <span class="preprocessor">        (_ptl_)-&gt;pobj = __pobj_;                   \</span>
01307 <span class="preprocessor">        if (__pobj_ != NULL) {                     \</span>
01308 <span class="preprocessor">            HMLockObject(__pobj_);                 \</span>
01309 <span class="preprocessor">        }                                           \</span>
01310 <span class="preprocessor">    }</span>
01311 <span class="preprocessor"></span><span class="preprocessor">#endif // DBG</span>
01312 <span class="preprocessor"></span>
01313 <span class="preprocessor">#if DBG</span>
01314 <span class="preprocessor"></span>    PVOID <a class="code" href="../../d4/d1/userk_8h.html#a982">ThreadLockExchange</a>(PVOID pobj, <a class="code" href="../../d5/d1/struct__TL.html">PTL</a> ptl);
01315 <span class="preprocessor">#else // DBG</span>
<a name="l01316"></a><a class="code" href="../../d4/d1/userk_8h.html#a982">01316</a> <span class="preprocessor"></span>    PVOID __inline <a class="code" href="../../d4/d1/userk_8h.html#a982">ThreadLockExchange</a>(PVOID pobj, <a class="code" href="../../d5/d1/struct__TL.html">PTL</a> ptl)
01317     {
01318         PVOID   pobjOld;
01319 
01320         pobjOld = ptl-&gt;pobj;
01321         ptl-&gt;pobj = pobj;
01322         <span class="keywordflow">if</span> (pobj) {
01323             <a class="code" href="../../d4/d1/userk_8h.html#a112">HMLockObject</a>(pobj);
01324         }
01325 
01326         <span class="keywordflow">if</span> (pobjOld) {
01327             pobjOld = <a class="code" href="../../d4/d1/userk_8h.html#a110">HMUnlockObject</a>((<a class="code" href="../../d4/d5/struct__HEAD.html">PHEAD</a>)pobjOld);
01328         }
01329 
01330         <span class="keywordflow">return</span> pobjOld;
01331     }
01332 <span class="preprocessor">#endif // DBG</span>
01333 <span class="preprocessor"></span>
01334 <span class="preprocessor">#if DBG</span>
01335 <span class="preprocessor"></span><span class="preprocessor">    #define ThreadLockExchangeAlways(_pobj_, _ptl_)    \</span>
01336 <span class="preprocessor">    {                                                  \</span>
01337 <span class="preprocessor">        PVOID __pobj_ = (_pobj_);              \</span>
01338 <span class="preprocessor">        UserAssert(__pobj_ != NULL);                  \</span>
01339 <span class="preprocessor">        ThreadLockExchange(__pobj_, _ptl_);             \</span>
01340 <span class="preprocessor">    }</span>
01341 <span class="preprocessor"></span><span class="preprocessor">#else // DBG</span>
<a name="l01342"></a><a class="code" href="../../d4/d1/userk_8h.html#a983">01342</a> <span class="preprocessor"></span>    PVOID __inline <a class="code" href="../../d4/d1/userk_8h.html#a983">ThreadLockExchangeAlways</a>(PVOID pobj, <a class="code" href="../../d5/d1/struct__TL.html">PTL</a> ptl)
01343     {
01344         PVOID   pobjOld;
01345 
01346         pobjOld = ptl-&gt;pobj;
01347         ptl-&gt;pobj = pobj;
01348         <a class="code" href="../../d4/d1/userk_8h.html#a112">HMLockObject</a>(pobj);
01349         <span class="keywordflow">if</span> (pobjOld) {
01350             pobjOld = <a class="code" href="../../d4/d1/userk_8h.html#a110">HMUnlockObject</a>((<a class="code" href="../../d4/d5/struct__HEAD.html">PHEAD</a>)pobjOld);
01351         }
01352 
01353         <span class="keywordflow">return</span> pobjOld;
01354     }
01355 <span class="preprocessor">#endif // DBG</span>
01356 <span class="preprocessor"></span>
01357 <span class="preprocessor">#if DBG</span>
01358 <span class="preprocessor"></span>    PVOID <a class="code" href="../../d4/d1/userk_8h.html#a984">ThreadUnlock1</a>(<a class="code" href="../../d5/d1/struct__TL.html">PTL</a> ptl);
01359 <span class="preprocessor">    #define ThreadUnlock(ptl) ThreadUnlock1(ptl)</span>
01360 <span class="preprocessor"></span><span class="preprocessor">#else // DBG</span>
01361 <span class="preprocessor"></span>    PVOID <a class="code" href="../../d4/d1/userk_8h.html#a984">ThreadUnlock1</a>(VOID);
<a name="l01362"></a><a class="code" href="../../d4/d1/userk_8h.html#a119">01362</a> <span class="preprocessor">    #define ThreadUnlock(ptl) ThreadUnlock1()</span>
01363 <span class="preprocessor"></span><span class="preprocessor">#endif // DBG</span>
01364 <span class="preprocessor"></span>
01365 <span class="comment">/*</span>
01366 <span class="comment"> * Define this only if you want to track down lock/unlock mismatches</span>
01367 <span class="comment"> * for desktop objects</span>
01368 <span class="comment"> */</span>
01369 <span class="preprocessor">#if DBG</span>
01370 <span class="preprocessor"></span><span class="comment">// #define LOGDESKTOPLOCKS</span>
01371 <span class="preprocessor">#endif // DBG</span>
01372 <span class="preprocessor"></span>
01373 <span class="preprocessor">#ifdef LOGDESKTOPLOCKS</span>
01374 <span class="preprocessor"></span>
01375 <span class="comment">/*</span>
01376 <span class="comment"> * this is the structure used by the desktop logging stuff</span>
01377 <span class="comment"> */</span>
01378 <span class="keyword">typedef</span> <span class="keyword">struct </span>tagLogD {
01379     WORD   tag;         <span class="comment">// tag</span>
01380     WORD   <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a>;        <span class="comment">// lock | unlock</span>
01381     ULONG_PTR extra;    <span class="comment">// extra information to identify the lock/unlock</span>
01382     PVOID  trace[6];    <span class="comment">// stack trace</span>
01383 } LogD, *PLogD;
01384 
01385 <span class="comment">/*</span>
01386 <span class="comment"> * Tags for LOCK/UNLOCK REFERENCE/DEREFERENCE calls for</span>
01387 <span class="comment"> * desktop objects</span>
01388 <span class="comment"> */</span>
01389 
01390 <span class="preprocessor">#define LDU_CLS_DESKPARENT1                 1</span>
01391 <span class="preprocessor"></span><span class="preprocessor">#define LDL_CLS_DESKPARENT1                 2</span>
01392 <span class="preprocessor"></span>
01393 <span class="preprocessor">#define LDU_CLS_DESKPARENT2                 3</span>
01394 <span class="preprocessor"></span><span class="preprocessor">#define LDL_CLS_DESKPARENT2                 5</span>
01395 <span class="preprocessor"></span>
01396 <span class="preprocessor">#define LDU_FN_DESTROYCLASS                 6</span>
01397 <span class="preprocessor"></span><span class="preprocessor">#define LDL_FN_DESTROYCLASS                 7</span>
01398 <span class="preprocessor"></span>
01399 <span class="preprocessor">#define LDU_FN_DESTROYMENU                  8</span>
01400 <span class="preprocessor"></span><span class="preprocessor">#define LDL_FN_DESTROYMENU                  9</span>
01401 <span class="preprocessor"></span>
01402 <span class="preprocessor">#define LDU_FN_DESTROYTHREADINFO            10</span>
01403 <span class="preprocessor"></span><span class="preprocessor">#define LDL_FN_DESTROYTHREADINFO            11</span>
01404 <span class="preprocessor"></span>
01405 <span class="preprocessor">#define LDU_FN_DESTROYWINDOWSTATION         12</span>
01406 <span class="preprocessor"></span><span class="preprocessor">#define LDL_FN_DESTROYWINDOWSTATION         13</span>
01407 <span class="preprocessor"></span>
01408 <span class="preprocessor">#define LDU_DESKDISCONNECT                  14</span>
01409 <span class="preprocessor"></span><span class="preprocessor">#define LDL_DESKDISCONNECT                  15</span>
01410 <span class="preprocessor"></span>
01411 <span class="preprocessor">#define LDU_DESK_DESKNEXT                   16</span>
01412 <span class="preprocessor"></span><span class="preprocessor">#define LDL_DESK_DESKNEXT1                  17</span>
01413 <span class="preprocessor"></span>
01414 <span class="preprocessor">#define LDU_OBJ_DESK                        18</span>
01415 <span class="preprocessor"></span><span class="preprocessor">#define LDL_OBJ_DESK                        19</span>
01416 <span class="preprocessor"></span><span class="preprocessor">#define LDL_MOTHERDESK_DESK1                20</span>
01417 <span class="preprocessor"></span>
01418 <span class="preprocessor">#define LDL_PTI_DESK                        21</span>
01419 <span class="preprocessor"></span><span class="preprocessor">#define LDL_DT_DESK                         23</span>
01420 <span class="preprocessor"></span>
01421 <span class="preprocessor">#define LDU_PTI_DESK                        24</span>
01422 <span class="preprocessor"></span>
01423 <span class="preprocessor">#define LDU_PPI_DESKSTARTUP1                26</span>
01424 <span class="preprocessor"></span><span class="preprocessor">#define LDU_PPI_DESKSTARTUP2                27</span>
01425 <span class="preprocessor"></span><span class="preprocessor">#define LDU_PPI_DESKSTARTUP3                28</span>
01426 <span class="preprocessor"></span><span class="preprocessor">#define LDL_PPI_DESKSTARTUP1                29</span>
01427 <span class="preprocessor"></span><span class="preprocessor">#define LDL_PPI_DESKSTARTUP2                30</span>
01428 <span class="preprocessor"></span>
01429 <span class="preprocessor">#define LDU_DESKLOGON                       31</span>
01430 <span class="preprocessor"></span><span class="preprocessor">#define LDL_DESKLOGON                       32</span>
01431 <span class="preprocessor"></span>
01432 <span class="preprocessor">#define LDUT_FN_FREEWINDOW                  33</span>
01433 <span class="preprocessor"></span><span class="preprocessor">#define LDLT_FN_FREEWINDOW                  34</span>
01434 <span class="preprocessor"></span>
01435 <span class="preprocessor">#define LDUT_FN_DESKTOPTHREAD_DESK          35</span>
01436 <span class="preprocessor"></span><span class="preprocessor">#define LDLT_FN_DESKTOPTHREAD_DESK          36</span>
01437 <span class="preprocessor"></span>
01438 <span class="preprocessor">#define LDUT_FN_DESKTOPTHREAD_DESKTEMP      37</span>
01439 <span class="preprocessor"></span><span class="preprocessor">#define LDLT_FN_DESKTOPTHREAD_DESKTEMP      38</span>
01440 <span class="preprocessor"></span>
01441 <span class="preprocessor">#define LDUT_FN_SETDESKTOP                  39</span>
01442 <span class="preprocessor"></span><span class="preprocessor">#define LDLT_FN_SETDESKTOP                  40</span>
01443 <span class="preprocessor"></span>
01444 <span class="preprocessor">#define LDUT_FN_NTUSERSWITCHDESKTOP         41</span>
01445 <span class="preprocessor"></span><span class="preprocessor">#define LDLT_FN_NTUSERSWITCHDESKTOP         42</span>
01446 <span class="preprocessor"></span>
01447 <span class="preprocessor">#define LDUT_FN_SENDMESSAGEBSM1             43</span>
01448 <span class="preprocessor"></span><span class="preprocessor">#define LDUT_FN_SENDMESSAGEBSM2             44</span>
01449 <span class="preprocessor"></span><span class="preprocessor">#define LDLT_FN_SENDMESSAGEBSM              45</span>
01450 <span class="preprocessor"></span>
01451 <span class="preprocessor">#define LDUT_FN_SYSTEMBROADCASTMESSAGE      46</span>
01452 <span class="preprocessor"></span><span class="preprocessor">#define LDLT_FN_SYSTEMBROADCASTMESSAGE      47</span>
01453 <span class="preprocessor"></span>
01454 <span class="preprocessor">#define LDUT_FN_CTXREDRAWSCREEN             48</span>
01455 <span class="preprocessor"></span><span class="preprocessor">#define LDLT_FN_CTXREDRAWSCREEN             49</span>
01456 <span class="preprocessor"></span>
01457 <span class="preprocessor">#define LDUT_FN_CTXDISABLESCREEN            50</span>
01458 <span class="preprocessor"></span><span class="preprocessor">#define LDLT_FN_CTXDISABLESCREEN            51</span>
01459 <span class="preprocessor"></span>
01460 <span class="preprocessor">#define LD_DEREF_FN_CREATEDESKTOP1          52</span>
01461 <span class="preprocessor"></span><span class="preprocessor">#define LD_DEREF_FN_CREATEDESKTOP2          53</span>
01462 <span class="preprocessor"></span><span class="preprocessor">#define LD_DEREF_FN_CREATEDESKTOP3          54</span>
01463 <span class="preprocessor"></span><span class="preprocessor">#define LD_REF_FN_CREATEDESKTOP             55</span>
01464 <span class="preprocessor"></span>
01465 <span class="preprocessor">#define LD_DEREF_FN_OPENDESKTOP             56</span>
01466 <span class="preprocessor"></span><span class="preprocessor">#define LD_REF_FN_OPENDESKTOP               57</span>
01467 <span class="preprocessor"></span>
01468 <span class="preprocessor">#define LD_DEREF_FN_SETDESKTOP              58</span>
01469 <span class="preprocessor"></span><span class="preprocessor">#define LD_REF_FN_SETDESKTOP                59</span>
01470 <span class="preprocessor"></span>
01471 <span class="preprocessor">#define LD_DEREF_FN_GETTHREADDESKTOP        60</span>
01472 <span class="preprocessor"></span><span class="preprocessor">#define LD_REF_FN_GETTHREADDESKTOP          61</span>
01473 <span class="preprocessor"></span>
01474 <span class="preprocessor">#define LD_DEREF_FN_CLOSEDESKTOP1           62</span>
01475 <span class="preprocessor"></span><span class="preprocessor">#define LD_DEREF_FN_CLOSEDESKTOP2           63</span>
01476 <span class="preprocessor"></span><span class="preprocessor">#define LD_REF_FN_CLOSEDESKTOP              64</span>
01477 <span class="preprocessor"></span>
01478 <span class="preprocessor">#define LD_DEREF_FN_RESOLVEDESKTOP          65</span>
01479 <span class="preprocessor"></span><span class="preprocessor">#define LD_REF_FN_RESOLVEDESKTOP            66</span>
01480 <span class="preprocessor"></span>
01481 <span class="preprocessor">#define LD_DEREF_VALIDATE_HDESK1            67</span>
01482 <span class="preprocessor"></span><span class="preprocessor">#define LD_DEREF_VALIDATE_HDESK2            68</span>
01483 <span class="preprocessor"></span><span class="preprocessor">#define LD_DEREF_VALIDATE_HDESK3            69</span>
01484 <span class="preprocessor"></span><span class="preprocessor">#define LD_DEREF_VALIDATE_HDESK4            70</span>
01485 <span class="preprocessor"></span><span class="preprocessor">#define LDL_VALIDATE_HDESK                  71</span>
01486 <span class="preprocessor"></span>
01487 <span class="preprocessor">#define LDUT_FN_CREATETHREADINFO1           72</span>
01488 <span class="preprocessor"></span><span class="preprocessor">#define LDUT_FN_CREATETHREADINFO2           73</span>
01489 <span class="preprocessor"></span><span class="preprocessor">#define LDLT_FN_CREATETHREADINFO            74</span>
01490 <span class="preprocessor"></span>
01491 <span class="preprocessor">#define LD_DEREF_FN_SETCSRSSTHREADDESKTOP1  75</span>
01492 <span class="preprocessor"></span><span class="preprocessor">#define LD_DEREF_FN_SETCSRSSTHREADDESKTOP2  76</span>
01493 <span class="preprocessor"></span><span class="preprocessor">#define LD_REF_FN_SETCSRSSTHREADDESKTOP     77</span>
01494 <span class="preprocessor"></span>
01495 <span class="preprocessor">#define LD_DEREF_FN_CONSOLECONTROL1         78</span>
01496 <span class="preprocessor"></span><span class="preprocessor">#define LD_REF_FN_CONSOLECONTROL1           79</span>
01497 <span class="preprocessor"></span>
01498 <span class="preprocessor">#define LD_DEREF_FN_CONSOLECONTROL2         80</span>
01499 <span class="preprocessor"></span><span class="preprocessor">#define LD_REF_FN_CONSOLECONTROL2           81</span>
01500 <span class="preprocessor"></span>
01501 <span class="preprocessor">#define LD_DEREF_FN_GETUSEROBJECTINFORMATION 82</span>
01502 <span class="preprocessor"></span><span class="preprocessor">#define LD_REF_FN_GETUSEROBJECTINFORMATION   83</span>
01503 <span class="preprocessor"></span>
01504 <span class="preprocessor">#define LD_DEREF_FN_SETUSEROBJECTINFORMATION 84</span>
01505 <span class="preprocessor"></span><span class="preprocessor">#define LD_REF_FN_SETUSEROBJECTINFORMATION   85</span>
01506 <span class="preprocessor"></span>
01507 <span class="preprocessor">#define LD_DEREF_FN_CREATEWINDOWSTATION     86</span>
01508 <span class="preprocessor"></span><span class="preprocessor">#define LD_REF_FN_CREATEWINDOWSTATION       87</span>
01509 <span class="preprocessor"></span>
01510 <span class="preprocessor">#define LDL_TERM_DESKDESTROY1               88</span>
01511 <span class="preprocessor"></span><span class="preprocessor">#define LDL_TERM_DESKDESTROY2               89</span>
01512 <span class="preprocessor"></span>
01513 <span class="preprocessor">#define LDL_MOTHERDESK_DESK2                92</span>
01514 <span class="preprocessor"></span>
01515 <span class="preprocessor">#define LDL_WINSTA_DESKLIST2                93</span>
01516 <span class="preprocessor"></span><span class="preprocessor">#define LDL_WINSTA_DESKLIST1                94</span>
01517 <span class="preprocessor"></span>
01518 <span class="preprocessor">#define LDL_DESKRITINPUT                    95</span>
01519 <span class="preprocessor"></span><span class="preprocessor">#define LDU_DESKRITINPUT                    96</span>
01520 <span class="preprocessor"></span>
01521 <span class="preprocessor">#define LD_DEREF_FN_2CREATEDESKTOP          97</span>
01522 <span class="preprocessor"></span>
01523 <span class="preprocessor">#define LDL_DESK_DESKNEXT2                  98</span>
01524 <span class="preprocessor"></span>
01525 <span class="preprocessor">#define LDL_DESKSHOULDBEFOREGROUND1         99</span>
01526 <span class="preprocessor"></span><span class="preprocessor">#define LDL_DESKSHOULDBEFOREGROUND2         100</span>
01527 <span class="preprocessor"></span><span class="preprocessor">#define LDL_DESKSHOULDBEFOREGROUND3         101</span>
01528 <span class="preprocessor"></span>
01529 <span class="preprocessor">#define LDL_HOOK_DESK                       102</span>
01530 <span class="preprocessor"></span><span class="preprocessor">#define LDU_HOOK_DESK                       103</span>
01531 <span class="preprocessor"></span>
01532 <span class="preprocessor">#define LDU_DESKSHOULDBEFOREGROUND          105</span>
01533 <span class="preprocessor"></span>
01534 <span class="preprocessor">#define LDU_MOTHERDESK_DESK                 106</span>
01535 <span class="preprocessor"></span>
01536 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a120">LogDesktop</a>(<a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a> pdesk, DWORD tag, BOOL bLock, ULONG_PTR extra);
01537 
01538 <span class="preprocessor">#else</span>
<a name="l01539"></a><a class="code" href="../../d4/d1/userk_8h.html#a120">01539</a> <span class="preprocessor"></span><span class="preprocessor">    #define LogDesktop(pdesk, tag, bLock, extra)</span>
01540 <span class="preprocessor"></span><span class="preprocessor">#endif // LOGDESKTOPLOCKS</span>
01541 <span class="preprocessor"></span>
01542 <span class="comment">/*</span>
01543 <span class="comment"> * Routines for referencing and assigning kernel objects.</span>
01544 <span class="comment"> */</span>
01545 <span class="preprocessor">#ifdef LOGDESKTOPLOCKS</span>
01546 <span class="preprocessor"></span>    <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a985">LockObjectAssignment</a>(PVOID*, PVOID, DWORD, ULONG_PTR);
01547     <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a986">UnlockObjectAssignment</a>(PVOID*, DWORD, ULONG_PTR);
01548 <span class="preprocessor">#else</span>
01549 <span class="preprocessor"></span>    <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a985">LockObjectAssignment</a>(PVOID*, PVOID);
01550     <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a986">UnlockObjectAssignment</a>(PVOID*);
01551 <span class="preprocessor">#endif</span>
01552 <span class="preprocessor"></span>
01553 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a987">UserDereferenceObject</a>(PVOID pobj);
01554 
<a name="l01555"></a><a class="code" href="../../d4/d1/userk_8h.html#a121">01555</a> <span class="preprocessor">#define ThreadLockObject(pobj, ptl)                                                 \</span>
01556 <span class="preprocessor">{                                                                                   \</span>
01557 <span class="preprocessor">    UserAssert(!(PpiCurrent()-&gt;W32PF_Flags &amp; W32PF_TERMINATED));                    \</span>
01558 <span class="preprocessor">    UserAssert(pobj == NULL || OBJECT_TO_OBJECT_HEADER(pobj)-&gt;PointerCount != 0);   \</span>
01559 <span class="preprocessor">    PushW32ThreadLock(pobj, ptl, UserDereferenceObject);                            \</span>
01560 <span class="preprocessor">    if (pobj != NULL) {                                                             \</span>
01561 <span class="preprocessor">        ObReferenceObject(pobj);                                                    \</span>
01562 <span class="preprocessor">    }                                                                               \</span>
01563 <span class="preprocessor">}</span>
01564 <span class="preprocessor"></span>
<a name="l01565"></a><a class="code" href="../../d4/d1/userk_8h.html#a122">01565</a> <span class="preprocessor">#define ThreadLockExchangeObject(pobj, ptl)                                         \</span>
01566 <span class="preprocessor">{                                                                                   \</span>
01567 <span class="preprocessor">    UserAssert(!(PpiCurrent()-&gt;W32PF_Flags &amp; W32PF_TERMINATED));                    \</span>
01568 <span class="preprocessor">    UserAssert(pobj == NULL || OBJECT_TO_OBJECT_HEADER(pobj)-&gt;PointerCount != 0);   \</span>
01569 <span class="preprocessor">    if (pobj != NULL) {                                                             \</span>
01570 <span class="preprocessor">        ObReferenceObject(pobj);                                                    \</span>
01571 <span class="preprocessor">    }                                                                               \</span>
01572 <span class="preprocessor">    ExchangeW32ThreadLock(pobj, ptl);                                               \</span>
01573 <span class="preprocessor">}</span>
01574 <span class="preprocessor"></span>
<a name="l01575"></a><a class="code" href="../../d4/d1/userk_8h.html#a123">01575</a> <span class="preprocessor">#define ThreadUnlockObject(ptl)                                                     \</span>
01576 <span class="preprocessor">{                                                                                   \</span>
01577 <span class="preprocessor">    PopAndFreeW32ThreadLock(ptl);                                                   \</span>
01578 <span class="preprocessor">}                                                                                   \</span>
01579 <span class="preprocessor"></span>
01580 <span class="preprocessor"></span><span class="preprocessor">#ifdef LOGDESKTOPLOCKS</span>
01581 <span class="preprocessor"></span>
01582 <span class="preprocessor">    #define UnlockWinSta(ppwinsta) \</span>
01583 <span class="preprocessor">            UnlockObjectAssignment(ppwinsta, 0, 0)</span>
01584 <span class="preprocessor"></span>
01585 <span class="preprocessor">    #define LockWinSta(ppwinsta, pwinsta) \</span>
01586 <span class="preprocessor">    {                                                                                           \</span>
01587 <span class="preprocessor">        if (pwinsta != NULL)                                                                    \</span>
01588 <span class="preprocessor">        {                                                                                       \</span>
01589 <span class="preprocessor">            UserAssert(OBJECT_TO_OBJECT_HEADER(pwinsta)-&gt;Type == *ExWindowStationObjectType);   \</span>
01590 <span class="preprocessor">        }                                                                                       \</span>
01591 <span class="preprocessor">        LockObjectAssignment(ppwinsta, pwinsta, 0, 0);                                                \</span>
01592 <span class="preprocessor">    }</span>
01593 <span class="preprocessor"></span>
01594 <span class="preprocessor">    #define LockDesktop(ppdesk, pdesk, tag, extra) \</span>
01595 <span class="preprocessor">    {                                                                                           \</span>
01596 <span class="preprocessor">        if (pdesk != NULL)                                                                      \</span>
01597 <span class="preprocessor">        {                                                                                       \</span>
01598 <span class="preprocessor">            UserAssert(OBJECT_TO_OBJECT_HEADER(pdesk)-&gt;Type == *ExDesktopObjectType);           \</span>
01599 <span class="preprocessor">        }                                                                                       \</span>
01600 <span class="preprocessor">        LockObjectAssignment(ppdesk, pdesk, tag, extra);                                        \</span>
01601 <span class="preprocessor">    }</span>
01602 <span class="preprocessor"></span>
01603 <span class="preprocessor">    #define UnlockDesktop(ppdesk, tag, extra) \</span>
01604 <span class="preprocessor">            UnlockObjectAssignment(ppdesk, tag, extra)</span>
01605 <span class="preprocessor"></span>
01606 <span class="preprocessor">    #define ThreadLockDesktop(pti, pdesk, ptl, tag) \</span>
01607 <span class="preprocessor">    {                                                                                           \</span>
01608 <span class="preprocessor">        UserAssert(pdesk == NULL || OBJECT_TO_OBJECT_HEADER(pdesk)-&gt;Type == *ExDesktopObjectType);\</span>
01609 <span class="preprocessor">        ThreadLockObject(pdesk, ptl);                                                           \</span>
01610 <span class="preprocessor">        LogDesktop(pdesk, tag, TRUE, (ULONG_PTR)PtiCurrent());                                      \</span>
01611 <span class="preprocessor">    }</span>
01612 <span class="preprocessor"></span>
01613 <span class="preprocessor">    #define ThreadLockExchangeDesktop(pti, pdesk, ptl, tag) \</span>
01614 <span class="preprocessor">    {                                                                                           \</span>
01615 <span class="preprocessor">        UserAssert(pdesk == NULL || OBJECT_TO_OBJECT_HEADER(pdesk)-&gt;Type == *ExDesktopObjectType);\</span>
01616 <span class="preprocessor">        ThreadLockExchangeObject(pdesk, ptl);                                                   \</span>
01617 <span class="preprocessor">        LogDesktop(pdesk, tag, TRUE, (ULONG_PTR)PtiCurrent());                                  \</span>
01618 <span class="preprocessor">    }</span>
01619 <span class="preprocessor"></span>
01620 <span class="preprocessor">    #define ThreadUnlockDesktop(pti, ptl, tag)                                                  \</span>
01621 <span class="preprocessor">    {                                                                                           \</span>
01622 <span class="preprocessor">        LogDesktop((PDESKTOP)(((PTL)ptl)-&gt;pobj), tag, FALSE, (ULONG_PTR)PtiCurrent());                \</span>
01623 <span class="preprocessor">        ThreadUnlockObject(ptl);                                                                \</span>
01624 <span class="preprocessor">    }</span>
01625 <span class="preprocessor"></span>
01626 <span class="preprocessor">#else</span>
01627 <span class="preprocessor"></span>
<a name="l01628"></a><a class="code" href="../../d4/d1/userk_8h.html#a124">01628</a> <span class="preprocessor">    #define UnlockWinSta(ppwinsta) \</span>
01629 <span class="preprocessor">            UnlockObjectAssignment(ppwinsta)</span>
01630 <span class="preprocessor"></span>
<a name="l01631"></a><a class="code" href="../../d4/d1/userk_8h.html#a125">01631</a> <span class="preprocessor">    #define LockWinSta(ppwinsta, pwinsta) \</span>
01632 <span class="preprocessor">    {                                                                                           \</span>
01633 <span class="preprocessor">        if (pwinsta != NULL)                                                                    \</span>
01634 <span class="preprocessor">        {                                                                                       \</span>
01635 <span class="preprocessor">            UserAssert(OBJECT_TO_OBJECT_HEADER(pwinsta)-&gt;Type == *ExWindowStationObjectType);   \</span>
01636 <span class="preprocessor">        }                                                                                       \</span>
01637 <span class="preprocessor">        LockObjectAssignment(ppwinsta, pwinsta);                                                \</span>
01638 <span class="preprocessor">    }</span>
01639 <span class="preprocessor"></span>
<a name="l01640"></a><a class="code" href="../../d4/d1/userk_8h.html#a126">01640</a> <span class="preprocessor">    #define LockDesktop(ppdesk, pdesk, tag, extra) \</span>
01641 <span class="preprocessor">    {                                                                                           \</span>
01642 <span class="preprocessor">        if (pdesk != NULL)                                                                      \</span>
01643 <span class="preprocessor">        {                                                                                       \</span>
01644 <span class="preprocessor">            UserAssert(OBJECT_TO_OBJECT_HEADER(pdesk)-&gt;Type == *ExDesktopObjectType);           \</span>
01645 <span class="preprocessor">        }                                                                                       \</span>
01646 <span class="preprocessor">        LockObjectAssignment(ppdesk, pdesk);                                                    \</span>
01647 <span class="preprocessor">    }</span>
01648 <span class="preprocessor"></span>
<a name="l01649"></a><a class="code" href="../../d4/d1/userk_8h.html#a127">01649</a> <span class="preprocessor">    #define UnlockDesktop(ppdesk, tag, extra) \</span>
01650 <span class="preprocessor">            UnlockObjectAssignment(ppdesk)</span>
01651 <span class="preprocessor"></span>
<a name="l01652"></a><a class="code" href="../../d4/d1/userk_8h.html#a128">01652</a> <span class="preprocessor">    #define ThreadLockDesktop(pti, pdesk, ptl, tag) \</span>
01653 <span class="preprocessor">    {                                                                                           \</span>
01654 <span class="preprocessor">        UserAssert(pdesk == NULL || OBJECT_TO_OBJECT_HEADER(pdesk)-&gt;Type == *ExDesktopObjectType);\</span>
01655 <span class="preprocessor">        ThreadLockObject(pdesk, ptl);                                                           \</span>
01656 <span class="preprocessor">    }</span>
01657 <span class="preprocessor"></span>
<a name="l01658"></a><a class="code" href="../../d4/d1/userk_8h.html#a129">01658</a> <span class="preprocessor">    #define ThreadLockExchangeDesktop(pti, pdesk, ptl, tag) \</span>
01659 <span class="preprocessor">    {                                                                                           \</span>
01660 <span class="preprocessor">        UserAssert(pdesk == NULL || OBJECT_TO_OBJECT_HEADER(pdesk)-&gt;Type == *ExDesktopObjectType);\</span>
01661 <span class="preprocessor">        ThreadLockExchangeObject(pdesk, ptl);                                                   \</span>
01662 <span class="preprocessor">    }</span>
01663 <span class="preprocessor"></span>
<a name="l01664"></a><a class="code" href="../../d4/d1/userk_8h.html#a130">01664</a> <span class="preprocessor">    #define ThreadUnlockDesktop(pti, ptl, tag) ThreadUnlockObject(ptl)</span>
01665 <span class="preprocessor"></span>
01666 <span class="preprocessor">#endif // LOGDESKTOPLOCKS</span>
01667 <span class="preprocessor"></span>
<a name="l01668"></a><a class="code" href="../../d4/d1/userk_8h.html#a131">01668</a> <span class="preprocessor">#define ThreadLockWinSta(pti, pwinsta, ptl) \</span>
01669 <span class="preprocessor">{                                                                                           \</span>
01670 <span class="preprocessor">    UserAssert(pwinsta == NULL || OBJECT_TO_OBJECT_HEADER(pwinsta)-&gt;Type == *ExWindowStationObjectType);\</span>
01671 <span class="preprocessor">    ThreadLockObject(pwinsta, ptl);                                                         \</span>
01672 <span class="preprocessor">}</span>
01673 <span class="preprocessor"></span>
<a name="l01674"></a><a class="code" href="../../d4/d1/userk_8h.html#a132">01674</a> <span class="preprocessor">#define ThreadLockExchangeWinSta(pti, pwinsta, ptl) \</span>
01675 <span class="preprocessor">{                                                                                           \</span>
01676 <span class="preprocessor">    UserAssert(pwinsta == NULL || OBJECT_TO_OBJECT_HEADER(pwinsta)-&gt;Type == *ExWindowStationObjectType);\</span>
01677 <span class="preprocessor">    ThreadLockExchangeObject(pwinsta, ptl);                                                 \</span>
01678 <span class="preprocessor">}</span>
01679 <span class="preprocessor"></span>
<a name="l01680"></a><a class="code" href="../../d4/d1/userk_8h.html#a133">01680</a> <span class="preprocessor">#define _ThreadLockPti(pti, pobj, ptl) LockW32Thread((PW32THREAD)pobj, ptl)</span>
01681 <span class="preprocessor"></span><span class="preprocessor">#if DBG</span>
01682 <span class="preprocessor"></span><span class="preprocessor">#define ThreadLockPti(pti, pobj, ptl) \</span>
01683 <span class="preprocessor">{ \</span>
01684 <span class="preprocessor">    if ((pobj != NULL) \</span>
01685 <span class="preprocessor">            &amp;&amp; (pobj-&gt;TIF_flags &amp; TIF_INCLEANUP) \</span>
01686 <span class="preprocessor">            &amp;&amp; (pobj != PtiCurrent())) { \</span>
01687 <span class="preprocessor">        RIPMSG1(RIP_ERROR, "ThreadLockPti: dead thread %#p", pobj); \</span>
01688 <span class="preprocessor">    } \</span>
01689 <span class="preprocessor">    _ThreadLockPti(pti, pobj, ptl); \</span>
01690 <span class="preprocessor">}</span>
01691 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l01692"></a><a class="code" href="../../d4/d1/userk_8h.html#a134">01692</a> <span class="preprocessor"></span><span class="preprocessor">#define ThreadLockPti(pti, pobj, ptl) \</span>
01693 <span class="preprocessor">{ \</span>
01694 <span class="preprocessor">    _ThreadLockPti(pti, pobj, ptl); \</span>
01695 <span class="preprocessor">}</span>
01696 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
01697 <span class="preprocessor"></span>
<a name="l01698"></a><a class="code" href="../../d4/d1/userk_8h.html#a135">01698</a> <span class="preprocessor">#define ThreadUnlockWinSta(pti, ptl) ThreadUnlockObject(ptl)</span>
<a name="l01699"></a><a class="code" href="../../d4/d1/userk_8h.html#a136">01699</a> <span class="preprocessor"></span><span class="preprocessor">#define ThreadUnlockPti(pti, ptl) UnlockW32Thread(ptl)</span>
01700 <span class="preprocessor"></span>
01701 <span class="comment">/*</span>
01702 <span class="comment"> * Macros for locking pool allocations</span>
01703 <span class="comment"> */</span>
<a name="l01704"></a><a class="code" href="../../d4/d1/userk_8h.html#a137">01704</a> <span class="preprocessor">#define ThreadLockPool(_pti_, _ppool_, _ptl_)  \</span>
01705 <span class="preprocessor">        PushW32ThreadLock(_ppool_, _ptl_, UserFreePool)</span>
01706 <span class="preprocessor"></span>
<a name="l01707"></a><a class="code" href="../../d4/d1/userk_8h.html#a138">01707</a> <span class="preprocessor">#define ThreadUnlockPool(_pti_, _ptl_)  \</span>
01708 <span class="preprocessor">        PopW32ThreadLock(_ptl_)</span>
01709 <span class="preprocessor"></span>
<a name="l01710"></a><a class="code" href="../../d4/d1/userk_8h.html#a139">01710</a> <span class="preprocessor">#define ThreadUnlockAndFreePool(_pti_, _ptl_)  \</span>
01711 <span class="preprocessor">        PopAndFreeAlwaysW32ThreadLock(_ptl_)</span>
01712 <span class="preprocessor"></span>
<a name="l01713"></a><a class="code" href="../../d4/d1/userk_8h.html#a140">01713</a> <span class="preprocessor">#define ThreadLockPoolCleanup(_pti_, _ppool_, _ptl_, _pfn_)  \</span>
01714 <span class="preprocessor">        PushW32ThreadLock(_ppool_, _ptl_, _pfn_)</span>
01715 <span class="preprocessor"></span>
<a name="l01716"></a><a class="code" href="../../d4/d1/userk_8h.html#a141">01716</a> <span class="preprocessor">#define ThreadUnlockPoolCleanup(_pti_, _ptl_)  \</span>
01717 <span class="preprocessor">        PopW32ThreadLock(_ptl_)</span>
01718 <span class="preprocessor"></span>
<a name="l01719"></a><a class="code" href="../../d4/d1/userk_8h.html#a142">01719</a> <span class="preprocessor">#define ThreadUnlockAndCleanupPool(_pti_, _ptl_)  \</span>
01720 <span class="preprocessor">        PopAndFreeAlwaysW32ThreadLock(_ptl_)</span>
01721 <span class="preprocessor"></span>
<a name="l01722"></a><a class="code" href="../../d4/d1/userk_8h.html#a143">01722</a> <span class="preprocessor">#define ThreadLockDesktopHandle(_pti, _ptl_, _hdesk_)   \</span>
01723 <span class="preprocessor">        PushW32ThreadLock(_hdesk_, _ptl_, CloseProtectedHandle)</span>
01724 <span class="preprocessor"></span>
<a name="l01725"></a><a class="code" href="../../d4/d1/userk_8h.html#a144">01725</a> <span class="preprocessor">#define ThreadUnlockDesktopHandle(_ptl_)   \</span>
01726 <span class="preprocessor">        PopAndFreeAlwaysW32ThreadLock(_ptl_)</span>
01727 <span class="preprocessor"></span>
01728 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a988">CleanupDecSFWLockCount</a>(PVOID pIgnore);
<a name="l01729"></a><a class="code" href="../../d4/d1/userk_8h.html#a145">01729</a> <span class="preprocessor">#define ThreadLockSFWLockCount(_ptl_) \</span>
01730 <span class="preprocessor">        { \</span>
01731 <span class="preprocessor">            IncSFWLockCount(); \</span>
01732 <span class="preprocessor">            </span><span class="comment">/* Pass a fake pObj or the cleanup function won't be called */</span> \
01733             PushW32ThreadLock(&amp;guSFWLockCount, _ptl_, CleanupDecSFWLockCount); \
01734         }
01735 
<a name="l01736"></a><a class="code" href="../../d4/d1/userk_8h.html#a146">01736</a> <span class="preprocessor">#define ThreadUnlockSFWLockCount(_ptl_) \</span>
01737 <span class="preprocessor">    { \</span>
01738 <span class="preprocessor">        DecSFWLockCount(); \</span>
01739 <span class="preprocessor">        PopW32ThreadLock(_ptl_); \</span>
01740 <span class="preprocessor">    }</span>
01741 <span class="preprocessor"></span>
01742 <span class="comment">/*</span>
01743 <span class="comment"> * special handle that signifies we have a rle bitmap for the wallpaper</span>
01744 <span class="comment"> */</span>
<a name="l01745"></a><a class="code" href="../../d4/d1/userk_8h.html#a147">01745</a> <span class="preprocessor">#define HBITMAP_RLE ((HBITMAP)0xffffffff)</span>
01746 <span class="preprocessor"></span>
<a name="l01747"></a><a class="code" href="../../d9/d9/structtagWPINFO.html">01747</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d9/structtagWPINFO.html">tagWPINFO</a> {
<a name="l01748"></a><a class="code" href="../../d9/d9/structtagWPINFO.html#o1">01748</a>     <span class="keywordtype">int</span> <a class="code" href="../../d9/d9/structtagWPINFO.html#o0">xsize</a>, <a class="code" href="../../d9/d9/structtagWPINFO.html#o1">ysize</a>;
<a name="l01749"></a><a class="code" href="../../d9/d9/structtagWPINFO.html#o2">01749</a>     PBITMAPINFO <a class="code" href="../../d9/d9/structtagWPINFO.html#o2">pbmi</a>;
<a name="l01750"></a><a class="code" href="../../d9/d9/structtagWPINFO.html#o3">01750</a>     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> <a class="code" href="../../d9/d9/structtagWPINFO.html#o3">pdata</a>;
<a name="l01751"></a><a class="code" href="../../d9/d9/structtagWPINFO.html#o4">01751</a>     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> <a class="code" href="../../d9/d9/structtagWPINFO.html#o4">pbmfh</a>;
01752 } <a class="code" href="../../d9/d9/structtagWPINFO.html">WPINFO</a>;
01753 
01754 <span class="comment">/*</span>
01755 <span class="comment"> * Defines used by GetMouseMovePointsEx API</span>
01756 <span class="comment"> */</span>
01757 
<a name="l01758"></a><a class="code" href="../../d4/d1/userk_8h.html#a148">01758</a> <span class="preprocessor">#define MAX_MOUSEPOINTS 64</span>
01759 <span class="preprocessor"></span>
<a name="l01760"></a><a class="code" href="../../d4/d1/userk_8h.html#a149">01760</a> <span class="preprocessor">#define PREVPOINT(i)    \</span>
01761 <span class="preprocessor">    ((i == 0) ? (MAX_MOUSEPOINTS - 1) : ((i - 1) % MAX_MOUSEPOINTS))</span>
01762 <span class="preprocessor"></span>
<a name="l01763"></a><a class="code" href="../../d4/d1/userk_8h.html#a150">01763</a> <span class="preprocessor">#define NEXTPOINT(i)    \</span>
01764 <span class="preprocessor">    ((i + 1) % MAX_MOUSEPOINTS)</span>
01765 <span class="preprocessor"></span>
<a name="l01766"></a><a class="code" href="../../d4/d1/userk_8h.html#a151">01766</a> <span class="preprocessor">#define NEXTPOINTCOUNT(c)           \</span>
01767 <span class="preprocessor">    {                               \</span>
01768 <span class="preprocessor">        if (c &lt; MAX_MOUSEPOINTS)    \</span>
01769 <span class="preprocessor">            c++;                    \</span>
01770 <span class="preprocessor">    }</span>
01771 <span class="preprocessor"></span>
<a name="l01772"></a><a class="code" href="../../d4/d1/userk_8h.html#a152">01772</a> <span class="preprocessor">#define SAVEPOINT(xc, yc, resX, resY, t, e)                         \</span>
01773 <span class="preprocessor">{                                                                   \</span>
01774 <span class="preprocessor">    </span><span class="comment">/*                                                              \</span>
01775 <span class="comment">     * (xc, yc) is the point and (resX, resY) is the resolution     \</span>
01776 <span class="comment">     */</span>                                                             \
01777     gaptMouse[gptInd].x = MAKELONG(LOWORD(xc), LOWORD(resX));       \
01778     gaptMouse[gptInd].y = MAKELONG(LOWORD(yc), LOWORD(resY));       \
01779     gaptMouse[gptInd].time        = t;                              \
01780     gaptMouse[gptInd].dwExtraInfo = e;                              \
01781                                                                     \
01782     gptInd = NEXTPOINT(gptInd);                                     \
01783 }
01784 
01785 
01786 <span class="comment">/*</span>
01787 <span class="comment"> * Structure used for getting the stack traces for user critical section</span>
<a name="l01788"></a><a class="code" href="../../d4/d1/userk_8h.html#a153">01788</a> <span class="comment"> */</span>
01789 
<a name="l01790"></a><a class="code" href="../../d4/d1/structtagCRITSTACK.html">01790</a> <span class="preprocessor">#define MAX_STACK_CALLS 8</span>
<a name="l01791"></a><a class="code" href="../../d4/d1/structtagCRITSTACK.html#o0">01791</a> <span class="preprocessor"></span>
<a name="l01792"></a><a class="code" href="../../d4/d1/structtagCRITSTACK.html#o1">01792</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d4/d1/structtagCRITSTACK.html">tagCRITSTACK</a> {
<a name="l01793"></a><a class="code" href="../../d4/d1/structtagCRITSTACK.html#o2">01793</a> <span class="keyword">struct </span><a class="code" href="../../d4/d1/structtagCRITSTACK.html">tagCRITSTACK</a>* <a class="code" href="../../d4/d1/structtagCRITSTACK.html#o0">pNext</a>;
<a name="l01794"></a><a class="code" href="../../d4/d1/structtagCRITSTACK.html#o3">01794</a>     <a class="code" href="../../d5/d6/struct__ETHREAD.html">PETHREAD</a>         <a class="code" href="../../d4/d1/structtagCRITSTACK.html#o1">thread</a>;
01795     <span class="keywordtype">int</span>              <a class="code" href="../../d4/d1/structtagCRITSTACK.html#o2">nFrames</a>;
01796     PVOID            <a class="code" href="../../d4/d1/structtagCRITSTACK.html#o3">trace</a>[ <a class="code" href="../../d4/d1/userk_8h.html#a153">MAX_STACK_CALLS</a> ];
01797 } <a class="code" href="../../d4/d1/structtagCRITSTACK.html">CRITSTACK</a>, *<a class="code" href="../../d4/d1/structtagCRITSTACK.html">PCRITSTACK</a>;
01798 
01799 
01800 <span class="comment">/*</span>
01801 <span class="comment"> * Macros for User Server and Raw Input Thread critical sections.</span>
01802 <span class="comment"> */</span>
01803 <span class="preprocessor">#if DBG</span>
01804 <span class="preprocessor"></span><span class="preprocessor">    #define KeUserModeCallback(api, pIn, cb, pOut, pcb)    _KeUserModeCallback(api, pIn, cb, pOut, pcb);</span>
01805 <span class="preprocessor"></span><span class="preprocessor">    #define CheckCritIn()                _AssertCritIn()</span>
01806 <span class="preprocessor"></span><span class="preprocessor">    #define CheckDeviceInfoListCritIn()  _AssertDeviceInfoListCritIn()</span>
01807 <span class="preprocessor"></span><span class="preprocessor">    #define CheckCritInShared()          _AssertCritInShared()</span>
01808 <span class="preprocessor"></span><span class="preprocessor">    #define CheckCritOut()               _AssertCritOut()</span>
01809 <span class="preprocessor"></span><span class="preprocessor">    #define CheckDeviceInfoListCritOut() _AssertDeviceInfoListCritOut()</span>
01810 <span class="preprocessor"></span>
01811     <span class="keywordtype">void</span>    <a class="code" href="../../d4/d1/userk_8h.html#a161">BeginAtomicCheck</a>();
01812     <span class="keywordtype">void</span>    <a class="code" href="../../d4/d1/userk_8h.html#a162">BeginAtomicDeviceInfoListCheck</a>();
01813     <span class="keywordtype">void</span>    <a class="code" href="../../d4/d1/userk_8h.html#a165">EndAtomicCheck</a>();
01814     <span class="keywordtype">void</span>    <a class="code" href="../../d4/d1/userk_8h.html#a166">EndAtomicDeviceInfoListCheck</a>();
01815 <span class="preprocessor">    #define BEGINATOMICCHECK()     BeginAtomicCheck();                              \</span>
01816 <span class="preprocessor">                                    { DWORD dwCritSecUseSave = gdwCritSecUseCount;</span>
01817 <span class="preprocessor"></span>
01818 <span class="preprocessor">    #define ENDATOMICCHECK()        UserAssert(dwCritSecUseSave == gdwCritSecUseCount);  \</span>
01819 <span class="preprocessor">                                    } EndAtomicCheck();</span>
01820 <span class="preprocessor"></span><span class="preprocessor">    #define BEGINATOMICDEVICEINFOLISTCHECK() \</span>
01821 <span class="preprocessor">            BeginAtomicDeviceInfoListCheck(); \</span>
01822 <span class="preprocessor">            { DWORD dwDeviceInfoListCritSecUseSave = gdwDeviceInfoListCritSecUseCount;</span>
01823 <span class="preprocessor"></span>
01824 <span class="preprocessor">    #define ENDATOMICDEVICEINFOLISTCHECK() \</span>
01825 <span class="preprocessor">            UserAssert(dwDeviceInfoListCritSecUseSave == gdwDeviceInfoListCritSecUseCount);  \</span>
01826 <span class="preprocessor">            } EndAtomicDeviceInfoListCheck();</span>
01827 <span class="preprocessor"></span>
01828     <span class="comment">// Use this to jump/return out of scope of dwCritSecUseSave (eg: error handling)</span>
01829 <span class="preprocessor">    #define EXITATOMICCHECK()       UserAssert(dwCritSecUseSave == gdwCritSecUseCount);  \</span>
01830 <span class="preprocessor">                                    EndAtomicCheck();</span>
01831 <span class="preprocessor"></span><span class="preprocessor">    #define ISATOMICCHECK()         (gdwInAtomicOperation != 0)</span>
01832 <span class="preprocessor"></span><span class="preprocessor">    #define ISATOMICDEVICEINFOLISTCHECK() (gdwInAtomicDeviceInfoListOperation != 0)</span>
<a name="l01833"></a><a class="code" href="../../d4/d1/userk_8h.html#a154">01833</a> <span class="preprocessor"></span>
<a name="l01834"></a><a class="code" href="../../d4/d1/userk_8h.html#a155">01834</a> <span class="preprocessor">#else // DBG</span>
<a name="l01835"></a><a class="code" href="../../d4/d1/userk_8h.html#a156">01835</a> <span class="preprocessor"></span><span class="preprocessor">    #define CheckCritIn()</span>
<a name="l01836"></a><a class="code" href="../../d4/d1/userk_8h.html#a157">01836</a> <span class="preprocessor"></span><span class="preprocessor">    #define CheckDeviceInfoListCritIn()</span>
<a name="l01837"></a><a class="code" href="../../d4/d1/userk_8h.html#a158">01837</a> <span class="preprocessor"></span><span class="preprocessor">    #define CheckCritInShared()</span>
<a name="l01838"></a><a class="code" href="../../d4/d1/userk_8h.html#a159">01838</a> <span class="preprocessor"></span><span class="preprocessor">    #define CheckCritOut()</span>
<a name="l01839"></a><a class="code" href="../../d4/d1/userk_8h.html#a160">01839</a> <span class="preprocessor"></span><span class="preprocessor">    #define CheckDeviceInfoListCritOut()</span>
<a name="l01840"></a><a class="code" href="../../d4/d1/userk_8h.html#a161">01840</a> <span class="preprocessor"></span><span class="preprocessor">    #define BEGINATOMICCHECK()</span>
<a name="l01841"></a><a class="code" href="../../d4/d1/userk_8h.html#a162">01841</a> <span class="preprocessor"></span><span class="preprocessor">    #define BEGINATOMICDEVICEINFOLISTCHECK()</span>
<a name="l01842"></a><a class="code" href="../../d4/d1/userk_8h.html#a163">01842</a> <span class="preprocessor"></span><span class="preprocessor">    #define BeginAtomicCheck()</span>
<a name="l01843"></a><a class="code" href="../../d4/d1/userk_8h.html#a164">01843</a> <span class="preprocessor"></span><span class="preprocessor">    #define BeginAtomicDeviceInfoListCheck()</span>
<a name="l01844"></a><a class="code" href="../../d4/d1/userk_8h.html#a165">01844</a> <span class="preprocessor"></span><span class="preprocessor">    #define ENDATOMICCHECK()</span>
<a name="l01845"></a><a class="code" href="../../d4/d1/userk_8h.html#a166">01845</a> <span class="preprocessor"></span><span class="preprocessor">    #define ENDATOMICDEVICEINFOLISTCHECK()</span>
<a name="l01846"></a><a class="code" href="../../d4/d1/userk_8h.html#a167">01846</a> <span class="preprocessor"></span><span class="preprocessor">    #define EndAtomicCheck()</span>
<a name="l01847"></a><a class="code" href="../../d4/d1/userk_8h.html#a168">01847</a> <span class="preprocessor"></span><span class="preprocessor">    #define EndAtomicDeviceInfoListCheck()</span>
<a name="l01848"></a><a class="code" href="../../d4/d1/userk_8h.html#a169">01848</a> <span class="preprocessor"></span><span class="preprocessor">    #define EXITATOMICCHECK()</span>
01849 <span class="preprocessor"></span><span class="preprocessor">    #define ISATOMICCHECK()</span>
01850 <span class="preprocessor"></span><span class="preprocessor">    #define ISATOMICDEVICEINFOLISTCHECK()</span>
01851 <span class="preprocessor"></span><span class="preprocessor">#endif // DBG</span>
<a name="l01852"></a><a class="code" href="../../d4/d1/userk_8h.html#a170">01852</a> <span class="preprocessor"></span>
01853 
01854 <span class="preprocessor">#define DIAGNOSE_IO 1</span>
<a name="l01855"></a><a class="code" href="../../d4/d1/userk_8h.html#a171">01855</a> <span class="preprocessor"></span><span class="preprocessor">#ifdef DIAGNOSE_IO</span>
01856 <span class="preprocessor"></span>ULONG <a class="code" href="../../d6/d8/ntinput_8c.html#a34">MonotonicTick</a>();
01857 <span class="preprocessor">#define LOGTIME(gt) gt = MonotonicTick();</span>
01858 <span class="preprocessor"></span><span class="preprocessor">#else</span>
01859 <span class="preprocessor"></span><span class="preprocessor">#define LOGTIME(gt)</span>
01860 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
01861 <span class="preprocessor"></span>
01862 <span class="comment">/*</span>
<a name="l01863"></a><a class="code" href="../../d4/d1/userk_8h.html#a172">01863</a> <span class="comment"> * #defines used for mouse/keyboard read buffer</span>
<a name="l01864"></a><a class="code" href="../../d4/d1/userk_8h.html#a173">01864</a> <span class="comment"> */</span>
01865 <span class="preprocessor">#define MAXIMUM_ITEMS_READ 10</span>
01866 <span class="preprocessor"></span><span class="preprocessor">#define NELEM_BUTTONQUEUE 16</span>
01867 <span class="preprocessor"></span>
01868 <span class="comment">/*</span>
<a name="l01869"></a><a class="code" href="../../d4/d1/userk_8h.html#a174">01869</a> <span class="comment"> * Number of times to retry reading a device after a read attempt fails</span>
01870 <span class="comment"> */</span>
<a name="l01871"></a><a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html">01871</a> <span class="preprocessor">#define MAXIMUM_READ_RETRIES 5</span>
<a name="l01872"></a><a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o0">01872</a> <span class="preprocessor"></span>
<a name="l01873"></a><a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o1">01873</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html">tagGENERIC_DEVICE_INFO</a> {
<a name="l01874"></a><a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o2">01874</a>     <span class="keyword">struct </span><a class="code" href="../../d5/d3/structtagDEVICEINFO.html">tagDEVICEINFO</a> *<a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o0">pNext</a>;
<a name="l01875"></a><a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o3">01875</a>     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>                 <a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o1">type</a>;
<a name="l01876"></a><a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o4">01876</a>     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>                 <a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o2">bFlags</a>;
<a name="l01877"></a><a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o5">01877</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>               <a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o3">usActions</a>;
<a name="l01878"></a><a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o6">01878</a>     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>                 <a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o4">nRetryRead</a>;
<a name="l01879"></a><a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o7">01879</a>     UNICODE_STRING       <a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o5">ustrName</a>;
<a name="l01880"></a><a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o8">01880</a>     HANDLE               <a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o6">handle</a>;
<a name="l01881"></a><a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o9">01881</a>     PVOID                <a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o7">NotificationEntry</a>;
<a name="l01882"></a><a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o10">01882</a>     <a class="code" href="../../d2/d6/struct__KEVENT.html">PKEVENT</a>              <a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o8">pkeHidChangeCompleted</a>; <span class="comment">// wake RequestDeviceChange()</span>
01883     IO_STATUS_BLOCK      <a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o9">iosb</a>;
<a name="l01884"></a><a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o11">01884</a>     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>             <a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o10">ReadStatus</a>;
<a name="l01885"></a><a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o12">01885</a> <span class="preprocessor">#ifdef DIAGNOSE_IO</span>
<a name="l01886"></a><a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o13">01886</a> <span class="preprocessor"></span>    HANDLE               <a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o11">OpenerProcess</a>;
<a name="l01887"></a><a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o14">01887</a>     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>             <a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o12">OpenStatus</a>;
<a name="l01888"></a><a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o15">01888</a>     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>             <a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o13">AttrStatus</a>;
<a name="l01889"></a><a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o16">01889</a>     ULONG                <a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o14">timeStartRead</a>;     <span class="comment">// tick before ZwReadFile</span>
01890     ULONG                <a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o15">timeEndRead</a>;       <span class="comment">// tick after ZwReadFile</span>
01891     <span class="keywordtype">int</span>                  <a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html#o16">nReadsOutstanding</a>; <span class="comment">// ZwReadFile ++, consume data --</span>
01892 <span class="preprocessor">#endif</span>
01893 <span class="preprocessor"></span>} <a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html">GENERIC_DEVICE_INFO</a>, *<a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html">PGENERIC_DEVICE_INFO</a>;
<a name="l01894"></a><a class="code" href="../../d4/d1/userk_8h.html#a175">01894</a> 
<a name="l01895"></a><a class="code" href="../../d4/d1/userk_8h.html#a176">01895</a> <span class="comment">// valuse for GENERIC_DEVICE_INFO.type</span>
<a name="l01896"></a><a class="code" href="../../d4/d1/userk_8h.html#a177">01896</a> <span class="preprocessor">#define DEVICE_TYPE_MOUSE    0</span>
01897 <span class="preprocessor"></span><span class="preprocessor">#define DEVICE_TYPE_KEYBOARD 1</span>
01898 <span class="preprocessor"></span><span class="preprocessor">#define DEVICE_TYPE_MAX      1</span>
<a name="l01899"></a><a class="code" href="../../d4/d1/userk_8h.html#a178">01899</a> <span class="preprocessor"></span>
<a name="l01900"></a><a class="code" href="../../d4/d1/userk_8h.html#a179">01900</a> <span class="comment">// values for GENERIC_DEVICE_INFO.usActions and SignalDeviceChange()</span>
<a name="l01901"></a><a class="code" href="../../d4/d1/userk_8h.html#a180">01901</a> <span class="preprocessor">#define GDIAF_ARRIVED         (USHORT)0x0001 // open &amp; start reading</span>
<a name="l01902"></a><a class="code" href="../../d4/d1/userk_8h.html#a181">01902</a> <span class="preprocessor"></span><span class="preprocessor">#define GDIAF_QUERYREMOVE     (USHORT)0x0002 // close the device</span>
<a name="l01903"></a><a class="code" href="../../d4/d1/userk_8h.html#a182">01903</a> <span class="preprocessor"></span><span class="preprocessor">#define GDIAF_REMOVECANCELLED (USHORT)0x0004 // reopen the device</span>
<a name="l01904"></a><a class="code" href="../../d4/d1/userk_8h.html#a183">01904</a> <span class="preprocessor"></span><span class="preprocessor">#define GDIAF_DEPARTED        (USHORT)0x0008 // close and free the device</span>
<a name="l01905"></a><a class="code" href="../../d4/d1/userk_8h.html#a184">01905</a> <span class="preprocessor"></span><span class="preprocessor">#define GDIAF_IME_STATUS      (USHORT)0x0010 // ???</span>
<a name="l01906"></a><a class="code" href="../../d4/d1/userk_8h.html#a185">01906</a> <span class="preprocessor"></span><span class="preprocessor">#define GDIAF_REFRESH_MOUSE   (USHORT)0x0020 // ???</span>
<a name="l01907"></a><a class="code" href="../../d4/d1/userk_8h.html#a186">01907</a> <span class="preprocessor"></span><span class="preprocessor">#define GDIAF_FREEME          (USHORT)0x0080 // Request to Free the DeviceInfo</span>
<a name="l01908"></a><a class="code" href="../../d4/d1/userk_8h.html#a187">01908</a> <span class="preprocessor"></span><span class="preprocessor">#define GDIAF_PNPWAITING      (USHORT)0x0100 // a PnP thread is waiting</span>
01909 <span class="preprocessor"></span><span class="preprocessor">#define GDIAF_RETRYREAD       (USHORT)0x0200 // Retry the read</span>
01910 <span class="preprocessor"></span><span class="preprocessor">#define GDIAF_RECONNECT       (USHORT)0x0400 // The session reconnected</span>
<a name="l01911"></a><a class="code" href="../../d4/d1/userk_8h.html#a188">01911</a> <span class="preprocessor"></span>
<a name="l01912"></a><a class="code" href="../../d4/d1/userk_8h.html#a189">01912</a> <span class="comment">// values for GENERIC_DEVICE_INFO.bFlags;</span>
01913 <span class="preprocessor">#define GDIF_NOTPNP         0x01 // Not a PnP device (eg: PS/2)</span>
<a name="l01914"></a><a class="code" href="../../d4/d1/userk_8h.html#a190">01914</a> <span class="preprocessor"></span><span class="preprocessor">#define GDIF_READING        0x02 // Read may be pending (don't free DeviceInfo).</span>
<a name="l01915"></a><a class="code" href="../../d4/d1/userk_8h.html#a191">01915</a> <span class="preprocessor"></span><span class="preprocessor">#if DIAGNOSE_IO</span>
01916 <span class="preprocessor"></span><span class="preprocessor">#define GDIF_READERMUSTFREE 0x04 // "Free Device" while read pending</span>
<a name="l01917"></a><a class="code" href="../../d4/d1/userk_8h.html#a192">01917</a> <span class="preprocessor"></span><span class="preprocessor">#define GDIF_PNPMUSTFREE    0x08 // "Free Device" while PnP notification pending</span>
01918 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l01919"></a><a class="code" href="../../d4/d2/structtagMOUSE__DEVICE__INFO.html">01919</a> <span class="preprocessor"></span><span class="preprocessor">#define GDIF_DBGREAD        0x10 // Verbose dbg output about this device</span>
<a name="l01920"></a><a class="code" href="../../d4/d2/structtagMOUSE__DEVICE__INFO.html#o0">01920</a> <span class="preprocessor"></span>
<a name="l01921"></a><a class="code" href="../../d4/d2/structtagMOUSE__DEVICE__INFO.html#o1">01921</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d4/d2/structtagMOUSE__DEVICE__INFO.html">tagMOUSE_DEVICE_INFO</a> {    <span class="comment">// DEVICE_TYPE_MOUSE</span>
01922     MOUSE_ATTRIBUTES     <a class="code" href="../../d4/d2/structtagMOUSE__DEVICE__INFO.html#o0">Attr</a>;
01923     MOUSE_INPUT_DATA     <a class="code" href="../../d4/d2/structtagMOUSE__DEVICE__INFO.html#o1">Data</a>[<a class="code" href="../../d4/d1/userk_8h.html#a172">MAXIMUM_ITEMS_READ</a>];
<a name="l01924"></a><a class="code" href="../../d3/d9/structtagKEYBOARD__DEVICE__INFO.html">01924</a> } <a class="code" href="../../d4/d2/structtagMOUSE__DEVICE__INFO.html">MOUSE_DEVICE_INFO</a>, *<a class="code" href="../../d4/d2/structtagMOUSE__DEVICE__INFO.html">PMOUSE_DEVICE_INFO</a>;
<a name="l01925"></a><a class="code" href="../../d3/d9/structtagKEYBOARD__DEVICE__INFO.html#o0">01925</a> 
<a name="l01926"></a><a class="code" href="../../d3/d9/structtagKEYBOARD__DEVICE__INFO.html#o1">01926</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d3/d9/structtagKEYBOARD__DEVICE__INFO.html">tagKEYBOARD_DEVICE_INFO</a> { <span class="comment">// DEVICE_TYPE_KEYBOARD</span>
01927     KEYBOARD_ATTRIBUTES  <a class="code" href="../../d3/d9/structtagKEYBOARD__DEVICE__INFO.html#o0">Attr</a>;
01928     KEYBOARD_INPUT_DATA  <a class="code" href="../../d3/d9/structtagKEYBOARD__DEVICE__INFO.html#o1">Data</a>[<a class="code" href="../../d4/d1/userk_8h.html#a172">MAXIMUM_ITEMS_READ</a>];
<a name="l01929"></a><a class="code" href="../../d5/d3/structtagDEVICEINFO.html">01929</a> } <a class="code" href="../../d3/d9/structtagKEYBOARD__DEVICE__INFO.html">KEYBOARD_DEVICE_INFO</a>, *<a class="code" href="../../d3/d9/structtagKEYBOARD__DEVICE__INFO.html">PKEYBOARD_DEVICE_INFO</a>;
<a name="l01930"></a><a class="code" href="../../d5/d3/structtagDEVICEINFO.html#o0">01930</a> 
01931 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d5/d3/structtagDEVICEINFO.html">tagDEVICEINFO</a> {
<a name="l01932"></a><a class="code" href="../../d5/d3/structtagDEVICEINFO.html#o1">01932</a>     <a class="code" href="../../d5/d5/structtagGENERIC__DEVICE__INFO.html">GENERIC_DEVICE_INFO</a>;
<a name="l01933"></a><a class="code" href="../../d5/d3/structtagDEVICEINFO.html#o2">01933</a>     <span class="keyword">union </span>{
01934         <a class="code" href="../../d4/d2/structtagMOUSE__DEVICE__INFO.html">MOUSE_DEVICE_INFO</a>    <a class="code" href="../../d5/d3/structtagDEVICEINFO.html#o1">mouse</a>;
01935         <a class="code" href="../../d3/d9/structtagKEYBOARD__DEVICE__INFO.html">KEYBOARD_DEVICE_INFO</a> <a class="code" href="../../d5/d3/structtagDEVICEINFO.html#o2">keyboard</a>;
01936     };
<a name="l01937"></a><a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html">01937</a> } <a class="code" href="../../d5/d3/structtagDEVICEINFO.html">DEVICEINFO</a>, *<a class="code" href="../../d5/d3/structtagDEVICEINFO.html">PDEVICEINFO</a>;
<a name="l01938"></a><a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html#o0">01938</a> 
<a name="l01939"></a><a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html#o1">01939</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html">tagDEVICE_TEMPLATE</a> {
<a name="l01940"></a><a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html#o2">01940</a>     SIZE_T <a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html#o0">cbDeviceInfo</a>;        <span class="comment">// bytes to allocate for DEVICEINFO</span>
<a name="l01941"></a><a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html#o3">01941</a>     <span class="keyword">const</span> GUID *<a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html#o1">pClassGUID</a>;     <span class="comment">// GUID of the class</span>
<a name="l01942"></a><a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html#o4">01942</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>   <a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html#o2">uiRegistrySection</a>;   <span class="comment">// Parameters for class (HKLM\SYSTEM\CurrentControlSet\Services\*\Parameters)</span>
<a name="l01943"></a><a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html#o5">01943</a>     LPWSTR <a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html#o3">pwszClassName</a>;       <span class="comment">// Class name (eg: L"mouclass")</span>
<a name="l01944"></a><a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html#o6">01944</a>     LPWSTR <a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html#o4">pwszDefDevName</a>;      <span class="comment">// Default Device Name</span>
<a name="l01945"></a><a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html#o7">01945</a>     LPWSTR <a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html#o5">pwszLegacyDevName</a>;   <span class="comment">// Legacy Device Name (eg: "PointerClassLegacy0")</span>
<a name="l01946"></a><a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html#o8">01946</a>     ULONG  <a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html#o6">IOCTL_Attr</a>;          <span class="comment">// IOCTL_*_QUERY_ATTRIBUTES</span>
<a name="l01947"></a><a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html#o9">01947</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>   <a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html#o7">offAttr</a>;             <span class="comment">// offset of *_ATTRIBUTES struct within DEVICEINFO</span>
<a name="l01948"></a><a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html#o10">01948</a>     ULONG  <a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html#o8">cbAttr</a>;              <span class="comment">// sizeof *_ATTRIBUTES struct</span>
01949     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>   <a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html#o9">offData</a>;             <span class="comment">// offset of *_INPUT_DATA buffer within DEVICEINFO</span>
<a name="l01950"></a><a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html#o12">01950</a>     ULONG  <a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html#o10">cbData</a>;              <span class="comment">// sizeof *_INPUT_DATA buffer</span>
01951     <a class="code" href="../../d0/d6/iop_8h.html#a145">VOID</a>   (*DeviceRead)(<a class="code" href="../../d4/d1/userk_8h.html#a801">PDEVICEINFO</a>); <span class="comment">// routine to read the device</span>
01952     <a class="code" href="../../d2/d6/struct__KEVENT.html">PKEVENT</a> <a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html#o12">pkeHidChange</a>;       <span class="comment">// event to signal changes to this sort of device</span>
<a name="l01953"></a><a class="code" href="../../d4/d1/userk_8h.html#a804">01953</a> } <a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html">DEVICE_TEMPLATE</a>, *<a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html">PDEVICE_TEMPLATE</a>;
01954 
<a name="l01955"></a><a class="code" href="../../d5/d2/structtagMOUSEEVENT.html">01955</a> <span class="keyword">extern</span> <a class="code" href="../../d4/d3/structtagDEVICE__TEMPLATE.html">DEVICE_TEMPLATE</a> <a class="code" href="../../d5/d9/w32_2ntuser_2kernel_2pnp_8c.html#a2">aDeviceTemplate</a>[]; <span class="comment">// in pnp.c</span>
<a name="l01956"></a><a class="code" href="../../d5/d2/structtagMOUSEEVENT.html#o0">01956</a> 
<a name="l01957"></a><a class="code" href="../../d5/d2/structtagMOUSEEVENT.html#o1">01957</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d5/d2/structtagMOUSEEVENT.html">tagMOUSEEVENT</a> {
<a name="l01958"></a><a class="code" href="../../d5/d2/structtagMOUSEEVENT.html#o2">01958</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>  <a class="code" href="../../d5/d2/structtagMOUSEEVENT.html#o0">ButtonFlags</a>;
<a name="l01959"></a><a class="code" href="../../d5/d2/structtagMOUSEEVENT.html#o3">01959</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>  <a class="code" href="../../d5/d2/structtagMOUSEEVENT.html#o1">ButtonData</a>;
<a name="l01960"></a><a class="code" href="../../d5/d2/structtagMOUSEEVENT.html#o4">01960</a>     ULONG_PTR <a class="code" href="../../d5/d2/structtagMOUSEEVENT.html#o2">ExtraInfo</a>;
<a name="l01961"></a><a class="code" href="../../d5/d2/structtagMOUSEEVENT.html#o5">01961</a>     POINT   <a class="code" href="../../d5/d2/structtagMOUSEEVENT.html#o3">ptPointer</a>;
01962     LONG    <a class="code" href="../../d5/d2/structtagMOUSEEVENT.html#o4">time</a>;
01963     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d5/d2/structtagMOUSEEVENT.html#o5">bInjected</a>;
01964 } <a class="code" href="../../d5/d2/structtagMOUSEEVENT.html">MOUSEEVENT</a>, *<a class="code" href="../../d5/d2/structtagMOUSEEVENT.html">PMOUSEEVENT</a>;
01965 
01966 
01967 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a990">ProcessKeyboardInput</a>(PDEVICEINFO pDeviceInfo);
01968 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a991">ProcessMouseInput</a>(PDEVICEINFO pDeviceInfo);
01969 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a992">RequestDeviceChange</a>(
01970     PDEVICEINFO pDeviceInfo,
01971     USHORT usAction,
01972     BOOL fInDeviceInfoListCrit);
01973 
01974 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a993">RetryReadInput</a>();
01975 
01976 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> NTAPI <a class="code" href="../../d4/d1/userk_8h.html#a994">InputApc</a>(
01977     IN PVOID ApcContext,
01978     IN PIO_STATUS_BLOCK IoStatusBlock,
01979     IN ULONG Reserved);
01980 
01981 ULONG <a class="code" href="../../d5/d9/w32_2ntuser_2kernel_2pnp_8c.html#a14">GetDeviceChangeInfo</a>(VOID);
01982 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a996">InitializeMediaChange</a>(HANDLE);
01983 
01984 <span class="comment">/*</span>
<a name="l01985"></a><a class="code" href="../../d2/d6/structtagHARDERRORHANDLER.html">01985</a> <span class="comment"> * Hard error information</span>
<a name="l01986"></a><a class="code" href="../../d2/d6/structtagHARDERRORHANDLER.html#o0">01986</a> <span class="comment"> */</span>
<a name="l01987"></a><a class="code" href="../../d2/d6/structtagHARDERRORHANDLER.html#o1">01987</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d2/d6/structtagHARDERRORHANDLER.html">tagHARDERRORHANDLER</a> {
01988     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> <a class="code" href="../../d2/d6/structtagHARDERRORHANDLER.html#o0">pti</a>;
01989     <a class="code" href="../../d7/d4/structtagQ.html">PQ</a> <a class="code" href="../../d2/d6/structtagHARDERRORHANDLER.html#o1">pqAttach</a>;
01990 } <a class="code" href="../../d2/d6/structtagHARDERRORHANDLER.html">HARDERRORHANDLER</a>, *<a class="code" href="../../d2/d6/structtagHARDERRORHANDLER.html">PHARDERRORHANDLER</a>;
01991 
01992 <span class="comment">/*</span>
01993 <span class="comment"> * Terminal Structure.</span>
01994 <span class="comment"> *</span>
01995 <span class="comment"> *   This structure is only viewable from the kernel.</span>
<a name="l01996"></a><a class="code" href="../../d4/d1/userk_8h.html#a193">01996</a> <span class="comment"> */</span>
<a name="l01997"></a><a class="code" href="../../d4/d1/userk_8h.html#a194">01997</a> 
<a name="l01998"></a><a class="code" href="../../d4/d1/userk_8h.html#a195">01998</a> <span class="preprocessor">#define TEST_GTERMF(f)               TEST_FLAG(gdwGTERMFlags, f)</span>
<a name="l01999"></a><a class="code" href="../../d4/d1/userk_8h.html#a196">01999</a> <span class="preprocessor"></span><span class="preprocessor">#define TEST_BOOL_GTERMF(f)          TEST_BOOL_FLAG(gdwGTERMFlags, f)</span>
<a name="l02000"></a><a class="code" href="../../d4/d1/userk_8h.html#a197">02000</a> <span class="preprocessor"></span><span class="preprocessor">#define SET_GTERMF(f)                SET_FLAG(gdwGTERMFlags, f)</span>
<a name="l02001"></a><a class="code" href="../../d4/d1/userk_8h.html#a198">02001</a> <span class="preprocessor"></span><span class="preprocessor">#define CLEAR_GTERMF(f)              CLEAR_FLAG(gdwGTERMFlags, f)</span>
02002 <span class="preprocessor"></span><span class="preprocessor">#define SET_OR_CLEAR_GTERMF(f, fSet) SET_OR_CLEAR_FLAG(gdwGTERMFlags, f, fSet)</span>
<a name="l02003"></a><a class="code" href="../../d4/d1/userk_8h.html#a199">02003</a> <span class="preprocessor"></span><span class="preprocessor">#define TOGGLE_GTERMF(f)             TOGGLE_FLAG(gdwGTERMFlags, f)</span>
02004 <span class="preprocessor"></span>
02005 <span class="preprocessor">#define GTERMF_MOUSE        0x00000001</span>
<a name="l02006"></a><a class="code" href="../../d4/d1/userk_8h.html#a200">02006</a> <span class="preprocessor"></span>
<a name="l02007"></a><a class="code" href="../../d4/d1/userk_8h.html#a201">02007</a> 
<a name="l02008"></a><a class="code" href="../../d4/d1/userk_8h.html#a202">02008</a> <span class="preprocessor">#define TERMF_INITIALIZED       0x00000001</span>
<a name="l02009"></a><a class="code" href="../../d4/d1/userk_8h.html#a203">02009</a> <span class="preprocessor"></span><span class="preprocessor">#define TERMF_NOIO              0x00000002</span>
<a name="l02010"></a><a class="code" href="../../d4/d1/userk_8h.html#a204">02010</a> <span class="preprocessor"></span><span class="preprocessor">#define TERMF_STOPINPUT         0x00000004</span>
<a name="l02011"></a><a class="code" href="../../d4/d1/userk_8h.html#a205">02011</a> <span class="preprocessor"></span><span class="preprocessor">#define TERMF_DTINITSUCCESS     0x00000008</span>
02012 <span class="preprocessor"></span><span class="preprocessor">#define TERMF_DTINITFAILED      0x00000010</span>
<a name="l02013"></a><a class="code" href="../../d1/d8/structtagTERMINAL.html">02013</a> <span class="preprocessor"></span><span class="preprocessor">#define TERMF_DTDESTROYED       0x00000020</span>
02014 <span class="preprocessor"></span>
<a name="l02015"></a><a class="code" href="../../d1/d8/structtagTERMINAL.html#o0">02015</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d1/d8/structtagTERMINAL.html">tagTERMINAL</a> {
02016 
02017     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>               <a class="code" href="../../d1/d8/structtagTERMINAL.html#o0">dwTERMF_Flags</a>;      <span class="comment">// terminal flags</span>
02018 
02019     <span class="comment">/*</span>
<a name="l02020"></a><a class="code" href="../../d1/d8/structtagTERMINAL.html#o1">02020</a> <span class="comment">     * System Information</span>
02021 <span class="comment">     */</span>
02022     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>                <a class="code" href="../../d1/d8/structtagTERMINAL.html#o1">spwndDesktopOwner</a>;  <span class="comment">// mother desktop</span>
<a name="l02023"></a><a class="code" href="../../d1/d8/structtagTERMINAL.html#o2">02023</a> 
<a name="l02024"></a><a class="code" href="../../d1/d8/structtagTERMINAL.html#o3">02024</a> 
02025     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a>         <a class="code" href="../../d1/d8/structtagTERMINAL.html#o2">ptiDesktop</a>;
<a name="l02026"></a><a class="code" href="../../d1/d8/structtagTERMINAL.html#o4">02026</a>     <a class="code" href="../../d7/d4/structtagQ.html">PQ</a>                  <a class="code" href="../../d1/d8/structtagTERMINAL.html#o3">pqDesktop</a>;
<a name="l02027"></a><a class="code" href="../../d1/d8/structtagTERMINAL.html#o5">02027</a> 
02028     <a class="code" href="../../d2/d6/struct__KEVENT.html">PKEVENT</a>             <a class="code" href="../../d1/d8/structtagTERMINAL.html#o4">pEventTermInit</a>;
<a name="l02029"></a><a class="code" href="../../d1/d8/structtagTERMINAL.html#o6">02029</a>     <a class="code" href="../../d2/d6/struct__KEVENT.html">PKEVENT</a>             <a class="code" href="../../d1/d8/structtagTERMINAL.html#o5">pEventDestroyDesktop</a>;   <span class="comment">// Used for destroying desktops</span>
02030 
<a name="l02031"></a><a class="code" href="../../d1/d8/structtagTERMINAL.html#o7">02031</a>     <a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a>            <a class="code" href="../../d1/d8/structtagTERMINAL.html#o6">rpdeskDestroy</a>;          <span class="comment">// Desktop destroy list.</span>
02032 
02033     <a class="code" href="../../d2/d6/struct__KEVENT.html">PKEVENT</a>             <a class="code" href="../../d1/d8/structtagTERMINAL.html#o7">pEventInputReady</a>;   <span class="comment">// input ready event. This is created in</span>
02034                                             <span class="comment">// CreateTerminal. RIT and the desktop thread</span>
<a name="l02035"></a><a class="code" href="../../d1/d8/structtagTERMINAL.html#o8">02035</a>                                             <span class="comment">// will wait for it. It will be set when the</span>
02036                                             <span class="comment">// first desktop in that terminal will be created.</span>
02037     <a class="code" href="../../d2/d6/struct__KEVENT.html">PKEVENT</a>             <a class="code" href="../../d1/d8/structtagTERMINAL.html#o8">pEventDTExit</a>;
02038 
02039 } <a class="code" href="../../d1/d8/structtagTERMINAL.html">TERMINAL</a>, *<a class="code" href="../../d1/d8/structtagTERMINAL.html">PTERMINAL</a>;
02040 
02041 <span class="comment">/*</span>
02042 <span class="comment"> * Pool allocation tags and macros</span>
02043 <span class="comment"> */</span>
02044 
02045 <span class="comment">/*</span>
<a name="l02046"></a><a class="code" href="../../d4/d1/userk_8h.html#a206">02046</a> <span class="comment"> * Define tags. To add tags, add them to ntuser\kernel\ptag.lst</span>
02047 <span class="comment"> */</span>
<a name="l02048"></a><a class="code" href="../../d4/d1/userk_8h.html#a207">02048</a> <span class="preprocessor">#define DEFINE_POOLTAG(value, index) value</span>
02049 <span class="preprocessor"></span>
02050 <span class="preprocessor">#define DECLARE_POOLTAG(name, value, index)</span>
02051 <span class="preprocessor"></span>
02052 <span class="preprocessor">#include "ptag.h"</span>
02053 
02054 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a997">UserCommitDesktopMemory</a>(
02055     PVOID  pBase,
02056     PVOID *ppCommit,
02057     PSIZE_T pCommitSize);
02058 
02059 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a998">UserCommitSharedMemory</a>(
02060     PVOID  pBase,
02061     PVOID *ppCommit,
02062     PSIZE_T pCommitSize);
02063 
02064 PWIN32HEAP <a class="code" href="../../d4/d1/userk_8h.html#a999">UserCreateHeap</a>(
02065     HANDLE                   hSection,
02066     ULONG                    ulViewOffset,
02067     PVOID                    pvBaseAddress,
02068     DWORD                    dwSize,
<a name="l02069"></a><a class="code" href="../../d4/d1/userk_8h.html#a208">02069</a>     PRTL_HEAP_COMMIT_ROUTINE pfnCommit);
02070 
<a name="l02071"></a><a class="code" href="../../d4/d1/userk_8h.html#a209">02071</a> <span class="preprocessor">#define IsValidTag(p, tag)      TRUE</span>
02072 <span class="preprocessor"></span>
02073 <span class="preprocessor">#define RECORD_STACK_TRACE_SIZE 6</span>
02074 <span class="preprocessor"></span>
02075 <span class="comment">/*</span>
02076 <span class="comment"> * Pool allocation flags</span>
<a name="l02077"></a><a class="code" href="../../d4/d1/userk_8h.html#a210">02077</a> <span class="comment"> */</span>
<a name="l02078"></a><a class="code" href="../../d4/d1/userk_8h.html#a211">02078</a> 
<a name="l02079"></a><a class="code" href="../../d4/d1/userk_8h.html#a212">02079</a> <span class="preprocessor">#define POOL_HEAVY_ALLOCS       0x00000001  // use HeavyAllocPool</span>
<a name="l02080"></a><a class="code" href="../../d4/d1/userk_8h.html#a213">02080</a> <span class="preprocessor"></span><span class="preprocessor">#define POOL_CAPTURE_STACK      0x00000002  // stack traces are captured</span>
<a name="l02081"></a><a class="code" href="../../d4/d1/userk_8h.html#a214">02081</a> <span class="preprocessor"></span><span class="preprocessor">#define POOL_FAIL_ALLOCS        0x00000004  // fail pool allocations</span>
<a name="l02082"></a><a class="code" href="../../d4/d1/userk_8h.html#a215">02082</a> <span class="preprocessor"></span><span class="preprocessor">#define POOL_FAIL_BY_INDEX      0x00000008  // fail allocations by index</span>
<a name="l02083"></a><a class="code" href="../../d4/d1/userk_8h.html#a216">02083</a> <span class="preprocessor"></span><span class="preprocessor">#define POOL_TAIL_CHECK         0x00000010  // append tail string</span>
<a name="l02084"></a><a class="code" href="../../d4/d1/userk_8h.html#a217">02084</a> <span class="preprocessor"></span><span class="preprocessor">#define POOL_KEEP_FREE_RECORD   0x00000020  // keep a list with last x frees</span>
02085 <span class="preprocessor"></span><span class="preprocessor">#define POOL_KEEP_FAIL_RECORD   0x00000040  // keep a list with last x failed allocations</span>
<a name="l02086"></a><a class="code" href="../../d3/d9/structtagWin32AllocStats.html">02086</a> <span class="preprocessor"></span><span class="preprocessor">#define POOL_BREAK_FOR_LEAKS    0x00000080  // break on pool leaks (remote sessions)</span>
<a name="l02087"></a><a class="code" href="../../d3/d9/structtagWin32AllocStats.html#o0">02087</a> <span class="preprocessor"></span>
<a name="l02088"></a><a class="code" href="../../d3/d9/structtagWin32AllocStats.html#o1">02088</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d3/d9/structtagWin32AllocStats.html">tagWin32AllocStats</a> {
<a name="l02089"></a><a class="code" href="../../d3/d9/structtagWin32AllocStats.html#o2">02089</a>     SIZE_T <a class="code" href="../../d3/d9/structtagWin32AllocStats.html#o0">dwMaxMem</a>;             <span class="comment">// max pool memory allocated</span>
<a name="l02090"></a><a class="code" href="../../d3/d9/structtagWin32AllocStats.html#o3">02090</a>     SIZE_T <a class="code" href="../../d3/d9/structtagWin32AllocStats.html#o1">dwCrtMem</a>;             <span class="comment">// current pool memory used</span>
02091     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d3/d9/structtagWin32AllocStats.html#o2">dwMaxAlloc</a>;           <span class="comment">// max number of pool allocations made</span>
<a name="l02092"></a><a class="code" href="../../d3/d9/structtagWin32AllocStats.html#o4">02092</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d3/d9/structtagWin32AllocStats.html#o3">dwCrtAlloc</a>;           <span class="comment">// current pool allocations</span>
02093 
02094     PWin32PoolHead <a class="code" href="../../d3/d9/structtagWin32AllocStats.html#o4">pHead</a>;        <span class="comment">// pointer to the link list with the allocations</span>
02095 
<a name="l02096"></a><a class="code" href="../../d3/d3/structtagPOOLRECORD.html">02096</a> } <a class="code" href="../../d3/d9/structtagWin32AllocStats.html">Win32AllocStats</a>, *<a class="code" href="../../d3/d9/structtagWin32AllocStats.html">PWin32AllocStats</a>;
<a name="l02097"></a><a class="code" href="../../d3/d3/structtagPOOLRECORD.html#o0">02097</a> 
<a name="l02098"></a><a class="code" href="../../d3/d3/structtagPOOLRECORD.html#o1">02098</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d3/d3/structtagPOOLRECORD.html">tagPOOLRECORD</a> {
<a name="l02099"></a><a class="code" href="../../d3/d3/structtagPOOLRECORD.html#o2">02099</a>     PVOID   <a class="code" href="../../d3/d3/structtagPOOLRECORD.html#o0">ExtraData</a>;           <span class="comment">// the tag</span>
02100     SIZE_T  <a class="code" href="../../d3/d3/structtagPOOLRECORD.html#o1">size</a>;
02101     PVOID   <a class="code" href="../../d3/d3/structtagPOOLRECORD.html#o2">trace</a>[<a class="code" href="../../d4/d1/userk_8h.html#a209">RECORD_STACK_TRACE_SIZE</a>];
02102 } <a class="code" href="../../d3/d3/structtagPOOLRECORD.html">POOLRECORD</a>, *<a class="code" href="../../d3/d3/structtagPOOLRECORD.html">PPOOLRECORD</a>;
02103 
02104 <span class="preprocessor">#ifdef POOL_INSTR_API</span>
02105 <span class="preprocessor"></span>
02106     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> _Win32PoolAllocationStats(
02107         LPDWORD  parrTags,
02108         SIZE_T   tagsCount,
02109         SIZE_T*  lpdwMaxMem,
02110         SIZE_T*  lpdwCrtMem,
02111         LPDWORD  lpdwMaxAlloc,
02112         LPDWORD  lpdwCrtAlloc);
02113 
02114 <span class="preprocessor">#endif // POOL_INSTR_API</span>
02115 <span class="preprocessor"></span>
02116 <span class="preprocessor">#ifdef POOL_INSTR</span>
02117 <span class="preprocessor"></span>
02118     <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a218">CleanupPoolAllocations</a>(<span class="keywordtype">void</span>);
02119     <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a219">InitPoolLimitations</a>();
<a name="l02120"></a><a class="code" href="../../d4/d1/userk_8h.html#a218">02120</a>     <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a220">CleanUpPoolLimitations</a>();
<a name="l02121"></a><a class="code" href="../../d4/d1/userk_8h.html#a219">02121</a> <span class="preprocessor">#else</span>
<a name="l02122"></a><a class="code" href="../../d4/d1/userk_8h.html#a220">02122</a> <span class="preprocessor"></span><span class="preprocessor">    #define CleanupPoolAllocations()</span>
02123 <span class="preprocessor"></span><span class="preprocessor">    #define InitPoolLimitations()</span>
02124 <span class="preprocessor"></span><span class="preprocessor">    #define CleanUpPoolLimitations()</span>
02125 <span class="preprocessor"></span>
02126 <span class="preprocessor">#endif // POOL_INSTR</span>
<a name="l02127"></a><a class="code" href="../../d4/d1/userk_8h.html#a221">02127</a> <span class="preprocessor"></span>
<a name="l02128"></a><a class="code" href="../../d4/d1/userk_8h.html#a222">02128</a> <span class="preprocessor">#ifndef TRACE_MAP_VIEWS</span>
02129 <span class="preprocessor"></span><span class="preprocessor">    #define InitSectionTrace()</span>
02130 <span class="preprocessor"></span><span class="preprocessor">    #define CleanUpSections()</span>
02131 <span class="preprocessor"></span><span class="preprocessor">#else</span>
02132 <span class="preprocessor"></span>    <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a221">InitSectionTrace</a>(VOID);
02133     <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a222">CleanUpSections</a>(<span class="keywordtype">void</span>);
<a name="l02134"></a><a class="code" href="../../d4/d1/userk_8h.html#a815">02134</a> <span class="preprocessor">#endif // TRACE_MAP_VIEWS</span>
02135 <span class="preprocessor"></span>
02136 <span class="keyword">extern</span> PWIN32HEAP <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a322">gpvSharedAlloc</a>;
<a name="l02137"></a><a class="code" href="../../d4/d1/userk_8h.html#a1000">02137</a> 
02138 PVOID __inline
02139 <a class="code" href="../../d4/d1/userk_8h.html#a1000">SharedAlloc</a>(ULONG cb)
02140 {
02141     <span class="keywordflow">return</span> Win32HeapAlloc(<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a322">gpvSharedAlloc</a>, cb, 0, 0);
02142 }
<a name="l02143"></a><a class="code" href="../../d4/d1/userk_8h.html#a1001">02143</a> 
02144 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> __inline
02145 <a class="code" href="../../d4/d1/userk_8h.html#a1001">SharedFree</a>(PVOID pv)
02146 {
02147     <span class="keywordflow">return</span> Win32HeapFree(<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a322">gpvSharedAlloc</a>, pv);
02148 }
02149 
02150 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1002">CommitReadOnlyMemory</a>(HANDLE hSection, PSIZE_T pulCommit,
02151                               DWORD dwCommitOffset, <span class="keywordtype">int</span>* pdCommit);
02152 
02153 <span class="comment">/*</span>
<a name="l02154"></a><a class="code" href="../../d4/d1/userk_8h.html#a223">02154</a> <span class="comment"> * Height and Width of the desktop pattern bitmap.</span>
02155 <span class="comment"> */</span>
02156 <span class="preprocessor">#define CXYDESKPATTERN      8</span>
02157 <span class="preprocessor"></span>
02158 <span class="comment">/*</span>
<a name="l02159"></a><a class="code" href="../../d4/d1/userk_8h.html#a224">02159</a> <span class="comment"> * LATER: these things are not defined yet</span>
<a name="l02160"></a><a class="code" href="../../d4/d1/userk_8h.html#a225">02160</a> <span class="comment"> */</span>
02161 <span class="preprocessor">#define CheckHwnd(x)        TRUE</span>
02162 <span class="preprocessor"></span><span class="preprocessor">#define CheckHwndNull(x)    TRUE</span>
02163 <span class="preprocessor"></span>
02164 <span class="comment">/***************************************************************************\</span>
02165 <span class="comment">* Typedefs and Macros</span>
02166 <span class="comment">*</span>
02167 <span class="comment">* Here are defined all types and macros that are shared across the User's</span>
02168 <span class="comment">* server-side code modules.  Types and macros that are unique to a single</span>
02169 <span class="comment">* module should be defined at the head of that module, not in this file.</span>
02170 <span class="comment">*</span>
02171 <span class="comment">\***************************************************************************/</span>
02172 
02173 
<a name="l02174"></a><a class="code" href="../../d4/d1/userk_8h.html#a226">02174</a> <span class="comment">// Window Proc Window Validation macro</span>
02175 
02176 <span class="preprocessor">#define VALIDATECLASSANDSIZE(pwnd, message, wParam, lParam, inFNID, initmessage)          \</span>
02177 <span class="preprocessor">    if ((pwnd)-&gt;fnid != (inFNID)) {                                                       \</span>
02178 <span class="preprocessor">        switch ((pwnd)-&gt;fnid) {                                                           \</span>
02179 <span class="preprocessor">        DWORD cb;                                                                         \</span>
02180 <span class="preprocessor">        case 0:                                                                           \</span>
02181 <span class="preprocessor">                                                                                          \</span>
02182 <span class="preprocessor">            if ((cb = pwnd-&gt;cbwndExtra + sizeof(WND)) &lt; (DWORD)(CBFNID(inFNID))) {        \</span>
02183 <span class="preprocessor">                RIPMSG3(RIP_WARNING,                                                      \</span>
02184 <span class="preprocessor">                       "(%#p %lX) needs at least (%ld) window words for this proc",       \</span>
02185 <span class="preprocessor">                        pwnd, cb - sizeof(WND),                                           \</span>
02186 <span class="preprocessor">                        (DWORD)(CBFNID(inFNID)) - sizeof(WND));                           \</span>
02187 <span class="preprocessor">                return 0;                                                                 \</span>
02188 <span class="preprocessor">            }                                                                             \</span>
02189 <span class="preprocessor">            </span><span class="comment">/*                                                                            \</span>
02190 <span class="comment">             * If this is not the initialization message, we cannot set the fnid;         \</span>
02191 <span class="comment">             *  otherwise, we'll probably fault working on this pwnd's private            \</span>
02192 <span class="comment">             *  uninitialized data                                                        \</span>
02193 <span class="comment">             */</span>                                                                           \
02194             if ((message) != (initmessage)) {                                             \
02195                 if (((message) != WM_NCCREATE) &amp;&amp; ((message) != WM_NCCALCSIZE)  &amp;&amp; ((message) != WM_GETMINMAXINFO)) {         \
02196                     RIPMSG3(RIP_WARNING,                                                  \
02197                         "Default processing message %#lx for pwnd %#p. fnid %#lx not set",\
02198                         (message), (pwnd), (DWORD)(inFNID));                              \
02199                 }                                                                         \
02200                 return xxxDefWindowProc((pwnd), (message), (wParam), (lParam));           \
02201             }                                                                             \
02202                                                                                           \
02203             <span class="comment">/*                                                                            \</span>
02204 <span class="comment">             * Remember what window class this window belongs to.  Can't use              \</span>
02205 <span class="comment">             * the real class because any app can call CallWindowProc()                   \</span>
02206 <span class="comment">             * directly no matter what the class is!                                      \</span>
02207 <span class="comment">             */</span>                                                                           \
02208             (pwnd)-&gt;fnid = (WORD)(inFNID);                                                \
02209             break;                                                                        \
02210                                                                                           \
02211         default:                                                                          \
02212             RIPMSG3(RIP_WARNING, "Window (%#p) not of correct class; fnid = %lX not %lX", \
02213                     (pwnd), (DWORD)((pwnd)-&gt;fnid), (DWORD)(inFNID));                      \
02214                                                                                           \
02215             <span class="comment">/* Fall through */</span>                                                            \
02216                                                                                           \
<a name="l02217"></a><a class="code" href="../../d4/d1/userk_8h.html#a227">02217</a>         case (inFNID | FNID_CLEANEDUP_BIT):                                               \
02218         case (inFNID | FNID_DELETED_BIT):                                                 \
<a name="l02219"></a><a class="code" href="../../d4/d1/userk_8h.html#a228">02219</a>         case (inFNID | FNID_STATUS_BITS):                                                 \
02220             return 0;                                                                     \
<a name="l02221"></a><a class="code" href="../../d4/d1/userk_8h.html#a229">02221</a>         }                                                                                 \
02222     }
<a name="l02223"></a><a class="code" href="../../d4/d1/userk_8h.html#a230">02223</a> 
02224 <span class="comment">/*</span>
<a name="l02225"></a><a class="code" href="../../d4/d1/userk_8h.html#a231">02225</a> <span class="comment"> * Handy Region helper macros</span>
02226 <span class="comment"> */</span>
02227 <span class="preprocessor">#define CopyRgn(hrgnDst, hrgnSrc) \</span>
02228 <span class="preprocessor">            GreCombineRgn(hrgnDst, hrgnSrc, NULL, RGN_COPY)</span>
02229 <span class="preprocessor"></span><span class="preprocessor">#define IntersectRgn(hrgnResult, hrgnA, hrgnB) \</span>
02230 <span class="preprocessor">            GreCombineRgn(hrgnResult, hrgnA, hrgnB, RGN_AND)</span>
02231 <span class="preprocessor"></span><span class="preprocessor">#define SubtractRgn(hrgnResult, hrgnA, hrgnB) \</span>
<a name="l02232"></a><a class="code" href="../../d4/d1/userk_8h.html#a232">02232</a> <span class="preprocessor">            GreCombineRgn(hrgnResult, hrgnA, hrgnB, RGN_DIFF)</span>
<a name="l02233"></a><a class="code" href="../../d4/d1/userk_8h.html#a233">02233</a> <span class="preprocessor"></span><span class="preprocessor">#define UnionRgn(hrgnResult, hrgnA, hrgnB) \</span>
<a name="l02234"></a><a class="code" href="../../d4/d1/userk_8h.html#a234">02234</a> <span class="preprocessor">            GreCombineRgn(hrgnResult, hrgnA, hrgnB, RGN_OR)</span>
<a name="l02235"></a><a class="code" href="../../d4/d1/userk_8h.html#a235">02235</a> <span class="preprocessor"></span><span class="preprocessor">#define XorRgn(hrgnResult, hrgnA, hrgnB) \</span>
<a name="l02236"></a><a class="code" href="../../d4/d1/userk_8h.html#a236">02236</a> <span class="preprocessor">            GreCombineRgn(hrgnResult, hrgnA, hrgnB, RGN_XOR)</span>
02237 <span class="preprocessor"></span>
02238 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1003">DeleteMaybeSpecialRgn</a>(HRGN hrgn);
02239 
02240 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1004">zzzInvalidateDCCache</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndInvalid, DWORD flags);
02241 
<a name="l02242"></a><a class="code" href="../../d4/d1/userk_8h.html#a237">02242</a> <span class="preprocessor">#define IDC_DEFAULT         0x0001</span>
<a name="l02243"></a><a class="code" href="../../d4/d1/userk_8h.html#a238">02243</a> <span class="preprocessor"></span><span class="preprocessor">#define IDC_CHILDRENONLY    0x0002</span>
<a name="l02244"></a><a class="code" href="../../d4/d1/userk_8h.html#a239">02244</a> <span class="preprocessor"></span><span class="preprocessor">#define IDC_CLIENTONLY      0x0004</span>
02245 <span class="preprocessor"></span><span class="preprocessor">#define IDC_MOVEBLT         0x0008</span>
02246 <span class="preprocessor"></span><span class="preprocessor">#define IDC_NOMOUSE         0x0010</span>
02247 <span class="preprocessor"></span>
<a name="l02248"></a><a class="code" href="../../d4/d1/userk_8h.html#a240">02248</a> <span class="comment">/*</span>
<a name="l02249"></a><a class="code" href="../../d4/d1/userk_8h.html#a241">02249</a> <span class="comment"> * RestoreSpb return Flags</span>
02250 <span class="comment"> */</span>
<a name="l02251"></a><a class="code" href="../../d4/d1/userk_8h.html#a242">02251</a> 
02252 <span class="preprocessor">#define RSPB_NO_INVALIDATE      0   // nothing invalidated by restore</span>
02253 <span class="preprocessor"></span><span class="preprocessor">#define RSPB_INVALIDATE         1   // restore invalidate some area</span>
<a name="l02254"></a><a class="code" href="../../d4/d1/userk_8h.html#a243">02254</a> <span class="preprocessor"></span><span class="preprocessor">#define RSPB_INVALIDATE_SSB     2   // restore called SaveScreenBits which invalidated</span>
02255 <span class="preprocessor"></span>
02256 <span class="comment">// Calls Proc directly without doing any messages translation</span>
<a name="l02257"></a><a class="code" href="../../d4/d1/userk_8h.html#a244">02257</a> 
02258 <span class="preprocessor">#define SCMS_FLAGS_ANSI         0x0001</span>
<a name="l02259"></a><a class="code" href="../../d4/d1/userk_8h.html#a245">02259</a> <span class="preprocessor"></span><span class="preprocessor">#define SCMS_FLAGS_INONLY       0x0002      // Message should be one way (hooks)</span>
02260 <span class="preprocessor"></span>
02261 <span class="preprocessor">#define CallClientProcA(pwnd, msg, wParam, lParam, xpfn) \</span>
02262 <span class="preprocessor">            SfnDWORD(pwnd, msg, wParam, lParam, xpfn,          \</span>
<a name="l02263"></a><a class="code" href="../../d4/d1/userk_8h.html#a246">02263</a> <span class="preprocessor">                ((PROC)(gpsi-&gt;apfnClientW.pfnDispatchMessage)), TRUE, NULL)</span>
02264 <span class="preprocessor"></span><span class="preprocessor">#define CallClientProcW(pwnd, msg, wParam, lParam, xpfn) \</span>
02265 <span class="preprocessor">            SfnDWORD(pwnd, msg, wParam, lParam, xpfn,          \</span>
02266 <span class="preprocessor">                ((PROC)(gpsi-&gt;apfnClientW.pfnDispatchMessage)), TRUE, NULL)</span>
02267 <span class="preprocessor"></span><span class="preprocessor">#define CallClientWorkerProc(pwnd, msg, wParam, lParam, xpfn) \</span>
02268 <span class="preprocessor">            SfnDWORD(pwnd, msg, wParam, lParam, 0, xpfn, TRUE, NULL)</span>
<a name="l02269"></a><a class="code" href="../../d4/d1/userk_8h.html#a247">02269</a> <span class="preprocessor"></span><span class="preprocessor">#define ScSendMessageSMS(pwnd, msg, wParam, lParam, xParam, xpfn, dwSCMSFlags, psms) \</span>
02270 <span class="preprocessor">        (((msg) &amp; ~MSGFLAG_MASK) &gt;= WM_USER) ? \</span>
02271 <span class="preprocessor">        SfnDWORD(pwnd, msg, wParam, lParam, xParam, xpfn, dwSCMSFlags, psms) : \</span>
<a name="l02272"></a><a class="code" href="../../d4/d1/userk_8h.html#a248">02272</a> <span class="preprocessor">        gapfnScSendMessage[MessageTable[msg &amp; 0xffff].iFunction](pwnd, msg, wParam, lParam, xParam, xpfn, dwSCMSFlags, psms)</span>
02273 <span class="preprocessor"></span><span class="preprocessor">#define ScSendMessage(pwnd, msg, wParam, lParam, xParam, xpfn, dwSCMSFlags) \</span>
<a name="l02274"></a><a class="code" href="../../d4/d1/userk_8h.html#a249">02274</a> <span class="preprocessor">        ScSendMessageSMS(pwnd, msg, wParam, lParam, xParam, xpfn, dwSCMSFlags, NULL)</span>
02275 <span class="preprocessor"></span>
02276 <span class="comment">/*</span>
02277 <span class="comment"> * Server-side routines for loading cursors/icons/strings/menus from server.</span>
02278 <span class="comment"> */</span>
02279 <span class="preprocessor">#define SERVERSTRINGMAXSIZE  40</span>
02280 <span class="preprocessor"></span><span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1005">RtlInitUnicodeStringOrId</a>(PUNICODE_STRING pstrName, LPWSTR lpstrName);
02281 <span class="keywordtype">int</span> <a class="code" href="../../d7/d1/usersrv_8h.html#a57">RtlLoadStringOrError</a>(UINT, LPTSTR, <span class="keywordtype">int</span>, WORD);
02282 <span class="preprocessor">#define ServerLoadString(hmod, id, p, cch)\</span>
02283 <span class="preprocessor">        RtlLoadStringOrError(id, p, cch, 0)</span>
02284 <span class="preprocessor"></span><span class="preprocessor">#define ServerLoadStringEx(hmod, id, p, cch, wLang)\</span>
02285 <span class="preprocessor">        RtlLoadStringOrError(id, p, cch, wLang)</span>
02286 <span class="preprocessor"></span>
02287 <span class="comment">/*</span>
02288 <span class="comment"> * Callback routines for loading resources from client.</span>
02289 <span class="comment"> */</span>
02290 HANDLE <a class="code" href="../../d4/d1/userk_8h.html#a1007">xxxClientLoadImage</a>(
02291     PUNICODE_STRING pstrName,
02292     ATOM atomModName,
02293     WORD wImageType,
02294     <span class="keywordtype">int</span> cxSize,
02295     <span class="keywordtype">int</span> cySize,
02296     UINT LR_flags,
02297     BOOL fWallpaper);
02298 
02299 HANDLE <a class="code" href="../../d4/d1/userk_8h.html#a1997">xxxClientCopyImage</a>(
02300     IN HANDLE          hImage,
02301     IN UINT            uImageType,
02302     IN <span class="keywordtype">int</span>             cxDesired,
02303     IN <span class="keywordtype">int</span>             cyDesired,
02304     IN UINT            LR_flags);
02305 
02306 <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> <a class="code" href="../../d4/d1/userk_8h.html#a1009">xxxClientLoadMenu</a>(
02307     HANDLE hmod,
02308     PUNICODE_STRING pstrName);
02309 
02310 <span class="keywordtype">int</span> <a class="code" href="../../d4/d1/userk_8h.html#a1010">xxxClientAddFontResourceW</a>(PUNICODE_STRING, DWORD, DESIGNVECTOR*);
02311 
02312 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1011">ClientFontSweep</a>(VOID);
02313 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1012">ClientLoadLocalT1Fonts</a>();
02314 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1013">ClientLoadRemoteT1Fonts</a>();
02315 
02316 <span class="comment">/*</span>
02317 <span class="comment"> * Server-side routine for thread initialization.</span>
02318 <span class="comment"> */</span>
02319 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1014">InitializeClientPfnArrays</a>(
02320     CONST <a class="code" href="../../d0/d5/struct__PFNCLIENT.html">PFNCLIENT</a> *ppfnClientA,
02321     CONST <a class="code" href="../../d0/d5/struct__PFNCLIENT.html">PFNCLIENT</a> *ppfnClientW,
02322     CONST <a class="code" href="../../d1/d5/struct__PFNCLIENTWORKER.html">PFNCLIENTWORKER</a> *ppfnClientWorker,
<a name="l02323"></a><a class="code" href="../../d4/d1/userk_8h.html#a250">02323</a>     HANDLE hModUser);
<a name="l02324"></a><a class="code" href="../../d4/d1/userk_8h.html#a251">02324</a> 
<a name="l02325"></a><a class="code" href="../../d4/d1/userk_8h.html#a252">02325</a> <span class="comment">//VOID _SetDebugErrorLevel(DWORD);</span>
<a name="l02326"></a><a class="code" href="../../d4/d1/userk_8h.html#a253">02326</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1015">_SetRipFlags</a>(DWORD, DWORD);
<a name="l02327"></a><a class="code" href="../../d4/d1/userk_8h.html#a254">02327</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1016">_SetDbgTag</a>(<span class="keywordtype">int</span>, DWORD);
<a name="l02328"></a><a class="code" href="../../d4/d1/userk_8h.html#a255">02328</a> 
02329 
02330 <span class="comment">/*</span>
02331 <span class="comment"> * xxxActivateWindow() commands</span>
02332 <span class="comment"> */</span>
<a name="l02333"></a><a class="code" href="../../d8/d7/structtagAAS.html">02333</a> <span class="preprocessor">#define AW_USE       1</span>
<a name="l02334"></a><a class="code" href="../../d8/d7/structtagAAS.html#o0">02334</a> <span class="preprocessor"></span><span class="preprocessor">#define AW_TRY       2</span>
<a name="l02335"></a><a class="code" href="../../d8/d7/structtagAAS.html#o1">02335</a> <span class="preprocessor"></span><span class="preprocessor">#define AW_SKIP      3</span>
<a name="l02336"></a><a class="code" href="../../d8/d7/structtagAAS.html#o2">02336</a> <span class="preprocessor"></span><span class="preprocessor">#define AW_TRY2      4</span>
<a name="l02337"></a><a class="code" href="../../d8/d7/structtagAAS.html#o3">02337</a> <span class="preprocessor"></span><span class="preprocessor">#define AW_SKIP2     5      </span><span class="comment">/* used internally in xxxActivateWindow() */</span>
02338 <span class="preprocessor">#define AW_USE2      6      </span><span class="comment">/* nc mouse activation added by craigc */</span>
02339 
02340 <span class="comment">/*</span>
02341 <span class="comment"> * Structure for WM_ACTIVATEAPP EnumWindows() callback.</span>
02342 <span class="comment"> */</span>
02343 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/d7/structtagAAS.html">tagAAS</a> {
02344     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> <a class="code" href="../../d8/d7/structtagAAS.html#o0">ptiNotify</a>;
<a name="l02345"></a><a class="code" href="../../d4/d1/userk_8h.html#a256">02345</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> tidActDeact;
02346     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> fActivating  : 1;
<a name="l02347"></a><a class="code" href="../../d4/d1/userk_8h.html#a257">02347</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> fQueueNotify : 1;
<a name="l02348"></a><a class="code" href="../../d4/d1/userk_8h.html#a258">02348</a> } <a class="code" href="../../d8/d7/structtagAAS.html">AAS</a>;
02349 
02350 <span class="comment">/*</span>
02351 <span class="comment"> * Declaration for EnumWindows() callback function.</span>
02352 <span class="comment"> */</span>
02353 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1017">xxxActivateApp</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d8/d7/structtagAAS.html">AAS</a> *paas);
<a name="l02354"></a><a class="code" href="../../d4/d1/userk_8h.html#a259">02354</a> 
02355 <span class="preprocessor">#define GETDESKINFO(pti)  ((pti)-&gt;pDeskInfo)</span>
<a name="l02356"></a><a class="code" href="../../d4/d1/userk_8h.html#a260">02356</a> <span class="preprocessor"></span>
<a name="l02357"></a><a class="code" href="../../d4/d1/userk_8h.html#a261">02357</a> <span class="preprocessor">#define SET_TIME_LAST_READ(pti)     ((pti)-&gt;pcti-&gt;timeLastRead = NtGetTickCount())</span>
<a name="l02358"></a><a class="code" href="../../d4/d1/userk_8h.html#a262">02358</a> <span class="preprocessor"></span><span class="preprocessor">#define GET_TIME_LAST_READ(pti)     ((pti)-&gt;pcti-&gt;timeLastRead)</span>
02359 <span class="preprocessor"></span>
02360 
02361 <span class="comment">/*</span>
02362 <span class="comment"> * General purpose helper macros</span>
02363 <span class="comment"> */</span>
<a name="l02364"></a><a class="code" href="../../d4/d1/userk_8h.html#a263">02364</a> <span class="preprocessor">#define abs(A)      (((A) &lt; 0)? -(A) : (A))</span>
02365 <span class="preprocessor"></span>
02366 <span class="preprocessor">#define N_ELEM(a)     (sizeof(a)/sizeof(a[0]))</span>
02367 <span class="preprocessor"></span><span class="preprocessor">#define LAST_ELEM(a)  ( (a) [ N_ELEM(a) - 1 ] )</span>
02368 <span class="preprocessor"></span><span class="preprocessor">#define PLAST_ELEM(a) (&amp;LAST_ELEM(a))</span>
02369 <span class="preprocessor"></span>
02370 
<a name="l02371"></a><a class="code" href="../../d4/d1/userk_8h.html#a264">02371</a> <span class="comment">/*</span>
<a name="l02372"></a><a class="code" href="../../d4/d1/userk_8h.html#a265">02372</a> <span class="comment"> * General purpose access check macro</span>
02373 <span class="comment"> */</span>
<a name="l02374"></a><a class="code" href="../../d1/d3/struct__LOCKRECORD.html">02374</a> <span class="preprocessor">#define RETURN_IF_ACCESS_DENIED(amGranted, amRequested, r) \</span>
<a name="l02375"></a><a class="code" href="../../d1/d3/struct__LOCKRECORD.html#o0">02375</a> <span class="preprocessor">        if (!CheckGrantedAccess((amGranted), (amRequested))) return r</span>
<a name="l02376"></a><a class="code" href="../../d1/d3/struct__LOCKRECORD.html#o1">02376</a> <span class="preprocessor"></span>
<a name="l02377"></a><a class="code" href="../../d1/d3/struct__LOCKRECORD.html#o2">02377</a> <span class="comment">/*</span>
<a name="l02378"></a><a class="code" href="../../d1/d3/struct__LOCKRECORD.html#o3">02378</a> <span class="comment"> * Lock record structure for tracking locks (debug only)</span>
02379 <span class="comment"> */</span>
02380 
02381 <span class="preprocessor">#define LOCKRECORD_STACK    8</span>
02382 <span class="preprocessor"></span><span class="preprocessor">#define LOCKRECORD_MARKDESTROY  IntToPtr( 0xFFFFFFFF )</span>
02383 <span class="preprocessor"></span>
02384 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d1/d3/struct__LOCKRECORD.html">_LOCKRECORD</a> {
<a name="l02385"></a><a class="code" href="../../d4/d1/userk_8h.html#a266">02385</a>     <a class="code" href="../../d1/d3/struct__LOCKRECORD.html">PLR</a>    plrNext;
02386     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  cLockObj;
02387     PVOID  ppobj;
02388     PVOID  trace[<a class="code" href="../../d4/d1/userk_8h.html#a264">LOCKRECORD_STACK</a>];
02389 } <a class="code" href="../../d1/d3/struct__LOCKRECORD.html">LOCKRECORD</a>;
02390 
<a name="l02391"></a><a class="code" href="../../d4/d2/struct__LOCK.html">02391</a> <span class="comment">/*</span>
<a name="l02392"></a><a class="code" href="../../d4/d2/struct__LOCK.html#o0">02392</a> <span class="comment"> * We limit recursion until if we have only this much stack left.</span>
<a name="l02393"></a><a class="code" href="../../d4/d2/struct__LOCK.html#o1">02393</a> <span class="comment"> * We have to leave room for kernel interupts</span>
<a name="l02394"></a><a class="code" href="../../d4/d2/struct__LOCK.html#o2">02394</a> <span class="comment"> */</span>
02395 <span class="preprocessor">#define KERNEL_STACK_MINIMUM_RESERVE  (4*1024)</span>
02396 <span class="preprocessor"></span>
02397 <span class="comment">/*</span>
02398 <span class="comment"> * The following is a LOCK structure. This structure is recorded for</span>
02399 <span class="comment"> * each threadlock so unlocks can occur at cleanup time.</span>
02400 <span class="comment"> */</span>
02401 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d4/d2/struct__LOCK.html">_LOCK</a> {
<a name="l02402"></a><a class="code" href="../../d4/d1/userk_8h.html#a267">02402</a>     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti;
02403     PVOID pobj;
<a name="l02404"></a><a class="code" href="../../d2/d2/structtagCVR.html">02404</a>     <a class="code" href="../../d5/d1/struct__TL.html">PTL</a> ptl;
02405 <span class="preprocessor">#if DBG</span>
<a name="l02406"></a><a class="code" href="../../d2/d2/structtagCVR.html#o0">02406</a> <span class="preprocessor"></span>    PVOID pfn;                      <span class="comment">// for debugging purposes only</span>
<a name="l02407"></a><a class="code" href="../../d2/d2/structtagCVR.html#o1">02407</a>     <span class="keywordtype">int</span> ilNext;                     <span class="comment">// for debugging purposes only</span>
<a name="l02408"></a><a class="code" href="../../d2/d2/structtagCVR.html#o2">02408</a>     <span class="keywordtype">int</span> iilPrev;                    <span class="comment">// for debugging purposes only</span>
<a name="l02409"></a><a class="code" href="../../d2/d2/structtagCVR.html#o3">02409</a> <span class="preprocessor">#endif // DBG</span>
<a name="l02410"></a><a class="code" href="../../d2/d2/structtagCVR.html#o4">02410</a> <span class="preprocessor"></span>} <a class="code" href="../../d4/d2/struct__LOCK.html">LOCK</a>, *<a class="code" href="../../d4/d2/struct__LOCK.html">PLOCK</a>;
<a name="l02411"></a><a class="code" href="../../d2/d2/structtagCVR.html#o5">02411</a> 
<a name="l02412"></a><a class="code" href="../../d2/d2/structtagCVR.html#o6">02412</a> <span class="preprocessor">#define NEEDSSYNCPAINT(pwnd) TestWF(pwnd, WFSENDERASEBKGND | WFSENDNCPAINT)</span>
<a name="l02413"></a><a class="code" href="../../d2/d2/structtagCVR.html#o7">02413</a> <span class="preprocessor"></span>
<a name="l02414"></a><a class="code" href="../../d2/d2/structtagCVR.html#o8">02414</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d2/d2/structtagCVR.html">tagCVR</a>       <span class="comment">// cvr</span>
<a name="l02415"></a><a class="code" href="../../d2/d2/structtagCVR.html#o9">02415</a> {
<a name="l02416"></a><a class="code" href="../../d2/d2/structtagCVR.html#o10">02416</a>     WINDOWPOS   <a class="code" href="../../d2/d2/structtagCVR.html#o0">pos</a>;        <span class="comment">// MUST be first field of CVR!</span>
<a name="l02417"></a><a class="code" href="../../d2/d2/structtagCVR.html#o11">02417</a>     <span class="keywordtype">int</span>         <a class="code" href="../../d2/d2/structtagCVR.html#o1">xClientNew</a>; <span class="comment">// New client rectangle</span>
<a name="l02418"></a><a class="code" href="../../d2/d2/structtagCVR.html#o12">02418</a>     <span class="keywordtype">int</span>         <a class="code" href="../../d2/d2/structtagCVR.html#o2">yClientNew</a>;
02419     <span class="keywordtype">int</span>         <a class="code" href="../../d2/d2/structtagCVR.html#o3">cxClientNew</a>;
02420     <span class="keywordtype">int</span>         <a class="code" href="../../d2/d2/structtagCVR.html#o4">cyClientNew</a>;
02421     RECT        <a class="code" href="../../d2/d2/structtagCVR.html#o5">rcBlt</a>;
02422     <span class="keywordtype">int</span>         <a class="code" href="../../d2/d2/structtagCVR.html#o6">dxBlt</a>;      <span class="comment">// Distance blt rectangle is moving</span>
02423     <span class="keywordtype">int</span>         <a class="code" href="../../d2/d2/structtagCVR.html#o7">dyBlt</a>;
02424     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>        <a class="code" href="../../d2/d2/structtagCVR.html#o8">fsRE</a>;       <span class="comment">// RE_ flags: whether hrgnVisOld is empty or not</span>
<a name="l02425"></a><a class="code" href="../../d4/d1/userk_8h.html#a268">02425</a>     HRGN        hrgnVisOld; <span class="comment">// Previous visrgn</span>
<a name="l02426"></a><a class="code" href="../../d4/d1/userk_8h.html#a269">02426</a>     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti;        <span class="comment">// The thread this SWP should be processed on</span>
<a name="l02427"></a><a class="code" href="../../d4/d1/userk_8h.html#a270">02427</a>     HRGN        hrgnClip;   <span class="comment">// Window clipping region</span>
<a name="l02428"></a><a class="code" href="../../d4/d1/userk_8h.html#a271">02428</a>     HRGN        hrgnInterMonitor;  <span class="comment">// multimon support</span>
<a name="l02429"></a><a class="code" href="../../d4/d1/userk_8h.html#a272">02429</a> } <a class="code" href="../../d2/d2/structtagCVR.html">CVR</a>, *<a class="code" href="../../d2/d2/structtagCVR.html">PCVR</a>;
<a name="l02430"></a><a class="code" href="../../d4/d1/userk_8h.html#a273">02430</a> 
<a name="l02431"></a><a class="code" href="../../d4/d1/userk_8h.html#a274">02431</a> <span class="comment">/*</span>
02432 <span class="comment"> * CalcValidRects() "Region Empty" flag values</span>
<a name="l02433"></a><a class="code" href="../../d8/d6/structtagSMWP.html">02433</a> <span class="comment"> * A set bit indicates the corresponding region is empty.</span>
<a name="l02434"></a><a class="code" href="../../d8/d6/structtagSMWP.html#o0">02434</a> <span class="comment"> */</span>
<a name="l02435"></a><a class="code" href="../../d8/d6/structtagSMWP.html#o1">02435</a> <span class="preprocessor">#define RE_VISNEW       0x0001  // CVR "Region Empty" flag values</span>
<a name="l02436"></a><a class="code" href="../../d8/d6/structtagSMWP.html#o2">02436</a> <span class="preprocessor"></span><span class="preprocessor">#define RE_VISOLD       0x0002  // A set bit indicates the</span>
02437 <span class="preprocessor"></span><span class="preprocessor">#define RE_VALID        0x0004  // corresponding region is empty.</span>
02438 <span class="preprocessor"></span><span class="preprocessor">#define RE_INVALID      0x0008</span>
02439 <span class="preprocessor"></span><span class="preprocessor">#define RE_SPB          0x0010</span>
<a name="l02440"></a><a class="code" href="../../d8/d6/structtagSMWP.html#o3">02440</a> <span class="preprocessor"></span><span class="preprocessor">#define RE_VALIDSUM     0x0020</span>
<a name="l02441"></a><a class="code" href="../../d8/d6/structtagSMWP.html#o4">02441</a> <span class="preprocessor"></span><span class="preprocessor">#define RE_INVALIDSUM   0x0040</span>
<a name="l02442"></a><a class="code" href="../../d8/d6/structtagSMWP.html#o5">02442</a> <span class="preprocessor"></span>
02443 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/d6/structtagSMWP.html">tagSMWP</a> {    <span class="comment">// smwp</span>
02444     <a class="code" href="../../d4/d5/struct__HEAD.html">HEAD</a>           <a class="code" href="../../d8/d6/structtagSMWP.html#o0">head</a>;
02445     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>           <a class="code" href="../../d8/d6/structtagSMWP.html#o1">bShellNotify</a>:1; <span class="comment">// The acvr list contains shell notify flags</span>
02446     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>           <a class="code" href="../../d8/d6/structtagSMWP.html#o2">bHandle</a>:1;   <span class="comment">// This is an HM object allocation -- See -BeginDeferWindowPos</span>
02447     <span class="comment">/*</span>
02448 <span class="comment">     * All fields AFTER ccvr are preserved when reusing the global SMWP structure.</span>
02449 <span class="comment">     */</span>
<a name="l02450"></a><a class="code" href="../../d6/d0/structtagCLIPDATA.html">02450</a>     <span class="keywordtype">int</span>            ccvr;        <span class="comment">// Number of CVRs in the SWMP</span>
<a name="l02451"></a><a class="code" href="../../d6/d0/structtagCLIPDATA.html#o0">02451</a>     <span class="keywordtype">int</span>            ccvrAlloc;   <span class="comment">// Number of actual CVRs allocated in the SMWP</span>
<a name="l02452"></a><a class="code" href="../../d6/d0/structtagCLIPDATA.html#o1">02452</a>     <a class="code" href="../../d4/d1/userk_8h.html#a821">PCVR</a>           acvr;        <span class="comment">// Pointer to array of CVR structures</span>
<a name="l02453"></a><a class="code" href="../../d6/d0/structtagCLIPDATA.html#o2">02453</a> } <a class="code" href="../../d8/d6/structtagSMWP.html">SMWP</a>, *<a class="code" href="../../d8/d6/structtagSMWP.html">PSMWP</a>;
02454 
02455 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1018">DestroySMWP</a>(PSMWP psmwp);
02456 
02457 <span class="comment">/*</span>
02458 <span class="comment"> * Clipboard data object definition</span>
<a name="l02459"></a><a class="code" href="../../d0/d9/structtagUSERSTARTUPINFO.html">02459</a> <span class="comment"> */</span>
<a name="l02460"></a><a class="code" href="../../d0/d9/structtagUSERSTARTUPINFO.html#o0">02460</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d6/d0/structtagCLIPDATA.html">tagCLIPDATA</a> {
<a name="l02461"></a><a class="code" href="../../d0/d9/structtagUSERSTARTUPINFO.html#o1">02461</a>     <a class="code" href="../../d4/d5/struct__HEAD.html">HEAD</a>    head;
<a name="l02462"></a><a class="code" href="../../d0/d9/structtagUSERSTARTUPINFO.html#o2">02462</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   cbData;
<a name="l02463"></a><a class="code" href="../../d0/d9/structtagUSERSTARTUPINFO.html#o3">02463</a>     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>    abData[0];
<a name="l02464"></a><a class="code" href="../../d0/d9/structtagUSERSTARTUPINFO.html#o4">02464</a> } <a class="code" href="../../d6/d0/structtagCLIPDATA.html">CLIPDATA</a>, *<a class="code" href="../../d6/d0/structtagCLIPDATA.html">PCLIPDATA</a>;
<a name="l02465"></a><a class="code" href="../../d0/d9/structtagUSERSTARTUPINFO.html#o5">02465</a> 
<a name="l02466"></a><a class="code" href="../../d0/d9/structtagUSERSTARTUPINFO.html#o6">02466</a> <span class="comment">/*</span>
<a name="l02467"></a><a class="code" href="../../d0/d9/structtagUSERSTARTUPINFO.html#o7">02467</a> <span class="comment"> * Private User Startupinfo</span>
02468 <span class="comment"> */</span>
02469 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d0/d9/structtagUSERSTARTUPINFO.html">tagUSERSTARTUPINFO</a> {
02470     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d0/d9/structtagUSERSTARTUPINFO.html#o0">cb</a>;
02471     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d0/d9/structtagUSERSTARTUPINFO.html#o1">dwX</a>;
02472     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d0/d9/structtagUSERSTARTUPINFO.html#o2">dwY</a>;
<a name="l02473"></a><a class="code" href="../../d4/d1/userk_8h.html#a275">02473</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   dwXSize;
02474     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   dwYSize;
<a name="l02475"></a><a class="code" href="../../d5/d8/structtagTLBLOCK.html">02475</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a>;
<a name="l02476"></a><a class="code" href="../../d5/d8/structtagTLBLOCK.html#o0">02476</a>     WORD    wShowWindow;
02477     WORD    cbReserved2;
<a name="l02478"></a><a class="code" href="../../d5/d8/structtagTLBLOCK.html#o1">02478</a> } <a class="code" href="../../d0/d9/structtagUSERSTARTUPINFO.html">USERSTARTUPINFO</a>, *<a class="code" href="../../d0/d9/structtagUSERSTARTUPINFO.html">PUSERSTARTUPINFO</a>;
<a name="l02479"></a><a class="code" href="../../d5/d8/structtagTLBLOCK.html#o2">02479</a> 
<a name="l02480"></a><a class="code" href="../../d5/d8/structtagTLBLOCK.html#o3">02480</a> <span class="comment">/*</span>
02481 <span class="comment"> * TLBLOCK structure for multiple threads locking.</span>
02482 <span class="comment"> */</span>
02483 <span class="preprocessor">#define THREADS_PER_TLBLOCK 16</span>
02484 <span class="preprocessor"></span>
02485 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d5/d8/structtagTLBLOCK.html">tagTLBLOCK</a> {
02486     <span class="keyword">struct      </span><a class="code" href="../../d5/d8/structtagTLBLOCK.html">tagTLBLOCK</a> *<a class="code" href="../../d5/d8/structtagTLBLOCK.html#o0">ptlBlockPrev</a>;
02487     <span class="keyword">struct </span>{
02488         <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti;
02489         <a class="code" href="../../d5/d1/struct__TL.html">TL</a>          tlpti;
<a name="l02490"></a><a class="code" href="../../d1/d9/structtagKBDFILE.html">02490</a>         <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>       <a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a>;
<a name="l02491"></a><a class="code" href="../../d1/d9/structtagKBDFILE.html#o0">02491</a> <span class="preprocessor">#if DBG</span>
<a name="l02492"></a><a class="code" href="../../d1/d9/structtagKBDFILE.html#o1">02492</a> <span class="preprocessor"></span>        <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>       dwUnlockedCount;
<a name="l02493"></a><a class="code" href="../../d1/d9/structtagKBDFILE.html#o2">02493</a> <span class="preprocessor">#endif</span>
<a name="l02494"></a><a class="code" href="../../d1/d9/structtagKBDFILE.html#o3">02494</a> <span class="preprocessor"></span>    } list[<a class="code" href="../../d4/d1/userk_8h.html#a275">THREADS_PER_TLBLOCK</a>];
<a name="l02495"></a><a class="code" href="../../d1/d9/structtagKBDFILE.html#o4">02495</a> } <a class="code" href="../../d5/d8/structtagTLBLOCK.html">TLBLOCK</a>, *<a class="code" href="../../d5/d8/structtagTLBLOCK.html">PTLBLOCK</a>;
<a name="l02496"></a><a class="code" href="../../d1/d9/structtagKBDFILE.html#o5">02496</a> 
<a name="l02497"></a><a class="code" href="../../d1/d9/structtagKBDFILE.html#o6">02497</a> <span class="comment">/*</span>
02498 <span class="comment"> * Keyboard File object</span>
02499 <span class="comment"> */</span>
02500 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d1/d9/structtagKBDFILE.html">tagKBDFILE</a> {
02501     <a class="code" href="../../d4/d5/struct__HEAD.html">HEAD</a>               <a class="code" href="../../d1/d9/structtagKBDFILE.html#o0">head</a>;
02502     <span class="keyword">struct </span><a class="code" href="../../d1/d9/structtagKBDFILE.html">tagKBDFILE</a> *<a class="code" href="../../d1/d9/structtagKBDFILE.html#o1">pkfNext</a>;   <span class="comment">// next keyboard file</span>
<a name="l02503"></a><a class="code" href="../../d4/d9/structtagKL.html">02503</a>     WCHAR              awchKF[9]; <span class="comment">// Name of Layout eg: L"00000409"</span>
<a name="l02504"></a><a class="code" href="../../d4/d9/structtagKL.html#o0">02504</a>     HANDLE             hBase;     <span class="comment">// base address of data</span>
<a name="l02505"></a><a class="code" href="../../d4/d9/structtagKL.html#o1">02505</a>     PKBDTABLES         pKbdTbl;   <span class="comment">// pointer to kbd layout data.</span>
<a name="l02506"></a><a class="code" href="../../d4/d9/structtagKL.html#o2">02506</a>     ULONG              <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a0">Size</a>;      <span class="comment">// Size of pKbdTbl</span>
<a name="l02507"></a><a class="code" href="../../d4/d9/structtagKL.html#o3">02507</a>     PKBDNLSTABLES      pKbdNlsTbl; <span class="comment">// pointer to kbd nls layout data.</span>
<a name="l02508"></a><a class="code" href="../../d4/d9/structtagKL.html#o4">02508</a> } <a class="code" href="../../d1/d9/structtagKBDFILE.html">KBDFILE</a>, *<a class="code" href="../../d1/d9/structtagKBDFILE.html">PKBDFILE</a>;
<a name="l02509"></a><a class="code" href="../../d4/d9/structtagKL.html#o5">02509</a> 
<a name="l02510"></a><a class="code" href="../../d4/d9/structtagKL.html#o6">02510</a> <span class="comment">/*</span>
<a name="l02511"></a><a class="code" href="../../d4/d9/structtagKL.html#o7">02511</a> <span class="comment"> * Keyboard Layout object</span>
<a name="l02512"></a><a class="code" href="../../d4/d9/structtagKL.html#o8">02512</a> <span class="comment"> */</span>
<a name="l02513"></a><a class="code" href="../../d4/d9/structtagKL.html#o9">02513</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d4/d9/structtagKL.html">tagKL</a> {   <span class="comment">/* kl */</span>
<a name="l02514"></a><a class="code" href="../../d4/d9/structtagKL.html#o10">02514</a>     <a class="code" href="../../d4/d5/struct__HEAD.html">HEAD</a>          <a class="code" href="../../d4/d9/structtagKL.html#o0">head</a>;
02515     <span class="keyword">struct </span><a class="code" href="../../d4/d9/structtagKL.html">tagKL</a> *<a class="code" href="../../d4/d9/structtagKL.html#o1">pklNext</a>;     <span class="comment">// next in layout cycle</span>
02516     <span class="keyword">struct </span><a class="code" href="../../d4/d9/structtagKL.html">tagKL</a> *<a class="code" href="../../d4/d9/structtagKL.html#o2">pklPrev</a>;     <span class="comment">// prev in layout cycle</span>
02517     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>         <a class="code" href="../../d4/d9/structtagKL.html#o3">dwKL_Flags</a>;  <span class="comment">// KL_* flags</span>
02518     HKL           <a class="code" href="../../d4/d9/structtagKL.html#o4">hkl</a>;         <span class="comment">// (Layout ID | Base Language ID)</span>
02519     <a class="code" href="../../d1/d9/structtagKBDFILE.html">KBDFILE</a>      *<a class="code" href="../../d4/d9/structtagKL.html#o5">spkf</a>;        <span class="comment">// Keyboard Layout File</span>
<a name="l02520"></a><a class="code" href="../../d4/d1/userk_8h.html#a276">02520</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>         dwFontSigs;  <span class="comment">// mask of FS_xxx bits - fonts that layout is good for</span>
<a name="l02521"></a><a class="code" href="../../d4/d1/userk_8h.html#a277">02521</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>          iBaseCharset;<span class="comment">// Charset value (Win95 compat) eg: ANSI_CHARSET</span>
02522     WORD          CodePage;    <span class="comment">// Windows Codepage of kbd layout, eg: 1252, 1250</span>
02523     WCHAR         wchDiacritic;<span class="comment">// Dead key saved here until next keystroke</span>
02524     <a class="code" href="../../d0/d8/structtagIMEINFOEX.html">PIMEINFOEX</a>    piiex;       <span class="comment">// Extended information for IME based layout</span>
02525 } <a class="code" href="../../d4/d9/structtagKL.html">KL</a>, *<a class="code" href="../../d4/d9/structtagKL.html">PKL</a>;
<a name="l02526"></a><a class="code" href="../../d2/d9/structtagKBDLANGTOGGLE.html">02526</a> 
02527 <span class="comment">/*</span>
<a name="l02528"></a><a class="code" href="../../d2/d9/structtagKBDLANGTOGGLE.html#o0">02528</a> <span class="comment"> * Flag values for KL dwFlags</span>
<a name="l02529"></a><a class="code" href="../../d2/d9/structtagKBDLANGTOGGLE.html#o1">02529</a> <span class="comment"> */</span>
<a name="l02530"></a><a class="code" href="../../d2/d9/structtagKBDLANGTOGGLE.html#o2">02530</a> <span class="preprocessor">#define KL_UNLOADED 0x20000000</span>
02531 <span class="preprocessor"></span><span class="preprocessor">#define KL_RESET    0x40000000</span>
02532 <span class="preprocessor"></span>
02533 
02534 <a class="code" href="../../d4/d1/userk_8h.html#a833">PKL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1019">HKLtoPKL</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti, HKL hkl);
02535 
02536 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d2/d9/structtagKBDLANGTOGGLE.html">tagKBDLANGTOGGLE</a>
02537 {
02538     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> <a class="code" href="../../d2/d9/structtagKBDLANGTOGGLE.html#o0">bVkey</a>;
02539     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> <a class="code" href="../../d2/d9/structtagKBDLANGTOGGLE.html#o1">bScan</a>;
02540     <span class="keywordtype">int</span>  <a class="code" href="../../d2/d9/structtagKBDLANGTOGGLE.html#o2">iBitPosition</a>;
02541 } <a class="code" href="../../d2/d9/structtagKBDLANGTOGGLE.html">KBDLANGTOGGLE</a>;
<a name="l02542"></a><a class="code" href="../../d4/d1/userk_8h.html#a278">02542</a> 
02543 <span class="comment">/*</span>
02544 <span class="comment"> * These constants are derived from combinations of</span>
02545 <span class="comment"> * iBitPosition (refer to the LangToggle array defined</span>
02546 <span class="comment"> * in globals.c).</span>
<a name="l02547"></a><a class="code" href="../../d4/d1/userk_8h.html#a279">02547</a> <span class="comment"> */</span>
02548 
02549 <span class="comment">/*</span>
02550 <span class="comment"> * This bit is used for both control and alt keys</span>
02551 <span class="comment"> */</span>
<a name="l02552"></a><a class="code" href="../../d4/d1/userk_8h.html#a280">02552</a> <span class="preprocessor">#define KLT_ALT              1</span>
02553 <span class="preprocessor"></span>
02554 <span class="comment">/*</span>
02555 <span class="comment"> * This bit is used for the left shift key</span>
02556 <span class="comment"> */</span>
<a name="l02557"></a><a class="code" href="../../d4/d1/userk_8h.html#a281">02557</a> <span class="preprocessor">#define KLT_LEFTSHIFT        2</span>
02558 <span class="preprocessor"></span>
02559 <span class="comment">/*</span>
02560 <span class="comment"> * This combination denotes ctrl/alt and the left shift key</span>
02561 <span class="comment"> */</span>
<a name="l02562"></a><a class="code" href="../../d4/d1/userk_8h.html#a282">02562</a> <span class="preprocessor">#define KLT_ALTLEFTSHIFT     3</span>
02563 <span class="preprocessor"></span>
02564 <span class="comment">/*</span>
02565 <span class="comment"> * This bit is used for the right shift key</span>
02566 <span class="comment"> */</span>
<a name="l02567"></a><a class="code" href="../../d4/d1/userk_8h.html#a283">02567</a> <span class="preprocessor">#define KLT_RIGHTSHIFT       4</span>
02568 <span class="preprocessor"></span>
02569 <span class="comment">/*</span>
02570 <span class="comment"> * This combination denotes ctrl/alt and the right shift key</span>
02571 <span class="comment"> */</span>
<a name="l02572"></a><a class="code" href="../../d4/d1/userk_8h.html#a284">02572</a> <span class="preprocessor">#define KLT_ALTRIGHTSHIFT    5</span>
02573 <span class="preprocessor"></span>
02574 <span class="comment">/*</span>
02575 <span class="comment"> * This combination denotes ctrl/alt and both the shift keys</span>
02576 <span class="comment"> */</span>
02577 <span class="preprocessor">#define KLT_ALTBOTHSHIFTS    7</span>
<a name="l02578"></a><a class="code" href="../../d4/d1/userk_8h.html#a285">02578</a> <span class="preprocessor"></span>
<a name="l02579"></a><a class="code" href="../../d4/d1/userk_8h.html#a286">02579</a> <span class="comment">/*</span>
<a name="l02580"></a><a class="code" href="../../d4/d1/userk_8h.html#a287">02580</a> <span class="comment"> * This value is used to mark invalid toggle key sequence</span>
<a name="l02581"></a><a class="code" href="../../d4/d1/userk_8h.html#a288">02581</a> <span class="comment"> */</span>
<a name="l02582"></a><a class="code" href="../../d4/d1/userk_8h.html#a289">02582</a> <span class="preprocessor">#define KLT_NONE             8</span>
<a name="l02583"></a><a class="code" href="../../d4/d1/userk_8h.html#a290">02583</a> <span class="preprocessor"></span>
<a name="l02584"></a><a class="code" href="../../d4/d1/userk_8h.html#a291">02584</a> 
<a name="l02585"></a><a class="code" href="../../d4/d1/userk_8h.html#a292">02585</a> <span class="comment">/*</span>
<a name="l02586"></a><a class="code" href="../../d4/d1/userk_8h.html#a293">02586</a> <span class="comment"> * Desktop flags</span>
<a name="l02587"></a><a class="code" href="../../d4/d1/userk_8h.html#a294">02587</a> <span class="comment"> */</span>
<a name="l02588"></a><a class="code" href="../../d4/d1/userk_8h.html#a295">02588</a> <span class="preprocessor">#define DF_DYING            0x80000000</span>
<a name="l02589"></a><a class="code" href="../../d4/d1/userk_8h.html#a296">02589</a> <span class="preprocessor"></span><span class="preprocessor">#define DF_DESKWNDDESTROYED 0x40000000</span>
<a name="l02590"></a><a class="code" href="../../d4/d1/userk_8h.html#a297">02590</a> <span class="preprocessor"></span><span class="preprocessor">#define DF_DESTROYED        0x20000000</span>
<a name="l02591"></a><a class="code" href="../../d4/d1/userk_8h.html#a298">02591</a> <span class="preprocessor"></span><span class="preprocessor">#define DF_HOTTRACKING      0x10000000</span>
02592 <span class="preprocessor"></span><span class="preprocessor">#define DF_TOOLTIPSHOWING   0x08000000</span>
02593 <span class="preprocessor"></span><span class="preprocessor">#define DF_TOOLTIPACTIVE    0x04000000</span>
02594 <span class="preprocessor"></span><span class="preprocessor">#define DF_TOOLTIP          (DF_TOOLTIPACTIVE | DF_TOOLTIPSHOWING)</span>
<a name="l02595"></a><a class="code" href="../../d4/d1/userk_8h.html#a299">02595</a> <span class="preprocessor"></span><span class="preprocessor">#define DF_TRACKMOUSELEAVE  0x02000000</span>
02596 <span class="preprocessor"></span><span class="preprocessor">#define DF_TRACKMOUSEHOVER  0x01000000</span>
02597 <span class="preprocessor"></span><span class="preprocessor">#define DF_TRACKMOUSEEVENT  (DF_TRACKMOUSELEAVE | DF_TRACKMOUSEHOVER)</span>
02598 <span class="preprocessor"></span><span class="preprocessor">#define DF_MOUSEMOVETRK     (DF_HOTTRACKING | DF_TOOLTIPACTIVE | DF_TRACKMOUSELEAVE | DF_TRACKMOUSEHOVER)</span>
02599 <span class="preprocessor"></span><span class="preprocessor">#define DF_MENUINUSE        0x00800000</span>
02600 <span class="preprocessor"></span><span class="preprocessor">#define DF_NEWDISPLAYSETTINGS 0x00400000</span>
<a name="l02601"></a><a class="code" href="../../d4/d1/userk_8h.html#a300">02601</a> <span class="preprocessor"></span><span class="preprocessor">#define DF_DESKCREATED      0x00200000</span>
02602 <span class="preprocessor"></span>
02603 
<a name="l02604"></a><a class="code" href="../../d4/d1/userk_8h.html#a301">02604</a> 
02605 <span class="preprocessor">#define CAPTIONTOOLTIPLEN   100</span>
02606 <span class="preprocessor"></span>
02607 <span class="comment">/*</span>
02608 <span class="comment"> * Used to identify desktops uniquely for GDI</span>
02609 <span class="comment"> */</span>
02610 
02611 <span class="preprocessor">#define GW_DESKTOP_ID 1</span>
02612 <span class="preprocessor"></span>
02613 <span class="comment">// #define DESKTOP_ALLOC_TRACE</span>
02614 <span class="preprocessor">#define DESKTOP_ALLOC_TRACE_SIZE    6</span>
02615 <span class="preprocessor"></span>
02616 <span class="preprocessor">#if DBG</span>
02617 <span class="preprocessor"></span>    <span class="keyword">typedef</span> <span class="keyword">struct </span>tagDbgAllocHead {
02618         <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>    mark;
02619         <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>    tag;
02620         <a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a> pdesk;
02621         SIZE_T   size;                  <span class="comment">// the size of the allocation (doesn't include</span>
02622                                         <span class="comment">// this structure</span>
02623 
<a name="l02624"></a><a class="code" href="../../d4/d1/userk_8h.html#a302">02624</a>         <span class="keyword">struct </span>tagDbgAllocHead* pPrev;  <span class="comment">// pointer to the previous allocation of this tag</span>
<a name="l02625"></a><a class="code" href="../../d4/d1/userk_8h.html#a303">02625</a>         <span class="keyword">struct </span>tagDbgAllocHead* pNext;  <span class="comment">// pointer to the next allocation of this tag</span>
<a name="l02626"></a><a class="code" href="../../d4/d1/userk_8h.html#a304">02626</a> 
<a name="l02627"></a><a class="code" href="../../d4/d1/userk_8h.html#a305">02627</a> <span class="preprocessor">#ifdef DESKTOP_ALLOC_TRACE</span>
<a name="l02628"></a><a class="code" href="../../d4/d1/userk_8h.html#a306">02628</a> <span class="preprocessor"></span>        PVOID  trace[<a class="code" href="../../d4/d1/userk_8h.html#a301">DESKTOP_ALLOC_TRACE_SIZE</a>];
<a name="l02629"></a><a class="code" href="../../d4/d1/userk_8h.html#a307">02629</a> <span class="preprocessor">#endif // DESKTOP_ALLOC_TRACE</span>
<a name="l02630"></a><a class="code" href="../../d4/d1/userk_8h.html#a308">02630</a> <span class="preprocessor"></span>
<a name="l02631"></a><a class="code" href="../../d4/d1/userk_8h.html#a309">02631</a>     } DbgAllocHead, *PDbgAllocHead;
<a name="l02632"></a><a class="code" href="../../d4/d1/userk_8h.html#a310">02632</a> <span class="preprocessor">#endif // DBG</span>
<a name="l02633"></a><a class="code" href="../../d4/d1/userk_8h.html#a311">02633</a> <span class="preprocessor"></span>
02634 <span class="preprocessor">#define DTAG_CLASS              0x0001</span>
02635 <span class="preprocessor"></span><span class="preprocessor">#define DTAG_DESKTOPINFO        0x0002</span>
02636 <span class="preprocessor"></span><span class="preprocessor">#define DTAG_CLIENTTHREADINFO   0x0003</span>
02637 <span class="preprocessor"></span><span class="preprocessor">#define DTAG_TEXT               0x0004</span>
02638 <span class="preprocessor"></span><span class="preprocessor">#define DTAG_HANDTABL           0x0005</span>
02639 <span class="preprocessor"></span><span class="preprocessor">#define DTAG_SBINFO             0x0006</span>
02640 <span class="preprocessor"></span><span class="preprocessor">#define DTAG_MENUITEM           0x0007</span>
02641 <span class="preprocessor"></span><span class="preprocessor">#define DTAG_MENUTEXT           0x0008</span>
<a name="l02642"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html">02642</a> <span class="preprocessor"></span><span class="preprocessor">#define DTAG_IMETEXT            0x0009</span>
02643 <span class="preprocessor"></span><span class="preprocessor">#define DTAG_PROPLIST           0x000A</span>
<a name="l02644"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html#o0">02644</a> <span class="preprocessor"></span>
<a name="l02645"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html#o1">02645</a> <span class="comment">/*</span>
02646 <span class="comment"> * Desktop Structure.</span>
<a name="l02647"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html#o2">02647</a> <span class="comment"> *</span>
<a name="l02648"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html#o3">02648</a> <span class="comment"> *   This structure is only viewable from the kernel.  If any desktop</span>
02649 <span class="comment"> *   information is needed in the client, then they should reference off</span>
<a name="l02650"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html#o4">02650</a> <span class="comment"> *   the pDeskInfo field (i.e. pti-&gt;pDeskInfo).</span>
<a name="l02651"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html#o5">02651</a> <span class="comment"> */</span>
02652 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d0/d3/structtagDESKTOP.html">tagDESKTOP</a> {
<a name="l02653"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html#o6">02653</a> 
<a name="l02654"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html#o7">02654</a>     <a class="code" href="../../d1/d3/structtagDESKTOPINFO.html">PDESKTOPINFO</a>            <a class="code" href="../../d0/d3/structtagDESKTOP.html#o0">pDeskInfo</a>;         <span class="comment">// Desktop information</span>
<a name="l02655"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html#o8">02655</a>     <a class="code" href="../../d9/d3/structtagDISPLAYINFO.html">PDISPLAYINFO</a>            <a class="code" href="../../d0/d3/structtagDESKTOP.html#o1">pDispInfo</a>;         <span class="comment">//</span>
<a name="l02656"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html#o9">02656</a> 
<a name="l02657"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html#o10">02657</a>     <a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a>                 <a class="code" href="../../d0/d3/structtagDESKTOP.html#o2">rpdeskNext</a>;       <span class="comment">// Next desktop in list</span>
<a name="l02658"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html#o11">02658</a>     <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a>           <a class="code" href="../../d0/d3/structtagDESKTOP.html#o3">rpwinstaParent</a>;   <span class="comment">// Windowstation owner</span>
<a name="l02659"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html#o12">02659</a> 
<a name="l02660"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html#o13">02660</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>                   <a class="code" href="../../d0/d3/structtagDESKTOP.html#o4">dwDTFlags</a>;         <span class="comment">// Desktop flags</span>
<a name="l02661"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html#o14">02661</a>     ULONG                   <a class="code" href="../../d0/d3/structtagDESKTOP.html#o5">dwDesktopId</a>;       <span class="comment">// Needed by GDI to tag display devices</span>
02662 
<a name="l02663"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html#o15">02663</a>     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>                     <a class="code" href="../../d0/d3/structtagDESKTOP.html#o6">spwndMenu</a>;        <span class="comment">//</span>
<a name="l02664"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html#o16">02664</a>     <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a>                    <a class="code" href="../../d0/d3/structtagDESKTOP.html#o7">spmenuSys</a>;        <span class="comment">//</span>
<a name="l02665"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html#o17">02665</a>     <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a>                    <a class="code" href="../../d0/d3/structtagDESKTOP.html#o8">spmenuDialogSys</a>;  <span class="comment">//</span>
<a name="l02666"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html#o18">02666</a>     <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a>                    <a class="code" href="../../d0/d3/structtagDESKTOP.html#o9">spmenuHScroll</a>;
<a name="l02667"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html#o19">02667</a>     <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a>                    <a class="code" href="../../d0/d3/structtagDESKTOP.html#o10">spmenuVScroll</a>;
<a name="l02668"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html#o20">02668</a>     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>                     <a class="code" href="../../d0/d3/structtagDESKTOP.html#o11">spwndForeground</a>;  <span class="comment">//</span>
02669     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>                     <a class="code" href="../../d0/d3/structtagDESKTOP.html#o12">spwndTray</a>;
<a name="l02670"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html#o21">02670</a>     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>                     <a class="code" href="../../d0/d3/structtagDESKTOP.html#o13">spwndMessage</a>;
<a name="l02671"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html#o22">02671</a>     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>                     <a class="code" href="../../d0/d3/structtagDESKTOP.html#o14">spwndTooltip</a>;
<a name="l02672"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html#o23">02672</a> 
<a name="l02673"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html#o24">02673</a>     HANDLE                  <a class="code" href="../../d0/d3/structtagDESKTOP.html#o15">hsectionDesktop</a>;   <span class="comment">//</span>
02674     PWIN32HEAP              <a class="code" href="../../d0/d3/structtagDESKTOP.html#o16">pheapDesktop</a>;      <span class="comment">//</span>
<a name="l02675"></a><a class="code" href="../../d0/d3/structtagDESKTOP.html#o25">02675</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>                   <a class="code" href="../../d0/d3/structtagDESKTOP.html#o17">dwConsoleThreadId</a>; <span class="comment">//</span>
02676     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>                   <a class="code" href="../../d0/d3/structtagDESKTOP.html#o18">dwConsoleIMEThreadId</a>;
02677     CONSOLE_CARET_INFO      <a class="code" href="../../d0/d3/structtagDESKTOP.html#o19">cciConsole</a>;
02678     LIST_ENTRY              <a class="code" href="../../d0/d3/structtagDESKTOP.html#o20">PtiList</a>;           <span class="comment">//</span>
02679 
02680     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>                    <a class="code" href="../../d0/d3/structtagDESKTOP.html#o21">spwndTrack</a>;        <span class="comment">// xxxTrackMouseMove data</span>
02681     <span class="keywordtype">int</span>                     <a class="code" href="../../d0/d3/structtagDESKTOP.html#o22">htEx</a>;
02682     RECT                    <a class="code" href="../../d0/d3/structtagDESKTOP.html#o23">rcMouseHover</a>;
02683     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>                   <a class="code" href="../../d0/d3/structtagDESKTOP.html#o24">dwMouseHoverTime</a>;
02684 
02685     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>                   <a class="code" href="../../d0/d3/structtagDESKTOP.html#o25">dwSessionId</a>;
<a name="l02686"></a><a class="code" href="../../d3/d3/structtagDESKWND.html">02686</a> 
<a name="l02687"></a><a class="code" href="../../d3/d3/structtagDESKWND.html#o0">02687</a> <span class="preprocessor">#ifdef LOGDESKTOPLOCKS</span>
<a name="l02688"></a><a class="code" href="../../d3/d3/structtagDESKWND.html#o1">02688</a> <span class="preprocessor"></span>    <span class="keywordtype">int</span>                     nLockCount;
<a name="l02689"></a><a class="code" href="../../d3/d3/structtagDESKWND.html#o2">02689</a>     <span class="keywordtype">int</span>                     nLogMax;
02690     <span class="keywordtype">int</span>                     nLogCrt;
02691     PLogD                   pLog;
02692 <span class="preprocessor">#endif // LOGDESKTOPLOCKS</span>
02693 <span class="preprocessor"></span>
<a name="l02694"></a><a class="code" href="../../d4/d1/userk_8h.html#a312">02694</a> } <a class="code" href="../../d0/d3/structtagDESKTOP.html">DESKTOP</a>;
02695 
02696 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d3/d3/structtagDESKWND.html">tagDESKWND</a> {
<a name="l02697"></a><a class="code" href="../../d4/d1/userk_8h.html#a313">02697</a>     <a class="code" href="../../d6/d9/structtagWND.html">WND</a>   wnd;
02698     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> idProcess;
02699     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> idThread;
02700 } <a class="code" href="../../d3/d3/structtagDESKWND.html">DESKWND</a>, *<a class="code" href="../../d3/d3/structtagDESKWND.html">PDESKWND</a>;
02701 
<a name="l02702"></a><a class="code" href="../../d4/d1/userk_8h.html#a314">02702</a> PVOID <a class="code" href="../../d4/d1/userk_8h.html#a1020">DesktopAlloc</a>(<a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a> pdesk, UINT uSize,DWORD tag);
<a name="l02703"></a><a class="code" href="../../d4/d1/userk_8h.html#a315">02703</a> 
<a name="l02704"></a><a class="code" href="../../d4/d1/userk_8h.html#a316">02704</a> <span class="preprocessor">#define DesktopAllocAlways(pdesk, uSize, tag)   \</span>
<a name="l02705"></a><a class="code" href="../../d4/d1/userk_8h.html#a317">02705</a> <span class="preprocessor">            Win32HeapAlloc(pdesk-&gt;pheapDesktop, uSize, tag, 0)</span>
<a name="l02706"></a><a class="code" href="../../d4/d1/userk_8h.html#a318">02706</a> <span class="preprocessor"></span>
02707 <span class="preprocessor">#define DesktopFree(pdesk, p)   Win32HeapFree(pdesk-&gt;pheapDesktop, p)</span>
<a name="l02708"></a><a class="code" href="../../d4/d1/userk_8h.html#a319">02708</a> <span class="preprocessor"></span>
02709 <span class="comment">/*</span>
<a name="l02710"></a><a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">02710</a> <span class="comment"> * Windowstation structure</span>
<a name="l02711"></a><a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o0">02711</a> <span class="comment"> */</span>
<a name="l02712"></a><a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o1">02712</a> <span class="preprocessor">#define WSF_SWITCHLOCK          0x0001</span>
02713 <span class="preprocessor"></span><span class="preprocessor">#define WSF_OPENLOCK            0x0002</span>
<a name="l02714"></a><a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o2">02714</a> <span class="preprocessor"></span><span class="preprocessor">#define WSF_NOIO                0x0004</span>
02715 <span class="preprocessor"></span><span class="preprocessor">#define WSF_SHUTDOWN            0x0008</span>
02716 <span class="preprocessor"></span><span class="preprocessor">#define WSF_DYING               0x0010</span>
02717 <span class="preprocessor"></span>
<a name="l02718"></a><a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o3">02718</a> <span class="preprocessor">#define WSF_REALSHUTDOWN        0x0020</span>
<a name="l02719"></a><a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o4">02719</a> <span class="preprocessor"></span>
02720 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">tagWINDOWSTATION</a> {
02721     <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a>       <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o0">rpwinstaNext</a>;
02722     <a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a>             <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o1">rpdeskList</a>;
02723 
<a name="l02724"></a><a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o5">02724</a>     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a956">PTERMINAL</a>            <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o2">pTerm</a>;
<a name="l02725"></a><a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o6">02725</a>     <span class="comment">/*</span>
<a name="l02726"></a><a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o7">02726</a> <span class="comment">     * Pointer to the currently active desktop for the window station.</span>
<a name="l02727"></a><a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o8">02727</a> <span class="comment">     */</span>
<a name="l02728"></a><a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o9">02728</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>                <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o3">dwWSF_Flags</a>;
<a name="l02729"></a><a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o10">02729</a>     <span class="keyword">struct </span><a class="code" href="../../d4/d9/structtagKL.html">tagKL</a>         *<a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o4">spklList</a>;
<a name="l02730"></a><a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o11">02730</a> 
<a name="l02731"></a><a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o12">02731</a>     <span class="comment">/*</span>
<a name="l02732"></a><a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o13">02732</a> <span class="comment">     * Clipboard variables</span>
<a name="l02733"></a><a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o14">02733</a> <span class="comment">     */</span>
<a name="l02734"></a><a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o15">02734</a>     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a>          <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o5">ptiClipLock</a>;
02735     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a>          <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o6">ptiDrawingClipboard</a>;
02736     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>                 <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o7">spwndClipOpen</a>;
02737     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>                 <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o8">spwndClipViewer</a>;
02738     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>                 <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o9">spwndClipOwner</a>;
<a name="l02739"></a><a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o16">02739</a>     <span class="keyword">struct </span><a class="code" href="../../d5/d0/structtagCLIP.html">tagCLIP</a>       *<a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o10">pClipBase</a>;
02740     <span class="keywordtype">int</span>                  <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o11">cNumClipFormats</a>;
<a name="l02741"></a><a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o17">02741</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>                 <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o12">iClipSerialNumber</a>;
<a name="l02742"></a><a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o18">02742</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>                 <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o13">iClipSequenceNumber</a>;
<a name="l02743"></a><a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o19">02743</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>                 <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o14">fClipboardChanged</a> : 1;
<a name="l02744"></a><a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o20">02744</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>                 <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o15">fInDelayedRendering</a> : 1;
02745 
<a name="l02746"></a><a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o21">02746</a>     <span class="comment">/*</span>
02747 <span class="comment">     * Global Atom table</span>
02748 <span class="comment">     */</span>
02749     PVOID                <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o16">pGlobalAtomTable</a>;
02750 
02751     LUID                 <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o17">luidEndSession</a>;
02752     LUID                 <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o18">luidUser</a>;
02753     PSID                 <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html#o19">psidUser</a>;
<a name="l02754"></a><a class="code" href="../../d5/d9/structtagCAPTIONCACHE.html">02754</a>     <a class="code" href="../../d7/d4/structtagQ.html">PQ</a>                   pqDesktop;
<a name="l02755"></a><a class="code" href="../../d5/d9/structtagCAPTIONCACHE.html#o0">02755</a> 
<a name="l02756"></a><a class="code" href="../../d5/d9/structtagCAPTIONCACHE.html#o1">02756</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>                dwSessionId;
02757 
02758 <span class="preprocessor">#if DBG</span>
02759 <span class="preprocessor"></span>    <a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a>             pdeskCurrent;
02760 <span class="preprocessor">#endif // DBG</span>
02761 <span class="preprocessor"></span>
02762 } <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">WINDOWSTATION</a>;
02763 
02764 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d5/d9/structtagCAPTIONCACHE.html">tagCAPTIONCACHE</a> {
<a name="l02765"></a><a class="code" href="../../d9/d7/structtagSYSCFGICO.html">02765</a>     <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a>         spcursor;
02766     <a class="code" href="../../d0/d3/structtagOEMBITMAPINFO.html">POEMBITMAPINFO</a>  pOem;
<a name="l02767"></a><a class="code" href="../../d9/d7/structtagSYSCFGICO.html#o0">02767</a> <span class="preprocessor">#if DBG</span>
<a name="l02768"></a><a class="code" href="../../d9/d7/structtagSYSCFGICO.html#o1">02768</a> <span class="preprocessor"></span>    HICON           hico;
<a name="l02769"></a><a class="code" href="../../d9/d7/structtagSYSCFGICO.html#o2">02769</a> <span class="preprocessor">#endif // DBG</span>
02770 <span class="preprocessor"></span>} <a class="code" href="../../d5/d9/structtagCAPTIONCACHE.html">CAPTIONCACHE</a>;
02771 
<a name="l02772"></a><a class="code" href="../../d4/d1/userk_8h.html#a320">02772</a> <span class="comment">/*</span>
<a name="l02773"></a><a class="code" href="../../d4/d1/userk_8h.html#a321">02773</a> <span class="comment"> * Configurable icon and cursor stuff</span>
02774 <span class="comment"> */</span>
02775     <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d7/structtagSYSCFGICO.html">tagSYSCFGICO</a>
02776     {
02777         WORD    Id;     <span class="comment">// configurable id (OIC_ or OCR_ value)</span>
02778         WORD    StrId;  <span class="comment">// String ID for registry key name</span>
<a name="l02779"></a><a class="code" href="../../d0/d8/structtagACCELTABLE.html">02779</a>         <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> spcur;  <span class="comment">// perminant cursor/icon pointer</span>
<a name="l02780"></a><a class="code" href="../../d0/d8/structtagACCELTABLE.html#o0">02780</a>     } <a class="code" href="../../d9/d7/structtagSYSCFGICO.html">SYSCFGICO</a>;
<a name="l02781"></a><a class="code" href="../../d0/d8/structtagACCELTABLE.html#o1">02781</a> 
<a name="l02782"></a><a class="code" href="../../d0/d8/structtagACCELTABLE.html#o2">02782</a> <span class="preprocessor">    #define SYSICO(name) (gasysico[OIC_##name##_DEFAULT - OIC_FIRST_DEFAULT].spcur)</span>
02783 <span class="preprocessor"></span><span class="preprocessor">    #define SYSCUR(name) (gasyscur[OCR_##name##_DEFAULT - OCR_FIRST_DEFAULT].spcur)</span>
02784 <span class="preprocessor"></span>
02785 
02786 <span class="comment">/*</span>
02787 <span class="comment"> * Accelerator Table structure</span>
02788 <span class="comment"> */</span>
02789 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d0/d8/structtagACCELTABLE.html">tagACCELTABLE</a> {
<a name="l02790"></a><a class="code" href="../../d4/d1/userk_8h.html#a322">02790</a>     <a class="code" href="../../d8/d0/struct__PROCOBJHEAD.html">PROCOBJHEAD</a> head;
<a name="l02791"></a><a class="code" href="../../d4/d1/userk_8h.html#a323">02791</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>        cAccel;
<a name="l02792"></a><a class="code" href="../../d4/d1/userk_8h.html#a324">02792</a>     ACCEL       accel[1];
02793 } <a class="code" href="../../d0/d8/structtagACCELTABLE.html">ACCELTABLE</a>, *<a class="code" href="../../d0/d8/structtagACCELTABLE.html">LPACCELTABLE</a>;
02794 
02795 <span class="comment">/*</span>
02796 <span class="comment"> * Besides the desktop window used by the current thread, we also</span>
02797 <span class="comment"> * need to get the desktop window of a window and the input desktop</span>
<a name="l02798"></a><a class="code" href="../../d4/d1/userk_8h.html#a325">02798</a> <span class="comment"> * window.</span>
02799 <span class="comment"> */</span>
<a name="l02800"></a><a class="code" href="../../d4/d1/userk_8h.html#a326">02800</a> <span class="preprocessor">#define PWNDDESKTOP(p)      ((p)-&gt;head.rpdesk-&gt;pDeskInfo-&gt;spwnd)</span>
02801 <span class="preprocessor"></span><span class="preprocessor">#define PWNDMESSAGE(p)      ((p)-&gt;head.rpdesk-&gt;spwndMessage)</span>
02802 <span class="preprocessor"></span><span class="preprocessor">#define PWNDTOOLTIP(p)      ((p)-&gt;head.rpdesk-&gt;spwndTooltip)</span>
02803 <span class="preprocessor"></span>
02804 <span class="comment">/*</span>
<a name="l02805"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html">02805</a> <span class="comment"> * During window destruction, even a locked window can have a</span>
02806 <span class="comment"> * NULL parent so use this macro where a NULL parent is a problem.</span>
02807 <span class="comment"> */</span>
<a name="l02808"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o0">02808</a> <span class="preprocessor">#define PWNDPARENT(p) (p-&gt;spwndParent ? p-&gt;spwndParent : PWNDDESKTOP(p))</span>
02809 <span class="preprocessor"></span>
02810 <span class="preprocessor">#define ISAMENU(pwwnd)       \</span>
02811 <span class="preprocessor">        (GETFNID(pwnd) == FNID_MENU)</span>
<a name="l02812"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o1">02812</a> <span class="preprocessor"></span>
02813 
02814 <span class="comment">/* NEW MENU STUFF */</span>
02815 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d4/d3/structtagPOPUPMENU.html">tagPOPUPMENU</a>
<a name="l02816"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o2">02816</a> {
<a name="l02817"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o3">02817</a> 
<a name="l02818"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o4">02818</a>   <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o0">fIsMenuBar</a>:1;       <span class="comment">/* This is a hacked struct which refers to the</span>
<a name="l02819"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o5">02819</a> <span class="comment">                              * menu bar associated with a app. Only true if</span>
<a name="l02820"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o6">02820</a> <span class="comment">                              * in the root ppopupMenuStruct.</span>
<a name="l02821"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o7">02821</a> <span class="comment">                              */</span>
<a name="l02822"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o8">02822</a>   <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o1">fHasMenuBar</a>:1;      <span class="comment">/* This popup is part of a series which has a</span>
<a name="l02823"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o9">02823</a> <span class="comment">                              * menu bar (either a sys menu or top level menu</span>
02824 <span class="comment">                              * bar)</span>
02825 <span class="comment">                              */</span>
02826   <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o2">fIsSysMenu</a>:1;    <span class="comment">/* The system menu is here. */</span>
02827   <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o3">fIsTrackPopup</a>:1;    <span class="comment">/* Is TrackPopup popup menu */</span>
<a name="l02828"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o10">02828</a>   <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o4">fDroppedLeft</a>:1;
<a name="l02829"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o11">02829</a>   <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o5">fHierarchyDropped</a>:1;<span class="comment">/* If true, a submenu has been dropped off this popup */</span>
<a name="l02830"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o12">02830</a>   <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o6">fRightButton</a>:1;     <span class="comment">/* Allow right button in menu */</span>
<a name="l02831"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o13">02831</a>   <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o7">fToggle</a>:1;          <span class="comment">/* If TRUE, button up cancels the popup */</span>
<a name="l02832"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o14">02832</a>   <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o8">fSynchronous</a>:1;     <span class="comment">/* For synchronous return value of cmd chosen */</span>
02833   <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o9">fFirstClick</a>:1;      <span class="comment">/* Keep track if this was the first click on the</span>
<a name="l02834"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o15">02834</a> <span class="comment">                              * top level menu bar item.  If the user down/up</span>
02835 <span class="comment">                              * clicks on a top level menu bar item twice, we</span>
02836 <span class="comment">                              * want to cancel menu mode.</span>
02837 <span class="comment">                              */</span>
02838   <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o10">fDropNextPopup</a>:1;   <span class="comment">/* Should we drop hierarchy of next menu item w/ popup? */</span>
<a name="l02839"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o16">02839</a>   <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o11">fNoNotify</a>:1;        <span class="comment">/* Don't send WM_ msgs to owner, except WM_COMMAND  */</span>
02840   <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o12">fAboutToHide</a>:1;     <span class="comment">// Same purpose as fHideTimer?</span>
02841   <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o13">fShowTimer</a>:1;       <span class="comment">// TRUE if the IDSYS_MNSHOW timer is set</span>
02842   <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o14">fHideTimer</a>:1;       <span class="comment">// TRUE if the IDSYS_MNHIDE timer is set</span>
02843 
02844   <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o15">fDestroyed</a>:1;       <span class="comment">/* Set when the owner menu window has been destroyed</span>
02845 <span class="comment">                              *  so the popup can be freed once it's no longer needed</span>
<a name="l02846"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o17">02846</a> <span class="comment">                              * Also set in root popupmenu when menu mode must end</span>
02847 <span class="comment">                              */</span>
02848 
02849   <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o16">fDelayedFree</a>:1;    <span class="comment">/* Avoid freeing the popup when the owner menu</span>
02850 <span class="comment">                             *  window is destroyed.</span>
02851 <span class="comment">                             * If set, it must be a root popupmenu or must</span>
<a name="l02852"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o18">02852</a> <span class="comment">                             *  be linked in ppmDelayedFree</span>
02853 <span class="comment">                             * This is eventually set for all hierarchical popups</span>
<a name="l02854"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o19">02854</a> <span class="comment">                             */</span>
02855 
<a name="l02856"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o20">02856</a>   <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o17">fFlushDelayedFree</a>:1; <span class="comment">/* Used in root popupmenus only.</span>
<a name="l02857"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o21">02857</a> <span class="comment">                               * Set when a hierarchical popup marked as fDelayedFree</span>
<a name="l02858"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o22">02858</a> <span class="comment">                               *  has been destroyed.</span>
<a name="l02859"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o23">02859</a> <span class="comment">                               */</span>
<a name="l02860"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o24">02860</a> 
02861 
02862   <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o18">fFreed</a>:1;           <span class="comment">/* Popup has been freed. Used for debug only */</span>
<a name="l02863"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o25">02863</a> 
02864   <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o19">fInCancel</a>:1;        <span class="comment">/* Popup has been passed to xxxMNCancel */</span>
02865 
02866   <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o20">fTrackMouseEvent</a>:1; <span class="comment">/* TrackMouseEvent has been called */</span>
02867   <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o21">fSendUninit</a>:1;      <span class="comment">/* Send WM_UNINITMENUPOPUP */</span>
<a name="l02868"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o26">02868</a>   <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o22">fRtoL</a>:1;            <span class="comment">/* For going backwards with the keys */</span>
02869   <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o23">fDesktopMenu</a>:1;     <span class="comment">/* Set if this popup belons to the pdesk-&gt;spwndMenu window */</span>
02870   <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o24">iDropDir</a>:5;         <span class="comment">/* Animation direction */</span>
02871 
02872 
02873   <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>           <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o25">spwndNotify</a>;
<a name="l02874"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o27">02874</a>                         <span class="comment">/* Window who gets the notification messages. If this</span>
02875 <span class="comment">                         * is a window with a menu bar, then this is the same</span>
02876 <span class="comment">                         * as hwndPopupMenu.</span>
02877 <span class="comment">                         */</span>
<a name="l02878"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o28">02878</a>   <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>           <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o26">spwndPopupMenu</a>;
02879                         <span class="comment">/* The window associated with this ppopupMenu struct.</span>
02880 <span class="comment">                         * If this is a top level menubar, then hwndPopupMenu</span>
<a name="l02881"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o29">02881</a> <span class="comment">                         * is the window the menu bar. ie. it isn't really a</span>
02882 <span class="comment">                         * popup menu window.</span>
<a name="l02883"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o30">02883</a> <span class="comment">                         */</span>
02884   <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>           <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o27">spwndNextPopup</a>;
02885                         <span class="comment">/* The next popup in the hierarchy. Null if the last</span>
02886 <span class="comment">                         * in chain</span>
02887 <span class="comment">                         */</span>
02888   <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>           <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o28">spwndPrevPopup</a>;
02889                         <span class="comment">/* The previous popup in the hierarchy. NULL if at top</span>
02890 <span class="comment">                         */</span>
02891   <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a>          <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o29">spmenu</a>;<span class="comment">/* The PMENU displayed in this window</span>
02892 <span class="comment">                         */</span>
<a name="l02893"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o31">02893</a>   <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a>          <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o30">spmenuAlternate</a>;
02894                         <span class="comment">/* Alternate PMENU. If the system menu is displayed,</span>
<a name="l02895"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o32">02895</a> <span class="comment">                         * and a menubar menu exists, this will contain the</span>
02896 <span class="comment">                         * menubar menu. If menubar menu is displayed, this</span>
<a name="l02897"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o33">02897</a> <span class="comment">                         * will contain the system menu. Use only on top level</span>
02898 <span class="comment">                         * ppopupMenu structs so that we can handle windows</span>
02899 <span class="comment">                         * with both a system menu and a menu bar menu.  Only</span>
02900 <span class="comment">                         * used in the root ppopupMenuStruct.</span>
<a name="l02901"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o34">02901</a> <span class="comment">                         */</span>
02902 
<a name="l02903"></a><a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o35">02903</a>   <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>           <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o31">spwndActivePopup</a>; <span class="comment">/* This is the popup the mouse/"keyboard focus" is on */</span>
02904 
02905   <a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a>     <a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o32">ppopupmenuRoot</a>;
02906 
<a name="l02907"></a><a class="code" href="../../d5/d1/structtagMENUWND.html">02907</a>   <a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a>     ppmDelayedFree;       <span class="comment">/* List of hierarchical popups marked</span>
<a name="l02908"></a><a class="code" href="../../d5/d1/structtagMENUWND.html#o0">02908</a> <span class="comment">                                        *  as fDelayedFree.</span>
<a name="l02909"></a><a class="code" href="../../d5/d1/structtagMENUWND.html#o1">02909</a> <span class="comment">                                        */</span>
02910 
02911   <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>   posSelectedItem;  <span class="comment">/* Position of the selected item in this menu</span>
02912 <span class="comment">                            */</span>
02913   <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>   posDropped;
02914 
<a name="l02915"></a><a class="code" href="../../d0/d0/structtagCHECKPOINT.html">02915</a> } <a class="code" href="../../d4/d3/structtagPOPUPMENU.html">POPUPMENU</a>;
<a name="l02916"></a><a class="code" href="../../d0/d0/structtagCHECKPOINT.html#o0">02916</a> 
<a name="l02917"></a><a class="code" href="../../d0/d0/structtagCHECKPOINT.html#o1">02917</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d5/d1/structtagMENUWND.html">tagMENUWND</a> {
<a name="l02918"></a><a class="code" href="../../d0/d0/structtagCHECKPOINT.html#o2">02918</a>     <a class="code" href="../../d6/d9/structtagWND.html">WND</a> wnd;
<a name="l02919"></a><a class="code" href="../../d0/d0/structtagCHECKPOINT.html#o3">02919</a>     <a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupmenu;
<a name="l02920"></a><a class="code" href="../../d0/d0/structtagCHECKPOINT.html#o4">02920</a> } <a class="code" href="../../d5/d1/structtagMENUWND.html">MENUWND</a>, *<a class="code" href="../../d5/d1/structtagMENUWND.html">PMENUWND</a>;
<a name="l02921"></a><a class="code" href="../../d0/d0/structtagCHECKPOINT.html#o5">02921</a> 
<a name="l02922"></a><a class="code" href="../../d0/d0/structtagCHECKPOINT.html#o6">02922</a> <span class="comment">/*</span>
<a name="l02923"></a><a class="code" href="../../d0/d0/structtagCHECKPOINT.html#o7">02923</a> <span class="comment"> * CheckPoint structure</span>
02924 <span class="comment"> */</span>
02925 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d0/d0/structtagCHECKPOINT.html">tagCHECKPOINT</a> {
02926     RECT <a class="code" href="../../d0/d0/structtagCHECKPOINT.html#o0">rcNormal</a>;
<a name="l02927"></a><a class="code" href="../../d4/d1/userk_8h.html#a327">02927</a>     POINT ptMin;
<a name="l02928"></a><a class="code" href="../../d4/d1/userk_8h.html#a328">02928</a>     POINT ptMax;
02929     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> fDragged:1;
02930     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> fWasMaximizedBeforeMinimized:1;
02931     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> fWasMinimizedBeforeMaximized:1;
02932     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> fMinInitialized:1;
02933     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> fMaxInitialized:1;
<a name="l02934"></a><a class="code" href="../../d4/d1/userk_8h.html#a329">02934</a> } <a class="code" href="../../d0/d0/structtagCHECKPOINT.html">CHECKPOINT</a>, *<a class="code" href="../../d0/d0/structtagCHECKPOINT.html">PCHECKPOINT</a>;
<a name="l02935"></a><a class="code" href="../../d4/d1/userk_8h.html#a330">02935</a> 
02936 
<a name="l02937"></a><a class="code" href="../../d5/d0/structtagCLIP.html">02937</a> <span class="preprocessor">#define dpHorzRes           HORZRES</span>
<a name="l02938"></a><a class="code" href="../../d5/d0/structtagCLIP.html#o0">02938</a> <span class="preprocessor"></span><span class="preprocessor">#define dpVertRes           VERTRES</span>
<a name="l02939"></a><a class="code" href="../../d5/d0/structtagCLIP.html#o1">02939</a> <span class="preprocessor"></span>
<a name="l02940"></a><a class="code" href="../../d5/d0/structtagCLIP.html#o2">02940</a> <span class="comment">/*</span>
02941 <span class="comment"> * If the handle for CF_TEXT/CF_OEMTEXT is a dummy handle then this implies</span>
02942 <span class="comment"> * that data is available in the other format (as CF_OEMTEXT/CF_TEXT)</span>
02943 <span class="comment"> */</span>
02944 <span class="preprocessor">#define DUMMY_TEXT_HANDLE       0xFFFF</span>
02945 <span class="preprocessor"></span><span class="preprocessor">#define DATA_NOT_BANKED         0xFFFF</span>
<a name="l02946"></a><a class="code" href="../../d6/d7/structtagSVR__INSTANCE__INFO.html">02946</a> <span class="preprocessor"></span>
<a name="l02947"></a><a class="code" href="../../d6/d7/structtagSVR__INSTANCE__INFO.html#o0">02947</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d5/d0/structtagCLIP.html">tagCLIP</a> {
<a name="l02948"></a><a class="code" href="../../d6/d7/structtagSVR__INSTANCE__INFO.html#o1">02948</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>    fmt;
<a name="l02949"></a><a class="code" href="../../d6/d7/structtagSVR__INSTANCE__INFO.html#o2">02949</a>     HANDLE  hData;
<a name="l02950"></a><a class="code" href="../../d6/d7/structtagSVR__INSTANCE__INFO.html#o3">02950</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    fGlobalHandle;
<a name="l02951"></a><a class="code" href="../../d6/d7/structtagSVR__INSTANCE__INFO.html#o4">02951</a> } <a class="code" href="../../d5/d0/structtagCLIP.html">CLIP</a>, *<a class="code" href="../../d5/d0/structtagCLIP.html">PCLIP</a>;
<a name="l02952"></a><a class="code" href="../../d6/d7/structtagSVR__INSTANCE__INFO.html#o5">02952</a> 
02953 <span class="comment">/*</span>
02954 <span class="comment"> * DDEML instance structure</span>
<a name="l02955"></a><a class="code" href="../../d6/d4/structtagPUBOBJ.html">02955</a> <span class="comment"> */</span>
<a name="l02956"></a><a class="code" href="../../d6/d4/structtagPUBOBJ.html#o0">02956</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d6/d7/structtagSVR__INSTANCE__INFO.html">tagSVR_INSTANCE_INFO</a> {
<a name="l02957"></a><a class="code" href="../../d6/d4/structtagPUBOBJ.html#o1">02957</a>     <a class="code" href="../../d1/d1/struct__THROBJHEAD.html">THROBJHEAD</a> head;
<a name="l02958"></a><a class="code" href="../../d6/d4/structtagPUBOBJ.html#o2">02958</a>     <span class="keyword">struct </span><a class="code" href="../../d6/d7/structtagSVR__INSTANCE__INFO.html">tagSVR_INSTANCE_INFO</a> *next;
02959     <span class="keyword">struct </span><a class="code" href="../../d6/d7/structtagSVR__INSTANCE__INFO.html">tagSVR_INSTANCE_INFO</a> *nextInThisThread;
02960     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> afCmd;
02961     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> spwndEvent;
<a name="l02962"></a><a class="code" href="../../d6/d4/structtagPUBOBJ.html#o3">02962</a>     PVOID pcii;
02963 } <a class="code" href="../../d6/d7/structtagSVR__INSTANCE__INFO.html">SVR_INSTANCE_INFO</a>, *<a class="code" href="../../d6/d7/structtagSVR__INSTANCE__INFO.html">PSVR_INSTANCE_INFO</a>;
02964 
02965 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d6/d4/structtagPUBOBJ.html">tagPUBOBJ</a> {
02966     <span class="keyword">struct </span><a class="code" href="../../d6/d4/structtagPUBOBJ.html">tagPUBOBJ</a> *next;
02967     HANDLE hObj;
<a name="l02968"></a><a class="code" href="../../d4/d1/userk_8h.html#a331">02968</a>     <span class="keywordtype">int</span> count;
<a name="l02969"></a><a class="code" href="../../d4/d1/userk_8h.html#a332">02969</a>     <span class="comment">//</span>
<a name="l02970"></a><a class="code" href="../../d4/d1/userk_8h.html#a333">02970</a>     <span class="comment">// BUGBUG, MAKE FIELD USHORT!!!</span>
02971     <span class="comment">//</span>
02972     W32PID pid;
02973 } <a class="code" href="../../d6/d4/structtagPUBOBJ.html">PUBOBJ</a>, *<a class="code" href="../../d6/d4/structtagPUBOBJ.html">PPUBOBJ</a>;
02974 
02975 <span class="comment">/*</span>
<a name="l02976"></a><a class="code" href="../../d8/d4/structtagQMSG.html">02976</a> <span class="comment"> * Defines for Menu focus</span>
<a name="l02977"></a><a class="code" href="../../d8/d4/structtagQMSG.html#o0">02977</a> <span class="comment"> */</span>
<a name="l02978"></a><a class="code" href="../../d8/d4/structtagQMSG.html#o1">02978</a> <span class="preprocessor">#define FREEHOLD    0</span>
<a name="l02979"></a><a class="code" href="../../d8/d4/structtagQMSG.html#o2">02979</a> <span class="preprocessor"></span><span class="preprocessor">#define MOUSEHOLD  -1 </span><span class="comment">/* Mouse button held down and dragging */</span>
<a name="l02980"></a><a class="code" href="../../d8/d4/structtagQMSG.html#o3">02980</a> <span class="preprocessor">#define KEYBDHOLD   1</span>
<a name="l02981"></a><a class="code" href="../../d8/d4/structtagQMSG.html#o4">02981</a> <span class="preprocessor"></span>
<a name="l02982"></a><a class="code" href="../../d8/d4/structtagQMSG.html#o5">02982</a> <span class="comment">/*</span>
02983 <span class="comment"> * Structure definition for messages as they exist on a Q.  Same as MSG</span>
02984 <span class="comment"> * structure except for the link-pointer and flags at the end.</span>
02985 <span class="comment"> */</span>
02986 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/d4/structtagQMSG.html">tagQMSG</a> {
02987     <a class="code" href="../../d8/d4/structtagQMSG.html">PQMSG</a>           <a class="code" href="../../d8/d4/structtagQMSG.html#o0">pqmsgNext</a>;
<a name="l02988"></a><a class="code" href="../../d4/d1/userk_8h.html#a334">02988</a>     <a class="code" href="../../d8/d4/structtagQMSG.html">PQMSG</a>           pqmsgPrev;
<a name="l02989"></a><a class="code" href="../../d4/d1/userk_8h.html#a335">02989</a>     MSG             msg;
<a name="l02990"></a><a class="code" href="../../d4/d1/userk_8h.html#a336">02990</a>     LONG_PTR        ExtraInfo;
<a name="l02991"></a><a class="code" href="../../d4/d1/userk_8h.html#a337">02991</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>           dwQEvent;
<a name="l02992"></a><a class="code" href="../../d4/d1/userk_8h.html#a338">02992</a>     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a>     pti;
<a name="l02993"></a><a class="code" href="../../d4/d1/userk_8h.html#a339">02993</a> } <a class="code" href="../../d8/d4/structtagQMSG.html">QMSG</a>;
<a name="l02994"></a><a class="code" href="../../d4/d1/userk_8h.html#a340">02994</a> 
<a name="l02995"></a><a class="code" href="../../d4/d1/userk_8h.html#a341">02995</a> <span class="comment">/*</span>
<a name="l02996"></a><a class="code" href="../../d4/d1/userk_8h.html#a342">02996</a> <span class="comment"> * dwQEvent values for QMSG structure.</span>
<a name="l02997"></a><a class="code" href="../../d4/d1/userk_8h.html#a343">02997</a> <span class="comment"> */</span>
<a name="l02998"></a><a class="code" href="../../d4/d1/userk_8h.html#a344">02998</a> <span class="preprocessor">#define QEVENT_SHOWWINDOW           0x0001</span>
<a name="l02999"></a><a class="code" href="../../d4/d1/userk_8h.html#a345">02999</a> <span class="preprocessor"></span><span class="preprocessor">#define QEVENT_CANCELMODE           0x0002</span>
<a name="l03000"></a><a class="code" href="../../d4/d1/userk_8h.html#a346">03000</a> <span class="preprocessor"></span><span class="preprocessor">#define QEVENT_SETWINDOWPOS         0x0003</span>
<a name="l03001"></a><a class="code" href="../../d4/d1/userk_8h.html#a347">03001</a> <span class="preprocessor"></span><span class="preprocessor">#define QEVENT_UPDATEKEYSTATE       0x0004</span>
<a name="l03002"></a><a class="code" href="../../d4/d1/userk_8h.html#a348">03002</a> <span class="preprocessor"></span><span class="preprocessor">#define QEVENT_DEACTIVATE           0x0005</span>
<a name="l03003"></a><a class="code" href="../../d4/d1/userk_8h.html#a349">03003</a> <span class="preprocessor"></span><span class="preprocessor">#define QEVENT_ACTIVATE             0x0006</span>
03004 <span class="preprocessor"></span><span class="preprocessor">#define QEVENT_POSTMESSAGE          0x0007  // Chicago</span>
<a name="l03005"></a><a class="code" href="../../d4/d1/userk_8h.html#a350">03005</a> <span class="preprocessor"></span><span class="preprocessor">#define QEVENT_EXECSHELL            0x0008  // Chicago</span>
03006 <span class="preprocessor"></span><span class="preprocessor">#define QEVENT_CANCELMENU           0x0009  // Chicago</span>
<a name="l03007"></a><a class="code" href="../../d4/d1/userk_8h.html#a351">03007</a> <span class="preprocessor"></span><span class="preprocessor">#define QEVENT_DESTROYWINDOW        0x000A</span>
<a name="l03008"></a><a class="code" href="../../d4/d1/userk_8h.html#a352">03008</a> <span class="preprocessor"></span><span class="preprocessor">#define QEVENT_ASYNCSENDMSG         0x000B</span>
<a name="l03009"></a><a class="code" href="../../d4/d1/userk_8h.html#a353">03009</a> <span class="preprocessor"></span><span class="preprocessor">#define QEVENT_HUNGTHREAD           0x000C</span>
<a name="l03010"></a><a class="code" href="../../d4/d1/userk_8h.html#a354">03010</a> <span class="preprocessor"></span><span class="preprocessor">#define QEVENT_CANCELMOUSEMOVETRK   0x000D</span>
<a name="l03011"></a><a class="code" href="../../d4/d1/userk_8h.html#a355">03011</a> <span class="preprocessor"></span><span class="preprocessor">#define QEVENT_NOTIFYWINEVENT       0x000E</span>
<a name="l03012"></a><a class="code" href="../../d4/d1/userk_8h.html#a356">03012</a> <span class="preprocessor"></span><span class="preprocessor">#define QEVENT_RITACCESSIBILITY     0x000F</span>
03013 <span class="preprocessor"></span><span class="preprocessor">#define QEVENT_RITSOUND             0x0010</span>
03014 <span class="preprocessor"></span><span class="comment">// QEvent for WM_APPCOMMAND messages - bug 339877</span>
03015 <span class="preprocessor">#define QEVENT_APPCOMMAND           0x0011</span>
03016 <span class="preprocessor"></span>
<a name="l03017"></a><a class="code" href="../../d4/d1/userk_8h.html#a357">03017</a> <span class="preprocessor">#define   RITSOUND_UPSIREN          0x0000</span>
<a name="l03018"></a><a class="code" href="../../d4/d1/userk_8h.html#a358">03018</a> <span class="preprocessor"></span><span class="preprocessor">#define   RITSOUND_DOWNSIREN        0x0001</span>
03019 <span class="preprocessor"></span><span class="preprocessor">#define   RITSOUND_LOWBEEP          0x0002</span>
<a name="l03020"></a><a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html">03020</a> <span class="preprocessor"></span><span class="preprocessor">#define   RITSOUND_HIGHBEEP         0x0003</span>
<a name="l03021"></a><a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o0">03021</a> <span class="preprocessor"></span><span class="preprocessor">#define   RITSOUND_KEYCLICK         0x0004</span>
<a name="l03022"></a><a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o1">03022</a> <span class="preprocessor"></span><span class="preprocessor">#define   RITSOUND_DOBEEP           0x0005</span>
<a name="l03023"></a><a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o2">03023</a> <span class="preprocessor"></span>
<a name="l03024"></a><a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o3">03024</a> <span class="comment">/*</span>
<a name="l03025"></a><a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o4">03025</a> <span class="comment"> * xxxProcessEventMessage flags</span>
<a name="l03026"></a><a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o5">03026</a> <span class="comment"> */</span>
<a name="l03027"></a><a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o6">03027</a> <span class="preprocessor">#define PEM_ACTIVATE_RESTORE        0x0001</span>
<a name="l03028"></a><a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o7">03028</a> <span class="preprocessor"></span><span class="preprocessor">#define PEM_ACTIVATE_NOZORDER       0x0002</span>
<a name="l03029"></a><a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o8">03029</a> <span class="preprocessor"></span>
<a name="l03030"></a><a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o9">03030</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html">_MOVESIZEDATA</a> {
<a name="l03031"></a><a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o10">03031</a>     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>            <a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o0">spwnd</a>;
<a name="l03032"></a><a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o11">03032</a>     RECT            <a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o1">rcDrag</a>;
<a name="l03033"></a><a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o12">03033</a>     RECT            <a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o2">rcDragCursor</a>;
<a name="l03034"></a><a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o13">03034</a>     RECT            <a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o3">rcParent</a>;
<a name="l03035"></a><a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o14">03035</a>     POINT           <a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o4">ptMinTrack</a>;
<a name="l03036"></a><a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o15">03036</a>     POINT           <a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o5">ptMaxTrack</a>;
<a name="l03037"></a><a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o16">03037</a>     RECT            <a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o6">rcWindow</a>;
<a name="l03038"></a><a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o17">03038</a>     <span class="keywordtype">int</span>             <a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o7">dxMouse</a>;
03039     <span class="keywordtype">int</span>             <a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o8">dyMouse</a>;
<a name="l03040"></a><a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o18">03040</a>     <span class="keywordtype">int</span>             <a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o9">cmd</a>;
<a name="l03041"></a><a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o19">03041</a>     <span class="keywordtype">int</span>             <a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o10">impx</a>;
03042     <span class="keywordtype">int</span>             <a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o11">impy</a>;
03043     POINT           <a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o12">ptRestore</a>;
03044     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>            <a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o13">fInitSize</a>         : 1;    <span class="comment">// should we initialize cursor pos</span>
03045     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>            <a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o14">fmsKbd</a>            : 1;    <span class="comment">// who knows</span>
03046     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>            <a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html#o15">fLockWindowUpdate</a> : 1;    <span class="comment">// whether screen was locked ok</span>
<a name="l03047"></a><a class="code" href="../../d4/d1/userk_8h.html#a359">03047</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>            fTrackCancelled   : 1;    <span class="comment">// Set if tracking ended by other thread.</span>
<a name="l03048"></a><a class="code" href="../../d4/d1/userk_8h.html#a360">03048</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>            fForeground       : 1;    <span class="comment">// whether the tracking thread is foreground</span>
<a name="l03049"></a><a class="code" href="../../d4/d1/userk_8h.html#a361">03049</a>                                               <span class="comment">//  and if we should draw the drag-rect</span>
03050     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>            fDragFullWindows  : 1;
03051     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>            fOffScreen        : 1;
03052 } <a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html">MOVESIZEDATA</a>, *<a class="code" href="../../d4/d9/struct__MOVESIZEDATA.html">PMOVESIZEDATA</a>;
03053 
03054 <span class="comment">/*</span>
03055 <span class="comment"> * DrawDragRect styles.</span>
03056 <span class="comment"> */</span>
03057 <span class="preprocessor">#define DDR_START     0     // - start drag.</span>
<a name="l03058"></a><a class="code" href="../../d4/d1/userk_8h.html#a362">03058</a> <span class="preprocessor"></span><span class="preprocessor">#define DDR_ENDACCEPT 1     // - end and accept</span>
<a name="l03059"></a><a class="code" href="../../d4/d1/userk_8h.html#a363">03059</a> <span class="preprocessor"></span><span class="preprocessor">#define DDR_ENDCANCEL 2     // - end and cancel.</span>
<a name="l03060"></a><a class="code" href="../../d4/d1/userk_8h.html#a364">03060</a> <span class="preprocessor"></span>
03061 
<a name="l03062"></a><a class="code" href="../../d4/d1/userk_8h.html#a365">03062</a> <span class="comment">/*</span>
03063 <span class="comment"> * Pseudo Event stuff.  (fManualReset := TRUE, fInitState := FALSE)</span>
03064 <span class="comment"> */</span>
03065 
03066 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d4/d1/userk_8h.html#a1021">WaitOnPseudoEvent</a>(HANDLE *phE, DWORD dwMilliseconds);
03067 
03068 <span class="preprocessor">#define PSEUDO_EVENT_ON     ((HANDLE)IntToPtr( 0xFFFFFFFF ))</span>
03069 <span class="preprocessor"></span><span class="preprocessor">#define PSEUDO_EVENT_OFF    ((HANDLE)IntToPtr( 0x00000000 ))</span>
03070 <span class="preprocessor"></span><span class="preprocessor">#define INIT_PSEUDO_EVENT(ph) *ph = PSEUDO_EVENT_OFF;</span>
<a name="l03071"></a><a class="code" href="../../d4/d1/userk_8h.html#a366">03071</a> <span class="preprocessor"></span>
03072 <span class="preprocessor">#define SET_PSEUDO_EVENT(phE)                                   \</span>
03073 <span class="preprocessor">    CheckCritIn();                                              \</span>
03074 <span class="preprocessor">    if (*(phE) == PSEUDO_EVENT_OFF) *(phE) = PSEUDO_EVENT_ON;   \</span>
03075 <span class="preprocessor">    else if (*(phE) != PSEUDO_EVENT_ON) {                       \</span>
03076 <span class="preprocessor">        KeSetEvent(*(phE), EVENT_INCREMENT, FALSE);             \</span>
03077 <span class="preprocessor">        ObDereferenceObject(*(phE));                            \</span>
<a name="l03078"></a><a class="code" href="../../d4/d1/userk_8h.html#a367">03078</a> <span class="preprocessor">        *(phE) = PSEUDO_EVENT_ON;                               \</span>
03079 <span class="preprocessor">    }</span>
03080 <span class="preprocessor"></span>
03081 <span class="preprocessor">#define RESET_PSEUDO_EVENT(phE)                                 \</span>
03082 <span class="preprocessor">    CheckCritIn();                                              \</span>
03083 <span class="preprocessor">    if (*(phE) == PSEUDO_EVENT_ON) *(phE) = PSEUDO_EVENT_OFF;   \</span>
03084 <span class="preprocessor">    else if (*(phE) != PSEUDO_EVENT_OFF) {                      \</span>
03085 <span class="preprocessor">        KeClearEvent(*(phE));                                   \</span>
03086 <span class="preprocessor">    }</span>
<a name="l03087"></a><a class="code" href="../../d6/d1/structtagMLIST.html">03087</a> <span class="preprocessor"></span>
<a name="l03088"></a><a class="code" href="../../d6/d1/structtagMLIST.html#o0">03088</a> <span class="preprocessor">#define CLOSE_PSEUDO_EVENT(phE)                                 \</span>
<a name="l03089"></a><a class="code" href="../../d6/d1/structtagMLIST.html#o1">03089</a> <span class="preprocessor">    CheckCritIn();                                              \</span>
<a name="l03090"></a><a class="code" href="../../d6/d1/structtagMLIST.html#o2">03090</a> <span class="preprocessor">    if (*(phE) == PSEUDO_EVENT_ON) *(phE) = PSEUDO_EVENT_OFF;   \</span>
03091 <span class="preprocessor">    else if (*(phE) != PSEUDO_EVENT_OFF) {                      \</span>
03092 <span class="preprocessor">        KeSetEvent(*(phE), EVENT_INCREMENT, FALSE);             \</span>
03093 <span class="preprocessor">        ObDereferenceObject(*(phE));                            \</span>
03094 <span class="preprocessor">        *(phE) = PSEUDO_EVENT_OFF;                              \</span>
03095 <span class="preprocessor">    }</span>
03096 <span class="preprocessor"></span>
03097 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d6/d1/structtagMLIST.html">tagMLIST</a> {
03098     <a class="code" href="../../d8/d4/structtagQMSG.html">PQMSG</a> <a class="code" href="../../d6/d1/structtagMLIST.html#o0">pqmsgRead</a>;
<a name="l03099"></a><a class="code" href="../../d7/d4/structtagQ.html">03099</a>     <a class="code" href="../../d8/d4/structtagQMSG.html">PQMSG</a> pqmsgWriteLast;
<a name="l03100"></a><a class="code" href="../../d7/d4/structtagQ.html#o0">03100</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> cMsgs;
03101 } <a class="code" href="../../d6/d1/structtagMLIST.html">MLIST</a>, *<a class="code" href="../../d6/d1/structtagMLIST.html">PMLIST</a>;
<a name="l03102"></a><a class="code" href="../../d7/d4/structtagQ.html#o1">03102</a> 
<a name="l03103"></a><a class="code" href="../../d7/d4/structtagQ.html#o2">03103</a> <span class="comment">/*</span>
<a name="l03104"></a><a class="code" href="../../d7/d4/structtagQ.html#o3">03104</a> <span class="comment"> * Message Queue structure.</span>
03105 <span class="comment"> *</span>
<a name="l03106"></a><a class="code" href="../../d7/d4/structtagQ.html#o4">03106</a> <span class="comment"> * Note, if you need to add a WORD sized value,</span>
<a name="l03107"></a><a class="code" href="../../d7/d4/structtagQ.html#o5">03107</a> <span class="comment"> * do so after xbtnDblClk.</span>
03108 <span class="comment"> */</span>
<a name="l03109"></a><a class="code" href="../../d7/d4/structtagQ.html#o6">03109</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d4/structtagQ.html">tagQ</a> {
<a name="l03110"></a><a class="code" href="../../d7/d4/structtagQ.html#o7">03110</a>     <a class="code" href="../../d6/d1/structtagMLIST.html">MLIST</a>       <a class="code" href="../../d7/d4/structtagQ.html#o0">mlInput</a>;            <span class="comment">// raw mouse and key message list.</span>
<a name="l03111"></a><a class="code" href="../../d7/d4/structtagQ.html#o8">03111</a> 
<a name="l03112"></a><a class="code" href="../../d7/d4/structtagQ.html#o9">03112</a>     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> <a class="code" href="../../d7/d4/structtagQ.html#o1">ptiSysLock</a>;         <span class="comment">// Thread currently allowed to process input</span>
03113     ULONG_PTR    <a class="code" href="../../d7/d4/structtagQ.html#o2">idSysLock</a>;          <span class="comment">// Last message removed</span>
<a name="l03114"></a><a class="code" href="../../d7/d4/structtagQ.html#o10">03114</a>     ULONG_PTR    <a class="code" href="../../d7/d4/structtagQ.html#o3">idSysPeek</a>;          <span class="comment">// Last message peeked</span>
<a name="l03115"></a><a class="code" href="../../d7/d4/structtagQ.html#o11">03115</a> 
<a name="l03116"></a><a class="code" href="../../d7/d4/structtagQ.html#o12">03116</a>     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> <a class="code" href="../../d7/d4/structtagQ.html#o4">ptiMouse</a>;           <span class="comment">// Last thread to get mouse msg.</span>
<a name="l03117"></a><a class="code" href="../../d7/d4/structtagQ.html#o13">03117</a>     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> <a class="code" href="../../d7/d4/structtagQ.html#o5">ptiKeyboard</a>;
<a name="l03118"></a><a class="code" href="../../d7/d4/structtagQ.html#o14">03118</a> 
<a name="l03119"></a><a class="code" href="../../d7/d4/structtagQ.html#o15">03119</a>     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>        <a class="code" href="../../d7/d4/structtagQ.html#o6">spwndCapture</a>;
03120     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>        <a class="code" href="../../d7/d4/structtagQ.html#o7">spwndFocus</a>;
<a name="l03121"></a><a class="code" href="../../d7/d4/structtagQ.html#o16">03121</a>     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>        <a class="code" href="../../d7/d4/structtagQ.html#o8">spwndActive</a>;
<a name="l03122"></a><a class="code" href="../../d7/d4/structtagQ.html#o17">03122</a>     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>        <a class="code" href="../../d7/d4/structtagQ.html#o9">spwndActivePrev</a>;
03123 
<a name="l03124"></a><a class="code" href="../../d7/d4/structtagQ.html#o18">03124</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>        <a class="code" href="../../d7/d4/structtagQ.html#o10">codeCapture</a>;
03125     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>        <a class="code" href="../../d7/d4/structtagQ.html#o11">msgDblClk</a>;
<a name="l03126"></a><a class="code" href="../../d7/d4/structtagQ.html#o19">03126</a>     WORD        <a class="code" href="../../d7/d4/structtagQ.html#o12">xbtnDblClk</a>;
<a name="l03127"></a><a class="code" href="../../d7/d4/structtagQ.html#o20">03127</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>       <a class="code" href="../../d7/d4/structtagQ.html#o13">timeDblClk</a>;
03128     HWND        <a class="code" href="../../d7/d4/structtagQ.html#o14">hwndDblClk</a>;
<a name="l03129"></a><a class="code" href="../../d7/d4/structtagQ.html#o21">03129</a>     POINT       <a class="code" href="../../d7/d4/structtagQ.html#o15">ptDblClk</a>;
03130 
<a name="l03131"></a><a class="code" href="../../d7/d4/structtagQ.html#o22">03131</a>     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>        <a class="code" href="../../d7/d4/structtagQ.html#o16">afKeyRecentDown</a>[<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a826">CBKEYSTATERECENTDOWN</a>];
<a name="l03132"></a><a class="code" href="../../d7/d4/structtagQ.html#o23">03132</a>     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>        <a class="code" href="../../d7/d4/structtagQ.html#o17">afKeyState</a>[<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a825">CBKEYSTATE</a>];
03133 
<a name="l03134"></a><a class="code" href="../../d7/d4/structtagQ.html#o24">03134</a>     <a class="code" href="../../d6/d9/structtagCARET.html">CARET</a>       <a class="code" href="../../d7/d4/structtagQ.html#o18">caret</a>;
<a name="l03135"></a><a class="code" href="../../d7/d4/structtagQ.html#o25">03135</a> 
03136     <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a>     <a class="code" href="../../d7/d4/structtagQ.html#o19">spcurCurrent</a>;
03137     <span class="keywordtype">int</span>         <a class="code" href="../../d7/d4/structtagQ.html#o20">iCursorLevel</a>;
03138 
03139     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>       <a class="code" href="../../d7/d4/structtagQ.html#o21">QF_flags</a>;            <span class="comment">// QF_ flags go here</span>
03140 
<a name="l03141"></a><a class="code" href="../../d6/d8/structtagATTACHINFO.html">03141</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>      cThreads;            <span class="comment">// Count of threads using this queue</span>
<a name="l03142"></a><a class="code" href="../../d6/d8/structtagATTACHINFO.html#o0">03142</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>      cLockCount;          <span class="comment">// Count of threads that don't want this queue freed</span>
<a name="l03143"></a><a class="code" href="../../d6/d8/structtagATTACHINFO.html#o1">03143</a> 
<a name="l03144"></a><a class="code" href="../../d6/d8/structtagATTACHINFO.html#o2">03144</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>        msgJournal;
03145     LONG_PTR    ExtraInfo;
03146 } <a class="code" href="../../d7/d4/structtagQ.html">Q</a>;
<a name="l03147"></a><a class="code" href="../../d4/d1/userk_8h.html#a368">03147</a> 
03148 <span class="comment">/*</span>
<a name="l03149"></a><a class="code" href="../../d4/d1/userk_8h.html#a369">03149</a> <span class="comment"> * Used for zzzAttachThreadInput()</span>
<a name="l03150"></a><a class="code" href="../../d4/d1/userk_8h.html#a370">03150</a> <span class="comment"> */</span>
<a name="l03151"></a><a class="code" href="../../d4/d1/userk_8h.html#a371">03151</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d6/d8/structtagATTACHINFO.html">tagATTACHINFO</a> {
<a name="l03152"></a><a class="code" href="../../d4/d1/userk_8h.html#a372">03152</a>     <span class="keyword">struct </span><a class="code" href="../../d6/d8/structtagATTACHINFO.html">tagATTACHINFO</a> *paiNext;
<a name="l03153"></a><a class="code" href="../../d4/d1/userk_8h.html#a373">03153</a>     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti1;
03154     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti2;
03155 } <a class="code" href="../../d6/d8/structtagATTACHINFO.html">ATTACHINFO</a>, *<a class="code" href="../../d6/d8/structtagATTACHINFO.html">PATTACHINFO</a>;
<a name="l03156"></a><a class="code" href="../../d8/d9/structtagWOWTHREADINFO.html">03156</a> 
<a name="l03157"></a><a class="code" href="../../d8/d9/structtagWOWTHREADINFO.html#o0">03157</a> <span class="preprocessor">#define POLL_EVENT_CNT 5</span>
<a name="l03158"></a><a class="code" href="../../d8/d9/structtagWOWTHREADINFO.html#o1">03158</a> <span class="preprocessor"></span>
<a name="l03159"></a><a class="code" href="../../d8/d9/structtagWOWTHREADINFO.html#o2">03159</a> <span class="preprocessor">#define IEV_IDLE    0</span>
<a name="l03160"></a><a class="code" href="../../d8/d9/structtagWOWTHREADINFO.html#o3">03160</a> <span class="preprocessor"></span><span class="preprocessor">#define IEV_INPUT   1</span>
<a name="l03161"></a><a class="code" href="../../d8/d9/structtagWOWTHREADINFO.html#o4">03161</a> <span class="preprocessor"></span><span class="preprocessor">#define IEV_EXEC    2</span>
03162 <span class="preprocessor"></span><span class="preprocessor">#define IEV_TASK    3</span>
03163 <span class="preprocessor"></span><span class="preprocessor">#define IEV_WOWEXEC 4</span>
03164 <span class="preprocessor"></span>
03165 
03166 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/d9/structtagWOWTHREADINFO.html">tagWOWTHREADINFO</a> {
<a name="l03167"></a><a class="code" href="../../d0/d8/structtagTDB.html">03167</a>     <span class="keyword">struct </span><a class="code" href="../../d8/d9/structtagWOWTHREADINFO.html">tagWOWTHREADINFO</a> *pwtiNext;
<a name="l03168"></a><a class="code" href="../../d0/d8/structtagTDB.html#o0">03168</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>    idTask;                <span class="comment">// WOW task id</span>
<a name="l03169"></a><a class="code" href="../../d0/d8/structtagTDB.html#o1">03169</a>     ULONG_PTR idWaitObject;          <span class="comment">// pseudo handle returned to parent</span>
<a name="l03170"></a><a class="code" href="../../d0/d8/structtagTDB.html#o2">03170</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>    idParentProcess;       <span class="comment">// process that called CreateProcess</span>
<a name="l03171"></a><a class="code" href="../../d0/d8/structtagTDB.html#o3">03171</a>     <a class="code" href="../../d2/d6/struct__KEVENT.html">PKEVENT</a>  pIdleEvent;            <span class="comment">// event that WaitForInputIdle will wait on</span>
<a name="l03172"></a><a class="code" href="../../d0/d8/structtagTDB.html#o4">03172</a> } <a class="code" href="../../d8/d9/structtagWOWTHREADINFO.html">WOWTHREADINFO</a>, *<a class="code" href="../../d8/d9/structtagWOWTHREADINFO.html">PWOWTHREADINFO</a>;
<a name="l03173"></a><a class="code" href="../../d0/d8/structtagTDB.html#o5">03173</a> 
<a name="l03174"></a><a class="code" href="../../d0/d8/structtagTDB.html#o6">03174</a> <span class="comment">/*</span>
03175 <span class="comment"> * Task Data Block structure.</span>
03176 <span class="comment"> */</span>
<a name="l03177"></a><a class="code" href="../../d4/d1/userk_8h.html#a374">03177</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d0/d8/structtagTDB.html">tagTDB</a> {
03178     <a class="code" href="../../d0/d8/structtagTDB.html">PTDB</a>            ptdbNext;
03179     <span class="keywordtype">int</span>             nEvents;
03180     <span class="keywordtype">int</span>             nPriority;
03181     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a>     pti;
03182     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a953">PWOWTHREADINFO</a>  pwti;               <span class="comment">// per thread info for shared Wow</span>
03183     WORD            hTaskWow;           <span class="comment">// Wow cookie to find apps during shutdown</span>
03184     WORD            TDB_Flags;             <span class="comment">//  bit 0 means setup app</span>
03185 } <a class="code" href="../../d0/d8/structtagTDB.html">TDB</a>;
03186 
<a name="l03187"></a><a class="code" href="../../d4/d1/userk_8h.html#a375">03187</a> <span class="preprocessor">#define TDBF_SETUP 1</span>
03188 <span class="preprocessor"></span>
03189 
03190 <span class="comment">/*</span>
03191 <span class="comment"> * Hack message for shell to tell them a setup app is exiting.</span>
<a name="l03192"></a><a class="code" href="../../d2/d1/structtagMENUANIDC.html">03192</a> <span class="comment"> * This message is defined in \nt\private\shell\inc, but I really</span>
03193 <span class="comment"> * don't want to introduce that dependency in the build.  DavidDS</span>
<a name="l03194"></a><a class="code" href="../../d2/d1/structtagMENUANIDC.html#o0">03194</a> <span class="comment"> * has put a check in that file to make sure that the value does not</span>
03195 <span class="comment"> * change and refers to this usage.  FritzS</span>
03196 <span class="comment"> */</span>
03197 <span class="preprocessor">#define DTM_SETUPAPPRAN (WM_USER+90)</span>
03198 <span class="preprocessor"></span>
03199 <span class="comment">/*</span>
<a name="l03200"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html">03200</a> <span class="comment"> * Menu animation GDI objects.</span>
<a name="l03201"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o0">03201</a> <span class="comment"> */</span>
<a name="l03202"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o1">03202</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d2/d1/structtagMENUANIDC.html">tagMENUANIDC</a>
<a name="l03203"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o2">03203</a> {
<a name="l03204"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o3">03204</a>     HDC     hdcAni;         <span class="comment">// Scratch dc for animation</span>
<a name="l03205"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o4">03205</a> } <a class="code" href="../../d2/d1/structtagMENUANIDC.html">MENUANIDC</a>;
<a name="l03206"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o5">03206</a> 
<a name="l03207"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o6">03207</a> <span class="comment">/*</span>
<a name="l03208"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o7">03208</a> <span class="comment"> * Menu Control Structure</span>
<a name="l03209"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o8">03209</a> <span class="comment"> */</span>
<a name="l03210"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o9">03210</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d4/d1/structtagMENUSTATE.html">tagMENUSTATE</a> {
<a name="l03211"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o10">03211</a>     <a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o0">pGlobalPopupMenu</a>;
<a name="l03212"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o11">03212</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o1">fMenuStarted</a> : 1;
<a name="l03213"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o12">03213</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o2">fIsSysMenu</a> : 1;
<a name="l03214"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o13">03214</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o3">fInsideMenuLoop</a> : 1;
<a name="l03215"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o14">03215</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o4">fButtonDown</a>:1;
<a name="l03216"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o15">03216</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o5">fInEndMenu</a>:1;
<a name="l03217"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o16">03217</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o6">fUnderline</a>:1;               <span class="comment">/* Shorcut key underlines are shown */</span>
<a name="l03218"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o17">03218</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o7">fButtonAlwaysDown</a>:1;        <span class="comment">/* The mouse has always been down since the menu started */</span>
<a name="l03219"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o18">03219</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o8">fDragging</a>:1;                <span class="comment">/* Dragging (in DoDragDrop) or about to */</span>
<a name="l03220"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o19">03220</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o9">fModelessMenu</a>:1;            <span class="comment">/* No modal loop */</span>
<a name="l03221"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o20">03221</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o10">fInCallHandleMenuMessages</a>:1;<span class="comment">/* processing a msg from CallHandleMM */</span>
03222     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o11">fDragAndDrop</a>:1;             <span class="comment">/* This menu can do drag and drop */</span>
<a name="l03223"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o21">03223</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o12">fAutoDismiss</a>:1;             <span class="comment">/* This menu goes away on its own if mouse is off for certain time */</span>
<a name="l03224"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o22">03224</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o13">fAboutToAutoDismiss</a>:1;      <span class="comment">/* Autodismiss will take place when timer goes off */</span>
<a name="l03225"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o23">03225</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o14">fIgnoreButtonUp</a>:1;          <span class="comment">/* Eat next button up, i.e, cancel dragging */</span>
<a name="l03226"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o24">03226</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o15">fMouseOffMenu</a>:1;            <span class="comment">/* Mouse is off the menu - modeless menus only */</span>
03227     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o16">fInDoDragDrop</a>:1;            <span class="comment">/* in a WM_MENUDODRAGDROP callback */</span>
<a name="l03228"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o25">03228</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o17">fActiveNoForeground</a>:1;      <span class="comment">/* A menu window is active but we're not in the foreground */</span>
03229     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o18">fNotifyByPos</a>:1;             <span class="comment">/* Use WM_MENUCOMMAND */</span>
<a name="l03230"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o26">03230</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o19">fSetCapture</a>:1;              <span class="comment">/* True if the menu mode set capture */</span>
03231     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o20">iAniDropDir</a>:5;              <span class="comment">/* direction of animation */</span>
<a name="l03232"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o27">03232</a> 
<a name="l03233"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o28">03233</a>     POINT   <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o21">ptMouseLast</a>;
<a name="l03234"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o29">03234</a>     <span class="keywordtype">int</span>     <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o22">mnFocus</a>;
03235     <span class="keywordtype">int</span>     <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o23">cmdLast</a>;
<a name="l03236"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o30">03236</a>     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o24">ptiMenuStateOwner</a>;
03237 
<a name="l03238"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o31">03238</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o25">dwLockCount</a>;
<a name="l03239"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o32">03239</a> 
<a name="l03240"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o33">03240</a>     <span class="keyword">struct </span><a class="code" href="../../d4/d1/structtagMENUSTATE.html">tagMENUSTATE</a> *<a class="code" href="../../d4/d1/structtagMENUSTATE.html#o26">pmnsPrev</a>;      <span class="comment">/* Previous menustate for nested/context menus */</span>
03241 
<a name="l03242"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o34">03242</a>     POINT   <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o27">ptButtonDown</a>;               <span class="comment">/* Mouse down position (begin drag position) */</span>
<a name="l03243"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o35">03243</a>     ULONG_PTR <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o28">uButtonDownHitArea</a>;        <span class="comment">/* Return from xxxMNFindWindowFromPoint on button down */</span>
<a name="l03244"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o36">03244</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>    <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o29">uButtonDownIndex</a>;           <span class="comment">/* Index of the item being dragged */</span>
<a name="l03245"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o37">03245</a> 
<a name="l03246"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o38">03246</a>     <span class="keywordtype">int</span>     <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o30">vkButtonDown</a>;               <span class="comment">/* Mouse button being dragged */</span>
<a name="l03247"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o39">03247</a> 
<a name="l03248"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o40">03248</a>     ULONG_PTR <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o31">uDraggingHitArea</a>;          <span class="comment">/* Last hit area while InDoDragDrop */</span>
03249     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>    <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o32">uDraggingIndex</a>;             <span class="comment">/* Last index  */</span>
03250     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>    <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o33">uDraggingFlags</a>;             <span class="comment">/* Gap flags */</span>
03251 
03252     HDC     <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o34">hdcWndAni</a>;      <span class="comment">// window DC while animating</span>
03253     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o35">dwAniStartTime</a>; <span class="comment">// starting time of animation</span>
03254     <span class="keywordtype">int</span>     <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o36">ixAni</a>;          <span class="comment">// current x-step in animation</span>
<a name="l03255"></a><a class="code" href="../../d4/d1/structtagMENUSTATE.html#o41">03255</a>     <span class="keywordtype">int</span>     <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o37">iyAni</a>;          <span class="comment">// current y-step in animation</span>
03256     <span class="keywordtype">int</span>     <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o38">cxAni</a>;          <span class="comment">// total x in animation</span>
03257     <span class="keywordtype">int</span>     <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o39">cyAni</a>;          <span class="comment">// total y in animation</span>
03258     HBITMAP <a class="code" href="../../d4/d1/structtagMENUSTATE.html#o40">hbmAni</a>;         <span class="comment">// Scratch bmp for animation.</span>
<a name="l03259"></a><a class="code" href="../../d5/d9/structtagLASTINPUT.html">03259</a> 
<a name="l03260"></a><a class="code" href="../../d5/d9/structtagLASTINPUT.html#o0">03260</a>     <span class="comment">/*</span>
<a name="l03261"></a><a class="code" href="../../d5/d9/structtagLASTINPUT.html#o1">03261</a> <span class="comment">     * Important: The following structure must be the last</span>
<a name="l03262"></a><a class="code" href="../../d5/d9/structtagLASTINPUT.html#o2">03262</a> <span class="comment">     *  thing in tagMENUSTATE. MNAllocMenuState doesn't NULL out</span>
03263 <span class="comment">     *  this structure</span>
<a name="l03264"></a><a class="code" href="../../d5/d9/structtagLASTINPUT.html#o3">03264</a> <span class="comment">     */</span>
03265     <a class="code" href="../../d2/d1/structtagMENUANIDC.html">MENUANIDC</a>;
03266 
<a name="l03267"></a><a class="code" href="../../d4/d1/userk_8h.html#a376">03267</a> } <a class="code" href="../../d4/d1/structtagMENUSTATE.html">MENUSTATE</a>, *<a class="code" href="../../d4/d1/structtagMENUSTATE.html">PMENUSTATE</a>;
<a name="l03268"></a><a class="code" href="../../d4/d1/userk_8h.html#a377">03268</a> 
<a name="l03269"></a><a class="code" href="../../d4/d1/userk_8h.html#a378">03269</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d5/d9/structtagLASTINPUT.html">tagLASTINPUT</a> {  <span class="comment">/* linp */</span>
<a name="l03270"></a><a class="code" href="../../d4/d1/userk_8h.html#a379">03270</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> timeLastInputMessage;
<a name="l03271"></a><a class="code" href="../../d4/d1/userk_8h.html#a380">03271</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwFlags;
<a name="l03272"></a><a class="code" href="../../d4/d1/userk_8h.html#a381">03272</a>     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> ptiLastWoken;  <span class="comment">/* Last thread woken by key or click  */</span>
03273                                <span class="comment">/* It can be NULL                     */</span>
03274     POINT ptLastClick;         <span class="comment">/* point of the last mouse click      */</span>
03275 } <a class="code" href="../../d5/d9/structtagLASTINPUT.html">LASTINPUT</a>, <a class="code" href="../../d5/d9/structtagLASTINPUT.html">PLASTINPUT</a>;
03276 
<a name="l03277"></a><a class="code" href="../../d3/d0/structGRAYMENU.html">03277</a> <span class="preprocessor">#define LINP_KEYBOARD       0x00000001</span>
<a name="l03278"></a><a class="code" href="../../d3/d0/structGRAYMENU.html#o0">03278</a> <span class="preprocessor"></span><span class="preprocessor">#define LINP_SCREENSAVER    0x00000002</span>
<a name="l03279"></a><a class="code" href="../../d3/d0/structGRAYMENU.html#o1">03279</a> <span class="preprocessor"></span><span class="preprocessor">#define LINP_LOWPOWER       0x00000004</span>
03280 <span class="preprocessor"></span><span class="preprocessor">#define LINP_POWEROFF       0x00000008</span>
<a name="l03281"></a><a class="code" href="../../d4/d1/userk_8h.html#a870">03281</a> <span class="preprocessor"></span><span class="preprocessor">#define LINP_POWERTIMEOUTS  (LINP_LOWPOWER | LINP_POWEROFF)</span>
03282 <span class="preprocessor"></span><span class="preprocessor">#define LINP_INPUTTIMEOUTS  (LINP_SCREENSAVER | LINP_LOWPOWER | LINP_POWEROFF)</span>
03283 <span class="preprocessor"></span>
<a name="l03284"></a><a class="code" href="../../d4/d1/userk_8h.html#a382">03284</a> <span class="comment">/*</span>
03285 <span class="comment"> * Menu data to be passed to xxxRealDrawMenuItem from xxxDrawState</span>
03286 <span class="comment"> */</span>
03287 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
03288     <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu;
<a name="l03289"></a><a class="code" href="../../d4/d1/userk_8h.html#a383">03289</a>     <a class="code" href="../../d0/d9/structtagITEM.html">PITEM</a> pItem;
03290 } <a class="code" href="../../d3/d0/structGRAYMENU.html">GRAYMENU</a>;
03291 <span class="keyword">typedef</span> <a class="code" href="../../d3/d0/structGRAYMENU.html">GRAYMENU</a> *<a class="code" href="../../d3/d0/structGRAYMENU.html">PGRAYMENU</a>;
03292 
03293 
03294 <span class="preprocessor">#define IS_THREAD_RESTRICTED(pti, r)                            \</span>
03295 <span class="preprocessor">    ((pti-&gt;TIF_flags &amp; TIF_RESTRICTED) ?                        \</span>
03296 <span class="preprocessor">        (pti-&gt;ppi-&gt;pW32Job-&gt;restrictions &amp; (r)) :               \</span>
<a name="l03297"></a><a class="code" href="../../d4/d1/userk_8h.html#a871">03297</a> <span class="preprocessor">        FALSE)</span>
03298 <span class="preprocessor"></span>
03299 <span class="preprocessor">#define IS_CURRENT_THREAD_RESTRICTED(r)                         \</span>
03300 <span class="preprocessor">    ((PtiCurrent()-&gt;TIF_flags &amp; TIF_RESTRICTED) ?               \</span>
03301 <span class="preprocessor">        (PtiCurrent()-&gt;ppi-&gt;pW32Job-&gt;restrictions &amp; (r)) :      \</span>
03302 <span class="preprocessor">        FALSE)</span>
03303 <span class="preprocessor"></span>
03304 <span class="comment">/*</span>
03305 <span class="comment"> * These types are needed before they are fully defined.</span>
03306 <span class="comment"> */</span>
03307 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d6/structtagSMS.html">tagSMS</a>               * KPTR_MODIFIER <a class="code" href="../../d4/d1/userk_8h.html#a871">PSMS</a>;
03308 
03309 <span class="comment">/*</span>
03310 <span class="comment"> * Make sure this structure matches up with W32THREAD, since they're</span>
03311 <span class="comment"> * really the same thing.</span>
<a name="l03312"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html">03312</a> <span class="comment"> */</span>
<a name="l03313"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o0">03313</a> 
03314 <span class="comment">/*</span>
03315 <span class="comment"> * NOTE -- this structure has been sorted (roughly) in order of use</span>
03316 <span class="comment"> * of the fields.   The x86 code set allows cheaper access to fields</span>
<a name="l03317"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o1">03317</a> <span class="comment"> * that are in the first 0x80 bytes of a structure.  Please attempt</span>
03318 <span class="comment"> * to ensure that frequently-used fields are below this boundary.</span>
<a name="l03319"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o2">03319</a> <span class="comment"> *          FritzS</span>
03320 <span class="comment"> */</span>
<a name="l03321"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o3">03321</a> 
03322 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d2/d8/structtagTHREADINFO.html">tagTHREADINFO</a> {
<a name="l03323"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o4">03323</a>     <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o0">W32THREAD</a>;
03324 
<a name="l03325"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o5">03325</a> <span class="comment">//***************************************** begin: USER specific fields</span>
03326 
<a name="l03327"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o6">03327</a>     <a class="code" href="../../d5/d1/struct__TL.html">PTL</a>             <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o1">ptl</a>;                <span class="comment">// Listhead for thread lock list</span>
<a name="l03328"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o7">03328</a> 
<a name="l03329"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o8">03329</a>     <a class="code" href="../../d7/d3/structtagPROCESSINFO.html">PPROCESSINFO</a>    <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o2">ppi</a>;                <span class="comment">// process info struct for this thread</span>
03330 
<a name="l03331"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o9">03331</a>     <a class="code" href="../../d7/d4/structtagQ.html">PQ</a>              <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o3">pq</a>;                 <span class="comment">// keyboard and mouse input queue</span>
03332 
<a name="l03333"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o10">03333</a>     <a class="code" href="../../d4/d1/userk_8h.html#a833">PKL</a>             <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o4">spklActive</a>;         <span class="comment">// active keyboard layout for this thread</span>
03334 
<a name="l03335"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o11">03335</a>     <a class="code" href="../../d4/d0/structtagCLIENTTHREADINFO.html">PCLIENTTHREADINFO</a> <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o5">pcti</a>;             <span class="comment">// Info that must be visible from client</span>
<a name="l03336"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o12">03336</a> 
<a name="l03337"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o13">03337</a>     <a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a>        <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o6">rpdesk</a>;
03338     <a class="code" href="../../d1/d3/structtagDESKTOPINFO.html">PDESKTOPINFO</a>    <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o7">pDeskInfo</a>;          <span class="comment">// Desktop info visible to client</span>
<a name="l03339"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o14">03339</a>     <a class="code" href="../../d2/d2/struct__CLIENTINFO.html">PCLIENTINFO</a>     <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o8">pClientInfo</a>;        <span class="comment">// Client info stored in TEB</span>
<a name="l03340"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o15">03340</a> 
03341     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>           <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o9">TIF_flags</a>;          <span class="comment">// TIF_ flags go here.</span>
<a name="l03342"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o16">03342</a> 
<a name="l03343"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o17">03343</a>     PUNICODE_STRING <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o10">pstrAppName</a>;        <span class="comment">// Application module name.</span>
03344 
<a name="l03345"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o18">03345</a>     <a class="code" href="../../d4/d1/userk_8h.html#a871">PSMS</a>            <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o11">psmsSent</a>;           <span class="comment">// Most recent SMS this thread has sent</span>
<a name="l03346"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o19">03346</a>     <a class="code" href="../../d4/d1/userk_8h.html#a871">PSMS</a>            <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o12">psmsCurrent</a>;        <span class="comment">// Received SMS this thread is currently processing</span>
<a name="l03347"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o20">03347</a>     <a class="code" href="../../d4/d1/userk_8h.html#a871">PSMS</a>            <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o13">psmsReceiveList</a>;    <span class="comment">// SMSs to be processed</span>
03348 
<a name="l03349"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o21">03349</a>     LONG            <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o14">timeLast</a>;           <span class="comment">// Time, position, and ID of last message</span>
03350     ULONG_PTR        <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o15">idLast</a>;
03351 
<a name="l03352"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o22">03352</a>     <span class="keywordtype">int</span>             <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o16">cQuit</a>;
<a name="l03353"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o23">03353</a>     <span class="keywordtype">int</span>             <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o17">exitCode</a>;
03354 
03355     HDESK           <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o18">hdesk</a>;              <span class="comment">// Desktop handle</span>
<a name="l03356"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o24">03356</a>     <span class="keywordtype">int</span>             <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o19">cPaintsReady</a>;
<a name="l03357"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o25">03357</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>            <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o20">cTimersReady</a>;
<a name="l03358"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o26">03358</a> 
<a name="l03359"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o27">03359</a>     <a class="code" href="../../d4/d1/userk_8h.html#a867">PMENUSTATE</a>      <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o21">pMenuState</a>;
03360 
<a name="l03361"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o28">03361</a>     <span class="keyword">union </span>{
03362         <a class="code" href="../../d0/d8/structtagTDB.html">PTDB</a>            <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o22">ptdb</a>;           <span class="comment">// Win16Task Schedule data for WOW thread</span>
03363         <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a>  <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o23">pwinsta</a>;        <span class="comment">// Window station for SYSTEM thread</span>
<a name="l03364"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o29">03364</a>     };
03365 
<a name="l03366"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o30">03366</a>     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a938">PSVR_INSTANCE_INFO</a> <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o24">psiiList</a>;        <span class="comment">// thread DDEML instance list</span>
03367     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>           <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o25">dwExpWinVer</a>;
<a name="l03368"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o31">03368</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>           <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o26">dwCompatFlags</a>;      <span class="comment">// The Win 3.1 Compat flags</span>
<a name="l03369"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o32">03369</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>           <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o27">dwCompatFlags2</a>;     <span class="comment">// new DWORD to extend compat flags for NT5+ features</span>
03370 
<a name="l03371"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o33">03371</a>     <a class="code" href="../../d7/d4/structtagQ.html">PQ</a>              <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o28">pqAttach</a>;           <span class="comment">// calculation variabled used in</span>
03372                                         <span class="comment">// zzzAttachThreadInput()</span>
<a name="l03373"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o34">03373</a> 
<a name="l03374"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o35">03374</a>     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a>     <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o29">ptiSibling</a>;         <span class="comment">// pointer to sibling thread info</span>
<a name="l03375"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o36">03375</a> 
<a name="l03376"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o37">03376</a>     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a939">PMOVESIZEDATA</a>   <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o30">pmsd</a>;
<a name="l03377"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o38">03377</a> 
03378     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>           <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o31">fsHooks</a>;                <span class="comment">// WHF_ Flags for which hooks are installed</span>
<a name="l03379"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o39">03379</a>     <a class="code" href="../../d5/d6/structtagHOOK.html">PHOOK</a>           <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o32">sphkCurrent</a>;            <span class="comment">// Hook this thread is currently processing</span>
<a name="l03380"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o40">03380</a> 
<a name="l03381"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o41">03381</a>     <a class="code" href="../../d6/d5/structtagSBTRACK.html">PSBTRACK</a>        <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o33">pSBTrack</a>;
<a name="l03382"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o42">03382</a> 
<a name="l03383"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o43">03383</a>     HANDLE          <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o34">hEventQueueClient</a>;
<a name="l03384"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o44">03384</a>     <a class="code" href="../../d2/d6/struct__KEVENT.html">PKEVENT</a>         <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o35">pEventQueueServer</a>;
<a name="l03385"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o45">03385</a>     LIST_ENTRY      <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o36">PtiLink</a>;            <span class="comment">// Link to other threads on desktop</span>
<a name="l03386"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o46">03386</a>     <span class="keywordtype">int</span>             <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o37">iCursorLevel</a>;       <span class="comment">// keep track of each thread's level</span>
03387     POINT           <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o38">ptLast</a>;
<a name="l03388"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o47">03388</a> 
<a name="l03389"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o48">03389</a>     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>            <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o39">spwndDefaultIme</a>;    <span class="comment">// Default IME Window for this thread</span>
<a name="l03390"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o49">03390</a>     <a class="code" href="../../d1/d7/structtagIMC.html">PIMC</a>            <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o40">spDefaultImc</a>;       <span class="comment">// Default input context for this thread</span>
<a name="l03391"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o50">03391</a>     HKL             <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o41">hklPrev</a>;            <span class="comment">// Previous active keyboard layout</span>
03392     <span class="keywordtype">int</span>             <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o42">cEnterCount</a>;
<a name="l03393"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o51">03393</a>     <a class="code" href="../../d6/d1/structtagMLIST.html">MLIST</a>           <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o43">mlPost</a>;             <span class="comment">// posted message list.</span>
<a name="l03394"></a><a class="code" href="../../d2/d8/structtagTHREADINFO.html#o52">03394</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>          <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o44">fsChangeBitsRemoved</a>;<span class="comment">// Bits removed during PeekMessage</span>
03395     WCHAR           <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o45">wchInjected</a>;        <span class="comment">// character from last VK_PACKET</span>
03396     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>           <a class="code" href="../../d2/d8/structtagTHREADINFO.html#o46">fsReserveKeys</a>;      <span class="comment">// Keys that must be sent to the active</span>
<a name="l03397"></a><a class="code" href="../../d4/d1/userk_8h.html#a384">03397</a>                                         <span class="comment">// active console window.</span>
03398     <a class="code" href="../../d2/d6/struct__KEVENT.html">PKEVENT</a>        *apEvent;            <span class="comment">// Wait array for xxxPollAndWaitForSingleObject</span>
03399     ACCESS_MASK     amdesk;             <span class="comment">// Granted desktop access</span>
03400     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>            cWindows;           <span class="comment">// Number of windows owned by this thread</span>
03401     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>            cVisWindows;        <span class="comment">// Number of visible windows on this thread</span>
03402 
03403     <a class="code" href="../../d5/d6/structtagHOOK.html">PHOOK</a>           aphkStart[<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a530">CWINHOOKS</a>];   <span class="comment">// Hooks registered for this thread</span>
<a name="l03404"></a><a class="code" href="../../d4/d1/userk_8h.html#a385">03404</a>     <a class="code" href="../../d4/d0/structtagCLIENTTHREADINFO.html">CLIENTTHREADINFO</a>  cti;              <span class="comment">// Use this when no desktop is available</span>
03405 } <a class="code" href="../../d2/d8/structtagTHREADINFO.html">THREADINFO</a>;
03406 
03407 <span class="preprocessor">#define PWNDTOPSBTRACK(pwnd) (((GETPTI(pwnd)-&gt;pSBTrack)))</span>
03408 <span class="preprocessor"></span>
<a name="l03409"></a><a class="code" href="../../d7/d9/structtagWOWPROCESSINFO.html">03409</a> <span class="comment">/*</span>
<a name="l03410"></a><a class="code" href="../../d7/d9/structtagWOWPROCESSINFO.html#o0">03410</a> <span class="comment"> * The number of library module handles we can store in the dependency</span>
<a name="l03411"></a><a class="code" href="../../d7/d9/structtagWOWPROCESSINFO.html#o1">03411</a> <span class="comment"> * tables.  If this exceeds 32, the load mask implementation must be</span>
<a name="l03412"></a><a class="code" href="../../d7/d9/structtagWOWPROCESSINFO.html#o2">03412</a> <span class="comment"> * changed.</span>
<a name="l03413"></a><a class="code" href="../../d7/d9/structtagWOWPROCESSINFO.html#o3">03413</a> <span class="comment"> */</span>
<a name="l03414"></a><a class="code" href="../../d7/d9/structtagWOWPROCESSINFO.html#o4">03414</a> <span class="preprocessor">#define CLIBS           32</span>
<a name="l03415"></a><a class="code" href="../../d7/d9/structtagWOWPROCESSINFO.html#o5">03415</a> <span class="preprocessor"></span>
<a name="l03416"></a><a class="code" href="../../d7/d9/structtagWOWPROCESSINFO.html#o6">03416</a> <span class="comment">/*</span>
<a name="l03417"></a><a class="code" href="../../d7/d9/structtagWOWPROCESSINFO.html#o7">03417</a> <span class="comment"> * Process Info structure.</span>
<a name="l03418"></a><a class="code" href="../../d7/d9/structtagWOWPROCESSINFO.html#o8">03418</a> <span class="comment"> */</span>
<a name="l03419"></a><a class="code" href="../../d7/d9/structtagWOWPROCESSINFO.html#o9">03419</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d9/structtagWOWPROCESSINFO.html">tagWOWPROCESSINFO</a> {
<a name="l03420"></a><a class="code" href="../../d7/d9/structtagWOWPROCESSINFO.html#o10">03420</a>     <span class="keyword">struct </span><a class="code" href="../../d7/d9/structtagWOWPROCESSINFO.html">tagWOWPROCESSINFO</a> *<a class="code" href="../../d7/d9/structtagWOWPROCESSINFO.html#o0">pwpiNext</a>; <span class="comment">// List of WOW ppi's, gppiFirstWow is head</span>
03421     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> <a class="code" href="../../d7/d9/structtagWOWPROCESSINFO.html#o1">ptiScheduled</a>;           <span class="comment">// current thread in nonpreemptive scheduler</span>
03422     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>       <a class="code" href="../../d7/d9/structtagWOWPROCESSINFO.html#o2">nTaskLock</a>;              <span class="comment">// nonpreemptive scheduler task lock count</span>
<a name="l03423"></a><a class="code" href="../../d2/d3/structtagDESKTOPVIEW.html">03423</a>     <a class="code" href="../../d0/d8/structtagTDB.html">PTDB</a>        ptdbHead;               <span class="comment">// list of this process's WOW tasks</span>
<a name="l03424"></a><a class="code" href="../../d2/d3/structtagDESKTOPVIEW.html#o0">03424</a>     PVOID       lpfnWowExitTask;        <span class="comment">// func addr for wow exittask callback</span>
<a name="l03425"></a><a class="code" href="../../d2/d3/structtagDESKTOPVIEW.html#o1">03425</a>     <a class="code" href="../../d2/d6/struct__KEVENT.html">PKEVENT</a>     pEventWowExec;          <span class="comment">// WowExec Virt HWint scheduler event</span>
<a name="l03426"></a><a class="code" href="../../d2/d3/structtagDESKTOPVIEW.html#o2">03426</a>     HANDLE      hEventWowExecClient;    <span class="comment">// client handle value for wowexec</span>
03427     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>       nSendLock;              <span class="comment">// Send Scheduler inter process Send count</span>
03428     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>       nRecvLock;              <span class="comment">// Send Scheduler inter process Receive count</span>
03429     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> CSOwningThread;         <span class="comment">// Pseudo Wow CritSect ClientThreadId</span>
03430     LONG        CSLockCount;            <span class="comment">// Pseudo Wow CritSect LockCount</span>
03431 }<a class="code" href="../../d7/d9/structtagWOWPROCESSINFO.html">WOWPROCESSINFO</a>, *<a class="code" href="../../d7/d9/structtagWOWPROCESSINFO.html">PWOWPROCESSINFO</a>;
03432 
<a name="l03433"></a><a class="code" href="../../d4/d1/userk_8h.html#a386">03433</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d2/d3/structtagDESKTOPVIEW.html">tagDESKTOPVIEW</a> {
03434     <span class="keyword">struct </span><a class="code" href="../../d2/d3/structtagDESKTOPVIEW.html">tagDESKTOPVIEW</a> *pdvNext;
03435     <a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a>              pdesk;
03436     ULONG_PTR              ulClientDelta;
03437 } <a class="code" href="../../d2/d3/structtagDESKTOPVIEW.html">DESKTOPVIEW</a>, *<a class="code" href="../../d2/d3/structtagDESKTOPVIEW.html">PDESKTOPVIEW</a>;
<a name="l03438"></a><a class="code" href="../../d4/d1/userk_8h.html#a387">03438</a> 
03439 
03440 <span class="comment">/*</span>
03441 <span class="comment"> * number of DWORDs in ppi-&gt;pgh</span>
03442 <span class="comment"> */</span>
<a name="l03443"></a><a class="code" href="../../d1/d9/structtagW32JOB.html">03443</a> <span class="preprocessor">#define GH_SIZE  8</span>
<a name="l03444"></a><a class="code" href="../../d1/d9/structtagW32JOB.html#o0">03444</a> <span class="preprocessor"></span>
<a name="l03445"></a><a class="code" href="../../d1/d9/structtagW32JOB.html#o1">03445</a> <span class="comment">/*</span>
<a name="l03446"></a><a class="code" href="../../d1/d9/structtagW32JOB.html#o2">03446</a> <span class="comment"> * the delta allocation for ppiTable array in W32JOB structure.</span>
<a name="l03447"></a><a class="code" href="../../d1/d9/structtagW32JOB.html#o3">03447</a> <span class="comment"> */</span>
<a name="l03448"></a><a class="code" href="../../d1/d9/structtagW32JOB.html#o4">03448</a> <span class="preprocessor">#define JP_DELTA  4</span>
<a name="l03449"></a><a class="code" href="../../d1/d9/structtagW32JOB.html#o5">03449</a> <span class="preprocessor"></span>
<a name="l03450"></a><a class="code" href="../../d1/d9/structtagW32JOB.html#o6">03450</a> <span class="comment">/*</span>
<a name="l03451"></a><a class="code" href="../../d1/d9/structtagW32JOB.html#o7">03451</a> <span class="comment"> * W32JOB structure</span>
<a name="l03452"></a><a class="code" href="../../d1/d9/structtagW32JOB.html#o8">03452</a> <span class="comment"> */</span>
<a name="l03453"></a><a class="code" href="../../d1/d9/structtagW32JOB.html#o9">03453</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d1/d9/structtagW32JOB.html">tagW32JOB</a> {
03454     <span class="keyword">struct </span><a class="code" href="../../d1/d9/structtagW32JOB.html">tagW32JOB</a>*  <a class="code" href="../../d1/d9/structtagW32JOB.html#o0">pNext</a>;           <span class="comment">// next W32JOB structure</span>
03455     <a class="code" href="../../d0/d3/struct__EJOB.html">PEJOB</a>              <a class="code" href="../../d1/d9/structtagW32JOB.html#o1">Job</a>;             <span class="comment">// pointer to the EJOB structure</span>
03456     PVOID              <a class="code" href="../../d1/d9/structtagW32JOB.html#o2">pAtomTable</a>;      <span class="comment">// the atom table for the job object</span>
03457     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>              <a class="code" href="../../d1/d9/structtagW32JOB.html#o3">restrictions</a>;    <span class="comment">// UI restrictions</span>
03458     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>               <a class="code" href="../../d1/d9/structtagW32JOB.html#o4">uProcessCount</a>;   <span class="comment">// number of processes in ppiTable</span>
03459     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>               <a class="code" href="../../d1/d9/structtagW32JOB.html#o5">uMaxProcesses</a>;   <span class="comment">// how much room is in ppiTable</span>
03460     <a class="code" href="../../d7/d3/structtagPROCESSINFO.html">PPROCESSINFO</a>*      <a class="code" href="../../d1/d9/structtagW32JOB.html#o6">ppiTable</a>;        <span class="comment">// the array of processes contained in the job</span>
03461     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>               <a class="code" href="../../d1/d9/structtagW32JOB.html#o7">ughCrt</a>;          <span class="comment">// crt number of handles in pgh</span>
03462     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>               <a class="code" href="../../d1/d9/structtagW32JOB.html#o8">ughMax</a>;          <span class="comment">// number of handles pgh can store</span>
03463     PULONG_PTR          <a class="code" href="../../d1/d9/structtagW32JOB.html#o9">pgh</a>;             <span class="comment">// the granted handles table</span>
03464 } <a class="code" href="../../d1/d9/structtagW32JOB.html">W32JOB</a>, *<a class="code" href="../../d1/d9/structtagW32JOB.html">PW32JOB</a>;
03465 
03466 
03467 <span class="comment">/*</span>
03468 <span class="comment"> * Make sure this structure matches up with               W32PROCESS, since they're</span>
03469 <span class="comment"> * really the same thing.</span>
03470 <span class="comment"> */</span>
<a name="l03471"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html">03471</a> 
<a name="l03472"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o0">03472</a> <span class="comment">/*</span>
03473 <span class="comment"> * NOTE -- this structure has been sorted (roughly) in order of use</span>
<a name="l03474"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o1">03474</a> <span class="comment"> * of the fields.   The x86 code set allows cheaper access to fields</span>
<a name="l03475"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o2">03475</a> <span class="comment"> * that are in the first 0x80 bytes of a structure.  Please attempt</span>
<a name="l03476"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o3">03476</a> <span class="comment"> * to ensure that frequently-used fields are below this boundary.</span>
<a name="l03477"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o4">03477</a> <span class="comment"> *          FritzS</span>
<a name="l03478"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o5">03478</a> <span class="comment"> */</span>
<a name="l03479"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o6">03479</a> 
03480 
<a name="l03481"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o7">03481</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d3/structtagPROCESSINFO.html">tagPROCESSINFO</a> {
<a name="l03482"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o8">03482</a>     <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o0">W32PROCESS</a>;
<a name="l03483"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o9">03483</a> <span class="comment">//***************************************** begin: USER specific fields</span>
<a name="l03484"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o10">03484</a>     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a>     <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o1">ptiList</a>;                    <span class="comment">// threads in this process</span>
<a name="l03485"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o11">03485</a>     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a>     <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o2">ptiMainThread</a>;              <span class="comment">// pti of "main thread"</span>
<a name="l03486"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o12">03486</a>     <a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a>        <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o3">rpdeskStartup</a>;              <span class="comment">// initial desktop</span>
<a name="l03487"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o13">03487</a>     <a class="code" href="../../d7/d0/structtagCLS.html">PCLS</a>            <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o4">pclsPrivateList</a>;            <span class="comment">// this processes' private classes</span>
<a name="l03488"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o14">03488</a>     <a class="code" href="../../d7/d0/structtagCLS.html">PCLS</a>            <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o5">pclsPublicList</a>;             <span class="comment">// this processes' public classes</span>
<a name="l03489"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o15">03489</a>     <a class="code" href="../../d4/d1/userk_8h.html#a874">PWOWPROCESSINFO</a> <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o6">pwpi</a>;                       <span class="comment">// Wow PerProcess Info</span>
<a name="l03490"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o16">03490</a> 
03491     <a class="code" href="../../d7/d3/structtagPROCESSINFO.html">PPROCESSINFO</a>    <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o7">ppiNext</a>;                    <span class="comment">// next ppi structure in start list</span>
<a name="l03492"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o17">03492</a>     <a class="code" href="../../d7/d3/structtagPROCESSINFO.html">PPROCESSINFO</a>    <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o8">ppiNextRunning</a>;
<a name="l03493"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o18">03493</a>     <span class="keywordtype">int</span>             <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o9">cThreads</a>;                   <span class="comment">// count of threads using this process info</span>
<a name="l03494"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o19">03494</a>     HDESK           <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o10">hdeskStartup</a>;               <span class="comment">// initial desktop handle</span>
<a name="l03495"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o20">03495</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>            <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o11">cSysExpunge</a>;                <span class="comment">// sys expunge counter</span>
<a name="l03496"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o21">03496</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>           <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o12">dwhmodLibLoadedMask</a>;        <span class="comment">// bits describing loaded hook dlls</span>
<a name="l03497"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o22">03497</a>     HANDLE          <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o13">ahmodLibLoaded</a>[<a class="code" href="../../d4/d1/userk_8h.html#a385">CLIBS</a>];      <span class="comment">// process unique hmod array for hook dlls</span>
<a name="l03498"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o23">03498</a>     <span class="keyword">struct          </span><a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">tagWINDOWSTATION</a> *<a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o14">rpwinsta</a>; <span class="comment">// process windowstation</span>
<a name="l03499"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o24">03499</a>     HWINSTA         <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o15">hwinsta</a>;                    <span class="comment">// windowstation handle</span>
03500     ACCESS_MASK     <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o16">amwinsta</a>;                   <span class="comment">// windowstation accesses</span>
<a name="l03501"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o25">03501</a> 
03502     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>           <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o17">dwHotkey</a>;                   <span class="comment">// hot key from progman</span>
<a name="l03503"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o26">03503</a>     HMONITOR        <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o18">hMonitor</a>;                   <span class="comment">// monitor handle from CreateProcess</span>
<a name="l03504"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o27">03504</a>     <a class="code" href="../../d4/d1/userk_8h.html#a876">PDESKTOPVIEW</a>    <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o19">pdvList</a>;                    <span class="comment">// list of desktop views</span>
<a name="l03505"></a><a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o28">03505</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>            <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o20">iClipSerialNumber</a>;          <span class="comment">// clipboard serial number</span>
03506     RTL_BITMAP      <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o21">bmHandleFlags</a>;              <span class="comment">// per handle flags</span>
03507     <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a>         <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o22">pCursorCache</a>;               <span class="comment">// process cursor/icon cache</span>
03508     PVOID           <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o23">pClientBase</a>;                <span class="comment">// LEAVE THIS FOR HYDRA; offset to the shared section</span>
03509     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>           <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o24">dwLpkEntryPoints</a>;           <span class="comment">// user mode language pack installed</span>
03510 
03511     <a class="code" href="../../d4/d1/userk_8h.html#a878">PW32JOB</a>         <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o25">pW32Job</a>;                    <span class="comment">// pointer to the W32JOB structure</span>
03512 
03513     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>           <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o26">dwImeCompatFlags</a>;           <span class="comment">// per-process Ime Compatibility flags</span>
03514     LUID            <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o27">luidSession</a>;                <span class="comment">// logon session id</span>
03515     <a class="code" href="../../d0/d9/structtagUSERSTARTUPINFO.html">USERSTARTUPINFO</a> <a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o28">usi</a>;                        <span class="comment">// process startup info</span>
03516 
03517 <span class="preprocessor">#ifdef VALIDATEHANDLEQUOTA</span>
03518 <span class="preprocessor"></span>    LONG lHandles;
03519 <span class="preprocessor">#endif</span>
03520 <span class="preprocessor"></span>
03521 <span class="preprocessor">#ifdef USE_MIRRORING</span>
03522 <span class="preprocessor"></span>    <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>           dwLayout;                   <span class="comment">// the default Window orientation for this process</span>
<a name="l03523"></a><a class="code" href="../../d4/d1/userk_8h.html#a388">03523</a> <span class="preprocessor">#endif</span>
<a name="l03524"></a><a class="code" href="../../d4/d1/userk_8h.html#a389">03524</a> <span class="preprocessor"></span>
<a name="l03525"></a><a class="code" href="../../d4/d1/userk_8h.html#a390">03525</a> } <a class="code" href="../../d7/d3/structtagPROCESSINFO.html">PROCESSINFO</a>;
<a name="l03526"></a><a class="code" href="../../d4/d1/userk_8h.html#a391">03526</a> 
<a name="l03527"></a><a class="code" href="../../d4/d1/userk_8h.html#a392">03527</a> <span class="comment">/*</span>
03528 <span class="comment"> * Bit definitions for dwLpkEntryPoints in the processinfo structure.</span>
<a name="l03529"></a><a class="code" href="../../d4/d1/userk_8h.html#a393">03529</a> <span class="comment"> * These are passed from the client side when an lpk is registered.</span>
03530 <span class="comment"> * The kernel determines when to perform callbacks based on which</span>
03531 <span class="comment"> * entry points an lpk supports.</span>
03532 <span class="comment"> */</span>
03533 <span class="preprocessor">#define LPK_TABBEDTEXTOUT 0x01</span>
03534 <span class="preprocessor"></span><span class="preprocessor">#define LPK_PSMTEXTOUT    0x02</span>
03535 <span class="preprocessor"></span><span class="preprocessor">#define LPK_DRAWTEXTEX    0x04</span>
<a name="l03536"></a><a class="code" href="../../d6/d5/struct__LPKDRAWSWITCHWND.html">03536</a> <span class="preprocessor"></span><span class="preprocessor">#define LPK_EDITCONTROL   0x08</span>
<a name="l03537"></a><a class="code" href="../../d6/d5/struct__LPKDRAWSWITCHWND.html#o0">03537</a> <span class="preprocessor"></span><span class="preprocessor">#define LPK_INSTALLED     0x0f</span>
<a name="l03538"></a><a class="code" href="../../d6/d5/struct__LPKDRAWSWITCHWND.html#o1">03538</a> <span class="preprocessor"></span>
03539 <span class="preprocessor">#define CALL_LPK(ptiCurrent)  ((PpiCurrent()-&gt;dwLpkEntryPoints &amp; LPK_INSTALLED) &amp;&amp; \</span>
03540 <span class="preprocessor">                               !((ptiCurrent)-&gt;TIF_flags &amp; (TIF_INCLEANUP | TIF_SYSTEMTHREAD)))</span>
03541 <span class="preprocessor"></span>
03542 <span class="comment">/*</span>
03543 <span class="comment"> * This is used to send cool switch windows information</span>
03544 <span class="comment"> * to the lpk</span>
03545 <span class="comment"> */</span>
03546 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d6/d5/struct__LPKDRAWSWITCHWND.html">_LPKDRAWSWITCHWND</a> {
03547     RECT <a class="code" href="../../d6/d5/struct__LPKDRAWSWITCHWND.html#o0">rcRect</a>;
03548     <a class="code" href="../../d2/d9/struct__LARGE__UNICODE__STRING.html">LARGE_UNICODE_STRING</a> <a class="code" href="../../d6/d5/struct__LPKDRAWSWITCHWND.html#o1">strName</a>;
03549 } <a class="code" href="../../d6/d5/struct__LPKDRAWSWITCHWND.html">LPKDRAWSWITCHWND</a>;
03550 
03551 <span class="comment">/*</span>
03552 <span class="comment"> * DC cache entry structure (DCE)</span>
03553 <span class="comment"> *</span>
03554 <span class="comment"> *   This structure identifies an entry in the DCE cache.  It is</span>
03555 <span class="comment"> *   usually initialized at GetDCEx() and cleanded during RelaseCacheDC</span>
03556 <span class="comment"> *   calls.</span>
03557 <span class="comment"> *</span>
03558 <span class="comment"> *   Field</span>
03559 <span class="comment"> *   -----</span>
03560 <span class="comment"> *</span>
03561 <span class="comment"> *   pdceNext       - Pointer to the next DCE entry.</span>
03562 <span class="comment"> *</span>
03563 <span class="comment"> *</span>
03564 <span class="comment"> *   hdc            - GDI DC handle for the dce entry.  This will have</span>
03565 <span class="comment"> *                    the necessary clipping regions selected into it.</span>
03566 <span class="comment"> *</span>
03567 <span class="comment"> *   pwndOrg        - Identifies the window in the GetDCEx() call which owns</span>
03568 <span class="comment"> *                    the DCE Entry.</span>
03569 <span class="comment"> *</span>
03570 <span class="comment"> *   pwndClip       - Identifies the window by which the DC is clipped to.</span>
03571 <span class="comment"> *                    This is usually done for PARENTDC windows.</span>
03572 <span class="comment"> *</span>
03573 <span class="comment"> *   hrgnClip       - This region is set if the caller to GetDCEx() passes a</span>
03574 <span class="comment"> *                    clipping region in which to intersect with the visrgn.</span>
03575 <span class="comment"> *                    This is used when we need to recalc the visrgn for the</span>
03576 <span class="comment"> *                    DCE entry.  This will be freed at ReleaseCacheDC()</span>
03577 <span class="comment"> *                    time if the flag doesn't have DCX_NODELETERGN set.</span>
03578 <span class="comment"> *</span>
03579 <span class="comment"> *   hrgnClipPublic - This is a copy of the (hrgnClip) passed in above.  We</span>
03580 <span class="comment"> *                    make a copy and set it as PUBLIC ownership so that</span>
03581 <span class="comment"> *                    we can use it in computations during the UserSetDCVisRgn</span>
03582 <span class="comment"> *                    call.  This is necessary for Full-Hung-Draw where we</span>
03583 <span class="comment"> *                    are drawing from a different process then the one</span>
<a name="l03584"></a><a class="code" href="../../d3/d2/structtagDCE.html">03584</a> <span class="comment"> *                    who created the (hrgnClip).  This is always deleted</span>
<a name="l03585"></a><a class="code" href="../../d3/d2/structtagDCE.html#o0">03585</a> <span class="comment"> *                    in the ReleaseCacheDC() call.</span>
<a name="l03586"></a><a class="code" href="../../d3/d2/structtagDCE.html#o1">03586</a> <span class="comment"> *</span>
<a name="l03587"></a><a class="code" href="../../d3/d2/structtagDCE.html#o2">03587</a> <span class="comment"> *   hrgnSavedVis   - This is a copy of the saved visrgn for the DCE entry.</span>
<a name="l03588"></a><a class="code" href="../../d3/d2/structtagDCE.html#o3">03588</a> <span class="comment"> *</span>
<a name="l03589"></a><a class="code" href="../../d3/d2/structtagDCE.html#o4">03589</a> <span class="comment"> *   flags          - DCX_ flags.</span>
<a name="l03590"></a><a class="code" href="../../d3/d2/structtagDCE.html#o5">03590</a> <span class="comment"> *</span>
<a name="l03591"></a><a class="code" href="../../d3/d2/structtagDCE.html#o6">03591</a> <span class="comment"> *   ptiOwner       - Thread owner of the DCE entry.</span>
<a name="l03592"></a><a class="code" href="../../d3/d2/structtagDCE.html#o7">03592</a> <span class="comment"> *</span>
<a name="l03593"></a><a class="code" href="../../d3/d2/structtagDCE.html#o8">03593</a> <span class="comment"> */</span>
<a name="l03594"></a><a class="code" href="../../d3/d2/structtagDCE.html#o9">03594</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d3/d2/structtagDCE.html">tagDCE</a> {
03595     <a class="code" href="../../d3/d2/structtagDCE.html">PDCE</a>                 <a class="code" href="../../d3/d2/structtagDCE.html#o0">pdceNext</a>;
03596     HDC                  <a class="code" href="../../d3/d2/structtagDCE.html#o1">hdc</a>;
<a name="l03597"></a><a class="code" href="../../d4/d1/userk_8h.html#a394">03597</a>     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>                 pwndOrg;
<a name="l03598"></a><a class="code" href="../../d4/d1/userk_8h.html#a395">03598</a>     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>                 pwndClip;
03599     HRGN                 hrgnClip;
<a name="l03600"></a><a class="code" href="../../d4/d1/userk_8h.html#a396">03600</a>     HRGN                 hrgnClipPublic;
<a name="l03601"></a><a class="code" href="../../d4/d1/userk_8h.html#a397">03601</a>     HRGN                 hrgnSavedVis;
<a name="l03602"></a><a class="code" href="../../d4/d1/userk_8h.html#a398">03602</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>                DCX_flags;
03603     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a>          ptiOwner;
03604     <a class="code" href="../../d0/d2/structtagMONITOR.html">PMONITOR</a>             pMonitor;
03605 } <a class="code" href="../../d3/d2/structtagDCE.html">DCE</a>;
03606 
<a name="l03607"></a><a class="code" href="../../d4/d1/userk_8h.html#a399">03607</a> <span class="preprocessor">#define DCE_SIZE_CACHEINIT        5    // Initial number of DCEs in the cache.</span>
<a name="l03608"></a><a class="code" href="../../d4/d1/userk_8h.html#a400">03608</a> <span class="preprocessor"></span><span class="preprocessor">#define DCE_SIZE_CACHETHRESHOLD  32    // Number of dce's as a threshold.</span>
<a name="l03609"></a><a class="code" href="../../d4/d1/userk_8h.html#a401">03609</a> <span class="preprocessor"></span>
<a name="l03610"></a><a class="code" href="../../d4/d1/userk_8h.html#a402">03610</a> <span class="preprocessor">#define DCE_RELEASED              0    // ReleaseDC released</span>
<a name="l03611"></a><a class="code" href="../../d4/d1/userk_8h.html#a403">03611</a> <span class="preprocessor"></span><span class="preprocessor">#define DCE_FREED                 1    // ReleaseDC freed</span>
<a name="l03612"></a><a class="code" href="../../d4/d1/userk_8h.html#a404">03612</a> <span class="preprocessor"></span><span class="preprocessor">#define DCE_NORELEASE             2    // ReleaseDC in-use.</span>
<a name="l03613"></a><a class="code" href="../../d4/d1/userk_8h.html#a405">03613</a> <span class="preprocessor"></span>
<a name="l03614"></a><a class="code" href="../../d4/d1/userk_8h.html#a406">03614</a> <span class="comment">/*</span>
03615 <span class="comment"> * CalcVisRgn DC type bits</span>
03616 <span class="comment"> */</span>
03617 <span class="preprocessor">#define DCUNUSED        0x00        </span><span class="comment">/* Unused cache entry */</span>
03618 <span class="preprocessor">#define DCC             0x01        </span><span class="comment">/* Client area */</span>
<a name="l03619"></a><a class="code" href="../../d4/d9/structtagBWL.html">03619</a> <span class="preprocessor">#define DCW             0x02        </span><span class="comment">/* Window area */</span>
<a name="l03620"></a><a class="code" href="../../d4/d9/structtagBWL.html#o0">03620</a> <span class="preprocessor">#define DCSAVEDVISRGN   0x04</span>
<a name="l03621"></a><a class="code" href="../../d4/d9/structtagBWL.html#o1">03621</a> <span class="preprocessor"></span><span class="preprocessor">#define DCCLIPRGN       0x08</span>
<a name="l03622"></a><a class="code" href="../../d4/d9/structtagBWL.html#o2">03622</a> <span class="preprocessor"></span><span class="preprocessor">#define DCNOCHILDCLIP   0x10        </span><span class="comment">/* Nochildern clip */</span>
<a name="l03623"></a><a class="code" href="../../d4/d9/structtagBWL.html#o3">03623</a> <span class="preprocessor">#define DCSAVEVIS       0x20        </span><span class="comment">/* Save visrgn before calculating */</span>
<a name="l03624"></a><a class="code" href="../../d4/d9/structtagBWL.html#o4">03624</a> <span class="preprocessor">#define DCCACHE         0x40</span>
03625 <span class="preprocessor"></span>
03626 <span class="comment">/*</span>
03627 <span class="comment"> * Window List Structure</span>
03628 <span class="comment"> */</span>
03629 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d4/d9/structtagBWL.html">tagBWL</a> {
<a name="l03630"></a><a class="code" href="../../d4/d1/userk_8h.html#a407">03630</a>     <span class="keyword">struct </span><a class="code" href="../../d4/d9/structtagBWL.html">tagBWL</a> *pbwlNext;
<a name="l03631"></a><a class="code" href="../../d4/d1/userk_8h.html#a408">03631</a>     HWND          *phwndNext;
03632     HWND          *phwndMax;
<a name="l03633"></a><a class="code" href="../../d4/d1/userk_8h.html#a409">03633</a>     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a>   ptiOwner;
<a name="l03634"></a><a class="code" href="../../d4/d1/userk_8h.html#a410">03634</a>     HWND          rghwnd[1];
<a name="l03635"></a><a class="code" href="../../d4/d1/userk_8h.html#a411">03635</a> } <a class="code" href="../../d4/d9/structtagBWL.html">BWL</a>, *<a class="code" href="../../d4/d9/structtagBWL.html">PBWL</a>;
03636 
<a name="l03637"></a><a class="code" href="../../d4/d1/userk_8h.html#a412">03637</a> <span class="comment">/*</span>
<a name="l03638"></a><a class="code" href="../../d4/d1/userk_8h.html#a413">03638</a> <span class="comment"> * Numbers of HWND slots to to start with and to increase by.</span>
03639 <span class="comment"> */</span>
03640 <span class="preprocessor">#define BWL_CHWNDINIT      32     </span><span class="comment">/* initial # slots pre-allocated */</span>
03641 <span class="preprocessor">#define BWL_CHWNDMORE       8     </span><span class="comment">/* # slots to obtain when required */</span>
03642 
<a name="l03643"></a><a class="code" href="../../d0/d7/structtagSPB.html">03643</a> <span class="preprocessor">#define BWL_ENUMCHILDREN    1</span>
<a name="l03644"></a><a class="code" href="../../d0/d7/structtagSPB.html#o0">03644</a> <span class="preprocessor"></span><span class="preprocessor">#define BWL_ENUMLIST        2</span>
<a name="l03645"></a><a class="code" href="../../d0/d7/structtagSPB.html#o1">03645</a> <span class="preprocessor"></span><span class="preprocessor">#define BWL_ENUMOWNERLIST   4</span>
<a name="l03646"></a><a class="code" href="../../d0/d7/structtagSPB.html#o2">03646</a> <span class="preprocessor"></span>
<a name="l03647"></a><a class="code" href="../../d0/d7/structtagSPB.html#o3">03647</a> <span class="preprocessor">#define BWL_ENUMIMELAST     0x08</span>
<a name="l03648"></a><a class="code" href="../../d0/d7/structtagSPB.html#o4">03648</a> <span class="preprocessor"></span><span class="preprocessor">#define BWL_REMOVEIMECHILD  0x10</span>
<a name="l03649"></a><a class="code" href="../../d0/d7/structtagSPB.html#o5">03649</a> <span class="preprocessor"></span>
<a name="l03650"></a><a class="code" href="../../d0/d7/structtagSPB.html#o6">03650</a> <span class="comment">/*</span>
03651 <span class="comment"> * Saved Popup Bits structure</span>
03652 <span class="comment"> */</span>
<a name="l03653"></a><a class="code" href="../../d4/d1/userk_8h.html#a414">03653</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d0/d7/structtagSPB.html">tagSPB</a> {
<a name="l03654"></a><a class="code" href="../../d4/d1/userk_8h.html#a415">03654</a>     <span class="keyword">struct </span><a class="code" href="../../d0/d7/structtagSPB.html">tagSPB</a> *pspbNext;
<a name="l03655"></a><a class="code" href="../../d4/d1/userk_8h.html#a416">03655</a>     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>          spwnd;
03656     HBITMAP       hbm;
<a name="l03657"></a><a class="code" href="../../d4/d1/userk_8h.html#a417">03657</a>     RECT          rc;
03658     HRGN          hrgn;
03659     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>         flags;
03660     ULONG_PTR     ulSaveId;
03661 } <a class="code" href="../../d0/d7/structtagSPB.html">SPB</a>;
<a name="l03662"></a><a class="code" href="../../d4/d1/userk_8h.html#a418">03662</a> 
<a name="l03663"></a><a class="code" href="../../d4/d1/userk_8h.html#a419">03663</a> <span class="preprocessor">#define SPB_SAVESCREENBITS  0x0001  // GreSaveScreenBits() was called</span>
03664 <span class="preprocessor"></span><span class="preprocessor">#define SPB_LOCKUPDATE      0x0002  // LockWindowUpdate() SPB</span>
<a name="l03665"></a><a class="code" href="../../d4/d1/userk_8h.html#a420">03665</a> <span class="preprocessor"></span><span class="preprocessor">#define SPB_DRAWBUFFER      0x0004  // BeginDrawBuffer() SPB</span>
<a name="l03666"></a><a class="code" href="../../d4/d1/userk_8h.html#a421">03666</a> <span class="preprocessor"></span>
03667 <span class="preprocessor">#define AnySpbs()   (gpDispInfo-&gt;pspbFirst != NULL)     // TRUE if there are any SPBs</span>
<a name="l03668"></a><a class="code" href="../../d4/d1/userk_8h.html#a422">03668</a> <span class="preprocessor"></span>
03669 <span class="comment">/*</span>
<a name="l03670"></a><a class="code" href="../../d4/d1/userk_8h.html#a423">03670</a> <span class="comment"> * Macro to check if the journal playback hook is installed.</span>
03671 <span class="comment"> */</span>
03672 <span class="preprocessor">#define FJOURNALRECORD()    (GETDESKINFO(PtiCurrent())-&gt;aphkStart[WH_JOURNALRECORD + 1] != NULL)</span>
03673 <span class="preprocessor"></span><span class="preprocessor">#define FJOURNALPLAYBACK()  (GETDESKINFO(PtiCurrent())-&gt;aphkStart[WH_JOURNALPLAYBACK + 1] != NULL)</span>
03674 <span class="preprocessor"></span>
03675 <span class="preprocessor">#define TESTHMODLOADED(pti, x)       ((pti)-&gt;ppi-&gt;dwhmodLibLoadedMask &amp; (1 &lt;&lt; (x)))</span>
03676 <span class="preprocessor"></span><span class="preprocessor">#define SETHMODLOADED(pti, x, hmod)  ((pti)-&gt;ppi-&gt;ahmodLibLoaded[x] = hmod, \</span>
<a name="l03677"></a><a class="code" href="../../d6/d9/struct__CREATESTRUCTEX.html">03677</a> <span class="preprocessor">                                      (pti)-&gt;ppi-&gt;dwhmodLibLoadedMask |= (1 &lt;&lt; (x)))</span>
<a name="l03678"></a><a class="code" href="../../d6/d9/struct__CREATESTRUCTEX.html#o0">03678</a> <span class="preprocessor"></span><span class="preprocessor">#define CLEARHMODLOADED(pti, x)      ((pti)-&gt;ppi-&gt;ahmodLibLoaded[x] = NULL, \</span>
<a name="l03679"></a><a class="code" href="../../d6/d9/struct__CREATESTRUCTEX.html#o1">03679</a> <span class="preprocessor">                                      (pti)-&gt;ppi-&gt;dwhmodLibLoadedMask &amp;= ~(1 &lt;&lt; (x)))</span>
<a name="l03680"></a><a class="code" href="../../d6/d9/struct__CREATESTRUCTEX.html#o2">03680</a> <span class="preprocessor"></span><span class="preprocessor">#define PFNHOOK(phk) (phk-&gt;ihmod == -1 ? (PROC)phk-&gt;offPfn : \</span>
03681 <span class="preprocessor">        (PROC)(((ULONG_PTR)(PtiCurrent()-&gt;ppi-&gt;ahmodLibLoaded[phk-&gt;ihmod])) + \</span>
03682 <span class="preprocessor">        ((ULONG_PTR)(phk-&gt;offPfn))))</span>
<a name="l03683"></a><a class="code" href="../../d5/d7/struct__MDICREATESTRUCTEX.html">03683</a> <span class="preprocessor"></span>
<a name="l03684"></a><a class="code" href="../../d5/d7/struct__MDICREATESTRUCTEX.html#o0">03684</a> <span class="comment">/*</span>
<a name="l03685"></a><a class="code" href="../../d5/d7/struct__MDICREATESTRUCTEX.html#o1">03685</a> <span class="comment"> * Extended structures for message thunking.</span>
<a name="l03686"></a><a class="code" href="../../d5/d7/struct__MDICREATESTRUCTEX.html#o2">03686</a> <span class="comment"> */</span>
03687 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d6/d9/struct__CREATESTRUCTEX.html">_CREATESTRUCTEX</a> {
03688     CREATESTRUCT cs;
<a name="l03689"></a><a class="code" href="../../d0/d0/struct__CWPSTRUCTEX.html">03689</a>     <a class="code" href="../../d1/d9/struct__LARGE__STRING.html">LARGE_STRING</a> strName;
03690     <a class="code" href="../../d1/d9/struct__LARGE__STRING.html">LARGE_STRING</a> strClass;
<a name="l03691"></a><a class="code" href="../../d0/d0/struct__CWPSTRUCTEX.html#o0">03691</a> } <a class="code" href="../../d6/d9/struct__CREATESTRUCTEX.html">CREATESTRUCTEX</a>, *<a class="code" href="../../d6/d9/struct__CREATESTRUCTEX.html">PCREATESTRUCTEX</a>;
03692 
03693 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d5/d7/struct__MDICREATESTRUCTEX.html">_MDICREATESTRUCTEX</a> {
<a name="l03694"></a><a class="code" href="../../d9/d9/struct__CWPRETSTRUCTEX.html">03694</a>     MDICREATESTRUCT mdics;
<a name="l03695"></a><a class="code" href="../../d9/d9/struct__CWPRETSTRUCTEX.html#o0">03695</a>     <a class="code" href="../../d1/d9/struct__LARGE__STRING.html">LARGE_STRING</a> strTitle;
03696     <a class="code" href="../../d1/d9/struct__LARGE__STRING.html">LARGE_STRING</a> strClass;
<a name="l03697"></a><a class="code" href="../../d9/d9/struct__CWPRETSTRUCTEX.html#o1">03697</a> } <a class="code" href="../../d5/d7/struct__MDICREATESTRUCTEX.html">MDICREATESTRUCTEX</a>, *<a class="code" href="../../d5/d7/struct__MDICREATESTRUCTEX.html">PMDICREATESTRUCTEX</a>;
03698 
03699 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d0/d0/struct__CWPSTRUCTEX.html">_CWPSTRUCTEX</a> {
03700     <span class="keyword">struct </span>tagCWPSTRUCT;
03701     <a class="code" href="../../d4/d1/userk_8h.html#a871">PSMS</a>            psmsSender;
03702 } <a class="code" href="../../d0/d0/struct__CWPSTRUCTEX.html">CWPSTRUCTEX</a>, *<a class="code" href="../../d0/d0/struct__CWPSTRUCTEX.html">PCWPSTRUCTEX</a>;
<a name="l03703"></a><a class="code" href="../../d7/d6/structtagSMS.html">03703</a> 
<a name="l03704"></a><a class="code" href="../../d7/d6/structtagSMS.html#o0">03704</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d9/struct__CWPRETSTRUCTEX.html">_CWPRETSTRUCTEX</a> {
03705     LRESULT         lResult;
03706     <span class="keyword">struct </span>tagCWPSTRUCT;
03707     <a class="code" href="../../d4/d1/userk_8h.html#a871">PSMS</a>            psmsSender;
03708 } <a class="code" href="../../d9/d9/struct__CWPRETSTRUCTEX.html">CWPRETSTRUCTEX</a>, *<a class="code" href="../../d9/d9/struct__CWPRETSTRUCTEX.html">PCWPRETSTRUCTEX</a>;
<a name="l03709"></a><a class="code" href="../../d7/d6/structtagSMS.html#o1">03709</a> 
<a name="l03710"></a><a class="code" href="../../d7/d6/structtagSMS.html#o2">03710</a> <span class="comment">/*</span>
<a name="l03711"></a><a class="code" href="../../d7/d6/structtagSMS.html#o3">03711</a> <span class="comment"> * SendMessage structure and defines.</span>
<a name="l03712"></a><a class="code" href="../../d7/d6/structtagSMS.html#o4">03712</a> <span class="comment"> */</span>
03713 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d6/structtagSMS.html">tagSMS</a> {   <span class="comment">/* sms */</span>
<a name="l03714"></a><a class="code" href="../../d7/d6/structtagSMS.html#o5">03714</a>     <a class="code" href="../../d4/d1/userk_8h.html#a871">PSMS</a>            <a class="code" href="../../d7/d6/structtagSMS.html#o0">psmsNext</a>;          <span class="comment">// link in global psmsList</span>
<a name="l03715"></a><a class="code" href="../../d7/d6/structtagSMS.html#o6">03715</a> <span class="preprocessor">#if DBG</span>
<a name="l03716"></a><a class="code" href="../../d7/d6/structtagSMS.html#o7">03716</a> <span class="preprocessor"></span>    <a class="code" href="../../d4/d1/userk_8h.html#a871">PSMS</a>            psmsSendList;      <span class="comment">// head of queue's SendMessage chain</span>
03717     <a class="code" href="../../d4/d1/userk_8h.html#a871">PSMS</a>            psmsSendNext;      <span class="comment">// link in queue's SendMessage chain</span>
<a name="l03718"></a><a class="code" href="../../d7/d6/structtagSMS.html#o8">03718</a> <span class="preprocessor">#endif // DBG</span>
<a name="l03719"></a><a class="code" href="../../d7/d6/structtagSMS.html#o9">03719</a> <span class="preprocessor"></span>    <a class="code" href="../../d4/d1/userk_8h.html#a871">PSMS</a>            <a class="code" href="../../d7/d6/structtagSMS.html#o1">psmsReceiveNext</a>;   <span class="comment">// link in queue's ReceiveList</span>
<a name="l03720"></a><a class="code" href="../../d7/d6/structtagSMS.html#o10">03720</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>           <a class="code" href="../../d7/d6/structtagSMS.html#o2">tSent</a>;              <span class="comment">// time message was sent</span>
<a name="l03721"></a><a class="code" href="../../d7/d6/structtagSMS.html#o11">03721</a>     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a>     <a class="code" href="../../d7/d6/structtagSMS.html#o3">ptiSender</a>;          <span class="comment">// sending thread</span>
<a name="l03722"></a><a class="code" href="../../d7/d6/structtagSMS.html#o12">03722</a>     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a>     <a class="code" href="../../d7/d6/structtagSMS.html#o4">ptiReceiver</a>;        <span class="comment">// receiving thread</span>
<a name="l03723"></a><a class="code" href="../../d7/d6/structtagSMS.html#o13">03723</a> 
<a name="l03724"></a><a class="code" href="../../d7/d6/structtagSMS.html#o14">03724</a>     SENDASYNCPROC   <a class="code" href="../../d7/d6/structtagSMS.html#o5">lpResultCallBack</a>;   <span class="comment">// function to receive the SendMessageCallback return value</span>
03725     ULONG_PTR        <a class="code" href="../../d7/d6/structtagSMS.html#o6">dwData</a>;             <span class="comment">// value to be passed back to the lpResultCallBack function</span>
03726     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a>     <a class="code" href="../../d7/d6/structtagSMS.html#o7">ptiCallBackSender</a>;  <span class="comment">// sending thread</span>
<a name="l03727"></a><a class="code" href="../../d4/d1/userk_8h.html#a424">03727</a> 
<a name="l03728"></a><a class="code" href="../../d4/d1/userk_8h.html#a425">03728</a>     LRESULT         lRet;               <span class="comment">// message return value</span>
<a name="l03729"></a><a class="code" href="../../d4/d1/userk_8h.html#a426">03729</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>            flags;              <span class="comment">// SMF_ flags</span>
<a name="l03730"></a><a class="code" href="../../d4/d1/userk_8h.html#a427">03730</a>     WPARAM          wParam;             <span class="comment">// message fields...</span>
<a name="l03731"></a><a class="code" href="../../d4/d1/userk_8h.html#a428">03731</a>     LPARAM          lParam;
<a name="l03732"></a><a class="code" href="../../d4/d1/userk_8h.html#a429">03732</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>            message;
<a name="l03733"></a><a class="code" href="../../d4/d1/userk_8h.html#a430">03733</a>     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>            spwnd;
<a name="l03734"></a><a class="code" href="../../d4/d1/userk_8h.html#a431">03734</a>     PVOID           pvCapture;          <span class="comment">// captured argument data</span>
<a name="l03735"></a><a class="code" href="../../d4/d1/userk_8h.html#a432">03735</a> } <a class="code" href="../../d7/d6/structtagSMS.html">SMS</a>;
<a name="l03736"></a><a class="code" href="../../d4/d1/userk_8h.html#a433">03736</a> 
<a name="l03737"></a><a class="code" href="../../d4/d1/userk_8h.html#a434">03737</a> <span class="preprocessor">#define SMF_REPLY                   0x0001      // message has been replied to</span>
<a name="l03738"></a><a class="code" href="../../d4/d1/userk_8h.html#a435">03738</a> <span class="preprocessor"></span><span class="preprocessor">#define SMF_RECEIVERDIED            0x0002      // receiver has died</span>
03739 <span class="preprocessor"></span><span class="preprocessor">#define SMF_SENDERDIED              0x0004      // sender has died</span>
03740 <span class="preprocessor"></span><span class="preprocessor">#define SMF_RECEIVERFREE            0x0008      // receiver should free sms when done</span>
03741 <span class="preprocessor"></span><span class="preprocessor">#define SMF_RECEIVEDMESSAGE         0x0010      // sms has been received</span>
03742 <span class="preprocessor"></span><span class="preprocessor">#define SMF_CB_REQUEST              0x0100      // SendMessageCallback requested</span>
<a name="l03743"></a><a class="code" href="../../d9/d8/structtagINTERSENDMSGEX.html">03743</a> <span class="preprocessor"></span><span class="preprocessor">#define SMF_CB_REPLY                0x0200      // SendMessageCallback reply</span>
<a name="l03744"></a><a class="code" href="../../d9/d8/structtagINTERSENDMSGEX.html#o0">03744</a> <span class="preprocessor"></span><span class="preprocessor">#define SMF_CB_CLIENT               0x0400      // Client process request</span>
03745 <span class="preprocessor"></span><span class="preprocessor">#define SMF_CB_SERVER               0x0800      // Server process request</span>
<a name="l03746"></a><a class="code" href="../../d9/d8/structtagINTERSENDMSGEX.html#o1">03746</a> <span class="preprocessor"></span><span class="preprocessor">#define SMF_WOWRECEIVE              0x1000      // wow sched has incr recv count</span>
<a name="l03747"></a><a class="code" href="../../d9/d8/structtagINTERSENDMSGEX.html#o2">03747</a> <span class="preprocessor"></span><span class="preprocessor">#define SMF_WOWSEND                 0x2000      // wow sched has incr send count</span>
<a name="l03748"></a><a class="code" href="../../d9/d8/structtagINTERSENDMSGEX.html#o3">03748</a> <span class="preprocessor"></span><span class="preprocessor">#define SMF_RECEIVERBUSY            0x4000      // reciver is processing this msg</span>
03749 <span class="preprocessor"></span>
<a name="l03750"></a><a class="code" href="../../d9/d8/structtagINTERSENDMSGEX.html#o4">03750</a> <span class="comment">/*</span>
<a name="l03751"></a><a class="code" href="../../d9/d8/structtagINTERSENDMSGEX.html#o5">03751</a> <span class="comment"> * InterSendMsgEx parameter used for SendMessageCallback and TimeOut</span>
<a name="l03752"></a><a class="code" href="../../d9/d8/structtagINTERSENDMSGEX.html#o6">03752</a> <span class="comment"> */</span>
03753 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d8/structtagINTERSENDMSGEX.html">tagINTERSENDMSGEX</a> {   <span class="comment">/* ism */</span>
03754     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>   <a class="code" href="../../d9/d8/structtagINTERSENDMSGEX.html#o0">fuCall</a>;                      <span class="comment">// callback or timeout call</span>
<a name="l03755"></a><a class="code" href="../../d4/d1/userk_8h.html#a436">03755</a> 
<a name="l03756"></a><a class="code" href="../../d4/d1/userk_8h.html#a437">03756</a>     SENDASYNCPROC lpResultCallBack;     <span class="comment">// function to receive the send message value</span>
<a name="l03757"></a><a class="code" href="../../d4/d1/userk_8h.html#a438">03757</a>     ULONG_PTR dwData;                    <span class="comment">// Value to be passed back to the SendResult call back function</span>
<a name="l03758"></a><a class="code" href="../../d4/d1/userk_8h.html#a439">03758</a>     LRESULT lRet;                       <span class="comment">// return value from the send message</span>
<a name="l03759"></a><a class="code" href="../../d4/d1/userk_8h.html#a440">03759</a> 
03760     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> fuSend;                        <span class="comment">// how to send the message, SMTO_BLOCK, SMTO_ABORTIFHUNG</span>
03761     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> uTimeout;                      <span class="comment">// time-out duration</span>
03762     PULONG_PTR lpdwResult;               <span class="comment">// the return value for a syncornis call</span>
03763 } <a class="code" href="../../d9/d8/structtagINTERSENDMSGEX.html">INTRSENDMSGEX</a>, *<a class="code" href="../../d9/d8/structtagINTERSENDMSGEX.html">PINTRSENDMSGEX</a>;
<a name="l03764"></a><a class="code" href="../../d5/d8/structtagASYNCSENDMSG.html">03764</a> 
<a name="l03765"></a><a class="code" href="../../d5/d8/structtagASYNCSENDMSG.html#o0">03765</a> <span class="preprocessor">#define ISM_CALLBACK        0x0001      // callback function request</span>
<a name="l03766"></a><a class="code" href="../../d5/d8/structtagASYNCSENDMSG.html#o1">03766</a> <span class="preprocessor"></span><span class="preprocessor">#define ISM_TIMEOUT         0x0002      // timeout function request</span>
<a name="l03767"></a><a class="code" href="../../d5/d8/structtagASYNCSENDMSG.html#o2">03767</a> <span class="preprocessor"></span><span class="preprocessor">#define ISM_REQUEST         0x0010      // callback function request message</span>
<a name="l03768"></a><a class="code" href="../../d5/d8/structtagASYNCSENDMSG.html#o3">03768</a> <span class="preprocessor"></span><span class="preprocessor">#define ISM_REPLY           0x0020      // callback function reply message</span>
03769 <span class="preprocessor"></span><span class="preprocessor">#define ISM_CB_CLIENT       0x0100      // client process callback function</span>
03770 <span class="preprocessor"></span>
03771 <span class="comment">/*</span>
03772 <span class="comment"> * Event structure to handle broadcasts of notification messages.</span>
03773 <span class="comment"> */</span>
<a name="l03774"></a><a class="code" href="../../d4/d1/userk_8h.html#a441">03774</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d5/d8/structtagASYNCSENDMSG.html">tagASYNCSENDMSG</a> {
03775     WPARAM  wParam;
03776     LPARAM  lParam;
<a name="l03777"></a><a class="code" href="../../d4/d1/userk_8h.html#a442">03777</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>    message;
03778     HWND    hwnd;
03779 } <a class="code" href="../../d5/d8/structtagASYNCSENDMSG.html">ASYNCSENDMSG</a>, *<a class="code" href="../../d5/d8/structtagASYNCSENDMSG.html">PASYNCSENDMSG</a>;
<a name="l03780"></a><a class="code" href="../../d6/d6/structtagHOOKMSGSTRUCT.html">03780</a> 
<a name="l03781"></a><a class="code" href="../../d6/d6/structtagHOOKMSGSTRUCT.html#o0">03781</a> <span class="comment">/*</span>
<a name="l03782"></a><a class="code" href="../../d6/d6/structtagHOOKMSGSTRUCT.html#o1">03782</a> <span class="comment"> * HkCallHook() structure</span>
<a name="l03783"></a><a class="code" href="../../d6/d6/structtagHOOKMSGSTRUCT.html#o2">03783</a> <span class="comment"> */</span>
03784 <span class="preprocessor">#define IsHooked(pti, fsHook) \</span>
03785 <span class="preprocessor">    ((fsHook &amp; (pti-&gt;fsHooks | pti-&gt;pDeskInfo-&gt;fsHooks)) != 0)</span>
03786 <span class="preprocessor"></span>
03787 <span class="preprocessor">#define IsGlobalHooked(pti, fsHook) \</span>
03788 <span class="preprocessor">    ((fsHook &amp; pti-&gt;pDeskInfo-&gt;fsHooks) != 0)</span>
<a name="l03789"></a><a class="code" href="../../d4/d1/userk_8h.html#a443">03789</a> <span class="preprocessor"></span>
<a name="l03790"></a><a class="code" href="../../d4/d1/userk_8h.html#a444">03790</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d6/d6/structtagHOOKMSGSTRUCT.html">tagHOOKMSGSTRUCT</a> { <span class="comment">/* hch */</span>
<a name="l03791"></a><a class="code" href="../../d4/d1/userk_8h.html#a445">03791</a>     <a class="code" href="../../d5/d6/structtagHOOK.html">PHOOK</a>   phk;
<a name="l03792"></a><a class="code" href="../../d4/d1/userk_8h.html#a446">03792</a>     <span class="keywordtype">int</span>     nCode;
<a name="l03793"></a><a class="code" href="../../d4/d1/userk_8h.html#a447">03793</a>     LPARAM  lParam;
<a name="l03794"></a><a class="code" href="../../d4/d1/userk_8h.html#a448">03794</a> } <a class="code" href="../../d6/d6/structtagHOOKMSGSTRUCT.html">HOOKMSGSTRUCT</a>, *<a class="code" href="../../d6/d6/structtagHOOKMSGSTRUCT.html">PHOOKMSGSTRUCT</a>;
03795 
03796 <span class="comment">/*</span>
03797 <span class="comment"> * BroadcastMessage() commands.</span>
03798 <span class="comment"> */</span>
<a name="l03799"></a><a class="code" href="../../d8/d8/uniontagBROADCASTMSG.html">03799</a> <span class="preprocessor">#define BMSG_SENDMSG                0x0000</span>
03800 <span class="preprocessor"></span><span class="preprocessor">#define BMSG_SENDNOTIFYMSG          0x0001</span>
<a name="l03801"></a><a class="code" href="../../d8/d8/uniontagBROADCASTMSG.html#o0">03801</a> <span class="preprocessor"></span><span class="preprocessor">#define BMSG_POSTMSG                0x0002</span>
<a name="l03802"></a><a class="code" href="../../d8/d8/uniontagBROADCASTMSG.html#o1">03802</a> <span class="preprocessor"></span><span class="preprocessor">#define BMSG_SENDMSGCALLBACK        0x0003</span>
<a name="l03803"></a><a class="code" href="../../d8/d8/uniontagBROADCASTMSG.html#o2">03803</a> <span class="preprocessor"></span><span class="preprocessor">#define BMSG_SENDMSGTIMEOUT         0x0004</span>
03804 <span class="preprocessor"></span><span class="preprocessor">#define BMSG_SENDNOTIFYMSGPROCESS   0x0005</span>
03805 <span class="preprocessor"></span>
<a name="l03806"></a><a class="code" href="../../d8/d8/uniontagBROADCASTMSG.html#o4">03806</a> <span class="comment">/*</span>
<a name="l03807"></a><a class="code" href="../../d8/d8/uniontagBROADCASTMSG.html#o5">03807</a> <span class="comment"> * xxxBroadcastMessage parameter used for SendMessageCallback and TimeOut</span>
<a name="l03808"></a><a class="code" href="../../d8/d8/uniontagBROADCASTMSG.html#o6">03808</a> <span class="comment"> */</span>
03809 <span class="keyword">typedef</span> <span class="keyword">union </span><a class="code" href="../../d8/d8/uniontagBROADCASTMSG.html">tagBROADCASTMSG</a> {   <span class="comment">/* bcm */</span>
03810      <span class="keyword">struct </span>{                               <span class="comment">// for callback broadcast</span>
03811          SENDASYNCPROC <a class="code" href="../../d8/d8/uniontagBROADCASTMSG.html#o0">lpResultCallBack</a>;    <span class="comment">// function to receive the send message value</span>
03812          ULONG_PTR <a class="code" href="../../d8/d8/uniontagBROADCASTMSG.html#o1">dwData</a>;                   <span class="comment">// Value to be passed back to the SendResult call back function</span>
03813          <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d8/d8/uniontagBROADCASTMSG.html#o2">bClientRequest</a>;               <span class="comment">// if a cliet or server callback request</span>
03814      } <a class="code" href="../../d8/d8/uniontagBROADCASTMSG.html#o3">cb</a>;
<a name="l03815"></a><a class="code" href="../../d8/d6/structtagHOTKEY.html">03815</a>      <span class="keyword">struct </span>{                               <span class="comment">// for timeout broadcast</span>
<a name="l03816"></a><a class="code" href="../../d8/d6/structtagHOTKEY.html#o0">03816</a>          <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> fuFlags;                      <span class="comment">// timeout type flags</span>
<a name="l03817"></a><a class="code" href="../../d8/d6/structtagHOTKEY.html#o1">03817</a>          <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> uTimeout;                     <span class="comment">// timeout length</span>
<a name="l03818"></a><a class="code" href="../../d8/d6/structtagHOTKEY.html#o2">03818</a>          PULONG_PTR lpdwResult;              <span class="comment">// where to put the return value</span>
<a name="l03819"></a><a class="code" href="../../d8/d6/structtagHOTKEY.html#o3">03819</a>      } to;
<a name="l03820"></a><a class="code" href="../../d8/d6/structtagHOTKEY.html#o4">03820</a> } <a class="code" href="../../d8/d8/uniontagBROADCASTMSG.html">BROADCASTMSG</a>, *<a class="code" href="../../d8/d8/uniontagBROADCASTMSG.html">PBROADCASTMSG</a>;
<a name="l03821"></a><a class="code" href="../../d8/d6/structtagHOTKEY.html#o5">03821</a> 
<a name="l03822"></a><a class="code" href="../../d8/d6/structtagHOTKEY.html#o6">03822</a> <span class="comment">/*</span>
03823 <span class="comment"> * Internal hotkey structures and defines.</span>
03824 <span class="comment"> */</span>
<a name="l03825"></a><a class="code" href="../../d4/d1/userk_8h.html#a449">03825</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/d6/structtagHOTKEY.html">tagHOTKEY</a> {
<a name="l03826"></a><a class="code" href="../../d4/d1/userk_8h.html#a450">03826</a>     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti;
<a name="l03827"></a><a class="code" href="../../d4/d1/userk_8h.html#a451">03827</a>     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>    spwnd;
<a name="l03828"></a><a class="code" href="../../d4/d1/userk_8h.html#a452">03828</a>     WORD    fsModifiers; <span class="comment">// MOD_SHIFT, MOD_ALT, MOD_CONTROL, MOD_WIN</span>
<a name="l03829"></a><a class="code" href="../../d4/d1/userk_8h.html#a453">03829</a>     WORD    wFlags;      <span class="comment">// MOD_SAS</span>
<a name="l03830"></a><a class="code" href="../../d4/d1/userk_8h.html#a454">03830</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>    vk;
<a name="l03831"></a><a class="code" href="../../d4/d1/userk_8h.html#a455">03831</a>     <span class="keywordtype">int</span>     <span class="keywordtype">id</span>;
<a name="l03832"></a><a class="code" href="../../d4/d1/userk_8h.html#a456">03832</a>     <span class="keyword">struct </span><a class="code" href="../../d8/d6/structtagHOTKEY.html">tagHOTKEY</a> *phkNext;
<a name="l03833"></a><a class="code" href="../../d4/d1/userk_8h.html#a457">03833</a> } <a class="code" href="../../d8/d6/structtagHOTKEY.html">HOTKEY</a>, *<a class="code" href="../../d8/d6/structtagHOTKEY.html">PHOTKEY</a>;
03834 
<a name="l03835"></a><a class="code" href="../../d4/d1/userk_8h.html#a458">03835</a> <span class="preprocessor">#define PWND_INPUTOWNER (PWND)1    // Means send WM_HOTKEY to input owner.</span>
<a name="l03836"></a><a class="code" href="../../d4/d1/userk_8h.html#a459">03836</a> <span class="preprocessor"></span><span class="preprocessor">#define PWND_FOCUS      (PWND)NULL // Means send WM_HOTKEY to queue's pwndFocus.</span>
<a name="l03837"></a><a class="code" href="../../d4/d1/userk_8h.html#a460">03837</a> <span class="preprocessor"></span><span class="preprocessor">#define PWND_ERROR      (PWND)0x10  // Means HWND validation returned an error</span>
03838 <span class="preprocessor"></span><span class="preprocessor">#define PWND_TOP        (PWND)0</span>
03839 <span class="preprocessor"></span><span class="preprocessor">#define PWND_BOTTOM     (PWND)1</span>
03840 <span class="preprocessor"></span><span class="preprocessor">#define PWND_GROUPTOTOP ((PWND)-1)</span>
03841 <span class="preprocessor"></span><span class="preprocessor">#define PWND_TOPMOST    ((PWND)-1)</span>
<a name="l03842"></a><a class="code" href="../../d4/d1/userk_8h.html#a461">03842</a> <span class="preprocessor"></span><span class="preprocessor">#define PWND_NOTOPMOST  ((PWND)-2)</span>
03843 <span class="preprocessor"></span><span class="preprocessor">#define PWND_BROADCAST  ((PWND)-1)</span>
03844 <span class="preprocessor"></span>
03845 <span class="preprocessor">#define IDHOT_DEBUG         (-5)</span>
03846 <span class="preprocessor"></span><span class="preprocessor">#define IDHOT_DEBUGSERVER   (-6)</span>
<a name="l03847"></a><a class="code" href="../../d4/d1/userk_8h.html#a462">03847</a> <span class="preprocessor"></span><span class="preprocessor">#define IDHOT_WINDOWS       (-7)</span>
<a name="l03848"></a><a class="code" href="../../d4/d1/userk_8h.html#a463">03848</a> <span class="preprocessor"></span>
<a name="l03849"></a><a class="code" href="../../d4/d1/userk_8h.html#a464">03849</a> <span class="comment">/*</span>
<a name="l03850"></a><a class="code" href="../../d4/d1/userk_8h.html#a465">03850</a> <span class="comment"> * xPos, yPos for WM_CONTEXTMENU from keyboard</span>
<a name="l03851"></a><a class="code" href="../../d4/d1/userk_8h.html#a466">03851</a> <span class="comment"> */</span>
<a name="l03852"></a><a class="code" href="../../d4/d1/userk_8h.html#a467">03852</a> <span class="preprocessor">#define KEYBOARD_MENU   ((LPARAM)-1)    // Keyboard generated menu</span>
<a name="l03853"></a><a class="code" href="../../d4/d1/userk_8h.html#a468">03853</a> <span class="preprocessor"></span>
03854 <span class="comment">/*</span>
<a name="l03855"></a><a class="code" href="../../d4/d1/userk_8h.html#a469">03855</a> <span class="comment"> * Capture codes</span>
03856 <span class="comment"> */</span>
03857 <span class="preprocessor">#define NO_CAP_CLIENT           0   </span><span class="comment">/* no capture; in client area */</span>
03858 <span class="preprocessor">#define NO_CAP_SYS              1   </span><span class="comment">/* no capture; in sys area */</span>
03859 <span class="preprocessor">#define CLIENT_CAPTURE          2   </span><span class="comment">/* client-relative capture */</span>
03860 <span class="preprocessor">#define WINDOW_CAPTURE          3   </span><span class="comment">/* window-relative capture */</span>
03861 <span class="preprocessor">#define SCREEN_CAPTURE          4   </span><span class="comment">/* screen-relative capture */</span>
03862 <span class="preprocessor">#define FULLSCREEN_CAPTURE      5   </span><span class="comment">/* capture entire machine */</span>
<a name="l03863"></a><a class="code" href="../../d4/d1/userk_8h.html#a470">03863</a> <span class="preprocessor">#define CLIENT_CAPTURE_INTERNAL 6   </span><span class="comment">/* client-relative capture (Win 3.1 style; won't release) */</span>
03864 
03865 <span class="preprocessor">#define CH_HELPPREFIX   0x08</span>
03866 <span class="preprocessor"></span>
03867 <span class="preprocessor">#ifdef KANJI</span>
03868 <span class="preprocessor"></span><span class="preprocessor">    #define CH_KANJI1       0x1D</span>
03869 <span class="preprocessor"></span><span class="preprocessor">    #define CH_KANJI2       0x1E</span>
03870 <span class="preprocessor"></span><span class="preprocessor">    #define CH_KANJI3       0x1F</span>
<a name="l03871"></a><a class="code" href="../../d4/d1/userk_8h.html#a471">03871</a> <span class="preprocessor"></span><span class="preprocessor">#endif // KANJI</span>
03872 <span class="preprocessor"></span>
03873 <span class="preprocessor">#define xxxRedrawScreen() \</span>
03874 <span class="preprocessor">        xxxInternalInvalidate(PtiCurrent()-&gt;rpdesk-&gt;pDeskInfo-&gt;spwnd, \</span>
03875 <span class="preprocessor">        HRGN_FULL, RDW_INVALIDATE | RDW_ERASE | RDW_FRAME | RDW_ALLCHILDREN)</span>
<a name="l03876"></a><a class="code" href="../../d2/d4/structtagDRAWICONCB.html">03876</a> <span class="preprocessor"></span>
<a name="l03877"></a><a class="code" href="../../d2/d4/structtagDRAWICONCB.html#o0">03877</a> <span class="comment">/*</span>
<a name="l03878"></a><a class="code" href="../../d2/d4/structtagDRAWICONCB.html#o1">03878</a> <span class="comment"> * Preallocated buffer for use during SetWindowPos to prevent memory</span>
<a name="l03879"></a><a class="code" href="../../d2/d4/structtagDRAWICONCB.html#o2">03879</a> <span class="comment"> * allocation failures.</span>
03880 <span class="comment"> */</span>
03881 <span class="preprocessor">#define CCVR_WORKSPACE      4</span>
03882 <span class="preprocessor"></span>
03883 <span class="comment">/*</span>
03884 <span class="comment"> * DrawIconCallBack data, global only for state data in tmswitch.c</span>
<a name="l03885"></a><a class="code" href="../../d4/d1/userk_8h.html#a472">03885</a> <span class="comment"> */</span>
<a name="l03886"></a><a class="code" href="../../d4/d1/userk_8h.html#a473">03886</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d2/d4/structtagDRAWICONCB.html">tagDRAWICONCB</a> {   <span class="comment">/* dicb */</span>
<a name="l03887"></a><a class="code" href="../../d4/d1/userk_8h.html#a474">03887</a>     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>   pwndTop;                     <span class="comment">// Window being drawn</span>
03888     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>   cx;                          <span class="comment">// x offset for icon</span>
03889     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>   cy;                          <span class="comment">// y offset for icon</span>
03890 } <a class="code" href="../../d2/d4/structtagDRAWICONCB.html">DRAWICONCB</a>, *<a class="code" href="../../d2/d4/structtagDRAWICONCB.html">PDRAWICONCB</a>;
03891 
<a name="l03892"></a><a class="code" href="../../d4/d1/userk_8h.html#a475">03892</a> <span class="comment">/*</span>
<a name="l03893"></a><a class="code" href="../../d4/d1/userk_8h.html#a476">03893</a> <span class="comment"> * The following defines the components of nKeyboardSpeed</span>
<a name="l03894"></a><a class="code" href="../../d4/d1/userk_8h.html#a477">03894</a> <span class="comment"> */</span>
<a name="l03895"></a><a class="code" href="../../d4/d1/userk_8h.html#a478">03895</a> <span class="preprocessor">#define KSPEED_MASK     0x001F          // Defines the key repeat speed.</span>
<a name="l03896"></a><a class="code" href="../../d4/d1/userk_8h.html#a479">03896</a> <span class="preprocessor"></span><span class="preprocessor">#define KDELAY_MASK     0x0060          // Defines the keyboard delay.</span>
<a name="l03897"></a><a class="code" href="../../d4/d1/userk_8h.html#a480">03897</a> <span class="preprocessor"></span><span class="preprocessor">#define KDELAY_SHIFT    5</span>
<a name="l03898"></a><a class="code" href="../../d4/d1/userk_8h.html#a481">03898</a> <span class="preprocessor"></span>
03899 <span class="comment">/*</span>
<a name="l03900"></a><a class="code" href="../../d4/d1/userk_8h.html#a482">03900</a> <span class="comment"> * Property list checkpoint int</span>
03901 <span class="comment"> */</span>
03902 <span class="preprocessor">#define PROP_CHECKPOINT     MAKEINTATOM(atomCheckpointProp)</span>
03903 <span class="preprocessor"></span><span class="preprocessor">#define PROP_DDETRACK       MAKEINTATOM(atomDDETrack)</span>
03904 <span class="preprocessor"></span><span class="preprocessor">#define PROP_QOS            MAKEINTATOM(atomQOS)</span>
03905 <span class="preprocessor"></span><span class="preprocessor">#define PROP_DDEIMP         MAKEINTATOM(atomDDEImp)</span>
03906 <span class="preprocessor"></span><span class="preprocessor">#define PROP_WNDOBJ         MAKEINTATOM(atomWndObj)</span>
03907 <span class="preprocessor"></span><span class="preprocessor">#define PROP_IMELEVEL       MAKEINTATOM(atomImeLevel)</span>
03908 <span class="preprocessor"></span><span class="preprocessor">#define PROP_LAYER          MAKEINTATOM(atomLayer)</span>
03909 <span class="preprocessor"></span>
03910 <span class="preprocessor">#define WinFlags    ((WORD)(&amp;__WinFlags))</span>
03911 <span class="preprocessor"></span>
03912 <span class="comment">/*</span>
03913 <span class="comment"> * ntinput.c</span>
03914 <span class="comment"> */</span>
03915 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1022">xxxInternalKeyEventDirect</a>(
03916     BYTE  bVk,
03917     WORD  wScan,
03918     DWORD dwFlags,
03919     DWORD dwTime,
03920     ULONG_PTR dwExtraInfo);
03921 
03922 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> <a class="code" href="../../d4/d1/userk_8h.html#a1023">xxxSendInput</a>(
03923     UINT    nInputs,
03924     LPINPUT pInputs);
03925 
03926 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1024">_BlockInput</a>(
03927     BOOL    fBlockIt);
03928 
03929 <span class="keywordtype">int</span> <a class="code" href="../../d4/d1/userk_8h.html#a1025">_GetMouseMovePointsEx</a>(
03930     CONST MOUSEMOVEPOINT* ppt,
03931     MOUSEMOVEPOINT*       pptBuf,
03932     UINT                  nPoints,
03933     DWORD                 resolution);
03934 
03935 
03936 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1026">xxxProcessKeyEvent</a>(
03937    PKE       pke,
03938    ULONG_PTR ExtraInformation,
03939    BOOL      bInjected);
03940 
03941 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1027">xxxButtonEvent</a>(
03942     DWORD ButtonNumber,
03943     POINT ptPointer,
03944     BOOL  fBreak,
03945     DWORD time,
03946     ULONG_PTR ExtraInfo,
03947     BOOL  bInjected,
03948     BOOL  fDblClk);
03949 
03950 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1028">xxxMoveEvent</a>(
03951     LONG         dx,
03952     LONG         dy,
03953     DWORD        dwFlags,
03954     ULONG_PTR    dwExtraInfo,
<a name="l03955"></a><a class="code" href="../../d4/d1/userk_8h.html#a483">03955</a>     DWORD        time,
<a name="l03956"></a><a class="code" href="../../d4/d1/userk_8h.html#a484">03956</a>     BOOL         bInjected
<a name="l03957"></a><a class="code" href="../../d4/d1/userk_8h.html#a485">03957</a>     );
03958 
03959 <a class="code" href="../../d4/d1/userk_8h.html#a801">PDEVICEINFO</a> <a class="code" href="../../d4/d1/userk_8h.html#a1029">StartDeviceRead</a>(PDEVICEINFO pDeviceInfo);
03960 
03961 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1030">DeviceNotify</a>(
03962     IN PPLUGPLAY_NOTIFY_HDR pNotification,
03963     IN PDEVICEINFO pDeviceInfo);
03964 
03965 <span class="preprocessor">#define MOUSE_SENSITIVITY_MIN     1</span>
03966 <span class="preprocessor"></span><span class="preprocessor">#define MOUSE_SENSITIVITY_DEFAULT 10</span>
03967 <span class="preprocessor"></span><span class="preprocessor">#define MOUSE_SENSITIVITY_MAX     20</span>
03968 <span class="preprocessor"></span>LONG <a class="code" href="../../d4/d1/userk_8h.html#a1031">CalculateMouseSensitivity</a>(LONG lSens);
03969 
03970 <a class="code" href="../../d4/d1/userk_8h.html#a801">PDEVICEINFO</a> <a class="code" href="../../d4/d1/userk_8h.html#a1032">FreeDeviceInfo</a>(PDEVICEINFO pMouseInfo);
03971 
<a name="l03972"></a><a class="code" href="../../d0/d7/structSCANCODEMAP.html">03972</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1033">QueueMouseEvent</a>(
<a name="l03973"></a><a class="code" href="../../d0/d7/structSCANCODEMAP.html#o0">03973</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>       ButtonFlags,
<a name="l03974"></a><a class="code" href="../../d0/d7/structSCANCODEMAP.html#o1">03974</a>     USHORT       ButtonData,
<a name="l03975"></a><a class="code" href="../../d0/d7/structSCANCODEMAP.html#o2">03975</a>     ULONG_PTR    ExtraInfo,
<a name="l03976"></a><a class="code" href="../../d0/d7/structSCANCODEMAP.html#o3">03976</a>     POINT        ptMouse,
03977     LONG         time,
03978     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>         bInjected,
03979     BOOL         bWakeRIT
03980     );
<a name="l03981"></a><a class="code" href="../../d4/d1/userk_8h.html#a486">03981</a> 
03982 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
03983     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwVersion;
<a name="l03984"></a><a class="code" href="../../d4/d1/userk_8h.html#a487">03984</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a>;
03985     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwMapCount;
03986     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwMap[0];
03987 } <a class="code" href="../../d0/d7/structSCANCODEMAP.html">SCANCODEMAP</a>, *<a class="code" href="../../d4/d1/userk_8h.html#a906">PSCANCODEMAP</a>;
03988 
03989 
03990 <span class="preprocessor">#ifndef SCANCODE_NUMPAD_PLUS</span>
03991 <span class="preprocessor"></span><span class="preprocessor">#define SCANCODE_NUMPAD_PLUS    (0x4e)</span>
03992 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l03993"></a><a class="code" href="../../d4/d1/userk_8h.html#a488">03993</a> <span class="preprocessor"></span><span class="preprocessor">#ifndef SCANCODE_NUMPAD_DOT</span>
<a name="l03994"></a><a class="code" href="../../d4/d1/userk_8h.html#a489">03994</a> <span class="preprocessor"></span><span class="preprocessor">#define SCANCODE_NUMPAD_DOT     (0x53)</span>
03995 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l03996"></a><a class="code" href="../../d4/d1/userk_8h.html#a490">03996</a> <span class="preprocessor"></span>
03997 <span class="comment">/*</span>
03998 <span class="comment"> * Flag (LowLevel and HighLevel) for</span>
03999 <span class="comment"> * hex Alt+Numpad mode.</span>
04000 <span class="comment"> * If you need to add a new flag for gfInNumpadHexInput,</span>
04001 <span class="comment"> * note the variable is BYTE.</span>
04002 <span class="comment"> */</span>
04003 <span class="preprocessor">#define NUMPAD_HEXMODE_LL       (1)</span>
04004 <span class="preprocessor"></span><span class="preprocessor">#define NUMPAD_HEXMODE_HL       (2)</span>
04005 <span class="preprocessor"></span>
04006 <span class="preprocessor">#define MODIFIER_FOR_ALT_NUMPAD(wModBit) \</span>
04007 <span class="preprocessor">    (((wModBits) == KBDALT) || ((wModBits) == (KBDALT | KBDSHIFT)) || \</span>
04008 <span class="preprocessor">     ((wModBits) == (KBDKANA | KBDALT)) || ((wModBits) == (KBDKANA | KBDALT | KBDSHIFT)))</span>
04009 <span class="preprocessor"></span>
<a name="l04010"></a><a class="code" href="../../d4/d1/userk_8h.html#a907">04010</a> 
04011 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1034">UnqueueMouseEvent</a>(PMOUSEEVENT pme);
04012 
04013 <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>    <a class="code" href="../../d3/d1/xlate_8c.html#a3">VKFromVSC</a>(PKE pke, BYTE bPrefix, LPBYTE afKeyState);
04014 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d3/d1/xlate_8c.html#a8">KEOEMProcs</a>(PKE pke);
04015 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d3/d1/xlate_8c.html#a9">xxxKELocaleProcs</a>(PKE pke);
<a name="l04016"></a><a class="code" href="../../d4/d1/userk_8h.html#a491">04016</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1038">xxxKENLSProcs</a>(PKE pke, ULONG_PTR dwExtraInformation);
<a name="l04017"></a><a class="code" href="../../d4/d1/userk_8h.html#a492">04017</a> 
04018 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1039">xxxKeyEvent</a>(USHORT usVk, WORD wScanCode, DWORD time, ULONG_PTR ExtraInfo, BOOL bInjected);
04019 
04020 <span class="keyword">typedef</span> BITMAPINFOHEADER *<a class="code" href="../../d4/d1/userk_8h.html#a907">PBMPHEADER</a>, *<a class="code" href="../../d4/d1/userk_8h.html#a908">LPBMPHEADER</a>;
04021 
04022 <span class="comment">/*</span>
04023 <span class="comment"> * Defines for WinOldAppHackoMatic flags which win386 oldapp can send to us.</span>
04024 <span class="comment"> * These are kept in user's global variable winOldAppHackoMaticFlags</span>
04025 <span class="comment"> */</span>
04026 <span class="preprocessor">#define WOAHACK_CHECKALTKEYSTATE 1</span>
04027 <span class="preprocessor"></span><span class="preprocessor">#define WOAHACK_IGNOREALTKEYDOWN 2</span>
04028 <span class="preprocessor"></span>
04029 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1040">xxxSimpleDoSyncPaint</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
04030 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1041">xxxDoSyncPaint</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, DWORD flags);
<a name="l04031"></a><a class="code" href="../../d4/d1/userk_8h.html#a493">04031</a> <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1042">xxxInternalDoSyncPaint</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, DWORD flags);
<a name="l04032"></a><a class="code" href="../../d4/d1/userk_8h.html#a494">04032</a> 
<a name="l04033"></a><a class="code" href="../../d4/d1/userk_8h.html#a495">04033</a> <span class="comment">/*</span>
<a name="l04034"></a><a class="code" href="../../d4/d1/userk_8h.html#a496">04034</a> <span class="comment"> * NOTE: the first 4 values must be as defined for backward compatibility</span>
<a name="l04035"></a><a class="code" href="../../d4/d1/userk_8h.html#a497">04035</a> <span class="comment"> * reasons.  They are sent as parameters to the WM_SYNCPAINT message.</span>
<a name="l04036"></a><a class="code" href="../../d4/d1/userk_8h.html#a498">04036</a> <span class="comment"> * They used to be hard-coded constants.</span>
04037 <span class="comment"> *</span>
04038 <span class="comment"> * Only ENUMCLIPPEDCHILDREN, ALLCHILDREN, and NOCHECKPARENTS are passed on</span>
04039 <span class="comment"> * during recursion.  The other bits reflect the current window only.</span>
04040 <span class="comment"> */</span>
04041 <span class="preprocessor">#define DSP_ERASE               0x0001  // Send WM_ERASEBKGND</span>
04042 <span class="preprocessor"></span><span class="preprocessor">#define DSP_FRAME               0x0002  // Send WM_NCPAINT</span>
04043 <span class="preprocessor"></span><span class="preprocessor">#define DSP_ENUMCLIPPEDCHILDREN 0x0004  // Enum children if WS_CLIPCHILDREN</span>
<a name="l04044"></a><a class="code" href="../../d4/d8/structtagTIMER.html">04044</a> <span class="preprocessor"></span><span class="preprocessor">#define DSP_WM_SYNCPAINT        0x0008  // Called from WM_SYNCPAINT handler</span>
<a name="l04045"></a><a class="code" href="../../d4/d8/structtagTIMER.html#o0">04045</a> <span class="preprocessor"></span><span class="preprocessor">#define DSP_NOCHECKPARENTS      0x0010  // Don't check parents for update region</span>
<a name="l04046"></a><a class="code" href="../../d4/d8/structtagTIMER.html#o1">04046</a> <span class="preprocessor"></span><span class="preprocessor">#define DSP_ALLCHILDREN         0x0020  // Enumerate all children.</span>
<a name="l04047"></a><a class="code" href="../../d4/d8/structtagTIMER.html#o2">04047</a> <span class="preprocessor"></span>
<a name="l04048"></a><a class="code" href="../../d4/d8/structtagTIMER.html#o3">04048</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1043">xxxDrawAnimatedRects</a>(
<a name="l04049"></a><a class="code" href="../../d4/d8/structtagTIMER.html#o4">04049</a>     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndClip,
<a name="l04050"></a><a class="code" href="../../d4/d8/structtagTIMER.html#o5">04050</a>     <span class="keywordtype">int</span> idAnimation,
<a name="l04051"></a><a class="code" href="../../d4/d8/structtagTIMER.html#o6">04051</a>     LPRECT lprcStart,
<a name="l04052"></a><a class="code" href="../../d4/d8/structtagTIMER.html#o7">04052</a>     LPRECT lprcEnd);
<a name="l04053"></a><a class="code" href="../../d4/d8/structtagTIMER.html#o8">04053</a> 
<a name="l04054"></a><a class="code" href="../../d4/d8/structtagTIMER.html#o9">04054</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d4/d8/structtagTIMER.html">tagTIMER</a> {           <span class="comment">// tmr</span>
<a name="l04055"></a><a class="code" href="../../d4/d8/structtagTIMER.html#o10">04055</a>     <a class="code" href="../../d4/d5/struct__HEAD.html">HEAD</a>            <a class="code" href="../../d4/d8/structtagTIMER.html#o0">head</a>;
04056     <span class="keyword">struct </span><a class="code" href="../../d4/d8/structtagTIMER.html">tagTIMER</a> *<a class="code" href="../../d4/d8/structtagTIMER.html#o1">ptmrNext</a>;
04057     <span class="keyword">struct </span><a class="code" href="../../d4/d8/structtagTIMER.html">tagTIMER</a> *<a class="code" href="../../d4/d8/structtagTIMER.html#o2">ptmrPrev</a>;
04058     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a>     <a class="code" href="../../d4/d8/structtagTIMER.html#o3">pti</a>;
04059     <span class="keyword">struct </span><a class="code" href="../../d6/d9/structtagWND.html">tagWND</a> * <a class="code" href="../../d4/d8/structtagTIMER.html#o4">spwnd</a>;
04060     UINT_PTR        <a class="code" href="../../d4/d8/structtagTIMER.html#o5">nID</a>;
04061     <a class="code" href="../../d9/d5/ndismain_8h.html#a263">INT</a>             <a class="code" href="../../d4/d8/structtagTIMER.html#o6">cmsCountdown</a>;
04062     <a class="code" href="../../d9/d5/ndismain_8h.html#a263">INT</a>             <a class="code" href="../../d4/d8/structtagTIMER.html#o7">cmsRate</a>;
04063     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>            <a class="code" href="../../d4/d8/structtagTIMER.html#o8">flags</a>;
04064     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a991">TIMERPROC_PWND</a>  <a class="code" href="../../d4/d8/structtagTIMER.html#o9">pfn</a>;
04065     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a>     <a class="code" href="../../d4/d8/structtagTIMER.html#o10">ptiOptCreator</a>;     <span class="comment">// used for journal playback</span>
04066                                        <span class="comment">// will be NULL if timer was created by non-GUI thread</span>
04067 } <a class="code" href="../../d4/d8/structtagTIMER.html">TIMER</a>, *<a class="code" href="../../d4/d8/structtagTIMER.html">PTIMER</a>;
<a name="l04068"></a><a class="code" href="../../d4/d1/userk_8h.html#a499">04068</a> 
04069 UINT_PTR <a class="code" href="../../d4/d1/userk_8h.html#a1044">InternalSetTimer</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT_PTR nIDEvent, UINT dwElapse,
04070         TIMERPROC_PWND pTimerFunc, UINT flags);
04071 
04072 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1045">FreeTimer</a>(PTIMER ptmr);
<a name="l04073"></a><a class="code" href="../../d4/d1/userk_8h.html#a500">04073</a> 
04074 <span class="comment">/*</span>
04075 <span class="comment"> * Call FindTimer() with fKill == TRUE and TMRF_RIT.  This will basically</span>
04076 <span class="comment"> * delete the timer.</span>
04077 <span class="comment"> */</span>
<a name="l04078"></a><a class="code" href="../../d4/d1/userk_8h.html#a911">04078</a> <span class="preprocessor">#define KILLRITTIMER(pwnd, nID) FindTimer(pwnd, nID, TMRF_RIT, TRUE)</span>
04079 <span class="preprocessor"></span>
04080 <span class="comment">/*</span>
<a name="l04081"></a><a class="code" href="../../d4/d1/userk_8h.html#a501">04081</a> <span class="comment"> * Raster Ops</span>
04082 <span class="comment"> */</span>
04083 <span class="preprocessor">#define DPO           0x00FA0089  </span><span class="comment">/* destination, pattern, or */</span>
04084 
04085 <span class="comment">/*</span>
04086 <span class="comment"> * Message thunks.</span>
04087 <span class="comment"> */</span>
04088 <span class="keyword">typedef</span> LRESULT (APIENTRY *<a class="code" href="../../d4/d1/userk_8h.html#a911">SFNSCSENDMESSAGE</a>)(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>, <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>, WPARAM, LPARAM,
04089         ULONG_PTR, PROC, <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="code" href="../../d4/d1/userk_8h.html#a871">PSMS</a>);
04090 
04091 <span class="preprocessor">#define SMESSAGEPROTO(func) \</span>
04092 <span class="preprocessor">     LRESULT CALLBACK Sfn ## func(                              \</span>
04093 <span class="preprocessor">        PWND pwnd, UINT msg, WPARAM wParam, LPARAM lParam,      \</span>
04094 <span class="preprocessor">        ULONG_PTR xParam, PROC xpfnWndProc, DWORD dwSCMSFlags, PSMS psms)</span>
04095 <span class="preprocessor"></span>
04096 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(SENTDDEMSG);
04097 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(DDEINIT);
04098 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(DWORD);
04099 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INWPARAMCHAR);
04100 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INWPARAMDBCSCHAR);
04101 
04102 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(GETTEXTLENGTHS);
04103 
04104 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(GETDBCSTEXTLENGTHS);
04105 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INLPCREATESTRUCT);
04106 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INLPDROPSTRUCT);
04107 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INOUTLPPOINT5);
04108 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INOUTLPSCROLLINFO);
04109 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INOUTLPRECT);
04110 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INOUTNCCALCSIZE);
04111 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(OUTLPRECT);
04112 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INLPMDICREATESTRUCT);
04113 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INLPCOMPAREITEMSTRUCT);
04114 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INLPDELETEITEMSTRUCT);
04115 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INLPHLPSTRUCT);
04116 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INLPHELPINFOSTRUCT);      <span class="comment">// WINHELP4</span>
04117 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INLPDRAWITEMSTRUCT);
04118 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INOUTLPMEASUREITEMSTRUCT);
04119 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INSTRING);
04120 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INPOSTEDSTRING);
04121 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INSTRINGNULL);
04122 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(OUTSTRING);
04123 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INCNTOUTSTRING);
04124 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(POUTLPINT);
04125 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(POPTINLPUINT);
04126 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INOUTLPWINDOWPOS);
04127 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INLPWINDOWPOS);
04128 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INLBOXSTRING);
04129 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(OUTLBOXSTRING);
04130 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INCBOXSTRING);
04131 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(OUTCBOXSTRING);
04132 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INCNTOUTSTRINGNULL);
04133 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INOUTDRAG);
04134 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(FULLSCREEN);
04135 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INPAINTCLIPBRD);
04136 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INSIZECLIPBRD);
04137 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(OUTDWORDDWORD);
04138 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(OUTDWORDINDWORD);
04139 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(OPTOUTLPDWORDOPTOUTLPDWORD);
04140 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(DWORDOPTINLPMSG);
04141 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(COPYGLOBALDATA);
04142 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(COPYDATA);
04143 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INDESTROYCLIPBRD);
04144 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INOUTNEXTMENU);
04145 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INOUTSTYLECHANGE);
04146 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(IMAGEIN);
04147 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(IMAGEOUT);
04148 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INDEVICECHANGE);
04149 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INOUTMENUGETOBJECT);
04150 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(POWERBROADCAST);
04151 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(LOGONNOTIFY);
04152 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(IMECONTROL);
04153 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(IMEREQUEST);
04154 <a class="code" href="../../d4/d1/userk_8h.html#a501">SMESSAGEPROTO</a>(INLPKDRAWSWITCHWND);
04155 
04156 <span class="comment">/***************************************************************************\</span>
04157 <span class="comment">* Function Prototypes</span>
04158 <span class="comment">*</span>
04159 <span class="comment">* NOTE: Only prototypes for GLOBAL (across module) functions should be put</span>
04160 <span class="comment">* here.  Prototypes for functions that are global to a single module should</span>
04161 <span class="comment">* be put at the head of that module.</span>
04162 <span class="comment">*</span>
04163 <span class="comment">* LATER: There's still lots of bogus trash in here to be cleaned out.</span>
04164 <span class="comment">*</span>
04165 <span class="comment">\***************************************************************************/</span>
04166 
04167 <span class="comment">/*</span>
04168 <span class="comment"> * Random prototypes.</span>
04169 <span class="comment"> */</span>
04170 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d4/d1/userk_8h.html#a1100">_GetWindowContextHelpId</a>(
04171     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
04172 
04173 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1101">_SetWindowContextHelpId</a>(
04174     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd,
04175     DWORD dwContextId);
04176 
04177 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1102">xxxSendHelpMessage</a>(
04178     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>   pwnd,
04179     <span class="keywordtype">int</span>    iType,
04180     <span class="keywordtype">int</span>    iCtrlId,
04181     HANDLE hItemHandle,
04182     DWORD  dwContextId);
04183 
04184 HPALETTE <a class="code" href="../../d4/d1/userk_8h.html#a1103">_SelectPalette</a>(
04185     HDC hdc,
04186     HPALETTE hpalette,
04187     BOOL fForceBackground);
04188 
04189 <span class="keywordtype">int</span> <a class="code" href="../../d4/d1/userk_8h.html#a1104">xxxRealizePalette</a>(
04190     HDC hdc);
04191 
04192 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1105">xxxFlushPalette</a>(
04193     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
04194 
04195 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1106">xxxBroadcastPaletteChanged</a>(
04196     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd,
04197     BOOL fForceDesktop);
04198 
04199 <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> <a class="code" href="../../d4/d1/userk_8h.html#a1107">SearchIconCache</a>(
04200     <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a>         pCursorCache,
04201     ATOM            atomModName,
04202     PUNICODE_STRING pstrResName,
04203     <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a>         pCursorSrc,
04204     <a class="code" href="../../d9/d1/structtagCURSORFIND.html">PCURSORFIND</a>     pcfSearch);
04205 
04206 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1108">ZombieCursor</a>(<a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> pcur);
04207 
04208 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1109">IsSmallerThanScreen</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
04209 
04210 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1110">zzzSetSystemCursor</a>(
04211     <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> pcur,
04212     DWORD   <span class="keywordtype">id</span>);
04213 
04214 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1111">zzzSetSystemImage</a>(
04215     <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> pcur,
04216     <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> pcurOld);
04217 
04218 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1112">_InternalGetIconInfo</a>(
04219     IN  <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a>                  pcur,
04220     OUT PICONINFO                piconinfo,
04221     OUT OPTIONAL PUNICODE_STRING pstrModName,
04222     OUT OPTIONAL PUNICODE_STRING pstrResName,
04223     OUT OPTIONAL LPDWORD         pbpp,
04224     IN  BOOL                     fInternalCursor);
04225 
04226 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1113">LinkCursor</a>(
04227     <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> pcur);
04228 
04229 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1114">_SetCursorIconData</a>(
04230     <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a>         pcur,
04231     PUNICODE_STRING pstrModName,
04232     PUNICODE_STRING pstrResName,
04233     <a class="code" href="../../d8/d1/structtagCURSORDATA.html">PCURSORDATA</a>     pData,
04234     DWORD           cbData);
04235 
04236 <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> <a class="code" href="../../d4/d1/userk_8h.html#a1115">_GetCursorFrameInfo</a>(
04237     <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> pcur,
04238     <span class="keywordtype">int</span>     iFrame,
04239     PJIF    pjifRate,
04240     LPINT   pccur);
04241 
04242 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1110">zzzSetSystemCursor</a>(
04243     <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> pcur,
04244     DWORD <span class="keywordtype">id</span>);
04245 
04246 <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> <a class="code" href="../../d4/d1/userk_8h.html#a1116">_FindExistingCursorIcon</a>(
04247     ATOM            atomModName,
04248     PUNICODE_STRING pstrResName,
04249     <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a>         pcurSrc,
04250     <a class="code" href="../../d9/d1/structtagCURSORFIND.html">PCURSORFIND</a>     pcfSearch);
04251 
04252 HCURSOR <a class="code" href="../../d4/d1/userk_8h.html#a1117">_CreateEmptyCursorObject</a>(
04253     BOOL fPublic);
04254 
04255 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1118">_GetUserObjectInformation</a>(HANDLE h,
04256     <span class="keywordtype">int</span> nIndex, PVOID pvInfo, DWORD nLength, LPDWORD lpnLengthNeeded);
04257 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1119">_SetUserObjectInformation</a>(HANDLE h,
04258     <span class="keywordtype">int</span> nIndex, PVOID pvInfo, DWORD nLength);
04259 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d4/d1/userk_8h.html#a1120">xxxWaitForInputIdle</a>(ULONG_PTR idProcess, DWORD dwMilliseconds,
04260         BOOL fSharedWow);
04261 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1121">StartScreenSaver</a>(BOOL bOnlyIfSecure);
04262 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> <a class="code" href="../../d3/d1/xlate_8c.html#a4">InternalMapVirtualKeyEx</a>(UINT wCode, UINT wType, PKBDTABLES pKbdTbl);
04263 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a13">SHORT</a> <a class="code" href="../../d4/d1/userk_8h.html#a1123">InternalVkKeyScanEx</a>(WCHAR cChar, PKBDTABLES pKbdTbl);
04264 
04265 
04266 
04267 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d4/d1/userk_8h.html#a1124">ParentNeedsPaint</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
04268 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1125">SetHungFlag</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, WORD wFlag);
04269 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1126">ClearHungFlag</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, WORD wFlag);
04270 
04271 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1127">_DdeSetQualityOfService</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndClient,
04272         CONST PSECURITY_QUALITY_OF_SERVICE pqosNew,
04273         PSECURITY_QUALITY_OF_SERVICE pqosOld);
04274 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1128">_DdeGetQualityOfService</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndClient,
04275         <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndServer, PSECURITY_QUALITY_OF_SERVICE pqos);
04276 
04277 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1129">QueryTrackMouseEvent</a>(LPTRACKMOUSEEVENT lpTME);
04278 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1130">CancelMouseHover</a>(<a class="code" href="../../d7/d4/structtagQ.html">PQ</a> pq);
04279 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1131">ResetMouseTracking</a>(<a class="code" href="../../d7/d4/structtagQ.html">PQ</a> pq, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
04280 
04281 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1132">_SetIMEShowStatus</a>(BOOL fShow);
04282 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1133">_GetIMEShowStatus</a>(VOID);
04283 
04284 <span class="comment">/*</span>
04285 <span class="comment"> * Prototypes for internal version of APIs.</span>
04286 <span class="comment"> */</span>
04287 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d9/d7/kernel_2winmgr_8c.html#a7">_FindWindowEx</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndParent, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndChild,
04288                               LPCWSTR pszClass, LPCWSTR pszName, DWORD dwType);
04289 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> <a class="code" href="../../d1/d1/bench_8c.html#a0">APIENTRY</a> <a class="code" href="../../d4/d1/userk_8h.html#a1135">GreSetTextAlign</a>(HDC, UINT);
04290 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> <a class="code" href="../../d1/d1/bench_8c.html#a0">APIENTRY</a> <a class="code" href="../../d4/d1/userk_8h.html#a1136">GreGetTextAlign</a>(HDC);
04291 
04292 <span class="comment">/*</span>
04293 <span class="comment"> * Prototypes for validation, RIP, error handling, etc functions.</span>
04294 <span class="comment"> */</span>
04295 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a0">FASTCALL</a>   <a class="code" href="../../d4/d0/immcli_8h.html#a4">ValidateHwnd</a>(HWND hwnd);
04296 
04297 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d7/d3/validate_8c.html#a6">ValidateHwinsta</a>(HWINSTA, KPROCESSOR_MODE, ACCESS_MASK, <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a>*);
04298 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d7/d3/validate_8c.html#a7">ValidateHdesk</a>(HDESK, KPROCESSOR_MODE, ACCESS_MASK, <a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a>*);
04299 
04300 <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a>           <a class="code" href="../../d7/d3/validate_8c.html#a9">ValidateHmenu</a>(HMENU hmenu);
04301 <a class="code" href="../../d0/d2/structtagMONITOR.html">PMONITOR</a>        <a class="code" href="../../d7/d3/validate_8c.html#a10">ValidateHmonitor</a>(HMONITOR hmonitor);
04302 HRGN            <a class="code" href="../../d7/d3/validate_8c.html#a8">UserValidateCopyRgn</a>(HRGN);
04303 
04304 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d7/d3/validate_8c.html#a12">ValidateHandleSecure</a>(HANDLE h);
04305 
04306 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1144">UserJobCallout</a>(<a class="code" href="../../d4/d8/struct__WIN32__JOBCALLOUT__PARAMETERS.html">PKWIN32_JOBCALLOUT_PARAMETERS</a> Parm);
04307 
04308 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1145">RemoveProcessFromJob</a>(<a class="code" href="../../d7/d3/structtagPROCESSINFO.html">PPROCESSINFO</a> ppi);
04309 
04310 
04311 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1146">xxxActivateDebugger</a>(UINT fsModifiers);
04312 
04313 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1147">ClientDied</a>(<span class="keywordtype">void</span>);
04314 
04315 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1148">SendMsgCleanup</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> ptiCurrent);
<a name="l04316"></a><a class="code" href="../../d4/d1/userk_8h.html#a502">04316</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1149">ReceiverDied</a>(PSMS psms, PSMS *ppsmsUnlink);
04317 LRESULT <a class="code" href="../../d4/d1/userk_8h.html#a1150">xxxInterSendMsgEx</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>, UINT, WPARAM, LPARAM, <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a>, <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a>, PINTRSENDMSGEX );
04318 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1151">ClearSendMessages</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
04319 <a class="code" href="../../d7/d0/structtagCLS.html">PPCLS</a>   <a class="code" href="../../d4/d1/userk_8h.html#a1152">GetClassPtr</a>(ATOM atom, <a class="code" href="../../d7/d3/structtagPROCESSINFO.html">PPROCESSINFO</a> ppi, HANDLE hModule);
04320 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1153">ReferenceClass</a>(<a class="code" href="../../d7/d0/structtagCLS.html">PCLS</a> pcls, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
04321 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1154">DereferenceClass</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
<a name="l04322"></a><a class="code" href="../../d4/d1/userk_8h.html#a503">04322</a> ULONG_PTR <a class="code" href="../../d4/d1/userk_8h.html#a1155">MapClientToServerPfn</a>(ULONG_PTR dw);
<a name="l04323"></a><a class="code" href="../../d4/d1/userk_8h.html#a504">04323</a> 
04324 
04325 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1156">xxxReceiveMessage</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a>);
04326 <span class="preprocessor">#define xxxReceiveMessages(pti) \</span>
04327 <span class="preprocessor">    while ((pti)-&gt;pcti-&gt;fsWakeBits &amp; QS_SENDMESSAGE) { xxxReceiveMessage((pti)); }</span>
04328 <span class="preprocessor"></span>
04329 <a class="code" href="../../d4/d1/userk_8h.html#a883">PBWL</a>     <a class="code" href="../../d4/d1/userk_8h.html#a1157">BuildHwndList</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT flags, <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> ptiOwner);
04330 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>     <a class="code" href="../../d4/d1/userk_8h.html#a1158">FreeHwndList</a>(PBWL pbwl);
04331 
04332 <span class="preprocessor">#define  MINMAX_KEEPHIDDEN 0x1</span>
04333 <span class="preprocessor"></span><span class="preprocessor">#define  MINMAX_ANIMATE    0x10000</span>
04334 <span class="preprocessor"></span>
04335 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>     <a class="code" href="../../d4/d1/userk_8h.html#a1159">xxxMinMaximize</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT cmd, DWORD dwFlags);
04336 <span class="keywordtype">void</span>     <a class="code" href="../../d4/d1/userk_8h.html#a1160">xxxMinimizeHungWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
04337 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>     <a class="code" href="../../d4/d1/userk_8h.html#a1161">xxxInitSendValidateMinMaxInfo</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, LPMINMAXINFO lpmmi);
04338 HRGN     <a class="code" href="../../d4/d1/userk_8h.html#a1162">CreateEmptyRgn</a>(<span class="keywordtype">void</span>);
04339 HRGN     <a class="code" href="../../d4/d1/userk_8h.html#a1163">CreateEmptyRgnPublic</a>(<span class="keywordtype">void</span>);
04340 HRGN     <a class="code" href="../../d3/d6/visrgn_8c.html#a13">SetOrCreateRectRgnIndirectPublic</a>(HRGN * phrgn, LPCRECT lprc);
04341 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>     <a class="code" href="../../d3/d6/visrgn_8c.html#a12">SetEmptyRgn</a>(HRGN hrgn);
04342 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>     <a class="code" href="../../d3/d6/visrgn_8c.html#a9">SetRectRgnIndirect</a>(HRGN hrgn, LPCRECT lprc);
04343 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d5/d9/w32_2ntuser_2kernel_2pnp_8c.html#a20">xxxRegisterForDeviceClassNotifications</a>();
04344 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>     <a class="code" href="../../d4/d1/userk_8h.html#a1168">xxxInitInput</a>(PTERMINAL);
04345 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>     <a class="code" href="../../d6/d8/ntinput_8c.html#a38">InitMice</a>();
04346 <span class="keywordtype">void</span>     <a class="code" href="../../d6/d8/ntinput_8c.html#a40">UpdateMouseInfo</a>(<span class="keywordtype">void</span>);
04347 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>     <a class="code" href="../../d4/d1/userk_8h.html#a1171">OpenMouse</a>(PDEVICEINFO pMouseInfo);
04348 <span class="keywordtype">void</span>     <a class="code" href="../../d4/d1/userk_8h.html#a1172">ProcessDeviceChanges</a>(DWORD DeviceType);
04349 <a class="code" href="../../d4/d1/userk_8h.html#a801">PDEVICEINFO</a> <a class="code" href="../../d4/d1/userk_8h.html#a1173">CreateDeviceInfo</a>(DWORD DeviceType, PUNICODE_STRING SymbolicLinkName, BYTE bFlags);
04350 <span class="keywordtype">void</span>     <a class="code" href="../../d4/d1/userk_8h.html#a1174">InitKeyboard</a>(<span class="keywordtype">void</span>);
04351 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>     <a class="code" href="../../d4/d1/userk_8h.html#a1175">xxxHardErrorControl</a>(DWORD, HANDLE, PDESKRESTOREDATA);
04352 
04353 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>     <a class="code" href="../../d4/d1/userk_8h.html#a1176">SetKeyboardRate</a>(UINT nKeySpeed);
04354 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>     <a class="code" href="../../d4/d1/userk_8h.html#a1177">RecolorDeskPattern</a>();
04355 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>     <a class="code" href="../../d4/d1/userk_8h.html#a1178">xxxInitWindowStation</a>(<a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a>);
04356 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>     <a class="code" href="../../d4/d1/userk_8h.html#a1179">zzzInternalSetCursorPos</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y);
04357 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>     <a class="code" href="../../d4/d1/userk_8h.html#a1180">UpdateKeyLights</a>(BOOL bInjected);
04358 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>     <a class="code" href="../../d3/d2/hotkeys_8c.html#a0">SetDebugHotKeys</a>();
04359 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>     <a class="code" href="../../d4/d1/userk_8h.html#a1182">BoundCursor</a>(LPPOINT lppt);
04360 
04361 <span class="keywordtype">void</span>     <a class="code" href="../../d4/d1/userk_8h.html#a1183">DestroyKF</a>(PKBDFILE pkf);
04362 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>     <a class="code" href="../../d4/d1/userk_8h.html#a1184">DestroyKL</a>(PKL pkl);
04363 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>     <a class="code" href="../../d4/d1/userk_8h.html#a1185">xxxSetDeskPattern</a>(PUNICODE_STRING pProfileUserName,LPWSTR lpPat, BOOL fCreation);
04364 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>     <a class="code" href="../../d4/d1/userk_8h.html#a1186">xxxSetDeskWallpaper</a>(PUNICODE_STRING pProfileUserName,LPWSTR lpszFile);
04365 HPALETTE <a class="code" href="../../d4/d1/userk_8h.html#a1187">CreateDIBPalette</a>(LPBITMAPINFOHEADER pbmih, UINT colors);
04366 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>     <a class="code" href="../../d3/d6/visrgn_8c.html#a17">CalcVisRgn</a>(HRGN* hrgn, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndOrg, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndClip, DWORD flags);
04367 
04368 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1189">xxxCreateThreadInfo</a>(<a class="code" href="../../d5/d6/struct__ETHREAD.html">PETHREAD</a>, BOOL);
04369 
04370 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>     <a class="code" href="../../d4/d1/userk_8h.html#a1190">DestroyProcessInfo</a>(PW32PROCESS);
04371 
04372 <span class="preprocessor">#if DBG</span>
04373 <span class="preprocessor"></span>PWCHAR GetDesktopName(<a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a> pdesk);
04374 <span class="preprocessor">#endif // DBG</span>
04375 <span class="preprocessor"></span>
04376 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>     <a class="code" href="../../d4/d1/userk_8h.html#a1191">xxxDesktopThread</a>(PTERMINAL pTerm);
04377 
04378 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>     <a class="code" href="../../d4/d1/userk_8h.html#a1192">ForceEmptyClipboard</a>(<a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a>);
04379 
04380 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1193">zzzInitTask</a>(UINT dwExpWinVer, DWORD dwAppCompatFlags,
04381                 PUNICODE_STRING pstrModName, PUNICODE_STRING pstrBaseFileName,
04382                 DWORD hTaskWow, DWORD dwHotkey, DWORD idTask,
04383                 DWORD dwX, DWORD dwY, DWORD dwXSize, DWORD dwYSize);
04384 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1194">DestroyTask</a>(<a class="code" href="../../d7/d3/structtagPROCESSINFO.html">PPROCESSINFO</a> ppi, <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> ptiToRemove);
04385 <span class="keywordtype">void</span>    <a class="code" href="../../d4/d1/userk_8h.html#a1195">PostInputMessage</a>(<a class="code" href="../../d7/d4/structtagQ.html">PQ</a> pq, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT message, WPARAM wParam,
04386                 LPARAM lParam, DWORD time, ULONG_PTR dwExtraInfo);
04387 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>    <a class="code" href="../../d6/d8/ntinput_8c.html#a59">PwndForegroundCapture</a>(VOID);
04388 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1196">xxxSleepThread</a>(UINT fsWakeMask, DWORD Timeout, BOOL fForegroundIdle);
04389 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1197">SetWakeBit</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti, UINT wWakeBit);
04390 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1198">WakeSomeone</a>(<a class="code" href="../../d7/d4/structtagQ.html">PQ</a> pq, UINT message, <a class="code" href="../../d8/d4/structtagQMSG.html">PQMSG</a> pqmsg);
04391 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1199">ClearWakeBit</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti, UINT wWakeBit, BOOL fSysCheck);
04392 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1200">xxxInitProcessInfo</a>(PW32PROCESS);
04393 
04394 <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> <a class="code" href="../../d4/d1/userk_8h.html#a1201">PtiFromThreadId</a>(DWORD idThread);
04395 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1202">zzzAttachThreadInput</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> ptiAttach, <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> ptiAttachTo, BOOL fAttach);
04396 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1203">zzzReattachThreads</a>(BOOL fJournalAttach);
<a name="l04397"></a><a class="code" href="../../d4/d1/userk_8h.html#a1211">04397</a> <a class="code" href="../../d7/d4/structtagQ.html">PQ</a>      <a class="code" href="../../d4/d1/userk_8h.html#a1204">AllocQueue</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a>, <a class="code" href="../../d7/d4/structtagQ.html">PQ</a>);
04398 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1205">FreeQueue</a>(<a class="code" href="../../d7/d4/structtagQ.html">PQ</a> pq);
04399 
04400 
04401 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1206">FreeCachedQueues</a>(VOID);
04402 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1207">CleanupGDI</a>(VOID);
04403 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1208">CleanupResources</a>(VOID);
04404 
04405 <span class="keywordtype">void</span>    <a class="code" href="../../d4/d1/userk_8h.html#a1209">zzzDestroyQueue</a>(<a class="code" href="../../d7/d4/structtagQ.html">PQ</a> pq, <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti);
04406 <a class="code" href="../../d8/d4/structtagQMSG.html">PQMSG</a>   <a class="code" href="../../d4/d1/userk_8h.html#a1210">AllocQEntry</a>(PMLIST pml);
04407 __inline <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1211">FreeQEntry</a>(<a class="code" href="../../d8/d4/structtagQMSG.html">PQMSG</a> pqmsg)
04408 {
04409     <span class="keyword">extern</span> <a class="code" href="../../d1/d8/struct__PAGED__LOOKASIDE__LIST.html">PPAGED_LOOKASIDE_LIST</a> <a class="code" href="../../d7/d1/w32_2ntuser_2kernel_2init_8c.html#a20">QEntryLookaside</a>;
04410     <a class="code" href="../../d5/d8/ex_8h.html#a253">ExFreeToPagedLookasideList</a>(QEntryLookaside, pqmsg);
04411 }
04412 
04413 <span class="keywordtype">void</span>    <a class="code" href="../../d4/d1/userk_8h.html#a1212">DelQEntry</a>(PMLIST pml, <a class="code" href="../../d8/d4/structtagQMSG.html">PQMSG</a> pqmsg);
04414 <span class="keywordtype">void</span>    <a class="code" href="../../d4/d1/userk_8h.html#a1213">zzzAttachToQueue</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti, <a class="code" href="../../d7/d4/structtagQ.html">PQ</a> pqAttach, <a class="code" href="../../d7/d4/structtagQ.html">PQ</a> pqJournal,
<a name="l04415"></a><a class="code" href="../../d4/d1/userk_8h.html#a505">04415</a>         BOOL fJoiningForeground);
04416 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1214">xxxProcessEventMessage</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> ptiCurrent, <a class="code" href="../../d8/d4/structtagQMSG.html">PQMSG</a> pqmsg);
04417 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1215">xxxProcessSetWindowPosEvent</a>(PSMWP psmwpT);
04418 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1216">xxxProcessAsyncSendMessage</a>(PASYNCSENDMSG pmsg);
04419 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1217">PostEventMessage</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti, <a class="code" href="../../d7/d4/structtagQ.html">PQ</a> pq, DWORD dwQEvent, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT message, WPARAM wParam, LPARAM lParam);
04420 
04421 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1218">DoPaint</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndFilter, LPMSG lpMsg);
04422 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1219">DoTimer</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndFilter);
04423 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1220">CheckPwndFilter</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndFilter);
04424 
04425 <span class="preprocessor">#define WHT_IGNOREDISABLED      0x00000001</span>
04426 <span class="preprocessor"></span>
04427 <span class="preprocessor">#ifdef REDIRECTION</span>
04428 <span class="preprocessor"></span>
04429 <span class="preprocessor">#define WHT_FAKESPEEDHITTEST    0x00000002</span>
04430 <span class="preprocessor"></span>
04431 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> xxxGetCursorPos(LPPOINT lpPt);
04432 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> xxxCallSpeedHitTestHook(POINT* ppt);
04433 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> PushMouseMove(<a class="code" href="../../d7/d4/structtagQ.html">PQ</a> pq, POINT pt);
<a name="l04434"></a><a class="code" href="../../d4/d1/userk_8h.html#a506">04434</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> PopMouseMove(<a class="code" href="../../d7/d4/structtagQ.html">PQ</a> pq, POINT* ppt);
<a name="l04435"></a><a class="code" href="../../d4/d1/userk_8h.html#a507">04435</a> 
<a name="l04436"></a><a class="code" href="../../d4/d1/userk_8h.html#a508">04436</a> <span class="preprocessor">#endif // REDIRECTION</span>
<a name="l04437"></a><a class="code" href="../../d4/d1/userk_8h.html#a509">04437</a> <span class="preprocessor"></span>
<a name="l04438"></a><a class="code" href="../../d4/d1/userk_8h.html#a510">04438</a> HWND    <a class="code" href="../../d9/d8/winwhere_8c.html#a4">xxxWindowHitTest</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd,  POINT pt, <span class="keywordtype">int</span> *pipos, DWORD dwHitTestFlags);
04439 HWND    <a class="code" href="../../d9/d8/winwhere_8c.html#a5">xxxWindowHitTest2</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, POINT pt, <span class="keywordtype">int</span> *pipos, DWORD dwHitTestFlags);
04440 
04441 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>    <a class="code" href="../../d9/d8/winwhere_8c.html#a3">SpeedHitTest</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndParent, POINT pt);
04442 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1224">xxxDeactivate</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti, DWORD tidSetForeground);
04443 
<a name="l04444"></a><a class="code" href="../../d4/d1/userk_8h.html#a511">04444</a> <span class="preprocessor">#define SFW_STARTUP             0x0001</span>
<a name="l04445"></a><a class="code" href="../../d4/d1/userk_8h.html#a512">04445</a> <span class="preprocessor"></span><span class="preprocessor">#define SFW_SWITCH              0x0002</span>
<a name="l04446"></a><a class="code" href="../../d4/d1/userk_8h.html#a513">04446</a> <span class="preprocessor"></span><span class="preprocessor">#define SFW_NOZORDER            0x0004</span>
<a name="l04447"></a><a class="code" href="../../d4/d1/userk_8h.html#a514">04447</a> <span class="preprocessor"></span><span class="preprocessor">#define SFW_SETFOCUS            0x0008</span>
04448 <span class="preprocessor"></span><span class="preprocessor">#define SFW_ACTIVATERESTORE     0x0010</span>
04449 <span class="preprocessor"></span>
04450 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1225">xxxSetForegroundWindow2</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> ptiCurrent, DWORD fFlags);
04451 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1226">SetForegroundThread</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti);
04452 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1227">xxxSendFocusMessages</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndReceive);
<a name="l04453"></a><a class="code" href="../../d4/d1/userk_8h.html#a515">04453</a> 
<a name="l04454"></a><a class="code" href="../../d4/d1/userk_8h.html#a516">04454</a> <span class="preprocessor">#define ATW_MOUSE               0x0001</span>
04455 <span class="preprocessor"></span><span class="preprocessor">#define ATW_SETFOCUS            0x0002</span>
04456 <span class="preprocessor"></span><span class="preprocessor">#define ATW_ASYNC               0x0004</span>
04457 <span class="preprocessor"></span><span class="preprocessor">#define ATW_NOZORDER            0x0008</span>
04458 <span class="preprocessor"></span>
04459 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1228">FBadWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
04460 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1229">xxxActivateThisWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, DWORD tidLoseForeground, DWORD fFlags);
04461 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1230">xxxActivateWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT cmd);
04462 
04463 <span class="preprocessor">#define NTW_PREVIOUS         1</span>
04464 <span class="preprocessor"></span><span class="preprocessor">#define NTW_IGNORETOOLWINDOW 2</span>
04465 <span class="preprocessor"></span><a class="code" href="../../d6/d9/structtagWND.html">PWND</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1231">NextTopWindow</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndSkip, DWORD flags);
04466 
04467 <span class="keywordtype">int</span>     <a class="code" href="../../d4/d1/userk_8h.html#a1232">xxxMouseActivate</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT message, WPARAM wParam, LPPOINT lppt, <span class="keywordtype">int</span> ht);
04468 <span class="keywordtype">int</span>     <a class="code" href="../../d4/d1/userk_8h.html#a1233">UT_GetParentDCClipBox</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, HDC hdc, LPRECT lprc);
04469 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1234">UpdateAsyncKeyState</a>(<a class="code" href="../../d7/d4/structtagQ.html">PQ</a> pq, UINT wVK, BOOL fBreak);
04470 <span class="keywordtype">void</span>    <a class="code" href="../../d4/d1/userk_8h.html#a1235">PostUpdateKeyStateEvent</a>(<a class="code" href="../../d7/d4/structtagQ.html">PQ</a> pq);
04471 <span class="keywordtype">void</span>    <a class="code" href="../../d4/d1/userk_8h.html#a1236">ProcessUpdateKeyStateEvent</a>(<a class="code" href="../../d7/d4/structtagQ.html">PQ</a> pq, CONST PBYTE pbKeyState, CONST PBYTE pbRecentDown);
04472 
04473 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d8/kernel_2winprop_8c.html#a0">InternalSetProp</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, LPWSTR pszKey, HANDLE hData, DWORD dwFlags);
04474 HANDLE  <a class="code" href="../../d4/d8/kernel_2winprop_8c.html#a1">InternalRemoveProp</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, LPWSTR pszKey, BOOL fInternal);
04475 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d8/kernel_2winprop_8c.html#a4">DeleteProperties</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
04476 <a class="code" href="../../d0/d0/structtagCHECKPOINT.html">CHECKPOINT</a> *<a class="code" href="../../d4/d1/userk_8h.html#a1240">CkptRestore</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, LPCRECT lprcWindow);
04477 UINT_PTR <a class="code" href="../../d4/d1/userk_8h.html#a1241">_SetTimer</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT_PTR nIDEvent, UINT dwElapse, TIMERPROC_PWND pTimerFunc);
04478 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1242">KillTimer2</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT_PTR nIDEvent, BOOL fSystemTimer);
04479 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1243">DestroyThreadsTimers</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti);
04480 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1244">DecTimerCount</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti);
04481 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d5/caret_8c.html#a5">zzzInternalShowCaret</a>();
04482 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d5/caret_8c.html#a6">zzzInternalHideCaret</a>();
04483 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d5/caret_8c.html#a2">zzzInternalDestroyCaret</a>();
04484 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d7/d3/validate_8c.html#a21">ChangeAcquireResourceType</a>(VOID);
04485 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d7/d1/usersrv_8h.html#a36">EnterCrit</a>(VOID);
<a name="l04486"></a><a class="code" href="../../d4/d1/userk_8h.html#a517">04486</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d7/d3/validate_8c.html#a19">EnterSharedCrit</a>(VOID);
<a name="l04487"></a><a class="code" href="../../d4/d1/userk_8h.html#a518">04487</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d7/d1/usersrv_8h.html#a37">LeaveCrit</a>(VOID);
04488 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1252">_AssertCritIn</a>(VOID);
<a name="l04489"></a><a class="code" href="../../d4/d1/userk_8h.html#a913">04489</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1253">_AssertDeviceInfoListCritIn</a>(VOID);
04490 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1254">_AssertCritInShared</a>(VOID);
04491 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1255">_AssertCritOut</a>(VOID);
04492 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1256">_AssertDeviceInfoListCritOut</a>(VOID);
04493 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1257">_KeUserModeCallback</a> (IN ULONG ApiNumber, IN PVOID InputBuffer,
04494     IN ULONG InputLength, OUT PVOID *OutputBuffer, OUT PULONG OutputLength);
04495 
04496 <span class="preprocessor">#define UnlockProcess           ObDereferenceObject</span>
04497 <span class="preprocessor"></span><span class="preprocessor">#define UnlockThread            ObDereferenceObject</span>
<a name="l04498"></a><a class="code" href="../../d4/d1/userk_8h.html#a519">04498</a> <span class="preprocessor"></span>
<a name="l04499"></a><a class="code" href="../../d4/d1/userk_8h.html#a520">04499</a> <span class="keyword">extern</span> ULONG <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a327">gSessionId</a>;
04500 
04501 <span class="preprocessor">#if DBG</span>
04502 <span class="preprocessor"></span><span class="preprocessor">    #define ValidateProcessSessionId(pEProcess)  \</span>
<a name="l04503"></a><a class="code" href="../../d4/d1/userk_8h.html#a1258">04503</a> <span class="preprocessor">        UserAssert((pEProcess)-&gt;SessionId == gSessionId)</span>
04504 <span class="preprocessor"></span>
04505 <span class="preprocessor">    #define ValidateThreadSessionId(pEThread)  \</span>
04506 <span class="preprocessor">        UserAssert((pEThread)-&gt;ThreadsProcess-&gt;SessionId == gSessionId)</span>
04507 <span class="preprocessor"></span><span class="preprocessor">#else</span>
04508 <span class="preprocessor"></span><span class="preprocessor">    #define ValidateProcessSessionId(pEProcess)</span>
04509 <span class="preprocessor"></span><span class="preprocessor">    #define ValidateThreadSessionId(pEThread)</span>
04510 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
04511 <span class="preprocessor"></span>
04512 
04513 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> __inline <a class="code" href="../../d4/d1/userk_8h.html#a1258">LockProcessByClientId</a>(HANDLE dwProcessId, <a class="code" href="../../d0/d4/struct__EPROCESS.html">PEPROCESS</a>* ppEProcess)
04514 {
04515     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
04516 
04517     <a class="code" href="../../d4/d1/userk_8h.html#a157">CheckCritOut</a>();
<a name="l04518"></a><a class="code" href="../../d4/d1/userk_8h.html#a1259">04518</a> 
04519     <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d1/d0/pscid_8c.html#a1">PsLookupProcessByProcessId</a>(dwProcessId, ppEProcess);
04520 
04521     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(Status) &amp;&amp; (*ppEProcess)-&gt;SessionId != <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a327">gSessionId</a>) {
04522         <a class="code" href="../../d4/d1/userk_8h.html#a517">UnlockProcess</a>(*ppEProcess);
04523         <span class="keywordflow">return</span> STATUS_UNSUCCESSFUL;
04524     }
04525     <span class="keywordflow">return</span> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
04526 }
04527 
04528 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> __inline <a class="code" href="../../d4/d1/userk_8h.html#a1259">LockThreadByClientId</a>(HANDLE dwThreadId, <a class="code" href="../../d5/d6/struct__ETHREAD.html">PETHREAD</a>* ppEThread)
04529 {
04530     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
04531 
04532     <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d1/d0/pscid_8c.html#a2">PsLookupThreadByThreadId</a>(dwThreadId, ppEThread);
04533 
04534     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(Status) &amp;&amp; (*ppEThread)-&gt;ThreadsProcess-&gt;SessionId != <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a327">gSessionId</a>) {
04535         <a class="code" href="../../d4/d1/userk_8h.html#a518">UnlockThread</a>(*ppEThread);
04536         <span class="keywordflow">return</span> STATUS_UNSUCCESSFUL;
04537     }
04538     <span class="keywordflow">return</span> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
04539 }
04540 
04541 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1260">IsSAS</a>(BYTE vk, UINT* pfsModifiers);
04542 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1261">xxxDoHotKeyStuff</a>(UINT vk, BOOL fBreak, DWORD fsReserveKeys);
04543 <a class="code" href="../../d4/d1/userk_8h.html#a903">PHOTKEY</a> <a class="code" href="../../d4/d1/userk_8h.html#a1262">IsHotKey</a>(UINT fsModifiers, UINT vk);
04544 <span class="comment">/*</span>
04545 <span class="comment"> * Server.c</span>
04546 <span class="comment"> */</span>
04547 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1263">InitCreateUserCrit</a>(VOID);
<a name="l04548"></a><a class="code" href="../../d0/d4/structtagDISPLAYRESOURCE.html">04548</a> PMDEV <a class="code" href="../../d4/d1/userk_8h.html#a1264">InitVideo</a>(
<a name="l04549"></a><a class="code" href="../../d0/d4/structtagDISPLAYRESOURCE.html#o0">04549</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> bReenumerationNeeded);
<a name="l04550"></a><a class="code" href="../../d0/d4/structtagDISPLAYRESOURCE.html#o1">04550</a> 
<a name="l04551"></a><a class="code" href="../../d0/d4/structtagDISPLAYRESOURCE.html#o2">04551</a> <span class="comment">/*</span>
<a name="l04552"></a><a class="code" href="../../d0/d4/structtagDISPLAYRESOURCE.html#o3">04552</a> <span class="comment"> * DRVSUP.C</span>
<a name="l04553"></a><a class="code" href="../../d0/d4/structtagDISPLAYRESOURCE.html#o4">04553</a> <span class="comment"> */</span>
<a name="l04554"></a><a class="code" href="../../d0/d4/structtagDISPLAYRESOURCE.html#o5">04554</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d8/d8/fullscr_8c.html#a17">InitUserScreen</a>();
<a name="l04555"></a><a class="code" href="../../d0/d4/structtagDISPLAYRESOURCE.html#o6">04555</a> 
<a name="l04556"></a><a class="code" href="../../d0/d4/structtagDISPLAYRESOURCE.html#o7">04556</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d9/d6/kernel_2server_8c.html#a71">InitLoadResources</a>();
<a name="l04557"></a><a class="code" href="../../d0/d4/structtagDISPLAYRESOURCE.html#o8">04557</a> 
04558 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d0/d4/structtagDISPLAYRESOURCE.html">tagDISPLAYRESOURCE</a> {
04559     WORD <a class="code" href="../../d0/d4/structtagDISPLAYRESOURCE.html#o0">cyThunb</a>;
04560     WORD <a class="code" href="../../d0/d4/structtagDISPLAYRESOURCE.html#o1">cxThumb</a>;
04561     WORD <a class="code" href="../../d0/d4/structtagDISPLAYRESOURCE.html#o2">xCompressIcon</a>;
04562     WORD <a class="code" href="../../d0/d4/structtagDISPLAYRESOURCE.html#o3">yCompressIcon</a>;
04563     WORD <a class="code" href="../../d0/d4/structtagDISPLAYRESOURCE.html#o4">xCompressCursor</a>;
04564     WORD <a class="code" href="../../d0/d4/structtagDISPLAYRESOURCE.html#o5">yCompressCursor</a>;
04565     WORD <a class="code" href="../../d0/d4/structtagDISPLAYRESOURCE.html#o6">yKanji</a>;
04566     WORD <a class="code" href="../../d0/d4/structtagDISPLAYRESOURCE.html#o7">cxBorder</a>;
<a name="l04567"></a><a class="code" href="../../d4/d1/userk_8h.html#a521">04567</a>     WORD cyBorder;
04568 } <a class="code" href="../../d0/d4/structtagDISPLAYRESOURCE.html">DISPLAYRESOURCE</a>, *<a class="code" href="../../d0/d4/structtagDISPLAYRESOURCE.html">PDISPLAYRESOURCE</a>;
<a name="l04569"></a><a class="code" href="../../d4/d1/userk_8h.html#a522">04569</a> 
04570 
04571 
04572 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d9/d6/desktop_8c.html#a26">xxxUserResetDisplayDevice</a>();
04573 
04574 <span class="comment">/*</span>
04575 <span class="comment"> * Object management and security</span>
04576 <span class="comment"> */</span>
04577 <span class="preprocessor">#define DEFAULT_WINSTA  L"\\Windows\\WindowStations\\WinSta0"</span>
04578 <span class="preprocessor"></span>
04579 <span class="preprocessor">#define POBJECT_NAME(pobj) (OBJECT_HEADER_TO_NAME_INFO(OBJECT_TO_OBJECT_HEADER(pobj)) ? \</span>
04580 <span class="preprocessor">    &amp;(OBJECT_HEADER_TO_NAME_INFO(OBJECT_TO_OBJECT_HEADER(pobj))-&gt;Name) : NULL)</span>
04581 <span class="preprocessor"></span>
04582 PSECURITY_DESCRIPTOR <a class="code" href="../../d4/d1/userk_8h.html#a1268">CreateSecurityDescriptor</a>(PACCESS_ALLOWED_ACE paceList,
04583         DWORD cbAce, BOOLEAN fDaclDefaulted);
04584 PACCESS_ALLOWED_ACE <a class="code" href="../../d4/d1/userk_8h.html#a1269">AllocAce</a>(PACCESS_ALLOWED_ACE pace, BYTE bType,
04585         BYTE bFlags, ACCESS_MASK am, PSID psid, LPDWORD lpdwLength);
04586 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1270">CheckGrantedAccess</a>(ACCESS_MASK, ACCESS_MASK);
04587 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1271">AccessCheckObject</a>(PVOID, ACCESS_MASK, KPROCESSOR_MODE, CONST GENERIC_MAPPING *);
04588 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1272">InitSecurity</a>(VOID);
04589 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d2/d0/server_2exitwin_8c.html#a22">IsPrivileged</a>(PPRIVILEGE_SET ppSet);
04590 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d7/d5/w32_2ntuser_2kernel_2security_8c.html#a9">CheckWinstaWriteAttributesAccess</a>(<span class="keywordtype">void</span>);
04591 
04592 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1275">xxxUserDuplicateObject</a>(HANDLE SourceProcessHandle, HANDLE SourceHandle,
04593         HANDLE TargetProcessHandle, PHANDLE TargetHandle, ACCESS_MASK DesiredAccess,
04594         ULONG HandleAttributes, ULONG Options);
04595 HWINSTA <a class="code" href="../../d4/d1/userk_8h.html#a1276">xxxConnectService</a>(PUNICODE_STRING, HDESK *);
04596 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1277">TestForInteractiveUser</a>(PLUID pluidCaller);
04597 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1278">_UserTestForWinStaAccess</a>( PUNICODE_STRING pstrWinSta, BOOL fInherit);
04598 HDESK <a class="code" href="../../d4/d1/userk_8h.html#a1279">xxxResolveDesktop</a>(HANDLE hProcess, PUNICODE_STRING pstrDesktop,
04599     HWINSTA *phwinsta, BOOL fInherit, BOOL* pbShutDown);
04600 
04601 <span class="comment">/* NEW CODE */</span>
04602 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1280">xxxResolveDesktopForWOW</a> (
04603     IN OUT PUNICODE_STRING pstrDesktop);
04604 
04605 WORD <a class="code" href="../../d4/d1/userk_8h.html#a1281">xxxClientWOWGetProcModule</a>(WNDPROC_PWND pfn);
04606 
04607 PVOID <a class="code" href="../../d4/d1/userk_8h.html#a1282">_MapDesktopObject</a>(HANDLE h);
04608 <a class="code" href="../../d4/d1/userk_8h.html#a876">PDESKTOPVIEW</a> <a class="code" href="../../d4/d1/userk_8h.html#a1283">GetDesktopView</a>(<a class="code" href="../../d7/d3/structtagPROCESSINFO.html">PPROCESSINFO</a> ppi, <a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a> pdesk);
04609 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1284">TerminateConsole</a>(<a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a>);
04610 
04611 
04612 <span class="comment">/*</span>
04613 <span class="comment"> * Object manager callouts for windowstations</span>
04614 <span class="comment"> */</span>
04615 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d8/d8/winsta_8c.html#a5">DestroyWindowStation</a>(
04616     IN <a class="code" href="../../d0/d4/struct__EPROCESS.html">PEPROCESS</a> Process OPTIONAL,
04617     IN PVOID Object,
04618     IN ACCESS_MASK GrantedAccess,
04619     IN ULONG ProcessHandleCount,
04620     IN ULONG SystemHandleCount);
04621 
04622 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d8/d8/winsta_8c.html#a4">FreeWindowStation</a>(
04623     IN <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a> WindowStation);
04624 
04625 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d8/d8/winsta_8c.html#a6">ParseWindowStation</a>(
04626     IN PVOID ParseObject,
04627     IN PVOID ObjectType,
04628     IN OUT <a class="code" href="../../d2/d5/struct__ACCESS__STATE.html">PACCESS_STATE</a> AccessState,
04629     IN KPROCESSOR_MODE AccessMode,
04630     IN ULONG Attributes,
04631     IN OUT PUNICODE_STRING CompleteName,
04632     IN OUT PUNICODE_STRING RemainingName,
04633     IN OUT PVOID Context OPTIONAL,
04634     IN PSECURITY_QUALITY_OF_SERVICE SecurityQos OPTIONAL,
04635     OUT PVOID *Object);
04636 
04637 BOOLEAN <a class="code" href="../../d8/d8/winsta_8c.html#a7">OkayToCloseWindowStation</a>(
04638     IN <a class="code" href="../../d0/d4/struct__EPROCESS.html">PEPROCESS</a> Process OPTIONAL,
04639     IN PVOID Object,
04640     IN HANDLE Handle
04641     );
04642 
04643 <span class="comment">/*</span>
04644 <span class="comment"> * Object manager callouts for desktops</span>
04645 <span class="comment"> */</span>
04646 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1289">MapDesktop</a>(
04647     IN OB_OPEN_REASON OpenReason,
04648     IN <a class="code" href="../../d0/d4/struct__EPROCESS.html">PEPROCESS</a> Process OPTIONAL,
04649     IN PVOID Object,
04650     IN ACCESS_MASK GrantedAccess,
04651     IN ULONG HandleCount);
04652 
04653 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1290">UnmapDesktop</a>(
04654     IN <a class="code" href="../../d0/d4/struct__EPROCESS.html">PEPROCESS</a> Process OPTIONAL,
04655     IN PVOID Object,
04656     IN ACCESS_MASK GrantedAccess,
04657     IN ULONG ProcessHandleCount,
04658     IN ULONG SystemHandleCount);
04659 
04660 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1291">FreeDesktop</a>(
04661     IN PVOID Desktop);
04662 
04663 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1292">ParseDesktop</a>(
04664     IN PVOID ParseObject,
04665     IN PVOID ObjectType,
04666     IN OUT <a class="code" href="../../d2/d5/struct__ACCESS__STATE.html">PACCESS_STATE</a> AccessState,
04667     IN KPROCESSOR_MODE AccessMode,
04668     IN ULONG Attributes,
04669     IN OUT PUNICODE_STRING CompleteName,
04670     IN OUT PUNICODE_STRING RemainingName,
04671     IN OUT PVOID Context OPTIONAL,
04672     IN PSECURITY_QUALITY_OF_SERVICE SecurityQos OPTIONAL,
04673     OUT PVOID *Object);
04674 
04675 BOOLEAN <a class="code" href="../../d4/d1/userk_8h.html#a1293">OkayToCloseDesktop</a>(
04676     IN <a class="code" href="../../d0/d4/struct__EPROCESS.html">PEPROCESS</a> Process OPTIONAL,
04677     IN PVOID Object,
04678     IN HANDLE Handle
04679     );
04680 
04681 <span class="comment">/*</span>
<a name="l04682"></a><a class="code" href="../../d4/d1/userk_8h.html#a523">04682</a> <span class="comment"> * Routines pilfered from kernel32</span>
04683 <span class="comment"> */</span>
04684 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1294">UserSleep</a>(DWORD dwMilliseconds);
04685 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1295">UserBeep</a>(DWORD dwFreq, DWORD dwDuration);
04686 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1296">UserRtlCreateAtomTable</a>(ULONG NumberOfBuckets);
04687 ATOM <a class="code" href="../../d4/d1/userk_8h.html#a1297">UserAddAtom</a>(LPCWSTR lpAtom, BOOL bPin);
04688 ATOM <a class="code" href="../../d4/d1/userk_8h.html#a1298">UserFindAtom</a>(LPCWSTR lpAtom);
04689 ATOM <a class="code" href="../../d4/d1/userk_8h.html#a1299">UserDeleteAtom</a>(ATOM atom);
04690 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> <a class="code" href="../../d4/d1/userk_8h.html#a1300">UserGetAtomName</a>(ATOM atom, LPWSTR lpch, <span class="keywordtype">int</span> cchMax);
04691 
04692 <span class="preprocessor">#define FindClassAtom(lpszClassName) \</span>
04693 <span class="preprocessor">    (IS_PTR(lpszClassName) ? UserFindAtom(lpszClassName) : PTR_TO_ID(lpszClassName))</span>
04694 <span class="preprocessor"></span>
04695 <span class="comment">/*</span>
04696 <span class="comment"> * Keyboard Layouts</span>
04697 <span class="comment"> */</span>
04698 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1301">ChangeForegroundKeyboardTable</a>(PKL pklOld, PKL pklNew);
04699 HKL  <a class="code" href="../../d4/d1/userk_8h.html#a1302">xxxLoadKeyboardLayoutEx</a>(<a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a>, HANDLE, HKL, UINT, LPCWSTR, UINT, UINT);
04700 HKL  <a class="code" href="../../d4/d1/userk_8h.html#a1303">xxxActivateKeyboardLayout</a>(<a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a> pwinsta, HKL hkl, UINT Flags, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
04701 HKL  <a class="code" href="../../d4/d1/userk_8h.html#a1304">xxxInternalActivateKeyboardLayout</a>(PKL pkl, UINT Flags, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
04702 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1305">GetKbdLangSwitch</a>(PUNICODE_STRING pProfileUserName);
04703 
04704 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1306">xxxUnloadKeyboardLayout</a>(<a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a>, HKL);
04705 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1307">RemoveKeyboardLayoutFile</a>(PKBDFILE pkf);
04706 HKL  <a class="code" href="../../d4/d1/userk_8h.html#a1308">_GetKeyboardLayout</a>(DWORD idThread);
<a name="l04707"></a><a class="code" href="../../d4/d1/userk_8h.html#a524">04707</a> <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> <a class="code" href="../../d4/d1/userk_8h.html#a1309">_GetKeyboardLayoutList</a>(<a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a> pwinsta, UINT nItems, HKL *lpBuff);
<a name="l04708"></a><a class="code" href="../../d4/d1/userk_8h.html#a525">04708</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1310">xxxFreeKeyboardLayouts</a>(<a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a>, BOOL bUnlock);
04709 
04710 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d4/d1/userk_8h.html#a1311">xxxDragObject</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndParent, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> xhwndFrom, UINT wFmt,
04711         ULONG_PTR dwData, <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> xpcur);
04712 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1312">xxxDragDetect</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, POINT pt);
04713 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1313">xxxIsDragging</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, POINT ptScreen, UINT uMsg);
04714 
04715 HKL <a class="code" href="../../d6/d8/ntinput_8c.html#a43">GetActiveHKL</a>();
04716 
04717 <span class="preprocessor">#define DMI_INVERT         0x00000001</span>
04718 <span class="preprocessor"></span><span class="preprocessor">#define DMI_GRAYED         0x00000002</span>
<a name="l04719"></a><a class="code" href="../../d4/d1/userk_8h.html#a1318">04719</a> <span class="preprocessor"></span>
04720 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1315">xxxDrawMenuItem</a>(HDC hdc, <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu, <a class="code" href="../../d0/d9/structtagITEM.html">PITEM</a> pItem, DWORD dwFlags);
04721 
04722 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1316">xxxRealDrawMenuItem</a>(HDC hdc, PGRAYMENU lpGray, <span class="keywordtype">int</span> cx, <span class="keywordtype">int</span> cy);
<a name="l04723"></a><a class="code" href="../../d4/d1/userk_8h.html#a1319">04723</a> 
04724 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1317">xxxDrawMenuBarUnderlines</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, BOOL fShow);
04725 
04726 <span class="comment">/*</span>
<a name="l04727"></a><a class="code" href="../../d4/d1/userk_8h.html#a1320">04727</a> <span class="comment"> * Menu macros</span>
04728 <span class="comment"> */</span>
04729 __inline <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1318">IsRootPopupMenu</a>(<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupmenu)
04730 {
<a name="l04731"></a><a class="code" href="../../d4/d1/userk_8h.html#a1321">04731</a>     <span class="keywordflow">return</span> (ppopupmenu == ppopupmenu-&gt;<a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o32">ppopupmenuRoot</a>);
04732 }
04733 __inline <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1319">ExitMenuLoop</a> (PMENUSTATE pMenuState, <a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupmenu)
04734 {
<a name="l04735"></a><a class="code" href="../../d4/d1/userk_8h.html#a1322">04735</a>     <span class="keywordflow">return</span>  (!pMenuState-&gt;<a class="code" href="../../d4/d1/structtagMENUSTATE.html#o3">fInsideMenuLoop</a> || ppopupmenu-&gt;<a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o15">fDestroyed</a>);
04736 }
04737 __inline <a class="code" href="../../d4/d1/userk_8h.html#a867">PMENUSTATE</a> <a class="code" href="../../d4/d1/userk_8h.html#a1320">GetpMenuState</a> (<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd)
04738 {
<a name="l04739"></a><a class="code" href="../../d4/d1/userk_8h.html#a1323">04739</a>     <span class="keywordflow">return</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a455">GETPTI</a>(pwnd)-&gt;pMenuState);
04740 }
04741 __inline <a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> <a class="code" href="../../d4/d1/userk_8h.html#a1321">GetpGlobalPopupMenu</a> (<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd)
04742 {
<a name="l04743"></a><a class="code" href="../../d4/d1/userk_8h.html#a1324">04743</a>     <span class="keywordflow">return</span> (<a class="code" href="../../d4/d1/userk_8h.html#a1320">GetpMenuState</a>(pwnd) ? <a class="code" href="../../d4/d1/userk_8h.html#a1320">GetpMenuState</a>(pwnd)-&gt;<a class="code" href="../../d4/d1/structtagMENUSTATE.html#o0">pGlobalPopupMenu</a> : <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
04744 }
04745 __inline <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1322">IsInsideMenuLoop</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti)
04746 {
<a name="l04747"></a><a class="code" href="../../d4/d1/userk_8h.html#a1325">04747</a>     <span class="keywordflow">return</span> ((pti-&gt;<a class="code" href="../../d2/d8/structtagTHREADINFO.html#o21">pMenuState</a> != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) &amp;&amp; pti-&gt;<a class="code" href="../../d2/d8/structtagTHREADINFO.html#o21">pMenuState</a>-&gt;<a class="code" href="../../d4/d1/structtagMENUSTATE.html#o3">fInsideMenuLoop</a>);
04748 }
04749 __inline <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1323">IsMenuStarted</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti)
04750 {
<a name="l04751"></a><a class="code" href="../../d4/d1/userk_8h.html#a1326">04751</a>     <span class="keywordflow">return</span> ((pti-&gt;<a class="code" href="../../d2/d8/structtagTHREADINFO.html#o21">pMenuState</a> != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) &amp;&amp; pti-&gt;<a class="code" href="../../d2/d8/structtagTHREADINFO.html#o21">pMenuState</a>-&gt;<a class="code" href="../../d4/d1/structtagMENUSTATE.html#o1">fMenuStarted</a>);
04752 }
04753 __inline <a class="code" href="../../d0/d9/structtagITEM.html">PITEM</a> <a class="code" href="../../d4/d1/userk_8h.html#a1324">MNGetToppItem</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu)
04754 {
<a name="l04755"></a><a class="code" href="../../d4/d1/userk_8h.html#a1327">04755</a>     <span class="keywordflow">return</span> pMenu-&gt;<a class="code" href="../../d1/d1/structtagMENU.html#o9">rgItems</a> + pMenu-&gt;<a class="code" href="../../d1/d1/structtagMENU.html#o14">iTop</a>;
04756 }
04757 __inline <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1325">MNIsItemSelected</a>(<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupmenu)
04758 {
04759     <span class="keywordflow">return</span> ((<span class="keywordtype">int</span>)ppopupmenu-&gt;<a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o34">posSelectedItem</a> &gt;= 0);
<a name="l04760"></a><a class="code" href="../../d4/d1/userk_8h.html#a1328">04760</a> }
04761 __inline <a class="code" href="../../d0/d9/structtagITEM.html">PITEM</a> <a class="code" href="../../d4/d1/userk_8h.html#a1326">MNGetSelectedpitem</a>(<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupmenu)
04762 {
04763     <span class="keywordflow">return</span> ppopupmenu-&gt;<a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o29">spmenu</a>-&gt;<a class="code" href="../../d1/d1/structtagMENU.html#o9">rgItems</a> + ppopupmenu-&gt;<a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o34">posSelectedItem</a>;
04764 }
04765 __inline <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1327">MNIsScrollArrowSelected</a>(<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupmenu)
04766 {
<a name="l04767"></a><a class="code" href="../../d4/d1/userk_8h.html#a1329">04767</a>     <span class="keywordflow">return</span> ((ppopupmenu-&gt;<a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o34">posSelectedItem</a> == <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a779">MFMWFP_UPARROW</a>)
04768             || (ppopupmenu-&gt;<a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o34">posSelectedItem</a> == <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a780">MFMWFP_DOWNARROW</a>));
04769 }
04770 __inline <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1328">IsModelessMenuNotificationWindow</a> (<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd)
04771 {
<a name="l04772"></a><a class="code" href="../../d4/d1/userk_8h.html#a1330">04772</a>     <a class="code" href="../../d4/d1/userk_8h.html#a867">PMENUSTATE</a> pMenuState;
04773     <span class="keywordflow">return</span> (((pMenuState = <a class="code" href="../../d4/d1/userk_8h.html#a1320">GetpMenuState</a>(pwnd)) != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
04774                 &amp;&amp; pMenuState-&gt;<a class="code" href="../../d4/d1/structtagMENUSTATE.html#o9">fModelessMenu</a>
04775                 &amp;&amp; (pMenuState-&gt;<a class="code" href="../../d4/d1/structtagMENUSTATE.html#o0">pGlobalPopupMenu</a>-&gt;<a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o25">spwndNotify</a> == pwnd));
04776 }
04777 __inline <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1329">IsRecursedMenuState</a>(PMENUSTATE pMenuState, <a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupmenu)
04778 {
04779     <span class="keywordflow">return</span> (pMenuState-&gt;<a class="code" href="../../d4/d1/structtagMENUSTATE.html#o0">pGlobalPopupMenu</a> != ppopupmenu-&gt;<a class="code" href="../../d4/d3/structtagPOPUPMENU.html#o32">ppopupmenuRoot</a>);
<a name="l04780"></a><a class="code" href="../../d4/d1/userk_8h.html#a526">04780</a> }
<a name="l04781"></a><a class="code" href="../../d4/d1/userk_8h.html#a527">04781</a> 
<a name="l04782"></a><a class="code" href="../../d4/d1/userk_8h.html#a528">04782</a> __inline <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1330">IsMDIItem</a> (<a class="code" href="../../d0/d9/structtagITEM.html">PITEM</a> pitem)
<a name="l04783"></a><a class="code" href="../../d4/d1/userk_8h.html#a529">04783</a> {
04784    <span class="keywordflow">return</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a788">TestMFS</a>(pitem, MFS_CACHEDBMP)
04785       &amp;&amp; (pitem-&gt;<a class="code" href="../../d0/d9/structtagITEM.html#o16">hbmp</a> != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
04786       &amp;&amp; (pitem-&gt;<a class="code" href="../../d0/d9/structtagITEM.html#o16">hbmp</a> &lt;= HBMMENU_MBARLAST));
04787 }
<a name="l04788"></a><a class="code" href="../../d4/d1/userk_8h.html#a530">04788</a> 
<a name="l04789"></a><a class="code" href="../../d4/d1/userk_8h.html#a531">04789</a> 
<a name="l04790"></a><a class="code" href="../../d4/d1/userk_8h.html#a532">04790</a> <span class="preprocessor">#define MNXBORDER (SYSMET(CXBORDER) + SYSMET(CXEDGE))</span>
04791 <span class="preprocessor"></span><span class="preprocessor">#define MNYBORDER (SYSMET(CYBORDER) + SYSMET(CYEDGE))</span>
04792 <span class="preprocessor"></span><span class="preprocessor">#define MNXSPACE  (SYSMET(CXEDGE))</span>
<a name="l04793"></a><a class="code" href="../../d4/d1/userk_8h.html#a533">04793</a> <span class="preprocessor"></span><span class="preprocessor">#define MNLEFTMARGIN (SYSMET(CXEDGE))</span>
04794 <span class="preprocessor"></span>
04795 <span class="comment">/*</span>
04796 <span class="comment"> * xxxMNUpdateShownMenu flags</span>
04797 <span class="comment"> */</span>
04798 <span class="preprocessor">#define MNUS_DEFAULT      0x00000001</span>
04799 <span class="preprocessor"></span><span class="preprocessor">#define MNUS_DELETE       0x00000002</span>
<a name="l04800"></a><a class="code" href="../../d4/d1/userk_8h.html#a534">04800</a> <span class="preprocessor"></span><span class="preprocessor">#define MNUS_DRAWFRAME    0x00000004</span>
<a name="l04801"></a><a class="code" href="../../d4/d1/userk_8h.html#a535">04801</a> <span class="preprocessor"></span>
<a name="l04802"></a><a class="code" href="../../d4/d1/userk_8h.html#a536">04802</a> <span class="comment">/* This tells xxxMNItemSize that the bitamp size is not avilable */</span>
04803 <span class="preprocessor">#define MNIS_MEASUREBMP -1</span>
04804 <span class="preprocessor"></span>
04805 
04806 <span class="comment">/*</span>
<a name="l04807"></a><a class="code" href="../../d4/d1/userk_8h.html#a537">04807</a> <span class="comment"> * MN_SIZEWINDOW wParam flag. xxxMNUpdateShownMenu sends this</span>
<a name="l04808"></a><a class="code" href="../../d4/d1/userk_8h.html#a538">04808</a> <span class="comment"> *  message, so keep MNSW_ and MNUS_ in sync.</span>
<a name="l04809"></a><a class="code" href="../../d4/d1/userk_8h.html#a539">04809</a> <span class="comment"> */</span>
<a name="l04810"></a><a class="code" href="../../d4/d1/userk_8h.html#a540">04810</a> <span class="preprocessor">#define MNSW_RETURNSIZE  0</span>
<a name="l04811"></a><a class="code" href="../../d4/d1/userk_8h.html#a541">04811</a> <span class="preprocessor"></span><span class="preprocessor">#define MNSW_SIZE        MNUS_DEFAULT</span>
<a name="l04812"></a><a class="code" href="../../d4/d1/userk_8h.html#a542">04812</a> <span class="preprocessor"></span><span class="preprocessor">#define MNSW_DRAWFRAME   MNUS_DRAWFRAME</span>
<a name="l04813"></a><a class="code" href="../../d4/d1/userk_8h.html#a543">04813</a> <span class="preprocessor"></span>
04814 <span class="comment">/*</span>
04815 <span class="comment"> * Animation flags (pMenuState-&gt;iAniDropDir)</span>
04816 <span class="comment"> */</span>
04817 <span class="preprocessor">#define PAS_RIGHT       (TPM_HORPOSANIMATION &gt;&gt; TPM_FIRSTANIBITPOS)</span>
04818 <span class="preprocessor"></span><span class="preprocessor">#define PAS_LEFT        (TPM_HORNEGANIMATION &gt;&gt; TPM_FIRSTANIBITPOS)</span>
<a name="l04819"></a><a class="code" href="../../d4/d1/userk_8h.html#a544">04819</a> <span class="preprocessor"></span><span class="preprocessor">#define PAS_DOWN        (TPM_VERPOSANIMATION &gt;&gt; TPM_FIRSTANIBITPOS)</span>
<a name="l04820"></a><a class="code" href="../../d4/d1/userk_8h.html#a545">04820</a> <span class="preprocessor"></span><span class="preprocessor">#define PAS_UP          (TPM_VERNEGANIMATION &gt;&gt; TPM_FIRSTANIBITPOS)</span>
04821 <span class="preprocessor"></span><span class="preprocessor">#define PAS_OUT         0x10</span>
04822 <span class="preprocessor"></span><span class="preprocessor">#define PAS_HORZ        (PAS_LEFT | PAS_RIGHT)</span>
04823 <span class="preprocessor"></span><span class="preprocessor">#define PAS_VERT        (PAS_UP | PAS_DOWN)</span>
04824 <span class="preprocessor"></span>
<a name="l04825"></a><a class="code" href="../../d4/d1/userk_8h.html#a546">04825</a> <span class="preprocessor">#if (PAS_HORZ + PAS_VERT &gt;= PAS_OUT)</span>
<a name="l04826"></a><a class="code" href="../../d4/d1/userk_8h.html#a547">04826</a> <span class="preprocessor"></span><span class="preprocessor">#error PAS_ &amp; TPM_*ANIMATION conflict.</span>
<a name="l04827"></a><a class="code" href="../../d4/d1/userk_8h.html#a548">04827</a> <span class="preprocessor"></span><span class="preprocessor">#endif</span>
04828 <span class="preprocessor"></span>
04829 <span class="preprocessor">#define CXMENU3DEDGE 1</span>
04830 <span class="preprocessor"></span><span class="preprocessor">#define CYMENU3DEDGE 1</span>
04831 <span class="preprocessor"></span>
04832 <span class="comment">/*</span>
04833 <span class="comment"> * Scrollbar initialization types</span>
04834 <span class="comment"> */</span>
04835 <span class="preprocessor">#define SCROLL_NORMAL   0</span>
04836 <span class="preprocessor"></span><span class="preprocessor">#define SCROLL_DIRECT   1</span>
04837 <span class="preprocessor"></span><span class="preprocessor">#define SCROLL_MENU     2</span>
04838 <span class="preprocessor"></span>
04839 <span class="comment">/*</span>
04840 <span class="comment"> * movesize.c</span>
04841 <span class="comment"> */</span>
04842 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1331">xxxDrawDragRect</a>(PMOVESIZEDATA pmsd, LPRECT lprc, UINT flags);
04843 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1332">GetMonitorMaxArea</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d0/d2/structtagMONITOR.html">PMONITOR</a> pMonitor, LPRECT * pprc);
04844 
04845 <span class="comment">/*</span>
04846 <span class="comment"> * focusact.c</span>
04847 <span class="comment"> */</span>
04848 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1333">SetForegroundPriorityProcess</a>(<a class="code" href="../../d7/d3/structtagPROCESSINFO.html">PPROCESSINFO</a> ppi, <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti, BOOL fSetForegound);
04849 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1334">SetForegroundPriority</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti, BOOL fSetForeground);
04850 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1335">xxxUpdateTray</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
04851 
04852 
04853 <span class="comment">//</span>
04854 <span class="comment">// mnchange.c</span>
04855 <span class="comment">//</span>
04856 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1336">xxxMNUpdateShownMenu</a>(<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopup, <a class="code" href="../../d0/d9/structtagITEM.html">PITEM</a> pItem, UINT uFlags);
04857 
04858 <span class="comment">//</span>
04859 <span class="comment">// mnkey.c</span>
04860 <span class="comment">//</span>
04861 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> <a class="code" href="../../d4/d1/userk_8h.html#a1337">xxxMNFindChar</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu, UINT ch, INT idxC, INT *lpr);
04862 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> <a class="code" href="../../d4/d1/userk_8h.html#a1338">MNFindItemInColumn</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu, UINT idxB, <span class="keywordtype">int</span> dir, BOOL fRoot);
04863 
04864 <span class="comment">//</span>
04865 <span class="comment">// mndraw.c</span>
04866 <span class="comment">//</span>
04867 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1339">MNAnimate</a>(PMENUSTATE pMenuState, BOOL fIterate);
04868 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1340">MNDrawFullNC</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, HDC hdcIn, <a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopup);
04869 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1341">MNDrawArrow</a>(HDC hdcIn, <a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopup, UINT uArrow);
04870 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1342">MNEraseBackground</a> (HDC hdc, <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pmenu, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> cx, <span class="keywordtype">int</span> cy);
04871 
04872 <span class="comment">//</span>
<a name="l04873"></a><a class="code" href="../../d4/d1/userk_8h.html#a1351">04873</a> <span class="comment">// mnstate.c</span>
04874 <span class="comment">//</span>
04875 <a class="code" href="../../d4/d1/userk_8h.html#a867">PMENUSTATE</a> <a class="code" href="../../d4/d1/userk_8h.html#a1343">xxxMNAllocMenuState</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> ptiCurrent, <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> ptiNotify, <a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupmenuRoot);
04876 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1344">xxxMNEndMenuState</a>(BOOL fFreePopup);
04877 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1345">MNEndMenuStateNotify</a> (PMENUSTATE pMenuState);
04878 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1346">MNFlushDestroyedPopups</a> (<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupmenu, BOOL fUnlock);
04879 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1347">MNSetupAnimationDC</a> (PMENUSTATE pMenuState);
04880 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1348">MNCreateAnimationBitmap</a>(PMENUSTATE pMenuState, UINT cx, UINT cy);
04881 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1349">MNDestroyAnimationBitmap</a>(PMENUSTATE pMenuState);
04882 <a class="code" href="../../d4/d1/userk_8h.html#a867">PMENUSTATE</a> <a class="code" href="../../d4/d1/userk_8h.html#a1350">xxxMNStartMenuState</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, DWORD cmd, LPARAM lParam);
04883 __inline <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1351">LockMenuState</a> (PMENUSTATE pMenuState)
04884 {
<a name="l04885"></a><a class="code" href="../../d4/d1/userk_8h.html#a549">04885</a>     (pMenuState-&gt;<a class="code" href="../../d4/d1/structtagMENUSTATE.html#o25">dwLockCount</a>)++;
04886 }
04887 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1352">xxxUnlockMenuState</a> (PMENUSTATE pMenuState);
04888 
04889 <span class="comment">//</span>
04890 <span class="comment">// menu.c</span>
04891 <span class="comment">//</span>
<a name="l04892"></a><a class="code" href="../../d4/d1/userk_8h.html#a550">04892</a> <span class="preprocessor">#if DBG</span>
04893 <span class="preprocessor"></span>    <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a549">Validateppopupmenu</a> (<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupmenu);
<a name="l04894"></a><a class="code" href="../../d4/d1/userk_8h.html#a1353">04894</a> <span class="preprocessor">#else // DBG</span>
04895 <span class="preprocessor"></span><span class="preprocessor">    #define Validateppopupmenu(ppopupmenu)</span>
04896 <span class="preprocessor"></span><span class="preprocessor">#endif // DBG</span>
04897 <span class="preprocessor"></span>
04898 <span class="preprocessor">#if DBG</span>
04899 <span class="preprocessor"></span><span class="preprocessor">    #define MNGetpItemIndex DBGMNGetpItemIndex</span>
04900 <span class="preprocessor"></span><a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> DBGMNGetpItemIndex(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pmenu, <a class="code" href="../../d0/d9/structtagITEM.html">PITEM</a> pitem);
04901 <span class="preprocessor">#else // DBG</span>
04902 <span class="preprocessor"></span><span class="preprocessor">    #define MNGetpItemIndex _MNGetpItemIndex</span>
04903 <span class="preprocessor"></span><span class="preprocessor">#endif // DBG</span>
04904 <span class="preprocessor"></span>__inline <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> <a class="code" href="../../d4/d1/userk_8h.html#a1353">_MNGetpItemIndex</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pmenu, <a class="code" href="../../d0/d9/structtagITEM.html">PITEM</a> pitem)
04905     {<span class="keywordflow">return</span> (<a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>)(((ULONG_PTR)pitem - (ULONG_PTR)pmenu-&gt;<a class="code" href="../../d1/d1/structtagMENU.html#o9">rgItems</a>) / <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d9/structtagITEM.html">ITEM</a>));}
04906 
04907 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1354">xxxMNDismiss</a> (PMENUSTATE pMenuState);
04908 <a class="code" href="../../d0/d9/structtagITEM.html">PITEM</a> <a class="code" href="../../d4/d1/userk_8h.html#a1355">MNGetpItem</a>(<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopup, UINT uIndex);
04909 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1356">xxxMNSetCapture</a> (<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopup);
04910 <span class="keywordtype">void</span> <a class="code" href="../../d2/d7/ntuser_2kernel_2menu_8c.html#a6">xxxMNReleaseCapture</a> (<span class="keywordtype">void</span>);
04911 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1358">MNCheckButtonDownState</a> (PMENUSTATE pMenuState);
04912 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d4/d1/userk_8h.html#a1359">GetMenuStateWindow</a> (PMENUSTATE pMenuState);
04913 PVOID <a class="code" href="../../d4/d1/userk_8h.html#a1360">LockPopupMenu</a>(<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopup, <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> * pspmenu, <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pmenu);
04914 PVOID <a class="code" href="../../d4/d1/userk_8h.html#a1361">UnlockPopupMenu</a>(<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopup, <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> * pspmenu);
04915 PVOID <a class="code" href="../../d4/d1/userk_8h.html#a1362">LockWndMenu</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> * pspmenu, <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pmenu);
04916 PVOID <a class="code" href="../../d4/d1/userk_8h.html#a1363">UnlockWndMenu</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> * pspmenu);
04917 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> <a class="code" href="../../d4/d1/userk_8h.html#a1364">MNSetTimerToCloseHierarchy</a>(<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopup);
04918 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1365">xxxMNSetTop</a>(<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopup, <span class="keywordtype">int</span> iNewTop);
04919 LRESULT <a class="code" href="../../d4/d1/userk_8h.html#a1366">xxxMenuWindowProc</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>, UINT, WPARAM, LPARAM);
04920 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1367">xxxMNButtonUp</a>(<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupMenu, PMENUSTATE pMenuState, UINT posItemHit, LPARAM lParam);
04921 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1368">xxxMNButtonDown</a>(<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupMenu, PMENUSTATE pMenuState, UINT posItemHit, BOOL fClick);
04922 <a class="code" href="../../d0/d9/structtagITEM.html">PITEM</a> <a class="code" href="../../d4/d1/userk_8h.html#a1369">xxxMNSelectItem</a>(<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupMenu, PMENUSTATE pMenuState, UINT itemPos);
04923 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1370">xxxMNSwitchToAlternateMenu</a>(<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupMenu);
04924 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1371">xxxMNCancel</a>(PMENUSTATE pMenuState, UINT uMsg, UINT cmd, LPARAM lParam);
04925 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1372">xxxMNKeyDown</a>(<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupMenu, PMENUSTATE pMenuState, UINT key);
04926 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1373">xxxMNDoubleClick</a>(PMENUSTATE pMenuState, <a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopup, <span class="keywordtype">int</span> idxItem);
04927 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1374">xxxMNCloseHierarchy</a>(<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupMenu, PMENUSTATE pMenuState);
04928 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d4/d1/userk_8h.html#a1375">xxxMNOpenHierarchy</a>(<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupMenu, PMENUSTATE pMenuState);
04929 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1376">LockMFMWFPWindow</a> (PULONG_PTR puHitArea, ULONG_PTR uNewHitArea);
04930 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1377">UnlockMFMWFPWindow</a> (PULONG_PTR puHitArea);
04931 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1378">IsMFMWFPWindow</a> (ULONG_PTR uHitArea);
04932 LONG_PTR <a class="code" href="../../d4/d1/userk_8h.html#a1379">xxxMNFindWindowFromPoint</a>(<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupMenu, PUINT pIndex, POINTS screenPt);
04933 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1380">xxxMNMouseMove</a>(<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupMenu, PMENUSTATE pMenuState, POINTS screenPt);
04934 <span class="keywordtype">int</span> <a class="code" href="../../d4/d1/userk_8h.html#a1381">xxxMNCompute</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndNotify, DWORD yMenuTop,
04935         DWORD xMenuLeft,DWORD cxMax, LPDWORD lpdwHeight);
<a name="l04936"></a><a class="code" href="../../d4/d1/userk_8h.html#a551">04936</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1382">xxxMNRecomputeBarIfNeeded</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndNotify, <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu);
04937 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1383">xxxMenuDraw</a>(HDC hdc, <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu);
04938 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>  <a class="code" href="../../d4/d1/userk_8h.html#a1384">MNFindNextValidItem</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu, <span class="keywordtype">int</span> i, <span class="keywordtype">int</span> dir, UINT flags);
04939 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1385">MNFreeItem</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu, <a class="code" href="../../d0/d9/structtagITEM.html">PITEM</a> pItem, BOOL fFreeItemPopup);
04940 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>   <a class="code" href="../../d4/d1/userk_8h.html#a1386">xxxMNStartMenu</a>(<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupMenu, <span class="keywordtype">int</span> mn);
04941 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1387">MNPositionSysMenu</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pSysMenu);
04942 
04943 <a class="code" href="../../d0/d9/structtagITEM.html">PITEM</a> <a class="code" href="../../d4/d1/userk_8h.html#a1388">xxxMNInvertItem</a>(<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupmenu, <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu,<span class="keywordtype">int</span> itemNumber,<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndNotify, BOOL fOn);
04944 
04945 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>   <a class="code" href="../../d4/d1/userk_8h.html#a1389">xxxSendMenuSelect</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndNotify, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndMenu, <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu, <span class="keywordtype">int</span> idx);
04946 <span class="preprocessor">#define SMS_NOMENU      (PMENU)(-1)</span>
04947 <span class="preprocessor"></span>
04948 
04949 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>   <a class="code" href="../../d4/d1/userk_8h.html#a1390">xxxSetSystemMenu</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu);
04950 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>   <a class="code" href="../../d4/d1/userk_8h.html#a1391">xxxSetDialogSystemMenu</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
04951 
04952 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1392">xxxMNChar</a>(<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupMenu, PMENUSTATE pMenuState, UINT character);
04953 <a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> <a class="code" href="../../d4/d1/userk_8h.html#a1393">MNAllocPopup</a>(BOOL fForceAlloc);
04954 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1394">MNFreePopup</a>(<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupmenu);
04955 
04956 <span class="comment">/*</span>
04957 <span class="comment"> * Menu entry points used by the rest of USER</span>
04958 <span class="comment"> */</span>
04959 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1395">xxxMNKeyFilter</a>(<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupMenu, PMENUSTATE pMenuState, UINT ch);
04960 <span class="keywordtype">int</span>  <a class="code" href="../../d4/d1/userk_8h.html#a1396">xxxMenuBarCompute</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndNotify, DWORD yMenuTop,
04961         DWORD xMenuLeft, <span class="keywordtype">int</span> cxMax);
04962 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1397">xxxEndMenu</a>(PMENUSTATE pMenuState);
04963 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1398">xxxCallHandleMenuMessages</a>(PMENUSTATE pMenuState, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT message, WPARAM wParam, LPARAM lParam);
04964 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1399">xxxHandleMenuMessages</a>(LPMSG lpmsg, PMENUSTATE pMenuState, <a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupmenu);
04965 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1400">xxxEndMenuLoop</a> (PMENUSTATE pMenuState, <a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupmenu);
04966 <span class="keywordtype">int</span>  <a class="code" href="../../d4/d1/userk_8h.html#a1401">xxxMNLoop</a>(<a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupMenu, PMENUSTATE pMenuState, LPARAM lParam, BOOL fDblClk);
04967 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1402">xxxSetSysMenu</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
04968 <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> <a class="code" href="../../d4/d1/userk_8h.html#a1403">xxxGetSysMenuHandle</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
04969 <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> <a class="code" href="../../d4/d1/userk_8h.html#a1404">xxxGetSysMenu</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, BOOL fSubMenu);
04970 <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> <a class="code" href="../../d4/d1/userk_8h.html#a1405">MakeMenuRtoL</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu, BOOL bRtoL);
04971 HDC <a class="code" href="../../d4/d1/userk_8h.html#a1406">CreateCompatiblePublicDC</a>(HDC hdc, HBITMAP *pbmDCGray);
04972 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1407">xxxPSMTextOut</a>(HDC hdc, <span class="keywordtype">int</span> xLeft, <span class="keywordtype">int</span> yTop, LPWSTR lpsz, <span class="keywordtype">int</span> cch, DWORD dwFlags);
04973 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1408">xxxPSMGetTextExtent</a>(HDC hdc, LPWSTR lpstr, <span class="keywordtype">int</span> cch, PSIZE psize);
04974 
04975 <span class="comment">/*</span>
04976 <span class="comment"> * LPK callbacks</span>
04977 <span class="comment"> */</span>
04978 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1409">xxxClientPSMTextOut</a>(HDC hdc, <span class="keywordtype">int</span> xLeft, <span class="keywordtype">int</span> yTop, PUNICODE_STRING lpsz, <span class="keywordtype">int</span> cch, DWORD dwFlags);
04979 <span class="keywordtype">int</span>  <a class="code" href="../../d4/d1/userk_8h.html#a1410">xxxClientLpkDrawTextEx</a>(HDC hdc, <span class="keywordtype">int</span> xLeft, <span class="keywordtype">int</span> yTop, LPCWSTR lpsz, <span class="keywordtype">int</span> nCount,
04980         BOOL fDraw, UINT wFormat, LPDRAWTEXTDATA lpDrawInfo, UINT bAction, <span class="keywordtype">int</span> iCharSet);
04981 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1411">xxxClientExtTextOutW</a>(HDC hdc, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> flOpts, RECT *prcl,
04982         LPCWSTR pwsz, UINT cwc, INT *pdx);
04983 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1412">xxxClientGetTextExtentPointW</a>(HDC hdc, LPCWSTR lpstr, <span class="keywordtype">int</span> cch, PSIZE psize);
04984 
04985 <span class="comment">/*</span>
04986 <span class="comment"> * Menu Drag and Drop</span>
04987 <span class="comment"> */</span>
04988 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1413">xxxClientRegisterDragDrop</a> (HWND hwnd);
04989 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1414">xxxClientRevokeDragDrop</a> (HWND hwnd);
04990 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d8/d7/menudd_8c.html#a0">xxxClientLoadOLE</a>(VOID);
04991 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1416">xxxMNSetGapState</a> (ULONG_PTR uHitArea, UINT uIndex, UINT uFlags, BOOL fSet);
04992 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1417">xxxMNDragOver</a>(POINT * ppt, <a class="code" href="../../d7/d1/structtagMNDRAGOVERINFO.html">PMNDRAGOVERINFO</a> pmndoi);
04993 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1418">xxxMNDragLeave</a>(VOID);
04994 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1419">xxxMNUpdateDraggingInfo</a> (PMENUSTATE pMenuState, ULONG_PTR uHitArea, UINT uIndex);
04995 
04996 <span class="comment">/*</span>
04997 <span class="comment"> * Scroll bar entry points</span>
04998 <span class="comment"> */</span>
04999 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1420">xxxSBTrackInit</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, LPARAM lParam, <span class="keywordtype">int</span> curArea, UINT uType);
05000 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1421">SBCtlSetup</a>(<a class="code" href="../../d7/d5/structtagSBWND.html">PSBWND</a> psbwnd);
05001 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1422">CalcSBStuff</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d3/d5/structtagSBCALC.html">PSBCALC</a> pSBCalc, BOOL fVert);
05002 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1423">CalcSBStuff2</a>(<a class="code" href="../../d3/d5/structtagSBCALC.html">PSBCALC</a>  pSBCalc, LPRECT lprc, CONST <a class="code" href="../../d4/d5/structtagSBDATA.html">PSBDATA</a> pw, BOOL fVert);
05003 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1424">xxxEnableScrollBar</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT wSBflags, UINT wArrows);
05004 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1425">DrawSize</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, HDC hdc, <span class="keywordtype">int</span> cxFrame, <span class="keywordtype">int</span> cyFrame);
05005 <span class="keywordtype">int</span> <a class="code" href="../../d4/d1/userk_8h.html#a1426">xxxScrollWindowEx</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <span class="keywordtype">int</span> dx, <span class="keywordtype">int</span> dy, LPRECT prcScroll,
05006         LPRECT prcClip, HRGN hrgnUpdate, LPRECT prcUpdate, DWORD flags);
05007 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1427">xxxDoScrollMenu</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndNotify, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndSB, BOOL fVert, LPARAM lParam);
05008 
05009 <span class="comment">/*</span>
05010 <span class="comment"> * ICONS.C</span>
05011 <span class="comment"> */</span>
05012 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1428">xxxInternalEnumWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndNext, WNDENUMPROC_PWND lpfn, LPARAM lParam, UINT fEnumChildren);
05013 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1429">ISV_InitMinMaxInfo</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, PPOINT aptMinMaxWnd);
05014 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1430">ISV_ValidateMinMaxInfo</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, PPOINT aptMinMaxWnd);
05015 <span class="comment">/*</span>
05016 <span class="comment"> * GETSET.C</span>
05017 <span class="comment"> */</span>
05018 WORD  <a class="code" href="../../d4/d1/userk_8h.html#a1431">_SetWindowWord</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <span class="keywordtype">int</span> index, WORD value);
05019 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d4/d1/userk_8h.html#a1432">xxxSetWindowLong</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <span class="keywordtype">int</span> index, DWORD value, BOOL bAnsi);
05020 ULONG_PTR <a class="code" href="../../d4/d1/userk_8h.html#a1433">xxxSetWindowData</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <span class="keywordtype">int</span> index, ULONG_PTR dwData, BOOL bAnsi);
05021 LONG  <a class="code" href="../../d4/d1/userk_8h.html#a1434">xxxSetWindowStyle</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <span class="keywordtype">int</span> gwl, DWORD styleNew);
05022 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1435">FCallerOk</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05023 
05024 <span class="keywordtype">int</span> <a class="code" href="../../d4/d1/userk_8h.html#a1436">IntersectVisRect</a>(HDC, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>);  <span class="comment">// Imported from GDI</span>
05025 <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> <a class="code" href="../../d4/d1/userk_8h.html#a1437">xxxGetWindowSmIcon</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, BOOL fDontSendMsg);
05026 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1438">xxxDrawCaptionBar</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, HDC hdc, UINT fFlags);
05027 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1439">xxxDrawScrollBar</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, HDC hdc, BOOL fVert);
05028 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1440">xxxTrackBox</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>, UINT, WPARAM, LPARAM, <a class="code" href="../../d3/d5/structtagSBCALC.html">PSBCALC</a>);
05029 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1441">xxxTrackThumb</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>, UINT, WPARAM, LPARAM, <a class="code" href="../../d3/d5/structtagSBCALC.html">PSBCALC</a>);
05030 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1442">xxxEndScroll</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, BOOL fCancel);
05031 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1443">xxxDrawWindowFrame</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, HDC hdc,
05032         BOOL fHungRedraw, BOOL fActive);
05033 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1444">xxxInternalPaintDesktop</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, HDC hdc, BOOL fPaint);
05034 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1445">xxxSysCommand</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, DWORD cmd, LPARAM lParam);
<a name="l05035"></a><a class="code" href="../../d4/d1/userk_8h.html#a552">05035</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1446">xxxHandleNCMouseGuys</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT message, <span class="keywordtype">int</span> htArea, LPARAM lParam);
<a name="l05036"></a><a class="code" href="../../d4/d1/userk_8h.html#a553">05036</a> <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1447">xxxCreateClassSmIcon</a>(<a class="code" href="../../d7/d0/structtagCLS.html">PCLS</a> pcls);
05037 HICON <a class="code" href="../../d4/d1/userk_8h.html#a1448">xxxCreateWindowSmIcon</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, HICON hIconBig, BOOL fCopyFromRes);
05038 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1449">DestroyWindowSmIcon</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05039 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1450">DestroyClassSmIcon</a>(<a class="code" href="../../d7/d0/structtagCLS.html">PCLS</a> pcls);
05040 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> <a class="code" href="../../d7/d7/winhtky_8c.html#a3">DWP_GetHotKey</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>);
05041 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> <a class="code" href="../../d7/d7/winhtky_8c.html#a2">DWP_SetHotKey</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>, DWORD);
05042 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d7/d7/winhtky_8c.html#a0">HotKeyToWindow</a>(DWORD);
05043 
05044 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1453">xxxDWP_DoNCActivate</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, DWORD dwFlags, HRGN hrgnClip);
05045 <span class="preprocessor">#define NCA_ACTIVE          0x00000001</span>
05046 <span class="preprocessor"></span><span class="preprocessor">#define NCA_FORCEFRAMEOFF   0x00000002</span>
05047 <span class="preprocessor"></span>
05048 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1454">xxxDWP_ProcessVirtKey</a>(UINT key);
05049 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1455">xxxDWP_EraseBkgnd</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT msg, HDC hdc);
05050 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1456">SetTiledRect</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, LPRECT lprc, <a class="code" href="../../d0/d2/structtagMONITOR.html">PMONITOR</a> pMonitor);
05051 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1457">LinkWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndInsert, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndParent);
05052 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1458">UnlinkWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndUnlink, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndParent);
05053 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1459">xxxDW_DestroyOwnedWindows</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndParent);
05054 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1460">xxxDW_SendDestroyMessages</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05055 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1461">xxxFreeWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d5/d1/struct__TL.html">PTL</a> ptlpwndFree);
05056 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1462">xxxFW_DestroyAllChildren</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05057 
05058 <a class="code" href="../../d4/d1/userk_8h.html#a903">PHOTKEY</a> <a class="code" href="../../d4/d1/userk_8h.html#a1463">FindHotKey</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <span class="keywordtype">int</span> <span class="keywordtype">id</span>, UINT fsModifiers, UINT vk,
05059         BOOL fUnregister, PBOOL pfKeysExist);
05060 
05061 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d8/d8/winsta_8c.html#a12">_BuildNameList</a>(
05062         <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a> pwinsta,
05063         <a class="code" href="../../d8/d2/structtagNAMELIST.html">PNAMELIST</a> pNameList,
05064         UINT cbNameList,
05065         PUINT pcbNeeded);
05066 
05067 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1465">xxxHelpLoop</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05068 
05069 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d8/kernel_2winprop_8c.html#a2">_BuildPropList</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d2/d1/struct__PROPSET.html">PROPSET</a> aPropSet[], UINT cPropMax, PUINT pcPropReturned);
05070 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1467">xxxSendEraseBkgnd</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, HDC hdcBeginPaint, HRGN hrgnUpdate);
05071 LONG <a class="code" href="../../d4/d1/userk_8h.html#a1468">xxxSetScrollBar</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <span class="keywordtype">int</span> code, LPSCROLLINFO lpsi, BOOL fRedraw);
05072 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1469">IncPaintCount</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05073 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1470">DecPaintCount</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05074 <a class="code" href="../../d1/d4/structtagPROP.html">PPROP</a> <a class="code" href="../../d4/d8/kernel_2winprop_8c.html#a3">CreateProp</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05075 
05076 <span class="comment">/*</span>
05077 <span class="comment"> * METRICS.C</span>
05078 <span class="comment"> */</span>
05079 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1472">xxxRecreateSmallIcons</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05080 
05081 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>   <a class="code" href="../../d4/d1/userk_8h.html#a1473">TransferWakeBit</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti, UINT message);
05082 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>   <a class="code" href="../../d4/d1/userk_8h.html#a1474">SysHasKanji</a>(VOID);
05083 LONG   <a class="code" href="../../d4/d1/userk_8h.html#a1475">xxxBroadcastMessage</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>, UINT, WPARAM, LPARAM, UINT, PBROADCASTMSG );
05084 
05085 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>   <a class="code" href="../../d5/d3/ntuser_2kernel_2input_8c.html#a32">zzzSetFMouseMoved</a>();
05086 
05087 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>   <a class="code" href="../../d4/d1/userk_8h.html#a1477">TimersProc</a>(VOID);
05088 
05089 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>   <a class="code" href="../../d4/d1/userk_8h.html#a1478">PostMove</a>(<a class="code" href="../../d7/d4/structtagQ.html">PQ</a> pq);
05090 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>   <a class="code" href="../../d4/d1/userk_8h.html#a1479">DestroyWindowsTimers</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05091 
05092 UINT_PTR <a class="code" href="../../d4/d1/userk_8h.html#a1480">StartTimers</a>(VOID);
05093 
05094 <span class="comment">/*==========================================================================*/</span>
05095 <span class="comment">/*                                                                          */</span>
05096 <span class="comment">/*  Internal Function Declarations                                          */</span>
05097 <span class="comment">/*                                                                          */</span>
05098 <span class="comment">/*==========================================================================*/</span>
05099 
05100 LRESULT <a class="code" href="../../d4/d1/userk_8h.html#a1481">xxxTooltipWndProc</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>, UINT, WPARAM, LPARAM);
05101 LRESULT <a class="code" href="../../d4/d1/userk_8h.html#a1482">xxxSwitchWndProc</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>, UINT, WPARAM, LPARAM);
05102 LRESULT <a class="code" href="../../d4/d1/userk_8h.html#a1483">xxxDesktopWndProc</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>, UINT, WPARAM, LPARAM);
05103 
05104 LRESULT <a class="code" href="../../d4/d1/userk_8h.html#a1484">xxxSBWndProc</a>(<a class="code" href="../../d7/d5/structtagSBWND.html">PSBWND</a>, UINT, WPARAM, LPARAM);
05105 
05106 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>   <a class="code" href="../../d4/d1/userk_8h.html#a1485">DrawThumb2</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>, <a class="code" href="../../d3/d5/structtagSBCALC.html">PSBCALC</a>, HDC, HBRUSH, BOOL, UINT);
05107 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>   <a class="code" href="../../d4/d1/userk_8h.html#a1486">GetWndSBDisableFlags</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>, BOOL);
05108 
05109 HANDLE <a class="code" href="../../d4/d1/userk_8h.html#a1487">_ConvertMemHandle</a>(LPBYTE lpData, <span class="keywordtype">int</span> cbData);
05110 
05111 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1488">zzzRegisterSystemThread</a> (DWORD flags, DWORD reserved);
05112 
05113 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d7/d1/ntuser_2kernel_2cursor_8c.html#a11">zzzUpdateCursorImage</a>();
05114 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1490">zzzCalcStartCursorHide</a>(PW32PROCESS Process, DWORD timeAdd);
05115 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1491">FinalUserInit</a>();
05116 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1492">LW_RegisterWindows</a>(BOOL fSystem);
05117 
05118 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1493">xxxSystemParametersInfo</a>(UINT wFlag, DWORD wParam, LPVOID lParam, UINT flags);
05119 
05120 <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a> <a class="code" href="../../d8/d8/ntuser_2kernel_2clipbrd_8c.html#a14">CheckClipboardAccess</a>(<span class="keywordtype">void</span>);
05121 <a class="code" href="../../d4/d1/userk_8h.html#a849">PCLIP</a> <a class="code" href="../../d4/d1/userk_8h.html#a1495">FindClipFormat</a>(<a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a> pwinsta, UINT format);
05122 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1496">InternalSetClipboardData</a>(<a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a> pwinsta, UINT format,
05123         HANDLE hData, BOOL fGlobalHandle, BOOL fIncSerialNumber);
05124 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1497">DisownClipboard</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndClipOwner);
05125 
05126 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1498">CaretBlinkProc</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT message, UINT_PTR <span class="keywordtype">id</span>, LPARAM lParam);
05127 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1499">xxxRedrawFrame</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05128 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1500">xxxRedrawFrameAndHook</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05129 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1501">BltColor</a>(HDC, HBRUSH, HDC, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, UINT);
05130 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1502">StoreMessage</a>(LPMSG pmsg, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT message, WPARAM wParam,
05131         LPARAM lParam, DWORD time);
05132 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1503">StoreQMessage</a>(<a class="code" href="../../d8/d4/structtagQMSG.html">PQMSG</a> pqmsg, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT message, WPARAM wParam,
05133         LPARAM lParam, DWORD time, DWORD dwQEvent, ULONG_PTR dwExtraInfo);
05134 
05135 <span class="preprocessor">#ifdef REDIRECTION</span>
05136 <span class="preprocessor"></span><span class="keywordtype">void</span> __inline <a class="code" href="../../d4/d1/userk_8h.html#a1504">StoreQMessagePti</a>(<a class="code" href="../../d8/d4/structtagQMSG.html">PQMSG</a> pqmsg, <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti)
05137 {
<a name="l05138"></a><a class="code" href="../../d4/d1/userk_8h.html#a1504">05138</a>     <span class="keywordflow">if</span> (pqmsg-&gt;<a class="code" href="../../d8/d4/structtagQMSG.html#o2">msg</a>.message &gt;= WM_MOUSEFIRST &amp;&amp; pqmsg-&gt;<a class="code" href="../../d8/d4/structtagQMSG.html#o2">msg</a>.message &lt;= WM_MOUSELAST) {
05139         pqmsg-&gt;<a class="code" href="../../d8/d4/structtagQMSG.html#o2">msg</a>.pt.x = LOWORD(pqmsg-&gt;<a class="code" href="../../d8/d4/structtagQMSG.html#o2">msg</a>.lParam);
05140         pqmsg-&gt;<a class="code" href="../../d8/d4/structtagQMSG.html#o2">msg</a>.pt.y = HIWORD(pqmsg-&gt;<a class="code" href="../../d8/d4/structtagQMSG.html#o2">msg</a>.lParam);
05141     } <span class="keywordflow">else</span> {
05142         <span class="keywordflow">if</span> (pti != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
05143             pqmsg-&gt;<a class="code" href="../../d8/d4/structtagQMSG.html#o2">msg</a>.pt = pti-&gt;<a class="code" href="../../d2/d8/structtagTHREADINFO.html#o38">ptLast</a>;
05144     }
05145     pqmsg-&gt;<a class="code" href="../../d8/d4/structtagQMSG.html#o5">pti</a> = pti;
05146 }
05147 <span class="preprocessor">#else</span>
05148 <span class="preprocessor"></span><span class="keywordtype">void</span> __inline <a class="code" href="../../d4/d1/userk_8h.html#a1504">StoreQMessagePti</a>(<a class="code" href="../../d8/d4/structtagQMSG.html">PQMSG</a> pqmsg, <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti)
05149 {
05150     pqmsg-&gt;<a class="code" href="../../d8/d4/structtagQMSG.html#o5">pti</a> = pti;
05151 }
05152 <span class="preprocessor">#endif // REDIRECTION</span>
05153 <span class="preprocessor"></span>
05154 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1505">xxxSendSizeMessage</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT cmdSize);
05155 
05156 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1506">xxxCheckFocus</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05157 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1507">OffsetChildren</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <span class="keywordtype">int</span> dx, <span class="keywordtype">int</span> dy, LPRECT prcHitTest);
05158 
05159 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1508">xxxMoveSize</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT cmdMove, DWORD wptStart);
05160 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1509">xxxShowOwnedWindows</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndOwner, UINT cmdShow, HRGN hrgnHung);
05161 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1510">xxxAdjustSize</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, LPINT lpcx, LPINT lpcy);
05162 
05163 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1511">xxxNextWindow</a>(<a class="code" href="../../d7/d4/structtagQ.html">PQ</a> pq, DWORD wParam);
05164 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1512">xxxOldNextWindow</a>(UINT flags);
05165 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d1/d3/tmswitch_8c.html#a29">xxxCancelCoolSwitch</a>(<span class="keywordtype">void</span>);
05166 
05167 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1514">xxxCancelTracking</a>(VOID);
05168 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1515">xxxCancelTrackingForThread</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> ptiCancel);
05169 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1516">xxxCapture</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT code);
05170 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> <a class="code" href="../../d4/d1/userk_8h.html#a1517">SystoChar</a>(UINT message, LPARAM lParam);
05171 
05172 <a class="code" href="../../d5/d6/structtagHOOK.html">PHOOK</a> <a class="code" href="../../d4/d1/userk_8h.html#a1518">PhkFirstValid</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti, <span class="keywordtype">int</span> nFilterType);
05173 <a class="code" href="../../d5/d6/structtagHOOK.html">PHOOK</a> <a class="code" href="../../d4/d1/userk_8h.html#a1519">PhkFirstGlobalValid</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti, <span class="keywordtype">int</span> nFilterType);
05174 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>  <a class="code" href="../../d4/d1/userk_8h.html#a1520">FreeHook</a>(<a class="code" href="../../d5/d6/structtagHOOK.html">PHOOK</a> phk);
05175 <span class="keywordtype">int</span>   <a class="code" href="../../d4/d1/userk_8h.html#a1521">xxxCallHook</a>(<span class="keywordtype">int</span>, WPARAM, LPARAM, <span class="keywordtype">int</span>);
05176 LRESULT <a class="code" href="../../d4/d1/userk_8h.html#a1522">xxxCallHook2</a>(<a class="code" href="../../d5/d6/structtagHOOK.html">PHOOK</a>, <span class="keywordtype">int</span>, WPARAM, LPARAM, LPBOOL);
05177 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>  <a class="code" href="../../d4/d1/userk_8h.html#a1523">xxxCallMouseHook</a>(UINT message, PMOUSEHOOKSTRUCTEX pmhs, BOOL fRemove);
05178 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>  <a class="code" href="../../d4/d1/userk_8h.html#a1524">xxxCallJournalRecordHook</a>(<a class="code" href="../../d8/d4/structtagQMSG.html">PQMSG</a> pqmsg);
05179 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d4/d1/userk_8h.html#a1525">xxxCallJournalPlaybackHook</a>(<a class="code" href="../../d8/d4/structtagQMSG.html">PQMSG</a> pqmsg);
05180 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>  <a class="code" href="../../d4/d1/userk_8h.html#a1526">SetJournalTimer</a>(DWORD dt, UINT msgJournal);
05181 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>  <a class="code" href="../../d4/d1/userk_8h.html#a1527">FreeThreadsWindowHooks</a>(VOID);
05182 
05183 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1528">xxxSnapWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05184 
05185 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1529">DefSetText</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d1/d9/struct__LARGE__STRING.html">PLARGE_STRING</a> pstrText);
05186 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1530">DSW_GetTopLevelCreatorWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05187 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1531">xxxCalcClientRect</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, LPRECT lprc, BOOL fHungRedraw);
05188 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1532">xxxUpdateClientRect</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05189 
05190 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>   <a class="code" href="../../d4/d1/userk_8h.html#a1533">AllocateUnicodeString</a>(PUNICODE_STRING pstrDst, PUNICODE_STRING pstrSrc);
05191 
05192 HANDLE <a class="code" href="../../d4/d1/userk_8h.html#a1534">CreateDesktopHeap</a>(PWIN32HEAP* ppheapRet, ULONG ulHeapSize);
05193 
05194 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d9/d7/kernel_2winmgr_8c.html#a13">xxxSetInternalWindowPos</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT cmdShow, LPRECT lprcWin,
05195             LPPOINT lpptMin);
05196 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1536">xxxMetricsRecalc</a>(UINT wFlags, <span class="keywordtype">int</span> dx, <span class="keywordtype">int</span> dy, <span class="keywordtype">int</span> dyCaption, <span class="keywordtype">int</span> dyMenu);
<a name="l05197"></a><a class="code" href="../../d9/d3/structtagPROFILEVALUEINFO.html">05197</a> 
<a name="l05198"></a><a class="code" href="../../d9/d3/structtagPROFILEVALUEINFO.html#o0">05198</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1537">xxxBroadcastDisplaySettingsChange</a>(<a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a>, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>);
<a name="l05199"></a><a class="code" href="../../d9/d3/structtagPROFILEVALUEINFO.html#o1">05199</a> 
<a name="l05200"></a><a class="code" href="../../d9/d3/structtagPROFILEVALUEINFO.html#o2">05200</a> 
05201 <span class="comment">/*</span>
05202 <span class="comment"> * This is for SPI_GET/SETUSERPREFERENCE.</span>
05203 <span class="comment"> * Currently it's for DWORD values only. A type field will be added</span>
05204 <span class="comment"> *  so all new settings will be mostly handled through common SystemParametersInfo</span>
05205 <span class="comment"> *  code.</span>
05206 <span class="comment"> */</span>
05207 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d3/structtagPROFILEVALUEINFO.html">tagPROFILEVALUEINFO</a> {
05208     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>       <a class="code" href="../../d9/d3/structtagPROFILEVALUEINFO.html#o0">dwValue</a>;
05209     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>        <a class="code" href="../../d9/d3/structtagPROFILEVALUEINFO.html#o1">uSection</a>;
05210     LPCWSTR     <a class="code" href="../../d9/d3/structtagPROFILEVALUEINFO.html#o2">pwszKeyName</a>;
05211 } <a class="code" href="../../d9/d3/structtagPROFILEVALUEINFO.html">PROFILEVALUEINFO</a>, *<a class="code" href="../../d9/d3/structtagPROFILEVALUEINFO.html">PPROFILEVALUEINFO</a>;
05212 
<a name="l05213"></a><a class="code" href="../../d4/d1/userk_8h.html#a554">05213</a> <span class="comment">/*</span>
05214 <span class="comment"> *  SystemParametersInfo UserPreferences manipulation macros.</span>
05215 <span class="comment"> *  SPI_ values in the BOOL or DWORD ranges (see winuser.w) are stored in</span>
05216 <span class="comment"> *   gpdwCPUserPreferencesMask (BOOL) and gpviCPUserPreferences (DOWRD) (see kernel\globals.c).</span>
05217 <span class="comment"> *  The following macros use the actual SPI_ value to determine the</span>
05218 <span class="comment"> *   location of a given bit (BOOL mask) or DWORD in those  globals.</span>
05219 <span class="comment"> *</span>
<a name="l05220"></a><a class="code" href="../../d4/d1/userk_8h.html#a555">05220</a> <span class="comment"> *  Macros to access DWORDs stored in gpviCPUserPreferences.</span>
05221 <span class="comment"> *</span>
05222 <span class="comment"> */</span>
05223 <span class="preprocessor">#define UPIsDWORDRange(uSetting)    \</span>
05224 <span class="preprocessor">            ((uSetting) &gt;= SPI_STARTDWORDRANGE &amp;&amp; (uSetting) &lt; SPI_MAXDWORDRANGE)</span>
05225 <span class="preprocessor"></span>
<a name="l05226"></a><a class="code" href="../../d4/d1/userk_8h.html#a556">05226</a> <span class="comment">/*</span>
05227 <span class="comment"> * The first entry in gpviCPUserPreferences is reserved for the bitmask, so add 1.</span>
05228 <span class="comment"> * Each setting has SPI_GET and SPI_SET, so divide by 2 to get the index</span>
05229 <span class="comment"> */</span>
05230 <span class="preprocessor">#define UPDWORDIndex(uSetting)    \</span>
05231 <span class="preprocessor">            (1 + (((uSetting) - SPI_STARTDWORDRANGE) / 2))</span>
<a name="l05232"></a><a class="code" href="../../d4/d1/userk_8h.html#a557">05232</a> <span class="preprocessor"></span>
05233 <span class="comment">/*</span>
05234 <span class="comment"> * Macros to access BOOLs stored in gpdwCPUserPreferencesMask.</span>
05235 <span class="comment"> */</span>
05236 <span class="preprocessor">#define UPIsBOOLRange(uSetting) \</span>
05237 <span class="preprocessor">    ((uSetting) &gt;= SPI_STARTBOOLRANGE &amp;&amp; (uSetting) &lt; SPI_MAXBOOLRANGE)</span>
<a name="l05238"></a><a class="code" href="../../d4/d1/userk_8h.html#a558">05238</a> <span class="preprocessor"></span>
05239 <span class="comment">/*</span>
05240 <span class="comment"> * Each setting has SPI_GET and SPI_SET, so divide by 2 to get the index</span>
05241 <span class="comment"> */</span>
05242 <span class="preprocessor">#define UPBOOLIndex(uSetting) \</span>
05243 <span class="preprocessor">    (((uSetting) - SPI_STARTBOOLRANGE) / 2)</span>
<a name="l05244"></a><a class="code" href="../../d4/d1/userk_8h.html#a559">05244</a> <span class="preprocessor"></span>
05245 <span class="comment">/*</span>
05246 <span class="comment"> * Returns a pointer to the DWORD that contains the bit corresponding to uSetting</span>
<a name="l05247"></a><a class="code" href="../../d4/d1/userk_8h.html#a560">05247</a> <span class="comment"> */</span>
05248 <span class="preprocessor">#define UPBOOLPointer(pdw, uSetting)    \</span>
05249 <span class="preprocessor">    (pdw + (UPBOOLIndex(uSetting) / 32))</span>
<a name="l05250"></a><a class="code" href="../../d4/d1/userk_8h.html#a561">05250</a> <span class="preprocessor"></span>
05251 <span class="comment">/*</span>
05252 <span class="comment"> * Returns the DWORD mask needed to test/set/clear the bit corresponding to uSetting</span>
<a name="l05253"></a><a class="code" href="../../d4/d1/userk_8h.html#a562">05253</a> <span class="comment"> */</span>
05254 <span class="preprocessor">#define UPBOOLMask(uSetting)    \</span>
05255 <span class="preprocessor">    (1 &lt;&lt; (UPBOOLIndex(uSetting) - ((UPBOOLIndex(uSetting) / 32) * 32)))</span>
05256 <span class="preprocessor"></span>
05257 <span class="preprocessor">#define TestUPBOOL(pdw, uSetting)   \</span>
05258 <span class="preprocessor">    (*UPBOOLPointer(pdw, uSetting) &amp; UPBOOLMask(uSetting))</span>
05259 <span class="preprocessor"></span>
05260 <span class="preprocessor">#define SetUPBOOL(pdw, uSetting)    \</span>
05261 <span class="preprocessor">    (*UPBOOLPointer(pdw, uSetting) |= UPBOOLMask(uSetting))</span>
<a name="l05262"></a><a class="code" href="../../d4/d1/userk_8h.html#a563">05262</a> <span class="preprocessor"></span>
<a name="l05263"></a><a class="code" href="../../d4/d1/userk_8h.html#a564">05263</a> <span class="preprocessor">#define ClearUPBOOL(pdw, uSetting)                              \</span>
<a name="l05264"></a><a class="code" href="../../d4/d1/userk_8h.html#a565">05264</a> <span class="preprocessor">{                                                               \</span>
05265 <span class="preprocessor">    UserAssert(UPIsBOOLRange(uSetting));                        \</span>
<a name="l05266"></a><a class="code" href="../../d4/d1/userk_8h.html#a566">05266</a> <span class="preprocessor">    *UPBOOLPointer(pdw, uSetting) &amp;= ~UPBOOLMask(uSetting);     \</span>
05267 <span class="preprocessor">}</span>
05268 <span class="preprocessor"></span>
05269 <span class="comment">/*</span>
05270 <span class="comment"> * Use these macros ONLY if UPIsBOOLRange(SPI_GET ## uSetting) is TRUE</span>
05271 <span class="comment"> */</span>
<a name="l05272"></a><a class="code" href="../../d4/d1/userk_8h.html#a567">05272</a> <span class="preprocessor">#define TestUP(uSetting)    TestUPBOOL(gpdwCPUserPreferencesMask, SPI_GET ## uSetting)</span>
05273 <span class="preprocessor"></span><span class="preprocessor">#define SetUP(uSetting)     SetUPBOOL(gpdwCPUserPreferencesMask, SPI_GET ## uSetting)</span>
05274 <span class="preprocessor"></span><span class="preprocessor">#define ClearUP(uSetting)   ClearUPBOOL(gpdwCPUserPreferencesMask, SPI_GET ## uSetting)</span>
05275 <span class="preprocessor"></span>
05276 <span class="preprocessor">#define IndexUP(uSetting) \</span>
05277 <span class="preprocessor">    (1 &lt;&lt; (((uSetting) - SPI_STARTBOOLRANGE) / 2))</span>
05278 <span class="preprocessor"></span>
05279 <span class="comment">/*</span>
<a name="l05280"></a><a class="code" href="../../d4/d1/userk_8h.html#a568">05280</a> <span class="comment"> * Some settings (ie, UI Effects) are disabled when TestUP(UISETTINGS) is FALSE.</span>
05281 <span class="comment"> */</span>
05282 <span class="preprocessor">#define TestEffectUP(uSetting)                                          \</span>
05283 <span class="preprocessor">    ((*gpdwCPUserPreferencesMask &amp;                                      \</span>
05284 <span class="preprocessor">     (IndexUP(SPI_GET ## uSetting) | IndexUP(SPI_GETUIEFFECTS))) ==     \</span>
05285 <span class="preprocessor">     (IndexUP(SPI_GET ## uSetting) | IndexUP(SPI_GETUIEFFECTS)))</span>
<a name="l05286"></a><a class="code" href="../../d4/d1/userk_8h.html#a569">05286</a> <span class="preprocessor"></span>
05287 <span class="comment">/*</span>
05288 <span class="comment"> * Some UI effects have an "inverted" disabled value (ie, disabled is TRUE)</span>
05289 <span class="comment"> */</span>
05290 <span class="preprocessor">#define TestEffectInvertUP(uSetting) (TestUP(uSetting) || !TestUP(UIEFFECTS))</span>
05291 <span class="preprocessor"></span>
05292 <span class="comment">/*</span>
05293 <span class="comment"> * Some of these BOOL values are needed in the client side. This macro propagates them to gpsi-&gt;PUSIFlags</span>
05294 <span class="comment"> * Note that the SI_ value must match the UPBOOLMask value for this to work fine.</span>
<a name="l05295"></a><a class="code" href="../../d4/d1/userk_8h.html#a570">05295</a> <span class="comment"> */</span>
05296 <span class="preprocessor">#define PropagetUPBOOLTogpsi(uSetting) \</span>
05297 <span class="preprocessor">    UserAssert((DWORD)(PUSIF_ ## uSetting) == (DWORD)UPBOOLMask(SPI_GET ## uSetting)); \</span>
05298 <span class="preprocessor">    COPY_FLAG(gpsi-&gt;PUSIFlags, TestUP(## uSetting), PUSIF_ ## uSetting)</span>
05299 <span class="preprocessor"></span>
05300 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1538">xxxUpdatePerUserSystemParameters</a>(HANDLE hToken, BOOL bUserLoggedOn);
05301 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1539">SaveVolatileUserSettings</a>(VOID);
05302 
05303 <span class="keywordtype">void</span> <a class="code" href="../../d2/d8/metrics_8c.html#a0">MenuRecalc</a>(<span class="keywordtype">void</span>);
05304 
05305 <span class="preprocessor">#define UNDERLINE_RECALC    0x7FFFFFFF      // MAXINT; tells us to recalc underline position</span>
05306 <span class="preprocessor"></span>
05307 
<a name="l05308"></a><a class="code" href="../../d4/d1/userk_8h.html#a571">05308</a> <span class="comment">/*</span>
05309 <span class="comment"> * Library management routines.</span>
05310 <span class="comment"> */</span>
05311 <span class="keywordtype">int</span> <a class="code" href="../../d4/d1/userk_8h.html#a1541">GetHmodTableIndex</a>(PUNICODE_STRING pstrName);
05312 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1542">AddHmodDependency</a>(<span class="keywordtype">int</span> iatom);
05313 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1543">RemoveHmodDependency</a>(<span class="keywordtype">int</span> iatom);
05314 HANDLE <a class="code" href="../../d4/d1/userk_8h.html#a1544">xxxLoadHmodIndex</a>(<span class="keywordtype">int</span> iatom, BOOL bWx86KnownDll);
05315 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1545">xxxDoSysExpunge</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti);
05316 
05317 
05318 <span class="preprocessor">#define UnrealizeObject(hbr)    </span><span class="comment">/* NOP for NT */</span>
05319 
05320 
05321 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d8/handtabl_8c.html#a27">DestroyThreadsObjects</a>(VOID);
05322 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1547">MarkThreadsObjects</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti);
05323 
05324 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1548">FreeMessageList</a>(PMLIST pml);
05325 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d3/d2/hotkeys_8c.html#a1">DestroyThreadsHotKeys</a>(VOID);
05326 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1550">DestroyWindowsHotKeys</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05327 
05328 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1551">DestroyClass</a>(<a class="code" href="../../d7/d0/structtagCLS.html">PPCLS</a> ppcls);
05329 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1552">PatchThreadWindows</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a>);
05330 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1553">DestroyCacheDCEntries</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a>);
05331 
05332 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1554">DestroyProcessesClasses</a>(<a class="code" href="../../d7/d3/structtagPROCESSINFO.html">PPROCESSINFO</a>);
05333 
05334 <span class="comment">/*</span>
05335 <span class="comment"> *  Win16 Task Apis Taskman.c</span>
05336 <span class="comment"> */</span>
05337 
05338 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1555">InsertTask</a>(<a class="code" href="../../d7/d3/structtagPROCESSINFO.html">PPROCESSINFO</a> ppi, <a class="code" href="../../d0/d8/structtagTDB.html">PTDB</a> ptdbNew);
05339 
05340 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1556">xxxSleepTask</a>(BOOL fInputIdle, HANDLE);
05341 
05342 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1557">xxxUserYield</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti);
<a name="l05343"></a><a class="code" href="../../d4/d1/userk_8h.html#a1561">05343</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1558">xxxDirectedYield</a>(DWORD dwThreadId);
05344 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1559">DirectedScheduleTask</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> ptiOld, <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> ptiNew, BOOL bSendMsg, PSMS psms);
05345 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1560">WakeWowTask</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> Pti);
05346 
05347 <span class="comment">/*</span>
05348 <span class="comment"> *  WowScheduler assertion for multiple wow tasks running simultaneously</span>
05349 <span class="comment"> */</span>
05350 
05351 _inline
05352 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
05353 <a class="code" href="../../d4/d1/userk_8h.html#a1561">EnterWowCritSect</a>(
05354     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti,
05355     PWOWPROCESSINFO pwpi
05356 )
05357 {
05358    <span class="keywordflow">if</span> (!++pwpi-&gt;<a class="code" href="../../d7/d9/structtagWOWPROCESSINFO.html#o10">CSLockCount</a>) {
05359        pwpi-&gt;<a class="code" href="../../d7/d9/structtagWOWPROCESSINFO.html#o9">CSOwningThread</a> = pti;
05360        <span class="keywordflow">return</span>;
05361        }
05362 
05363    RIPMSG2(RIP_ERROR,
<a name="l05364"></a><a class="code" href="../../d4/d1/userk_8h.html#a1562">05364</a>          <span class="stringliteral">"MultipleWowTasks running simultaneously %x %x\n"</span>,
05365          pwpi-&gt;<a class="code" href="../../d7/d9/structtagWOWPROCESSINFO.html#o9">CSOwningThread</a>,
05366          pwpi-&gt;<a class="code" href="../../d7/d9/structtagWOWPROCESSINFO.html#o10">CSLockCount</a>
05367      );
05368 
05369    <span class="keywordflow">return</span>;
05370 }
05371 
05372 _inline
05373 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
05374 <a class="code" href="../../d4/d1/userk_8h.html#a1562">ExitWowCritSect</a>(
05375     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti,
05376     PWOWPROCESSINFO pwpi
05377 )
05378 {
05379    <span class="keywordflow">if</span> (pti == pwpi-&gt;<a class="code" href="../../d7/d9/structtagWOWPROCESSINFO.html#o9">CSOwningThread</a>) {
05380        pwpi-&gt;<a class="code" href="../../d7/d9/structtagWOWPROCESSINFO.html#o9">CSOwningThread</a> = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
05381        pwpi-&gt;<a class="code" href="../../d7/d9/structtagWOWPROCESSINFO.html#o10">CSLockCount</a>--;
05382        }
05383 
05384    <span class="keywordflow">return</span>;
05385 }
05386 
05387 
05389 <span class="comment">//</span>
05390 <span class="comment">// These are internal USER functions called from inside and outside the</span>
05391 <span class="comment">// critical section (from server &amp; client side).  They are a private 'API'.</span>
05392 <span class="comment">//</span>
05393 <span class="comment">// The prototypes appear in pairs:</span>
05394 <span class="comment">//    as called from outside the critsect (from client-side)</span>
05395 <span class="comment">//    as called from inside the critsect (from server-side)</span>
05396 <span class="comment">// there must be layer code for the 1st function of each pair which validates</span>
05397 <span class="comment">// handles, enters the critsect, calls the 2nd of the pair of functions, and</span>
05398 <span class="comment">// leaves the critsect again.</span>
05399 <span class="comment">//</span>
05400 <span class="comment">// Things may have to change when we go client server: InitPwSB() mustn't</span>
05401 <span class="comment">// return a pointer to global (server) data! etc.</span>
05402 <span class="comment">//</span>
05404 <span class="comment"></span>
05405 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>  <a class="code" href="../../d4/d1/userk_8h.html#a1563">xxxFillWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndBrush, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndPaint, HDC hdc, HBRUSH hbr);
05406 HBRUSH <a class="code" href="../../d4/d1/userk_8h.html#a1564">xxxGetControlBrush</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, HDC hdc, UINT msg);
05407 HBRUSH <a class="code" href="../../d4/d1/userk_8h.html#a1565">xxxGetControlColor</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndParent, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndCtl, HDC hdc, UINT message);
05408 <a class="code" href="../../d5/d5/structtagSBINFO.html">PSBINFO</a>  <a class="code" href="../../d4/d1/userk_8h.html#a1566">_InitPwSB</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>);
05409 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>  <a class="code" href="../../d4/d1/userk_8h.html#a1567">_KillSystemTimer</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT_PTR nIDEvent);
05410 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>  <a class="code" href="../../d4/d1/userk_8h.html#a1568">xxxPaintRect</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>, HDC, HBRUSH, LPRECT);
05411 
05413 <span class="comment">//</span>
05414 <span class="comment">// these are called from stubs.c in the client so will probably go away</span>
05415 <span class="comment">//</span>
05417 <span class="comment"></span>
05418 
05419 <span class="comment">/*</span>
05420 <span class="comment"> * From CLASS.C</span>
05421 <span class="comment"> */</span>
05422 <a class="code" href="../../d7/d0/structtagCLS.html">PCLS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1569">InternalRegisterClassEx</a>(
05423         LPWNDCLASSEX lpwndcls,
05424         WORD fnid,
05425         DWORD flags
05426         );
05427 
05428 <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> <a class="code" href="../../d4/d1/userk_8h.html#a1570">GetClassIcoCur</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <span class="keywordtype">int</span> index);
05429 <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> <a class="code" href="../../d4/d1/userk_8h.html#a1571">xxxSetClassIcon</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d7/d0/structtagCLS.html">PCLS</a> pcls, <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> pCursor, <span class="keywordtype">int</span> gcw);
05430 ULONG_PTR <a class="code" href="../../d4/d1/userk_8h.html#a1572">xxxSetClassData</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <span class="keywordtype">int</span> index, ULONG_PTR dwData, BOOL bAnsi);
05431 ULONG_PTR <a class="code" href="../../d4/d1/userk_8h.html#a1573">SetClassCursor</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d7/d0/structtagCLS.html">PCLS</a> pcls, DWORD index, ULONG_PTR dwData);
05432 
05433 <span class="comment">/*</span>
05434 <span class="comment"> * CREATEW.C</span>
05435 <span class="comment"> * LATER IanJa: LPSTR -&gt; LPCREATESTRUCT pCreateParams</span>
05436 <span class="comment"> */</span>
05437 
05438 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d4/d1/userk_8h.html#a1574">xxxCreateWindowEx</a>(DWORD dwStyle, <a class="code" href="../../d1/d9/struct__LARGE__STRING.html">PLARGE_STRING</a> pstrClass,
05439         <a class="code" href="../../d1/d9/struct__LARGE__STRING.html">PLARGE_STRING</a> pstrName, DWORD style, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> cx,
05440         <span class="keywordtype">int</span> cy, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndParent, <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pmenu, HANDLE hModule,
05441         LPVOID pCreateParams, DWORD dwExpWinVerAndFlags);
05442 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1575">xxxDestroyWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05443 
05444 <span class="comment">/*</span>
05445 <span class="comment"> * SENDMSG.C</span>
05446 <span class="comment"> */</span>
05447 LRESULT <a class="code" href="../../d4/d1/userk_8h.html#a1576">xxxSendMessageFF</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT message, WPARAM wParam, LPARAM lParam, ULONG_PTR xParam);
05448 LONG <a class="code" href="../../d4/d1/userk_8h.html#a1577">xxxSendMessageBSM</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT message, WPARAM wParam, LPARAM lParam,
05449         LPBROADCASTSYSTEMMSGPARAMS pbsmParams);
05450 LRESULT <a class="code" href="../../d4/d1/userk_8h.html#a1578">xxxSendMessageEx</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT message, WPARAM wParam, LPARAM lParam, ULONG_PTR xParam);
05451 LRESULT <a class="code" href="../../d4/d1/userk_8h.html#a1579">xxxSendMessage</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT message, WPARAM wParam, LPARAM lParam);
05452 LRESULT <a class="code" href="../../d4/d1/userk_8h.html#a1580">xxxSendMessageTimeout</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT message, WPARAM wParam, LPARAM lParam,
05453         UINT fuFlags, UINT uTimeout, PLONG_PTR lpdwResult);
05454 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1581">xxxSendNotifyMessage</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT message, WPARAM wParam, LPARAM lParam);
05455 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1582">QueueNotifyMessage</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT message, WPARAM wParam, LPARAM lParam);
05456 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1583">xxxSendMessageCallback</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT message, WPARAM wParam, LPARAM lParam,
05457         SENDASYNCPROC lpResultCallBack, ULONG_PTR dwData, BOOL bClientReqest );
05458 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1584">_ReplyMessage</a>(LRESULT lRet);
05459 
05460 <span class="comment">/*</span>
05461 <span class="comment"> * MN*.C</span>
05462 <span class="comment"> */</span>
05463 <span class="keywordtype">int</span> <a class="code" href="../../d4/d1/userk_8h.html#a1585">xxxTranslateAccelerator</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, LPACCELTABLE pat, LPMSG lpMsg);
05464 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>  <a class="code" href="../../d4/d1/userk_8h.html#a1586">xxxSetMenu</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pmenu, BOOL fRedraw);
05465 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>  <a class="code" href="../../d4/d1/userk_8h.html#a1587">ChangeMenuOwner</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu, <a class="code" href="../../d7/d3/structtagPROCESSINFO.html">PPROCESSINFO</a> ppi);
05466 <span class="keywordtype">int</span>   <a class="code" href="../../d4/d1/userk_8h.html#a1588">xxxMenuBarDraw</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, HDC hdc, <span class="keywordtype">int</span> cxFrame, <span class="keywordtype">int</span> cyFrame);
05467 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>  <a class="code" href="../../d4/d1/userk_8h.html#a1589">xxxDrawMenuBar</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05468 
05469 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1590">xxxSetMenuItemInfo</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu, UINT nPos, BOOL fByPosition,
05470     LPMENUITEMINFOW lpmii, PUNICODE_STRING pstrItem);
05471 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1591">_SetMenuContextHelpId</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu, DWORD dwContextHelpId);
05472 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1592">_SetMenuFlagRtoL</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu);
05473 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1593">xxxInsertMenuItem</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu, UINT wIndex, BOOL fByPosition,
05474         LPMENUITEMINFOW lpmii, PUNICODE_STRING pstrItem);
05475 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>  <a class="code" href="../../d4/d1/userk_8h.html#a1594">xxxRemoveMenu</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu, UINT nPos, UINT dwFlags);
05476 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>  <a class="code" href="../../d4/d1/userk_8h.html#a1595">xxxDeleteMenu</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu, UINT nPos, UINT dwFlags);
05477 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>  <a class="code" href="../../d4/d1/userk_8h.html#a1596">xxxSetMenuInfo</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu, LPCMENUINFO lpmi);
05478 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>  <a class="code" href="../../d4/d1/userk_8h.html#a1597">xxxTrackPopupMenuEx</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pmenu, UINT dwFlags, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y,
<a name="l05479"></a><a class="code" href="../../d4/d1/userk_8h.html#a1606">05479</a>         <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, CONST TPMPARAMS *pparams);
05480 LONG <a class="code" href="../../d4/d1/userk_8h.html#a1598">FindBestPos</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> cx, <span class="keywordtype">int</span> cy, LPRECT prcExclude,
05481                 UINT wFlags, <a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> ppopupmenu, <a class="code" href="../../d0/d2/structtagMONITOR.html">PMONITOR</a> pMonitor);
05482 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1599">_SetMenuDefaultItem</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu, UINT wId, BOOL fByPosition);
05483 <span class="keywordtype">int</span> <a class="code" href="../../d4/d1/userk_8h.html#a1600">xxxMenuItemFromPoint</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu, POINT ptScreen);
05484 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1601">xxxGetMenuItemRect</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu, UINT uIndex, LPRECT lprcScreen);
05485 <a class="code" href="../../d4/d3/structtagPOPUPMENU.html">PPOPUPMENU</a> <a class="code" href="../../d4/d1/userk_8h.html#a1602">MNGetPopupFromMenu</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu, PMENUSTATE *ppMenuState);
05486 PVOID <a class="code" href="../../d4/d1/userk_8h.html#a1603">LockDesktopMenu</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> * ppmenu, <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pmenu);
05487 PVOID <a class="code" href="../../d4/d1/userk_8h.html#a1604">UnlockDesktopMenu</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> * ppmenu);
05488 <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> <a class="code" href="../../d4/d1/userk_8h.html#a1605">xxxLoadSysDesktopMenu</a> (<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> * ppmenu, UINT uMenuId);
05489 __inline PVOID <a class="code" href="../../d4/d1/userk_8h.html#a1606">UnlockDesktopSysMenu</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> * ppmenu)
05490 {
05491     <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a785">ClearMF</a>(*ppmenu, MFSYSMENU);
<a name="l05492"></a><a class="code" href="../../d4/d1/userk_8h.html#a572">05492</a>     <span class="keywordflow">return</span> <a class="code" href="../../d4/d1/userk_8h.html#a1604">UnlockDesktopMenu</a>(ppmenu);
05493 }
05494 
05495 <span class="comment">/*</span>
05496 <span class="comment"> * SHOWWIN.C</span>
05497 <span class="comment"> */</span>
05498 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1607">xxxShowWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, DWORD cmdShowAnimate);
05499 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1608">_ShowWindowAsync</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <span class="keywordtype">int</span> cmdShow, UINT uWPFlags);
05500 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1609">xxxShowOwnedPopups</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndOwner, BOOL fShow);
<a name="l05501"></a><a class="code" href="../../d4/d1/userk_8h.html#a573">05501</a> 
05502 <span class="preprocessor">#define RDW_HASWINDOWRGN        0x8000</span>
05503 <span class="preprocessor"></span><a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1610">xxxSetWindowRgn</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, HRGN hrgn, BOOL fRedraw);
<a name="l05504"></a><a class="code" href="../../d4/d1/userk_8h.html#a1613">05504</a> 
05505 <span class="comment">/*</span>
05506 <span class="comment"> * SWP.C</span>
05507 <span class="comment"> */</span>
05508 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1611">SelectWindowRgn</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, HRGN hrgnClip);
05509 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d4/d1/userk_8h.html#a1612">GetTopMostInsertAfter</a> (<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05510 
05511 <span class="preprocessor">#define GETTOPMOSTINSERTAFTER(pwnd) \</span>
05512 <span class="preprocessor">    (gHardErrorHandler.pti == NULL ? NULL : GetTopMostInsertAfter(pwnd))</span>
05513 <span class="preprocessor"></span>
05514 __inline <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1613">FSwpTopmost</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd)
05515 {
05516     <span class="keywordflow">return</span> (!!<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, WEFTOPMOST) ^ !!<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, WFTOGGLETOPMOST));
05517 }
05518 
05519 
05520 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d4/d1/userk_8h.html#a1614">CalcForegroundInsertAfter</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05521 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1615">xxxSetWindowPos</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndInsertAfter, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y,
05522         <span class="keywordtype">int</span> cx, <span class="keywordtype">int</span> cy, UINT flags);
05523 <a class="code" href="../../d4/d1/userk_8h.html#a823">PSMWP</a> <a class="code" href="../../d4/d1/userk_8h.html#a1616">InternalBeginDeferWindowPos</a>(<span class="keywordtype">int</span> cwndGuess);
05524 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1617">AllocateCvr</a> (PSMWP psmwp, <span class="keywordtype">int</span> cwndHint);
05525 <a class="code" href="../../d4/d1/userk_8h.html#a823">PSMWP</a> <a class="code" href="../../d4/d1/userk_8h.html#a1618">_BeginDeferWindowPos</a>(<span class="keywordtype">int</span> cwndGuess);
05526 <a class="code" href="../../d4/d1/userk_8h.html#a823">PSMWP</a> <a class="code" href="../../d4/d1/userk_8h.html#a1619">_DeferWindowPos</a>(PSMWP psmwp, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndInsertAfter,
05527         <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> cx, <span class="keywordtype">int</span> cy, UINT rgf);
05528 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1620">xxxEndDeferWindowPosEx</a>(PSMWP psmwp, BOOL fAsync);
05529 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1621">xxxMoveWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> cx, <span class="keywordtype">int</span> cy, BOOL fRedraw);
05530 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d2/d8/swp_8c.html#a35">GetLastTopMostWindow</a>(VOID);
05531 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1622">xxxHandleWindowPosChanged</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, PWINDOWPOS ppos);
05532 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1623">IncVisWindows</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05533 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1624">DecVisWindows</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
<a name="l05534"></a><a class="code" href="../../d4/d1/userk_8h.html#a574">05534</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1625">FVisCountable</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
<a name="l05535"></a><a class="code" href="../../d4/d1/userk_8h.html#a575">05535</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1626">SetVisible</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT flags);
05536 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1627">ClrFTrueVis</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05537 
05538 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1628">SetWindowState</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, DWORD flags);
05539 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1629">ClearWindowState</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, DWORD flags);
05540 
05541 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1630">xxxUpdateWindows</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, HRGN hrgn);
05542 
05543 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1631">SetMinimize</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT uFlags);
05544 <span class="preprocessor">#define SMIN_CLEAR            0</span>
05545 <span class="preprocessor"></span><span class="preprocessor">#define SMIN_SET              1</span>
05546 <span class="preprocessor"></span>
05547 <span class="comment">/*</span>
05548 <span class="comment"> * DWP.C</span>
05549 <span class="comment"> */</span>
05550 LRESULT <a class="code" href="../../d4/d1/userk_8h.html#a1632">xxxDefWindowProc</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>, UINT, WPARAM, LPARAM);
05551 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d4/d1/userk_8h.html#a1633">DWP_GetEnabledPopup</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndStart);
05552 
<a name="l05553"></a><a class="code" href="../../d4/d1/userk_8h.html#a576">05553</a> 
05554 <span class="comment">/*</span>
<a name="l05555"></a><a class="code" href="../../d4/d1/userk_8h.html#a577">05555</a> <span class="comment"> * INPUT.C</span>
05556 <span class="comment"> */</span>
05557 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1634">xxxWaitMessage</a>(VOID);
05558 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1635">IdleTimerProc</a>(VOID);
05559 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1636">zzzWakeInputIdle</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti);
05560 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1637">SleepInputIdle</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti);
05561 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1638">xxxInternalGetMessage</a>(LPMSG lpmsg, HWND hwnd, UINT wMsgFilterMin,
05562         UINT wMsgFilterMax, UINT wRemoveMsg, BOOL fGetMessage);
<a name="l05563"></a><a class="code" href="../../d4/d1/userk_8h.html#a578">05563</a> <span class="preprocessor">#define xxxPeekMessage(lpmsg, hwnd, wMsgMin, wMsgMax, wRemoveMsg) \</span>
05564 <span class="preprocessor">    xxxInternalGetMessage(lpmsg, hwnd, wMsgMin, wMsgMax, wRemoveMsg, FALSE)</span>
05565 <span class="preprocessor"></span><span class="preprocessor">#define xxxGetMessage(lpmsg, hwnd, wMsgMin, wMsgMax) \</span>
05566 <span class="preprocessor">    xxxInternalGetMessage(lpmsg, hwnd, wMsgMin, wMsgMax, PM_REMOVE, TRUE)</span>
05567 <span class="preprocessor"></span><a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d4/d1/userk_8h.html#a1639">_GetMessagePos</a>(VOID);
05568 LRESULT <a class="code" href="../../d4/d1/userk_8h.html#a1640">xxxDispatchMessage</a>(LPMSG lpmsg);
05569 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> <a class="code" href="../../d4/d1/userk_8h.html#a1641">GetMouseKeyFlags</a>(<a class="code" href="../../d7/d4/structtagQ.html">PQ</a> pq);
05570 <span class="comment">/*</span>
<a name="l05571"></a><a class="code" href="../../d4/d1/userk_8h.html#a920">05571</a> <span class="comment"> * OLE private message signature. From rpc\runtime\mtrt\wmsgpack.hxx</span>
05572 <span class="comment"> */</span>
05573 <span class="preprocessor">#define WMSG_MAGIC_VALUE 0xBABE</span>
05574 <span class="preprocessor"></span><a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1642">_PostMessage</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT message, WPARAM wParam, LPARAM lParam);
05575 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1643">IPostQuitMessage</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti, <span class="keywordtype">int</span> nExitCode);
05576 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1644">_PostQuitMessage</a>(<span class="keywordtype">int</span> nExitCode);
05577 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1645">_PostThreadMessage</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti, UINT message, WPARAM wParam, LPARAM lParam);
05578 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1646">xxxTranslateMessage</a>(LPMSG pmsg, UINT flags);
05579 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1647">_GetInputState</a>(VOID);
05580 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d4/d1/userk_8h.html#a1648">_GetQueueStatus</a>(UINT);
05581 <span class="keyword">typedef</span> <a class="code" href="../../d0/d6/iop_8h.html#a145">VOID</a> (CALLBACK* MSGWAITCALLBACK)(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> DeviceType);
05582 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d4/d1/userk_8h.html#a1649">xxxMsgWaitForMultipleObjects</a>(DWORD nCount, PVOID *apObjects, MSGWAITCALLBACK pfnNonMsg, <a class="code" href="../../d4/d8/struct__KWAIT__BLOCK.html">PKWAIT_BLOCK</a> WaitBlockArray);
05583 
05584 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1650">FHungApp</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti, DWORD dwTimeFromLastRead);
05585 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1651">xxxRedrawHungWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, HRGN hrgnFullDrag);
05586 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1652">xxxRedrawHungWindowFrame</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, BOOL fActive);
05587 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1653">zzzActiveCursorTracking</a> (<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05588 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d4/d1/userk_8h.html#a1654">GetActiveTrackPwnd</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d7/d4/structtagQ.html">Q</a> **ppq);
05589 <span class="keywordtype">int</span> <a class="code" href="../../d4/d1/userk_8h.html#a1655">xxxActiveWindowTracking</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT uMsg, <span class="keywordtype">int</span> iHitTest);
05590 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1656">xxxHungAppDemon</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT message, UINT_PTR nID, LPARAM lParam);
05591 
05592 <span class="preprocessor">#ifdef HUNGAPP_GHOSTING</span>
05593 <span class="preprocessor"></span>
05594 <span class="comment">/*</span>
05595 <span class="comment"> * GHOST.C</span>
05596 <span class="comment"> */</span>
05597 LRESULT xxxGhostWndProc(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>, UINT, WPARAM, LPARAM);
05598 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> SignalGhost(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05599 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> xxxCreateGhost(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05600 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> RemoveGhost(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05601 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> FindGhost(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05602 
05603 <span class="preprocessor">#define WM_HUNGTHREAD (WM_USER + 0)</span>
05604 <span class="preprocessor"></span>
05605 __inline <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> SignalGhost(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd)
05606 {
05607     <a class="code" href="../../d4/d1/userk_8h.html#a1642">_PostMessage</a>(<a class="code" href="../../d4/d1/userk_8h.html#a322">PWNDDESKTOP</a>(pwnd), WM_HUNGTHREAD, 0, (LPARAM)<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a451">HWq</a>(pwnd));
05608 }
05609 
05610 <span class="preprocessor">#endif // HUNGAPP_GHOSTING</span>
05611 <span class="preprocessor"></span>
05612 <span class="comment">/*</span>
05613 <span class="comment"> * TMSWITCH.C</span>
05614 <span class="comment"> */</span>
05615 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1657">xxxSwitchToThisWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, BOOL fAltTab);
05616 
05617 <span class="comment">/*</span>
05618 <span class="comment"> * TOUNICOD.C</span>
05619 <span class="comment"> */</span>
05620 <span class="keywordtype">int</span> <a class="code" href="../../d4/d1/userk_8h.html#a1658">xxxToUnicodeEx</a>(UINT wVirtKey, UINT wScanCode, CONST BYTE *lpKeyState,
05621       LPWSTR pwszBuff, <span class="keywordtype">int</span> cchBuff, UINT wFlags, HKL hkl);
05622 <span class="keywordtype">int</span> <a class="code" href="../../d4/d1/userk_8h.html#a1659">xxxInternalToUnicode</a>(UINT wVirtKey, UINT wScanCode, CONST IN PBYTE pfvk,
05623       OUT PWCHAR awchChars, INT cChar, UINT uiTMFlags, OUT PDWORD pdwFlags, HKL hkl);
05624 
05625 <span class="comment">/*</span>
05626 <span class="comment"> * HOTKEYS.C</span>
05627 <span class="comment"> */</span>
05628 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1660">_RegisterHotKey</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <span class="keywordtype">int</span> <span class="keywordtype">id</span>, UINT fsModifiers, UINT vk);
05629 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1661">_UnregisterHotKey</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <span class="keywordtype">int</span> <span class="keywordtype">id</span>);
05630 
05631 <span class="comment">/*</span>
05632 <span class="comment"> * FOCUSACT.C</span>
05633 <span class="comment"> */</span>
05634 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d4/d1/userk_8h.html#a1662">xxxSetFocus</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05635 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1663">CanForceForeground</a>(<a class="code" href="../../d7/d3/structtagPROCESSINFO.html">PPROCESSINFO</a> ppi);
05636 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1664">xxxStubSetForegroundWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05637 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1665">xxxSetForegroundWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, BOOL fFlash);
05638 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d4/d1/userk_8h.html#a1666">xxxSetActiveWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05639 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d4/d1/userk_8h.html#a921">_GetActiveWindow</a>(VOID);
05640 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1667">xxxAllowSetForegroundWindow</a>(DWORD dwProcessId);
05641 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1668">_LockSetForegroundWindow</a>(UINT uLockCode);
05642 
05643 <span class="comment">/*</span>
05644 <span class="comment"> * UPDATE.C</span>
05645 <span class="comment"> */</span>
05646 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1669">xxxInvalidateRect</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, LPRECT lprc, BOOL fErase);
05647 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1670">xxxValidateRect</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, LPRECT lprc);
05648 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1671">xxxInvalidateRgn</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, HRGN hrgn, BOOL fErase);
05649 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1672">xxxValidateRgn</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, HRGN hrgn);
05650 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1673">xxxUpdateWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05651 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1674">xxxGetUpdateRect</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, LPRECT lprc, BOOL fErase);
05652 <span class="keywordtype">int</span>  <a class="code" href="../../d4/d1/userk_8h.html#a1675">xxxGetUpdateRgn</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, HRGN hrgn, BOOL fErase);
05653 <span class="keywordtype">int</span>  <a class="code" href="../../d4/d1/userk_8h.html#a1676">_ExcludeUpdateRgn</a>(HDC hdc, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05654 <span class="keywordtype">int</span>  <a class="code" href="../../d3/d6/visrgn_8c.html#a18">CalcWindowRgn</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, HRGN hrgn, BOOL fClient);
05655 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1678">DeleteUpdateRgn</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05656 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1679">xxxRedrawWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, LPRECT lprcUpdate, HRGN hrgnUpdate, DWORD flags);
<a name="l05657"></a><a class="code" href="../../d4/d1/userk_8h.html#a922">05657</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1680">IntersectWithParents</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, LPRECT lprc);
<a name="l05658"></a><a class="code" href="../../d4/d1/userk_8h.html#a1686">05658</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1681">xxxInternalInvalidate</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, HRGN hrgnUpdate, DWORD flags);
05659 
05660 <span class="comment">/*</span>
05661 <span class="comment"> * WINMGR.C</span>
<a name="l05662"></a><a class="code" href="../../d4/d1/userk_8h.html#a1687">05662</a> <span class="comment"> */</span>
05663 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d9/d7/kernel_2winmgr_8c.html#a3">xxxEnableWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, BOOL fEnable);
05664 <span class="keywordtype">int</span> <a class="code" href="../../d9/d7/kernel_2winmgr_8c.html#a5">xxxGetWindowText</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, LPWSTR psz, <span class="keywordtype">int</span> cchMax);
05665 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d9/d7/kernel_2winmgr_8c.html#a6">xxxSetParent</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndNewParent);
05666 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d9/d7/kernel_2winmgr_8c.html#a2">xxxFlashWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, DWORD dwFlags, DWORD dwTimeout);
<a name="l05667"></a><a class="code" href="../../d4/d1/userk_8h.html#a1688">05667</a> <span class="keyword">extern</span> ATOM <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a286">gaFlashWState</a>;
05668 __inline <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d4/d1/userk_8h.html#a1686">GetFlashWindowState</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd)
05669 {
05670     <span class="keywordflow">return</span> (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(ULONG_PTR)<a class="code" href="../../d7/d8/rtl_2winprop_8c.html#a2">_GetProp</a>(pwnd, <a class="code" href="../../d6/d1/userrtl_8h.html#a0">MAKEINTATOM</a>(<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a286">gaFlashWState</a>), <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a498">PROPF_INTERNAL</a>);
05671 }
05672 __inline <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1687">SetFlashWindowState</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, DWORD dwState)
05673 {
05674     <a class="code" href="../../d4/d8/kernel_2winprop_8c.html#a0">InternalSetProp</a>(pwnd, <a class="code" href="../../d6/d1/userrtl_8h.html#a0">MAKEINTATOM</a>(gaFlashWState),
05675                     (HANDLE)ULongToPtr(dwState), PROPF_INTERNAL | PROPF_NOPOOL);
05676 }
05677 __inline <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1688">RemoveFlashWindowState</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd)
05678 {
05679     <a class="code" href="../../d4/d8/kernel_2winprop_8c.html#a1">InternalRemoveProp</a>(pwnd, <a class="code" href="../../d6/d1/userrtl_8h.html#a0">MAKEINTATOM</a>(gaFlashWState), PROPF_INTERNAL);
05680 }
05681 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d9/d7/kernel_2winmgr_8c.html#a9">_GetWindowPlacement</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, PWINDOWPLACEMENT pwp);
05682 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d9/d7/kernel_2winmgr_8c.html#a12">xxxSetWindowPlacement</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, PWINDOWPLACEMENT pwp);
05683 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d9/d7/kernel_2winmgr_8c.html#a17">ValidateParentDepth</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndParent);
05684 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d9/d7/kernel_2winmgr_8c.html#a18">ValidateOwnerDepth</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndOwner);
05685 <span class="keywordtype">void</span> <a class="code" href="../../d9/d7/kernel_2winmgr_8c.html#a11">WPUpdateCheckPointSettings</a> (<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT uWPFlags);
05686 
05687 <span class="comment">/*</span>
05688 <span class="comment"> * DC.C</span>
05689 <span class="comment"> */</span>
05690 HDC  <a class="code" href="../../d4/d1/userk_8h.html#a1694">_GetDC</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05691 HDC  <a class="code" href="../../d4/d1/userk_8h.html#a1695">_GetDCEx</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, HRGN hrgnClip, DWORD flags);
05692 HDC  <a class="code" href="../../d4/d1/userk_8h.html#a1696">_GetWindowDC</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05693 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1697">_ReleaseDC</a>(HDC hdc);
05694 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> <a class="code" href="../../d4/d1/userk_8h.html#a1698">ReleaseCacheDC</a>(HDC hdc, BOOL fEndPaint);
<a name="l05695"></a><a class="code" href="../../d4/d1/userk_8h.html#a1709">05695</a> HDC  <a class="code" href="../../d4/d1/userk_8h.html#a1699">CreateCacheDC</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>, DWORD, <a class="code" href="../../d0/d2/structtagMONITOR.html">PMONITOR</a>);
05696 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1700">DestroyCacheDC</a>(<a class="code" href="../../d3/d2/structtagDCE.html">PDCE</a> *, HDC);
05697 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1701">InvalidateDce</a>(<a class="code" href="../../d3/d2/structtagDCE.html">PDCE</a> pdce);
05698 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1702">DeleteHrgnClip</a>(<a class="code" href="../../d3/d2/structtagDCE.html">PDCE</a> pdce);
05699 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d4/d1/userk_8h.html#a1703">WindowFromCacheDC</a>(HDC hdc);
05700 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d4/d1/userk_8h.html#a1704">FastWindowFromDC</a>(HDC hdc);
05701 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1705">DelayedDestroyCacheDC</a>(VOID);
05702 <a class="code" href="../../d3/d2/structtagDCE.html">PDCE</a> <a class="code" href="../../d4/d1/userk_8h.html#a1706">LookupDC</a>(HDC hdc);
05703 HDC <a class="code" href="../../d4/d1/userk_8h.html#a1707">GetMonitorDC</a>(<a class="code" href="../../d3/d2/structtagDCE.html">PDCE</a> pdceOrig, <a class="code" href="../../d0/d2/structtagMONITOR.html">PMONITOR</a> pMonitor);
05704 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1708">GetDCOrgOnScreen</a>(HDC hdc, LPPOINT ppt);
05705 __inline <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1709">MarkDCEInvalid</a>(<a class="code" href="../../d3/d2/structtagDCE.html">PDCE</a> pdce)
05706 {
05707     <span class="comment">/*</span>
05708 <span class="comment">     * Clear all bits, but these.</span>
05709 <span class="comment">     */</span>
05710     pdce-&gt;<a class="code" href="../../d3/d2/structtagDCE.html#o7">DCX_flags</a> &amp;= (DCX_CACHE | DCX_LAYERED);
05711 
05712     <span class="comment">/*</span>
05713 <span class="comment">     * Mark this cache entry as invalid</span>
05714 <span class="comment">     */</span>
05715     pdce-&gt;<a class="code" href="../../d3/d2/structtagDCE.html#o7">DCX_flags</a> |= DCX_INVALID;
05716 }
05717 
05718 <span class="preprocessor">#ifdef USE_MIRRORING</span>
05719 <span class="preprocessor"></span><span class="keywordtype">void</span> MirrorRect(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, LPRECT lprc);
05720 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> MirrorRegion(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, HRGN hrgn, BOOL bUseClient);
05721 <span class="preprocessor">#endif</span>
05722 <span class="preprocessor"></span>
05723 <span class="comment">/*</span>
05724 <span class="comment"> * PAINT.C</span>
05725 <span class="comment"> */</span>
05726 HDC  <a class="code" href="../../d4/d1/userk_8h.html#a1710">xxxBeginPaint</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, PAINTSTRUCT *lpps);
05727 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1711">xxxEndPaint</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, PAINTSTRUCT *lpps);
05728 
05729 <span class="comment">/*</span>
05730 <span class="comment"> * CAPTURE.C</span>
05731 <span class="comment"> */</span>
05732 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d4/d1/userk_8h.html#a1712">xxxSetCapture</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05733 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1713">xxxReleaseCapture</a>(VOID);
<a name="l05734"></a><a class="code" href="../../d4/d1/userk_8h.html#a579">05734</a> 
<a name="l05735"></a><a class="code" href="../../d4/d1/userk_8h.html#a580">05735</a> <span class="comment">/*</span>
<a name="l05736"></a><a class="code" href="../../d4/d1/userk_8h.html#a581">05736</a> <span class="comment"> * KEYBOARD.C</span>
<a name="l05737"></a><a class="code" href="../../d4/d1/userk_8h.html#a582">05737</a> <span class="comment"> */</span>
<a name="l05738"></a><a class="code" href="../../d4/d1/userk_8h.html#a583">05738</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a13">SHORT</a> <a class="code" href="../../d4/d1/userk_8h.html#a1714">_GetAsyncKeyState</a>(<span class="keywordtype">int</span> vk);
<a name="l05739"></a><a class="code" href="../../d4/d1/userk_8h.html#a584">05739</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1715">_SetKeyboardState</a>(CONST BYTE *pKeyboard);
<a name="l05740"></a><a class="code" href="../../d4/d1/userk_8h.html#a585">05740</a> <span class="keywordtype">int</span> <a class="code" href="../../d4/d1/userk_8h.html#a1716">_GetKeyboardType</a>(<span class="keywordtype">int</span> nTypeFlag);
05741 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1717">RegisterPerUserKeyboardIndicators</a>(PUNICODE_STRING pProfileUserName);
05742 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1718">UpdatePerUserKeyboardIndicators</a>(PUNICODE_STRING pProfileUserName);
05743 
05744 <span class="preprocessor">#define TestRawKeyDown(vk)     TestKeyDownBit(gafRawKeyState, vk)</span>
05745 <span class="preprocessor"></span><span class="preprocessor">#define SetRawKeyDown(vk)      SetKeyDownBit(gafRawKeyState, vk)</span>
05746 <span class="preprocessor"></span><span class="preprocessor">#define ClearRawKeyDown(vk)    ClearKeyDownBit(gafRawKeyState, vk)</span>
05747 <span class="preprocessor"></span><span class="preprocessor">#define TestRawKeyToggle(vk)   TestKeyToggleBit(gafRawKeyState, vk)</span>
05748 <span class="preprocessor"></span><span class="preprocessor">#define SetRawKeyToggle(vk)    SetKeyToggleBit(gafRawKeyState, vk)</span>
05749 <span class="preprocessor"></span><span class="preprocessor">#define ClearRawKeyToggle(vk)  ClearKeyToggleBit(gafRawKeyState, vk)</span>
05750 <span class="preprocessor"></span><span class="preprocessor">#define ToggleRawKeyToggle(vk) ToggleKeyToggleBit(gafRawKeyState, vk)</span>
05751 <span class="preprocessor"></span>
05752 <span class="comment">/*</span>
05753 <span class="comment"> * XLATE.C</span>
05754 <span class="comment"> */</span>
05755 <span class="keywordtype">int</span>  <a class="code" href="../../d3/d1/xlate_8c.html#a5">_GetKeyNameText</a>(LONG lParam, LPWSTR lpString, <span class="keywordtype">int</span> nSize);
05756 
05757 <span class="comment">/*</span>
05758 <span class="comment"> * TIMERS.C</span>
05759 <span class="comment"> */</span>
05760 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1720">_KillTimer</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT_PTR nIDEvent);
05761 <a class="code" href="../../d4/d1/userk_8h.html#a910">PTIMER</a> <a class="code" href="../../d4/d1/userk_8h.html#a1721">FindTimer</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT_PTR nID, UINT flags, BOOL fKill);
05762 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1722">xxxSystemTimerProc</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT msg, UINT_PTR <span class="keywordtype">id</span>, LPARAM lParam);
05763 
05764 
05765 <span class="comment">/*</span>
05766 <span class="comment"> * CARET.C</span>
05767 <span class="comment"> */</span>
05768 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d5/caret_8c.html#a3">zzzDestroyCaret</a>(VOID);
05769 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1724">xxxCreateCaret</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>, HBITMAP, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>);
05770 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1725">zzzShowCaret</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>);
05771 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1726">zzzHideCaret</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>);
05772 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1727">_SetCaretBlinkTime</a>(UINT);
05773 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1728">zzzSetCaretPos</a>(<span class="keywordtype">int</span>, <span class="keywordtype">int</span>);
05774 
05775 <span class="comment">/*</span>
05776 <span class="comment"> * MSGBEEP.C</span>
05777 <span class="comment"> */</span>
05778 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d4/kernel_2msgbeep_8c.html#a0">xxxOldMessageBeep</a>(VOID);
05779 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1730">xxxMessageBeep</a>(UINT wType);
05780 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1731">PlayEventSound</a>(UINT idSound);
05781 
05782 <span class="comment">/*</span>
05783 <span class="comment"> * WINWHERE.C</span>
05784 <span class="comment"> */</span>
05785 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d9/d8/winwhere_8c.html#a1">_ChildWindowFromPointEx</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndParent, POINT pt, UINT i);
05786 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d9/d8/winwhere_8c.html#a2">xxxWindowFromPoint</a>(POINT pt);
<a name="l05787"></a><a class="code" href="../../d4/d1/userk_8h.html#a586">05787</a> <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d6/d7/aug98_2dll32_2icmdll_8h.html#a5">FAR</a> <a class="code" href="../../d2/d8/rtl_2winmgr_8c.html#a8">SizeBoxHwnd</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05788 
<a name="l05789"></a><a class="code" href="../../d4/d1/userk_8h.html#a587">05789</a> <span class="comment">/*</span>
<a name="l05790"></a><a class="code" href="../../d4/d1/userk_8h.html#a588">05790</a> <span class="comment"> * GETSET.C</span>
05791 <span class="comment"> */</span>
05792 WORD  <a class="code" href="../../d4/d1/userk_8h.html#a1431">_SetWindowWord</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <span class="keywordtype">int</span> index, WORD value);
05793 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d4/d1/userk_8h.html#a1432">xxxSetWindowLong</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <span class="keywordtype">int</span> index, DWORD value, BOOL bAnsi);
05794 <span class="preprocessor">#ifdef _WIN64</span>
05795 <span class="preprocessor"></span>ULONG_PTR <a class="code" href="../../d4/d1/userk_8h.html#a586">xxxSetWindowLongPtr</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <span class="keywordtype">int</span> index, ULONG_PTR value, BOOL bAnsi);
05796 <span class="preprocessor">#else</span>
<a name="l05797"></a><a class="code" href="../../d4/d1/userk_8h.html#a589">05797</a> <span class="preprocessor"></span><span class="preprocessor">#define xxxSetWindowLongPtr xxxSetWindowLong</span>
<a name="l05798"></a><a class="code" href="../../d4/d1/userk_8h.html#a590">05798</a> <span class="preprocessor"></span><span class="preprocessor">#endif</span>
05799 <span class="preprocessor"></span><span class="preprocessor">#define __GetWindowLong(pwnd, index) ((LONG)(*(DWORD UNALIGNED *)((BYTE *)((pwnd) + 1) + (index))))</span>
05800 <span class="preprocessor"></span><span class="preprocessor">#define __GetWindowLongPtr(pwnd, index) ((LONG_PTR)(*(ULONG_PTR UNALIGNED *)((BYTE *)((pwnd) + 1) + (index))))</span>
05801 <span class="preprocessor"></span><span class="preprocessor">#if DBG</span>
05802 <span class="preprocessor"></span>ULONG <a class="code" href="../../d0/d5/ntuser_2kernel_2getset_8c.html#a9">DBGGetWindowLong</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <span class="keywordtype">int</span> index);
05803 <span class="preprocessor">#define _GetWindowLong DBGGetWindowLong</span>
05804 <span class="preprocessor"></span>ULONG_PTR <a class="code" href="../../d0/d5/ntuser_2kernel_2getset_8c.html#a10">DBGGetWindowLongPtr</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <span class="keywordtype">int</span> index);
05805 <span class="preprocessor">#define _GetWindowLongPtr DBGGetWindowLongPtr</span>
05806 <span class="preprocessor"></span><span class="preprocessor">#else</span>
05807 <span class="preprocessor"></span><span class="preprocessor">#define _GetWindowLong __GetWindowLong</span>
05808 <span class="preprocessor"></span><span class="preprocessor">#define _GetWindowLongPtr __GetWindowLongPtr</span>
05809 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
05810 <span class="preprocessor"></span>
05811 <span class="comment">/*</span>
05812 <span class="comment"> * CLIPBRD.C</span>
05813 <span class="comment"> */</span>
05814 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1735">xxxOpenClipboard</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, LPBOOL lpfEmptyClient);
05815 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1736">xxxCloseClipboard</a>(<a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a> pwinsta);
05816 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> <a class="code" href="../../d4/d1/userk_8h.html#a1737">_EnumClipboardFormats</a>(UINT fmt);
05817 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1738">xxxEmptyClipboard</a>(<a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a> pwinsta);
05818 HANDLE <a class="code" href="../../d4/d1/userk_8h.html#a1739">xxxGetClipboardData</a>(<a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a> pwinsta, UINT fmt, <a class="code" href="../../d6/d5/structtagGETCLIPBDATA.html">PGETCLIPBDATA</a> gcd);
05819 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1740">_IsClipboardFormatAvailable</a>(UINT fmt);
05820 <span class="keywordtype">int</span> <a class="code" href="../../d4/d1/userk_8h.html#a1741">_GetPriorityClipboardFormat</a>(UINT *lpPriorityList, <span class="keywordtype">int</span> cfmts);
05821 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d4/d1/userk_8h.html#a1742">xxxSetClipboardViewer</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndClipViewerNew);
05822 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1743">xxxChangeClipboardChain</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndRemove, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndNewNext);
<a name="l05823"></a><a class="code" href="../../d4/d1/userk_8h.html#a591">05823</a> 
05824 <span class="comment">/*</span>
05825 <span class="comment"> * miscutil.c</span>
05826 <span class="comment"> */</span>
05827 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1744">SetDialogPointer</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, LONG_PTR lPtr);
05828 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1745">ZapActiveAndFocus</a>(VOID);
05829 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1746">xxxSetShellWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndBkGnd);
<a name="l05830"></a><a class="code" href="../../d4/d1/userk_8h.html#a592">05830</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1747">_SetProgmanWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
<a name="l05831"></a><a class="code" href="../../d4/d1/userk_8h.html#a593">05831</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1748">_SetTaskmanWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
<a name="l05832"></a><a class="code" href="../../d4/d1/userk_8h.html#a594">05832</a> 
<a name="l05833"></a><a class="code" href="../../d4/d1/userk_8h.html#a595">05833</a> <span class="preprocessor">#define STW_SAME    ((PWND) 1)</span>
05834 <span class="preprocessor"></span><span class="keywordtype">void</span> <a class="code" href="../../d8/d7/winloop2_8c.html#a3">xxxSetTrayWindow</a>(<a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a> pdesk, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d0/d2/structtagMONITOR.html">PMONITOR</a> pMonitor);
05835 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d8/d7/winloop2_8c.html#a4">xxxAddFullScreen</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d0/d2/structtagMONITOR.html">PMONITOR</a> pMonitor);
05836 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d8/d7/winloop2_8c.html#a5">xxxRemoveFullScreen</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d0/d2/structtagMONITOR.html">PMONITOR</a> pMonitor);
05837 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1752">xxxCheckFullScreen</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d6/d6/structtagSIZERECT.html">PSIZERECT</a> psrc);
05838 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d8/d7/winloop2_8c.html#a2">IsTrayWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>);
05839 
05840 <span class="preprocessor">#define FDoTray()   (SYSMET(ARRANGE) &amp; ARW_HIDE)</span>
05841 <span class="preprocessor"></span><span class="preprocessor">#define FCallHookTray() (IsHooked(PtiCurrent(), WHF_SHELL))</span>
05842 <span class="preprocessor"></span><span class="preprocessor">#define FPostTray(p) (p-&gt;pDeskInfo-&gt;spwndTaskman)</span>
05843 <span class="preprocessor"></span><span class="preprocessor">#define FCallTray(p) (FDoTray() &amp;&amp; ( FCallHookTray()|| FPostTray(p) ))</span>
<a name="l05844"></a><a class="code" href="../../d4/d1/userk_8h.html#a596">05844</a> <span class="preprocessor"></span>
<a name="l05845"></a><a class="code" href="../../d4/d1/userk_8h.html#a597">05845</a> <span class="comment">// ----------------------------------------------------------------------------</span>
05846 <span class="comment">//</span>
05847 <span class="comment">//  FTopLevel() - TRUE if window is a top level window</span>
05848 <span class="comment">//</span>
05849 <span class="comment">//  FHas31TrayStyles() -  TRUE if window is either full screen or has</span>
05850 <span class="comment">//                        both a system menu and a caption</span>
05851 <span class="comment">//                        (NOTE:  minimized windows always have captions)</span>
05852 <span class="comment">//</span>
05853 <span class="comment">// ----------------------------------------------------------------------------</span>
05854 <span class="preprocessor">#define FTopLevel(pwnd)         (pwnd-&gt;spwndParent == PWNDDESKTOP(pwnd))</span>
05855 <span class="preprocessor"></span><span class="preprocessor">#define FHas31TrayStyles(pwnd)    (TestWF(pwnd, WFFULLSCREEN) || \</span>
05856 <span class="preprocessor">                                  (TestWF(pwnd, WFSYSMENU | WFMINBOX) &amp;&amp; \</span>
05857 <span class="preprocessor">                                  (TestWF(pwnd, WFCAPTION) || TestWF(pwnd, WFMINIMIZED))))</span>
05858 <span class="preprocessor"></span><a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d8/d7/winloop2_8c.html#a0">IsVSlick</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05859 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d8/d7/winloop2_8c.html#a1">Is31TrayWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05860 
05861 <span class="comment">/*</span>
05862 <span class="comment"> * fullscr.c</span>
05863 <span class="comment"> */</span>
05864 
05865 <span class="preprocessor">#if DBG</span>
05866 <span class="preprocessor"></span><span class="preprocessor">#define  VerifyVisibleMonitorCount()    \</span>
05867 <span class="preprocessor">    {                                   \</span>
05868 <span class="preprocessor">        PMONITOR pMonitor = gpDispInfo-&gt;pMonitorFirst;  \</span>
05869 <span class="preprocessor">        ULONG cVisMon = 0;                              \</span>
05870 <span class="preprocessor">        while (pMonitor) {                              \</span>
05871 <span class="preprocessor">            if (pMonitor-&gt;dwMONFlags &amp; MONF_VISIBLE) {  \</span>
05872 <span class="preprocessor">                cVisMon++;                              \</span>
05873 <span class="preprocessor">            }                                           \</span>
05874 <span class="preprocessor">            pMonitor = pMonitor-&gt;pMonitorNext;          \</span>
05875 <span class="preprocessor">        }                                               \</span>
05876 <span class="preprocessor">        UserAssert(cVisMon == gpDispInfo-&gt;cMonitors);   \</span>
05877 <span class="preprocessor">    }</span>
05878 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
05879 <span class="preprocessor"></span>
05880 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1756">xxxMakeWindowForegroundWithState</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>, BYTE);
<a name="l05881"></a><a class="code" href="../../d4/d1/userk_8h.html#a598">05881</a> <span class="keywordtype">void</span> <a class="code" href="../../d8/d8/fullscr_8c.html#a9">FullScreenCleanup</a>();
05882 LONG <a class="code" href="../../d4/d1/userk_8h.html#a1758">xxxUserChangeDisplaySettings</a>(PUNICODE_STRING pstrDeviceName, LPDEVMODEW pDevMode,
05883     HWND hwnd, <a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a> pdesk, DWORD dwFlags, PVOID lParam, MODE PreviousMode);
05884 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1759">xxxbFullscreenSwitch</a>(BOOL bFullscreenSwitch, HWND hwnd);
05885 
05886 
05887 <span class="comment">/*</span>
05888 <span class="comment"> * SBAPI.C</span>
05889 <span class="comment"> */</span>
05890 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1760">xxxShowScrollBar</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a>, UINT, BOOL);
05891 <span class="preprocessor">#define xxxSetScrollInfo(a,b,c,d) xxxSetScrollBar((a),(b),(c),(d))</span>
05892 <span class="preprocessor"></span>
05893 <span class="comment">/*</span>
05894 <span class="comment"> * mngray.c</span>
05895 <span class="comment"> */</span>
05896 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1761">xxxDrawState</a>(HDC hdcDraw, HBRUSH hbrFore,
05897         LPARAM lData, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> cx, <span class="keywordtype">int</span> cy, UINT uFlags);
05898 
05899 <span class="comment">/*</span>
05900 <span class="comment"> * SCROLLW.C</span>
05901 <span class="comment"> */</span>
05902 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1762">_ScrollDC</a>(HDC, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, LPRECT, LPRECT, HRGN, LPRECT);
05903 
05904 <span class="comment">/*</span>
05905 <span class="comment"> * SPB.C</span>
05906 <span class="comment"> */</span>
05907 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1763">SpbCheckRect</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, LPRECT lprc, DWORD flags);
05908 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1764">SpbCheck</a>(VOID);
05909 <a class="code" href="../../d0/d7/structtagSPB.html">PSPB</a> <a class="code" href="../../d4/d1/userk_8h.html#a1765">FindSpb</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05910 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1766">FreeSpb</a>(<a class="code" href="../../d0/d7/structtagSPB.html">PSPB</a> pspb);
05911 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d1/d4/spb_8c.html#a12">FreeAllSpbs</a>(<span class="keywordtype">void</span>);
05912 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1768">CreateSpb</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT flags, HDC hdcScreen);
05913 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> <a class="code" href="../../d4/d1/userk_8h.html#a1769">RestoreSpb</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, HRGN hrgnUncovered, HDC *phdcScreen);
05914 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1770">SpbCheckPwnd</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05915 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1771">SpbCheckDce</a>(<a class="code" href="../../d3/d2/structtagDCE.html">PDCE</a> pdce);
05916 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1772">LockWindowUpdate2</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndLock, BOOL fThreadOverride);
05917 
05918 <span class="comment">/*</span>
05919 <span class="comment"> * DRAWFRM.C</span>
05920 <span class="comment"> */</span>
05921 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d6/d7/aug98_2dll32_2icmdll_8h.html#a5">FAR</a> <a class="code" href="../../d4/d1/userk_8h.html#a1773">BitBltSysBmp</a>(HDC hdc, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, UINT i);
05922 
05923 <span class="comment">/*</span>
05924 <span class="comment"> * SYSMET.c</span>
05925 <span class="comment"> */</span>
05926 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d1/d1/bench_8c.html#a0">APIENTRY</a> <a class="code" href="../../d4/d1/userk_8h.html#a1774">xxxSetSysColors</a>(PUNICODE_STRING pProfileUserName,<span class="keywordtype">int</span> count, PUINT pIndex, LPDWORD pClrVal, UINT uOptions);
05927 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1775">SetSysColor</a>(UINT icol, DWORD rgb, UINT uOptions);
05928 
05929 <span class="comment">/*</span>
05930 <span class="comment"> * ICONS.C</span>
05931 <span class="comment"> */</span>
05932 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> <a class="code" href="../../d4/d1/userk_8h.html#a1776">xxxArrangeIconicWindows</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
05933 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>  <a class="code" href="../../d4/d1/userk_8h.html#a1777">_SetSystemMenu</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu);
05934 
05935 <span class="comment">/*</span>
05936 <span class="comment"> * RMCREATE.C</span>
05937 <span class="comment"> */</span>
05938 <a class="code" href="../../d1/d0/inc_2user_8h.html#a529">PICON</a> <a class="code" href="../../d4/d1/userk_8h.html#a1778">_CreateIconIndirect</a>(PICONINFO piconinfo);
05939 <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> <a class="code" href="../../d4/d1/userk_8h.html#a1779">_CreateCursor</a>(HANDLE hModule, <span class="keywordtype">int</span> iXhotspot, <span class="keywordtype">int</span> iYhotspot,
05940         <span class="keywordtype">int</span> iWidth, <span class="keywordtype">int</span> iHeight, LPBYTE lpANDplane, LPBYTE lpXORplane);
05941 <a class="code" href="../../d1/d0/inc_2user_8h.html#a529">PICON</a> <a class="code" href="../../d4/d1/userk_8h.html#a1780">_CreateIcon</a>(HANDLE hModule, <span class="keywordtype">int</span> iWidth, <span class="keywordtype">int</span> iHeight,
05942         BYTE bPlanes, BYTE bBitsPixel, LPBYTE lpANDplane, LPBYTE lpXORplane);
05943 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1781">DestroyUnlockedCursor</a>(<span class="keywordtype">void</span> *);
<a name="l05944"></a><a class="code" href="../../d4/d1/userk_8h.html#a599">05944</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1782">_DestroyCursor</a>(<a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a>, DWORD);
05945 HANDLE <a class="code" href="../../d4/d1/userk_8h.html#a1783">_CreateAcceleratorTable</a>(LPACCEL, <span class="keywordtype">int</span>);
05946 
05947 <span class="comment">/*</span>
05948 <span class="comment"> * CURSOR.C</span>
05949 <span class="comment"> */</span>
05950 <span class="preprocessor">#if DBG</span>
05951 <span class="preprocessor"></span>    <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> DbgLockQCursor(<a class="code" href="../../d7/d4/structtagQ.html">PQ</a> pq, <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> pcur);
05952 <span class="preprocessor">    #define LockQCursor(pq, pcur)   DbgLockQCursor(pq, pcur)</span>
05953 <span class="preprocessor"></span><span class="preprocessor">#else</span>
05954 <span class="preprocessor"></span><span class="preprocessor">    #define LockQCursor(pq, pcur)   Lock(&amp;pq-&gt;spcurCurrent, pcur)</span>
05955 <span class="preprocessor"></span><span class="preprocessor">#endif // DBG</span>
<a name="l05956"></a><a class="code" href="../../d4/d1/userk_8h.html#a600">05956</a> <span class="preprocessor"></span>
05957 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1784">_GetCursorPos</a>(LPPOINT);
05958 <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> <a class="code" href="../../d4/d1/userk_8h.html#a1785">zzzSetCursor</a>(<a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> pcur);
05959 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1786">zzzSetCursorPos</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y);
05960 <span class="keywordtype">int</span>     <a class="code" href="../../d4/d1/userk_8h.html#a1787">zzzShowCursor</a>(BOOL fShow);
05961 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1788">zzzClipCursor</a>(LPCRECT prcClip);
05962 <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> <a class="code" href="../../d4/d1/userk_8h.html#a923">_GetCursor</a>(VOID);
05963 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a1789">_SetCursorContents</a>(<a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> pcur, <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> pcurNew);
05964 <span class="keywordtype">void</span>    <a class="code" href="../../d4/d1/userk_8h.html#a1790">SetPointer</a>(BOOL fSet);
05965 <span class="keywordtype">void</span>    <a class="code" href="../../d7/d1/ntuser_2kernel_2cursor_8c.html#a13">zzzHideCursorNoCapture</a>(<span class="keywordtype">void</span>);
05966 <span class="preprocessor">#define GETPCI(pcur) ((PCURSINFO)&amp;(pcur-&gt;CI_FIRST))</span>
05967 <span class="preprocessor"></span>
05968 <span class="comment">/*</span>
05969 <span class="comment"> * WMICON.C</span>
05970 <span class="comment"> */</span>
05971 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d0/d9/wmicon_8c.html#a4">_DrawIconEx</a>(HDC hdc, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> pcur, <span class="keywordtype">int</span> cx, <span class="keywordtype">int</span> cy,
05972         UINT istepIfAniCur, HBRUSH hbrush, UINT diFlags) ;
05973 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d0/d9/wmicon_8c.html#a3">BltIcon</a>(HDC hdc, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> cx, <span class="keywordtype">int</span> cy,
05974         HDC hdcSrc, <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> pcursor, BOOL fMask, LONG rop);
05975 
05976 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1794">DBGValidateQueueStates</a>(<a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a> pdesk);
05977 <span class="comment">/*</span>
05978 <span class="comment"> * DESKTOP.C</span>
05979 <span class="comment"> */</span>
05980 
05981 HDESK <a class="code" href="../../d4/d1/userk_8h.html#a1795">xxxCreateDesktop</a>(
05982         POBJECT_ATTRIBUTES,
05983         KPROCESSOR_MODE,
05984         PUNICODE_STRING,
05985         LPDEVMODEW,
05986         DWORD,
05987         DWORD);
05988 
05989 HDESK <a class="code" href="../../d4/d1/userk_8h.html#a1796">xxxOpenDesktop</a>(POBJECT_ATTRIBUTES, KPROCESSOR_MODE, DWORD, DWORD, BOOL*);
05990 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1797">OpenDesktopCompletion</a>(<a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a> pdesk, HDESK hdesk, DWORD dwFlags, BOOL*);
05991 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1798">xxxSwitchDesktop</a>(<a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a>, <a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a>, BOOL);
05992 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1799">zzzSetDesktop</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti, <a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a> pdesk, HDESK hdesk);
05993 HDESK <a class="code" href="../../d4/d1/userk_8h.html#a1800">xxxGetInputDesktop</a>(VOID);
05994 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1801">xxxSetThreadDesktop</a>(HDESK, <a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a>);
05995 HDESK <a class="code" href="../../d4/d1/userk_8h.html#a1802">xxxGetThreadDesktop</a>(DWORD, HDESK, KPROCESSOR_MODE);
05996 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1803">xxxCloseDesktop</a>(HDESK, KPROCESSOR_MODE);
05997 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1804">xxxEnumDesktops</a>(FARPROC, LONG, BOOL);
05998 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d4/d1/userk_8h.html#a1805">_SetDesktopConsoleThread</a>(<a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a> pdesk, DWORD dwThreadId);
05999 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1806">xxxRealizeDesktop</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
06000 
06001 <span class="comment">/*</span>
06002 <span class="comment"> * WINSTA.C</span>
06003 <span class="comment"> */</span>
06004 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d8/d8/winsta_8c.html#a2">CreateGlobalAtomTable</a>(PVOID* ppAtomTable);
06005 HWINSTA <a class="code" href="../../d8/d8/winsta_8c.html#a3">xxxCreateWindowStation</a>(POBJECT_ATTRIBUTES ObjA,
06006     KPROCESSOR_MODE OwnershipMode,
06007     DWORD amRequest,
06008     HANDLE hKbdLayoutFile,
06009     DWORD offTable,
06010     PCWSTR pwszKLID,
06011     UINT uKbdInputLocale);
06012 HWINSTA <a class="code" href="../../d8/d8/winsta_8c.html#a8">_OpenWindowStation</a>(POBJECT_ATTRIBUTES, DWORD, KPROCESSOR_MODE);
06013 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d8/d8/winsta_8c.html#a9">_CloseWindowStation</a>(HWINSTA hwinsta);
06014 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d8/d8/winsta_8c.html#a10">xxxSetProcessWindowStation</a>(HWINSTA, KPROCESSOR_MODE);
06015 
06016 <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a> <a class="code" href="../../d8/d8/winsta_8c.html#a11">_GetProcessWindowStation</a>(HWINSTA *);
06017 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d8/d8/winsta_8c.html#a15">_LockWorkStation</a>(VOID);
06018 
06019 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d8/d8/winsta_8c.html#a13">ReferenceWindowStation</a>(<a class="code" href="../../d5/d6/struct__ETHREAD.html">PETHREAD</a> Thread, HWINSTA hwinsta,
06020         ACCESS_MASK amDesiredAccess, <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a> *ppwinsta, BOOL fUseDesktop);
06021 
06022 <span class="comment">/*</span>
06023 <span class="comment"> * HOOKS.C</span>
<a name="l06024"></a><a class="code" href="../../d4/d1/userk_8h.html#a601">06024</a> <span class="comment"> */</span>
06025 PROC <a class="code" href="../../d4/d1/userk_8h.html#a1814">zzzSetWindowsHookAW</a>(<span class="keywordtype">int</span> nFilterType, PROC pfnFilterProc, DWORD dwFlags);
06026 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1815">zzzUnhookWindowsHookEx</a>(<a class="code" href="../../d5/d6/structtagHOOK.html">PHOOK</a> phk);
06027 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1816">zzzUnhookWindowsHook</a>(<span class="keywordtype">int</span> nFilterType, PROC pfnFilterProc);
06028 LRESULT <a class="code" href="../../d4/d1/userk_8h.html#a1817">xxxCallNextHookEx</a>(<span class="keywordtype">int</span> nCode, WPARAM wParam, LPARAM lParam);
06029 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1818">_CallMsgFilter</a>(LPMSG lpMsg, <span class="keywordtype">int</span> nCode);
06030 <span class="keywordtype">void</span> <a class="code" href="../../d1/d2/hooks_8c.html#a13">zzzCancelJournalling</a>(<span class="keywordtype">void</span>);
06031 <span class="preprocessor">#if DBG</span>
06032 <span class="preprocessor"></span><span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a601">DbgValidateHooks</a>(<a class="code" href="../../d5/d6/structtagHOOK.html">PHOOK</a> phk, <span class="keywordtype">int</span> iType);
06033 <span class="preprocessor">#else</span>
06034 <span class="preprocessor"></span><span class="preprocessor">#define DbgValidateHooks(phk, iType)</span>
06035 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
06036 <span class="preprocessor"></span>
06037 
06038 <span class="comment">/*</span>
<a name="l06039"></a><a class="code" href="../../d4/d1/userk_8h.html#a1822">06039</a> <span class="comment"> * SRVHOOK.C</span>
06040 <span class="comment"> */</span>
06041 LRESULT <a class="code" href="../../d4/d1/userk_8h.html#a1820">fnHkINLPCWPEXSTRUCT</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT message, WPARAM wParam,
06042         LPARAM lParam, ULONG_PTR xParam);
06043 LRESULT <a class="code" href="../../d4/d1/userk_8h.html#a1821">fnHkINLPCWPRETEXSTRUCT</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT message, WPARAM wParam,
<a name="l06044"></a><a class="code" href="../../d4/d1/userk_8h.html#a1823">06044</a>         LPARAM lParam, ULONG_PTR xParam);
06045 
06046 <span class="comment">/*</span>
06047 <span class="comment"> * QUEUE.C</span>
06048 <span class="comment"> */</span>
06049 __inline <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1822">IsShellProcess</a> (<a class="code" href="../../d7/d3/structtagPROCESSINFO.html">PPROCESSINFO</a> ppi)
06050 {
06051     <span class="keywordflow">return</span> ((ppi-&gt;<a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o3">rpdeskStartup</a> != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
06052         &amp;&amp; (ppi-&gt;<a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o3">rpdeskStartup</a>-&gt;<a class="code" href="../../d0/d3/structtagDESKTOP.html#o0">pDeskInfo</a>-&gt;<a class="code" href="../../d1/d3/structtagDESKTOPINFO.html#o6">ppiShellProcess</a> == ppi));
06053 }
06054 __inline <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d4/d1/userk_8h.html#a1823">GetAppCompatFlags2ForPti</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti, WORD wVer)
06055 {
06056     <span class="keywordflow">if</span> (wVer &lt; pti-&gt;<a class="code" href="../../d2/d8/structtagTHREADINFO.html#o25">dwExpWinVer</a>) {
06057         <span class="keywordflow">return</span> 0;
06058     }
06059     <span class="keywordflow">return</span> pti-&gt;<a class="code" href="../../d2/d8/structtagTHREADINFO.html#o27">dwCompatFlags2</a>;
06060 }
06061 
06062 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1824">ClearWakeMask</a>(VOID);
06063 ULONG <a class="code" href="../../d4/d1/userk_8h.html#a1825">GetTaskName</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti, PWSTR Buffer, ULONG BufferLength);
06064 <a class="code" href="../../d8/d4/structtagQMSG.html">PQMSG</a> <a class="code" href="../../d4/d1/userk_8h.html#a1826">FindQMsg</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a>, PMLIST, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>, UINT, UINT, BOOL);
06065 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1827">zzzShowStartGlass</a>(DWORD dwTimeout);
06066 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d4/d1/userk_8h.html#a1828">_GetChangeBits</a>(VOID);
06067 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1829">xxxSetCsrssThreadDesktop</a>(<a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a> pdesk, PDESKRESTOREDATA pdrdRestore);
06068 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1830">xxxRestoreCsrssThreadDesktop</a>(PDESKRESTOREDATA pdrdRestore);
06069 
06070 <a class="code" href="../../d7/d4/structtagQ.html">PQ</a> <a class="code" href="../../d4/d1/userk_8h.html#a1831">GetJournallingQueue</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti);
06071 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1832">ClearAppStarting</a> (<a class="code" href="../../d7/d3/structtagPROCESSINFO.html">PPROCESSINFO</a> ppi);
06072 <span class="preprocessor">#ifdef USE_MIRRORING</span>
06073 <span class="preprocessor"></span><a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> _GetProcessDefaultLayout(DWORD *pdwDefaultLayout);
06074 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> _SetProcessDefaultLayout(DWORD dwDefaultLayout);
06075 <span class="preprocessor">#endif</span>
06076 <span class="preprocessor"></span>
06077 <span class="comment">/*</span>
06078 <span class="comment"> * EXITWIN.C</span>
06079 <span class="comment"> */</span>
06080 LONG <a class="code" href="../../d4/d1/userk_8h.html#a1833">xxxClientShutdown</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, WPARAM wParam);
06081 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1834">xxxRegisterUserHungAppHandlers</a>( PFNW32ET pfnW32EndTask, HANDLE hEventWowExec);
06082 
06083 <span class="comment">/*</span>
06084 <span class="comment"> * INIT.C</span>
06085 <span class="comment"> */</span>
06086 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1835">CreateTerminalInput</a>(PTERMINAL);
06087 
06088 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1836">LW_LoadSomeStrings</a>(VOID);
06089 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1837">LW_LoadProfileInitData</a>();
06090 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1838">xxxODI_ColorInit</a>(PUNICODE_STRING pProfileUserName);
06091 HRGN <a class="code" href="../../d4/d1/userk_8h.html#a1839">InitCreateRgn</a>(VOID);
06092 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1840">xxxUpdateSystemCursorsFromRegistry</a>(PUNICODE_STRING pProfileUserName);
06093 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1841">xxxUpdateSystemIconsFromRegistry</a>(PUNICODE_STRING pProfileUserName);
06094 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1842">RegisterLPK</a>(DWORD);
06095 HBITMAP <a class="code" href="../../d4/d1/userk_8h.html#a1843">CreateCaptionStrip</a>();
06096 
06097 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1844">LW_BrushInit</a>(VOID);
06098 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1845">xxxLW_LoadFonts</a>(BOOL bRemote);
06099 
06100 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1846">_LoadCursorsAndIcons</a>(VOID);
06101 
06102 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1847">UnloadCursorsAndIcons</a>(VOID);
06103 
06104 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1848">IncrMBox</a>(<span class="keywordtype">void</span>);
06105 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1849">DecrMBox</a>(<span class="keywordtype">void</span>);
06106 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1850">InitAnsiOem</a>(PCHAR pOemToAnsi, PCHAR pAnsiToOem);
06107 <span class="keywordtype">int</span>  <a class="code" href="../../d4/d1/userk_8h.html#a1851">xxxAddFontResourceW</a>(LPWSTR lpFile, FLONG flags, DESIGNVECTOR *pdv);
06108 <span class="keywordtype">void</span> <a class="code" href="../../d7/d1/w32_2ntuser_2kernel_2init_8c.html#a61">EnforceColorDependentSettings</a>(<span class="keywordtype">void</span>);
06109 
06110 
06111 <span class="comment">/*</span>
06112 <span class="comment"> * ACCESS.C</span>
06113 <span class="comment"> */</span>
06114 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1853">xxxUpdatePerUserAccessPackSettings</a>(PUNICODE_STRING pProfileUserName);
06115 
06116 <span class="comment">/*</span>
06117 <span class="comment"> * inctlpan.c</span>
06118 <span class="comment"> */</span>
06119 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1854">GetWindowNCMetrics</a>(LPNONCLIENTMETRICS lpnc);
06120 
06121 HFONT <a class="code" href="../../d6/d7/aug98_2dll32_2icmdll_8h.html#a5">FAR</a> PASCAL <a class="code" href="../../d4/d1/userk_8h.html#a1855">CreateFontFromWinIni</a>(PUNICODE_STRING pProfileUserName,LPLOGFONT lplf, UINT idFont);
06122 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1856">SetMinMetrics</a>(PUNICODE_STRING pProfileUserName,LPMINIMIZEDMETRICS lpmin);
06123 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1857">xxxSetWindowNCMetrics</a>(PUNICODE_STRING pProfileUserName,LPNONCLIENTMETRICS lpnc, BOOL fSizeChange, <span class="keywordtype">int</span> clNewBorder);
06124 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1858">SetIconMetrics</a>(PUNICODE_STRING pProfileUserName,LPICONMETRICS lpicon);
06125 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1859">xxxSetNCFonts</a>(PUNICODE_STRING pProfileUserName, LPNONCLIENTMETRICS lpnc);
06126 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1860">CreateBitmapStrip</a>(VOID);
06127 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1861">UpdateWinIniInt</a>(PUNICODE_STRING pProfileUserName, UINT idSection, UINT wKeyNameId, <span class="keywordtype">int</span> value);
06128 
06129 <span class="comment">/*</span>
06130 <span class="comment"> * rare.c</span>
06131 <span class="comment"> */</span>
06132 <span class="keywordtype">void</span> <a class="code" href="../../d6/d7/aug98_2dll32_2icmdll_8h.html#a5">FAR</a> <a class="code" href="../../d4/d5/rare_8c.html#a14">SetDesktopMetrics</a>();
06133 
06134 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1863">SetMsgBox</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
06135 
06136 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1864">_RegisterShellHookWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
06137 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1865">_DeregisterShellHookWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
06138 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1866">xxxSendMinRectMessages</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, RECT *lpRect);
06139 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1867">PostShellHookMessages</a>(UINT message, LPARAM lParam);
<a name="l06140"></a><a class="code" href="../../d4/d5/structtagFREELIST.html">06140</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1868">_ResetDblClk</a>(VOID);
<a name="l06141"></a><a class="code" href="../../d4/d5/structtagFREELIST.html#o0">06141</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1869">xxxSimulateShiftF10</a>(VOID);
<a name="l06142"></a><a class="code" href="../../d4/d5/structtagFREELIST.html#o1">06142</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1870">VWPLAdd</a>(PVWPL *ppvwpl, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, DWORD dwThreshold);
<a name="l06143"></a><a class="code" href="../../d4/d5/structtagFREELIST.html#o2">06143</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1871">VWPLRemove</a>(PVWPL *ppvwpl, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
06144 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d4/d1/userk_8h.html#a1872">VWPLNext</a>(PVWPL pvwpl, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndPrev, DWORD *pnPrev);
06145 
<a name="l06146"></a><a class="code" href="../../d7/d2/structtagDDEIMP.html">06146</a> <span class="comment">/*</span>
<a name="l06147"></a><a class="code" href="../../d7/d2/structtagDDEIMP.html#o0">06147</a> <span class="comment"> * DDETRACK STUFF</span>
<a name="l06148"></a><a class="code" href="../../d7/d2/structtagDDEIMP.html#o1">06148</a> <span class="comment"> */</span>
<a name="l06149"></a><a class="code" href="../../d7/d2/structtagDDEIMP.html#o2">06149</a> 
<a name="l06150"></a><a class="code" href="../../d7/d2/structtagDDEIMP.html#o3">06150</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d4/d5/structtagFREELIST.html">tagFREELIST</a> {
06151     <span class="keyword">struct </span><a class="code" href="../../d4/d5/structtagFREELIST.html">tagFREELIST</a> *next;
06152     HANDLE h;                           <span class="comment">// CSR client side GMEM_DDESHARE handle</span>
<a name="l06153"></a><a class="code" href="../../d6/d2/structtagDDECONV.html">06153</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> flags;                        <span class="comment">// XS_ flags describing data</span>
<a name="l06154"></a><a class="code" href="../../d6/d2/structtagDDECONV.html#o0">06154</a> } <a class="code" href="../../d4/d5/structtagFREELIST.html">FREELIST</a>, *<a class="code" href="../../d4/d5/structtagFREELIST.html">PFREELIST</a>;
<a name="l06155"></a><a class="code" href="../../d6/d2/structtagDDECONV.html#o1">06155</a> 
<a name="l06156"></a><a class="code" href="../../d6/d2/structtagDDECONV.html#o2">06156</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d2/structtagDDEIMP.html">tagDDEIMP</a> {
<a name="l06157"></a><a class="code" href="../../d6/d2/structtagDDECONV.html#o3">06157</a>     SECURITY_QUALITY_OF_SERVICE qos;
<a name="l06158"></a><a class="code" href="../../d6/d2/structtagDDECONV.html#o4">06158</a>     <a class="code" href="../../d8/d0/struct__SECURITY__CLIENT__CONTEXT.html">SECURITY_CLIENT_CONTEXT</a> ClientContext;
<a name="l06159"></a><a class="code" href="../../d6/d2/structtagDDECONV.html#o5">06159</a>     <span class="keywordtype">short</span> cRefInit;
<a name="l06160"></a><a class="code" href="../../d6/d2/structtagDDECONV.html#o6">06160</a>     <span class="keywordtype">short</span> cRefConv;
<a name="l06161"></a><a class="code" href="../../d6/d2/structtagDDECONV.html#o7">06161</a> } <a class="code" href="../../d7/d2/structtagDDEIMP.html">DDEIMP</a>, *<a class="code" href="../../d7/d2/structtagDDEIMP.html">PDDEIMP</a>;
<a name="l06162"></a><a class="code" href="../../d6/d2/structtagDDECONV.html#o8">06162</a> 
<a name="l06163"></a><a class="code" href="../../d6/d2/structtagDDECONV.html#o9">06163</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d6/d2/structtagDDECONV.html">tagDDECONV</a> {
06164     <a class="code" href="../../d1/d1/struct__THROBJHEAD.html">THROBJHEAD</a>          <a class="code" href="../../d6/d2/structtagDDECONV.html#o0">head</a>;           <span class="comment">// HM header</span>
06165     <span class="keyword">struct </span><a class="code" href="../../d6/d2/structtagDDECONV.html">tagDDECONV</a>   *<a class="code" href="../../d6/d2/structtagDDECONV.html#o1">snext</a>;
<a name="l06166"></a><a class="code" href="../../d4/d1/userk_8h.html#a931">06166</a>     <span class="keyword">struct </span><a class="code" href="../../d6/d2/structtagDDECONV.html">tagDDECONV</a>   *spartnerConv;  <span class="comment">// siamese twin</span>
<a name="l06167"></a><a class="code" href="../../d4/d1/userk_8h.html#a932">06167</a>     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>                spwnd;          <span class="comment">// associated pwnd</span>
06168     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>                spwndPartner;   <span class="comment">// associated partner pwnd</span>
<a name="l06169"></a><a class="code" href="../../d1/d0/structtagXSTATE.html">06169</a>     <span class="keyword">struct </span><a class="code" href="../../d1/d0/structtagXSTATE.html">tagXSTATE</a>    *spxsOut;       <span class="comment">// transaction info queue - out point</span>
<a name="l06170"></a><a class="code" href="../../d1/d0/structtagXSTATE.html#o0">06170</a>     <span class="keyword">struct </span><a class="code" href="../../d1/d0/structtagXSTATE.html">tagXSTATE</a>    *spxsIn;        <span class="comment">// transaction info queue - in point</span>
<a name="l06171"></a><a class="code" href="../../d1/d0/structtagXSTATE.html#o1">06171</a>     <span class="keyword">struct </span><a class="code" href="../../d4/d5/structtagFREELIST.html">tagFREELIST</a>  *pfl;           <span class="comment">// free list</span>
<a name="l06172"></a><a class="code" href="../../d1/d0/structtagXSTATE.html#o2">06172</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>               flags;          <span class="comment">// CXF_ flags</span>
<a name="l06173"></a><a class="code" href="../../d1/d0/structtagXSTATE.html#o3">06173</a>     <span class="keyword">struct </span><a class="code" href="../../d7/d2/structtagDDEIMP.html">tagDDEIMP</a>    *pddei;         <span class="comment">// impersonation information</span>
<a name="l06174"></a><a class="code" href="../../d1/d0/structtagXSTATE.html#o4">06174</a> } <a class="code" href="../../d6/d2/structtagDDECONV.html">DDECONV</a>, *<a class="code" href="../../d6/d2/structtagDDECONV.html">PDDECONV</a>;
<a name="l06175"></a><a class="code" href="../../d1/d0/structtagXSTATE.html#o5">06175</a> 
<a name="l06176"></a><a class="code" href="../../d1/d0/structtagXSTATE.html#o6">06176</a> <span class="keyword">typedef</span> <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> (<a class="code" href="../../d4/d1/userk_8h.html#a931">FNDDERESPONSE</a>)(PDWORD pmsg, LPARAM *plParam, <a class="code" href="../../d4/d1/userk_8h.html#a930">PDDECONV</a> pDdeConv);
06177 <span class="keyword">typedef</span> <a class="code" href="../../d4/d1/userk_8h.html#a931">FNDDERESPONSE</a> *<a class="code" href="../../d4/d1/userk_8h.html#a932">PFNDDERESPONSE</a>;
06178 
06179 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d1/d0/structtagXSTATE.html">tagXSTATE</a> {
06180     <a class="code" href="../../d1/d1/struct__THROBJHEAD.html">THROBJHEAD</a>          <a class="code" href="../../d1/d0/structtagXSTATE.html#o0">head</a>;           <span class="comment">// HM header</span>
<a name="l06181"></a><a class="code" href="../../d4/d1/userk_8h.html#a602">06181</a>     <span class="keyword">struct </span><a class="code" href="../../d1/d0/structtagXSTATE.html">tagXSTATE</a>    *snext;
<a name="l06182"></a><a class="code" href="../../d4/d1/userk_8h.html#a603">06182</a>     <a class="code" href="../../d4/d1/userk_8h.html#a932">PFNDDERESPONSE</a>      fnResponse;     <span class="comment">// proc to handle next msg.</span>
<a name="l06183"></a><a class="code" href="../../d4/d1/userk_8h.html#a604">06183</a>     HANDLE              hClient;        <span class="comment">// GMEM_DDESAHRE handle on client side</span>
<a name="l06184"></a><a class="code" href="../../d4/d1/userk_8h.html#a605">06184</a>     HANDLE              hServer;        <span class="comment">// GMEM_DDESHARE handle on server side</span>
06185     <a class="code" href="../../d7/d8/structtagINTDDEINFO.html">PINTDDEINFO</a>         pIntDdeInfo;    <span class="comment">// DDE data being transfered</span>
06186     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>               flags;          <span class="comment">// XS_ flags describing transaction/data</span>
06187 } <a class="code" href="../../d1/d0/structtagXSTATE.html">XSTATE</a>, *<a class="code" href="../../d1/d0/structtagXSTATE.html">PXSTATE</a>;
06188 
06189 <span class="comment">// values for flags field</span>
06190 
06191 <span class="preprocessor">#define CXF_IS_SERVER               0x0001</span>
06192 <span class="preprocessor"></span><span class="preprocessor">#define CXF_TERMINATE_POSTED        0x0002</span>
06193 <span class="preprocessor"></span><span class="preprocessor">#define CXF_PARTNER_WINDOW_DIED     0x0004</span>
06194 <span class="preprocessor"></span><span class="preprocessor">#define CXF_INTRA_PROCESS           0x8000</span>
06195 <span class="preprocessor"></span>
06196 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1873">xxxDDETrackSendHook</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndTo, DWORD message, WPARAM wParam, LPARAM lParam);
<a name="l06197"></a><a class="code" href="../../d2/d2/structtagMONITORPOS.html">06197</a> <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d4/d1/userk_8h.html#a1874">xxxDDETrackPostHook</a>(<a class="code" href="../../d9/d5/ndismain_8h.html#a266">PUINT</a> pmessage, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndTo, WPARAM wParam, LPARAM *plParam, <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> fSent);
06198 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1875">FreeDdeXact</a>(PXSTATE pxs);
<a name="l06199"></a><a class="code" href="../../d2/d2/structtagMONITORPOS.html#o0">06199</a> 
<a name="l06200"></a><a class="code" href="../../d2/d2/structtagMONITORPOS.html#o1">06200</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1876">xxxDDETrackGetMessageHook</a>(PMSG pmsg);
<a name="l06201"></a><a class="code" href="../../d2/d2/structtagMONITORPOS.html#o2">06201</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1877">xxxDDETrackWindowDying</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, PDDECONV pDdeConv);
06202 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1878">FreeDdeConv</a>(PDDECONV pDdeConv);
06203 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1879">_ImpersonateDdeClientWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndClient, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndServer);
<a name="l06204"></a><a class="code" href="../../d3/d2/structtagMONITORRECTS.html">06204</a> 
06205 HBITMAP <a class="code" href="../../d4/d1/userk_8h.html#a1880">_ConvertBitmap</a>(HBITMAP hBitmap);
<a name="l06206"></a><a class="code" href="../../d3/d2/structtagMONITORRECTS.html#o0">06206</a> 
<a name="l06207"></a><a class="code" href="../../d3/d2/structtagMONITORRECTS.html#o1">06207</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d2/d2/structtagMONITORPOS.html">tagMONITORPOS</a>
06208 {
06209     RECT     rcMonitor;     <span class="comment">/* where the monitor rect was */</span>
06210     RECT     rcWork;        <span class="comment">/* where the work rect was */</span>
06211     <a class="code" href="../../d0/d2/structtagMONITOR.html">PMONITOR</a> pMonitor;      <span class="comment">/* what new monitor gets its windows */</span>
06212 } <a class="code" href="../../d2/d2/structtagMONITORPOS.html">MONITORPOS</a>, *<a class="code" href="../../d2/d2/structtagMONITORPOS.html">PMONITORPOS</a>;
06213 
06214 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d3/d2/structtagMONITORRECTS.html">tagMONITORRECTS</a>
06215 {
06216     <span class="keywordtype">int</span>             cMonitor;   <span class="comment">/* number of monitors */</span>
06217     <a class="code" href="../../d2/d2/structtagMONITORPOS.html">MONITORPOS</a>      amp[1];     <span class="comment">/* the monitor positions */</span>
06218 } <a class="code" href="../../d3/d2/structtagMONITORRECTS.html">MONITORRECTS</a>, *<a class="code" href="../../d3/d2/structtagMONITORRECTS.html">PMONITORRECTS</a>;
06219 
06220 
06221 <a class="code" href="../../d4/d1/userk_8h.html#a938">PMONITORRECTS</a> <a class="code" href="../../d4/d5/rare_8c.html#a9">SnapshotMonitorRects</a>(<span class="keywordtype">void</span>);
06222 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1882">xxxDesktopRecalc</a>(PMONITORRECTS pmrOld);
06223 
06224 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1883">_SetDoubleClickTime</a>(UINT);
06225 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d1/d1/bench_8c.html#a0">APIENTRY</a> <a class="code" href="../../d4/d1/userk_8h.html#a1884">_SwapMouseButton</a>(BOOL fSwapButtons);
06226 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1885">xxxDestroyThreadInfo</a>(VOID);
06227 
06228 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d9/d7/kernel_2winmgr_8c.html#a9">_GetWindowPlacement</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, PWINDOWPLACEMENT pwp);
06229 
06230 <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> <a class="code" href="../../d4/d1/userk_8h.html#a1886">xxxGetSystemMenu</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pWnd, BOOL bRevert);
06231 <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> <a class="code" href="../../d5/d2/mncreate_8c.html#a1">_CreateMenu</a>(VOID);
06232 <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> <a class="code" href="../../d5/d2/mncreate_8c.html#a2">_CreatePopupMenu</a>(VOID);
06233 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>  <a class="code" href="../../d4/d1/userk_8h.html#a1887">_DestroyMenu</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu);
06234 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d4/d1/userk_8h.html#a1888">_CheckMenuItem</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu, UINT wIDCheckItem, UINT wCheck);
06235 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d4/d1/userk_8h.html#a1889">xxxEnableMenuItem</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu, UINT wIDEnableItem, UINT wEnable);
06236 WINUSERAPI <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>  <a class="code" href="../../d4/d1/userk_8h.html#a1890">_GetMenuItemID</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu, <span class="keywordtype">int</span> nPos);
06237 WINUSERAPI <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>  <a class="code" href="../../d4/d1/userk_8h.html#a1891">_GetMenuItemCount</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu);
06238 
06239 <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> <a class="code" href="../../d4/d1/userk_8h.html#a1892">_GetMenu</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pWnd);
06240 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1591">_SetMenuContextHelpId</a>(<a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu, DWORD dwContextHelpId);
06241 
<a name="l06242"></a><a class="code" href="../../d4/d1/userk_8h.html#a606">06242</a> <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d4/d1/userk_8h.html#a1893">_GetNextQueueWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, BOOL fDir, BOOL fAltEsc);
06243 
06244 UINT_PTR <a class="code" href="../../d4/d1/userk_8h.html#a1894">_SetSystemTimer</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT_PTR nIDEvent, DWORD dwElapse,
06245         TIMERPROC_PWND pTimerFunc);
06246 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>   <a class="code" href="../../d4/d1/userk_8h.html#a1895">_SetClipboardData</a>(UINT fmt, HANDLE hData, BOOL fGlobalHandle, BOOL fIncSerialNumber);
06247 WORD   <a class="code" href="../../d4/d1/userk_8h.html#a1896">_SetClassWord</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <span class="keywordtype">int</span> index, WORD value);
06248 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d1/userk_8h.html#a1897">xxxSetClassLong</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <span class="keywordtype">int</span> index, DWORD value, BOOL bAnsi);
06249 <span class="preprocessor">#ifdef _WIN64</span>
06250 <span class="preprocessor"></span>ULONG_PTR <a class="code" href="../../d4/d1/userk_8h.html#a606">xxxSetClassLongPtr</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <span class="keywordtype">int</span> index, ULONG_PTR value, BOOL bAnsi);
06251 <span class="preprocessor">#else</span>
06252 <span class="preprocessor"></span><span class="preprocessor">#define xxxSetClassLongPtr  xxxSetClassLong</span>
06253 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
06254 <span class="preprocessor"></span>ATOM   <a class="code" href="../../d4/d1/userk_8h.html#a1898">xxxRegisterClassEx</a>(LPWNDCLASSEX pwc, <a class="code" href="../../d8/d0/structtagCLSMENUNAME.html">PCLSMENUNAME</a> pcmn,
06255         WORD fnid, DWORD dwFlags, LPDWORD pdwWOW);
06256 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>  <a class="code" href="../../d4/d1/userk_8h.html#a1899">xxxHiliteMenuItem</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pmenu, UINT cmd, UINT flags);
06257 HANDLE <a class="code" href="../../d4/d1/userk_8h.html#a1783">_CreateAcceleratorTable</a>(LPACCEL paccel, <span class="keywordtype">int</span> cbAccel);
06258 HANDLE <a class="code" href="../../d4/d1/userk_8h.html#a1900">xxxGetInputEvent</a>(DWORD dwWakeMask);
06259 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>   <a class="code" href="../../d4/d1/userk_8h.html#a1901">_UnregisterClass</a>(LPCWSTR lpszClassName, HANDLE hModule, <a class="code" href="../../d8/d0/structtagCLSMENUNAME.html">PCLSMENUNAME</a> pcmn);
06260 ATOM   <a class="code" href="../../d4/d1/userk_8h.html#a1902">_GetClassInfoEx</a>(HANDLE hModule, LPCWSTR lpszClassName, LPWNDCLASSEX pwc, LPWSTR *ppszMenuName, BOOL bAnsi);
06261 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>   <a class="code" href="../../d4/d1/userk_8h.html#a1903">_WindowFromDC</a>(HDC hdc);
06262 <a class="code" href="../../d7/d0/structtagCLS.html">PCLS</a>   <a class="code" href="../../d4/d1/userk_8h.html#a1904">_GetWOWClass</a>(HANDLE hModule, LPCWSTR lpszClassName);
06263 LRESULT <a class="code" href="../../d4/d1/userk_8h.html#a1905">xxxHkCallHook</a>(<a class="code" href="../../d5/d6/structtagHOOK.html">PHOOK</a> phk, <span class="keywordtype">int</span> nCode, WPARAM wParam, LPARAM lParam);
06264 <a class="code" href="../../d5/d6/structtagHOOK.html">PHOOK</a>  <a class="code" href="../../d4/d1/userk_8h.html#a1906">zzzSetWindowsHookEx</a>(HANDLE hmod, PUNICODE_STRING pstrLib,
06265         <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> ptiThread, <span class="keywordtype">int</span> nFilterType, PROC pfnFilterProc, DWORD dwFlags);
06266 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  <a class="code" href="../../d4/d1/userk_8h.html#a1907">GetDebugHookLParamSize</a>(WPARAM wParam, PDEBUGHOOKINFO pdebughookstruct);
06267 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>   <a class="code" href="../../d4/d1/userk_8h.html#a1908">_RegisterLogonProcess</a>(DWORD dwProcessId, BOOL fSecure);
06268 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>   <a class="code" href="../../d4/d1/userk_8h.html#a1909">_LockWindowStation</a>(<a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a> pwinsta);
06269 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>   <a class="code" href="../../d4/d1/userk_8h.html#a1910">_UnlockWindowStation</a>(<a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a> pwinsta);
06270 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>   <a class="code" href="../../d8/d8/winsta_8c.html#a14">_SetWindowStationUser</a>(<a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a> pwinsta, PLUID pluidUser,
06271         PSID psidUser, DWORD cbsidUser);
06272 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>   <a class="code" href="../../d4/d1/userk_8h.html#a1912">_SetDesktopBitmap</a>(<a class="code" href="../../d0/d3/structtagDESKTOP.html">PDESKTOP</a> pdesk, HBITMAP hbitmap, DWORD dwStyle);
06273 
06274 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>   <a class="code" href="../../d4/d1/userk_8h.html#a1913">_SetLogonNotifyWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
06275 
06276 
06277 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>   <a class="code" href="../../d4/d1/userk_8h.html#a1914">_RegisterTasklist</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndTasklist);
06278 LONG_PTR <a class="code" href="../../d4/d1/userk_8h.html#a1915">_SetMessageExtraInfo</a>(LONG_PTR);
06279 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>   <a class="code" href="../../d4/d1/userk_8h.html#a1916">xxxRemoveEvents</a>(<a class="code" href="../../d7/d4/structtagQ.html">PQ</a> pq, <span class="keywordtype">int</span> nQueue, DWORD flags);
06280 
06281 <a class="code" href="../../d7/d0/structtagCLS.html">PPCLS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1917">_InnerGetClassPtr</a>(ATOM atom, <a class="code" href="../../d7/d0/structtagCLS.html">PPCLS</a> ppclsList, HANDLE hModule);
06282 
06283 <span class="comment">/*</span>
06284 <span class="comment"> * ntcb.h funtions.</span>
06285 <span class="comment"> */</span>
06286 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d4/d1/userk_8h.html#a1918">ClientGetListboxString</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> hwnd, UINT msg,
06287         WPARAM wParam, PVOID lParam,
06288         ULONG_PTR xParam, PROC xpfn, DWORD dwSCMSFlags, BOOL bNotString, PSMS psms);
06289 HANDLE <a class="code" href="../../d4/d1/userk_8h.html#a1919">ClientLoadLibrary</a>(PUNICODE_STRING pstrLib, BOOL bWx86KnownDll);
06290 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1920">ClientFreeLibrary</a>(HANDLE hmod);
06291 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1921">xxxClientGetCharsetInfo</a>(LCID lcid, PCHARSETINFO pcs);
06292 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1922">ClientExitProcess</a>(PFNW32ET pfn, DWORD dwExitCode);
06293 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1923">ClientGrayString</a>(GRAYSTRINGPROC pfnOutProc, HDC hdc,
06294         DWORD lpData, <span class="keywordtype">int</span> nCount);
06295 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1924">CopyFromClient</a>(LPBYTE lpByte, LPBYTE lpByteClient, DWORD cch,
06296         BOOL fString, BOOL fAnsi);
06297 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1925">CopyToClient</a>(LPBYTE lpByte, LPBYTE lpByteClient,
06298         DWORD cchMax, BOOL fAnsi);
06299 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1926">ClientNoMemoryPopup</a>(VOID);
06300 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1927">ClientThreadSetup</a>(VOID);
06301 
06302 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1928">ClientDeliverUserApc</a>(VOID);
06303 
06304 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1929">ClientImmLoadLayout</a>(HKL, <a class="code" href="../../d0/d8/structtagIMEINFOEX.html">PIMEINFOEX</a>);
06305 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d4/d1/userk_8h.html#a1930">ClientImmProcessKey</a>(HWND, HKL, UINT, LPARAM, DWORD);
06306 
06307 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1931">xxxUserModeCallback</a> (ULONG uApi, PVOID pIn, ULONG cbIn, PVOID pOut, ULONG cbOut);
06308 
06309 
06310 <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> <a class="code" href="../../d4/d1/userk_8h.html#a1932">ClassSetSmallIcon</a>(
06311     <a class="code" href="../../d7/d0/structtagCLS.html">PCLS</a> pcls,
06312     <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> pcursor,
06313     BOOL fServerCreated);
06314 
06315 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1933">_GetTextMetricsW</a>(
06316     HDC hdc,
06317     LPTEXTMETRICW ptm);
06318 
06319 <span class="keywordtype">int</span> <a class="code" href="../../d4/d1/userk_8h.html#a1934">xxxDrawMenuBarTemp</a>(
06320     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd,
06321     HDC hdc,
06322     LPRECT lprc,
06323     <a class="code" href="../../d1/d1/structtagMENU.html">PMENU</a> pMenu,
06324     HFONT hFont);
06325 
06326 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1935">xxxDrawCaptionTemp</a>(
06327     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd,
06328     HDC hdc,
06329     LPRECT lprc,
06330     HFONT hFont,
06331     <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> pcursor,
06332     PUNICODE_STRING pstrText OPTIONAL,
06333     UINT flags);
06334 
<a name="l06335"></a><a class="code" href="../../d4/d1/userk_8h.html#a607">06335</a> WORD <a class="code" href="../../d4/d1/userk_8h.html#a1936">xxxTrackCaptionButton</a>(
<a name="l06336"></a><a class="code" href="../../d4/d1/userk_8h.html#a941">06336</a>     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd,
06337     UINT hit);
<a name="l06338"></a><a class="code" href="../../d4/d1/userk_8h.html#a1937">06338</a> 
06339 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1937">GiveForegroundActivateRight</a>(HANDLE hPid);
06340 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1938">HasForegroundActivateRight</a>(HANDLE hPid);
06341 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1939">FRemoveForegroundActivate</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti);
06342 <span class="keywordtype">void</span> <a class="code" href="../../d5/d3/ntuser_2kernel_2input_8c.html#a34">RestoreForegroundActivate</a>();
06343 <span class="keywordtype">void</span> <a class="code" href="../../d5/d3/ntuser_2kernel_2input_8c.html#a33">CancelForegroundActivate</a>();
06344 
06345 <span class="preprocessor">#define ACTIVATE_ARRAY_SIZE 5</span>
06346 <span class="preprocessor"></span><span class="keyword">extern</span> HANDLE <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a359">ghCanActivateForegroundPIDs</a>[<a class="code" href="../../d4/d1/userk_8h.html#a607">ACTIVATE_ARRAY_SIZE</a>];
06347 
06348 __inline <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1937">GiveForegroundActivateRight</a>(HANDLE hPid)
<a name="l06349"></a><a class="code" href="../../d4/d1/userk_8h.html#a1938">06349</a> {
06350     <span class="keyword">static</span> <span class="keywordtype">int</span> index = 0;
06351 
06352     TAGMSG1(DBGTAG_FOREGROUND, <span class="stringliteral">"Giving %x foreground activate right"</span>, hPid);
06353     <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a359">ghCanActivateForegroundPIDs</a>[index++] = hPid;
06354     <span class="keywordflow">if</span>(index == <a class="code" href="../../d4/d1/userk_8h.html#a607">ACTIVATE_ARRAY_SIZE</a>) {
06355         index = 0;
06356     }
06357 }
06358 
06359 __inline <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1938">HasForegroundActivateRight</a>(HANDLE hPid)
06360 {
06361     <span class="keywordtype">int</span> i = 0;
06362 
06363     <span class="keywordflow">for</span>(; i &lt; <a class="code" href="../../d4/d1/userk_8h.html#a607">ACTIVATE_ARRAY_SIZE</a>; ++i) {
06364             <span class="keywordflow">if</span>(<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a359">ghCanActivateForegroundPIDs</a>[i] == hPid) {
<a name="l06365"></a><a class="code" href="../../d4/d1/userk_8h.html#a608">06365</a>                 TAGMSG1(DBGTAG_FOREGROUND, <span class="stringliteral">"HasForegroundActivateRight: Found %x"</span>, hPid);
06366                 <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
06367             }
06368      }
06369 
06370      TAGMSG1(DBGTAG_FOREGROUND, <span class="stringliteral">"HasForegroundActivateRight: Did NOT find %x"</span>, hPid);
06371      <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
06372 }
06373 
06374 
06375 <span class="preprocessor">#define WHERE_NOONE_CAN_SEE_ME ((int) -32000)</span>
06376 <span class="preprocessor"></span><a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1942">MinToTray</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
06377 
06378 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1943">xxxUpdateThreadsWindows</a>(
06379     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti,
06380     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd,
06381     HRGN hrgnFullDrag);
06382 
06383 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1944">xxxQueryInformationThread</a>(
06384     IN HANDLE hThread,
06385     IN USERTHREADINFOCLASS ThreadInfoClass,
06386     OUT PVOID ThreadInformation,
06387     IN ULONG ThreadInformationLength,
06388     OUT PULONG ReturnLength OPTIONAL);
06389 
06390 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1945">xxxSetInformationThread</a>(
06391     IN HANDLE hThread,
06392     IN USERTHREADINFOCLASS ThreadInfoClass,
06393     IN PVOID ThreadInformation,
06394     IN ULONG ThreadInformationLength);
06395 
06396 <span class="preprocessor">#ifdef USE_MIRRORING</span>
06397 <span class="preprocessor"></span><a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> GetProcessDefaultWindowOrientation(
06398     IN HANDLE hProcess,
06399     OUT DWORD *pdwDefaultOrientation);
06400 
06401 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> SetProcessDefaultWindowOrientation(
06402     IN HANDLE hProcess,
06403     IN DWORD dwDefaultOrientation);
06404 <span class="preprocessor">#endif</span>
06405 <span class="preprocessor"></span>
06406 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1946">SetInformationProcess</a>(
06407     IN HANDLE hProcess,
06408     IN USERPROCESSINFOCLASS ProcessInfoClass,
06409     IN PVOID ProcessInformation,
06410     IN ULONG ProcessInformationLength);
06411 
06412 
06413 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1947">xxxConsoleControl</a>(
06414     IN CONSOLECONTROL ConsoleControl,
06415     IN PVOID ConsoleInformation,
06416     IN ULONG ConsoleInformationLength);
06417 
06418 
06419 <span class="comment">/***************************************************************************\</span>
06420 <span class="comment">* String Table Defines</span>
06421 <span class="comment">*</span>
06422 <span class="comment">* KERNEL\STRID.MC has a nice big table of strings that are meant to be</span>
06423 <span class="comment">* localized.  Before use, the strings are pulled from the resource table</span>
<a name="l06424"></a><a class="code" href="../../d4/d1/userk_8h.html#a609">06424</a> <span class="comment">* with LoadString, passing it one of the following string ids.</span>
06425 <span class="comment">*</span>
06426 <span class="comment">* NOTE: Only strings that need to be localized should be added to the</span>
06427 <span class="comment">*       string table.  Class name strings, etc are NOT localized.</span>
06428 <span class="comment">*</span>
<a name="l06429"></a><a class="code" href="../../d8/d4/structtagEVENTHOOK.html">06429</a> <span class="comment">* LATER: All string table entries should be reexamined to be sure they</span>
<a name="l06430"></a><a class="code" href="../../d8/d4/structtagEVENTHOOK.html#o0">06430</a> <span class="comment">*        conform to the note above.</span>
<a name="l06431"></a><a class="code" href="../../d8/d4/structtagEVENTHOOK.html#o1">06431</a> <span class="comment">*</span>
<a name="l06432"></a><a class="code" href="../../d8/d4/structtagEVENTHOOK.html#o2">06432</a> <span class="comment">\***************************************************************************/</span>
<a name="l06433"></a><a class="code" href="../../d8/d4/structtagEVENTHOOK.html#o3">06433</a> 
<a name="l06434"></a><a class="code" href="../../d8/d4/structtagEVENTHOOK.html#o4">06434</a> <span class="preprocessor">#define OCR_APPSTARTING         32650</span>
06435 <span class="preprocessor"></span>
06436 <span class="comment">/*</span>
<a name="l06437"></a><a class="code" href="../../d8/d4/structtagEVENTHOOK.html#o5">06437</a> <span class="comment"> * Win Event Hook struct</span>
<a name="l06438"></a><a class="code" href="../../d8/d4/structtagEVENTHOOK.html#o6">06438</a> <span class="comment"> */</span>
<a name="l06439"></a><a class="code" href="../../d8/d4/structtagEVENTHOOK.html#o7">06439</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/d4/structtagEVENTHOOK.html">tagEVENTHOOK</a> {
<a name="l06440"></a><a class="code" href="../../d8/d4/structtagEVENTHOOK.html#o8">06440</a>     <a class="code" href="../../d1/d1/struct__THROBJHEAD.html">THROBJHEAD</a>          <a class="code" href="../../d8/d4/structtagEVENTHOOK.html#o0">head</a>;                <span class="comment">//</span>
<a name="l06441"></a><a class="code" href="../../d8/d4/structtagEVENTHOOK.html#o9">06441</a>     <span class="keyword">struct </span><a class="code" href="../../d8/d4/structtagEVENTHOOK.html">tagEVENTHOOK</a> *<a class="code" href="../../d8/d4/structtagEVENTHOOK.html#o1">pehNext</a>;            <span class="comment">// 0x14 Next event hook</span>
<a name="l06442"></a><a class="code" href="../../d8/d4/structtagEVENTHOOK.html#o10">06442</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>                <a class="code" href="../../d8/d4/structtagEVENTHOOK.html#o2">eventMin</a>;            <span class="comment">// 0x18 Min event (&gt;=) to hook</span>
06443     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>                <a class="code" href="../../d8/d4/structtagEVENTHOOK.html#o3">eventMax</a>;            <span class="comment">// 0x1C Max event (&lt;=) to hook</span>
06444     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>                <a class="code" href="../../d8/d4/structtagEVENTHOOK.html#o4">fDestroyed</a>:1;        <span class="comment">// 0x20 If orphaned while in use</span>
<a name="l06445"></a><a class="code" href="../../d8/d4/structtagEVENTHOOK.html#o11">06445</a> <span class="comment">// IanJa - we don't need this bit               0x24</span>
<a name="l06446"></a><a class="code" href="../../d8/d4/structtagEVENTHOOK.html#o12">06446</a> <span class="comment">//  UINT                f32Bit:1;            // 0x28 If 32-bit client</span>
<a name="l06447"></a><a class="code" href="../../d8/d4/structtagEVENTHOOK.html#o13">06447</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>                <a class="code" href="../../d8/d4/structtagEVENTHOOK.html#o5">fIgnoreOwnThread</a>:1;  <span class="comment">// 0x2C Ignore events for installer thread</span>
06448     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>                <a class="code" href="../../d8/d4/structtagEVENTHOOK.html#o6">fIgnoreOwnProcess</a>:1; <span class="comment">//      Ignore events for installer process</span>
06449     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>                <a class="code" href="../../d8/d4/structtagEVENTHOOK.html#o7">fSync</a>:1;             <span class="comment">//      Sync event (inject DLL into each process)</span>
<a name="l06450"></a><a class="code" href="../../d9/d2/structtagNOTIFY.html">06450</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>                fWx86KnownDll:1;     <span class="comment">//      x86 emulation? (IanJa - provide support)</span>
<a name="l06451"></a><a class="code" href="../../d9/d2/structtagNOTIFY.html#o0">06451</a>     HANDLE              hEventProcess;       <span class="comment">// 0x30 Process being hooked</span>
<a name="l06452"></a><a class="code" href="../../d9/d2/structtagNOTIFY.html#o1">06452</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>               idEventThread;       <span class="comment">// 0x34 Thread being hooked</span>
<a name="l06453"></a><a class="code" href="../../d9/d2/structtagNOTIFY.html#o2">06453</a> <span class="comment">// (IanJa - have head.pti: don't need ppiInstaller, can use GETPTI(peh)-&gt;ppi)</span>
<a name="l06454"></a><a class="code" href="../../d9/d2/structtagNOTIFY.html#o3">06454</a> <span class="comment">//  DWORD               idInstallerProcess;  // 0x38 ID of process that installed hook</span>
<a name="l06455"></a><a class="code" href="../../d9/d2/structtagNOTIFY.html#o4">06455</a>     ULONG_PTR            offPfn;              <span class="comment">// 0x3C offset event proc</span>
<a name="l06456"></a><a class="code" href="../../d9/d2/structtagNOTIFY.html#o5">06456</a>     <span class="keywordtype">int</span>                 ihmod;               <span class="comment">// 0x40 index of module containing event proc</span>
<a name="l06457"></a><a class="code" href="../../d9/d2/structtagNOTIFY.html#o6">06457</a>     LPWSTR              pwszModulePath;      <span class="comment">// 0x44 Path of module library for global sync.</span>
<a name="l06458"></a><a class="code" href="../../d9/d2/structtagNOTIFY.html#o7">06458</a> } <a class="code" href="../../d8/d4/structtagEVENTHOOK.html">EVENTHOOK</a>, *<a class="code" href="../../d8/d4/structtagEVENTHOOK.html">PEVENTHOOK</a>;                    <span class="comment">// 0x48 (size)</span>
<a name="l06459"></a><a class="code" href="../../d9/d2/structtagNOTIFY.html#o8">06459</a> 
<a name="l06460"></a><a class="code" href="../../d9/d2/structtagNOTIFY.html#o9">06460</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d2/structtagNOTIFY.html">tagNOTIFY</a> {
06461     <span class="keyword">struct </span><a class="code" href="../../d9/d2/structtagNOTIFY.html">tagNOTIFY</a> *<a class="code" href="../../d9/d2/structtagNOTIFY.html#o0">pNotifyNext</a>;         <span class="comment">// 0x00 Next notification</span>
06462     <a class="code" href="../../d4/d1/userk_8h.html#a782">PEVENTHOOK</a>        <a class="code" href="../../d9/d2/structtagNOTIFY.html#o1">spEventHook</a>;         <span class="comment">// 0x04 Event this refers to</span>
06463     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>             <a class="code" href="../../d9/d2/structtagNOTIFY.html#o2">event</a>;               <span class="comment">// 0x08 Event</span>
<a name="l06464"></a><a class="code" href="../../d4/d1/userk_8h.html#a610">06464</a>     HWND              hwnd;                <span class="comment">// 0x0C hwnd to ask about it</span>
<a name="l06465"></a><a class="code" href="../../d4/d1/userk_8h.html#a611">06465</a>     LONG              idObject;            <span class="comment">// 0x10 object ID</span>
<a name="l06466"></a><a class="code" href="../../d4/d1/userk_8h.html#a612">06466</a>     LONG              idChild;             <span class="comment">// 0x14 child id</span>
<a name="l06467"></a><a class="code" href="../../d4/d1/userk_8h.html#a613">06467</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>             idSenderThread;      <span class="comment">// 0x18 Thread generating event</span>
06468     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>             dwEventTime;         <span class="comment">// 0x1C Event time</span>
<a name="l06469"></a><a class="code" href="../../d4/d1/userk_8h.html#a614">06469</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>             dwWEFlags;           <span class="comment">// 0x20 WEF_DEFERNOTIFY etc.</span>
06470     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a>       ptiReceiver;         <span class="comment">// 0x24 Thread receiving event</span>
<a name="l06471"></a><a class="code" href="../../d4/d1/userk_8h.html#a615">06471</a> } <a class="code" href="../../d9/d2/structtagNOTIFY.html">NOTIFY</a>, *<a class="code" href="../../d9/d2/structtagNOTIFY.html">PNOTIFY</a>;                        <span class="comment">// 0x28</span>
<a name="l06472"></a><a class="code" href="../../d4/d1/userk_8h.html#a616">06472</a> 
<a name="l06473"></a><a class="code" href="../../d4/d1/userk_8h.html#a617">06473</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d5/d7/kernel_2winable_8c.html#a8">xxxWindowEvent</a>(DWORD event, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, LONG idObject, LONG idChild, DWORD dwFlags);
06474 <span class="preprocessor">#define WEF_USEPWNDTHREAD 0x0001</span>
06475 <span class="preprocessor"></span><span class="preprocessor">#define WEF_DEFERNOTIFY   0x0002</span>
06476 <span class="preprocessor"></span><span class="preprocessor">#define WEF_ASYNC         0x0004</span>
06477 <span class="preprocessor"></span><span class="preprocessor">#define WEF_POSTED        0x0008</span>
06478 <span class="preprocessor"></span>
06479 <span class="preprocessor">#define DeferWinEventNotify()      CheckCritIn();          \</span>
06480 <span class="preprocessor">                                   gdwDeferWinEvent++</span>
06481 <span class="preprocessor"></span><span class="preprocessor">#define IsWinEventNotifyDeferred() (gdwDeferWinEvent &gt; 0)</span>
06482 <span class="preprocessor"></span><span class="preprocessor">#define IsWinEventNotifyDeferredOK() (!IsWinEventNotifyDeferred() || ISATOMICCHECK())</span>
06483 <span class="preprocessor"></span><span class="preprocessor">#define zzzEndDeferWinEventNotify()                        \</span>
06484 <span class="preprocessor">        UserAssert(IsWinEventNotifyDeferred());            \</span>
06485 <span class="preprocessor">        UserAssert(FWINABLE() || gnDeferredWinEvents == 0);  \</span>
06486 <span class="preprocessor">        CheckCritIn();                                     \</span>
06487 <span class="preprocessor">        if (--gdwDeferWinEvent == 0) {                     \</span>
<a name="l06488"></a><a class="code" href="../../d4/d1/userk_8h.html#a618">06488</a> <span class="preprocessor">            if (FWINABLE() &amp;&amp; (gpPendingNotifies != NULL)) { \</span>
06489 <span class="preprocessor">                xxxFlushDeferredWindowEvents();            \</span>
06490 <span class="preprocessor">            }                                              \</span>
06491 <span class="preprocessor">        }                                                  \</span>
06492 <span class="preprocessor">        UserAssert(FWINABLE() || gnDeferredWinEvents == 0)</span>
06493 <span class="preprocessor"></span>
<a name="l06494"></a><a class="code" href="../../d4/d1/userk_8h.html#a619">06494</a> <span class="comment">/*</span>
06495 <span class="comment"> * Only use this one for bookkeeping gdwDeferWinEvent,</span>
06496 <span class="comment"> * which may be required without leaving the critical section.</span>
06497 <span class="comment"> */</span>
06498 <span class="preprocessor">#define EndDeferWinEventNotifyWithoutProcessing()          \</span>
06499 <span class="preprocessor">        UserAssert(IsWinEventNotifyDeferred());            \</span>
06500 <span class="preprocessor">        UserAssert(FWINABLE() || gnDeferredWinEvents == 0);  \</span>
06501 <span class="preprocessor">        CheckCritIn();                                     \</span>
06502 <span class="preprocessor">        --gdwDeferWinEvent</span>
06503 <span class="preprocessor"></span>
06504 <span class="preprocessor">#define zzzWindowEvent(event, pwnd, idObject, idChild, dwFlags) \</span>
06505 <span class="preprocessor">        xxxWindowEvent(event, pwnd, idObject, idChild,          \</span>
06506 <span class="preprocessor">            IsWinEventNotifyDeferred() ? (dwFlags) | WEF_DEFERNOTIFY : (dwFlags))</span>
06507 <span class="preprocessor"></span>
06508 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1949">xxxFlushDeferredWindowEvents</a>();
06509 
06510 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1950">xxxClientCallWinEventProc</a>(WINEVENTPROC pfn, PEVENTHOOK pEventHook, PNOTIFY pNotify);
06511 <span class="keywordtype">void</span> <a class="code" href="../../d5/d7/kernel_2winable_8c.html#a14">DestroyEventHook</a>(PEVENTHOOK);
06512 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d5/d7/kernel_2winable_8c.html#a11">FreeThreadsWinEvents</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti);
06513 
06514 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>       <a class="code" href="../../d5/d7/kernel_2winable_8c.html#a13">_UnhookWinEvent</a>(PEVENTHOOK peh);
06515 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>       <a class="code" href="../../d5/d7/kernel_2winable_8c.html#a10">DestroyNotify</a>(PNOTIFY pNotify);
06516 <a class="code" href="../../d4/d1/userk_8h.html#a782">PEVENTHOOK</a> <a class="code" href="../../d5/d7/kernel_2winable_8c.html#a6">xxxProcessNotifyWinEvent</a>(PNOTIFY pNotify);
06517 <a class="code" href="../../d4/d1/userk_8h.html#a782">PEVENTHOOK</a> <a class="code" href="../../d5/d7/kernel_2winable_8c.html#a12">_SetWinEventHook</a>(DWORD eventMin, DWORD eventMax,
06518         HMODULE hmodWinEventProc, PUNICODE_STRING pstrLib,
06519         WINEVENTPROC pfnWinEventProc, HANDLE hEventProcess,
06520         DWORD idEventThread, DWORD dwFlags);
06521 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d6/d7/winable2_8c.html#a0">_GetGUIThreadInfo</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti, PGUITHREADINFO pgui);
<a name="l06522"></a><a class="code" href="../../d4/d1/userk_8h.html#a944">06522</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d6/d7/winable2_8c.html#a1">xxxGetTitleBarInfo</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, PTITLEBARINFO ptbi);
06523 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d6/d7/winable2_8c.html#a6">_GetComboBoxInfo</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, PCOMBOBOXINFO ptbi);
<a name="l06524"></a><a class="code" href="../../d8/d7/structtagSwitchWndInfo.html">06524</a> <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d6/d7/winable2_8c.html#a7">_GetListBoxInfo</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
06525 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d6/d7/winable2_8c.html#a2">_GetScrollBarInfo</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, LONG idObject, PSCROLLBARINFO ptbi);
<a name="l06526"></a><a class="code" href="../../d8/d7/structtagSwitchWndInfo.html#o0">06526</a> <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d6/d7/winable2_8c.html#a3">_GetAncestor</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT gaFlags);
<a name="l06527"></a><a class="code" href="../../d8/d7/structtagSwitchWndInfo.html#o1">06527</a> <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d6/d7/winable2_8c.html#a4">_RealChildWindowFromPoint</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndParent, POINT pt);
<a name="l06528"></a><a class="code" href="../../d8/d7/structtagSwitchWndInfo.html#o2">06528</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1964">_GetAltTabInfo</a>(<span class="keywordtype">int</span> iItem, PALTTABINFO pati,
06529         LPWSTR lpszItemText, UINT cchItemText, BOOL bAnsi);
<a name="l06530"></a><a class="code" href="../../d8/d7/structtagSwitchWndInfo.html#o3">06530</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d6/d7/winable2_8c.html#a5">xxxGetMenuBarInfo</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <span class="keywordtype">long</span> idObject, <span class="keywordtype">long</span> idItem, PMENUBARINFO pmbi);
<a name="l06531"></a><a class="code" href="../../d8/d7/structtagSwitchWndInfo.html#o4">06531</a> 
<a name="l06532"></a><a class="code" href="../../d8/d7/structtagSwitchWndInfo.html#o5">06532</a> <span class="keyword">typedef</span> HWND *<a class="code" href="../../d4/d1/userk_8h.html#a944">PHWND</a>;
06533 
<a name="l06534"></a><a class="code" href="../../d8/d7/structtagSwitchWndInfo.html#o6">06534</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/d7/structtagSwitchWndInfo.html">tagSwitchWndInfo</a> {
06535 
<a name="l06536"></a><a class="code" href="../../d8/d7/structtagSwitchWndInfo.html#o7">06536</a>     <a class="code" href="../../d4/d1/userk_8h.html#a883">PBWL</a>    <a class="code" href="../../d8/d7/structtagSwitchWndInfo.html#o0">pbwl</a>;               <span class="comment">// Pointer to the window list built.</span>
<a name="l06537"></a><a class="code" href="../../d8/d7/structtagSwitchWndInfo.html#o8">06537</a>     <a class="code" href="../../d4/d1/userk_8h.html#a944">PHWND</a>   <a class="code" href="../../d8/d7/structtagSwitchWndInfo.html#o1">phwndLast</a>;          <span class="comment">// Pointer to the last window in the list.</span>
<a name="l06538"></a><a class="code" href="../../d8/d7/structtagSwitchWndInfo.html#o9">06538</a>     <a class="code" href="../../d4/d1/userk_8h.html#a944">PHWND</a>   <a class="code" href="../../d8/d7/structtagSwitchWndInfo.html#o2">phwndCurrent</a>;       <span class="comment">// pointer to the current window.</span>
<a name="l06539"></a><a class="code" href="../../d8/d7/structtagSwitchWndInfo.html#o10">06539</a> 
<a name="l06540"></a><a class="code" href="../../d8/d7/structtagSwitchWndInfo.html#o11">06540</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a263">INT</a>     <a class="code" href="../../d8/d7/structtagSwitchWndInfo.html#o3">iTotalTasks</a>;        <span class="comment">// Total number of tasks.</span>
<a name="l06541"></a><a class="code" href="../../d8/d7/structtagSwitchWndInfo.html#o12">06541</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a263">INT</a>     <a class="code" href="../../d8/d7/structtagSwitchWndInfo.html#o4">iTasksShown</a>;        <span class="comment">// Total tasks shown.</span>
<a name="l06542"></a><a class="code" href="../../d8/d7/structtagSwitchWndInfo.html#o13">06542</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d8/d7/structtagSwitchWndInfo.html#o5">fScroll</a>;            <span class="comment">// Is there a need to scroll?</span>
<a name="l06543"></a><a class="code" href="../../d8/d7/structtagSwitchWndInfo.html#o14">06543</a> 
<a name="l06544"></a><a class="code" href="../../d8/d7/structtagSwitchWndInfo.html#o15">06544</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a263">INT</a>     <a class="code" href="../../d8/d7/structtagSwitchWndInfo.html#o6">iFirstTaskIndex</a>;    <span class="comment">// Index to the first task shown.</span>
<a name="l06545"></a><a class="code" href="../../d8/d7/structtagSwitchWndInfo.html#o16">06545</a> 
06546     <a class="code" href="../../d9/d5/ndismain_8h.html#a263">INT</a>     <a class="code" href="../../d8/d7/structtagSwitchWndInfo.html#o7">iNoOfColumns</a>;       <span class="comment">// Max Number of tasks per row.</span>
06547     <a class="code" href="../../d9/d5/ndismain_8h.html#a263">INT</a>     <a class="code" href="../../d8/d7/structtagSwitchWndInfo.html#o8">iNoOfRows</a>;          <span class="comment">// Max Number of rows of icons in the switch window.</span>
<a name="l06548"></a><a class="code" href="../../d7/d7/structtagSWITCHWND.html">06548</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a263">INT</a>     iIconsInLastRow;    <span class="comment">// Icons in last row.</span>
<a name="l06549"></a><a class="code" href="../../d7/d7/structtagSWITCHWND.html#o0">06549</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a263">INT</a>     iCurCol;            <span class="comment">// Current column where hilite lies.</span>
<a name="l06550"></a><a class="code" href="../../d7/d7/structtagSWITCHWND.html#o1">06550</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a263">INT</a>     iCurRow;            <span class="comment">// Current row where hilite lies.</span>
06551     <a class="code" href="../../d9/d5/ndismain_8h.html#a263">INT</a>     cxSwitch;           <span class="comment">// Switch Window dimensions.</span>
06552     <a class="code" href="../../d9/d5/ndismain_8h.html#a263">INT</a>     cySwitch;
<a name="l06553"></a><a class="code" href="../../d9/d6/structtagHOTKEYSTRUCT.html">06553</a>     POINT   ptFirstRowStart;    <span class="comment">// Top left corner of the first Icon Slot.</span>
<a name="l06554"></a><a class="code" href="../../d9/d6/structtagHOTKEYSTRUCT.html#o0">06554</a>     RECT    rcTaskName;         <span class="comment">// Rect where Task name is displayed.</span>
<a name="l06555"></a><a class="code" href="../../d9/d6/structtagHOTKEYSTRUCT.html#o1">06555</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    fJournaling;        <span class="comment">// Determins how we check the keyboard state</span>
06556 } <a class="code" href="../../d8/d7/structtagSwitchWndInfo.html">SWITCHWNDINFO</a>, *<a class="code" href="../../d8/d7/structtagSwitchWndInfo.html">PSWINFO</a>;
06557 
<a name="l06558"></a><a class="code" href="../../d4/d1/userk_8h.html#a620">06558</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d7/structtagSWITCHWND.html">tagSWITCHWND</a> {
06559     <a class="code" href="../../d6/d9/structtagWND.html">WND</a>;
06560     <a class="code" href="../../d4/d1/userk_8h.html#a946">PSWINFO</a> pswi;
06561 } <a class="code" href="../../d7/d7/structtagSWITCHWND.html">SWITCHWND</a>, *<a class="code" href="../../d7/d7/structtagSWITCHWND.html">PSWITCHWND</a>;
06562 
06563 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d6/structtagHOTKEYSTRUCT.html">tagHOTKEYSTRUCT</a> {
06564     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>  spwnd;
<a name="l06565"></a><a class="code" href="../../d4/d1/userk_8h.html#a621">06565</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> key;
<a name="l06566"></a><a class="code" href="../../d4/d1/userk_8h.html#a622">06566</a> } <a class="code" href="../../d9/d6/structtagHOTKEYSTRUCT.html">HOTKEYSTRUCT</a>, *<a class="code" href="../../d9/d6/structtagHOTKEYSTRUCT.html">PHOTKEYSTRUCT</a>;
<a name="l06567"></a><a class="code" href="../../d4/d1/userk_8h.html#a623">06567</a> 
<a name="l06568"></a><a class="code" href="../../d4/d1/userk_8h.html#a624">06568</a> <span class="preprocessor">#define LANGTOGGLEKEYS_SIZE 3</span>
<a name="l06569"></a><a class="code" href="../../d4/d1/userk_8h.html#a625">06569</a> <span class="preprocessor"></span>
<a name="l06570"></a><a class="code" href="../../d4/d1/userk_8h.html#a626">06570</a> <span class="comment">/*</span>
<a name="l06571"></a><a class="code" href="../../d4/d1/userk_8h.html#a627">06571</a> <span class="comment"> * ACCF_ and PUDF_ flags share the same field. ACCF fields</span>
<a name="l06572"></a><a class="code" href="../../d4/d1/userk_8h.html#a628">06572</a> <span class="comment"> * are so named because they may later move to a differnt</span>
<a name="l06573"></a><a class="code" href="../../d4/d1/userk_8h.html#a629">06573</a> <span class="comment"> * struct.</span>
<a name="l06574"></a><a class="code" href="../../d4/d1/userk_8h.html#a630">06574</a> <span class="comment"> */</span>
<a name="l06575"></a><a class="code" href="../../d4/d1/userk_8h.html#a631">06575</a> <span class="preprocessor">#define ACCF_DEFAULTFILTERKEYSON        0x00000001</span>
<a name="l06576"></a><a class="code" href="../../d4/d1/userk_8h.html#a632">06576</a> <span class="preprocessor"></span><span class="preprocessor">#define ACCF_DEFAULTSTICKYKEYSON        0x00000002</span>
<a name="l06577"></a><a class="code" href="../../d4/d1/userk_8h.html#a633">06577</a> <span class="preprocessor"></span><span class="preprocessor">#define ACCF_DEFAULTMOUSEKEYSON         0x00000004</span>
<a name="l06578"></a><a class="code" href="../../d4/d1/userk_8h.html#a634">06578</a> <span class="preprocessor"></span><span class="preprocessor">#define ACCF_DEFAULTTOGGLEKEYSON        0x00000008</span>
<a name="l06579"></a><a class="code" href="../../d4/d1/userk_8h.html#a635">06579</a> <span class="preprocessor"></span><span class="preprocessor">#define ACCF_DEFAULTTIMEOUTON           0x00000010</span>
06580 <span class="preprocessor"></span><span class="preprocessor">#define ACCF_DEFAULTKEYBOARDPREF        0x00000020</span>
06581 <span class="preprocessor"></span><span class="preprocessor">#define ACCF_DEFAULTSCREENREADER        0x00000040</span>
06582 <span class="preprocessor"></span><span class="preprocessor">#define ACCF_DEFAULTHIGHCONTRASTON      0x00000080</span>
06583 <span class="preprocessor"></span><span class="preprocessor">#define ACCF_ACCESSENABLED              0x00000100</span>
<a name="l06584"></a><a class="code" href="../../d4/d1/userk_8h.html#a636">06584</a> <span class="preprocessor"></span><span class="preprocessor">#define ACCF_IGNOREBREAKCODE            0x00000400</span>
06585 <span class="preprocessor"></span><span class="preprocessor">#define ACCF_FKMAKECODEPROCESSED        0x00000800</span>
<a name="l06586"></a><a class="code" href="../../d4/d1/userk_8h.html#a637">06586</a> <span class="preprocessor"></span><span class="preprocessor">#define ACCF_MKVIRTUALMOUSE             0x00001000</span>
<a name="l06587"></a><a class="code" href="../../d4/d1/userk_8h.html#a638">06587</a> <span class="preprocessor"></span><span class="preprocessor">#define ACCF_MKREPEATVK                 0x00002000</span>
<a name="l06588"></a><a class="code" href="../../d4/d1/userk_8h.html#a639">06588</a> <span class="preprocessor"></span><span class="preprocessor">#define ACCF_FIRSTTICK                  0x00004000</span>
<a name="l06589"></a><a class="code" href="../../d4/d1/userk_8h.html#a640">06589</a> <span class="preprocessor"></span><span class="preprocessor">#define ACCF_SHOWSOUNDSON               0x00008000</span>
<a name="l06590"></a><a class="code" href="../../d4/d1/userk_8h.html#a641">06590</a> <span class="preprocessor"></span>
<a name="l06591"></a><a class="code" href="../../d4/d1/userk_8h.html#a642">06591</a> <span class="comment">/*</span>
<a name="l06592"></a><a class="code" href="../../d4/d1/userk_8h.html#a643">06592</a> <span class="comment"> * NOTE: PUDF_ANIMATE must have the same value as MINMAX_ANIMATE.</span>
<a name="l06593"></a><a class="code" href="../../d4/d1/userk_8h.html#a644">06593</a> <span class="comment"> */</span>
<a name="l06594"></a><a class="code" href="../../d4/d1/userk_8h.html#a645">06594</a> <span class="preprocessor">#define PUDF_ANIMATE                    0x00010000</span>
<a name="l06595"></a><a class="code" href="../../d4/d1/userk_8h.html#a646">06595</a> <span class="preprocessor"></span>
<a name="l06596"></a><a class="code" href="../../d4/d1/userk_8h.html#a647">06596</a> <span class="preprocessor">#define ACCF_KEYBOARDPREF               0x00020000</span>
<a name="l06597"></a><a class="code" href="../../d4/d1/userk_8h.html#a648">06597</a> <span class="preprocessor"></span><span class="preprocessor">#define ACCF_SCREENREADER               0x00040000</span>
<a name="l06598"></a><a class="code" href="../../d4/d1/userk_8h.html#a649">06598</a> <span class="preprocessor"></span><span class="preprocessor">#define PUDF_BEEP                       0x00080000  </span><span class="comment">/* Warning beeps allowed?                   */</span>
<a name="l06599"></a><a class="code" href="../../d4/d1/userk_8h.html#a650">06599</a> <span class="preprocessor">#define PUDF_EXTENDEDSOUNDS             0x00100000  </span><span class="comment">/* Extended sounds enabling                 */</span>
06600 <span class="preprocessor">#define PUDF_DRAGFULLWINDOWS            0x00200000  </span><span class="comment">/* Drag xor rect or full windows            */</span>
<a name="l06601"></a><a class="code" href="../../d4/d1/userk_8h.html#a651">06601</a> <span class="preprocessor">#define PUDF_ICONTITLEWRAP              0x00400000  </span><span class="comment">/* Wrap icon titles or just use single line */</span>
<a name="l06602"></a><a class="code" href="../../d4/d1/userk_8h.html#a652">06602</a> <span class="preprocessor">#define PUDF_FONTSARELOADED             0x00800000</span>
<a name="l06603"></a><a class="code" href="../../d4/d1/userk_8h.html#a653">06603</a> <span class="preprocessor"></span><span class="preprocessor">#define PUDF_POPUPINUSE                 0x01000000</span>
<a name="l06604"></a><a class="code" href="../../d4/d1/userk_8h.html#a654">06604</a> <span class="preprocessor"></span><span class="preprocessor">#define PUDF_MENUSTATEINUSE             0x02000000</span>
<a name="l06605"></a><a class="code" href="../../d4/d1/userk_8h.html#a655">06605</a> <span class="preprocessor"></span><span class="preprocessor">#define PUDF_VDMBOUNDSACTIVE            0x04000000</span>
<a name="l06606"></a><a class="code" href="../../d4/d1/userk_8h.html#a656">06606</a> <span class="preprocessor"></span><span class="preprocessor">#define PUDF_ALLOWFOREGROUNDACTIVATE    0x08000000</span>
06607 <span class="preprocessor"></span><span class="preprocessor">#define PUDF_DRAGGINGFULLWINDOW         0x10000000</span>
<a name="l06608"></a><a class="code" href="../../d4/d1/userk_8h.html#a657">06608</a> <span class="preprocessor"></span><span class="preprocessor">#define PUDF_LOCKFULLSCREEN             0x20000000</span>
<a name="l06609"></a><a class="code" href="../../d4/d1/userk_8h.html#a658">06609</a> <span class="preprocessor"></span><span class="preprocessor">#define PUDF_GSMWPINUSE                 0x40000000</span>
<a name="l06610"></a><a class="code" href="../../d4/d1/userk_8h.html#a659">06610</a> <span class="preprocessor"></span>
<a name="l06611"></a><a class="code" href="../../d4/d1/userk_8h.html#a660">06611</a> <span class="preprocessor">#define TEST_ACCF(f)               TEST_FLAG(gdwPUDFlags, f)</span>
<a name="l06612"></a><a class="code" href="../../d4/d1/userk_8h.html#a661">06612</a> <span class="preprocessor"></span><span class="preprocessor">#define TEST_BOOL_ACCF(f)          TEST_BOOL_FLAG(gdwPUDFlags, f)</span>
<a name="l06613"></a><a class="code" href="../../d4/d1/userk_8h.html#a662">06613</a> <span class="preprocessor"></span><span class="preprocessor">#define SET_ACCF(f)                SET_FLAG(gdwPUDFlags, f)</span>
06614 <span class="preprocessor"></span><span class="preprocessor">#define CLEAR_ACCF(f)              CLEAR_FLAG(gdwPUDFlags, f)</span>
06615 <span class="preprocessor"></span><span class="preprocessor">#define SET_OR_CLEAR_ACCF(f, fSet) SET_OR_CLEAR_FLAG(gdwPUDFlags, f, fSet)</span>
06616 <span class="preprocessor"></span><span class="preprocessor">#define TOGGLE_ACCF(f)             TOGGLE_FLAG(gdwPUDFlags, f)</span>
06617 <span class="preprocessor"></span>
<a name="l06618"></a><a class="code" href="../../d6/d3/structtagPOWERSTATE.html">06618</a> <span class="preprocessor">#define TEST_PUDF(f)               TEST_FLAG(gdwPUDFlags, f)</span>
<a name="l06619"></a><a class="code" href="../../d6/d3/structtagPOWERSTATE.html#o0">06619</a> <span class="preprocessor"></span><span class="preprocessor">#define TEST_BOOL_PUDF(f)          TEST_BOOL_FLAG(gdwPUDFlags, f)</span>
<a name="l06620"></a><a class="code" href="../../d6/d3/structtagPOWERSTATE.html#o1">06620</a> <span class="preprocessor"></span><span class="preprocessor">#define SET_PUDF(f)                SET_FLAG(gdwPUDFlags, f)</span>
<a name="l06621"></a><a class="code" href="../../d6/d3/structtagPOWERSTATE.html#o2">06621</a> <span class="preprocessor"></span><span class="preprocessor">#define CLEAR_PUDF(f)              CLEAR_FLAG(gdwPUDFlags, f)</span>
<a name="l06622"></a><a class="code" href="../../d6/d3/structtagPOWERSTATE.html#o3">06622</a> <span class="preprocessor"></span><span class="preprocessor">#define SET_OR_CLEAR_PUDF(f, fSet) SET_OR_CLEAR_FLAG(gdwPUDFlags, f, fSet)</span>
<a name="l06623"></a><a class="code" href="../../d6/d3/structtagPOWERSTATE.html#o4">06623</a> <span class="preprocessor"></span><span class="preprocessor">#define TOGGLE_PUDF(f)             TOGGLE_FLAG(gdwPUDFlags, f)</span>
<a name="l06624"></a><a class="code" href="../../d6/d3/structtagPOWERSTATE.html#o5">06624</a> <span class="preprocessor"></span>
<a name="l06625"></a><a class="code" href="../../d6/d3/structtagPOWERSTATE.html#o6">06625</a> <span class="comment">/*</span>
<a name="l06626"></a><a class="code" href="../../d6/d3/structtagPOWERSTATE.html#o7">06626</a> <span class="comment"> * Power state stuff</span>
06627 <span class="comment"> */</span>
06628 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d6/d3/structtagPOWERSTATE.html">tagPOWERSTATE</a> {
<a name="l06629"></a><a class="code" href="../../d4/d1/userk_8h.html#a663">06629</a>     <span class="keyword">volatile</span> ULONG           fInProgress:1;
<a name="l06630"></a><a class="code" href="../../d4/d1/userk_8h.html#a664">06630</a>     <span class="keyword">volatile</span> ULONG           fCritical:1;
<a name="l06631"></a><a class="code" href="../../d4/d1/userk_8h.html#a665">06631</a>     <span class="keyword">volatile</span> ULONG           fOverrideApps:1;
06632     <span class="keyword">volatile</span> ULONG           fQueryAllowed:1;
06633     <span class="keyword">volatile</span> ULONG           fUIAllowed:1;
06634     <a class="code" href="../../d2/d6/struct__KEVENT.html">PKEVENT</a>                  pEvent;
06635     <a class="code" href="../../d3/d1/structBROADCASTSYSTEMMSGPARAMS.html">BROADCASTSYSTEMMSGPARAMS</a> bsmParams;
06636     POWERSTATEPARAMS         psParams;
06637 } <a class="code" href="../../d6/d3/structtagPOWERSTATE.html">POWERSTATE</a>, *<a class="code" href="../../d6/d3/structtagPOWERSTATE.html">PPOWERSTATE</a>;
06638 
06639 <span class="preprocessor">#define POWERON_PHASE  -1</span>
06640 <span class="preprocessor"></span><span class="preprocessor">#define LOWPOWER_PHASE  1</span>
06641 <span class="preprocessor"></span><span class="preprocessor">#define POWEROFF_PHASE  2</span>
<a name="l06642"></a><a class="code" href="../../d0/d5/structtagFADE.html">06642</a> <span class="preprocessor"></span>
<a name="l06643"></a><a class="code" href="../../d0/d5/structtagFADE.html#o0">06643</a> <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a1966">InitializePowerRequestList</a>(HANDLE hPowerRequestEvent);
<a name="l06644"></a><a class="code" href="../../d0/d5/structtagFADE.html#o1">06644</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>     <a class="code" href="../../d4/d1/userk_8h.html#a1967">CleanupPowerRequestList</a>(VOID);
<a name="l06645"></a><a class="code" href="../../d0/d5/structtagFADE.html#o2">06645</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>     <a class="code" href="../../d4/d1/userk_8h.html#a1968">DeletePowerRequestList</a>(VOID);
<a name="l06646"></a><a class="code" href="../../d0/d5/structtagFADE.html#o3">06646</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>     <a class="code" href="../../d4/d1/userk_8h.html#a1969">xxxUserPowerCalloutWorker</a>(VOID);
<a name="l06647"></a><a class="code" href="../../d0/d5/structtagFADE.html#o4">06647</a> 
<a name="l06648"></a><a class="code" href="../../d0/d5/structtagFADE.html#o5">06648</a> <span class="comment">/*</span>
<a name="l06649"></a><a class="code" href="../../d0/d5/structtagFADE.html#o6">06649</a> <span class="comment"> * Fade-in / fade-out globals.</span>
<a name="l06650"></a><a class="code" href="../../d0/d5/structtagFADE.html#o7">06650</a> <span class="comment"> */</span>
06651 
06652 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d0/d5/structtagFADE.html">tagFADE</a> {
06653     HANDLE <a class="code" href="../../d0/d5/structtagFADE.html#o0">hsprite</a>;
06654     HDC <a class="code" href="../../d0/d5/structtagFADE.html#o1">hdc</a>;
06655     HBITMAP <a class="code" href="../../d0/d5/structtagFADE.html#o2">hbm</a>;
06656     POINT <a class="code" href="../../d0/d5/structtagFADE.html#o3">ptDst</a>;
06657     SIZE <a class="code" href="../../d0/d5/structtagFADE.html#o4">size</a>;
06658     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d0/d5/structtagFADE.html#o5">dwTime</a>;
06659     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d0/d5/structtagFADE.html#o6">dwStart</a>;
06660     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a>;
06661 } <a class="code" href="../../d0/d5/structtagFADE.html">FADE</a>, *<a class="code" href="../../d0/d5/structtagFADE.html">PFADE</a>;
06662 
06663 <span class="comment">/*</span>
06664 <span class="comment"> * Globals are included last because they may require some of the types</span>
06665 <span class="comment"> * being defined above.</span>
06666 <span class="comment"> */</span>
06667 <span class="preprocessor">#include "<a class="code" href="../../d9/d6/ntuser_2kernel_2globals_8h.html">globals.h</a>"</span>
06668 <span class="preprocessor">#include "<a class="code" href="../../d2/d4/ddemlsvr_8h.html">ddemlsvr.h</a>"</span>
06669 <span class="comment">/*</span>
06670 <span class="comment"> * If you make a change that requires including strid.h when building</span>
06671 <span class="comment"> *  ntuser\rtl, then you need to change the sources/makefil* files so this</span>
<a name="l06672"></a><a class="code" href="../../d4/d1/userk_8h.html#a666">06672</a> <span class="comment"> *  file will be built in ntuser\inc; make sure that the output of</span>
06673 <span class="comment"> *  mc.exe still goes to the kernel directory; this is because there are</span>
06674 <span class="comment"> *  other places (like ntuser\server) where we use the same file name.</span>
06675 <span class="comment"> */</span>
06676 <span class="preprocessor">#ifndef _USERRTL_</span>
06677 <span class="preprocessor"></span><span class="preprocessor">#include "strid.h"</span>
<a name="l06678"></a><a class="code" href="../../d7/d8/structtagTOOLTIP.html">06678</a> <span class="preprocessor">#endif</span>
<a name="l06679"></a><a class="code" href="../../d7/d8/structtagTOOLTIP.html#o0">06679</a> <span class="preprocessor"></span>
<a name="l06680"></a><a class="code" href="../../d7/d8/structtagTOOLTIP.html#o1">06680</a> <span class="preprocessor">#include "<a class="code" href="../../d0/d0/ntuser_8h.html">ntuser.h</a>"</span>
<a name="l06681"></a><a class="code" href="../../d7/d8/structtagTOOLTIP.html#o2">06681</a> 
<a name="l06682"></a><a class="code" href="../../d7/d8/structtagTOOLTIP.html#o3">06682</a> <span class="preprocessor">#define TestALPHA(uSetting) (!gbDisableAlpha &amp;&amp; TestEffectUP(uSetting))</span>
<a name="l06683"></a><a class="code" href="../../d7/d8/structtagTOOLTIP.html#o4">06683</a> <span class="preprocessor"></span>
06684 <span class="comment">/*</span>
06685 <span class="comment"> * tooltips/tracking prototypes from tooltips.c</span>
<a name="l06686"></a><a class="code" href="../../d8/d8/structtagTOOLTIPWND.html">06686</a> <span class="comment"> */</span>
<a name="l06687"></a><a class="code" href="../../d8/d8/structtagTOOLTIPWND.html#o0">06687</a> 
06688 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d8/structtagTOOLTIP.html">tagTOOLTIP</a> {
<a name="l06689"></a><a class="code" href="../../d8/d8/structtagTOOLTIPWND.html#o1">06689</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a>;
<a name="l06690"></a><a class="code" href="../../d8/d8/structtagTOOLTIPWND.html#o2">06690</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> uTID;
<a name="l06691"></a><a class="code" href="../../d8/d8/structtagTOOLTIPWND.html#o3">06691</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwAnimStart;
<a name="l06692"></a><a class="code" href="../../d8/d8/structtagTOOLTIPWND.html#o4">06692</a>     <span class="keywordtype">int</span> iyAnim;
06693     LPWSTR pstr;
<a name="l06694"></a><a class="code" href="../../d8/d8/structtagTOOLTIPWND.html#o5">06694</a> } <a class="code" href="../../d7/d8/structtagTOOLTIP.html">TOOLTIP</a>;
06695 
06696 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/d8/structtagTOOLTIPWND.html">tagTOOLTIPWND</a> {
<a name="l06697"></a><a class="code" href="../../d4/d1/userk_8h.html#a667">06697</a>     <a class="code" href="../../d6/d9/structtagWND.html">WND</a>;
<a name="l06698"></a><a class="code" href="../../d4/d1/userk_8h.html#a668">06698</a> 
<a name="l06699"></a><a class="code" href="../../d4/d1/userk_8h.html#a669">06699</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwShowDelay;
<a name="l06700"></a><a class="code" href="../../d4/d1/userk_8h.html#a670">06700</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwHideDelay;
<a name="l06701"></a><a class="code" href="../../d4/d1/userk_8h.html#a671">06701</a>     HDC hdcMem;
<a name="l06702"></a><a class="code" href="../../d4/d1/userk_8h.html#a672">06702</a>     HBITMAP hbmMem;
<a name="l06703"></a><a class="code" href="../../d4/d1/userk_8h.html#a673">06703</a> 
<a name="l06704"></a><a class="code" href="../../d4/d1/userk_8h.html#a674">06704</a>     <a class="code" href="../../d7/d8/structtagTOOLTIP.html">TOOLTIP</a>;  <span class="comment">// this field must be last!</span>
<a name="l06705"></a><a class="code" href="../../d4/d1/userk_8h.html#a675">06705</a> } <a class="code" href="../../d8/d8/structtagTOOLTIPWND.html">TOOLTIPWND</a>, *<a class="code" href="../../d8/d8/structtagTOOLTIPWND.html">PTOOLTIPWND</a>;
<a name="l06706"></a><a class="code" href="../../d4/d1/userk_8h.html#a676">06706</a> 
<a name="l06707"></a><a class="code" href="../../d4/d1/userk_8h.html#a677">06707</a> <span class="preprocessor">#define HTEXSCROLLFIRST     60</span>
<a name="l06708"></a><a class="code" href="../../d4/d1/userk_8h.html#a678">06708</a> <span class="preprocessor"></span><span class="preprocessor">#define HTSCROLLUP          60</span>
<a name="l06709"></a><a class="code" href="../../d4/d1/userk_8h.html#a679">06709</a> <span class="preprocessor"></span><span class="preprocessor">#define HTSCROLLDOWN        61</span>
<a name="l06710"></a><a class="code" href="../../d4/d1/userk_8h.html#a680">06710</a> <span class="preprocessor"></span><span class="preprocessor">#define HTSCROLLUPPAGE      62</span>
06711 <span class="preprocessor"></span><span class="preprocessor">#define HTSCROLLDOWNPAGE    63</span>
06712 <span class="preprocessor"></span><span class="preprocessor">#define HTSCROLLTHUMB       64</span>
06713 <span class="preprocessor"></span><span class="preprocessor">#define HTEXSCROLLLAST      64</span>
06714 <span class="preprocessor"></span><span class="preprocessor">#define HTEXMENUFIRST       65</span>
06715 <span class="preprocessor"></span><span class="preprocessor">#define HTMDISYSMENU        65</span>
06716 <span class="preprocessor"></span><span class="preprocessor">#define HTMDIMAXBUTTON      66</span>
06717 <span class="preprocessor"></span><span class="preprocessor">#define HTMDIMINBUTTON      67</span>
<a name="l06718"></a><a class="code" href="../../d4/d1/userk_8h.html#a1975">06718</a> <span class="preprocessor"></span><span class="preprocessor">#define HTMDICLOSE          68</span>
06719 <span class="preprocessor"></span><span class="preprocessor">#define HTMENUITEM          69</span>
06720 <span class="preprocessor"></span><span class="preprocessor">#define HTEXMENULAST        69</span>
06721 <span class="preprocessor"></span>
06722 <span class="keywordtype">int</span> <a class="code" href="../../d4/d1/userk_8h.html#a1970">FindNCHitEx</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <span class="keywordtype">int</span> ht, POINT pt);
<a name="l06723"></a><a class="code" href="../../d4/d1/userk_8h.html#a1976">06723</a> <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1971">xxxTrackMouseMove</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <span class="keywordtype">int</span> htEx, UINT message);
06724 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1972">xxxHotTrack</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, <span class="keywordtype">int</span> htEx, BOOL fDraw);
06725 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1973">xxxResetTooltip</a>(PTOOLTIPWND pttwnd);
06726 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1974">xxxCancelMouseMoveTracking</a> (DWORD dwDTFlags, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndTrack, <span class="keywordtype">int</span> htEx, DWORD dwDTCancel);
06727 
06728 __inline PVOID <a class="code" href="../../d4/d1/userk_8h.html#a1975">DesktopRebaseToClient</a>(<a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti, PVOID p)
<a name="l06729"></a><a class="code" href="../../d4/d1/userk_8h.html#a681">06729</a> {
06730     UserAssert(pti-&gt;<a class="code" href="../../d2/d8/structtagTHREADINFO.html#o8">pClientInfo</a>-&gt;<a class="code" href="../../d2/d2/struct__CLIENTINFO.html#o6">ulClientDelta</a> != 0);
06731     <span class="keywordflow">return</span> (p) ? (PVOID)((<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)p - pti-&gt;<a class="code" href="../../d2/d8/structtagTHREADINFO.html#o8">pClientInfo</a>-&gt;<a class="code" href="../../d2/d2/struct__CLIENTINFO.html#o6">ulClientDelta</a>) : <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
06732 }
06733 __inline PVOID <a class="code" href="../../d4/d1/userk_8h.html#a1976">SharedRebaseToClient</a>(<a class="code" href="../../d7/d3/structtagPROCESSINFO.html">PPROCESSINFO</a> ppi, PVOID p)
06734 {
06735     UserAssert(ppi-&gt;<a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o23">pClientBase</a> != 0);
<a name="l06736"></a><a class="code" href="../../d4/d1/userk_8h.html#a682">06736</a>     <span class="keywordflow">return</span> (p) ? (PVOID)((<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)ppi-&gt;<a class="code" href="../../d7/d3/structtagPROCESSINFO.html#o23">pClientBase</a> + ((<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)p -
<a name="l06737"></a><a class="code" href="../../d4/d1/userk_8h.html#a683">06737</a>             (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a321">gpvSharedBase</a>)) : <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
06738 }
06739 <span class="preprocessor">#define SHRSTR(ppi, s) SharedRebaseToClient(ppi, gpsi-&gt;s)</span>
06740 <span class="preprocessor"></span>
06741 <span class="comment">/*</span>
<a name="l06742"></a><a class="code" href="../../d4/d1/userk_8h.html#a684">06742</a> <span class="comment"> * String range IDs.</span>
<a name="l06743"></a><a class="code" href="../../d4/d1/userk_8h.html#a685">06743</a> <span class="comment"> *</span>
<a name="l06744"></a><a class="code" href="../../d4/d1/userk_8h.html#a686">06744</a> <span class="comment"> * These are defined here to avoid duplicate entries in strid.mc</span>
<a name="l06745"></a><a class="code" href="../../d4/d1/userk_8h.html#a687">06745</a> <span class="comment"> */</span>
<a name="l06746"></a><a class="code" href="../../d4/d1/userk_8h.html#a688">06746</a> <span class="preprocessor">#define STR_COLORSTART                   STR_SCROLLBAR</span>
<a name="l06747"></a><a class="code" href="../../d4/d1/userk_8h.html#a689">06747</a> <span class="preprocessor"></span><span class="preprocessor">#define STR_COLOREND                     STR_GRADIENTINACTIVECAPTION</span>
06748 <span class="preprocessor"></span>
06749 <span class="comment">/*</span>
06750 <span class="comment"> * Sprite and Fade related functions and defines.</span>
06751 <span class="comment"> */</span>
06752 <span class="preprocessor">#define FADE_SHOW           0x00000001</span>
06753 <span class="preprocessor"></span><span class="preprocessor">#define FADE_COMPLETED      0x00000002</span>
<a name="l06754"></a><a class="code" href="../../d4/d1/userk_8h.html#a1982">06754</a> <span class="preprocessor"></span><span class="preprocessor">#define FADE_SHOWN          0x00000004</span>
06755 <span class="preprocessor"></span><span class="preprocessor">#define FADE_WINDOW         0x00000008</span>
06756 <span class="preprocessor"></span><span class="preprocessor">#define FADE_MENU           0x00000010</span>
06757 <span class="preprocessor"></span><span class="preprocessor">#define FADE_TOOLTIP        0x00000020</span>
06758 <span class="preprocessor"></span>
06759 HDC <a class="code" href="../../d4/d1/userk_8h.html#a1977">CreateFade</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, RECT *prc, DWORD dwTime, DWORD dwFlags);
06760 <span class="keywordtype">void</span> <a class="code" href="../../d8/d4/sprite_8c.html#a21">StartFade</a>(<span class="keywordtype">void</span>);
06761 <span class="keywordtype">void</span> <a class="code" href="../../d8/d4/sprite_8c.html#a22">StopFade</a>(<span class="keywordtype">void</span>);
06762 <span class="keywordtype">void</span> <a class="code" href="../../d8/d4/sprite_8c.html#a20">ShowFade</a>(<span class="keywordtype">void</span>);
06763 <span class="keywordtype">void</span> <a class="code" href="../../d8/d4/sprite_8c.html#a23">AnimateFade</a>(<span class="keywordtype">void</span>);
06764 __inline <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d4/d1/userk_8h.html#a1982">TestFadeFlags</a>(DWORD dwFlags)
06765 {
06766     <span class="keywordflow">return</span> (<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a40">gfade</a>.<a class="code" href="../../d0/d5/structtagFADE.html#o7">dwFlags</a> &amp; <a class="code" href="../../d3/d8/propapi_8h.html#a34">dwFlags</a>);
06767 }
06768 HANDLE <a class="code" href="../../d4/d1/userk_8h.html#a1983">xxxSetLayeredWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, BOOL fRepaintBehind);
06769 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1984">UnsetLayeredWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
06770 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1985">TrackLayeredZorder</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
06771 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1986">UpdateLayeredSprite</a>(<a class="code" href="../../d3/d2/structtagDCE.html">PDCE</a> pdce);
06772 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1987">_UpdateLayeredWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, HDC hdcDst, POINT *pptDst, SIZE *psize, HDC hdcSrc,
06773         POINT *pptSrc, COLORREF crKey, BLENDFUNCTION *pblend, DWORD dwFlags);
06774 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1988">_SetLayeredWindowAttributes</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, COLORREF crKey, BYTE bAlpha, DWORD dwFlags);
06775 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1989">RecreateRedirectionBitmap</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
<a name="l06776"></a><a class="code" href="../../d4/d1/userk_8h.html#a1991">06776</a> <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d4/d1/userk_8h.html#a1990">GetLayeredWindow</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
06777 
06778 <span class="preprocessor">#ifdef REDIRECTION</span>
06779 <span class="preprocessor"></span><a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> SetRedirectedWindow(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
06780 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> UnsetRedirectedWindow(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
06781 __inline <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1991">FLayeredOrRedirected</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd)
06782 {
06783     <span class="keywordflow">return</span> (<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, WEFLAYERED) || <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, WEFREDIRECTED));
06784 }
06785 <span class="preprocessor">#else</span>
06786 <span class="preprocessor"></span>__inline <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1991">FLayeredOrRedirected</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd)
06787 {
06788     <span class="keywordflow">return</span> <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, WEFLAYERED);
06789 }
06790 <span class="preprocessor">#endif // REDIRECTION</span>
06791 <span class="preprocessor"></span>
06792 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a1992">InternalInvalidate3</a>(
06793     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd,
06794     HRGN hrgn,
06795     DWORD flags);
06796 
06797 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1993">UserSetFont</a>(PUNICODE_STRING pProfileUserName,
06798     LPLOGFONTW   lplf,
06799     UINT         idFont,
06800     HFONT*       phfont
06801     );
06802 
06803 HICON <a class="code" href="../../d4/d1/userk_8h.html#a1994">DWP_GetIcon</a>(
06804     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd,
06805     UINT uType);
06806 
06807 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a1995">xxxRedrawTitle</a>(
06808     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd, UINT wFlags);
06809 
06810 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d4/d0/rtl_2help_8c.html#a1">GetContextHelpId</a>(
06811     <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
06812 
06813 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d0/d9/wmicon_8c.html#a3">BltIcon</a>(
06814     HDC hdc, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> cx, <span class="keywordtype">int</span> cy,
06815     HDC hdcSrc, <a class="code" href="../../d6/d1/structtagCURSOR.html">PCURSOR</a> pcursor, BOOL fMask, LONG rop);
06816 
06817 HANDLE <a class="code" href="../../d4/d1/userk_8h.html#a1997">xxxClientCopyImage</a>(
06818     HANDLE hImage,
06819     UINT type,
06820     <span class="keywordtype">int</span> cxNew,
06821     <span class="keywordtype">int</span> cyNew,
06822     UINT flags);
<a name="l06823"></a><a class="code" href="../../d0/d4/structtagPROFINTINFO.html">06823</a> 
<a name="l06824"></a><a class="code" href="../../d0/d4/structtagPROFINTINFO.html#o0">06824</a> <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1998">_WOWCleanup</a>(
<a name="l06825"></a><a class="code" href="../../d0/d4/structtagPROFINTINFO.html#o1">06825</a>     HANDLE hInstance,
<a name="l06826"></a><a class="code" href="../../d0/d4/structtagPROFINTINFO.html#o2">06826</a>     DWORD hTaskWow);
<a name="l06827"></a><a class="code" href="../../d0/d4/structtagPROFINTINFO.html#o3">06827</a> 
06828 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a1999">_WOWModuleUnload</a>(HANDLE hModule);
06829 
<a name="l06830"></a><a class="code" href="../../d4/d1/userk_8h.html#a690">06830</a> <span class="comment">/*</span>
<a name="l06831"></a><a class="code" href="../../d4/d1/userk_8h.html#a691">06831</a> <span class="comment"> * FastProfile APIs</span>
06832 <span class="comment"> */</span>
<a name="l06833"></a><a class="code" href="../../d4/d1/userk_8h.html#a692">06833</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d0/d4/structtagPROFINTINFO.html">tagPROFINTINFO</a> {
<a name="l06834"></a><a class="code" href="../../d4/d1/userk_8h.html#a693">06834</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> idSection;
06835     LPWSTR lpKeyName;
06836     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  nDefault;
06837     <a class="code" href="../../d9/d5/ndismain_8h.html#a266">PUINT</a> puResult;
06838 } <a class="code" href="../../d0/d4/structtagPROFINTINFO.html">PROFINTINFO</a>, *<a class="code" href="../../d0/d4/structtagPROFINTINFO.html">PPROFINTINFO</a>;
<a name="l06839"></a><a class="code" href="../../d4/d1/userk_8h.html#a694">06839</a> 
<a name="l06840"></a><a class="code" href="../../d4/d1/userk_8h.html#a695">06840</a> <span class="preprocessor">#define INITIAL_USER_HANDLE_QUOTA  10000</span>
<a name="l06841"></a><a class="code" href="../../d4/d1/userk_8h.html#a696">06841</a> <span class="preprocessor"></span><span class="preprocessor">#define MINIMUM_USER_HANDLE_QUOTA    200</span>
<a name="l06842"></a><a class="code" href="../../d4/d1/userk_8h.html#a697">06842</a> <span class="preprocessor"></span>
<a name="l06843"></a><a class="code" href="../../d4/d1/userk_8h.html#a698">06843</a> <span class="preprocessor">#define INITIAL_POSTMESSAGE_LIMIT   10000</span>
<a name="l06844"></a><a class="code" href="../../d4/d1/userk_8h.html#a699">06844</a> <span class="preprocessor"></span><span class="preprocessor">#define MINIMUM_POSTMESSAGE_LIMIT    4000</span>
<a name="l06845"></a><a class="code" href="../../d4/d1/userk_8h.html#a700">06845</a> <span class="preprocessor"></span>
<a name="l06846"></a><a class="code" href="../../d4/d1/userk_8h.html#a701">06846</a> <span class="comment">/*</span>
<a name="l06847"></a><a class="code" href="../../d4/d1/userk_8h.html#a702">06847</a> <span class="comment"> * See aFastRegMap[] in ntuser\kernel\profile.c</span>
<a name="l06848"></a><a class="code" href="../../d4/d1/userk_8h.html#a703">06848</a> <span class="comment"> */</span>
<a name="l06849"></a><a class="code" href="../../d4/d1/userk_8h.html#a704">06849</a> <span class="preprocessor">#define PMAP_COLORS             0</span>
<a name="l06850"></a><a class="code" href="../../d4/d1/userk_8h.html#a705">06850</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_CURSORS            1</span>
<a name="l06851"></a><a class="code" href="../../d4/d1/userk_8h.html#a706">06851</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_WINDOWSM           2</span>
<a name="l06852"></a><a class="code" href="../../d4/d1/userk_8h.html#a707">06852</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_WINDOWSU           3</span>
<a name="l06853"></a><a class="code" href="../../d4/d1/userk_8h.html#a708">06853</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_DESKTOP            4</span>
<a name="l06854"></a><a class="code" href="../../d4/d1/userk_8h.html#a709">06854</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_ICONS              5</span>
<a name="l06855"></a><a class="code" href="../../d4/d1/userk_8h.html#a710">06855</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_FONTS              6</span>
<a name="l06856"></a><a class="code" href="../../d4/d1/userk_8h.html#a711">06856</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_TRUETYPE           7</span>
<a name="l06857"></a><a class="code" href="../../d4/d1/userk_8h.html#a712">06857</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_KBDLAYOUT          8</span>
<a name="l06858"></a><a class="code" href="../../d4/d1/userk_8h.html#a713">06858</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_INPUT              9</span>
<a name="l06859"></a><a class="code" href="../../d4/d1/userk_8h.html#a714">06859</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_COMPAT            10</span>
<a name="l06860"></a><a class="code" href="../../d4/d1/userk_8h.html#a715">06860</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_SUBSYSTEMS        11</span>
<a name="l06861"></a><a class="code" href="../../d4/d1/userk_8h.html#a716">06861</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_BEEP              12</span>
<a name="l06862"></a><a class="code" href="../../d4/d1/userk_8h.html#a717">06862</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_MOUSE             13</span>
<a name="l06863"></a><a class="code" href="../../d4/d1/userk_8h.html#a718">06863</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_KEYBOARD          14</span>
<a name="l06864"></a><a class="code" href="../../d4/d1/userk_8h.html#a719">06864</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_STICKYKEYS        15</span>
<a name="l06865"></a><a class="code" href="../../d4/d1/userk_8h.html#a720">06865</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_KEYBOARDRESPONSE  16</span>
<a name="l06866"></a><a class="code" href="../../d4/d1/userk_8h.html#a721">06866</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_MOUSEKEYS         17</span>
<a name="l06867"></a><a class="code" href="../../d4/d1/userk_8h.html#a722">06867</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_TOGGLEKEYS        18</span>
<a name="l06868"></a><a class="code" href="../../d4/d1/userk_8h.html#a723">06868</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_TIMEOUT           19</span>
<a name="l06869"></a><a class="code" href="../../d4/d1/userk_8h.html#a724">06869</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_SOUNDSENTRY       20</span>
<a name="l06870"></a><a class="code" href="../../d4/d1/userk_8h.html#a725">06870</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_SHOWSOUNDS        21</span>
<a name="l06871"></a><a class="code" href="../../d4/d1/userk_8h.html#a726">06871</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_AEDEBUG           22</span>
<a name="l06872"></a><a class="code" href="../../d4/d1/userk_8h.html#a727">06872</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_NETWORK           23</span>
<a name="l06873"></a><a class="code" href="../../d4/d1/userk_8h.html#a728">06873</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_METRICS           24</span>
<a name="l06874"></a><a class="code" href="../../d4/d1/userk_8h.html#a729">06874</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_UKBDLAYOUT        25</span>
<a name="l06875"></a><a class="code" href="../../d4/d1/userk_8h.html#a730">06875</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_UKBDLAYOUTTOGGLE  26</span>
<a name="l06876"></a><a class="code" href="../../d4/d1/userk_8h.html#a731">06876</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_WINLOGON          27</span>
<a name="l06877"></a><a class="code" href="../../d4/d1/userk_8h.html#a732">06877</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_KEYBOARDPREF      28</span>
<a name="l06878"></a><a class="code" href="../../d4/d1/userk_8h.html#a733">06878</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_SCREENREADER      29</span>
<a name="l06879"></a><a class="code" href="../../d4/d1/userk_8h.html#a734">06879</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_HIGHCONTRAST      30</span>
06880 <span class="preprocessor"></span><span class="preprocessor">#define PMAP_IMECOMPAT         31</span>
<a name="l06881"></a><a class="code" href="../../d4/d1/userk_8h.html#a735">06881</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_IMM               32</span>
06882 <span class="preprocessor"></span><span class="preprocessor">#define PMAP_POOLLIMITS        33</span>
<a name="l06883"></a><a class="code" href="../../d4/d1/userk_8h.html#a736">06883</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_COMPAT32          34</span>
<a name="l06884"></a><a class="code" href="../../d4/d1/userk_8h.html#a737">06884</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_SETUPPROGRAMNAMES 35</span>
<a name="l06885"></a><a class="code" href="../../d4/d1/userk_8h.html#a738">06885</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_INPUTMETHOD       36</span>
<a name="l06886"></a><a class="code" href="../../d4/d1/userk_8h.html#a739">06886</a> <span class="preprocessor"></span><span class="preprocessor">#define PMAP_COMPAT2           37</span>
06887 <span class="preprocessor"></span><span class="preprocessor">#define PMAP_MOUCLASS_PARAMS   38</span>
06888 <span class="preprocessor"></span><span class="preprocessor">#define PMAP_KBDCLASS_PARAMS   39</span>
06889 <span class="preprocessor"></span><span class="preprocessor">#define PMAP_LAST              39</span>
06890 <span class="preprocessor"></span>
06891 <span class="preprocessor">#define MAXPROFILEBUF 256</span>
06892 <span class="preprocessor"></span>
06893 <span class="preprocessor">#define POLICY_NONE     0x0001</span>
06894 <span class="preprocessor"></span><span class="preprocessor">#define POLICY_USER     0x0002</span>
06895 <span class="preprocessor"></span><span class="preprocessor">#define POLICY_MACHINE  0x0004</span>
06896 <span class="preprocessor"></span><span class="preprocessor">#define POLICY_ALL      (POLICY_NONE | POLICY_USER | POLICY_MACHINE)</span>
06897 <span class="preprocessor"></span>
06898 PUNICODE_STRING <a class="code" href="../../d4/d1/userk_8h.html#a2000">CreateProfileUserName</a>(<a class="code" href="../../d5/d1/struct__TL.html">TL</a> *ptl);
06899 <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a2001">FreeProfileUserName</a>(PUNICODE_STRING pProfileUserName,<a class="code" href="../../d5/d1/struct__TL.html">TL</a> *ptl);
06900 HANDLE  <a class="code" href="../../d4/d1/userk_8h.html#a2002">OpenCacheKeyEx</a>(PUNICODE_STRING pProfileUserName OPTIONAL, UINT idSection, ACCESS_MASK amRequest, PDWORD pdwPolicyFlags);
06901 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a2003">CheckDesktopPolicy</a>(PUNICODE_STRING pProfileUserName OPTIONAL, PCWSTR lpKeyName);
06902 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a2004">CheckDesktopPolicyChange</a>(PUNICODE_STRING pProfileUserName OPTIONAL);
06903 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/userk_8h.html#a2005">FastGetProfileKeysW</a>(PUNICODE_STRING pProfileUserName OPTIONAL, UINT idSection, LPCWSTR pszDefault, LPWSTR *ppszKeys);
06904 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/userk_8h.html#a2006">FastGetProfileDwordW</a>(PUNICODE_STRING pProfileUserName OPTIONAL, UINT idSection, LPCWSTR lpKeyName, DWORD dwDefault);
06905 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/userk_8h.html#a2007">FastGetProfileStringW</a>(PUNICODE_STRING pProfileUserName OPTIONAL, UINT idSection, LPCWSTR lpKeyName, LPCWSTR lpDefault, LPWSTR lpReturnedString, DWORD nSize);
06906 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a>    <a class="code" href="../../d4/d1/userk_8h.html#a2008">FastGetProfileIntW</a>(PUNICODE_STRING pProfileUserName OPTIONAL, UINT idSection, LPCWSTR lpKeyName, UINT nDefault);
06907 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a2009">FastWriteProfileStringW</a>(PUNICODE_STRING pProfileUserName OPTIONAL, UINT idSection, LPCWSTR lpKeyName, LPCWSTR lpString);
06908 <span class="keywordtype">int</span>     <a class="code" href="../../d4/d1/userk_8h.html#a2010">FastGetProfileIntFromID</a>(PUNICODE_STRING pProfileUserName OPTIONAL, UINT idSection, UINT idKey, <span class="keywordtype">int</span> def);
06909 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/userk_8h.html#a2011">FastGetProfileStringFromIDW</a>(PUNICODE_STRING pProfileUserName OPTIONAL, UINT idSection, UINT idKey, LPCWSTR lpDefault, LPWSTR lpReturnedString, DWORD cch);
06910 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a2012">FastWriteProfileValue</a>(PUNICODE_STRING pProfileUserName OPTIONAL, UINT idSection, LPCWSTR lpKeyName, UINT uType, LPBYTE lpStruct, UINT cbSizeStruct);
06911 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   <a class="code" href="../../d4/d1/userk_8h.html#a2013">FastGetProfileValue</a>(PUNICODE_STRING pProfileUserName OPTIONAL, UINT idSection, LPCWSTR lpKeyName,LPBYTE lpDefault, LPBYTE lpReturn, UINT cbSizeReturn);
06912 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a2014">FastGetProfileIntsW</a>(PUNICODE_STRING pProfileUserName OPTIONAL, PPROFINTINFO ppii);
<a name="l06913"></a><a class="code" href="../../d4/d1/userk_8h.html#a740">06913</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a2015">FastUpdateWinIni</a>(PUNICODE_STRING pProfileUserName OPTIONAL, UINT idSection, UINT wKeyNameId, LPWSTR lpszValue);
06914 
06915 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a2016">RecreateSmallIcons</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
06916 
06917 <span class="comment">/*</span>
06918 <span class="comment"> *  # of pels added to border width.  When a user requests a border width of 1</span>
<a name="l06919"></a><a class="code" href="../../d4/d1/userk_8h.html#a2017">06919</a> <span class="comment"> *  that user actualy gets a border width of BORDER_EXTRA + 1if the window</span>
06920 <span class="comment"> *  has a sizing border.</span>
06921 <span class="comment"> */</span>
06922 
06923 <span class="preprocessor">#define BORDER_EXTRA    3</span>
06924 <span class="preprocessor"></span>
06925 <span class="comment">/*</span>
06926 <span class="comment"> * tmswitch.c stuff</span>
06927 <span class="comment"> */</span>
06928 
06929 __inline <span class="keywordtype">int</span> <a class="code" href="../../d4/d1/userk_8h.html#a2017">GetCaptionHeight</a>(<a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd)
06930 {
06931     <span class="keywordtype">int</span> height;
<a name="l06932"></a><a class="code" href="../../d4/d1/userk_8h.html#a2018">06932</a> 
06933 
06934     <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, WFCPRESENT))
06935         <span class="keywordflow">return</span> 0;
06936 
06937     height = <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a731">TestWF</a>(pwnd, WEFTOOLWINDOW) ? <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYSMCAPTION) : <a class="code" href="../../d0/d0/client_2nt6_2user_8h.html#a18">SYSMET</a>(CYCAPTION);
06938 
06939     <span class="keywordflow">return</span> height;
<a name="l06940"></a><a class="code" href="../../d4/d1/userk_8h.html#a2019">06940</a> }
06941 
06942 __inline <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a2018">InitTooltipDelay</a>(PTOOLTIPWND pttwnd)
06943 {
06944     <span class="keywordflow">if</span> (pttwnd != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
06945         pttwnd-&gt;<a class="code" href="../../d8/d8/structtagTOOLTIPWND.html#o1">dwShowDelay</a> = <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a100">gdtDblClk</a> * 3;
06946         pttwnd-&gt;<a class="code" href="../../d8/d8/structtagTOOLTIPWND.html#o2">dwHideDelay</a> = <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a100">gdtDblClk</a> * 8;
06947     }
06948 }
06949 
06950 __inline <a class="code" href="../../d4/d1/userk_8h.html#a918">PPROFILEVALUEINFO</a> <a class="code" href="../../d4/d1/userk_8h.html#a2019">UPDWORDPointer</a> (UINT uSetting)
06951 {
06952     UserAssert(<a class="code" href="../../d4/d1/userk_8h.html#a554">UPIsDWORDRange</a>(uSetting));
06953     <span class="keywordflow">return</span> <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a151">gpviCPUserPreferences</a> + <a class="code" href="../../d4/d1/userk_8h.html#a555">UPDWORDIndex</a>(uSetting);
06954 }
06955 
06956 
06957 <span class="comment">/*</span>
06958 <span class="comment"> * ComputeTickDelta</span>
06959 <span class="comment"> *</span>
06960 <span class="comment"> * ComputeTickDelta computes a time delta between two times.  The</span>
06961 <span class="comment"> * delta is defined as a 31-bit, signed value.  It is best to think of time as</span>
06962 <span class="comment"> * a clock that wraps around.  The delta is the minimum distance on this circle</span>
<a name="l06963"></a><a class="code" href="../../d4/d1/userk_8h.html#a2020">06963</a> <span class="comment"> * between two different places on the circle.  If the delta goes</span>
06964 <span class="comment"> * counter-clockwise, it is looking at a time in the PAST and is POSITIVE.  If</span>
06965 <span class="comment"> * the delta goes clockwise, it is looking at a time in the FUTURE and is</span>
06966 <span class="comment"> * negative.</span>
06967 <span class="comment"> *</span>
06968 <span class="comment"> * It is IMPORTANT to realize that the (dwCurTime &gt;= dwLastTime) comparison does</span>
06969 <span class="comment"> * not determine the delta's sign, but only determines the operation to compute</span>
06970 <span class="comment"> * the delta without an overflow occuring.</span>
06971 <span class="comment"> */</span>
<a name="l06972"></a><a class="code" href="../../d4/d1/userk_8h.html#a2021">06972</a> __inline
06973 <span class="keywordtype">int</span> <a class="code" href="../../d4/d1/userk_8h.html#a2020">ComputeTickDelta</a>(
06974         IN DWORD dwCurTick,
06975         IN DWORD dwLastTick)
06976 {
06977     <span class="keywordflow">return</span> (<span class="keywordtype">int</span>) dwCurTick - dwLastTick;
06978 }
06979 
06980 
06981 __inline
06982 <span class="keywordtype">int</span> <a class="code" href="../../d4/d1/userk_8h.html#a2021">ComputePastTickDelta</a>(
06983         IN DWORD dwCurTick,
06984         IN DWORD dwLastTick)
06985 {
06986     <span class="keywordtype">int</span> nDelta = <a class="code" href="../../d4/d1/userk_8h.html#a2020">ComputeTickDelta</a>(dwCurTick, dwLastTick);
06987     UserAssertMsg0(nDelta &gt;= 0, <span class="stringliteral">"Ensure delta occurs in the past"</span>);
<a name="l06988"></a><a class="code" href="../../d4/d1/userk_8h.html#a2022">06988</a>     <span class="keywordflow">return</span> nDelta;
06989 }
06990 
06991 
06992 <span class="comment">/*</span>
06993 <span class="comment"> * SubtractTick() subtracts a delta from a given time and returns another time.</span>
06994 <span class="comment"> * This is different than using ComputeTimeDelta() to compare two</span>
06995 <span class="comment"> * times and get a delta because of the way wrap around works.</span>
<a name="l06996"></a><a class="code" href="../../d4/d1/userk_8h.html#a2023">06996</a> <span class="comment"> */</span>
06997 __inline
06998 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d4/d1/userk_8h.html#a2022">SubtractTick</a>(
06999         IN DWORD dwTime,
07000         IN <span class="keywordtype">int</span> nDelta)
<a name="l07001"></a><a class="code" href="../../d4/d1/userk_8h.html#a2024">07001</a> {
07002     UserAssertMsg0(nDelta &gt;= 0, <span class="stringliteral">"Delta must be postive"</span>);
07003     <span class="keywordflow">return</span> dwTime - (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) nDelta;
07004 }
07005 
07006 __inline <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a2023">IsTimeFromLastInput</a> (DWORD dwTimeout)
07007 {
07008     <span class="keywordflow">return</span> ((<a class="code" href="../../d9/d5/gettickc_8c.html#a0">NtGetTickCount</a>() - <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a78">glinp</a>.<a class="code" href="../../d5/d9/structtagLASTINPUT.html#o0">timeLastInputMessage</a>) &gt; dwTimeout);
07009 }
07010 
07011 __inline <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a2024">IsTimeFromLastRITEvent</a> (DWORD dwTimeout)
07012 {
07013     <span class="keywordflow">return</span> ((<a class="code" href="../../d9/d5/gettickc_8c.html#a0">NtGetTickCount</a>() - <a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;dwLastRITEventTickCount) &gt; dwTimeout);
07014 }
07015 
07016 <span class="preprocessor">#if DBG</span>
07017 <span class="preprocessor"></span>__inline <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a741">DBGIncModalMenuCount</a>()
<a name="l07018"></a><a class="code" href="../../d4/d1/userk_8h.html#a741">07018</a> {
<a name="l07019"></a><a class="code" href="../../d4/d1/userk_8h.html#a742">07019</a>     guModalMenuStateCount++;
07020 }
07021 
<a name="l07022"></a><a class="code" href="../../d4/d1/userk_8h.html#a2025">07022</a> __inline <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a742">DBGDecModalMenuCount</a>()
07023 {
07024     UserAssert(guModalMenuStateCount != 0);
07025     guModalMenuStateCount--;
07026 }
07027 <span class="preprocessor">#else</span>
07028 <span class="preprocessor"></span><span class="preprocessor">#define DBGIncModalMenuCount()</span>
07029 <span class="preprocessor"></span><span class="preprocessor">#define DBGDecModalMenuCount()</span>
07030 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
07031 <span class="preprocessor"></span>
07032 __inline <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a2025">IsForegroundLocked</a>()
<a name="l07033"></a><a class="code" href="../../d4/d1/userk_8h.html#a2026">07033</a> {
07034     <span class="keywordflow">return</span> ((<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a82">guSFWLockCount</a> != 0) || (<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a81">gppiLockSFW</a> != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>));
07035 }
07036 
07037 
07038 <span class="comment">/* Bug 247768 - joejo</span>
07039 <span class="comment"> * Add compatibility hack for foreground activation problems.</span>
07040 <span class="comment"> *</span>
07041 <span class="comment"> */</span>
07042 __inline
07043 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a2026">GiveUpForeground</a>()
07044 {
07045 
07046     <span class="keywordflow">if</span> (<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a25">gptiForeground</a> == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
07047         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
<a name="l07048"></a><a class="code" href="../../d4/d1/userk_8h.html#a2027">07048</a>     }
07049 
07050     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d1/userk_8h.html#a1823">GetAppCompatFlags2ForPti</a>(gptiForeground , VER40) &amp; GACF2_GIVEUPFOREGROUND){
07051         TAGMSG0(DBGTAG_FOREGROUND, <span class="stringliteral">"GiveUpForeground Hack Succeeded!"</span>);
07052         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
<a name="l07053"></a><a class="code" href="../../d4/d1/userk_8h.html#a2028">07053</a>     }
07054 
07055     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
07056 }
07057 
07058 __inline <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a2027">IncSFWLockCount</a>()
<a name="l07059"></a><a class="code" href="../../d4/d1/userk_8h.html#a2029">07059</a> {
07060     <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a82">guSFWLockCount</a>++;
07061 }
07062 
07063 __inline <span class="keywordtype">void</span> <a class="code" href="../../d4/d1/userk_8h.html#a2028">DecSFWLockCount</a>()
07064 {
07065     UserAssert(guSFWLockCount != 0);
<a name="l07066"></a><a class="code" href="../../d4/d1/userk_8h.html#a743">07066</a>     <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a82">guSFWLockCount</a>--;
07067 }
07068 
07069 __inline <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d4/d1/userk_8h.html#a2029">UPDWORDValue</a> (UINT uSetting)
07070 {
07071     <span class="keywordflow">return</span> <a class="code" href="../../d4/d1/userk_8h.html#a2019">UPDWORDPointer</a>(uSetting)-&gt;<a class="code" href="../../d9/d3/structtagPROFILEVALUEINFO.html#o0">dwValue</a>;
<a name="l07072"></a><a class="code" href="../../d4/d1/userk_8h.html#a744">07072</a> }
07073 <span class="comment">/*</span>
07074 <span class="comment"> * Use this macro ONLY if UPIsDWORDRange(SPI_GET ## uSetting) is TRUE.</span>
07075 <span class="comment"> */</span>
07076 <span class="preprocessor">#define UP(uSetting) UPDWORDValue(SPI_GET ## uSetting)</span>
07077 <span class="preprocessor"></span>
07078 <span class="comment">/*</span>
07079 <span class="comment"> * NTIMM.C</span>
07080 <span class="comment"> */</span>
07081 
07082 <span class="preprocessor">#define IMESHOWSTATUS_NOTINITIALIZED    ((BOOL)0xffff)</span>
07083 <span class="preprocessor"></span>
07084 <a class="code" href="../../d1/d7/structtagIMC.html">PIMC</a> <a class="code" href="../../d4/d1/userk_8h.html#a2030">CreateInputContext</a>(
07085     IN ULONG_PTR dwClientImcData);
07086 
07087 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a2031">DestroyInputContext</a>(
07088     IN <a class="code" href="../../d1/d7/structtagIMC.html">PIMC</a> pImc);
07089 
07090 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a2032">FreeInputContext</a>(
07091     IN <a class="code" href="../../d1/d7/structtagIMC.html">PIMC</a> pImc);
07092 
07093 HIMC <a class="code" href="../../d4/d1/userk_8h.html#a2033">AssociateInputContext</a>(
07094     IN <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pWnd,
07095     IN <a class="code" href="../../d1/d7/structtagIMC.html">PIMC</a> pImc);
07096 
07097 <a class="code" href="../../d8/d0/immstruc_8h.html#a39">AIC_STATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a2034">AssociateInputContextEx</a>(
07098     IN <a class="code" href="../../d6/d9/structtagWND.html">PWND</a>  pWnd,
07099     IN <a class="code" href="../../d1/d7/structtagIMC.html">PIMC</a>  pImc,
07100     IN DWORD dwFlag);
07101 
07102 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a2035">UpdateInputContext</a>(
07103     IN <a class="code" href="../../d1/d7/structtagIMC.html">PIMC</a> pImc,
07104     IN UPDATEINPUTCONTEXTCLASS UpdateType,
07105     IN ULONG_PTR UpdateValue);
07106 
07107 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a2036">xxxFocusSetInputContext</a>(
07108     IN <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd,
07109     IN BOOL fActivate,
07110     IN BOOL fQueueMsg);
07111 
07112 <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> <a class="code" href="../../d4/d1/userk_8h.html#a2037">BuildHimcList</a>(
07113     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti,
07114     UINT cHimcMax,
07115     HIMC *phimcFirst);
07116 
07117 <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> <a class="code" href="../../d4/d1/userk_8h.html#a2038">xxxCreateDefaultImeWindow</a>(
07118     IN <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd,
07119     IN ATOM atomT,
07120     IN HANDLE hInst);
07121 
07122 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a2039">xxxImmActivateThreadsLayout</a>(
07123     <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti,
07124     PTLBLOCK    ptlBlockPrev,
07125     PKL         pkl);
07126 
07127 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a2040">xxxImmActivateAndUnloadThreadsLayout</a>(
07128     IN <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> *ptiList,
07129     IN UINT         nEntries,
07130     IN PTLBLOCK     ptlBlockPrev,
07131     PKL             pklCurrent,
07132     DWORD           dwHklReplace);
07133 
07134 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a2041">xxxImmActivateLayout</a>(
07135     IN <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti,
07136     IN PKL pkl);
07137 
07138 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a2042">xxxImmUnloadThreadsLayout</a>(
07139     IN <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> *ptiList,
07140     IN UINT         nEntry,
07141     IN PTLBLOCK     ptlBlockPrev,
07142     IN DWORD        dwFlag);
07143 
07144 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a2043">xxxImmUnloadLayout</a>(
07145     IN <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti,
07146     IN DWORD       dwFlag);
07147 
07148 <a class="code" href="../../d0/d8/structtagIMEINFOEX.html">PIMEINFOEX</a> <a class="code" href="../../d4/d1/userk_8h.html#a2044">xxxImmLoadLayout</a>(
07149     IN HKL hKL);
07150 
07151 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a2041">xxxImmActivateLayout</a>(
07152     IN <a class="code" href="../../d2/d8/structtagTHREADINFO.html">PTHREADINFO</a> pti,
07153     IN PKL pkl);
07154 
07155 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a2045">GetImeInfoEx</a>(
07156     IN <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a> pwinsta,
07157     IN <a class="code" href="../../d0/d8/structtagIMEINFOEX.html">PIMEINFOEX</a> piiex,
07158     IN IMEINFOEXCLASS SearchType);
07159 
07160 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a2046">SetImeInfoEx</a>(
07161     IN <a class="code" href="../../d4/d9/structtagWINDOWSTATION.html">PWINDOWSTATION</a> pwinsta,
07162     IN <a class="code" href="../../d0/d8/structtagIMEINFOEX.html">PIMEINFOEX</a> piiex);
07163 
07164 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d4/d1/userk_8h.html#a2047">xxxImmProcessKey</a>(
07165     IN <a class="code" href="../../d7/d4/structtagQ.html">PQ</a>   pq,
07166     IN <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd,
07167     IN UINT message,
07168     IN WPARAM wParam,
07169     IN LPARAM lParam);
07170 
07171 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a2048">GetImeHotKey</a>(
07172     DWORD dwHotKeyID,
07173     PUINT puModifiers,
07174     PUINT puVKey,
07175     HKL   *phKL );
07176 
07177 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>  <a class="code" href="../../d4/d1/userk_8h.html#a2049">SetImeHotKey</a>(
07178     DWORD  dwHotKeyID,
07179     UINT   uModifiers,
07180     UINT   uVKey,
07181     HKL    hKL,
07182     DWORD  dwAction );
07183 
07184 <a class="code" href="../../d8/d8/struct__tagIMEHOTKEYOBJ.html">PIMEHOTKEYOBJ</a> <a class="code" href="../../d4/d1/userk_8h.html#a2050">CheckImeHotKey</a>(
07185     <a class="code" href="../../d7/d4/structtagQ.html">PQ</a>   pq,
07186     UINT uVKey,
07187     LPARAM lParam);
07188 
07189 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a2051">ImeCanDestroyDefIME</a>(
07190     IN <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndDefaultIme,
07191     IN <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndDestroy);
07192 
07193 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a2052">IsChildSameThread</a>(
07194     IN <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndParent,
07195     IN <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndChild);
07196 
07197 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a2053">ImeCanDestroyDefIMEforChild</a>(
07198     IN <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndDefaultIme,
07199     IN <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndDestroy);
07200 
07201 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a2054">ImeCheckTopmost</a>(
07202     IN <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd);
07203 
07204 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a2055">ImeSetFutureOwner</a>(
07205     IN <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndDefaultIme,
07206     IN <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndOrgOwner);
07207 
07208 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a2056">ImeSetTopmostChild</a>(
07209     IN <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndRoot,
07210     IN BOOL fFlag);
07211 
07212 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a2057">ImeSetTopmost</a>(
07213     IN <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndRoot,
07214     IN BOOL fFlag,
07215     IN <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndInsertBefore);
07216 
07217 PSOFTKBDDATA <a class="code" href="../../d4/d1/userk_8h.html#a2058">ProbeAndCaptureSoftKbdData</a>(
07218     PSOFTKBDDATA Source);
07219 
07220 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a2059">xxxNotifyIMEStatus</a>(
07221     IN <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd,
07222     IN DWORD dwOpen,
07223     IN DWORD dwConversion );
07224 
07225 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a2060">xxxSetIMEShowStatus</a>(
<a name="l07226"></a><a class="code" href="../../d4/d1/userk_8h.html#a745">07226</a>     IN BOOL fShow);
07227 
07228 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a2061">xxxBroadcastImeShowStatusChange</a>(
07229     IN <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndDefIme,
07230     IN BOOL fShow);
07231 
07232 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a2062">xxxCheckImeShowStatusInThread</a>(
<a name="l07233"></a><a class="code" href="../../d4/d1/userk_8h.html#a2063">07233</a>     IN <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwndDefIme);
07234 
07235 
07236 <span class="preprocessor">#define IsWndImeRelated(pwnd)   \</span>
07237 <span class="preprocessor">    (pwnd-&gt;pcls-&gt;atomClassName == gpsi-&gt;atomSysClass[ICLS_IME] || \</span>
07238 <span class="preprocessor">     TestCF(pwnd, CFIME))</span>
<a name="l07239"></a><a class="code" href="../../d4/d1/userk_8h.html#a2064">07239</a> <span class="preprocessor"></span>
07240 <span class="comment">/*</span>
07241 <span class="comment"> * Critical section routines for processing mouse input</span>
07242 <span class="comment"> */</span>
07243 __inline <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a2063">EnterMouseCrit</a>() {
07244 
07245     <a class="code" href="../../d4/d9/ke_8h.html#a28">KeEnterCriticalRegion</a>();
07246     <a class="code" href="../../d5/d8/ex_8h.html#a269">ExAcquireResourceExclusiveLite</a>(<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a212">gpresMouseEventQueue</a>, <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>);
07247 }
07248 
07249 __inline <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a2064">LeaveMouseCrit</a>() {
07250 
07251     <a class="code" href="../../d5/d8/ex_8h.html#a66">ExReleaseResource</a>(gpresMouseEventQueue);
07252     <a class="code" href="../../d4/d9/ke_8h.html#a29">KeLeaveCriticalRegion</a>();
07253 }
<a name="l07254"></a><a class="code" href="../../d4/d1/userk_8h.html#a2065">07254</a> 
07255 <span class="preprocessor">#if DBG</span>
07256 <span class="preprocessor"></span><span class="preprocessor">#define EnterDeviceInfoListCrit _EnterDeviceInfoListCrit</span>
07257 <span class="preprocessor"></span><span class="preprocessor">#define LeaveDeviceInfoListCrit _LeaveDeviceInfoListCrit</span>
<a name="l07258"></a><a class="code" href="../../d4/d1/userk_8h.html#a2066">07258</a> <span class="preprocessor"></span><a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> _EnterDeviceInfoListCrit();
07259 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> _LeaveDeviceInfoListCrit();
07260 <span class="preprocessor">#else</span>
07261 <span class="preprocessor"></span><span class="comment">/*</span>
07262 <span class="comment"> * Critical section routines for accessing the Device List (gpDeviceInfoList)</span>
07263 <span class="comment"> */</span>
07264 __inline <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a2065">EnterDeviceInfoListCrit</a>() {
07265     <a class="code" href="../../d4/d9/ke_8h.html#a28">KeEnterCriticalRegion</a>();
07266     <a class="code" href="../../d5/d8/ex_8h.html#a269">ExAcquireResourceExclusiveLite</a>(gpresDeviceInfoList, TRUE);
<a name="l07267"></a><a class="code" href="../../d4/d1/userk_8h.html#a2067">07267</a> }
07268 __inline <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a2066">LeaveDeviceInfoListCrit</a>() {
07269     <a class="code" href="../../d5/d8/ex_8h.html#a66">ExReleaseResource</a>(<a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a206">gpresDeviceInfoList</a>);
07270     <a class="code" href="../../d4/d9/ke_8h.html#a29">KeLeaveCriticalRegion</a>();
07271 }
07272 <span class="preprocessor">#endif</span>
07273 <span class="preprocessor"></span>
07274 <span class="comment">/*</span>
07275 <span class="comment"> * Keep some capture state visible from user-mode for performance.</span>
07276 <span class="comment"> */</span>
07277 __inline <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a2067">LockCaptureWindow</a>(<a class="code" href="../../d7/d4/structtagQ.html">PQ</a> pq, <a class="code" href="../../d6/d9/structtagWND.html">PWND</a> pwnd) {
<a name="l07278"></a><a class="code" href="../../d4/d1/userk_8h.html#a2068">07278</a>     <span class="keywordflow">if</span> (pq-&gt;<a class="code" href="../../d7/d4/structtagQ.html#o6">spwndCapture</a>) {
07279         UserAssert(<a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;cCaptures &gt; 0);
07280         <a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;cCaptures--;
07281     }
07282     <span class="keywordflow">if</span> (pwnd) {
07283         <a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;cCaptures++;
07284     }
07285     <a class="code" href="../../d6/d0/usercli_8h.html#a41">Lock</a>(&amp;pq-&gt;<a class="code" href="../../d7/d4/structtagQ.html#o6">spwndCapture</a>, pwnd);
07286 }
07287 
07288 __inline <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a2068">UnlockCaptureWindow</a>(<a class="code" href="../../d7/d4/structtagQ.html">PQ</a> pq) {
<a name="l07289"></a><a class="code" href="../../d4/d1/userk_8h.html#a746">07289</a>     <span class="keywordflow">if</span> (pq-&gt;<a class="code" href="../../d7/d4/structtagQ.html#o6">spwndCapture</a>) {
<a name="l07290"></a><a class="code" href="../../d4/d1/userk_8h.html#a747">07290</a>         UserAssert(<a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;cCaptures &gt; 0);
<a name="l07291"></a><a class="code" href="../../d4/d1/userk_8h.html#a748">07291</a>         <a class="code" href="../../d1/d8/clglobal_8c.html#a4">gpsi</a>-&gt;cCaptures--;
07292         <a class="code" href="../../d6/d0/usercli_8h.html#a42">Unlock</a>(&amp;pq-&gt;<a class="code" href="../../d7/d4/structtagQ.html#o6">spwndCapture</a>);
07293     }
07294 }
07295 
07296 <span class="comment">/*</span>
07297 <span class="comment"> * Some routines for manipulating desktop and windowstation handles.</span>
<a name="l07298"></a><a class="code" href="../../d4/d1/userk_8h.html#a2073">07298</a> <span class="comment"> */</span>
07299 <span class="preprocessor">#define HF_DESKTOPHOOK  0       // offset to desktop hook flag</span>
07300 <span class="preprocessor"></span><span class="preprocessor">#define HF_PROTECTED    1       // offset to protected flag</span>
07301 <span class="preprocessor"></span><span class="preprocessor">#define HF_LIMIT        2       // number of flags per handle</span>
07302 <span class="preprocessor"></span>
07303 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a2069">SetHandleFlag</a>(HANDLE, DWORD, BOOL);
07304 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a2070">CheckHandleFlag</a>(HANDLE, DWORD);
07305 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a2071">SetHandleInUse</a>(HANDLE);
07306 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d4/d1/userk_8h.html#a2072">CheckHandleInUse</a>(HANDLE);
<a name="l07307"></a><a class="code" href="../../d4/d1/userk_8h.html#a2074">07307</a> 
07308 __inline <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d4/d1/userk_8h.html#a2073">CloseProtectedHandle</a>(HANDLE handle)
07309 {
07310     <span class="keywordflow">if</span> (handle != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
07311         <a class="code" href="../../d4/d1/userk_8h.html#a2069">SetHandleFlag</a>(handle, <a class="code" href="../../d4/d1/userk_8h.html#a747">HF_PROTECTED</a>, <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>);
<a name="l07312"></a><a class="code" href="../../d4/d1/userk_8h.html#a2075">07312</a>         <span class="keywordflow">return</span> ZwClose(handle);
07313     }
07314     <span class="keywordflow">return</span> STATUS_SUCCESS;
07315 }
07316 
07317 __inline <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a2074">EnterHandleFlagsCrit</a>() {
07318     <a class="code" href="../../d4/d9/ke_8h.html#a28">KeEnterCriticalRegion</a>();
<a name="l07319"></a><a class="code" href="../../d4/d1/userk_8h.html#a749">07319</a>     <a class="code" href="../../d5/d8/ex_8h.html#a231">ExAcquireFastMutexUnsafe</a>(gpHandleFlagsMutex);
07320 }
07321 
07322 __inline <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a2075">LeaveHandleFlagsCrit</a>() {
07323     <a class="code" href="../../d5/d8/ex_8h.html#a232">ExReleaseFastMutexUnsafe</a>(gpHandleFlagsMutex);
07324     <a class="code" href="../../d4/d9/ke_8h.html#a29">KeLeaveCriticalRegion</a>();
07325 }
07326 
07327 <span class="comment">// multimon apis</span>
07328 
07329 <span class="preprocessor">#define HMONITOR_PRIMARY ((HMONITOR)0x00010000)</span>
07330 <span class="preprocessor"></span>
07331 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>     <a class="code" href="../../d4/d1/userk_8h.html#a2076">xxxEnumDisplayMonitors</a>(
07332                 HDC             hdc,
07333                 LPRECT          lprcClip,
07334                 MONITORENUMPROC lpfnEnum,
07335                 LPARAM          dwData,
07336                 BOOL            fInternal);
07337 
07338 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a2077">xxxClientMonitorEnumProc</a>(
07339                 HMONITOR        hMonitor,
07340                 HDC             hdcMonitor,
07341                 LPRECT          lprc,
07342                 LPARAM          dwData,
<a name="l07343"></a><a class="code" href="../../d4/d1/userk_8h.html#a750">07343</a>                 MONITORENUMPROC xpfnProc);
<a name="l07344"></a><a class="code" href="../../d4/d1/userk_8h.html#a751">07344</a> 
07345 <span class="keywordtype">void</span>    <a class="code" href="../../d4/d1/userk_8h.html#a2078">ClipPointToDesktop</a>(LPPOINT lppt);
07346 <span class="keywordtype">void</span>    <a class="code" href="../../d4/d1/userk_8h.html#a2079">DestroyMonitor</a>(<a class="code" href="../../d0/d2/structtagMONITOR.html">PMONITOR</a> pMonitor);
07347 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>    <a class="code" href="../../d4/d1/userk_8h.html#a2080">GetHDevName</a>(HMONITOR hMon, PWCHAR pName);
07348 ULONG   <a class="code" href="../../d4/d1/userk_8h.html#a2081">HdevFromMonitor</a>(<a class="code" href="../../d0/d2/structtagMONITOR.html">PMONITOR</a> pMonitor);
07349 
07350 <span class="comment">/*</span>
<a name="l07351"></a><a class="code" href="../../d4/d1/userk_8h.html#a2082">07351</a> <span class="comment"> * Rebasing functions for shared memory.</span>
07352 <span class="comment"> */</span>
07353 <span class="preprocessor">#define REBASESHAREDPTR(p)       (p)</span>
07354 <span class="preprocessor"></span><span class="preprocessor">#define REBASESHAREDPTRALWAYS(p) (p)</span>
07355 <span class="preprocessor"></span>
07356 <span class="comment">/*</span>
07357 <span class="comment"> * Multimonitor macros used in RTL. There are similar definitions</span>
<a name="l07358"></a><a class="code" href="../../d4/d1/userk_8h.html#a2083">07358</a> <span class="comment"> * in client\userdll.h</span>
07359 <span class="comment"> */</span>
07360 __inline <a class="code" href="../../d9/d3/structtagDISPLAYINFO.html">PDISPLAYINFO</a>
07361 <a class="code" href="../../d6/d0/usercli_8h.html#a792">GetDispInfo</a>(<span class="keywordtype">void</span>)
07362 {
07363 
07364     <span class="keywordflow">return</span> <a class="code" href="../../d3/d6/ntuser_2kernel_2globals_8c.html#a179">gpDispInfo</a>;
07365 }
07366 
07367 __inline <a class="code" href="../../d0/d2/structtagMONITOR.html">PMONITOR</a>
07368 <a class="code" href="../../d6/d0/usercli_8h.html#a793">GetPrimaryMonitor</a>(<span class="keywordtype">void</span>)
07369 {
<a name="l07370"></a><a class="code" href="../../d4/d1/userk_8h.html#a752">07370</a>     <span class="keywordflow">return</span> <a class="code" href="../../d4/d1/userk_8h.html#a751">REBASESHAREDPTRALWAYS</a>(<a class="code" href="../../d6/d0/usercli_8h.html#a792">GetDispInfo</a>()-&gt;pMonitorPrimary);
07371 }
07372 
07373 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a2084">_QueryUserHandles</a>(
07374         IN  LPDWORD     lpIn,
07375         IN  DWORD       dwInLength,
07376         OUT DWORD       pdwResult[][TYPE_CTYPES]);
07377 
07378 
07379 
07380 <span class="preprocessor">#define REMOVE_FROM_LIST(type, pstart, pitem, next) \</span>
07381 <span class="preprocessor">    {                                                           \</span>
07382 <span class="preprocessor">        type** pp;                                              \</span>
<a name="l07383"></a><a class="code" href="../../d4/d1/userk_8h.html#a753">07383</a> <span class="preprocessor">                                                                \</span>
<a name="l07384"></a><a class="code" href="../../d4/d1/userk_8h.html#a754">07384</a> <span class="preprocessor">        for (pp = &amp;pstart; *pp != NULL; pp = &amp;(*pp)-&gt;next) {    \</span>
<a name="l07385"></a><a class="code" href="../../d4/d1/userk_8h.html#a755">07385</a> <span class="preprocessor">            if (*pp == pitem) {                                 \</span>
<a name="l07386"></a><a class="code" href="../../d4/d1/userk_8h.html#a756">07386</a> <span class="preprocessor">                *pp = pitem-&gt;next;                              \</span>
<a name="l07387"></a><a class="code" href="../../d4/d1/userk_8h.html#a757">07387</a> <span class="preprocessor">                break;                                          \</span>
<a name="l07388"></a><a class="code" href="../../d4/d1/userk_8h.html#a758">07388</a> <span class="preprocessor">            }                                                   \</span>
<a name="l07389"></a><a class="code" href="../../d4/d1/userk_8h.html#a759">07389</a> <span class="preprocessor">        }                                                       \</span>
<a name="l07390"></a><a class="code" href="../../d4/d1/userk_8h.html#a760">07390</a> <span class="preprocessor">    }                                                           \</span>
<a name="l07391"></a><a class="code" href="../../d4/d1/userk_8h.html#a761">07391</a> <span class="preprocessor"></span>
<a name="l07392"></a><a class="code" href="../../d4/d1/userk_8h.html#a762">07392</a> <span class="preprocessor"></span>
<a name="l07393"></a><a class="code" href="../../d4/d1/userk_8h.html#a763">07393</a> <span class="preprocessor">#define HH_DRIVERENTRY              0x00000001</span>
<a name="l07394"></a><a class="code" href="../../d4/d1/userk_8h.html#a764">07394</a> <span class="preprocessor"></span><span class="preprocessor">#define HH_USERINITIALIZE           0x00000002</span>
<a name="l07395"></a><a class="code" href="../../d4/d1/userk_8h.html#a765">07395</a> <span class="preprocessor"></span><span class="preprocessor">#define HH_INITVIDEO                0x00000004</span>
<a name="l07396"></a><a class="code" href="../../d4/d1/userk_8h.html#a766">07396</a> <span class="preprocessor"></span><span class="preprocessor">#define HH_REMOTECONNECT            0x00000008</span>
<a name="l07397"></a><a class="code" href="../../d4/d1/userk_8h.html#a767">07397</a> <span class="preprocessor"></span><span class="preprocessor">#define HH_REMOTEDISCONNECT         0x00000010</span>
<a name="l07398"></a><a class="code" href="../../d4/d1/userk_8h.html#a768">07398</a> <span class="preprocessor"></span><span class="preprocessor">#define HH_REMOTERECONNECT          0x00000020</span>
<a name="l07399"></a><a class="code" href="../../d4/d1/userk_8h.html#a769">07399</a> <span class="preprocessor"></span><span class="preprocessor">#define HH_REMOTELOGOFF             0x00000040</span>
<a name="l07400"></a><a class="code" href="../../d4/d1/userk_8h.html#a770">07400</a> <span class="preprocessor"></span><span class="preprocessor">#define HH_DRIVERUNLOAD             0x00000080</span>
<a name="l07401"></a><a class="code" href="../../d4/d1/userk_8h.html#a771">07401</a> <span class="preprocessor"></span><span class="preprocessor">#define HH_GRECLEANUP               0x00000100</span>
<a name="l07402"></a><a class="code" href="../../d4/d1/userk_8h.html#a772">07402</a> <span class="preprocessor"></span><span class="preprocessor">#define HH_USERKCLEANUP             0x00000200</span>
07403 <span class="preprocessor"></span><span class="preprocessor">#define HH_INITIATEWIN32KCLEANUP    0x00000400</span>
<a name="l07404"></a><a class="code" href="../../d4/d1/userk_8h.html#a773">07404</a> <span class="preprocessor"></span><span class="preprocessor">#define HH_ALLDTGONE                0x00000800</span>
07405 <span class="preprocessor"></span><span class="preprocessor">#define HH_RITGONE                  0x00001000</span>
07406 <span class="preprocessor"></span><span class="preprocessor">#define HH_RITCREATED               0x00002000</span>
07407 <span class="preprocessor"></span><span class="preprocessor">#define HH_LOADCURSORS              0x00004000</span>
07408 <span class="preprocessor"></span><span class="preprocessor">#define HH_KBDLYOUTGLOBALCLEANUP    0x00008000</span>
07409 <span class="preprocessor"></span><span class="preprocessor">#define HH_KBDLYOUTFREEWINSTA       0x00010000</span>
07410 <span class="preprocessor"></span><span class="preprocessor">#define HH_CLEANUPRESOURCES         0x00020000</span>
07411 <span class="preprocessor"></span><span class="preprocessor">#define HH_DISCONNECTDESKTOP        0x00040000</span>
07412 <span class="preprocessor"></span><span class="preprocessor">#define HH_DTQUITPOSTED             0x00080000</span>
07413 <span class="preprocessor"></span>
07414 <span class="preprocessor">#define HYDRA_HINT(ev)  (gdwHydraHint |= ev)</span>
<a name="l07415"></a><a class="code" href="../../d4/d1/userk_8h.html#a774">07415</a> <span class="preprocessor"></span>
<a name="l07416"></a><a class="code" href="../../d4/d1/userk_8h.html#a775">07416</a> <span class="preprocessor">#if DBG</span>
<a name="l07417"></a><a class="code" href="../../d4/d1/userk_8h.html#a776">07417</a> <span class="preprocessor"></span>    <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> TrackAddDesktop(PVOID pDesktop);
07418     <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> TrackRemoveDesktop(PVOID pDesktop);
07419     <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> DumpTrackedDesktops(BOOL bBreak);
07420 
07421 <span class="preprocessor">    #define DbgTrackAddDesktop(pdesk) TrackAddDesktop(pdesk)</span>
07422 <span class="preprocessor"></span><span class="preprocessor">    #define DbgTrackRemoveDesktop(pdesk) TrackRemoveDesktop(pdesk)</span>
07423 <span class="preprocessor"></span><span class="preprocessor">    #define DbgDumpTrackedDesktops(b) DumpTrackedDesktops(b)</span>
07424 <span class="preprocessor"></span><span class="preprocessor">#else</span>
07425 <span class="preprocessor"></span><span class="preprocessor">    #define DbgTrackAddDesktop(pdesk)</span>
07426 <span class="preprocessor"></span><span class="preprocessor">    #define DbgTrackRemoveDesktop(pdesk)</span>
<a name="l07427"></a><a class="code" href="../../d4/d1/userk_8h.html#a777">07427</a> <span class="preprocessor"></span><span class="preprocessor">    #define DbgDumpTrackedDesktops(b)</span>
07428 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
07429 <span class="preprocessor"></span>
07430 <span class="preprocessor">#if DBG</span>
07431 <span class="preprocessor"></span><span class="preprocessor">    #define TRACE_HYDAPI(m)                                     \</span>
07432 <span class="preprocessor">        if (gbTraceHydraApi) {                                  \</span>
07433 <span class="preprocessor">            KdPrint(("HYD-%d API: ", gSessionId));              \</span>
07434 <span class="preprocessor">            KdPrint(m);                                         \</span>
07435 <span class="preprocessor">        }</span>
07436 <span class="preprocessor"></span><span class="preprocessor">#else</span>
07437 <span class="preprocessor"></span><span class="preprocessor">    #define TRACE_HYDAPI(m)</span>
07438 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
07439 <span class="preprocessor"></span>
07440 <span class="preprocessor">#if DBG</span>
07441 <span class="preprocessor"></span><span class="preprocessor">    #define TRACE_DESKTOP(m)                                    \</span>
07442 <span class="preprocessor">        if (gbTraceDesktop) {                                   \</span>
<a name="l07443"></a><a class="code" href="../../d4/d1/userk_8h.html#a778">07443</a> <span class="preprocessor">            KdPrint(("HYD-%d DT ", gSessionId));                \</span>
<a name="l07444"></a><a class="code" href="../../d4/d1/userk_8h.html#a779">07444</a> <span class="preprocessor">            KdPrint(m);                                         \</span>
07445 <span class="preprocessor">        }</span>
07446 <span class="preprocessor"></span>
07447 <span class="preprocessor">    #define TRACE_RIT(m)                                        \</span>
07448 <span class="preprocessor">        if (gbTraceRIT) {                                       \</span>
07449 <span class="preprocessor">            KdPrint(("HYD-%d RIT ", gSessionId));               \</span>
07450 <span class="preprocessor">            KdPrint(m);                                         \</span>
07451 <span class="preprocessor">        }</span>
07452 <span class="preprocessor"></span><span class="preprocessor">#else</span>
07453 <span class="preprocessor"></span><span class="preprocessor">    #define TRACE_DESKTOP(m)</span>
07454 <span class="preprocessor"></span><span class="preprocessor">    #define TRACE_RIT(m)</span>
07455 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
07456 <span class="preprocessor"></span>
07457 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
07458 <a class="code" href="../../d4/d1/userk_8h.html#a2085">RemoteConnect</a>(
07459     IN <a class="code" href="../../d3/d8/struct__DOCONNECTDATA.html">PDOCONNECTDATA</a> pDoConnectData,
07460     IN ULONG DisplayDriverNameLength,
07461     IN PWCHAR DisplayDriverName);
07462 
07463 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
07464 <a class="code" href="../../d4/d1/userk_8h.html#a2086">xxxRemoteDisconnect</a>(
07465     VOID);
07466 
07467 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
07468 <a class="code" href="../../d4/d1/userk_8h.html#a2087">xxxRemoteReconnect</a>(
07469     IN <a class="code" href="../../d4/d8/struct__DORECONNECTDATA.html">PDORECONNECTDATA</a> pDoReconnectData);
07470 
07471 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
07472 <a class="code" href="../../d4/d1/userk_8h.html#a2088">RemoteLogoff</a>(
07473     VOID);
07474 
07475 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
07476 <a class="code" href="../../d4/d1/userk_8h.html#a2089">PrepareForLogoff</a>(
07477     UINT uFlags);
07478 
07479 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
07480 <a class="code" href="../../d4/d1/userk_8h.html#a2090">xxxRemoteStopScreenUpdates</a>(
07481     BOOL fDisableGraphics);
07482 
07483 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a> <a class="code" href="../../d4/d1/userk_8h.html#a2091">xxxPushKeyEvent</a>(
07484     BYTE  bVk,
07485     BYTE  bScan,
07486     DWORD dwFlags,
07487     DWORD dwExtraInfo);
07488 
07489 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
07490 <a class="code" href="../../d4/d1/userk_8h.html#a2092">RemoteThinwireStats</a>(
07491     OUT PVOID Stats);
07492 
07493 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
07494 <a class="code" href="../../d4/d1/userk_8h.html#a2093">RemoteNtSecurity</a>(
07495     VOID);
07496 
07497 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
07498 <a class="code" href="../../d4/d1/userk_8h.html#a2094">xxxRemoteShadowSetup</a>(
07499     VOID);
07500 
07501 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
07502 <a class="code" href="../../d4/d1/userk_8h.html#a2095">RemoteShadowStart</a>(
07503     IN PVOID pThinwireData,
07504     ULONG ThinwireDataLength);
07505 
07506 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
07507 <a class="code" href="../../d4/d1/userk_8h.html#a2096">xxxRemoteShadowStop</a>(
07508     VOID);
07509 
07510 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
07511 <a class="code" href="../../d4/d1/userk_8h.html#a2097">RemoteShadowCleanup</a>(
07512     IN PVOID pThinwireData,
07513     ULONG ThinwireDataLength);
07514 
07515 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
07516 <a class="code" href="../../d4/d1/userk_8h.html#a2098">xxxRemotePassthruEnable</a>(
07517     VOID);
07518 
07519 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
07520 <a class="code" href="../../d4/d1/userk_8h.html#a2099">RemotePassthruDisable</a>(
07521     VOID);
07522 
07523 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
07524 <a class="code" href="../../d4/d1/userk_8h.html#a2100">CtxDisplayIOCtl</a>(
07525     ULONG  DisplayIOCtlFlags,
07526     PUCHAR pDisplayIOCtlData,
07527     ULONG  cbDisplayIOCtlData);
07528 
07529 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>
07530 <a class="code" href="../../d4/d1/userk_8h.html#a2101">RemoteConnectState</a>(
07531     VOID);
07532 
07533 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
07534 <a class="code" href="../../d4/d1/userk_8h.html#a2102">_GetWinStationInfo</a>(
07535     WSINFO* pWsInfo);
07536 
07537 <span class="comment">// from fullscr.c</span>
07538 
07539 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
07540 <a class="code" href="../../d4/d1/userk_8h.html#a2103">RemoteRedrawRectangle</a>(
07541     WORD Left,
07542     WORD Top,
07543     WORD Right,
07544     WORD Bottom);
07545 
07546 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
07547 <a class="code" href="../../d4/d1/userk_8h.html#a2104">RemoteRedrawScreen</a>(
07548     VOID);
07549 
07550 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
07551 <a class="code" href="../../d4/d1/userk_8h.html#a2105">RemoteDisableScreen</a>(
07552     VOID);
07553 
07554 <span class="comment">// from muclean.c</span>
07555 
07556 <span class="comment">// from fekbd.c</span>
07557 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
07558 <a class="code" href="../../d4/d1/userk_8h.html#a2106">NlsKbdSendIMEProc</a>(
07559     DWORD dwImeOpen,
07560     DWORD dwImeConversion);
07561 
07562 <span class="preprocessor">#endif  // !_USERK_</span>
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:42:16 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
