<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: ex/callback.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>callback.c File Reference</h1><code>#include "<a class="el" href="../../d5/d9/exp_8h-source.html">exp.h</a>"</code><br>

<p>
<a href="../../d3/d3/ex_2callback_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d6/struct__CALLBACK__OBJECT.html">_CALLBACK_OBJECT</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html">_CALLBACK_REGISTRATION</a></td></tr>

<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/ex_2callback_8c.html#a0">CALLBACK_MODIFY_STATE</a>&nbsp;&nbsp;&nbsp;0x0001</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/ex_2callback_8c.html#a1">CALLBACK_ALL_ACCESS</a></td></tr>

<tr><td colspan=2><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d9/d6/struct__CALLBACK__OBJECT.html">_CALLBACK_OBJECT</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/ex_2callback_8c.html#a5">CALLBACK_OBJECT</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d9/d6/struct__CALLBACK__OBJECT.html">_CALLBACK_OBJECT</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/ex_2callback_8c.html#a6">PCALLBACK_OBJECT</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html">_CALLBACK_REGISTRATION</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/ex_2callback_8c.html#a7">CALLBACK_REGISTRATION</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html">_CALLBACK_REGISTRATION</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/ex_2callback_8c.html#a8">PCALLBACK_REGISTRATION</a></td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/ex_2callback_8c.html#a9">ExpDeleteCallback</a> (IN <a class="el" href="../../d9/d6/struct__CALLBACK__OBJECT.html">PCALLBACK_OBJECT</a> CallbackObject)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/ex_2callback_8c.html#a10">ExpInitializeCallbacks</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>NTSTATUS&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/ex_2callback_8c.html#a11">ExCreateCallback</a> (OUT <a class="el" href="../../d9/d6/struct__CALLBACK__OBJECT.html">PCALLBACK_OBJECT</a> *CallbackObject, IN POBJECT_ATTRIBUTES <a class="el" href="../../d8/d0/ctlpcqos_8c.html#a1">ObjectAttributes</a>, IN BOOLEAN Create, IN BOOLEAN AllowMultipleCallbacks)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PVOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/ex_2callback_8c.html#a12">ExRegisterCallback</a> (IN <a class="el" href="../../d9/d6/struct__CALLBACK__OBJECT.html">PCALLBACK_OBJECT</a> CallbackObject, IN <a class="el" href="../../d5/d8/ex_8h.html#a157">PCALLBACK_FUNCTION</a> CallbackFunction, IN PVOID CallbackContext)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/ex_2callback_8c.html#a13">ExUnregisterCallback</a> (IN PVOID CbRegistration)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/ex_2callback_8c.html#a14">ExNotifyCallback</a> (IN <a class="el" href="../../d9/d6/struct__CALLBACK__OBJECT.html">PCALLBACK_OBJECT</a> CallbackObject, IN PVOID Argument1, IN PVOID Argument2)</td></tr>

<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/struct__OBJECT__TYPE.html">POBJECT_TYPE</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/ex_2callback_8c.html#a2">ExCallbackObjectType</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d2/d6/struct__KEVENT.html">KEVENT</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/ex_2callback_8c.html#a3">ExpCallbackEvent</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>GENERIC_MAPPING&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/ex_2callback_8c.html#a4">ExpCallbackMapping</a></td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a1" doxytag="ex/callback.c::CALLBACK_ALL_ACCESS" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define CALLBACK_ALL_ACCESS          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div>(STANDARD_RIGHTS_REQUIRED|SYNCHRONIZE|\
                             <a class="code" href="../../d2/d4/ex_2callback_8c.html#a0">CALLBACK_MODIFY_STATE</a> )
</div></pre>
<p>
Definition at line <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00035">35</a> of file <a class="el" href="../../d3/d3/ex_2callback_8c-source.html">ex/callback.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00101">ExpInitializeCallbacks()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="ex/callback.c::CALLBACK_MODIFY_STATE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define CALLBACK_MODIFY_STATE&nbsp;&nbsp;&nbsp;0x0001          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00033">33</a> of file <a class="el" href="../../d3/d3/ex_2callback_8c-source.html">ex/callback.c</a>.    </td>
  </tr>
</table>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="a5" doxytag="ex/callback.c::CALLBACK_OBJECT" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d9/d6/struct__CALLBACK__OBJECT.html">_CALLBACK_OBJECT</a>  <a class="el" href="../../d9/d6/struct__CALLBACK__OBJECT.html">CALLBACK_OBJECT</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="ex/callback.c::CALLBACK_REGISTRATION" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html">_CALLBACK_REGISTRATION</a>  <a class="el" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html">CALLBACK_REGISTRATION</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="ex/callback.c::PCALLBACK_OBJECT" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d9/d6/struct__CALLBACK__OBJECT.html">_CALLBACK_OBJECT</a> * <a class="el" href="../../d9/d6/struct__CALLBACK__OBJECT.html">PCALLBACK_OBJECT</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00222">ExCreateCallback()</a>, and <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00479">ExUnregisterCallback()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="ex/callback.c::PCALLBACK_REGISTRATION" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html">_CALLBACK_REGISTRATION</a> * <a class="el" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html">PCALLBACK_REGISTRATION</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00563">ExNotifyCallback()</a>, <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00378">ExRegisterCallback()</a>, and <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00479">ExUnregisterCallback()</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a11" doxytag="ex/callback.c::ExCreateCallback" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NTSTATUS ExCreateCallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">OUT <a class="el" href="../../d9/d6/struct__CALLBACK__OBJECT.html">PCALLBACK_OBJECT</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>CallbackObject</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN POBJECT_ATTRIBUTES&nbsp;</td>
          <td class="mdname" nowrap> <em>ObjectAttributes</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN BOOLEAN&nbsp;</td>
          <td class="mdname" nowrap> <em>Create</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN BOOLEAN&nbsp;</td>
          <td class="mdname" nowrap> <em>AllowMultipleCallbacks</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00222">222</a> of file <a class="el" href="../../d3/d3/ex_2callback_8c-source.html">ex/callback.c</a>.
<p>
References <a class="el" href="../../d1/d5/consubs_8c-source.html#l00023">Create()</a>, <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00043">ExCallbackObjectType</a>, <a class="el" href="../../d8/d9/cmdat2_8c-source.html#l00091">Handle</a>, <a class="el" href="../../d4/d9/ke_8h.html#a354">KeInitializeSpinLock()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00624">KernelMode</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d7/d9/obcreate_8c-source.html#l00055">ObCreateObject()</a>, <a class="el" href="../../d2/d0/obinsert_8c-source.html#l00029">ObInsertObject()</a>, <a class="el" href="../../d8/d9/ctlnpqos_8c-source.html#l00027">ObjectAttributes</a>, <a class="el" href="../../d8/d0/obref_8c-source.html#l00095">ObOpenObjectByName()</a>, <a class="el" href="../../d8/d0/obref_8c-source.html#l00542">ObReferenceObjectByHandle()</a>, <a class="el" href="../../d1/d8/ntosdef_8h-source.html#l00462">PAGED_CODE</a>, <a class="el" href="../../d2/d4/ex_2callback_8c.html#a6">PCALLBACK_OBJECT</a>, and <a class="el" href="../../d3/d0/cttoken_8c-source.html#l00135">Status</a>.
<p>
Referenced by <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00101">ExpInitializeCallbacks()</a>.
<p>
<pre class="fragment"><div>00231                    :
00232 
00233     This function opens a callback object with <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> specified callback
00234     object. If <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> callback object does not exist or <a class="code" href="../../d1/d9/icmui_8def.html#a4">it</a> <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> a <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a> then
00235     a callback object will be created <span class="keywordflow">if</span> create <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>. If a callbackobject
00236     <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> created <a class="code" href="../../d1/d9/icmui_8def.html#a4">it</a> will <a class="code" href="../../d3/d0/imm32_8def.html#a1">only</a> support mulitiple registered callbacks <span class="keywordflow">if</span>
00237     AllowMulitipleCallbacks <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>.
00238 
00239 Arguments:
00240 
00241     CallbackObject - Supplies a pointer to a variable that will receive <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a>
00242         Callback object.
00243 
00244     CallbackName  - Supplies a pointer to a object name that will receive <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a>
00245 
00246     <a class="code" href="../../d4/d5/conimep_8h.html#a111">Create</a> - Supplies a flag which indicates whether a callback object will
00247         be created or not .
00248 
00249     AllowMultipleCallbacks - Supplies a flag which indicates <a class="code" href="../../d3/d0/imm32_8def.html#a1">only</a> support
00250         mulitiple registered callbacks.
00251 
00252 Return Value:
00253 
00254     Returns STATUS_SUCESS unless fali...
00255 
00256 --*/
00257 
00258 {
00259     <a class="code" href="../../d9/d6/struct__CALLBACK__OBJECT.html">PCALLBACK_OBJECT</a> cbObject;
00260     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
00261     HANDLE <a class="code" href="../../d7/d0/cmdat2_8c.html#a19">Handle</a>;
00262 
00263     <a class="code" href="../../d0/d9/ntosdef_8h.html#a28">PAGED_CODE</a>();
00264 
00265     <span class="comment">//</span>
00266     <span class="comment">// If named callback, open handle to it</span>
00267     <span class="comment">//</span>
00268 
00269     <span class="keywordflow">if</span> (<a class="code" href="../../d7/d0/ctlnpqos_8c.html#a4">ObjectAttributes</a>-&gt;ObjectName) {
00270         <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d7/d1/obref_8c.html#a2">ObOpenObjectByName</a>(ObjectAttributes,
00271                                     ExCallbackObjectType,
00272                                     KernelMode,
00273                                     NULL,
00274                                     0,   <span class="comment">// DesiredAccess,</span>
00275                                     NULL,
00276                                     &amp;Handle);
00277     } <span class="keywordflow">else</span> {
00278         <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = STATUS_UNSUCCESSFUL;
00279     }
00280 
00281     <span class="comment">//</span>
00282     <span class="comment">// If not opened, check if callback should be created</span>
00283     <span class="comment">//</span>
00284 
00285     <span class="keywordflow">if</span>(!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(Status) &amp;&amp; <a class="code" href="../../d4/d5/conimep_8h.html#a111">Create</a> ) {
00286         <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d6/d0/obcreate_8c.html#a5">ObCreateObject</a>(KernelMode,
00287                                 ExCallbackObjectType,
00288                                 ObjectAttributes,
00289                                 KernelMode,
00290                                 NULL,
00291                                 <span class="keyword">sizeof</span>(<a class="code" href="../../d9/d6/struct__CALLBACK__OBJECT.html">CALLBACK_OBJECT</a>),
00292                                 0,
00293                                 0,
00294                                 (PVOID *)&amp;cbObject );
00295 
00296         <span class="keywordflow">if</span>(<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(Status)){
00297 
00298             <span class="comment">//</span>
00299             <span class="comment">// Fill in structure signature</span>
00300             <span class="comment">//</span>
00301 
00302             cbObject-&gt;<a class="code" href="../../d9/d6/struct__CALLBACK__OBJECT.html#o0">Signature</a> = 'llaC';
00303 
00304             <span class="comment">//</span>
00305             <span class="comment">// It will support multiple registered callbacks if</span>
00306             <span class="comment">// AllowMultipleCallbacks is TRUE.</span>
00307             <span class="comment">//</span>
00308 
00309             cbObject-&gt;<a class="code" href="../../d9/d6/struct__CALLBACK__OBJECT.html#o3">AllowMultipleCallbacks</a> = AllowMultipleCallbacks;
00310 
00311             <span class="comment">//</span>
00312             <span class="comment">// Initialize CallbackObject queue.</span>
00313             <span class="comment">//</span>
00314 
00315             InitializeListHead( &amp;cbObject-&gt;<a class="code" href="../../d9/d6/struct__CALLBACK__OBJECT.html#o2">RegisteredCallbacks</a> );
00316 
00317             <span class="comment">//</span>
00318             <span class="comment">// Initialize spinlock</span>
00319             <span class="comment">//</span>
00320 
00321             <a class="code" href="../../d4/d9/ke_8h.html#a354">KeInitializeSpinLock</a> (&amp;cbObject-&gt;<a class="code" href="../../d9/d6/struct__CALLBACK__OBJECT.html#o1">Lock</a>);
00322 
00323 
00324             <span class="comment">//</span>
00325             <span class="comment">// Put the object in the root directory</span>
00326             <span class="comment">//</span>
00327 
00328             <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d1/d1/obinsert_8c.html#a0">ObInsertObject</a> (
00329                      cbObject,
00330                      NULL,
00331                      FILE_READ_DATA,
00332                      0,
00333                      NULL,
00334                      &amp;Handle );
00335 
00336         }
00337 
00338     }
00339 
00340     <span class="keywordflow">if</span>(<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(Status)){
00341 
00342         <span class="comment">//</span>
00343         <span class="comment">// Add one to callback object reference count</span>
00344         <span class="comment">//</span>
00345 
00346         <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d7/d1/obref_8c.html#a4">ObReferenceObjectByHandle</a> (
00347                     Handle,
00348                     0,          <span class="comment">// DesiredAccess</span>
00349                     ExCallbackObjectType,
00350                     KernelMode,
00351                     &amp;cbObject,
00352                     NULL
00353                     );
00354 
00355         ZwClose (Handle);
00356     }
00357 
00358     <span class="comment">//</span>
00359     <span class="comment">// If SUCEESS , returns a referenced pointer to the CallbackObject.</span>
00360     <span class="comment">//</span>
00361 
00362     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(Status)) {
00363         *CallbackObject = cbObject;
00364     }
00365 
00366     <span class="keywordflow">return</span> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
00367 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="ex/callback.c::ExNotifyCallback" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID ExNotifyCallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d9/d6/struct__CALLBACK__OBJECT.html">PCALLBACK_OBJECT</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>CallbackObject</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PVOID&nbsp;</td>
          <td class="mdname" nowrap> <em>Argument1</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PVOID&nbsp;</td>
          <td class="mdname" nowrap> <em>Argument2</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00563">563</a> of file <a class="el" href="../../d3/d3/ex_2callback_8c-source.html">ex/callback.c</a>.
<p>
References <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00084">_CALLBACK_REGISTRATION::Busy</a>, <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00083">_CALLBACK_REGISTRATION::CallbackContext</a>, <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00082">_CALLBACK_REGISTRATION::CallbackFunction</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00087">DISPATCH_LEVEL</a>, <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00049">ExpCallbackEvent</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d8/ke_8h-source.html#l02007">KeAcquireSpinLock</a>, <a class="el" href="../../d9/d5/verifier_8c.html#a119">KeReleaseSpinLock()</a>, <a class="el" href="../../d3/d7/eventobj_8c-source.html#l00343">KeSetEvent()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d2/d4/ex_2callback_8c.html#a8">PCALLBACK_REGISTRATION</a>, and <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00085">_CALLBACK_REGISTRATION::UnregisterWaiting</a>.
<p>
<pre class="fragment"><div>00571                    :
00572 
00573     This function notifies all registered callbacks .
00574 
00575 Arguments:
00576 
00577     CallbackObject - supplies a pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> callback object should be
00578             notified.
00579 
00580     SystemArgument1 - supplies a pointer will be passed to callback function.
00581 
00582     SystemArgument2 - supplies a pointer will be passed to callback function.
00583 
00584 Return Value:
00585 
00586     None.
00587 
00588 --*/
00589 
00590 {
00591     PLIST_ENTRY             Link;
00592     <a class="code" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html">PCALLBACK_REGISTRATION</a>  CallbackRegistration;
00593     KIRQL                   OldIrql;
00594 
00595     <span class="keywordflow">if</span> (CallbackObject == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00596         <span class="keywordflow">return</span> ;
00597     }
00598 
00599     <span class="comment">//</span>
00600     <span class="comment">// Synchronize with callback object</span>
00601     <span class="comment">//</span>
00602 
00603     <a class="code" href="../../d4/d9/ke_8h.html#a37">KeAcquireSpinLock</a> (&amp;CallbackObject-&gt;Lock, &amp;OldIrql);
00604 
00605     <span class="comment">//</span>
00606     <span class="comment">// call registered callbacks at callers IRQL level</span>
00607     <span class="comment">// ( done if FIFO order of registration )</span>
00608     <span class="comment">//</span>
00609 
00610     <span class="keywordflow">if</span> (OldIrql == <a class="code" href="../../d6/d7/halmips_8h.html#a53">DISPATCH_LEVEL</a>) {
00611 
00612         <span class="comment">//</span>
00613         <span class="comment">// OldIrql is DISPATCH_LEVEL, just invoke all callbacks without</span>
00614         <span class="comment">// releasing the lock</span>
00615         <span class="comment">//</span>
00616 
00617         <span class="keywordflow">for</span> (Link = CallbackObject-&gt;RegisteredCallbacks.Flink;
00618              Link != &amp;CallbackObject-&gt;RegisteredCallbacks;
00619              Link = Link-&gt;Flink) {
00620 
00621             <span class="comment">//</span>
00622             <span class="comment">// Get current registration to notify</span>
00623             <span class="comment">//</span>
00624 
00625             CallbackRegistration = CONTAINING_RECORD (Link,
00626                                                       <a class="code" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html">CALLBACK_REGISTRATION</a>,
00627                                                       Link);
00628 
00629             <span class="comment">//</span>
00630             <span class="comment">// Notify reigstration</span>
00631             <span class="comment">//</span>
00632 
00633             CallbackRegistration-&gt;<a class="code" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html#o2">CallbackFunction</a>(
00634                        CallbackRegistration-&gt;<a class="code" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html#o3">CallbackContext</a>,
00635                        Argument1,
00636                        Argument2
00637                        );
00638 
00639         }   <span class="comment">// next registration</span>
00640 
00641     } <span class="keywordflow">else</span> {
00642 
00643         <span class="comment">//</span>
00644         <span class="comment">// OldIrql is &lt; DISPATCH_LEVEL, the code being called may be pagable</span>
00645         <span class="comment">// and the callback object spinlock needs to be released around</span>
00646         <span class="comment">// each registration callback.</span>
00647         <span class="comment">//</span>
00648 
00649         <span class="keywordflow">for</span> (Link = CallbackObject-&gt;RegisteredCallbacks.Flink;
00650              Link != &amp;CallbackObject-&gt;RegisteredCallbacks;
00651              Link = Link-&gt;Flink ) {
00652 
00653             <span class="comment">//</span>
00654             <span class="comment">// Get current registration to notify</span>
00655             <span class="comment">//</span>
00656 
00657             CallbackRegistration = CONTAINING_RECORD (Link,
00658                                                       <a class="code" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html">CALLBACK_REGISTRATION</a>,
00659                                                       Link);
00660 
00661             <span class="comment">//</span>
00662             <span class="comment">// If registration is being removed, don't bothing calling it</span>
00663             <span class="comment">//</span>
00664 
00665             <span class="keywordflow">if</span> (!CallbackRegistration-&gt;<a class="code" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html#o5">UnregisterWaiting</a>) {
00666 
00667                 <span class="comment">//</span>
00668                 <span class="comment">// Set registration busy</span>
00669                 <span class="comment">//</span>
00670 
00671                 CallbackRegistration-&gt;<a class="code" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html#o4">Busy</a> += 1;
00672 
00673                 <span class="comment">//</span>
00674                 <span class="comment">// Release SpinLock and notify this callback</span>
00675                 <span class="comment">//</span>
00676 
00677                 <a class="code" href="../../d9/d5/verifier_8c.html#a119">KeReleaseSpinLock</a> (&amp;CallbackObject-&gt;Lock, OldIrql);
00678 
00679                 CallbackRegistration-&gt;<a class="code" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html#o2">CallbackFunction</a>(
00680                            CallbackRegistration-&gt;<a class="code" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html#o3">CallbackContext</a>,
00681                            Argument1,
00682                            Argument2
00683                            );
00684 
00685                 <span class="comment">//</span>
00686                 <span class="comment">// Synchronize with CallbackObject</span>
00687                 <span class="comment">//</span>
00688 
00689                 <a class="code" href="../../d4/d9/ke_8h.html#a37">KeAcquireSpinLock</a> (&amp;CallbackObject-&gt;Lock, &amp;OldIrql);
00690 
00691                 <span class="comment">//</span>
00692                 <span class="comment">// Remove our busy count</span>
00693                 <span class="comment">//</span>
00694 
00695                 CallbackRegistration-&gt;<a class="code" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html#o4">Busy</a> -= 1;
00696 
00697                 <span class="comment">//</span>
00698                 <span class="comment">// If the registriation removal is pending, kick global</span>
00699                 <span class="comment">// event let unregister conitnue</span>
00700                 <span class="comment">//</span>
00701 
00702                 <span class="keywordflow">if</span> (CallbackRegistration-&gt;<a class="code" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html#o5">UnregisterWaiting</a>  &amp;&amp;
00703                     CallbackRegistration-&gt;<a class="code" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html#o4">Busy</a> == 0) {
00704                     <a class="code" href="../../d2/d8/eventobj_8c.html#a8">KeSetEvent</a> (&amp;ExpCallbackEvent, 0, FALSE);
00705                 }
00706             }
00707         }
00708     }
00709 
00710 
00711     <span class="comment">//</span>
00712     <span class="comment">// Release callback</span>
00713     <span class="comment">//</span>
00714 
00715     <a class="code" href="../../d9/d5/verifier_8c.html#a119">KeReleaseSpinLock</a> (&amp;CallbackObject-&gt;Lock, OldIrql);
00716 }
}
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="ex/callback.c::ExpDeleteCallback" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID ExpDeleteCallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d9/d6/struct__CALLBACK__OBJECT.html">PCALLBACK_OBJECT</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>CallbackObject</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00370">370</a> of file <a class="el" href="../../d3/d3/ex_2callback_8c-source.html">ex/callback.c</a>.
<p>
References <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00146">ASSERT</a>.
<p>
Referenced by <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00101">ExpInitializeCallbacks()</a>.
<p>
<pre class="fragment"><div>00373 {
00374     <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a> (IsListEmpty(&amp;CallbackObject-&gt;RegisteredCallbacks));
00375 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="ex/callback.c::ExpInitializeCallbacks" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN ExpInitializeCallbacks           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00101">101</a> of file <a class="el" href="../../d3/d3/ex_2callback_8c-source.html">ex/callback.c</a>.
<p>
References <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00035">CALLBACK_ALL_ACCESS</a>, <a class="el" href="../../d5/d9/exp_8h-source.html#l00043">EXP_INITIALIZE_GLOBAL_CALLBACKS::CallBackObject</a>, <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00043">ExCallbackObjectType</a>, <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00222">ExCreateCallback()</a>, <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00049">ExpCallbackEvent</a>, <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00056">ExpCallbackMapping</a>, <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00370">ExpDeleteCallback()</a>, <a class="el" href="../../d5/d8/exdata_8c-source.html#l00070">ExpInitializeCallback</a>, <a class="el" href="../../d5/d8/exdata_8c-source.html#l00068">ExpWstrCallback</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d8/ke_8h-source.html#l01066">KeInitializeEvent</a>, <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>, <a class="el" href="../../d5/d8/ex_8h.html#a329a173">NonPagedPool</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d6/d9/obclose_8c-source.html#l00037">NtClose()</a>, <a class="el" href="../../d9/d9/obdir_8c-source.html#l00032">NtCreateDirectoryObject()</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d1/d1/obtype_8c-source.html#l00069">ObCreateObjectType()</a>, <a class="el" href="../../d4/d0/ob_8h.html#a29">OBJECT_TYPE_INITIALIZER</a>, <a class="el" href="../../d8/d9/ctlnpqos_8c-source.html#l00027">ObjectAttributes</a>, <a class="el" href="../../d3/d6/string_8c-source.html#l00148">RtlInitUnicodeString()</a>, <a class="el" href="../../d1/d4/se_8h-source.html#l01651">SePublicDefaultSd</a>, <a class="el" href="../../d3/d0/cttoken_8c-source.html#l00135">Status</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
<pre class="fragment"><div>00106                    :
00107 
00108     This function creates <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> callback object <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a> descriptor at system
00109     initialization and stores <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> address of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> object <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a> descriptor
00110     in local <span class="keyword">static</span> storage.
00111 
00112 Arguments:
00113 
00114     None.
00115 
00116 Return Value:
00117 
00118     <a class="code" href="../../d2/d1/bench_8h.html#a5">A</a> value of <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a> <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> returned <span class="keywordflow">if</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> timer object <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a> descriptor <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a>
00119     successfully initialized. Otherwise a value of <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a> <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> returned.
00120 
00121 --*/
00122 
00123 {
00124     <a class="code" href="../../d5/d6/struct__OBJECT__TYPE__INITIALIZER.html">OBJECT_TYPE_INITIALIZER</a> ObjectTypeInitializer;
00125     OBJECT_ATTRIBUTES <a class="code" href="../../d7/d0/ctlnpqos_8c.html#a4">ObjectAttributes</a>;
00126     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
00127     UNICODE_STRING unicodeString;
00128     ULONG           i;
00129     HANDLE          handle;
00130 
00131     <span class="comment">//</span>
00132     <span class="comment">// Initialize string descriptor.</span>
00133     <span class="comment">//</span>
00134 
00135     <a class="code" href="../../d2/d7/string_8c.html#a7">RtlInitUnicodeString</a>(&amp;unicodeString, L<span class="stringliteral">"Callback"</span>);
00136 
00137     <span class="comment">//</span>
00138     <span class="comment">// Create timer object type descriptor.</span>
00139     <span class="comment">//</span>
00140 
00141     RtlZeroMemory(&amp;ObjectTypeInitializer, <span class="keyword">sizeof</span>(ObjectTypeInitializer));
00142     ObjectTypeInitializer.<a class="code" href="../../d5/d6/struct__OBJECT__TYPE__INITIALIZER.html#o0">Length</a> = <span class="keyword">sizeof</span>(ObjectTypeInitializer);
00143     ObjectTypeInitializer.<a class="code" href="../../d5/d6/struct__OBJECT__TYPE__INITIALIZER.html#o3">InvalidAttributes</a> = OBJ_OPENLINK;
00144     ObjectTypeInitializer.<a class="code" href="../../d5/d6/struct__OBJECT__TYPE__INITIALIZER.html#o4">GenericMapping</a> = <a class="code" href="../../d2/d4/ex_2callback_8c.html#a4">ExpCallbackMapping</a>;
00145     ObjectTypeInitializer.<a class="code" href="../../d5/d6/struct__OBJECT__TYPE__INITIALIZER.html#o15">DeleteProcedure</a> = <a class="code" href="../../d2/d4/ex_2callback_8c.html#a9">ExpDeleteCallback</a>;
00146     ObjectTypeInitializer.<a class="code" href="../../d5/d6/struct__OBJECT__TYPE__INITIALIZER.html#o9">PoolType</a> = <a class="code" href="../../d5/d8/ex_8h.html#a329a173">NonPagedPool</a>;
00147     ObjectTypeInitializer.<a class="code" href="../../d5/d6/struct__OBJECT__TYPE__INITIALIZER.html#o5">ValidAccessMask</a> = <a class="code" href="../../d2/d4/ex_2callback_8c.html#a1">CALLBACK_ALL_ACCESS</a>;
00148     <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d0/d2/obtype_8c.html#a2">ObCreateObjectType</a>(&amp;unicodeString,
00149                                 &amp;ObjectTypeInitializer,
00150                                 (PSECURITY_DESCRIPTOR)NULL,
00151                                 &amp;ExCallbackObjectType);
00152 
00153     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(Status)) {
00154         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00155     }
00156 
00157     <a class="code" href="../../d2/d7/string_8c.html#a7">RtlInitUnicodeString</a>( &amp;unicodeString, ExpWstrCallback );
00158     InitializeObjectAttributes(
00159         &amp;ObjectAttributes,
00160         &amp;unicodeString,
00161         OBJ_CASE_INSENSITIVE | OBJ_PERMANENT,
00162         NULL,
00163         SePublicDefaultSd
00164         );
00165 
00166     <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d8/d0/obdir_8c.html#a0">NtCreateDirectoryObject</a>(
00167                 &amp;handle,
00168                 DIRECTORY_ALL_ACCESS,
00169                 &amp;ObjectAttributes
00170             );
00171 
00172     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(Status)) {
00173         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00174     }
00175 
00176     <a class="code" href="../../d5/d0/obclose_8c.html#a1">NtClose</a> (handle);
00177 
00178     <span class="comment">//</span>
00179     <span class="comment">// Initialize event to wait on for Unregisters which occur while</span>
00180     <span class="comment">// notifications are in progress</span>
00181     <span class="comment">//</span>
00182 
00183     <a class="code" href="../../d4/d9/ke_8h.html#a20">KeInitializeEvent</a> (&amp;ExpCallbackEvent, NotificationEvent, 0);
00184 
00185     <span class="comment">//</span>
00186     <span class="comment">// Initialize NT global callbacks</span>
00187     <span class="comment">//</span>
00188 
00189     <span class="keywordflow">for</span> (i=0; <a class="code" href="../../d4/d9/exdata_8c.html#a4">ExpInitializeCallback</a>[i].<a class="code" href="../../d1/d9/structEXP__INITIALIZE__GLOBAL__CALLBACKS.html#o0">CallBackObject</a>; i++) {
00190 
00191         <span class="comment">//</span>
00192         <span class="comment">// Create named calledback</span>
00193         <span class="comment">//</span>
00194 
00195         <a class="code" href="../../d2/d7/string_8c.html#a7">RtlInitUnicodeString</a>(&amp;unicodeString, ExpInitializeCallback[i].CallbackName);
00196 
00197 
00198         InitializeObjectAttributes(
00199             &amp;ObjectAttributes,
00200             &amp;unicodeString,
00201             OBJ_PERMANENT | OBJ_CASE_INSENSITIVE,
00202             NULL,
00203             NULL
00204         );
00205 
00206         <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a> = <a class="code" href="../../d5/d8/ex_8h.html#a320">ExCreateCallback</a> (
00207                         ExpInitializeCallback[i].CallBackObject,
00208                         &amp;ObjectAttributes,
00209                         TRUE,
00210                         TRUE
00211                         );
00212 
00213         <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(Status)) {
00214             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00215         }
00216     }
00217 
00218     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00219 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="ex/callback.c::ExRegisterCallback" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PVOID ExRegisterCallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d9/d6/struct__CALLBACK__OBJECT.html">PCALLBACK_OBJECT</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>CallbackObject</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d5/d8/ex_8h.html#a157">PCALLBACK_FUNCTION</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>CallbackFunction</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PVOID&nbsp;</td>
          <td class="mdname" nowrap> <em>CallbackContext</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00378">378</a> of file <a class="el" href="../../d3/d3/ex_2callback_8c-source.html">ex/callback.c</a>.
<p>
References <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00146">ASSERT</a>, <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00084">_CALLBACK_REGISTRATION::Busy</a>, <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00083">_CALLBACK_REGISTRATION::CallbackContext</a>, <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00082">_CALLBACK_REGISTRATION::CallbackFunction</a>, <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00081">_CALLBACK_REGISTRATION::CallbackObject</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00087">DISPATCH_LEVEL</a>, <a class="el" href="../../d6/d7/ex_8h-source.html#l00253">ExAllocatePoolWithTag</a>, <a class="el" href="../../d7/d2/cmwraper_8c-source.html#l00304">ExFreePool()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d8/ke_8h-source.html#l02007">KeAcquireSpinLock</a>, <a class="el" href="../../d9/d5/verifier_8c.html#a119">KeReleaseSpinLock()</a>, <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00080">_CALLBACK_REGISTRATION::Link</a>, <a class="el" href="../../d5/d8/ex_8h.html#a329a173">NonPagedPool</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d5/d9/ob_8h-source.html#l00494">ObDereferenceObject</a>, <a class="el" href="../../d5/d9/ob_8h-source.html#l00514">ObReferenceObject</a>, <a class="el" href="../../d6/d7/ex_8h-source.html#l03264">PCALLBACK_FUNCTION</a>, <a class="el" href="../../d2/d4/ex_2callback_8c.html#a8">PCALLBACK_REGISTRATION</a>, <a class="el" href="../../d3/d0/cttoken_8c-source.html#l00135">Status</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00085">_CALLBACK_REGISTRATION::UnregisterWaiting</a>.
<p>
<pre class="fragment"><div>00386                    :
00387 
00388     This routine allows a caller to <span class="keyword">register</span> that <a class="code" href="../../d1/d9/icmui_8def.html#a4">it</a> would like to have its
00389     callback Function invoked when <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> callback notification call occurs.
00390 
00391 Arguments:
00392 
00393     CallbackObject - Supplies a pointer to a CallbackObject.
00394 
00395     CallbackFunction - Supplies a pointer to a function which <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> to
00396         be executed when <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> Callback notification occures.
00397 
00398     CallbackContext - Supplies a pointer to an arbitrary data structure
00399         that will be passed to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> function specified by <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> CallbackFunction
00400         parameter.
00401 
00402 Return Value:
00403 
00404     Returns handle to callback registration.
00405 
00406 --*/
00407 {
00408     <a class="code" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html">PCALLBACK_REGISTRATION</a>  CallbackRegistration;
00409     BOOLEAN                 Inserted;
00410     KIRQL                   OldIrql;
00411     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>                <a class="code" href="../../d1/d0/cmchek_8c.html#a4">Status</a>;
00412 
00413     <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a> (CallbackFunction);
00414     <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a> (KeGetCurrentIrql() &lt; DISPATCH_LEVEL);
00415 
00416     <span class="comment">//</span>
00417     <span class="comment">// Add reference to object</span>
00418     <span class="comment">//</span>
00419 
00420     <a class="code" href="../../d4/d0/ob_8h.html#a15">ObReferenceObject</a> (CallbackObject);
00421 
00422     <span class="comment">//</span>
00423     <span class="comment">// Begin by attempting to allocate storage for the CallbackRegistration.</span>
00424     <span class="comment">// one cannot be allocated, return the error status.</span>
00425     <span class="comment">//</span>
00426 
00427     CallbackRegistration = <a class="code" href="../../d5/d8/ex_8h.html#a4">ExAllocatePoolWithTag</a>(
00428                                 NonPagedPool,
00429                                 <span class="keyword">sizeof</span>( <a class="code" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html">CALLBACK_REGISTRATION</a> ),
00430                                 'eRBC'
00431                                 );
00432 
00433 
00434     <span class="keywordflow">if</span>( !CallbackRegistration ) {
00435        <a class="code" href="../../d4/d0/ob_8h.html#a14">ObDereferenceObject</a> (CallbackObject);
00436        <span class="keywordflow">return</span> <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00437     }
00438 
00439 
00440     <span class="comment">//</span>
00441     <span class="comment">// Initialize the callback packet</span>
00442     <span class="comment">//</span>
00443 
00444     CallbackRegistration-&gt;<a class="code" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html#o1">CallbackObject</a>    = CallbackObject;
00445     CallbackRegistration-&gt;<a class="code" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html#o2">CallbackFunction</a>  = CallbackFunction;
00446     CallbackRegistration-&gt;<a class="code" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html#o3">CallbackContext</a>   = CallbackContext;
00447     CallbackRegistration-&gt;<a class="code" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html#o4">Busy</a>              = 0;
00448     CallbackRegistration-&gt;<a class="code" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html#o5">UnregisterWaiting</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00449 
00450 
00451     Inserted = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00452     <a class="code" href="../../d4/d9/ke_8h.html#a37">KeAcquireSpinLock</a> (&amp;CallbackObject-&gt;Lock, &amp;OldIrql);
00453 
00454     <span class="keywordflow">if</span>( CallbackObject-&gt;AllowMultipleCallbacks ||
00455         IsListEmpty( &amp;CallbackObject-&gt;RegisteredCallbacks ) ) {
00456 
00457        <span class="comment">//</span>
00458        <span class="comment">// add CallbackRegistration to tail</span>
00459        <span class="comment">//</span>
00460 
00461 
00462        Inserted = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00463        InsertTailList( &amp;CallbackObject-&gt;RegisteredCallbacks,
00464                        &amp;CallbackRegistration-&gt;<a class="code" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html#o0">Link</a> )
00465     }
00466 
00467     <a class="code" href="../../d9/d5/verifier_8c.html#a119">KeReleaseSpinLock</a> (&amp;CallbackObject-&gt;Lock, OldIrql);
00468 
00469     <span class="keywordflow">if</span> (!Inserted) {
00470        <a class="code" href="../../d5/d8/ex_8h.html#a224">ExFreePool</a> (CallbackRegistration);
00471        CallbackRegistration = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00472     }
00473 
00474     <span class="keywordflow">return</span> (PVOID) CallbackRegistration;
00475 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="ex/callback.c::ExUnregisterCallback" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID ExUnregisterCallback           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PVOID&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>CbRegistration</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00479">479</a> of file <a class="el" href="../../d3/d3/ex_2callback_8c-source.html">ex/callback.c</a>.
<p>
References <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00146">ASSERT</a>, <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00084">_CALLBACK_REGISTRATION::Busy</a>, <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00081">_CALLBACK_REGISTRATION::CallbackObject</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00087">DISPATCH_LEVEL</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00623">Executive</a>, <a class="el" href="../../d7/d2/cmwraper_8c-source.html#l00304">ExFreePool()</a>, <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00049">ExpCallbackEvent</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d8/ke_8h-source.html#l02007">KeAcquireSpinLock</a>, <a class="el" href="../../d5/d8/ke_8h-source.html#l01072">KeClearEvent</a>, <a class="el" href="../../d9/d5/verifier_8c.html#a119">KeReleaseSpinLock()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00624">KernelMode</a>, <a class="el" href="../../d2/d6/wait_8c-source.html#l00810">KeWaitForSingleObject()</a>, <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00080">_CALLBACK_REGISTRATION::Link</a>, <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00069">_CALLBACK_OBJECT::Lock</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d5/d9/ob_8h-source.html#l00494">ObDereferenceObject</a>, <a class="el" href="../../d2/d4/ex_2callback_8c.html#a6">PCALLBACK_OBJECT</a>, <a class="el" href="../../d2/d4/ex_2callback_8c.html#a8">PCALLBACK_REGISTRATION</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00085">_CALLBACK_REGISTRATION::UnregisterWaiting</a>.
<p>
<pre class="fragment"><div>00485                    :
00486 
00487     This function removes <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> callback registration <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> callbacks
00488     from <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> list of callback object .
00489 
00490 Arguments:
00491 
00492     CallbackRegistration - Pointer to device object <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a9">file</a> system.
00493 
00494 Return Value:
00495 
00496     None.
00497 
00498 --*/
00499 
00500 {
00501     <a class="code" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html">PCALLBACK_REGISTRATION</a>  CallbackRegistration;
00502     <a class="code" href="../../d9/d6/struct__CALLBACK__OBJECT.html">PCALLBACK_OBJECT</a>        CallbackObject;
00503     KIRQL                   OldIrql;
00504 
00505     <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a> (KeGetCurrentIrql() &lt; DISPATCH_LEVEL);
00506 
00507     CallbackRegistration = (<a class="code" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html">PCALLBACK_REGISTRATION</a>) CbRegistration;
00508     CallbackObject = CallbackRegistration-&gt;<a class="code" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html#o1">CallbackObject</a>;
00509 
00510     <a class="code" href="../../d4/d9/ke_8h.html#a37">KeAcquireSpinLock</a> (&amp;CallbackObject-&gt;<a class="code" href="../../d9/d6/struct__CALLBACK__OBJECT.html#o1">Lock</a>, &amp;OldIrql);
00511 
00512     <span class="comment">//</span>
00513     <span class="comment">// Wait for registration</span>
00514     <span class="comment">//</span>
00515 
00516     <span class="keywordflow">while</span> (CallbackRegistration-&gt;<a class="code" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html#o4">Busy</a>) {
00517 
00518         <span class="comment">//</span>
00519         <span class="comment">// Set waiting flag, then wait.  (not performance critical - use</span>
00520         <span class="comment">// single global event to wait for any and all unregister waits)</span>
00521         <span class="comment">//</span>
00522 
00523         CallbackRegistration-&gt;<a class="code" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html#o5">UnregisterWaiting</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00524         <a class="code" href="../../d4/d9/ke_8h.html#a21">KeClearEvent</a> (&amp;ExpCallbackEvent);
00525         <a class="code" href="../../d9/d5/verifier_8c.html#a119">KeReleaseSpinLock</a> (&amp;CallbackObject-&gt;<a class="code" href="../../d9/d6/struct__CALLBACK__OBJECT.html#o1">Lock</a>, OldIrql);
00526 
00527         <a class="code" href="../../d1/d7/wait_8c.html#a4">KeWaitForSingleObject</a> (
00528             &amp;ExpCallbackEvent,
00529             Executive,
00530             KernelMode,
00531             FALSE,
00532             NULL
00533         );
00534 
00535         <span class="comment">//</span>
00536         <span class="comment">// Synchronize with callback object and recheck registration busy</span>
00537         <span class="comment">//</span>
00538 
00539         <a class="code" href="../../d4/d9/ke_8h.html#a37">KeAcquireSpinLock</a> (&amp;CallbackObject-&gt;<a class="code" href="../../d9/d6/struct__CALLBACK__OBJECT.html#o1">Lock</a>, &amp;OldIrql);
00540     }
00541 
00542     <span class="comment">//</span>
00543     <span class="comment">// Registration not busy, remove it from the callback object</span>
00544     <span class="comment">//</span>
00545 
00546     RemoveEntryList (&amp;CallbackRegistration-&gt;<a class="code" href="../../d0/d7/struct__CALLBACK__REGISTRATION.html#o0">Link</a>);
00547     <a class="code" href="../../d9/d5/verifier_8c.html#a119">KeReleaseSpinLock</a> (&amp;CallbackObject-&gt;<a class="code" href="../../d9/d6/struct__CALLBACK__OBJECT.html#o1">Lock</a>, OldIrql);
00548 
00549     <span class="comment">//</span>
00550     <span class="comment">// Free memory used for CallbackRegistration</span>
00551     <span class="comment">//</span>
00552 
00553     <a class="code" href="../../d5/d8/ex_8h.html#a224">ExFreePool</a> (CallbackRegistration);
00554 
00555     <span class="comment">//</span>
00556     <span class="comment">// Remove reference count on CallbackObject</span>
00557     <span class="comment">//</span>
00558 
00559     <a class="code" href="../../d4/d0/ob_8h.html#a14">ObDereferenceObject</a> (CallbackObject);
00560 }

</div></pre>    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a2" doxytag="ex/callback.c::ExCallbackObjectType" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/struct__OBJECT__TYPE.html">POBJECT_TYPE</a> <a class="el" href="../../d2/d4/ex_2callback_8c.html#a2">ExCallbackObjectType</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00043">43</a> of file <a class="el" href="../../d3/d3/ex_2callback_8c-source.html">ex/callback.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00222">ExCreateCallback()</a>, and <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00101">ExpInitializeCallbacks()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="ex/callback.c::ExpCallbackEvent" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d2/d6/struct__KEVENT.html">KEVENT</a> <a class="el" href="../../d2/d4/ex_2callback_8c.html#a3">ExpCallbackEvent</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00049">49</a> of file <a class="el" href="../../d3/d3/ex_2callback_8c-source.html">ex/callback.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00563">ExNotifyCallback()</a>, <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00101">ExpInitializeCallbacks()</a>, and <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00479">ExUnregisterCallback()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="ex/callback.c::ExpCallbackMapping" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> GENERIC_MAPPING <a class="el" href="../../d2/d4/ex_2callback_8c.html#a4">ExpCallbackMapping</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div> {
    STANDARD_RIGHTS_READ ,
    STANDARD_RIGHTS_WRITE | <a class="code" href="../../d2/d4/ex_2callback_8c.html#a0">CALLBACK_MODIFY_STATE</a>,
    STANDARD_RIGHTS_EXECUTE | SYNCHRONIZE,
    <a class="code" href="../../d2/d4/ex_2callback_8c.html#a1">CALLBACK_ALL_ACCESS</a>
}
</div></pre>
<p>
Definition at line <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00056">56</a> of file <a class="el" href="../../d3/d3/ex_2callback_8c-source.html">ex/callback.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d3/ex_2callback_8c-source.html#l00101">ExpInitializeCallbacks()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:43:02 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
