<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: w98/lh_core/runtime.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>runtime.c File Reference</h1><code>#include "General.h"</code><br>
<code>#include "CalcEng.h"</code><br>
<code>#include "CalcEng1.h"</code><br>
<code>#include "CalcNDim.h"</code><br>
<code>#include "Runtime.h"</code><br>
<code>#include &lt;string.h&gt;</code><br>

<p>
<a href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a></td></tr>

<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a0">kProgressTicks</a>&nbsp;&nbsp;&nbsp;30			/* .5secs -&gt; min. time between calls of progressproc */</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a1">kMaxTempBlock</a>&nbsp;&nbsp;&nbsp;300 * 1024	/* allow max. 300 kByte temp buffer */</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a2">NewCalcProc</a>(userRoutine)&nbsp;&nbsp;&nbsp;((<a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a9">CalcProcUPP</a>) (userRoutine))</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a3">NewCalcProc1Dim</a>(userRoutine)&nbsp;&nbsp;&nbsp;((<a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a11">CalcProc1DimUPP</a>) (userRoutine))</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a4">CallCalcProc</a>(userRoutine, calcParamPtr, lutParamPtr)&nbsp;&nbsp;&nbsp;(*(userRoutine))( (calcParamPtr), (lutParamPtr) )</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a5">Byte_Factor</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a6">POS</a>(x)&nbsp;&nbsp;&nbsp;((x) &gt; (0) ? (<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a>)(x) : (<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a>)(-(x)))</td></tr>

<tr><td colspan=2><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a7">ColorSpaceInfo</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>(*&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a8">CalcProcPtr</a> )(<a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParamPtr, <a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a> lutParamPtr)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a8">CalcProcPtr</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a9">CalcProcUPP</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>(*&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a10">CalcProc1DimPtr</a> )(<a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParamPtr, <a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a> lutParamPtr, char OutDim)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a10">CalcProc1DimPtr</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a11">CalcProc1DimUPP</a></td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a35">OSErr</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a12">Convert5To8</a> (<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a> dataPtr5, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a> dataPtr8, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> startLine, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> height, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> width, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> rowBytes5)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a35">OSErr</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a13">Convert8To5</a> (<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a> dataPtr8, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a> dataPtr5, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> startLine, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> height, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> width, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> rowBytes5)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a35">OSErr</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a14">Convert8To1</a> (<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a> dataPtr8, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a> dataPtr5, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> startLine, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> height, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> width, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> rowBytes5)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a35">OSErr</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a15">Convert16To10</a> (<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a> dataPtr16, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a> dataPtr10, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> startLine, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> height, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> width, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> rowBytes10)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a35">OSErr</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a16">Convert10To16</a> (<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a> dataPtr10, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a> dataPtr16, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> startLine, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> height, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> width, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> rowBytes10)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a17">FillLutParam</a> (<a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a> lutParam, <a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a> modelingData)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a18">FillLutParamChk</a> (<a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a> lutParam, <a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a> modelingData)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a19">FillCalcParam</a> (<a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam, const <a class="el" href="../../d6/d3/structCMBitmap.html">CMBitmap</a> *bitMap, const <a class="el" href="../../d6/d3/structCMBitmap.html">CMBitmap</a> *matchedBitMap)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a20">FillCalcParamCM</a> (<a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam, <a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a> lutParam, <a class="el" href="../../d8/d3/unionCMColor.html">CMColor</a> *myColors, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> count)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a21">CheckInputColorSpace</a> (const <a class="el" href="../../d6/d3/structCMBitmap.html">CMBitmap</a> *bitMap, <a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam, <a class="el" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a> *info, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a34">OSType</a> inColorSpace, long colorLutInDim)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a22">CheckOutputColorSpace</a> (const <a class="el" href="../../d6/d3/structCMBitmap.html">CMBitmap</a> *bitMap, <a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam, <a class="el" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a> *info, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a34">OSType</a> outColorSpace, long colorLutOutDim)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a23">SetOutputColorSpaceInplace</a> (<a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam, <a class="el" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a> *info, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a34">OSType</a> outColorSpace)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a24">CheckOutputColorSpaceChk</a> (const <a class="el" href="../../d6/d3/structCMBitmap.html">CMBitmap</a> *bitMap, <a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam, <a class="el" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a> *info)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a25">AllocBufferCheckCM</a> (<a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam, <a class="el" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a> *info)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a8">CalcProcPtr</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a26">FindLookupRoutine</a> (const <a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParam</a> *lutParam, const <a class="el" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a> *info)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a8">CalcProcPtr</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a27">FindCalcRoutine</a> (const <a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParam</a> *calcParam, const <a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParam</a> *lutParam, const <a class="el" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a> *info, const <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a21">Boolean</a> lookupOnly)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a28">Do8To555Setup</a> (<a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam, <a class="el" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a> *info, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> *theLinesAtOnce, long reverseOrder)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a29">Do555To8Setup</a> (<a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParam, <a class="el" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a> *info, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> *theLinesAtOnce, long reverseOrder)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a30">LHMatchColorsPrivate</a> (<a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a> modelingData, <a class="el" href="../../d8/d3/unionCMColor.html">CMColor</a> *myColors, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> count)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a31">LHCheckColorsPrivateMS</a> (<a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a> modelingData, <a class="el" href="../../d8/d3/unionCMColor.html">CMColor</a> *myColors, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> count, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a6">UINT8</a> *result)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a32">LHCheckColorsPrivate</a> (<a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a> modelingData, <a class="el" href="../../d8/d3/unionCMColor.html">CMColor</a> *myColors, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> count, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a6">UINT8</a> *result)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a33">CopyIndexData</a> (<a class="el" href="../../d6/d3/structCMBitmap.html">CMBitmap</a> *bitMapIn, <a class="el" href="../../d6/d3/structCMBitmap.html">CMBitmap</a> *bitMapOut, <a class="el" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a> *info)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a34">LHMatchBitMapPrivate</a> (<a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a> modelingData, const <a class="el" href="../../d6/d3/structCMBitmap.html">CMBitmap</a> *inBitMap, <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a27">CMBitmapCallBackUPP</a> progressProc, void *refCon, <a class="el" href="../../d6/d3/structCMBitmap.html">CMBitmap</a> *outBitMap)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a35">LHCheckBitMapPrivate</a> (<a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a> modelingData, const <a class="el" href="../../d6/d3/structCMBitmap.html">CMBitmap</a> *inBitMap, <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a27">CMBitmapCallBackUPP</a> progressProc, void *refCon, <a class="el" href="../../d6/d3/structCMBitmap.html">CMBitmap</a> *outBitMap)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a36">LHMatchBitMapPlanePrivate</a> (<a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a> modelingData, const <a class="el" href="../../d2/d8/structLH__CMBitmapPlane.html">LH_CMBitmapPlane</a> *bitMapLH, <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a27">CMBitmapCallBackUPP</a> progressProc, void *refCon, <a class="el" href="../../d2/d8/structLH__CMBitmapPlane.html">LH_CMBitmapPlane</a> *matchedBitMapLH)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a35">OSErr</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a37">ConvertNamedIndexToColors</a> (<a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a> modelingData, <a class="el" href="../../d8/d3/unionCMColor.html">CMColor</a> *theData, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> pixCnt)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a35">OSErr</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a38">ConvertNamedIndexToPCS</a> (<a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a> cw, <a class="el" href="../../d8/d3/unionCMColor.html">CMColor</a> *theData, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> pixCnt)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a35">OSErr</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a39">ConvertPCSToNamedIndex</a> (<a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a> modelingData, <a class="el" href="../../d8/d3/unionCMColor.html">CMColor</a> *theData, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> pixCnt)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a40">CMConvertNamedIndexToColors</a> (<a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a28">CMWorldRef</a> cw, <a class="el" href="../../d8/d3/unionCMColor.html">CMColor</a> *theData, unsigned long pixCnt)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a41">CMConvertNamedIndexToPCS</a> (<a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a28">CMWorldRef</a> cw, <a class="el" href="../../d8/d3/unionCMColor.html">CMColor</a> *theData, unsigned long pixCnt)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a42">ConvertLabToIndexBitmap</a> (<a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a> modelingData, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a> InBuffer, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> processedLinesIn, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> inLineCount, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> width, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> rowBytes)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a43">ConvertIndexToLabBitmap</a> (<a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a> modelingData, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a> InBuffer, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a> OutBuffer, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> processedLinesIn, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> lineCount, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> inWidth, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> inRowBytes, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> outRowBytes, <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a> outputSize)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a44">CMConvNameToIndex</a> (<a class="el" href="../../d4/d3/structicNamedColor2Type.html">icNamedColor2Type</a> *Data, <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a22">pcCMColorName</a> Ptr2Name, unsigned long *Arr2Indices, unsigned long count)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a45">CMConvNameToIndexCW</a> (<a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a28">CMWorldRef</a> *Storage, <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a22">pcCMColorName</a> Ptr2Name, unsigned long *Arr2Indices, unsigned long count)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a46">CMConvNameToIndexProfile</a> (<a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a13">CMProfileRef</a> aProf, <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a22">pcCMColorName</a> Ptr2Name, unsigned long *Arr2Indices, unsigned long count)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a47">CMConvIndexToName</a> (<a class="el" href="../../d4/d3/structicNamedColor2Type.html">icNamedColor2Type</a> *Data, unsigned long *Arr2Indices, <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a21">pCMColorName</a> Ptr2Name, unsigned long count)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a48">CMConvIndexToNameCW</a> (<a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a28">CMWorldRef</a> *Storage, unsigned long *Arr2Indices, <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a21">pCMColorName</a> Ptr2Name, unsigned long count)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a49">CMConvIndexToNameProfile</a> (<a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a13">CMProfileRef</a> aProf, unsigned long *Arr2Indices, <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a21">pCMColorName</a> Ptr2Name, unsigned long count)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a50">CMGetNamedProfileInfoProfile</a> (<a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a13">CMProfileRef</a> aProf, <a class="el" href="../../d9/d0/structtagCMNamedProfileInfo.html">pCMNamedProfileInfo</a> Info)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a51">CMGetNamedProfileInfoCW</a> (<a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a28">CMWorldRef</a> *Storage, <a class="el" href="../../d9/d0/structtagCMNamedProfileInfo.html">pCMNamedProfileInfo</a> Info)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a5" doxytag="w98/lh_core/runtime.c::Byte_Factor" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define Byte_Factor&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00625">625</a> of file <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html">w98/lh_core/runtime.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="w98/lh_core/runtime.c::CallCalcProc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define CallCalcProc          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">userRoutine,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>calcParamPtr,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>lutParamPtr&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(*(userRoutine))( (calcParamPtr), (lutParamPtr) )</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00078">78</a> of file <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html">w98/lh_core/runtime.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="w98/lh_core/runtime.c::kMaxTempBlock" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define kMaxTempBlock&nbsp;&nbsp;&nbsp;300 * 1024	/* allow max. 300 kByte temp buffer */          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00063">63</a> of file <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html">w98/lh_core/runtime.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="w98/lh_core/runtime.c::kProgressTicks" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define kProgressTicks&nbsp;&nbsp;&nbsp;30			/* .5secs -&gt; min. time between calls of progressproc */          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00062">62</a> of file <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html">w98/lh_core/runtime.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="w98/lh_core/runtime.c::NewCalcProc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define NewCalcProc          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">userRoutine&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;((<a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a9">CalcProcUPP</a>) (userRoutine))</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00074">74</a> of file <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html">w98/lh_core/runtime.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="w98/lh_core/runtime.c::NewCalcProc1Dim" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define NewCalcProc1Dim          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">userRoutine&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;((<a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a11">CalcProc1DimUPP</a>) (userRoutine))</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00076">76</a> of file <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html">w98/lh_core/runtime.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="w98/lh_core/runtime.c::POS" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define POS          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">x&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;((x) &gt; (0) ? (<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a>)(x) : (<a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a>)(-(x)))</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l04762">4762</a> of file <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html">w98/lh_core/runtime.c</a>.    </td>
  </tr>
</table>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="a10" doxytag="w98/lh_core/runtime.c::CalcProc1DimPtr" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>(* <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a10">CalcProc1DimPtr</a>)(<a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParamPtr, <a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a> lutParamPtr, char OutDim)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00070">70</a> of file <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html">w98/lh_core/runtime.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="w98/lh_core/runtime.c::CalcProc1DimUPP" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a10">CalcProc1DimPtr</a> <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a11">CalcProc1DimUPP</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00073">73</a> of file <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html">w98/lh_core/runtime.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="w98/lh_core/runtime.c::CalcProcPtr" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a>(* <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a8">CalcProcPtr</a>)(<a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a> calcParamPtr, <a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a> lutParamPtr)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00066">66</a> of file <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html">w98/lh_core/runtime.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="w98/lh_core/runtime.c::CalcProcUPP" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a8">CalcProcPtr</a> <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a9">CalcProcUPP</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00069">69</a> of file <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html">w98/lh_core/runtime.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="w98/lh_core/runtime.c::ColorSpaceInfo" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a>  <a class="el" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a25" doxytag="w98/lh_core/runtime.c::AllocBufferCheckCM" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> AllocBufferCheckCM           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>calcParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>info</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l03871">LHCheckColorsPrivate()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a21" doxytag="w98/lh_core/runtime.c::CheckInputColorSpace" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> CheckInputColorSpace           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="../../d6/d3/structCMBitmap.html">CMBitmap</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>bitMap</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>calcParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a34">OSType</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>inColorSpace</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap> <em>colorLutInDim</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l04255">LHCheckBitMapPrivate()</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l04466">LHMatchBitMapPlanePrivate()</a>, and <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l03995">LHMatchBitMapPrivate()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a22" doxytag="w98/lh_core/runtime.c::CheckOutputColorSpace" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> CheckOutputColorSpace           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="../../d6/d3/structCMBitmap.html">CMBitmap</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>bitMap</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>calcParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a34">OSType</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>outColorSpace</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap> <em>colorLutOutDim</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l04466">LHMatchBitMapPlanePrivate()</a>, and <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l03995">LHMatchBitMapPrivate()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a24" doxytag="w98/lh_core/runtime.c::CheckOutputColorSpaceChk" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> CheckOutputColorSpaceChk           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="../../d6/d3/structCMBitmap.html">CMBitmap</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>bitMap</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>calcParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>info</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l04255">LHCheckBitMapPrivate()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a40" doxytag="w98/lh_core/runtime.c::CMConvertNamedIndexToColors" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> CMConvertNamedIndexToColors           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a28">CMWorldRef</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>cw</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d8/d3/unionCMColor.html">CMColor</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>theData</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>unsigned long&nbsp;</td>
          <td class="mdname" nowrap> <em>pixCnt</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a41" doxytag="w98/lh_core/runtime.c::CMConvertNamedIndexToPCS" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> CMConvertNamedIndexToPCS           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a28">CMWorldRef</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>cw</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d8/d3/unionCMColor.html">CMColor</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>theData</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>unsigned long&nbsp;</td>
          <td class="mdname" nowrap> <em>pixCnt</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a47" doxytag="w98/lh_core/runtime.c::CMConvIndexToName" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> CMConvIndexToName           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d4/d3/structicNamedColor2Type.html">icNamedColor2Type</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Data</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>unsigned long *&nbsp;</td>
          <td class="mdname" nowrap> <em>Arr2Indices</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a21">pCMColorName</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Ptr2Name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>unsigned long&nbsp;</td>
          <td class="mdname" nowrap> <em>count</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l05218">CMConvIndexToNameCW()</a>, and <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l05252">CMConvIndexToNameProfile()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a48" doxytag="w98/lh_core/runtime.c::CMConvIndexToNameCW" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> CMConvIndexToNameCW           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a28">CMWorldRef</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Storage</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>unsigned long *&nbsp;</td>
          <td class="mdname" nowrap> <em>Arr2Indices</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a21">pCMColorName</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Ptr2Name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>unsigned long&nbsp;</td>
          <td class="mdname" nowrap> <em>count</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a49" doxytag="w98/lh_core/runtime.c::CMConvIndexToNameProfile" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> CMConvIndexToNameProfile           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a13">CMProfileRef</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>aProf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>unsigned long *&nbsp;</td>
          <td class="mdname" nowrap> <em>Arr2Indices</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a21">pCMColorName</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Ptr2Name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>unsigned long&nbsp;</td>
          <td class="mdname" nowrap> <em>count</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a44" doxytag="w98/lh_core/runtime.c::CMConvNameToIndex" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> CMConvNameToIndex           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d4/d3/structicNamedColor2Type.html">icNamedColor2Type</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Data</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a22">pcCMColorName</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Ptr2Name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>unsigned long *&nbsp;</td>
          <td class="mdname" nowrap> <em>Arr2Indices</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>unsigned long&nbsp;</td>
          <td class="mdname" nowrap> <em>count</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l05091">CMConvNameToIndexCW()</a>, and <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l05125">CMConvNameToIndexProfile()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a45" doxytag="w98/lh_core/runtime.c::CMConvNameToIndexCW" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> CMConvNameToIndexCW           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a28">CMWorldRef</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Storage</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a22">pcCMColorName</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Ptr2Name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>unsigned long *&nbsp;</td>
          <td class="mdname" nowrap> <em>Arr2Indices</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>unsigned long&nbsp;</td>
          <td class="mdname" nowrap> <em>count</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a46" doxytag="w98/lh_core/runtime.c::CMConvNameToIndexProfile" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> CMConvNameToIndexProfile           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a13">CMProfileRef</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>aProf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a22">pcCMColorName</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Ptr2Name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>unsigned long *&nbsp;</td>
          <td class="mdname" nowrap> <em>Arr2Indices</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>unsigned long&nbsp;</td>
          <td class="mdname" nowrap> <em>count</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a51" doxytag="w98/lh_core/runtime.c::CMGetNamedProfileInfoCW" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> CMGetNamedProfileInfoCW           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a28">CMWorldRef</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Storage</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d0/structtagCMNamedProfileInfo.html">pCMNamedProfileInfo</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Info</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a50" doxytag="w98/lh_core/runtime.c::CMGetNamedProfileInfoProfile" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> CMGetNamedProfileInfoProfile           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a13">CMProfileRef</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>aProf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d0/structtagCMNamedProfileInfo.html">pCMNamedProfileInfo</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Info</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="w98/lh_core/runtime.c::Convert10To16" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a35">OSErr</a> Convert10To16           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dataPtr10</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dataPtr16</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>startLine</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>height</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>rowBytes10</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l04255">LHCheckBitMapPrivate()</a>, and <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l03995">LHMatchBitMapPrivate()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="w98/lh_core/runtime.c::Convert16To10" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a35">OSErr</a> Convert16To10           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dataPtr16</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dataPtr10</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>startLine</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>height</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>rowBytes10</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l03995">LHMatchBitMapPrivate()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="w98/lh_core/runtime.c::Convert5To8" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a35">OSErr</a> Convert5To8           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dataPtr5</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dataPtr8</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>startLine</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>height</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>rowBytes5</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l04255">LHCheckBitMapPrivate()</a>, and <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l03995">LHMatchBitMapPrivate()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="w98/lh_core/runtime.c::Convert8To1" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a35">OSErr</a> Convert8To1           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dataPtr8</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dataPtr5</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>startLine</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>height</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>rowBytes5</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l04255">LHCheckBitMapPrivate()</a>, and <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l03871">LHCheckColorsPrivate()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="w98/lh_core/runtime.c::Convert8To5" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a35">OSErr</a> Convert8To5           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dataPtr8</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dataPtr5</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>startLine</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>height</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>rowBytes5</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l03995">LHMatchBitMapPrivate()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a43" doxytag="w98/lh_core/runtime.c::ConvertIndexToLabBitmap" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> ConvertIndexToLabBitmap           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>modelingData</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>InBuffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>OutBuffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>processedLinesIn</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>lineCount</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>inWidth</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>inRowBytes</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>outRowBytes</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>outputSize</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l04946">4946</a> of file <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html">w98/lh_core/runtime.c</a>.
<p>
References <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00023">CMError</a>, <a class="el" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a37">cmNamedColorNotFound</a>, <a class="el" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00038">DATA_2_PTR</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00053">LH_END_PROC</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00052">LH_START_PROC</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00041">LOCK_DATA</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00036">LUT_DATA_TYPE</a>, <a class="el" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00071">OSErr</a>, <a class="el" href="../../d0/d7/udf_8h-source.html#l00235">UINT16</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00032">UINT32</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00030">UINT8</a>, and <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00042">UNLOCK_DATA</a>.
<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l04255">LHCheckBitMapPrivate()</a>, and <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l03995">LHMatchBitMapPrivate()</a>.
<p>
<pre class="fragment"><div>04955 {
04956         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a35">OSErr</a>                   err = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
04957         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a1">LUT_DATA_TYPE</a>   tagH=<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
04958         <a class="code" href="../../d9/d7/udf_8h.html#a24">UINT16</a>                  *tagTbl = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,*ColorPtr = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
04959         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a>                  *imgIn=<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
04960         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a6">UINT8</a>                   *imgOut=<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
04961         <span class="keywordtype">int</span>                             deviceChannelCount,elemSz;
04962         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a>                  i,j,index,countNamesInProfile;
04963         
04964         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a1">LH_START_PROC</a>(<span class="stringliteral">"ConvertIndexToLabBitmap"</span>)
04965         <span class="comment">/* set up the table for indexing */</span>
04966         tagH = modelingData-&gt;theNamedColorTagData;
04967         if (tagH==NULL) {
04968                 err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
04969                 <span class="keywordflow">goto</span> CleanUp;
04970         }
04971         
04972         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a6">LOCK_DATA</a>(tagH);
04973         tagTbl = (<a class="code" href="../../d9/d7/udf_8h.html#a24">UINT16</a> *)<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a3">DATA_2_PTR</a>(tagH) + 58;               <span class="comment">/* points to PCS */</span>
04974         deviceChannelCount = ((<a class="code" href="../../d4/d3/structicNamedColor2Type.html">icNamedColor2Type</a> *)<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a3">DATA_2_PTR</a>(tagH))-&gt;ncolor.nDeviceCoords;
04975         countNamesInProfile = ((<a class="code" href="../../d4/d3/structicNamedColor2Type.html">icNamedColor2Type</a> *)<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a3">DATA_2_PTR</a>(tagH))-&gt;ncolor.count;
04976         <span class="keywordflow">if</span> (deviceChannelCount==3) {
04977                 elemSz = 32+(3+3)*<span class="keyword">sizeof</span>(<a class="code" href="../../d9/d7/udf_8h.html#a24">UINT16</a>);
04978         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (deviceChannelCount==4) {
04979                 elemSz = 32+(3+4)*<span class="keyword">sizeof</span>(<a class="code" href="../../d9/d7/udf_8h.html#a24">UINT16</a>);
04980         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (deviceChannelCount==0) {
04981                 elemSz = 32+(3+0)*<span class="keyword">sizeof</span>(<a class="code" href="../../d9/d7/udf_8h.html#a24">UINT16</a>);
04982         } <span class="keywordflow">else</span> {
04983                 err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
04984                 <span class="keywordflow">goto</span> CleanUp;
04985         }
04986         elemSz/=2;
04987         
04988         <span class="comment">/* ...and convert the data from index to PCS values */</span>
04989         <span class="keywordflow">for</span>( i=processedLinesIn; i&lt;processedLinesIn+lineCount; i++ ){
04990                 imgIn = (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a> *)(InBuffer + i * inRowBytes);
04991                 imgOut = (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a6">UINT8</a>*)OutBuffer + (i-processedLinesIn) * outRowBytes;
04992                 <span class="keywordflow">if</span>( outputSize == 24 ){
04993                         <span class="keywordflow">for</span> (j=0;j&lt;inWidth;j++) {
04994                                 index = *imgIn++;
04995                                 <span class="keywordflow">if</span>( index == 0 || index &gt; countNamesInProfile ){
04996                                         err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a37">cmNamedColorNotFound</a>;
04997                                         <span class="keywordflow">goto</span> CleanUp;
04998                                 }
04999 
05000                                 ColorPtr = tagTbl + (index-1)*elemSz;
05001                                 *imgOut++  = (*ColorPtr++)&gt;&gt;8;
05002                                 *imgOut++  = (*ColorPtr++)&gt;&gt;8;
05003                                 *imgOut++  = (*ColorPtr++)&gt;&gt;8;
05004                         }
05005                 }
05006                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>( outputSize == 32 ){
05007                         <span class="keywordflow">for</span> (j=0;j&lt;inWidth;j++) {
05008                                 index = *imgIn++;
05009                                 <span class="keywordflow">if</span>( index == 0 || index &gt; countNamesInProfile ){
05010                                         err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a37">cmNamedColorNotFound</a>;
05011                                         <span class="keywordflow">goto</span> CleanUp;
05012                                 }
05013 
05014                                 ColorPtr = tagTbl + (index-1)*elemSz;
05015                                 *imgOut++  = (*ColorPtr++)&gt;&gt;8;
05016                                 *imgOut++  = (*ColorPtr++)&gt;&gt;8;
05017                                 *imgOut    = (*ColorPtr++)&gt;&gt;8;
05018                                 imgOut += 2;
05019                         }
05020                 }
05021         }
05022 CleanUp:
05023         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a7">UNLOCK_DATA</a>(tagH);
05024         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a2">LH_END_PROC</a>(<span class="stringliteral">"ConvertIndexToLabBitmap"</span>)
05025         return err;
05026 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a42" doxytag="w98/lh_core/runtime.c::ConvertLabToIndexBitmap" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> ConvertLabToIndexBitmap           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>modelingData</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a28">Ptr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>InBuffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>processedLinesIn</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>inLineCount</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>rowBytes</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l04863">4863</a> of file <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html">w98/lh_core/runtime.c</a>.
<p>
References <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00023">CMError</a>, <a class="el" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00038">DATA_2_PTR</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00053">LH_END_PROC</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00052">LH_START_PROC</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00041">LOCK_DATA</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00036">LUT_DATA_TYPE</a>, <a class="el" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00071">OSErr</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l04764">POS</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00039">SINT16</a>, <a class="el" href="../../d0/d7/udf_8h-source.html#l00235">UINT16</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00032">UINT32</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00030">UINT8</a>, and <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00042">UNLOCK_DATA</a>.
<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l03995">LHMatchBitMapPrivate()</a>.
<p>
<pre class="fragment"><div>04869 {
04870         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a35">OSErr</a>                   err = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
04871         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a1">LUT_DATA_TYPE</a>   tagH=<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
04872         <a class="code" href="../../d9/d7/udf_8h.html#a24">UINT16</a>                  *tagTbl = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,*colorPtr = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
04873         <span class="keywordtype">int</span>                             deviceChannelCount,elemSz,count;
04874         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a>                  i,j,k,index,dE,dEnow;
04875         <a class="code" href="../../d9/d7/udf_8h.html#a24">UINT16</a>                  LL,aa,bb;
04876         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a6">UINT8</a>                   *imgIn=<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,*imgOut=<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
04877         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a>                  *imgInPtr=<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
04878         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a6">UINT8</a>                   *imgInPtr8=<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
04879         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a6">UINT8</a>                   *imgOutPtr8=<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
04880         
04881         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a1">LH_START_PROC</a>(<span class="stringliteral">"ConvertLabToIndexBitmap"</span>)
04882         <span class="comment">/* prepare the tag table  */</span>
04883         tagH = modelingData-&gt;theNamedColorTagData;
04884         if (tagH==NULL){
04885                 err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
04886                 <span class="keywordflow">goto</span> CleanUp;
04887         }
04888         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a6">LOCK_DATA</a>(tagH);
04889         tagTbl = (<a class="code" href="../../d9/d7/udf_8h.html#a24">UINT16</a> *)<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a3">DATA_2_PTR</a>(tagH) + 58;
04890         count = ((<a class="code" href="../../d4/d3/structicNamedColor2Type.html">icNamedColor2Type</a> *)<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a3">DATA_2_PTR</a>(tagH))-&gt;ncolor.count;
04891         deviceChannelCount = ((<a class="code" href="../../d4/d3/structicNamedColor2Type.html">icNamedColor2Type</a> *)<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a3">DATA_2_PTR</a>(tagH))-&gt;ncolor.nDeviceCoords;
04892         <span class="keywordflow">if</span> (deviceChannelCount == 3){
04893                 elemSz = 32+(3+3)*<span class="keyword">sizeof</span>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a13">SINT16</a>);
04894         }
04895         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (deviceChannelCount == 4){
04896                 elemSz = 32+(3+4)*<span class="keyword">sizeof</span>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a13">SINT16</a>);
04897         }
04898         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (deviceChannelCount == 0){
04899                 elemSz = 32+(3+0)*<span class="keyword">sizeof</span>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a13">SINT16</a>);
04900         }
04901         <span class="keywordflow">else</span>{
04902                 err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
04903                 <span class="keywordflow">goto</span> CleanUp;
04904         }
04905         elemSz /= 2;
04906         
04907         <span class="comment">/* search for index */</span>
04908         imgIn = (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a6">UINT8</a>*)InBuffer + processedLinesIn * rowBytes;
04909         imgInPtr8=((<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a6">UINT8</a> *)imgIn);
04910         LL = *(imgInPtr8+0)+1;  <span class="comment">/* do not use cache for first pixel */</span>
04911         <span class="keywordflow">for</span> (i = 0; i &lt; inLineCount; i++){
04912                 <span class="keywordflow">for</span> (j = 0; j &lt; width; j++){
04913                         imgInPtr8=((<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a6">UINT8</a> *)imgIn+j*4);
04914                         <span class="keywordflow">if</span>( LL == *(imgInPtr8+0) ){
04915                                 <span class="keywordflow">if</span>( aa == *(imgInPtr8+1) &amp;&amp; bb == *(imgInPtr8+2) ){
04916                                         *((<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a> *)imgIn+j) = index+1;
04917                                         <span class="keywordflow">continue</span>;
04918                                 }
04919                         }
04920                         LL = *(imgInPtr8+0);
04921                         aa = *(imgInPtr8+1);
04922                         bb = *(imgInPtr8+2);
04923                         <span class="comment">/* go through the whole table to find the closest one*/</span>
04924                         dEnow = 0x40000;        <span class="comment">/* just arbitrarily high = 256*256*4 */</span>
04925                         index =(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a>)-1;
04926                         colorPtr = tagTbl;
04927                         <span class="keywordflow">for</span> (k = 0; k &lt; (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a>)count; k++){
04928                                 dE =      <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a6">POS</a>((<span class="keywordtype">long</span>)aa - (*(colorPtr+1)&gt;&gt;8));
04929                                 dE = dE + <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a6">POS</a>((<span class="keywordtype">long</span>)bb - (*(colorPtr+2)&gt;&gt;8));
04930                                 dE = 2*dE + (dE&gt;&gt;1) + <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a6">POS</a>((<span class="keywordtype">long</span>)LL - (*(colorPtr)&gt;&gt;8));                 <span class="comment">/* Quantization L = 2.55 * (a|b) */</span>
04931                                 <span class="keywordflow">if</span> (dE &lt; dEnow){
04932                                         index = k;
04933                                         dEnow = dE;
04934                                 }
04935                                 colorPtr += elemSz;
04936                         }
04937                         *((<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a> *)imgIn+j) = index+1;
04938                 }
04939                 imgIn+=rowBytes;
04940         }
04941 CleanUp:
04942         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a7">UNLOCK_DATA</a>(tagH);
04943         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a2">LH_END_PROC</a>(<span class="stringliteral">"ConvertLabToIndexBitmap"</span>)
04944         return err;
04945 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a37" doxytag="w98/lh_core/runtime.c::ConvertNamedIndexToColors" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a35">OSErr</a> ConvertNamedIndexToColors           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>modelingData</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d8/d3/unionCMColor.html">CMColor</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>theData</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pixCnt</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l04603">4603</a> of file <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html">w98/lh_core/runtime.c</a>.
<p>
References <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00057">PI_CMYKCOLOR::black</a>, <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00050">PI_RGBCOLOR::blue</a>, <a class="el" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a37">cmNamedColorNotFound</a>, <a class="el" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00092">CMColor::cmyk</a>, <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00054">PI_CMYKCOLOR::cyan</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00038">DATA_2_PTR</a>, <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00049">PI_RGBCOLOR::green</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00053">LH_END_PROC</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00052">LH_START_PROC</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00041">LOCK_DATA</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00036">LUT_DATA_TYPE</a>, <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00055">PI_CMYKCOLOR::magenta</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00097">CMColor::namedColor</a>, <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00039">PI_NAMEDCOLOR::namedColorIndex</a>, <a class="el" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>, <a class="el" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a16">NoNamedColorProfile</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00071">OSErr</a>, <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00048">PI_RGBCOLOR::red</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00091">CMColor::rgb</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00039">SINT16</a>, <a class="el" href="../../d0/d7/udf_8h-source.html#l00235">UINT16</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00032">UINT32</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00042">UNLOCK_DATA</a>, and <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00056">PI_CMYKCOLOR::yellow</a>.
<p>
<pre class="fragment"><div>04606 {
04607         <a class="code" href="../../d9/d7/udf_8h.html#a24">UINT16</a>                  *tagTbl = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
04608         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a1">LUT_DATA_TYPE</a>   tagH = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
04609         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a35">OSErr</a>                   err = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
04610         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a>                  i,index;
04611         <a class="code" href="../../d9/d7/udf_8h.html#a24">UINT16</a>                  *colorPtr=<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
04612         <span class="keywordtype">int</span>                             elemSz,deviceChannelCount,count;
04613 
04614         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a1">LH_START_PROC</a>(<span class="stringliteral">"ConvertNamedIndexToColors"</span>)
04615         
04616         if ( modelingData-&gt;hasNamedColorProf!=NoNamedColorProfile) 
04617         {
04618                 <span class="comment">/* prepare the tag table */</span>
04619                 tagH = modelingData-&gt;theNamedColorTagData;
04620                 <span class="keywordflow">if</span> (tagH==<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) 
04621                 {
04622                         err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
04623                         <span class="keywordflow">goto</span> CleanUp;
04624                 }
04625                 <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a6">LOCK_DATA</a>(tagH);
04626                 
04627                 <span class="comment">/* tagTbl should now point to beginning of first device data */</span>
04628                 <span class="comment">/* = CMNamedColor2Type_header(84) + firstName(32) + PCSSize(3*2) */</span>
04629                 tagTbl = (<a class="code" href="../../d9/d7/udf_8h.html#a24">UINT16</a> *)<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a3">DATA_2_PTR</a>(tagH) + 61;
04630                 
04631                 <span class="comment">/* find out how many bytes to skip per element. div'ed 2 for indexing purpose */</span>
04632                 count = ((<a class="code" href="../../d4/d3/structicNamedColor2Type.html">icNamedColor2Type</a> *)<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a3">DATA_2_PTR</a>(tagH))-&gt;ncolor.count;
04633                 deviceChannelCount = ((<a class="code" href="../../d4/d3/structicNamedColor2Type.html">icNamedColor2Type</a> *)<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a3">DATA_2_PTR</a>(tagH))-&gt;ncolor.nDeviceCoords;
04634                 <span class="keywordflow">if</span> (deviceChannelCount==3) 
04635                 {
04636                         elemSz = 32+(3+3)*<span class="keyword">sizeof</span>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a13">SINT16</a>);
04637                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (deviceChannelCount == 4) 
04638                 {
04639                         elemSz = 32+(3+4)*<span class="keyword">sizeof</span>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a13">SINT16</a>);
04640                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (deviceChannelCount == 0) 
04641                 {
04642                         elemSz = 32+(3+0)*<span class="keyword">sizeof</span>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a13">SINT16</a>);
04643                 } <span class="keywordflow">else</span> 
04644                 {
04645                         err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
04646                         <span class="keywordflow">goto</span> CleanUp;
04647                 }
04648                 elemSz/=2;
04649                 
04650                 <span class="comment">/* doing the actual */</span>
04651                 <span class="keywordflow">for</span> (i=0; i&lt;(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a>)pixCnt; i++) 
04652                 {
04653                         <span class="comment">/* go to the index'th element*/</span>
04654                         index = theData-&gt;<a class="code" href="../../d8/d3/unionCMColor.html#o7">namedColor</a>.<a class="code" href="../../d7/d4/structPI__NAMEDCOLOR.html#o0">namedColorIndex</a>;
04655                         <span class="keywordflow">if</span> (index &gt; (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a>)count || index == 0 ) 
04656                         {
04657                                 err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a37">cmNamedColorNotFound</a>;
04658                                 <span class="keywordflow">goto</span> CleanUp;
04659                         }
04660                         colorPtr = tagTbl + (index-1)*elemSz;
04661                         <span class="comment">/* put in all the info */</span>
04662                         <span class="keywordflow">if</span> (deviceChannelCount==3) 
04663                         {
04664                                 theData-&gt;<a class="code" href="../../d8/d3/unionCMColor.html#o1">rgb</a>.<a class="code" href="../../d8/d4/structPI__RGBCOLOR.html#o0">red</a> = *colorPtr++;
04665                                 theData-&gt;<a class="code" href="../../d8/d3/unionCMColor.html#o1">rgb</a>.<a class="code" href="../../d8/d4/structPI__RGBCOLOR.html#o1">green</a> = *colorPtr++;
04666                                 theData-&gt;<a class="code" href="../../d8/d3/unionCMColor.html#o1">rgb</a>.<a class="code" href="../../d8/d4/structPI__RGBCOLOR.html#o2">blue</a> = *colorPtr++;
04667                         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (deviceChannelCount==4) 
04668                         {
04669                                 theData-&gt;<a class="code" href="../../d8/d3/unionCMColor.html#o2">cmyk</a>.<a class="code" href="../../d2/d4/structPI__CMYKCOLOR.html#o0">cyan</a> = *colorPtr++;
04670                                 theData-&gt;<a class="code" href="../../d8/d3/unionCMColor.html#o2">cmyk</a>.<a class="code" href="../../d2/d4/structPI__CMYKCOLOR.html#o1">magenta</a> = *colorPtr++;
04671                                 theData-&gt;<a class="code" href="../../d8/d3/unionCMColor.html#o2">cmyk</a>.<a class="code" href="../../d2/d4/structPI__CMYKCOLOR.html#o2">yellow</a> = *colorPtr++;
04672                                 theData-&gt;<a class="code" href="../../d8/d3/unionCMColor.html#o2">cmyk</a>.<a class="code" href="../../d2/d4/structPI__CMYKCOLOR.html#o3">black</a> = *colorPtr++;
04673                         }
04674                         theData++;
04675                 }
04676                 <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a7">UNLOCK_DATA</a>(tagH);
04677         }
04678 CleanUp:
04679         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a2">LH_END_PROC</a>(<span class="stringliteral">"ConvertNamedIndexToColors"</span>)
04680         return err;
04681 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a38" doxytag="w98/lh_core/runtime.c::ConvertNamedIndexToPCS" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a35">OSErr</a> ConvertNamedIndexToPCS           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>cw</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d8/d3/unionCMColor.html">CMColor</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>theData</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pixCnt</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l04688">4688</a> of file <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html">w98/lh_core/runtime.c</a>.
<p>
References <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00074">PI_LabCOLOR::a</a>, <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00075">PI_LabCOLOR::b</a>, <a class="el" href="../../d4/d6/lh__core_2typedefs_8h-source.html#l00188">CMMModelPtr</a>, <a class="el" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a37">cmNamedColorNotFound</a>, <a class="el" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00038">DATA_2_PTR</a>, <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00073">PI_LabCOLOR::L</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00095">CMColor::Lab</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00053">LH_END_PROC</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00052">LH_START_PROC</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00041">LOCK_DATA</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00036">LUT_DATA_TYPE</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00097">CMColor::namedColor</a>, <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00039">PI_NAMEDCOLOR::namedColorIndex</a>, <a class="el" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00071">OSErr</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00039">SINT16</a>, <a class="el" href="../../d0/d7/udf_8h-source.html#l00235">UINT16</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00032">UINT32</a>, and <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00042">UNLOCK_DATA</a>.
<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l04861">CMConvertNamedIndexToPCS()</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l03797">LHCheckColorsPrivateMS()</a>, and <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l03733">LHMatchColorsPrivate()</a>.
<p>
<pre class="fragment"><div>04691 {
04692         <a class="code" href="../../d9/d7/udf_8h.html#a24">UINT16</a>                  *tagTbl = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
04693         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a1">LUT_DATA_TYPE</a>   tagH = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
04694         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a35">OSErr</a>                   err = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
04695         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a>                  i,index;
04696         <a class="code" href="../../d9/d7/udf_8h.html#a24">UINT16</a>                  *colorPtr=<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
04697         <span class="keywordtype">int</span>                             elemSz,deviceChannelCount,count;
04698         <a class="code" href="../../d3/d7/lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>             modelingData = (<a class="code" href="../../d3/d7/lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>)cw;
04699 
04700         
04701         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a1">LH_START_PROC</a>(<span class="stringliteral">"ConvertNamedIndexToPCS"</span>)
04702         if( cw == 0 )return cmparamErr;
04703         {
04704                 <span class="comment">/* prepare the tag table */</span>
04705                         tagH = modelingData-&gt;theNamedColorTagData;
04706                 <span class="keywordflow">if</span> (tagH == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) 
04707                 {
04708                         err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
04709                         <span class="keywordflow">goto</span> CleanUp;
04710                 }
04711                 <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a6">LOCK_DATA</a>(tagH);
04712                 
04713                 <span class="comment">/* tagTbl should now point to beginning of first PCS data */</span>
04714                 <span class="comment">/* = CMNamedColor2Type_header(84) + firstName(32) */</span>
04715                 tagTbl = (<a class="code" href="../../d9/d7/udf_8h.html#a24">UINT16</a> *)<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a3">DATA_2_PTR</a>(tagH) + 58;
04716                 
04717                 <span class="comment">/* find out how many bytes to skip per element. div'ed 2 for indexing purpose */</span>
04718                 count = ((<a class="code" href="../../d4/d3/structicNamedColor2Type.html">icNamedColor2Type</a> *)<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a3">DATA_2_PTR</a>(tagH))-&gt;ncolor.count;
04719                 deviceChannelCount = ((<a class="code" href="../../d4/d3/structicNamedColor2Type.html">icNamedColor2Type</a> *)<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a3">DATA_2_PTR</a>(tagH))-&gt;ncolor.nDeviceCoords;
04720                 <span class="keywordflow">if</span> (deviceChannelCount == 3) 
04721                 {
04722                         elemSz = 32+(3+3)*<span class="keyword">sizeof</span>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a13">SINT16</a>);
04723                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (deviceChannelCount == 4) 
04724                 {
04725                         elemSz = 32+(3+4)*<span class="keyword">sizeof</span>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a13">SINT16</a>);
04726                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (deviceChannelCount == 0) 
04727                 {
04728                         elemSz = 32+(3+0)*<span class="keyword">sizeof</span>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a13">SINT16</a>);
04729                 } <span class="keywordflow">else</span> 
04730                 {
04731                         err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
04732                         <span class="keywordflow">goto</span> CleanUp;
04733                 }
04734                 elemSz /= 2;
04735                 
04736                 <span class="comment">/* doing the actual */</span>
04737                 <span class="keywordflow">for</span> (i=0; i&lt;(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a>)pixCnt; i++) 
04738                 {
04739                         <span class="comment">/* go to the index'th element*/</span>
04740                         index = theData-&gt;<a class="code" href="../../d8/d3/unionCMColor.html#o7">namedColor</a>.<a class="code" href="../../d7/d4/structPI__NAMEDCOLOR.html#o0">namedColorIndex</a>;
04741                         <span class="keywordflow">if</span> (index &gt; (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a>)count || index == 0 ) 
04742                         {
04743                                 err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a37">cmNamedColorNotFound</a>;
04744                                 <span class="keywordflow">goto</span> CleanUp;
04745                         }
04746                         colorPtr = tagTbl + (index-1)*elemSz;
04747                         <span class="comment">/* put in all the info */</span>
04748                         theData-&gt;<a class="code" href="../../d8/d3/unionCMColor.html#o5">Lab</a>.<a class="code" href="../../d6/d4/structPI__LabCOLOR.html#o0">L</a> = *colorPtr++;
04749                         theData-&gt;<a class="code" href="../../d8/d3/unionCMColor.html#o5">Lab</a>.<a class="code" href="../../d6/d4/structPI__LabCOLOR.html#o1">a</a> = *colorPtr++;
04750                         theData-&gt;<a class="code" href="../../d8/d3/unionCMColor.html#o5">Lab</a>.<a class="code" href="../../d6/d4/structPI__LabCOLOR.html#o2">b</a> = *colorPtr++;
04751                         theData++;
04752                 }
04753                 <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a7">UNLOCK_DATA</a>(tagH);
04754         }
04755 CleanUp:
04756         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a2">LH_END_PROC</a>(<span class="stringliteral">"ConvertNamedIndexToPCS"</span>)
04757         return err;
04758 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a39" doxytag="w98/lh_core/runtime.c::ConvertPCSToNamedIndex" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a35">OSErr</a> ConvertPCSToNamedIndex           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>modelingData</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d8/d3/unionCMColor.html">CMColor</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>theData</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pixCnt</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l04768">4768</a> of file <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html">w98/lh_core/runtime.c</a>.
<p>
References <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00074">PI_LabCOLOR::a</a>, <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00075">PI_LabCOLOR::b</a>, <a class="el" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00038">DATA_2_PTR</a>, <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00073">PI_LabCOLOR::L</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00095">CMColor::Lab</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00053">LH_END_PROC</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00052">LH_START_PROC</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00041">LOCK_DATA</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00036">LUT_DATA_TYPE</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00097">CMColor::namedColor</a>, <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00039">PI_NAMEDCOLOR::namedColorIndex</a>, <a class="el" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a19">NamedColorProfileAtEnd</a>, <a class="el" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00071">OSErr</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l04764">POS</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00039">SINT16</a>, <a class="el" href="../../d0/d7/udf_8h-source.html#l00235">UINT16</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00032">UINT32</a>, and <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00042">UNLOCK_DATA</a>.
<p>
<pre class="fragment"><div>04771 {
04772         <a class="code" href="../../d9/d7/udf_8h.html#a24">UINT16</a>                  *tagTbl = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
04773         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a1">LUT_DATA_TYPE</a>   tagH = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
04774         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a35">OSErr</a>                   err = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a55">noErr</a>;
04775         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a>                  i,j,index,dE,dEnow;
04776         <a class="code" href="../../d9/d7/udf_8h.html#a24">UINT16</a>                  *colorPtr=<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
04777         <span class="keywordtype">int</span>                             elemSz,deviceChannelCount,count;
04778         
04779         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a1">LH_START_PROC</a>(<span class="stringliteral">"ConvertPCSToNamedIndex"</span>)
04780         if (modelingData-&gt;hasNamedColorProf == NamedColorProfileAtEnd) 
04781         {
04782                 <span class="comment">/* prepare the tag table */</span>
04783                 tagH = modelingData-&gt;theNamedColorTagData;
04784                 <span class="keywordflow">if</span> (tagH==<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) 
04785                 {
04786                         err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
04787                         <span class="keywordflow">goto</span> CleanUp;
04788                 }
04789                 <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a6">LOCK_DATA</a>(tagH);
04790                 
04791                 <span class="comment">/* tagTbl should now point to beginning of first PCS data */</span>
04792                 <span class="comment">/* = CMNamedColor2Type_header(84) + firstName(32) */</span>
04793                 tagTbl = (<a class="code" href="../../d9/d7/udf_8h.html#a24">UINT16</a> *)<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a3">DATA_2_PTR</a>(tagH) + 58;
04794                 
04795                 <span class="comment">/* find out how many bytes to skip per element. div'ed 2 for indexing purpose */</span>
04796                 count = ((<a class="code" href="../../d4/d3/structicNamedColor2Type.html">icNamedColor2Type</a> *)<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a3">DATA_2_PTR</a>(tagH))-&gt;ncolor.count;
04797                 deviceChannelCount = ((<a class="code" href="../../d4/d3/structicNamedColor2Type.html">icNamedColor2Type</a> *)<a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a3">DATA_2_PTR</a>(tagH))-&gt;ncolor.nDeviceCoords;
04798                 <span class="keywordflow">if</span> (deviceChannelCount == 3) 
04799                 {
04800                         elemSz = 32+(3+3)*<span class="keyword">sizeof</span>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a13">SINT16</a>);
04801                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (deviceChannelCount == 4) 
04802                 {
04803                         elemSz = 32+(3+4)*<span class="keyword">sizeof</span>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a13">SINT16</a>);
04804                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (deviceChannelCount == 0) 
04805                 {
04806                         elemSz = 32+(3+0)*<span class="keyword">sizeof</span>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a13">SINT16</a>);
04807                 } <span class="keywordflow">else</span> 
04808                 {
04809                         err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a30">cmparamErr</a>;
04810                         <span class="keywordflow">goto</span> CleanUp;
04811                 }
04812                 elemSz/=2;
04813                 
04814                 <span class="comment">/* doing the actual */</span>
04815                 <span class="keywordflow">for</span> (i=0; i &lt; (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a>)pixCnt; i++) 
04816                 {
04817                         <span class="comment">/* go through the whole table to find the closest one*/</span>
04818                         dEnow = 0x40000;        <span class="comment">/* just arbitrarily high = 256*256*4 */</span>
04819                         index = (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a>)-1;
04820                         colorPtr = tagTbl;
04821                         <span class="keywordflow">for</span> (j=0; j &lt; (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a8">UINT32</a>)count; j++) 
04822                         {
04823                                 dE =      <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a6">POS</a>((<span class="keywordtype">long</span>)theData-&gt;<a class="code" href="../../d8/d3/unionCMColor.html#o5">Lab</a>.<a class="code" href="../../d6/d4/structPI__LabCOLOR.html#o1">a</a> - *(colorPtr+1));
04824                                 dE = dE + <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a6">POS</a>((<span class="keywordtype">long</span>)theData-&gt;<a class="code" href="../../d8/d3/unionCMColor.html#o5">Lab</a>.<a class="code" href="../../d6/d4/structPI__LabCOLOR.html#o2">b</a> - *(colorPtr+2));
04825                                 dE = 2*dE + (dE&gt;&gt;1) + <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a6">POS</a>((<span class="keywordtype">long</span>)theData-&gt;<a class="code" href="../../d8/d3/unionCMColor.html#o5">Lab</a>.<a class="code" href="../../d6/d4/structPI__LabCOLOR.html#o0">L</a> - *(colorPtr));
04826                                 <span class="keywordflow">if</span> (dE &lt; dEnow) 
04827                                 {
04828                                         index = j;
04829                                         dEnow = dE;
04830                                 }
04831                                 colorPtr += elemSz;
04832                         }
04833                         theData-&gt;<a class="code" href="../../d8/d3/unionCMColor.html#o7">namedColor</a>.<a class="code" href="../../d7/d4/structPI__NAMEDCOLOR.html#o0">namedColorIndex</a> = index+1;
04834                         theData++;
04835                 }
04836                 <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a7">UNLOCK_DATA</a>(tagH);
04837         }
04838 CleanUp:
04839         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a2">LH_END_PROC</a>(<span class="stringliteral">"ConvertPCSToNamedIndex"</span>)
04840         return err;
04841 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a33" doxytag="w98/lh_core/runtime.c::CopyIndexData" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void CopyIndexData           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d6/d3/structCMBitmap.html">CMBitmap</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>bitMapIn</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d6/d3/structCMBitmap.html">CMBitmap</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>bitMapOut</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>info</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l03995">LHMatchBitMapPrivate()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a29" doxytag="w98/lh_core/runtime.c::Do555To8Setup" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> Do555To8Setup           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>calcParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>theLinesAtOnce</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap> <em>reverseOrder</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l00716">CheckInputColorSpace()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a28" doxytag="w98/lh_core/runtime.c::Do8To555Setup" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> Do8To555Setup           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>calcParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>theLinesAtOnce</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap> <em>reverseOrder</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l01337">CheckOutputColorSpace()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a19" doxytag="w98/lh_core/runtime.c::FillCalcParam" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> FillCalcParam           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>calcParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="../../d6/d3/structCMBitmap.html">CMBitmap</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>bitMap</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="../../d6/d3/structCMBitmap.html">CMBitmap</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>matchedBitMap</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l04255">LHCheckBitMapPrivate()</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l04466">LHMatchBitMapPlanePrivate()</a>, and <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l03995">LHMatchBitMapPrivate()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a20" doxytag="w98/lh_core/runtime.c::FillCalcParamCM" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> FillCalcParamCM           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>calcParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>lutParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d8/d3/unionCMColor.html">CMColor</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>myColors</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>count</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l03871">LHCheckColorsPrivate()</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l03797">LHCheckColorsPrivateMS()</a>, and <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l03733">LHMatchColorsPrivate()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="w98/lh_core/runtime.c::FillLutParam" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> FillLutParam           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>lutParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>modelingData</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l04466">LHMatchBitMapPlanePrivate()</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l03995">LHMatchBitMapPrivate()</a>, and <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l03733">LHMatchColorsPrivate()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="w98/lh_core/runtime.c::FillLutParamChk" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> FillLutParamChk           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>lutParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>modelingData</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l04255">LHCheckBitMapPrivate()</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l03871">LHCheckColorsPrivate()</a>, and <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l03797">LHCheckColorsPrivateMS()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a27" doxytag="w98/lh_core/runtime.c::FindCalcRoutine" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a8">CalcProcPtr</a> FindCalcRoutine           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParam</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>calcParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParam</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>lutParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a21">Boolean</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>lookupOnly</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l04255">LHCheckBitMapPrivate()</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l03871">LHCheckColorsPrivate()</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l03797">LHCheckColorsPrivateMS()</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l04466">LHMatchBitMapPlanePrivate()</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l03995">LHMatchBitMapPrivate()</a>, and <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l03733">LHMatchColorsPrivate()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a26" doxytag="w98/lh_core/runtime.c::FindLookupRoutine" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a8">CalcProcPtr</a> FindLookupRoutine           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="../../d0/d4/structCMLutParam.html">CMLutParam</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>lutParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>info</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l02767">FindCalcRoutine()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a35" doxytag="w98/lh_core/runtime.c::LHCheckBitMapPrivate" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> LHCheckBitMapPrivate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>modelingData</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="../../d6/d3/structCMBitmap.html">CMBitmap</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>inBitMap</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a27">CMBitmapCallBackUPP</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>progressProc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>refCon</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d6/d3/structCMBitmap.html">CMBitmap</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>outBitMap</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l04253">4253</a> of file <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html">w98/lh_core/runtime.c</a>.
<p>
References <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00050">Boolean</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l00066">CalcProcPtr</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l00078">CallCalcProc</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00152">CallCMBitmapCallBackProc</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a21">CheckInputColorSpace()</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a24">CheckOutputColorSpaceChk()</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00023">CMError</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00066">CMCalcParam::cmInputBytesPerLine</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00068">CMCalcParam::cmInputPixelOffset</a>, <a class="el" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a36">cmInvalidDstMap</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00065">CMCalcParam::cmLineCount</a>, <a class="el" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a32">cmMethodError</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00067">CMCalcParam::cmOutputBytesPerLine</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00039">CMLutParam::colorLutInDim</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00040">CMLutParam::colorLutOutDim</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a16">Convert10To16()</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a12">Convert5To8()</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a14">Convert8To1()</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l04948">ConvertIndexToLabBitmap()</a>, <a class="el" href="../../d7/d6/lh__open_2pi__mem_8c-source.html#l00099">DisposeIfPtr()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a19">FillCalcParam()</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a18">FillLutParamChk()</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a27">FindCalcRoutine()</a>, <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00290">CMBitmap::height</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00290">CMBitmap::image</a>, <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00058">ColorSpaceInfo::inPlace</a>, <a class="el" href="../../d4/d6/lh__core_2typedefs_8h-source.html#l00070">CMCalcParam::inputData</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l00063">kMaxTempBlock</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l00062">kProgressTicks</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00053">LH_END_PROC</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00052">LH_START_PROC</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00041">LOCK_DATA</a>, <a class="el" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a18">NamedColorProfileAtBegin</a>, <a class="el" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a17">NamedColorProfileOnly</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00020">nil</a>, <a class="el" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a16">NoNamedColorProfile</a>, <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00048">ColorSpaceInfo::origSizeIn</a>, <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00049">ColorSpaceInfo::origSizeOut</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00070">OSType</a>, <a class="el" href="../../d4/d6/lh__core_2typedefs_8h-source.html#l00071">CMCalcParam::outputData</a>, <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00054">ColorSpaceInfo::processedLinesIn</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00052">Ptr</a>, <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00291">CMBitmap::rowBytes</a>, <a class="el" href="../../d7/d7/w98_2lh__open_2pi__mem_8c.html#a6">SetMem()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00040">SINT32</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l00052">ColorSpaceInfo::tempInBuffer</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l00053">ColorSpaceInfo::tempOutBuffer</a>, <a class="el" href="../../d7/d7/lh__open_2pi__tick_8c-source.html#l00055">TickCount()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00042">UNLOCK_DATA</a>, <a class="el" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a39">userCanceledErr</a>, and <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00289">CMBitmap::width</a>.
<p>
Referenced by <a class="el" href="../../d3/d7/lh__open_2pi__run_8c-source.html#l00113">CWCheckBitmap()</a>.
<p>
<pre class="fragment"><div>04258 {
04259         <a class="code" href="../../d7/d3/structCMCalcParam.html">CMCalcParam</a>     calcParam;
04260         <a class="code" href="../../d0/d4/structCMLutParam.html">CMLutParam</a>              lutParam;
04261         <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a11">CMError</a>                 err = -1;
04262         <a class="code" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a>  info;
04263         <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a8">CalcProcPtr</a>             calcRoutine     = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>;
04264         <a class="code" href="../../d6/d3/structCMBitmap.html">CMBitmap</a>                bitMapIn                        = *inBitMap;
04265         <a class="code" href="../../d6/d3/structCMBitmap.html">CMBitmap</a>                bitMapOut;
04266         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a34">OSType</a>                  inColorSpace    = modelingData-&gt;firstColorSpace;
04267         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a21">Boolean</a>                 progressProcWasCalled = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
04268         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a14">SINT32</a>                  offset;
04269         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a14">SINT32</a>                  progressTimer;
04270         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a14">SINT32</a>                  dimLoop;
04271         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a21">Boolean</a>                 matchInPlace = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
04272         <span class="keywordtype">long</span>                    progressProcCount = 0;
04273         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a14">SINT32</a>                  inLineCount;
04274         
04275         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a1">LH_START_PROC</a>(<span class="stringliteral">"LHCheckBitMapPrivate"</span>)
04276 
04277         if( (modelingData)-&gt;gamutLutParam.colorLut == 0 )return cmMethodError;
04278         LOCK_DATA((modelingData)-&gt;gamutLutParam.inputLut);
04279         LOCK_DATA((modelingData)-&gt;gamutLutParam.colorLut);
04280         LOCK_DATA((modelingData)-&gt;gamutLutParam.outputLut);
04281 
04282         SetMem(&amp;info,           sizeof(<a class="code" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a>), 0);
04283         SetMem(&amp;calcParam,      sizeof(<a class="code" href="../../d7/d3/structCMCalcParam.html">CMCalcParam</a>),    0);
04284 
04285         if ( (outBitMap == nil ) || (modelingData-&gt;gamutLutParam.colorLut == nil) )
04286         {
04287                 err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a36">cmInvalidDstMap</a>;
04288                 <span class="keywordflow">goto</span> CleanupAndExit;
04289         }
04290         bitMapOut = *outBitMap;
04291         <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a18">FillLutParamChk</a>(&amp;lutParam, modelingData);
04292         <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a19">FillCalcParam</a>(&amp;calcParam, &amp;bitMapIn, &amp;bitMapOut);
04293         
04294         err = <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a21">CheckInputColorSpace</a>( &amp;bitMapIn, &amp;calcParam, &amp;info, inColorSpace, lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o6">colorLutInDim</a> );
04295         inLineCount = calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a>;
04296         <span class="keywordflow">if</span> (err)
04297                 <span class="keywordflow">goto</span> CleanupAndExit;
04298                 
04299         err = <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a24">CheckOutputColorSpaceChk</a>( &amp;bitMapOut, &amp;calcParam, &amp;info );
04300         <span class="keywordflow">if</span> (err)
04301                 <span class="keywordflow">goto</span> CleanupAndExit;
04302         
04303         info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o10">inPlace</a> = bitMapOut.<a class="code" href="../../d6/d3/structCMBitmap.html#o0">image</a> == bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o0">image</a> &amp;&amp; info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a> == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a> &amp;&amp; info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a> == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>;
04304         calcRoutine = <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a27">FindCalcRoutine</a>( &amp;calcParam, &amp;lutParam, &amp;info, modelingData-&gt;lookup );
04305         <span class="keywordflow">if</span> (calcRoutine == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>)
04306         {
04307                 err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a32">cmMethodError</a>;
04308                 <span class="keywordflow">goto</span> CleanupAndExit;
04309         }
04310         
04311         <span class="comment">/* ------------------------------------------------- 8 or 16 bit data --------------------------------------------------------- */</span>
04312         <span class="keywordflow">if</span> ((info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a> == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>) &amp;&amp; (info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a> == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>) &amp;&amp; modelingData-&gt;hasNamedColorProf == <a class="code" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a16">NoNamedColorProfile</a>)
04313         {
04314                 <span class="keywordflow">if</span> (progressProc == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>)
04315                         err = <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a4">CallCalcProc</a>(calcRoutine,&amp;calcParam, &amp;lutParam);          <span class="comment">/* no callback proc - do it all in one step */</span>
04316                 <span class="keywordflow">else</span>
04317                 {
04318                         calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a> = <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a1">kMaxTempBlock</a> / calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o4">cmInputBytesPerLine</a>;
04319                         <span class="keywordflow">if</span> (calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a> &lt; 1)
04320                                 calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a> = 1;
04321                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a> &gt; bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a>)
04322                                 calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a> = bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a>;
04323                                 
04324                         progressTimer = <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a7">TickCount</a>();
04325                         <span class="keywordflow">while</span> ( info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a> &lt;  bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a> )
04326                         {
04327                                 err = <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a4">CallCalcProc</a>(calcRoutine,&amp;calcParam, &amp;lutParam);
04328                         
04329                                 <span class="keywordflow">for</span> (dimLoop = 0; dimLoop&lt; lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o6">colorLutInDim</a>; dimLoop++)
04330                                         calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[dimLoop] = (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>)calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[dimLoop] + calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a> * calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o4">cmInputBytesPerLine</a>;
04331                                         
04332                                 <span class="keywordflow">for</span> (dimLoop = 0; dimLoop&lt; lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o7">colorLutOutDim</a>; dimLoop++)
04333                                         calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[dimLoop] =  (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>)calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[dimLoop]  + calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a> * calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o5">cmOutputBytesPerLine</a>;
04334         
04335                                 info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a> += calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a>;
04336                                 <span class="keywordflow">if</span> ( info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a> + calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a> &gt; bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a> )
04337                                         calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a> = bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a>-info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a>;
04338                                                 
04339                                 <span class="comment">/* - - - - - handle CMBitmapCallBackProc - - - - - */</span>
04340                                 <span class="keywordflow">if</span> ( progressProc &amp;&amp; ( progressTimer + <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a0">kProgressTicks</a> &lt; (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a14">SINT32</a>)<a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a7">TickCount</a>()) )  
04341                                 {
04342                                         progressProcWasCalled = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
04343                                         <span class="keywordflow">if</span> (<a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a1">CallCMBitmapCallBackProc</a> ( progressProc, bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a>, info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a>, (<span class="keywordtype">void</span> *)refCon ))
04344                                         {
04345                                                 info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a> =  bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a>; 
04346                                                 err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a39">userCanceledErr</a>;
04347                                         } <span class="keywordflow">else</span>
04348                                                 progressTimer = <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a7">TickCount</a>();
04349                                                 progressProcCount = info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a>;
04350                                 }
04351                         }
04352                 }
04353         }
04354         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (modelingData-&gt;hasNamedColorProf != <a class="code" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a17">NamedColorProfileOnly</a> ){
04355                 info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a> = 0;
04356                 progressTimer = <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a7">TickCount</a>();
04357                 <span class="keywordflow">if</span>( info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a> &amp;&amp; info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a> ){
04358                         <span class="keywordflow">if</span>( inLineCount &gt; calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a> )inLineCount = calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a>;
04359                 }
04360                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>( info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a> ){
04361                 }
04362                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>( info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a> ){
04363                         inLineCount = calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a>;
04364                 }
04365                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>( progressProc ){
04366                         inLineCount = <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a1">kMaxTempBlock</a> / calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o4">cmInputBytesPerLine</a>;
04367                         <span class="keywordflow">if</span> (inLineCount &lt; 1)
04368                                 inLineCount = 1;
04369                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (inLineCount &gt; bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a>)
04370                                 inLineCount = bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a>;
04371                 }
04372                 <span class="keywordflow">while</span> ( info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a> &lt;  bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a> )
04373                 {
04374                         <span class="keywordflow">if</span> ( info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a> + inLineCount &gt; bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a> )
04375                                 inLineCount = bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a>-info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a>;
04376 
04377                         <span class="keywordflow">if</span> (info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o0">origSizeIn</a> == 5 )                                                                                                                                                      <span class="comment">/* input is 5 bit */</span>
04378                                 <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a12">Convert5To8</a>  ( bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o0">image</a>, (Ptr)info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a>, info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a>, inLineCount, bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o1">width</a>, bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o3">rowBytes</a> );
04379 <span class="preprocessor">#ifdef PI_Application_h</span>
04380 <span class="preprocessor"></span>                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o0">origSizeIn</a> == 6 )                                                                                                                                                 <span class="comment">/* output is 5 bit */</span>
04381                                 Convert565To8 ( bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o0">image</a>, (Ptr)info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a>, info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a>, inLineCount, bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o1">width</a>, bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o3">rowBytes</a> );
04382 <span class="preprocessor">#endif</span>
04383 <span class="preprocessor"></span>                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o0">origSizeIn</a> == 10 ) 
04384                                         <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a16">Convert10To16</a>  ( bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o0">image</a>, (Ptr)info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a>, info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a>, inLineCount, bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o1">width</a>, bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o3">rowBytes</a> );
04385                         
04386                         <span class="keywordflow">if</span> (modelingData-&gt;hasNamedColorProf == <a class="code" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a18">NamedColorProfileAtBegin</a> ){
04387                                 err = <a class="code" href="../../d4/d4/w98_2lh__core_2runtime_8h.html#a10">ConvertIndexToLabBitmap</a>(  modelingData, bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o0">image</a>, 
04388                                                                                                 (Ptr)info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a>, info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a>, 
04389                                                                                                 inLineCount, bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o1">width</a>, 
04390                                                                                                 bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o3">rowBytes</a>, 
04391                                                                                                 calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o4">cmInputBytesPerLine</a>, 
04392                                                                                                 calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o6">cmInputPixelOffset</a>*8 );
04393                                 <span class="keywordflow">if</span> (err) 
04394                                         <span class="keywordflow">goto</span> CleanupAndExit;
04395                         }
04396                         calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a> = inLineCount;
04397                         err = <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a4">CallCalcProc</a>( calcRoutine, &amp;calcParam, &amp;lutParam );
04398                         <span class="keywordflow">if</span> (err) 
04399                                 <span class="keywordflow">goto</span> CleanupAndExit;
04400 
04401                         <span class="keywordflow">if</span>( info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o1">origSizeOut</a> == 1 )                                                                                                                                                     <span class="comment">/* output is 5 bit */</span>
04402                                 <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a14">Convert8To1</a> ( (Ptr)info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a>, bitMapOut.<a class="code" href="../../d6/d3/structCMBitmap.html#o0">image</a>, info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a>, calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a>, bitMapOut.<a class="code" href="../../d6/d3/structCMBitmap.html#o1">width</a>, bitMapOut.<a class="code" href="../../d6/d3/structCMBitmap.html#o3">rowBytes</a>);
04403 
04404                         info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a> += inLineCount;
04405                         <span class="comment">/* - - - - - handle CMBitmapCallBackProc - - - - - */</span>
04406                         <span class="keywordflow">if</span> ( progressProc &amp;&amp; ( progressTimer + <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a0">kProgressTicks</a> &lt; (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a14">SINT32</a>)<a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a7">TickCount</a>()) )  
04407                         {
04408                                 progressProcWasCalled = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
04409                                 <span class="keywordflow">if</span> (<a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a1">CallCMBitmapCallBackProc</a> ( progressProc, bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a>, info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a>, (<span class="keywordtype">void</span> *)refCon ))
04410                                 {
04411                                         info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a> =  bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a>; 
04412                                         err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a39">userCanceledErr</a>;
04413                                 } <span class="keywordflow">else</span>
04414                                         progressTimer = <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a7">TickCount</a>();
04415                                         progressProcCount = info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a>;
04416                         }
04417                         <span class="keywordflow">if</span>( !info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a> ){
04418                                 offset = calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a> * calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o4">cmInputBytesPerLine</a>;
04419                                 <span class="keywordflow">for</span> (dimLoop = 0; dimLoop&lt; lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o6">colorLutInDim</a>; dimLoop++)
04420                                         calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[dimLoop] = (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>)calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[dimLoop] + offset;
04421                         }
04422                         <span class="keywordflow">if</span>( !info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a> ){
04423                                 offset = calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a> * calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o5">cmOutputBytesPerLine</a>;
04424                                 <span class="keywordflow">for</span> (dimLoop = 0; dimLoop&lt; lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o7">colorLutOutDim</a>; dimLoop++)
04425                                         calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[dimLoop] =  (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>)calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[dimLoop]  + offset;
04426                         }
04427                 }
04428                 <a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a4">DisposeIfPtr</a>((Ptr)info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a>);
04429                 <a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a4">DisposeIfPtr</a>((Ptr)info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a>);
04430         }
04431         <span class="keywordflow">else</span>{
04432                 <a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a4">DisposeIfPtr</a>((Ptr)info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a>);
04433                 err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a32">cmMethodError</a>;
04434                 <span class="keywordflow">goto</span> CleanupAndExit;
04435         }
04436         <span class="keywordflow">if</span> (err) 
04437                 <span class="keywordflow">goto</span> CleanupAndExit;
04438         
04439         <span class="keywordflow">if</span>( progressProcWasCalled &amp;&amp; progressProcCount != bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a> )
04440                 <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a1">CallCMBitmapCallBackProc</a> ( progressProc, bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a>, bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a>, (<span class="keywordtype">void</span> *)refCon );
04441 CleanupAndExit:
04442         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a7">UNLOCK_DATA</a>((modelingData)-&gt;gamutLutParam.inputLut);
04443         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a7">UNLOCK_DATA</a>((modelingData)-&gt;gamutLutParam.colorLut);
04444         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a7">UNLOCK_DATA</a>((modelingData)-&gt;gamutLutParam.outputLut);
04445 
04446         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a2">LH_END_PROC</a>(<span class="stringliteral">"LHCheckBitMapPrivate"</span>)
04447         
04448         return err;
04449 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a32" doxytag="w98/lh_core/runtime.c::LHCheckColorsPrivate" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> LHCheckColorsPrivate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>modelingData</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d8/d3/unionCMColor.html">CMColor</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>myColors</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a6">UINT8</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>result</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l03871">3871</a> of file <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html">w98/lh_core/runtime.c</a>.
<p>
References <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a25">AllocBufferCheckCM()</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l00066">CalcProcPtr</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l00078">CallCalcProc</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00023">CMError</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00065">CMCalcParam::cmLineCount</a>, <a class="el" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a32">cmMethodError</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a14">Convert8To1()</a>, <a class="el" href="../../d7/d6/lh__open_2pi__mem_8c-source.html#l00099">DisposeIfPtr()</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a20">FillCalcParamCM()</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a18">FillLutParamChk()</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a27">FindCalcRoutine()</a>, <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00058">ColorSpaceInfo::inPlace</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00053">LH_END_PROC</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00052">LH_START_PROC</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00041">LOCK_DATA</a>, <a class="el" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a19">NamedColorProfileAtEnd</a>, <a class="el" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a17">NamedColorProfileOnly</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00020">nil</a>, <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00048">ColorSpaceInfo::origSizeIn</a>, <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00049">ColorSpaceInfo::origSizeOut</a>, <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00054">ColorSpaceInfo::processedLinesIn</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00052">Ptr</a>, <a class="el" href="../../d7/d7/w98_2lh__open_2pi__mem_8c.html#a6">SetMem()</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l00053">ColorSpaceInfo::tempOutBuffer</a>, <a class="el" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a56">unimpErr</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00042">UNLOCK_DATA</a>, <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00050">ColorSpaceInfo::usedSizeIn</a>, and <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00051">ColorSpaceInfo::usedSizeOut</a>.
<p>
<pre class="fragment"><div>03875 {
03876         <a class="code" href="../../d7/d3/structCMCalcParam.html">CMCalcParam</a>     calcParam;
03877         <a class="code" href="../../d0/d4/structCMLutParam.html">CMLutParam</a>              lutParam;
03878         <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a11">CMError</a>                 err = -1;
03879         <a class="code" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a>  info;
03880         <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a8">CalcProcPtr</a>             calcRoutine   = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>;
03881         
03882         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a1">LH_START_PROC</a>(<span class="stringliteral">"LHCheckColorsPrivate"</span>)
03883         
03884         SetMem(&amp;info,           sizeof(<a class="code" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a>), 0);
03885         SetMem(&amp;calcParam,      sizeof(<a class="code" href="../../d7/d3/structCMCalcParam.html">CMCalcParam</a>),    0);
03886  
03887         <span class="comment">/* disabling check colors with Named Color Profile */</span>
03888         if ( modelingData-&gt;hasNamedColorProf == NamedColorProfileOnly ||
03889                  modelingData-&gt;hasNamedColorProf == NamedColorProfileAtEnd ){
03890                 err = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a56">unimpErr</a>;
03891                 <span class="keywordflow">goto</span> CleanupAndExit;
03892         }
03893         
03894         info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o0">origSizeIn</a>  = 16;
03895         info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o1">origSizeOut</a> = 16;
03896         info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o2">usedSizeIn</a>  = 16;
03897         info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o3">usedSizeOut</a> = 16;
03898 
03899         <span class="keywordflow">if</span>( (modelingData)-&gt;gamutLutParam.colorLut == 0 )<span class="keywordflow">return</span> <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a32">cmMethodError</a>;
03900         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a6">LOCK_DATA</a>((modelingData)-&gt;gamutLutParam.inputLut);
03901         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a6">LOCK_DATA</a>((modelingData)-&gt;gamutLutParam.colorLut);
03902         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a6">LOCK_DATA</a>((modelingData)-&gt;gamutLutParam.outputLut);
03903 
03904         <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a18">FillLutParamChk</a>(&amp;lutParam, modelingData);
03905         <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a20">FillCalcParamCM</a>(&amp;calcParam, &amp;lutParam, myColors, count );
03906 
03907         <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a25">AllocBufferCheckCM</a>(&amp;calcParam, &amp;info);
03908         
03909         info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o10">inPlace</a> = info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a> == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>;
03910         calcRoutine = <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a27">FindCalcRoutine</a>( &amp;calcParam, &amp;lutParam, &amp;info, modelingData-&gt;lookup  );
03911         <span class="keywordflow">if</span> (calcRoutine == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>)
03912         {
03913                 err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a32">cmMethodError</a>;
03914                 <span class="keywordflow">goto</span> CleanupAndExit;
03915         }
03916                 
03917         err = <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a4">CallCalcProc</a>(calcRoutine, &amp;calcParam, &amp;lutParam);
03918         
03919         <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a14">Convert8To1</a>( (Ptr)info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a>, (Ptr)result, info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a>, calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a>, count, count*<span class="keyword">sizeof</span>(<a class="code" href="../../d8/d3/unionCMColor.html">CMColor</a>));                 
03920 
03921         <a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a4">DisposeIfPtr</a>((Ptr)info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a>);
03922         
03923 CleanupAndExit:
03924         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a7">UNLOCK_DATA</a>((modelingData)-&gt;gamutLutParam.inputLut);
03925         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a7">UNLOCK_DATA</a>((modelingData)-&gt;gamutLutParam.colorLut);
03926         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a7">UNLOCK_DATA</a>((modelingData)-&gt;gamutLutParam.outputLut);
03927         
03928         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a2">LH_END_PROC</a>(<span class="stringliteral">"LHCheckColorsPrivate"</span>)
03929         return err;
03930 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a31" doxytag="w98/lh_core/runtime.c::LHCheckColorsPrivateMS" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> LHCheckColorsPrivateMS           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>modelingData</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d8/d3/unionCMColor.html">CMColor</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>myColors</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a8">UINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a6">UINT8</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>result</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l03797">3797</a> of file <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html">w98/lh_core/runtime.c</a>.
<p>
References <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l00066">CalcProcPtr</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l00078">CallCalcProc</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00023">CMError</a>, <a class="el" href="../../d2/d6/lh__open_2pi__app_8h.html#a151a96">cmGraySpace8Bit</a>, <a class="el" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a32">cmMethodError</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00067">CMCalcParam::cmOutputBytesPerLine</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00063">CMCalcParam::cmOutputColorSpace</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00069">CMCalcParam::cmOutputPixelOffset</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l04690">ConvertNamedIndexToPCS()</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a20">FillCalcParamCM()</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a18">FillLutParamChk()</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a27">FindCalcRoutine()</a>, <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00058">ColorSpaceInfo::inPlace</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00053">LH_END_PROC</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00052">LH_START_PROC</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00041">LOCK_DATA</a>, <a class="el" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a18">NamedColorProfileAtBegin</a>, <a class="el" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a19">NamedColorProfileAtEnd</a>, <a class="el" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a17">NamedColorProfileOnly</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00020">nil</a>, <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00048">ColorSpaceInfo::origSizeIn</a>, <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00049">ColorSpaceInfo::origSizeOut</a>, <a class="el" href="../../d4/d6/lh__core_2typedefs_8h-source.html#l00071">CMCalcParam::outputData</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00052">Ptr</a>, <a class="el" href="../../d7/d7/w98_2lh__open_2pi__mem_8c.html#a6">SetMem()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00030">UINT8</a>, <a class="el" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a56">unimpErr</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00042">UNLOCK_DATA</a>, <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00050">ColorSpaceInfo::usedSizeIn</a>, and <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00051">ColorSpaceInfo::usedSizeOut</a>.
<p>
Referenced by <a class="el" href="../../d3/d7/lh__open_2pi__run_8c-source.html#l00316">CWCheckColorsMS()</a>.
<p>
<pre class="fragment"><div>03801 {
03802         <a class="code" href="../../d7/d3/structCMCalcParam.html">CMCalcParam</a>     calcParam;
03803         <a class="code" href="../../d0/d4/structCMLutParam.html">CMLutParam</a>              lutParam;
03804         <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a11">CMError</a>                 err = -1;
03805         <a class="code" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a>  info;
03806         <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a8">CalcProcPtr</a>             calcRoutine   = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>;
03807 
03808         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a1">LH_START_PROC</a>(<span class="stringliteral">"LHCheckColorsPrivateMS"</span>)
03809         
03810         if( (modelingData)-&gt;gamutLutParam.colorLut == 0 )return cmMethodError;
03811         LOCK_DATA((modelingData)-&gt;gamutLutParam.inputLut);
03812         LOCK_DATA((modelingData)-&gt;gamutLutParam.colorLut);
03813         LOCK_DATA((modelingData)-&gt;gamutLutParam.outputLut);
03814 
03815         <span class="comment">/* preprocess for NamedColor stuff */</span>
03816         if (modelingData-&gt;hasNamedColorProf == NamedColorProfileOnly){
03817                 err = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a56">unimpErr</a>;
03818                 <span class="keywordflow">goto</span> CleanupAndExit;
03819         } 
03820         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (modelingData-&gt;hasNamedColorProf==<a class="code" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a18">NamedColorProfileAtBegin</a>){
03821                 err = <a class="code" href="../../d4/d4/w98_2lh__core_2runtime_8h.html#a6">ConvertNamedIndexToPCS</a>(modelingData,myColors,count); 
03822                 <span class="keywordflow">if</span> (err) <span class="keywordflow">goto</span> CleanupAndExit;
03823         }
03824 
03825         <a class="code" href="../../d7/d7/w98_2lh__open_2pi__mem_8c.html#a6">SetMem</a>(&amp;info,           <span class="keyword">sizeof</span>(<a class="code" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a>), 0);
03826         <a class="code" href="../../d7/d7/w98_2lh__open_2pi__mem_8c.html#a6">SetMem</a>(&amp;calcParam,      <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d3/structCMCalcParam.html">CMCalcParam</a>),    0);
03827  
03828         info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o0">origSizeIn</a>  = 16;
03829         info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o1">origSizeOut</a> = 8;
03830         info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o2">usedSizeIn</a>  = 16;
03831         info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o3">usedSizeOut</a> = 8;
03832 
03833         <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a18">FillLutParamChk</a>(&amp;lutParam, modelingData);
03834         <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a20">FillCalcParamCM</a>(&amp;calcParam, &amp;lutParam, myColors, count );
03835         calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[0] = (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>)result;
03836         calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o5">cmOutputBytesPerLine</a> = count*<span class="keyword">sizeof</span>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a6">UINT8</a>);
03837         calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o7">cmOutputPixelOffset</a> = 1;
03838         calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o1">cmOutputColorSpace</a> = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a151a96">cmGraySpace8Bit</a>; <span class="comment">/* cmGraySpace is 16 bit */</span>
03839 
03840         
03841         info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o10">inPlace</a> = (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a6">UINT8</a> *)myColors == result;
03842         calcRoutine = <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a27">FindCalcRoutine</a>( &amp;calcParam, &amp;lutParam, &amp;info, modelingData-&gt;lookup );
03843         <span class="keywordflow">if</span> (calcRoutine == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>)
03844         {
03845                 err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a32">cmMethodError</a>;
03846                 <span class="keywordflow">goto</span> CleanupAndExit;
03847         }
03848                 
03849         err = <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a4">CallCalcProc</a>(calcRoutine,&amp;calcParam, &amp;lutParam);
03850         <span class="keywordflow">if</span> (err)
03851                 <span class="keywordflow">goto</span> CleanupAndExit;
03852         
03853         <span class="comment">/* postprocess for NamedColor stuff */</span>
03854         <span class="keywordflow">if</span>( modelingData-&gt;hasNamedColorProf == <a class="code" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a19">NamedColorProfileAtEnd</a> ){
03855                 err = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a58a56">unimpErr</a>;
03856                 <span class="keywordflow">goto</span> CleanupAndExit;
03857         }
03858 CleanupAndExit:
03859         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a7">UNLOCK_DATA</a>((modelingData)-&gt;gamutLutParam.inputLut);
03860         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a7">UNLOCK_DATA</a>((modelingData)-&gt;gamutLutParam.colorLut);
03861         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a7">UNLOCK_DATA</a>((modelingData)-&gt;gamutLutParam.outputLut);
03862 
03863         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a2">LH_END_PROC</a>(<span class="stringliteral">"LHCheckColorsPrivateMS"</span>)
03864         return err;
03865 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a36" doxytag="w98/lh_core/runtime.c::LHMatchBitMapPlanePrivate" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> LHMatchBitMapPlanePrivate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>modelingData</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="../../d2/d8/structLH__CMBitmapPlane.html">LH_CMBitmapPlane</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>bitMapLH</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a27">CMBitmapCallBackUPP</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>progressProc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>refCon</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d2/d8/structLH__CMBitmapPlane.html">LH_CMBitmapPlane</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>matchedBitMapLH</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l04464">4464</a> of file <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html">w98/lh_core/runtime.c</a>.
<p>
References <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00050">Boolean</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l00066">CalcProcPtr</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l00078">CallCalcProc</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00152">CallCMBitmapCallBackProc</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a21">CheckInputColorSpace()</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a22">CheckOutputColorSpace()</a>, <a class="el" href="../../d2/d6/lh__open_2pi__app_8h.html#a150a43">cmAlphaSpace</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00023">CMError</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00062">CMCalcParam::cmInputColorSpace</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00068">CMCalcParam::cmInputPixelOffset</a>, <a class="el" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a36">cmInvalidDstMap</a>, <a class="el" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a32">cmMethodError</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00063">CMCalcParam::cmOutputColorSpace</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00069">CMCalcParam::cmOutputPixelOffset</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00043">CMLutParam::colorLut</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00039">CMLutParam::colorLutInDim</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00040">CMLutParam::colorLutOutDim</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00072">CMCalcParam::copyAlpha</a>, <a class="el" href="../../d7/d6/lh__open_2pi__mem_8c-source.html#l00099">DisposeIfPtr()</a>, <a class="el" href="../../d7/d7/w98_2lh__core_2app_8h-source.html#l00033">LH_CMBitmapPlane::elementOffset</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a19">FillCalcParam()</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a17">FillLutParam()</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a27">FindCalcRoutine()</a>, <a class="el" href="../../d7/d7/w98_2lh__core_2app_8h-source.html#l00031">LH_CMBitmapPlane::height</a>, <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00290">CMBitmap::height</a>, <a class="el" href="../../d6/d7/lh__core_2app_8h-source.html#l00029">LH_CMBitmapPlane::image</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00290">CMBitmap::image</a>, <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00058">ColorSpaceInfo::inPlace</a>, <a class="el" href="../../d4/d6/lh__core_2typedefs_8h-source.html#l00070">CMCalcParam::inputData</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00035">CMLutParam::inputLut</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00053">LH_END_PROC</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00052">LH_START_PROC</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00041">LOCK_DATA</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00020">nil</a>, <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00048">ColorSpaceInfo::origSizeIn</a>, <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00049">ColorSpaceInfo::origSizeOut</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00070">OSType</a>, <a class="el" href="../../d4/d6/lh__core_2typedefs_8h-source.html#l00071">CMCalcParam::outputData</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00038">CMLutParam::outputLut</a>, <a class="el" href="../../d7/d7/w98_2lh__core_2app_8h-source.html#l00034">LH_CMBitmapPlane::pixelSize</a>, <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00292">CMBitmap::pixelSize</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00052">Ptr</a>, <a class="el" href="../../d7/d7/w98_2lh__core_2app_8h-source.html#l00032">LH_CMBitmapPlane::rowBytes</a>, <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00291">CMBitmap::rowBytes</a>, <a class="el" href="../../d7/d7/w98_2lh__open_2pi__mem_8c.html#a6">SetMem()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00040">SINT32</a>, <a class="el" href="../../d7/d7/w98_2lh__core_2app_8h-source.html#l00035">LH_CMBitmapPlane::space</a>, <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00293">CMBitmap::space</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l00052">ColorSpaceInfo::tempInBuffer</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l00053">ColorSpaceInfo::tempOutBuffer</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00042">UNLOCK_DATA</a>, <a class="el" href="../../d7/d7/w98_2lh__core_2app_8h-source.html#l00030">LH_CMBitmapPlane::width</a>, and <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00289">CMBitmap::width</a>.
<p>
Referenced by <a class="el" href="../../d3/d7/lh__open_2pi__run_8c-source.html#l00168">CWMatchBitmapPlane()</a>.
<p>
<pre class="fragment"><div>04469 {
04470         <a class="code" href="../../d7/d3/structCMCalcParam.html">CMCalcParam</a>     calcParam;
04471         <a class="code" href="../../d0/d4/structCMLutParam.html">CMLutParam</a>              lutParam;
04472         <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a11">CMError</a>                 err = -1;
04473         <a class="code" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a>  info;
04474         <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a8">CalcProcPtr</a>             calcRoutine             = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>;
04475         <a class="code" href="../../d2/d8/structLH__CMBitmapPlane.html">LH_CMBitmapPlane</a> *      secondBitmapLH  = matchedBitMapLH;
04476         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a34">OSType</a>                  inColorSpace            = (modelingData)-&gt;firstColorSpace;
04477         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a34">OSType</a>                  outColorSpace           = (modelingData)-&gt;lastColorSpace;
04478         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a21">Boolean</a>                 progressProcWasCalled = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
04479         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a21">Boolean</a>                 matchInPlace = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
04480         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a14">SINT32</a>                  dimLoop;
04481         
04482         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a1">LH_START_PROC</a>(<span class="stringliteral">"LHMatchBitMapPlanePrivate"</span>)
04483         
04484         SetMem(&amp;info,           sizeof(<a class="code" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a>), 0);
04485         SetMem(&amp;calcParam,      sizeof(<a class="code" href="../../d7/d3/structCMCalcParam.html">CMCalcParam</a>),    0);
04486         
04487         if (secondBitmapLH == nil)
04488         {
04489                 secondBitmapLH = (<a class="code" href="../../d2/d8/structLH__CMBitmapPlane.html">LH_CMBitmapPlane</a> *)bitMapLH;
04490                 matchInPlace = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
04491         }
04492         
04493         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a6">LOCK_DATA</a>((modelingData)-&gt;lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o2">inputLut</a>);
04494         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a6">LOCK_DATA</a>((modelingData)-&gt;lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o10">colorLut</a>);
04495         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a6">LOCK_DATA</a>((modelingData)-&gt;lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o5">outputLut</a>);
04496         
04497         <span class="comment">/* create CMBitmap based on the LH_CMBitmapPlane - so we can use the 'standard' setup functions */</span>
04498         {
04499                 <a class="code" href="../../d6/d3/structCMBitmap.html">CMBitmap</a>                bitMap;
04500                 <a class="code" href="../../d6/d3/structCMBitmap.html">CMBitmap</a>                secondBitmap;
04501         
04502                 bitMap.<a class="code" href="../../d6/d3/structCMBitmap.html#o0">image</a>                    = bitMapLH-&gt;<a class="code" href="../../d2/d8/structLH__CMBitmapPlane.html#o0">image</a>[0];
04503                 bitMap.<a class="code" href="../../d6/d3/structCMBitmap.html#o1">width</a>                    = bitMapLH-&gt;<a class="code" href="../../d2/d8/structLH__CMBitmapPlane.html#o1">width</a>;
04504                 bitMap.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a>                   = bitMapLH-&gt;<a class="code" href="../../d2/d8/structLH__CMBitmapPlane.html#o2">height</a>;
04505                 bitMap.<a class="code" href="../../d6/d3/structCMBitmap.html#o3">rowBytes</a>                 = bitMapLH-&gt;<a class="code" href="../../d2/d8/structLH__CMBitmapPlane.html#o3">rowBytes</a>;
04506                 bitMap.<a class="code" href="../../d6/d3/structCMBitmap.html#o4">pixelSize</a>                = bitMapLH-&gt;<a class="code" href="../../d2/d8/structLH__CMBitmapPlane.html#o5">pixelSize</a>;
04507                 bitMap.<a class="code" href="../../d6/d3/structCMBitmap.html#o5">space</a>                    = bitMapLH-&gt;<a class="code" href="../../d2/d8/structLH__CMBitmapPlane.html#o6">space</a>;
04508         
04509                 secondBitmap.<a class="code" href="../../d6/d3/structCMBitmap.html#o0">image</a>              = secondBitmapLH-&gt;<a class="code" href="../../d2/d8/structLH__CMBitmapPlane.html#o0">image</a>[0];
04510                 secondBitmap.<a class="code" href="../../d6/d3/structCMBitmap.html#o1">width</a>              = secondBitmapLH-&gt;<a class="code" href="../../d2/d8/structLH__CMBitmapPlane.html#o1">width</a>;
04511                 secondBitmap.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a>             = secondBitmapLH-&gt;<a class="code" href="../../d2/d8/structLH__CMBitmapPlane.html#o2">height</a>;
04512                 secondBitmap.<a class="code" href="../../d6/d3/structCMBitmap.html#o3">rowBytes</a>   = secondBitmapLH-&gt;<a class="code" href="../../d2/d8/structLH__CMBitmapPlane.html#o3">rowBytes</a>;
04513                 secondBitmap.<a class="code" href="../../d6/d3/structCMBitmap.html#o4">pixelSize</a>  = secondBitmapLH-&gt;<a class="code" href="../../d2/d8/structLH__CMBitmapPlane.html#o5">pixelSize</a>;
04514                 secondBitmap.<a class="code" href="../../d6/d3/structCMBitmap.html#o5">space</a>              = secondBitmapLH-&gt;<a class="code" href="../../d2/d8/structLH__CMBitmapPlane.html#o6">space</a>;
04515         
04516                 <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a17">FillLutParam</a>(&amp;lutParam, modelingData);
04517                 <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a19">FillCalcParam</a>(&amp;calcParam, &amp;bitMap, &amp;secondBitmap);
04518 
04519                 err = <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a21">CheckInputColorSpace</a>(&amp;bitMap,&amp;calcParam, &amp;info, inColorSpace, lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o6">colorLutInDim</a> );
04520                 <span class="keywordflow">if</span> (err)
04521                         <span class="keywordflow">goto</span> CleanupAndExit;
04522                 err = <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a22">CheckOutputColorSpace</a>(&amp;secondBitmap,&amp;calcParam, &amp;info, outColorSpace, lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o7">colorLutOutDim</a> );
04523                 <span class="keywordflow">if</span> (err)
04524                         <span class="keywordflow">goto</span> CleanupAndExit;
04525         }
04526         
04527         <span class="comment">/* now update the input/output data pointers */</span>
04528         <span class="keywordflow">for</span> (dimLoop = 0; dimLoop &lt; 8; dimLoop++)
04529         {
04530                 calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[dimLoop]    = bitMapLH-&gt;<a class="code" href="../../d2/d8/structLH__CMBitmapPlane.html#o0">image</a>[dimLoop];
04531                 calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[dimLoop]   = secondBitmapLH-&gt;<a class="code" href="../../d2/d8/structLH__CMBitmapPlane.html#o0">image</a>[dimLoop];
04532         }
04533         
04534         calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o6">cmInputPixelOffset</a> = bitMapLH-&gt;<a class="code" href="../../d2/d8/structLH__CMBitmapPlane.html#o4">elementOffset</a>;
04535         calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o7">cmOutputPixelOffset</a> = secondBitmapLH-&gt;<a class="code" href="../../d2/d8/structLH__CMBitmapPlane.html#o4">elementOffset</a>;
04536         <span class="keywordflow">if</span> (bitMapLH == secondBitmapLH)         <span class="comment">/* matching in place - check if pixeloffsets are ok */</span>
04537         {
04538                 <span class="keywordflow">if</span> (calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o6">cmInputPixelOffset</a> &lt; calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o7">cmOutputPixelOffset</a>)
04539                 {
04540                         err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a36">cmInvalidDstMap</a>;
04541                         <span class="keywordflow">goto</span> CleanupAndExit;
04542                 }
04543                 <span class="keywordflow">if</span> (info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o0">origSizeIn</a> * lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o6">colorLutInDim</a> &lt; info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o1">origSizeOut</a> * lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o7">colorLutOutDim</a>)
04544                 {
04545                         err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a36">cmInvalidDstMap</a>;
04546                         <span class="keywordflow">goto</span> CleanupAndExit;
04547                 }
04548         } <span class="keywordflow">else</span>
04549         {
04550                 calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o10">copyAlpha</a> = (calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o0">cmInputColorSpace</a> &amp; <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a150a43">cmAlphaSpace</a>) &amp;&amp; (calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o1">cmOutputColorSpace</a> &amp; <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a150a43">cmAlphaSpace</a>);
04551         }
04552 
04553         info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o10">inPlace</a> = info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a> == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a> &amp;&amp; info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a> == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>;
04554         calcRoutine = <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a27">FindCalcRoutine</a>( &amp;calcParam, &amp;lutParam, &amp;info, modelingData-&gt;lookup );
04555         <span class="keywordflow">if</span> (calcRoutine == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>)
04556         {
04557                 err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a32">cmMethodError</a>;
04558                 <span class="keywordflow">goto</span> CleanupAndExit;
04559         }
04560         
04561         <span class="comment">/* ------------------------------------------------- 8 or 16 bit data --------------------------------------------------------- */</span>
04562         <span class="keywordflow">if</span> ((info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a> == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>) &amp;&amp; (info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a> == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>))
04563         {
04564                 err = <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a4">CallCalcProc</a>(calcRoutine,&amp;calcParam, &amp;lutParam);
04565         }
04566         <span class="comment">/* ----------------------------------------------- input is 5 or 10 bit ------------------------------------------------------- */</span>
04567         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a> != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>) &amp;&amp; (info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a> == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>))
04568         {
04569                 <a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a4">DisposeIfPtr</a>((Ptr)info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a>);
04570         }
04571         <span class="comment">/* ----------------------------------------------- output is 5 or 10 bit ------------------------------------------------------- */</span>
04572         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a> == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>) &amp;&amp; (info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a> != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>))
04573         {
04574                 <a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a4">DisposeIfPtr</a>((Ptr)info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a>);
04575         }
04576         <span class="comment">/* ------------------------------------------ input and output are 5 or 10 bit ------------------------------------------------- */</span>
04577         <span class="keywordflow">else</span>
04578         {
04579                 <a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a4">DisposeIfPtr</a>((Ptr)info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a>);
04580                 <a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a4">DisposeIfPtr</a>((Ptr)info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a>);
04581         }
04582         
04583         <span class="keywordflow">if</span> (progressProcWasCalled)
04584                 <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a1">CallCMBitmapCallBackProc</a> ( progressProc, 0, 0, (<span class="keywordtype">void</span> *)refCon );
04585 CleanupAndExit:
04586         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a7">UNLOCK_DATA</a>((modelingData)-&gt;lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o2">inputLut</a>);
04587         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a7">UNLOCK_DATA</a>((modelingData)-&gt;lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o10">colorLut</a>);
04588         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a7">UNLOCK_DATA</a>((modelingData)-&gt;lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o5">outputLut</a>);
04589                 
04590         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a2">LH_END_PROC</a>(<span class="stringliteral">"LHMatchBitMapPlanePrivate"</span>)
04591         return err;
04592 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a34" doxytag="w98/lh_core/runtime.c::LHMatchBitMapPrivate" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> LHMatchBitMapPrivate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>modelingData</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const <a class="el" href="../../d6/d3/structCMBitmap.html">CMBitmap</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>inBitMap</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a27">CMBitmapCallBackUPP</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>progressProc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>refCon</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d6/d3/structCMBitmap.html">CMBitmap</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>outBitMap</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l03995">3995</a> of file <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html">w98/lh_core/runtime.c</a>.
<p>
References <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00050">Boolean</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l00066">CalcProcPtr</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l00078">CallCalcProc</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00152">CallCMBitmapCallBackProc</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a21">CheckInputColorSpace()</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a22">CheckOutputColorSpace()</a>, <a class="el" href="../../d2/d6/lh__open_2pi__app_8h.html#a150a43">cmAlphaSpace</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00023">CMError</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00066">CMCalcParam::cmInputBytesPerLine</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00062">CMCalcParam::cmInputColorSpace</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00068">CMCalcParam::cmInputPixelOffset</a>, <a class="el" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a36">cmInvalidDstMap</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00065">CMCalcParam::cmLineCount</a>, <a class="el" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a32">cmMethodError</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00067">CMCalcParam::cmOutputBytesPerLine</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00063">CMCalcParam::cmOutputColorSpace</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00069">CMCalcParam::cmOutputPixelOffset</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00064">CMCalcParam::cmPixelPerLine</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00043">CMLutParam::colorLut</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00039">CMLutParam::colorLutInDim</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00040">CMLutParam::colorLutOutDim</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a16">Convert10To16()</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a15">Convert16To10()</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a12">Convert5To8()</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a13">Convert8To5()</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l04948">ConvertIndexToLabBitmap()</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l04865">ConvertLabToIndexBitmap()</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00072">CMCalcParam::copyAlpha</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a33">CopyIndexData()</a>, <a class="el" href="../../d7/d6/lh__open_2pi__mem_8c-source.html#l00099">DisposeIfPtr()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a19">FillCalcParam()</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a17">FillLutParam()</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a27">FindCalcRoutine()</a>, <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00290">CMBitmap::height</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00290">CMBitmap::image</a>, <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00058">ColorSpaceInfo::inPlace</a>, <a class="el" href="../../d4/d6/lh__core_2typedefs_8h-source.html#l00070">CMCalcParam::inputData</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00035">CMLutParam::inputLut</a>, <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00056">ColorSpaceInfo::inputPixelSize</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l00063">kMaxTempBlock</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l00062">kProgressTicks</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00053">LH_END_PROC</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00052">LH_START_PROC</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00041">LOCK_DATA</a>, <a class="el" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a18">NamedColorProfileAtBegin</a>, <a class="el" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a19">NamedColorProfileAtEnd</a>, <a class="el" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a17">NamedColorProfileOnly</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00020">nil</a>, <a class="el" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a16">NoNamedColorProfile</a>, <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00048">ColorSpaceInfo::origSizeIn</a>, <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00049">ColorSpaceInfo::origSizeOut</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00070">OSType</a>, <a class="el" href="../../d4/d6/lh__core_2typedefs_8h-source.html#l00071">CMCalcParam::outputData</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00038">CMLutParam::outputLut</a>, <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00057">ColorSpaceInfo::outputPixelSize</a>, <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00054">ColorSpaceInfo::processedLinesIn</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00052">Ptr</a>, <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00291">CMBitmap::rowBytes</a>, <a class="el" href="../../d7/d7/w98_2lh__open_2pi__mem_8c.html#a6">SetMem()</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a23">SetOutputColorSpaceInplace()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00040">SINT32</a>, <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00293">CMBitmap::space</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l00052">ColorSpaceInfo::tempInBuffer</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l00053">ColorSpaceInfo::tempOutBuffer</a>, <a class="el" href="../../d7/d7/lh__open_2pi__tick_8c-source.html#l00055">TickCount()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00042">UNLOCK_DATA</a>, <a class="el" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a39">userCanceledErr</a>, and <a class="el" href="../../d4/d5/w98_2lh__open_2pi__app_8h-source.html#l00289">CMBitmap::width</a>.
<p>
Referenced by <a class="el" href="../../d3/d7/lh__open_2pi__run_8c-source.html#l00056">CWMatchBitmap()</a>.
<p>
<pre class="fragment"><div>04000 {
04001         <a class="code" href="../../d7/d3/structCMCalcParam.html">CMCalcParam</a>     calcParam;
04002         <a class="code" href="../../d0/d4/structCMLutParam.html">CMLutParam</a>              lutParam;
04003         <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a11">CMError</a>                 err = -1;
04004         <a class="code" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a>  info;
04005         <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a8">CalcProcPtr</a>             calcRoutine     = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>;
04006         <a class="code" href="../../d6/d3/structCMBitmap.html">CMBitmap</a>                bitMapOut;
04007         <a class="code" href="../../d6/d3/structCMBitmap.html">CMBitmap</a>                bitMapIn                        = *inBitMap;
04008         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a34">OSType</a>                  inColorSpace    = modelingData-&gt;firstColorSpace;
04009         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a34">OSType</a>                  outColorSpace   = modelingData-&gt;lastColorSpace;
04010         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a21">Boolean</a>                 progressProcWasCalled = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
04011         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a14">SINT32</a>                  offset;
04012         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a14">SINT32</a>                  progressTimer;
04013         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a14">SINT32</a>                  dimLoop;
04014         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a21">Boolean</a>                 matchInPlace = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
04015         <span class="keywordtype">long</span>                    progressProcCount = 0;
04016         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a14">SINT32</a>                  inLineCount;
04017         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>                             aBuffer;
04018         
04019         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a1">LH_START_PROC</a>(<span class="stringliteral">"LHMatchBitMapPrivate"</span>)
04020 
04021         LOCK_DATA((modelingData)-&gt;lutParam.inputLut);
04022         LOCK_DATA((modelingData)-&gt;lutParam.colorLut);
04023         LOCK_DATA((modelingData)-&gt;lutParam.outputLut);
04024 
04025         if( outBitMap == nil ){
04026                 bitMapOut = *inBitMap;
04027                 matchInPlace = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
04028         }
04029         <span class="keywordflow">else</span>{
04030                 bitMapOut       = *outBitMap;
04031         }
04032 
04033         <a class="code" href="../../d7/d7/w98_2lh__open_2pi__mem_8c.html#a6">SetMem</a>(&amp;info,           <span class="keyword">sizeof</span>(<a class="code" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a>), 0);
04034         <a class="code" href="../../d7/d7/w98_2lh__open_2pi__mem_8c.html#a6">SetMem</a>(&amp;calcParam,      <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d3/structCMCalcParam.html">CMCalcParam</a>),    0);
04035 
04036         <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a17">FillLutParam</a>(&amp;lutParam, modelingData);
04037         <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a19">FillCalcParam</a>(&amp;calcParam, &amp;bitMapIn, &amp;bitMapOut);
04038         
04039         err = <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a21">CheckInputColorSpace</a>( &amp;bitMapIn, &amp;calcParam, &amp;info, inColorSpace, lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o6">colorLutInDim</a> );
04040         inLineCount = calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a>;
04041         <span class="keywordflow">if</span> (err)
04042                 <span class="keywordflow">goto</span> CleanupAndExit;
04043                 
04044         <span class="keywordflow">if</span> (matchInPlace){
04045                 err = <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a23">SetOutputColorSpaceInplace</a>( &amp;calcParam, &amp;info, outColorSpace);
04046                 <span class="keywordflow">if</span> (err)
04047                         <span class="keywordflow">goto</span> CleanupAndExit;
04048         }
04049         err = <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a22">CheckOutputColorSpace</a>( &amp;bitMapOut, &amp;calcParam, &amp;info, outColorSpace, lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o7">colorLutOutDim</a> );
04050         <span class="keywordflow">if</span> (err)
04051                 <span class="keywordflow">goto</span> CleanupAndExit;
04052         
04053         <span class="keywordflow">if</span> (matchInPlace)               <span class="comment">/* matching in place - check if pixel sizes are ok */</span>
04054         {
04055                 <span class="keywordflow">if</span> (info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o8">inputPixelSize</a> &lt; info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o9">outputPixelSize</a>)
04056                 {
04057                         err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a36">cmInvalidDstMap</a>;
04058                         <span class="keywordflow">goto</span> CleanupAndExit;
04059                 }               
04060                 <span class="comment">/* set the color space field to the output color space */</span>
04061                 bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o5">space</a> = calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o1">cmOutputColorSpace</a>;
04062         } <span class="keywordflow">else</span>
04063         {
04064                 calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o10">copyAlpha</a> = (calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o0">cmInputColorSpace</a> &amp; <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a150a43">cmAlphaSpace</a>) &amp;&amp; (calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o1">cmOutputColorSpace</a> &amp; <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a150a43">cmAlphaSpace</a>);
04065         }
04066 
04067         info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o10">inPlace</a> = bitMapOut.<a class="code" href="../../d6/d3/structCMBitmap.html#o0">image</a> == bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o0">image</a> &amp;&amp; info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a> == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a> &amp;&amp; info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a> == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>;
04068         calcRoutine = <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a27">FindCalcRoutine</a>( &amp;calcParam, &amp;lutParam, &amp;info, modelingData-&gt;lookup );
04069         <span class="keywordflow">if</span> (calcRoutine == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>)
04070         {
04071                 err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a32">cmMethodError</a>;
04072                 <span class="keywordflow">goto</span> CleanupAndExit;
04073         }
04074         
04075         <span class="keywordflow">if</span>( info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o10">inPlace</a> &amp;&amp; calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o6">cmInputPixelOffset</a> &lt; calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o7">cmOutputPixelOffset</a> ){
04076                         <span class="keywordflow">for</span>( dimLoop=0; dimLoop&lt;8; dimLoop++){                                  <span class="comment">/* now work backwards                           */</span>
04077                                 calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[dimLoop] = (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>)calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[dimLoop] + (calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a>-1) * calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o4">cmInputBytesPerLine</a> + (calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o2">cmPixelPerLine</a>-1) * calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o6">cmInputPixelOffset</a>;
04078                                 calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[dimLoop] = (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>)calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[dimLoop] + (calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a>-1) * calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o5">cmOutputBytesPerLine</a> + (calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o2">cmPixelPerLine</a>-1) * calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o7">cmOutputPixelOffset</a>;
04079                         }
04080                         calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o6">cmInputPixelOffset</a> = -calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o6">cmInputPixelOffset</a>;   
04081                         calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o7">cmOutputPixelOffset</a> = -calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o7">cmOutputPixelOffset</a>;
04082                         calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o4">cmInputBytesPerLine</a> = -calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o4">cmInputBytesPerLine</a>;
04083                         calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o5">cmOutputBytesPerLine</a> = -calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o5">cmOutputBytesPerLine</a>;
04084         }
04085         <span class="comment">/* ------------------------------------------------- 8 or 16 bit data --------------------------------------------------------- */</span>
04086         <span class="keywordflow">if</span> ((info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a> == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>) &amp;&amp; (info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a> == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>)&amp;&amp; modelingData-&gt;hasNamedColorProf == <a class="code" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a16">NoNamedColorProfile</a>)
04087         {
04088                 <span class="keywordflow">if</span> (progressProc == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>)
04089                         err = <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a4">CallCalcProc</a>(calcRoutine,&amp;calcParam, &amp;lutParam);          <span class="comment">/* no callback proc - do it all in one step */</span>
04090                 <span class="keywordflow">else</span>
04091                 {
04092                         calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a> = <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a1">kMaxTempBlock</a> / calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o4">cmInputBytesPerLine</a>;
04093                         <span class="keywordflow">if</span> (calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a> &lt; 1)
04094                                 calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a> = 1;
04095                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a> &gt; bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a>)
04096                                 calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a> = bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a>;
04097                                 
04098                         progressTimer = <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a7">TickCount</a>();
04099                         <span class="keywordflow">while</span> ( info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a> &lt;  bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a> )
04100                         {
04101                                 err = <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a4">CallCalcProc</a>(calcRoutine,&amp;calcParam, &amp;lutParam);
04102                         
04103                                 <span class="keywordflow">for</span> (dimLoop = 0; dimLoop&lt; lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o6">colorLutInDim</a>; dimLoop++)
04104                                         calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[dimLoop] = (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>)calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[dimLoop] + calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a> * calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o4">cmInputBytesPerLine</a>;
04105                                         
04106                                 <span class="keywordflow">for</span> (dimLoop = 0; dimLoop&lt; lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o7">colorLutOutDim</a>; dimLoop++)
04107                                         calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[dimLoop] =  (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>)calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[dimLoop]  + calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a> * calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o5">cmOutputBytesPerLine</a>;
04108         
04109                                 info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a> += calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a>;
04110                                 <span class="keywordflow">if</span> ( info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a> + calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a> &gt; bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a> )
04111                                         calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a> = bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a>-info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a>;
04112                                                 
04113                                 <span class="comment">/* - - - - - handle CMBitmapCallBackProc - - - - - */</span>
04114                                 <span class="keywordflow">if</span> ( progressProc &amp;&amp; ( progressTimer + <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a0">kProgressTicks</a> &lt; (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a14">SINT32</a>)<a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a7">TickCount</a>()) )  
04115                                 {
04116                                         progressProcWasCalled = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
04117                                         <span class="keywordflow">if</span> (<a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a1">CallCMBitmapCallBackProc</a> ( progressProc, bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a>, info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a>, (<span class="keywordtype">void</span> *)refCon ))
04118                                         {
04119                                                 info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a> =  bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a>; 
04120                                                 err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a39">userCanceledErr</a>;
04121                                         } <span class="keywordflow">else</span>
04122                                                 progressTimer = <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a7">TickCount</a>();
04123                                                 progressProcCount = info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a>;
04124                                 }
04125                         }
04126                 }
04127         }
04128         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (modelingData-&gt;hasNamedColorProf != <a class="code" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a17">NamedColorProfileOnly</a> ){
04129                 info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a> = 0;
04130                 progressTimer = <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a7">TickCount</a>();
04131                 <span class="keywordflow">if</span>( info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a> &amp;&amp; info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a> ){
04132                         <span class="keywordflow">if</span>( inLineCount &gt; calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a> )inLineCount = calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a>;
04133                 }
04134                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>( info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a> ){
04135                         <span class="keywordflow">if</span>( progressProc &amp;&amp; modelingData-&gt;hasNamedColorProf == <a class="code" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a19">NamedColorProfileAtEnd</a> ){
04136                                 inLineCount /= 32;
04137                                 <span class="keywordflow">if</span>( inLineCount &lt; 1 ) inLineCount = 1;
04138                         }
04139                 }
04140                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>( info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a> ){
04141                         inLineCount = calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a>;
04142                 }
04143                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>( progressProc ){
04144                         inLineCount = <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a1">kMaxTempBlock</a> / calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o4">cmInputBytesPerLine</a>;
04145                         <span class="keywordflow">if</span> (inLineCount &lt; 1)
04146                                 inLineCount = 1;
04147                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (inLineCount &gt; bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a>)
04148                                 inLineCount = bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a>;
04149                         <span class="keywordflow">if</span>( modelingData-&gt;hasNamedColorProf == <a class="code" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a19">NamedColorProfileAtEnd</a> ){
04150                                 inLineCount /= 32;
04151                                 <span class="keywordflow">if</span>( inLineCount &lt; 1 ) inLineCount = 1;
04152                         }
04153                 }
04154                 <span class="keywordflow">while</span> ( info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a> &lt;  bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a> )
04155                 {
04156                         <span class="keywordflow">if</span> ( info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a> + inLineCount &gt; bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a> )
04157                                 inLineCount = bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a>-info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a>;
04158 
04159                         <span class="keywordflow">if</span> (info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o0">origSizeIn</a> == 5 )                                                                                                                                                      <span class="comment">/* input is 5 bit */</span>
04160                                 <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a12">Convert5To8</a>  ( bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o0">image</a>, (Ptr)info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a>, info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a>, inLineCount, bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o1">width</a>, bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o3">rowBytes</a> );
04161 <span class="preprocessor">#ifdef PI_Application_h</span>
04162 <span class="preprocessor"></span>                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o0">origSizeIn</a> == 6 )                                                                                                                                                 <span class="comment">/* output is 5 bit */</span>
04163                                 Convert565To8 ( bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o0">image</a>, (Ptr)info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a>, info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a>, inLineCount, bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o1">width</a>, bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o3">rowBytes</a> );
04164 <span class="preprocessor">#endif</span>
04165 <span class="preprocessor"></span>                        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o0">origSizeIn</a> == 10 ) 
04166                                         <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a16">Convert10To16</a>  ( bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o0">image</a>, (Ptr)info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a>, info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a>, inLineCount, bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o1">width</a>, bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o3">rowBytes</a> );
04167                         
04168                         <span class="keywordflow">if</span> (modelingData-&gt;hasNamedColorProf == <a class="code" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a18">NamedColorProfileAtBegin</a> ){
04169                                 err = <a class="code" href="../../d4/d4/w98_2lh__core_2runtime_8h.html#a10">ConvertIndexToLabBitmap</a>(  modelingData, bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o0">image</a>, 
04170                                                                                                 (Ptr)info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a>, info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a>, 
04171                                                                                                 inLineCount, bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o1">width</a>, 
04172                                                                                                 bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o3">rowBytes</a>, 
04173                                                                                                 calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o4">cmInputBytesPerLine</a>, 
04174                                                                                                 calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o6">cmInputPixelOffset</a>*8 );
04175                                 <span class="keywordflow">if</span> (err) 
04176                                         <span class="keywordflow">goto</span> CleanupAndExit;
04177                         }
04178                         calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a> = inLineCount;
04179                         err = <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a4">CallCalcProc</a>( calcRoutine, &amp;calcParam, &amp;lutParam );
04180                         <span class="keywordflow">if</span> (err) 
04181                                 <span class="keywordflow">goto</span> CleanupAndExit;
04182 
04183                         <span class="keywordflow">if</span> (modelingData-&gt;hasNamedColorProf == <a class="code" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a19">NamedColorProfileAtEnd</a> ){
04184                                 <span class="keywordflow">if</span>( info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a> )aBuffer = (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>)info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a>;
04185                                 <span class="keywordflow">else</span> aBuffer = bitMapOut.<a class="code" href="../../d6/d3/structCMBitmap.html#o0">image</a>;
04186                                 err = <a class="code" href="../../d4/d4/w98_2lh__core_2runtime_8h.html#a9">ConvertLabToIndexBitmap</a>(  modelingData, aBuffer, 
04187                                                                                                 info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a>, 
04188                                                                                                 calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a>,
04189                                                                                                 bitMapOut.<a class="code" href="../../d6/d3/structCMBitmap.html#o1">width</a>, bitMapOut.<a class="code" href="../../d6/d3/structCMBitmap.html#o3">rowBytes</a> );
04190                                 <span class="keywordflow">if</span> (err) 
04191                                         <span class="keywordflow">goto</span> CleanupAndExit;
04192                         }
04193 
04194                         <span class="keywordflow">if</span>( info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o1">origSizeOut</a> == 5 )                                                                                                                                                     <span class="comment">/* output is 5 bit */</span>
04195                                 <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a13">Convert8To5</a> ( (Ptr)info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a>, bitMapOut.<a class="code" href="../../d6/d3/structCMBitmap.html#o0">image</a>, info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a>, calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a>, bitMapOut.<a class="code" href="../../d6/d3/structCMBitmap.html#o1">width</a>, bitMapOut.<a class="code" href="../../d6/d3/structCMBitmap.html#o3">rowBytes</a>);
04196 <span class="preprocessor">#ifdef PI_Application_h</span>
04197 <span class="preprocessor"></span>                        <span class="keywordflow">else</span> <span class="keywordflow">if</span>( info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o1">origSizeOut</a> == 6 )                                                                                                                                                        <span class="comment">/* output is 5 bit */</span>
04198                                 Convert8To565 ( (Ptr)info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a>, bitMapOut.<a class="code" href="../../d6/d3/structCMBitmap.html#o0">image</a>, info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a>, calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a>, bitMapOut.<a class="code" href="../../d6/d3/structCMBitmap.html#o1">width</a>, bitMapOut.<a class="code" href="../../d6/d3/structCMBitmap.html#o3">rowBytes</a>);
04199 <span class="preprocessor">#endif</span>
04200 <span class="preprocessor"></span>                        <span class="keywordflow">else</span> <span class="keywordflow">if</span>( info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o1">origSizeOut</a> == 10 )                                                                                                                                                                                               <span class="comment">/* output is 10 bit */</span>
04201                                 <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a15">Convert16To10</a> ( (Ptr)info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a>, bitMapOut.<a class="code" href="../../d6/d3/structCMBitmap.html#o0">image</a>, info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a>, calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a>, bitMapOut.<a class="code" href="../../d6/d3/structCMBitmap.html#o1">width</a>, bitMapOut.<a class="code" href="../../d6/d3/structCMBitmap.html#o3">rowBytes</a>);
04202 
04203                         info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a> += inLineCount;
04204                         <span class="comment">/* - - - - - handle CMBitmapCallBackProc - - - - - */</span>
04205                         <span class="keywordflow">if</span> ( progressProc &amp;&amp; ( progressTimer + <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a0">kProgressTicks</a> &lt; (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a14">SINT32</a>)<a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a7">TickCount</a>()) )  
04206                         {
04207                                 progressProcWasCalled = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
04208                                 <span class="keywordflow">if</span> (<a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a1">CallCMBitmapCallBackProc</a> ( progressProc, bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a>, info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a>, (<span class="keywordtype">void</span> *)refCon ))
04209                                 {
04210                                         info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a> =  bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a>; 
04211                                         err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a39">userCanceledErr</a>;
04212                                 } <span class="keywordflow">else</span>
04213                                         progressTimer = <a class="code" href="../../d8/d7/lh__open_2pi__mem_8h.html#a7">TickCount</a>();
04214                                         progressProcCount = info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o6">processedLinesIn</a>;
04215                         }
04216                         <span class="keywordflow">if</span>( !info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a> ){
04217                                 offset = calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a> * calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o4">cmInputBytesPerLine</a>;
04218                                 <span class="keywordflow">for</span> (dimLoop = 0; dimLoop&lt; lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o6">colorLutInDim</a>; dimLoop++)
04219                                         calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[dimLoop] = (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>)calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o8">inputData</a>[dimLoop] + offset;
04220                         }
04221                         <span class="keywordflow">if</span>( !info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a> ){
04222                                 offset = calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o3">cmLineCount</a> * calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o5">cmOutputBytesPerLine</a>;
04223                                 <span class="keywordflow">for</span> (dimLoop = 0; dimLoop&lt; lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o7">colorLutOutDim</a>; dimLoop++)
04224                                         calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[dimLoop] =  (<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a28">Ptr</a>)calcParam.<a class="code" href="../../d7/d3/structCMCalcParam.html#o9">outputData</a>[dimLoop]  + offset;
04225                         }
04226                 }
04227                 <a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a4">DisposeIfPtr</a>((Ptr)info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a>);
04228                 <a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a4">DisposeIfPtr</a>((Ptr)info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o5">tempOutBuffer</a>);
04229         }
04230         <span class="keywordflow">else</span>{
04231                 <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a33">CopyIndexData</a>( &amp;bitMapIn, &amp;bitMapOut, &amp;info );
04232                 <a class="code" href="../../d9/d7/w98_2lh__open_2pi__mem_8h.html#a4">DisposeIfPtr</a>((Ptr)info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o4">tempInBuffer</a>);
04233         }
04234         <span class="keywordflow">if</span> (err) 
04235                 <span class="keywordflow">goto</span> CleanupAndExit;
04236         
04237         <span class="keywordflow">if</span>( progressProcWasCalled &amp;&amp; progressProcCount != bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a> )
04238                 <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a1">CallCMBitmapCallBackProc</a> ( progressProc, bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a>, bitMapIn.<a class="code" href="../../d6/d3/structCMBitmap.html#o2">height</a>, (<span class="keywordtype">void</span> *)refCon );
04239 CleanupAndExit:
04240         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a7">UNLOCK_DATA</a>((modelingData)-&gt;lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o2">inputLut</a>);
04241         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a7">UNLOCK_DATA</a>((modelingData)-&gt;lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o10">colorLut</a>);
04242         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a7">UNLOCK_DATA</a>((modelingData)-&gt;lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o5">outputLut</a>);
04243 
04244         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a2">LH_END_PROC</a>(<span class="stringliteral">"LHMatchBitMapPrivate"</span>)
04245         
04246         return err;
04247 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a30" doxytag="w98/lh_core/runtime.c::LHMatchColorsPrivate" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> LHMatchColorsPrivate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d4/d7/w98_2lh__core_2typedefs_8h.html#a13">CMMModelPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>modelingData</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d8/d3/unionCMColor.html">CMColor</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>myColors</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a14">SINT32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>count</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l03733">3733</a> of file <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html">w98/lh_core/runtime.c</a>.
<p>
References <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l00066">CalcProcPtr</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l00078">CallCalcProc</a>, <a class="el" href="../../d3/d5/lh__open_2pi__app_8h-source.html#l00023">CMError</a>, <a class="el" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a32">cmMethodError</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00043">CMLutParam::colorLut</a>, <a class="el" href="../../d4/d4/w98_2lh__core_2runtime_8h.html#a7">ConvertNamedIndexToColors()</a>, <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l04690">ConvertNamedIndexToPCS()</a>, <a class="el" href="../../d4/d4/w98_2lh__core_2runtime_8h.html#a8">ConvertPCSToNamedIndex()</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a20">FillCalcParamCM()</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a17">FillLutParam()</a>, <a class="el" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a27">FindCalcRoutine()</a>, <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00058">ColorSpaceInfo::inPlace</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00035">CMLutParam::inputLut</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00053">LH_END_PROC</a>, <a class="el" href="../../d7/d8/lh__open_2general_8h-source.html#l00052">LH_START_PROC</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00041">LOCK_DATA</a>, <a class="el" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a18">NamedColorProfileAtBegin</a>, <a class="el" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a17">NamedColorProfileOnly</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00020">nil</a>, <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00048">ColorSpaceInfo::origSizeIn</a>, <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00049">ColorSpaceInfo::origSizeOut</a>, <a class="el" href="../../d5/d6/w98_2lh__core_2typedefs_8h-source.html#l00038">CMLutParam::outputLut</a>, <a class="el" href="../../d7/d7/w98_2lh__open_2pi__mem_8c.html#a6">SetMem()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d6/d5/lh__core_2defines_8h-source.html#l00042">UNLOCK_DATA</a>, <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00050">ColorSpaceInfo::usedSizeIn</a>, and <a class="el" href="../../d3/d3/w98_2lh__core_2runtime_8c-source.html#l00051">ColorSpaceInfo::usedSizeOut</a>.
<p>
<pre class="fragment"><div>03736 {
03737         <a class="code" href="../../d7/d3/structCMCalcParam.html">CMCalcParam</a>     calcParam;
03738         <a class="code" href="../../d0/d4/structCMLutParam.html">CMLutParam</a>              lutParam;
03739         <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a11">CMError</a>                 err = -1;
03740         <a class="code" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a>  info;
03741         <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a8">CalcProcPtr</a>             calcRoutine   = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>;
03742 
03743         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a1">LH_START_PROC</a>(<span class="stringliteral">"LHMatchColorsPrivate"</span>)
03744         
03745         LOCK_DATA((modelingData)-&gt;lutParam.inputLut);
03746         LOCK_DATA((modelingData)-&gt;lutParam.colorLut);
03747         LOCK_DATA((modelingData)-&gt;lutParam.outputLut);
03748 
03749         <span class="comment">/* preprocess for NamedColor stuff */</span>
03750         if (modelingData-&gt;hasNamedColorProf == NamedColorProfileOnly){
03751                 err = <a class="code" href="../../d4/d4/w98_2lh__core_2runtime_8h.html#a7">ConvertNamedIndexToColors</a>(modelingData,myColors,count); 
03752                 <span class="keywordflow">goto</span> CleanupAndExit;
03753         } 
03754         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (modelingData-&gt;hasNamedColorProf==<a class="code" href="../../d3/d7/lh__core_2typedefs_8h.html#a20a18">NamedColorProfileAtBegin</a>){
03755                 err = <a class="code" href="../../d4/d4/w98_2lh__core_2runtime_8h.html#a6">ConvertNamedIndexToPCS</a>(modelingData,myColors,count); 
03756                 <span class="keywordflow">if</span> (err) <span class="keywordflow">goto</span> CleanupAndExit;
03757         }
03758 
03759         <a class="code" href="../../d7/d7/w98_2lh__open_2pi__mem_8c.html#a6">SetMem</a>(&amp;info,           <span class="keyword">sizeof</span>(<a class="code" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a>), 0);
03760         <a class="code" href="../../d7/d7/w98_2lh__open_2pi__mem_8c.html#a6">SetMem</a>(&amp;calcParam,      <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d3/structCMCalcParam.html">CMCalcParam</a>),    0);
03761  
03762         info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o0">origSizeIn</a>  = 16;
03763         info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o1">origSizeOut</a> = 16;
03764         info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o2">usedSizeIn</a>  = 16;
03765         info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o3">usedSizeOut</a> = 16;
03766 
03767         <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a17">FillLutParam</a>(&amp;lutParam, modelingData);
03768         <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a20">FillCalcParamCM</a>(&amp;calcParam, &amp;lutParam, myColors, count );
03769         
03770         info.<a class="code" href="../../d9/d4/structColorSpaceInfo.html#o10">inPlace</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
03771         calcRoutine = <a class="code" href="../../d2/d4/w98_2lh__core_2runtime_8c.html#a27">FindCalcRoutine</a>( &amp;calcParam, &amp;lutParam, &amp;info, modelingData-&gt;lookup );
03772         <span class="keywordflow">if</span> (calcRoutine == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a2">nil</a>)
03773         {
03774                 err = <a class="code" href="../../d2/d6/lh__open_2pi__app_8h.html#a149a32">cmMethodError</a>;
03775                 <span class="keywordflow">goto</span> CleanupAndExit;
03776         }
03777                 
03778         err = <a class="code" href="../../d1/d4/lh__core_2runtime_8c.html#a4">CallCalcProc</a>(calcRoutine,&amp;calcParam, &amp;lutParam);
03779         <span class="keywordflow">if</span> (err)
03780                 <span class="keywordflow">goto</span> CleanupAndExit;
03781         
03782         <span class="comment">/* postprocess for NamedColor stuff */</span>
03783         err = <a class="code" href="../../d4/d4/w98_2lh__core_2runtime_8h.html#a8">ConvertPCSToNamedIndex</a>(modelingData,myColors,count); 
03784 
03785 CleanupAndExit:
03786         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a7">UNLOCK_DATA</a>((modelingData)-&gt;lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o2">inputLut</a>);
03787         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a7">UNLOCK_DATA</a>((modelingData)-&gt;lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o10">colorLut</a>);
03788         <a class="code" href="../../d5/d6/lh__core_2defines_8h.html#a7">UNLOCK_DATA</a>((modelingData)-&gt;lutParam.<a class="code" href="../../d0/d4/structCMLutParam.html#o5">outputLut</a>);
03789 
03790         <a class="code" href="../../d6/d9/lh__open_2general_8h.html#a2">LH_END_PROC</a>(<span class="stringliteral">"LHMatchColorsPrivate"</span>)
03791         return err;
03792 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a23" doxytag="w98/lh_core/runtime.c::SetOutputColorSpaceInplace" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d3/d6/w98_2lh__open_2pi__app_8h.html#a11">CMError</a> SetOutputColorSpaceInplace           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d7/d3/structCMCalcParam.html">CMCalcParamPtr</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>calcParam</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d4/structColorSpaceInfo.html">ColorSpaceInfo</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>info</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a34">OSType</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>outColorSpace</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d2/d3/lh__core_2runtime_8c-source.html#l03995">LHMatchBitMapPrivate()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:45:31 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
