<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: ps2.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>ps2.c File Reference</h1><code>#include &lt;math.h&gt;</code><br>

<p>
<a href="../../d3/d8/ps2_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d1/d2/structtagCURVETYPE.html">tagCURVETYPE</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d0/structtagXYZTYPE.html">tagXYZTYPE</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d4/d0/structtagLUT8TYPE.html">tagLUT8TYPE</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d3/d0/structtagLUT16TYPE.html">tagLUT16TYPE</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d7/d6/structtagHOSTCLUT.html">tagHOSTCLUT</a></td></tr>

<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a0">MAX_LINELEN</a>&nbsp;&nbsp;&nbsp;240</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a1">REVCURVE_RATIO</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a2">CIEXYZRange</a>&nbsp;&nbsp;&nbsp;0x1FFEC</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a3">ALIGN_DWORD</a>(nBytes)&nbsp;&nbsp;&nbsp;(((nBytes) + 3) &amp; ~3)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a4">FIX_16_16_SHIFT</a>&nbsp;&nbsp;&nbsp;16</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a5">FIX_16_16_SCALE</a>&nbsp;&nbsp;&nbsp;(1 &lt;&lt; (FIX_16_16_SHIFT))</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a6">TO_FIX</a>(x)&nbsp;&nbsp;&nbsp;((x) &lt;&lt; FIX_16_16_SHIFT)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a7">TO_INT</a>(x)&nbsp;&nbsp;&nbsp;((x) &gt;&gt; FIX_16_16_SHIFT)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a8">FIX_MUL</a>(x, y)&nbsp;&nbsp;&nbsp;MulDiv((x), (y), FIX_16_16_SCALE)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a9">FIX_DIV</a>(x, y)&nbsp;&nbsp;&nbsp;MulDiv((x), FIX_16_16_SCALE, (y))</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a10">FLOOR</a>(x)&nbsp;&nbsp;&nbsp;((x) &gt;&gt; FIX_16_16_SHIFT &lt;&lt; FIX_16_16_SHIFT)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a11">TYPE_CIEBASEDDEF</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a12">TYPE_CIEBASEDDEFG</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a13">TAG_PS2CSA</a>&nbsp;&nbsp;&nbsp;'ps2s'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a14">TAG_REDCOLORANT</a>&nbsp;&nbsp;&nbsp;'rXYZ'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a15">TAG_GREENCOLORANT</a>&nbsp;&nbsp;&nbsp;'gXYZ'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a16">TAG_BLUECOLORANT</a>&nbsp;&nbsp;&nbsp;'bXYZ'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a17">TAG_REDTRC</a>&nbsp;&nbsp;&nbsp;'rTRC'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a18">TAG_GREENTRC</a>&nbsp;&nbsp;&nbsp;'gTRC'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a19">TAG_BLUETRC</a>&nbsp;&nbsp;&nbsp;'bTRC'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a20">TAG_GRAYTRC</a>&nbsp;&nbsp;&nbsp;'kTRC'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a21">TAG_MEDIAWHITEPOINT</a>&nbsp;&nbsp;&nbsp;'wtpt'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a22">TAG_AToB0</a>&nbsp;&nbsp;&nbsp;'A2B0'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a23">TAG_AToB1</a>&nbsp;&nbsp;&nbsp;'A2B1'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a24">TAG_AToB2</a>&nbsp;&nbsp;&nbsp;'A2B2'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a25">TAG_PS2INTENT0</a>&nbsp;&nbsp;&nbsp;'psi0'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a26">TAG_PS2INTENT1</a>&nbsp;&nbsp;&nbsp;'psi1'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a27">TAG_PS2INTENT2</a>&nbsp;&nbsp;&nbsp;'psi2'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a28">TAG_PS2INTENT3</a>&nbsp;&nbsp;&nbsp;'psi3'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a29">TAG_CRDINTENT0</a>&nbsp;&nbsp;&nbsp;'psd0'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a30">TAG_CRDINTENT1</a>&nbsp;&nbsp;&nbsp;'psd1'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a31">TAG_CRDINTENT2</a>&nbsp;&nbsp;&nbsp;'psd2'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a32">TAG_CRDINTENT3</a>&nbsp;&nbsp;&nbsp;'psd3'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a33">TAG_BToA0</a>&nbsp;&nbsp;&nbsp;'B2A0'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a34">TAG_BToA1</a>&nbsp;&nbsp;&nbsp;'B2A1'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a35">TAG_BToA2</a>&nbsp;&nbsp;&nbsp;'B2A2'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a36">TAG_BToA3</a>&nbsp;&nbsp;&nbsp;'B2A3'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>&nbsp;&nbsp;&nbsp;'mft1'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a38">LUT16_TYPE</a>&nbsp;&nbsp;&nbsp;'mft2'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a39">SIG_CURVE_TYPE</a>&nbsp;&nbsp;&nbsp;'curv'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a40">GetCPConnSpace</a>(pProfile)&nbsp;&nbsp;&nbsp;(FIX_ENDIAN(((PPROFILEHEADER)pProfile)-&gt;phConnectionSpace))</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a41">GetCPDevSpace</a>(pProfile)&nbsp;&nbsp;&nbsp;(FIX_ENDIAN(((PPROFILEHEADER)pProfile)-&gt;phDataColorSpace))</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a42">GetCPRenderIntent</a>(pProfile)&nbsp;&nbsp;&nbsp;(FIX_ENDIAN(((PPROFILEHEADER)pProfile)-&gt;phRenderingIntent))</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuf, pStr)&nbsp;&nbsp;&nbsp;(STRCPY(pBuf, pStr), STRLEN(pStr))</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuf, i)&nbsp;&nbsp;&nbsp;wsprintfA(pBuf, "%lu ", (i))</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a45">WriteHex</a>(pBuf, x)&nbsp;&nbsp;&nbsp;wsprintfA(pBuf, "%2.2x", ((x) &amp; 0x00FF))</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a46">STRLEN</a>&nbsp;&nbsp;&nbsp;lstrlenA</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a47">STRCPY</a>&nbsp;&nbsp;&nbsp;lstrcpyA</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a48">MAXCHANNELS</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a49">PREVIEWCRDGRID</a>&nbsp;&nbsp;&nbsp;16</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a50">MAXCOLOR8</a>&nbsp;&nbsp;&nbsp;255</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a51">DATATYPE_LUT</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a52">DATATYPE_MATRIX</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a53">sRGB_CRC</a>&nbsp;&nbsp;&nbsp;0xa3d777b4L</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a54">sRGB_TAGSIZE</a>&nbsp;&nbsp;&nbsp;6168</td></tr>

<tr><td colspan=2><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a55">FIX_16_16</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d1/d2/structtagCURVETYPE.html">tagCURVETYPE</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a57">CURVETYPE</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d1/d2/structtagCURVETYPE.html">tagCURVETYPE</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a58">PCURVETYPE</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d2/d0/structtagXYZTYPE.html">tagXYZTYPE</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a59">XYZTYPE</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d2/d0/structtagXYZTYPE.html">tagXYZTYPE</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a60">PXYZTYPE</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d4/d0/structtagLUT8TYPE.html">tagLUT8TYPE</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a61">LUT8TYPE</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d4/d0/structtagLUT8TYPE.html">tagLUT8TYPE</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a62">PLUT8TYPE</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d3/d0/structtagLUT16TYPE.html">tagLUT16TYPE</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a63">LUT16TYPE</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d3/d0/structtagLUT16TYPE.html">tagLUT16TYPE</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a64">PLUT16TYPE</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d7/d6/structtagHOSTCLUT.html">tagHOSTCLUT</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a65">HOSTCLUT</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef <a class="el" href="../../d7/d6/structtagHOSTCLUT.html">tagHOSTCLUT</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a66">PHOSTCLUT</a></td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a181">IsSRGBColorProfile</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a182">GetCSAFromProfile</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, PDWORD, PBOOL)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a183">GetPS2CSA_MONO_A</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, PDWORD, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, PBOOL)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a184">GetPS2CSA_ABC</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, PDWORD, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, PBOOL, BOOL)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a185">GetPS2CSA_ABC_Lab</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, PDWORD, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, PBOOL)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a186">GetPS2CSA_DEFG</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, PDWORD, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, PBOOL)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a187">CreateMonoCRD</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, PDWORD, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a188">CreateLutCRD</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, PDWORD, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, BOOL)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, PDWORD)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a190">DoesTRCAndColorantTagExist</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a191">GetCPWhitePoint</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a192">GetCPMediaWhitePoint</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a193">GetCPElementDataSize</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, PDWORD)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a194">GetCPElementSize</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, PDWORD)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a195">GetCPElementDataType</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, PDWORD)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a196">GetCPElementData</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, PDWORD)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a197">GetTRCElementSize</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, PDWORD, PDWORD)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a198">Ascii85Encode</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a199">GetCRDInputOutputArraySize</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, PDWORD, PDWORD, PDWORD, PDWORD)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a200">GetHostCSA</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, PDWORD, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a201">GetHostColorRenderingDictionary</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, PDWORD)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a202">GetHostColorSpaceArray</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, PDWORD)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a203">SendCRDBWPoint</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a204">SendCRDPQR</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a205">SendCRDLMN</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a206">SendCRDABC</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, BOOL)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a207">SendCRDOutputTable</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, BOOL, BOOL)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a208">SendCSABWPoint</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a209">GetMediaWP</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a210">CreateCRDRevArray</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>, PWORD, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, BOOL)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a211">SendCRDRevArray</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, BOOL)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a212">CreateColSpArray</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, BOOL)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a213">CreateColSpProc</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, BOOL)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a214">CreateFloatString</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a215">CreateInputArray</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, BOOL, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a216">CreateOutputArray</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, BOOL, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a217">GetPublicArrayName</a> (<a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a218">GetRevCurve</a> (<a class="el" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>, PWORD, PWORD)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a219">GetCLUTInfo</a> (<a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, PDWORD, PDWORD, PDWORD, PDWORD, PDWORD, PDWORD)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a220">EnableGlobalDict</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a221">BeginGlobalDict</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a222">EndGlobalDict</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, const char *)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a224">WriteHNAToken</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a225">WriteIntStringU2S</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a226">WriteIntStringU2S_L</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a227">WriteHexBuffer</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a228">WriteStringToken</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a229">WriteByteString</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a230">WriteInt2ByteString</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a231">WriteFixed</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a55">FIX_16_16</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a232">WriteFixed2dot30</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a233">WriteDouble</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, double)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a234">CreateMatrixCRD</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, PDWORD, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, BOOL)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a235">CreateHostLutCRD</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a236">CreateHostMatrixCSAorCRD</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, PDWORD, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, BOOL)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a237">CreateHostInputOutputArray</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> *, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a238">CreateHostTRCInputTable</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>, <a class="el" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>, <a class="el" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>, <a class="el" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a239">CreateHostRevTRCInputTable</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, <a class="el" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>, <a class="el" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>, <a class="el" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>, <a class="el" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a240">CheckInputOutputTable</a> (<a class="el" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>, float *, BOOL, BOOL)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a241">CheckColorLookupTable</a> (<a class="el" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>, float *)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a242">DoHostConversionCSA</a> (<a class="el" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>, float *, float *)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a243">DoHostConversionCRD</a> (<a class="el" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>, <a class="el" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>, float *, float *, BOOL)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>float&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a244">g</a> (float)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>float&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a245">inverse_g</a> (float)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a246">TableInterp3</a> (<a class="el" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>, float *)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a247">TableInterp4</a> (<a class="el" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>, float *)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a248">LabToXYZ</a> (float *, float *, <a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a249">XYZToLab</a> (float *, float *, <a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a250">ApplyMatrix</a> (<a class="el" href="../../d2/d9/ps2_8c.html#a55">FIX_16_16</a> *e, float *Input, float *Output)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a251">CreateColorantArray</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>, double *, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a252">InvertColorantArray</a> (double *, double *)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a253">crc32</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> buff, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> length)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a254">InternalGetPS2ColorSpaceArray</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pProfile, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwIntent, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwCSAType, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pBuffer, PDWORD pcbSize, LPBOOL pbBinary)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a255">InternalGetPS2ColorRenderingIntent</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pProfile, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwIntent, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pBuffer, PDWORD pcbSize)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a256">InternalGetPS2ColorRenderingDictionary</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pProfile, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwIntent, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pBuffer, PDWORD pcbSize, PBOOL pbBinary)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a257">InternalGetPS2PreviewCRD</a> (<a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pDestProf, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pTargetProf, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwIntent, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pBuffer, PDWORD pcbSize, PBOOL pbBinary)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a258">InternalGetPS2CSAFromLCS</a> (<a class="el" href="../../d7/d6/jul98_2test_2icm_8h.html#a39">LPLOGCOLORSPACE</a> pLogColorSpace, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pBuffer, PDWORD pcbSize, PBOOL pbBinary)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOL WINAPI&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a259">GetPS2PreviewCRD</a> (HPROFILE hDestProfile, HPROFILE hTargetProfile, <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwIntent, <a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pBuffer, PDWORD pcbSize, LPBOOL pbBinary)</td></tr>

<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a67">ASCII85DecodeBegin</a> [] = "&lt;~"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a68">ASCII85DecodeEnd</a> [] = "~&gt; cvx exec "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a69">TestingDEFG</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a70">SupportDEFG_S</a> [] = "SupportDEFG? { "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a71">NotSupportDEFG_S</a> [] = "SupportDEFG? not { "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a72">SupportDEFG_E</a> [] = "}if "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a73">IndexArray16b</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a74">IndexArray</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a75">StartClip</a> [] = "dup 1.0 le{dup 0.0 ge{"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a76">EndClip</a> [] = "}if}if "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a77">BeginString</a> [] = "&lt;"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a78">EndString</a> [] = "&gt;"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a79">BeginArray</a> [] = "["</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a80">EndArray</a> [] = "]"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a81">BeginFunction</a> [] = "{"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a82">EndFunction</a> [] = "}bind "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a83">BeginDict</a> [] = "&lt;&lt;"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a84">EndDict</a> [] = "&gt;&gt;"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a85">BlackPoint</a> [] = "[0 0 0]"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a86">DictType</a> [] = "/ColorRenderingType 1 "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a87">IntentType</a> [] = "/RenderingIntent "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a88">IntentPer</a> [] = "/Perceptual"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a89">IntentSat</a> [] = "/Saturation"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a90">IntentACol</a> [] = "/AbsoluteColorimetric"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a91">IntentRCol</a> [] = "/RelativeColorimetric"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a92">WhitePointTag</a> [] = "/WhitePoint "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a93">BlackPointTag</a> [] = "/BlackPoint "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a94">RangePQRTag</a> [] = "/RangePQR "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a95">TransformPQRTag</a> [] = "/TransformPQR "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a96">MatrixPQRTag</a> [] = "/MatrixPQR "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a97">RangePQR</a> [] = "[ -0.07 2.2 -0.02 1.4 -0.2 4.8 ]"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a98">MatrixPQR</a> [] = "[0.8951 -0.7502 0.0389 0.2664 1.7135 -0.0685 -0.1614 0.0367 1.0296]"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a99">TransformPQR</a> [3]</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a100">RangeABCTag</a> [] = "/RangeABC "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a101">MatrixATag</a> [] = "/MatrixA "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a102">MatrixABCTag</a> [] = "/MatrixABC "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a103">EncodeABCTag</a> [] = "/EncodeABC "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a104">RangeLMNTag</a> [] = "/RangeLMN "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a105">MatrixLMNTag</a> [] = "/MatrixLMN "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a106">EncodeLMNTag</a> [] = "/EncodeLMN "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a107">RenderTableTag</a> [] = "/RenderTable "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a108">CIEBasedATag</a> [] = "/CIEBasedA "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a109">CIEBasedABCTag</a> [] = "/CIEBasedABC "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a110">CIEBasedDEFGTag</a> [] = "/CIEBasedDEFG "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a111">CIEBasedDEFTag</a> [] = "/CIEBasedDEF "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a112">DecodeATag</a> [] = "/DecodeA "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a113">DecodeABCTag</a> [] = "/DecodeABC "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a114">DecodeLMNTag</a> [] = "/DecodeLMN "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a115">DeviceRGBTag</a> [] = "/DeviceRGB "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a116">DeviceCMYKTag</a> [] = "/DeviceCMYK "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a117">DeviceGrayTag</a> [] = "/DeviceGray "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a118">TableTag</a> [] = "/Table "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a119">DecodeDEFGTag</a> [] = "/DecodeDEFG "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a120">DecodeDEFTag</a> [] = "/DecodeDEF "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a121">NullOp</a> [] = ""</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a122">DupOp</a> [] = "dup "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a123">UserDictOp</a> [] = "userdict "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a124">GlobalDictOp</a> [] = "globaldict "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a125">CurrentGlobalOp</a> [] = "currentglobal "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a126">SetGlobalOp</a> [] = "setglobal "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a127">DefOp</a> [] = "def "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a128">BeginOp</a> [] = "begin "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a129">EndOp</a> [] = "end "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a130">TrueOp</a> [] = "true "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a131">FalseOp</a> [] = "false "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a132">MulOp</a> [] = "mul "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a133">DivOp</a> [] = "div "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a134">NewLine</a> [] = "\r\<a class="el" href="../../d7/d0/exts_8h.html#a0">n</a>"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a135">Slash</a> [] = "/"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a136">Space</a> [] = " "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a137">CRDBegin</a> [] = "%** CRD Begin "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a138">CRDEnd</a> [] = "%** CRD <a class="el" href="../../d5/d2/config_2ia64_2initia64_8c.html#a15">End</a> "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a139">CieBasedDEFGBegin</a> [] = "%** CieBasedDEFG CSA Begin "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a140">CieBasedDEFBegin</a> [] = "%** CieBasedDEF CSA Begin "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a141">CieBasedABCBegin</a> [] = "%** CieBasedABC CSA Begin "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a142">CieBasedABegin</a> [] = "%** CieBasedA CSA Begin "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a143">CieBasedDEFGEnd</a> [] = "%** CieBasedDEFG CSA <a class="el" href="../../d5/d2/config_2ia64_2initia64_8c.html#a15">End</a> "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a144">CieBasedDEFEnd</a> [] = "%** CieBasedDEF CSA <a class="el" href="../../d5/d2/config_2ia64_2initia64_8c.html#a15">End</a> "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a145">CieBasedABCEnd</a> [] = "%** CieBasedABC CSA <a class="el" href="../../d5/d2/config_2ia64_2initia64_8c.html#a15">End</a> "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a146">CieBasedAEnd</a> [] = "%** CieBasedA CSA <a class="el" href="../../d5/d2/config_2ia64_2initia64_8c.html#a15">End</a> "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a147">RangeABC</a> [] = "[ 0 1 0 1 0 1 ] "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a148">RangeLMN</a> [] = "[ 0 2 0 2 0 2 ] "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a149">Identity</a> [] = "[1 0 0 0 1 0 0 0 1]"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a150">RangeABC_Lab</a> [] = "[0 100 -128 127 -128 127]"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a151">Clip01</a> [] = "dup 1.0 ge{pop 1.0}{dup 0.0 lt{pop 0.0}if}ifelse "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a152">DecodeA3</a> [] = "256 div exp "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a153">DecodeA3Rev</a> [] = "256 div 1.0 exch div exp "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a154">DecodeABCArray</a> [] = "DecodeABC_"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a155">InputArray</a> [] = "Inp_"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a156">OutputArray</a> [] = "Out_"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a157">Scale8</a> [] = "255 div "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a158">Scale16</a> [] = "65535 div "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a159">Scale16XYZ</a> [] = "32768 div "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a160">TFunction8</a> [] = "exch 255 mul round cvi get 255 div "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a161">TFunction8XYZ</a> [] = "exch 255 mul round cvi get 128 div "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a162">MatrixABCLab</a> [] = "[1 1 1 1 0 0 0 0 -1]"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a163">DecodeABCLab1</a> [] = "[{16 add 116 div} bind {500 div} bind {200 div} bind]"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a164">DecodeALab</a> [] = " 50 mul 16 add 116 div "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a165">DecodeLMNLab</a> [] = "dup 0.206897 ge{dup dup mul mul}{0.137931 sub 0.128419 mul} ifelse "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a166">RangeLMNLab</a> [] = "[0 1 0 1 0 1]"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a167">EncodeLMNLab</a> [] = "dup 0.008856 le{7.787 mul 0.13793 add}{0.3333 exp}ifelse "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a168">MatrixABCLabCRD</a> [] = "[0 500 0 116 -500 200 0 0 -200]"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a169">MatrixABCXYZCRD</a> [] = "[0 1 0 1 0 0 0 0 1]"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a170">EncodeABCLab1</a> [] = "16 sub 100 div "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a171">EncodeABCLab2</a> [] = "128 add 255 div "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a172">DecodeABCLab</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a173">ColorSpace1</a> [] = "/CIEBasedABC &lt;&lt; /DecodeLMN "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a174">ColorSpace3</a> [] = " exp} bind "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a175">ColorSpace5</a> [] = "/WhitePoint [0.9642 1 0.8249] "</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a176">PreViewInArray</a> [] = "IPV_"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a177">PreViewOutArray</a> [] = "OPV_"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a178">sRGBColorSpaceArray</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a179">sRGBColorRenderingDictionary</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d9/ps2_8c.html#a180">crc_32_tab</a> []</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a3" doxytag="ps2.c::ALIGN_DWORD" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define ALIGN_DWORD          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">nBytes&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(((nBytes) + 3) &amp; ~3)</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00024">24</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l06873">IsSRGBColorProfile()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="ps2.c::CIEXYZRange" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define CIEXYZRange&nbsp;&nbsp;&nbsp;0x1FFEC          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00023">23</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a51" doxytag="ps2.c::DATATYPE_LUT" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DATATYPE_LUT&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00090">90</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05203">CreateHostLutCRD()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l05792">GetHostCSA()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a52" doxytag="ps2.c::DATATYPE_MATRIX" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DATATYPE_MATRIX&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00091">91</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05393">CreateHostMatrixCSAorCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l06068">DoHostConversionCRD()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l06226">DoHostConversionCSA()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="ps2.c::FIX_16_16_SCALE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define FIX_16_16_SCALE&nbsp;&nbsp;&nbsp;(1 &lt;&lt; (FIX_16_16_SHIFT))          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00027">27</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l06726">ApplyMatrix()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03893">CreateColorantArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05393">CreateHostMatrixCSAorCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l06428">LabToXYZ()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04441">WriteFixed()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l06449">XYZToLab()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="ps2.c::FIX_16_16_SHIFT" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define FIX_16_16_SHIFT&nbsp;&nbsp;&nbsp;16          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00026">26</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="ps2.c::FIX_DIV" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define FIX_DIV          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">x,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>y&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;MulDiv((x), FIX_16_16_SCALE, (y))</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00032">32</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05203">CreateHostLutCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01519">GetPS2CSA_ABC()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01895">GetPS2CSA_DEFG()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04762">SendCRDABC()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l04689">SendCRDLMN()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="ps2.c::FIX_MUL" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define FIX_MUL          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">x,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>y&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;MulDiv((x), (y), FIX_16_16_SCALE)</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00031">31</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="ps2.c::FLOOR" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define FLOOR          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">x&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;((x) &gt;&gt; FIX_16_16_SHIFT &lt;&lt; FIX_16_16_SHIFT)</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00034">34</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a40" doxytag="ps2.c::GetCPConnSpace" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define GetCPConnSpace          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">pProfile&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(FIX_ENDIAN(((PPROFILEHEADER)pProfile)-&gt;phConnectionSpace))</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00069">69</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l00587">CreateHostLutCRD()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00186">CreateLutCRD()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00487">CreateMonoCRD()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l00138">GetHostCSA()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00642">GetPS2CSA_ABC()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00812">GetPS2CSA_ABC_LAB()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00261">GetPS2CSA_DEFG()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01087">GetPS2CSA_MONO_A()</a>, and <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00927">GetPS2CSA_MONO_ABC()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a41" doxytag="ps2.c::GetCPDevSpace" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define GetCPDevSpace          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">pProfile&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(FIX_ENDIAN(((PPROFILEHEADER)pProfile)-&gt;phDataColorSpace))</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00070">70</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d9/d5/aug98_2test_2control_8c-source.html#l00232">ColorSpaceControl()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01172">GetCSAFromProfile()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l00532">GetHostColorSpaceArray()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01579">GetPS2ColorSpaceArray()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00642">GetPS2CSA_ABC()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00812">GetPS2CSA_ABC_LAB()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01895">GetPS2CSA_DEFG()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01954">GetPS2PreviewColorRenderingDictionary()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a42" doxytag="ps2.c::GetCPRenderIntent" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define GetCPRenderIntent          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">pProfile&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(FIX_ENDIAN(((PPROFILEHEADER)pProfile)-&gt;phRenderingIntent))</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00071">71</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l01172">GetCSAFromProfile()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l00532">GetHostColorSpaceArray()</a>, and <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01579">GetPS2ColorSpaceArray()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a38" doxytag="ps2.c::LUT16_TYPE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define LUT16_TYPE&nbsp;&nbsp;&nbsp;'mft2'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00065">65</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05203">CreateHostLutCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02709">CreateInputArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03215">CreateLutCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02834">CreateOutputArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05090">GetCRDInputOutputArraySize()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05792">GetHostCSA()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01895">GetPS2CSA_DEFG()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a37" doxytag="ps2.c::LUT8_TYPE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define LUT8_TYPE&nbsp;&nbsp;&nbsp;'mft1'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00064">64</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05728">CreateHostInputOutputArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05203">CreateHostLutCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02709">CreateInputArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03215">CreateLutCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02834">CreateOutputArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04951">GetCLUTInfo()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05090">GetCRDInputOutputArraySize()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05792">GetHostCSA()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01895">GetPS2CSA_DEFG()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04762">SendCRDABC()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l04893">SendCRDOutputTable()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="ps2.c::MAX_LINELEN" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MAX_LINELEN&nbsp;&nbsp;&nbsp;240          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00021">21</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l02501">CreateColSpArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03788">CreateCRDRevArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05203">CreateHostLutCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05393">CreateHostMatrixCSAorCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02709">CreateInputArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03215">CreateLutCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03495">CreateMatrixCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02978">CreateMonoCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02834">CreateOutputArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05792">GetHostCSA()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01895">GetPS2CSA_DEFG()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01279">GetPS2CSA_MONO_A()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l04351">WriteHexBuffer()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a48" doxytag="ps2.c::MAXCHANNELS" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MAXCHANNELS&nbsp;&nbsp;&nbsp;4          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00086">86</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a50" doxytag="ps2.c::MAXCOLOR8" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MAXCOLOR8&nbsp;&nbsp;&nbsp;255          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00088">88</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a49" doxytag="ps2.c::PREVIEWCRDGRID" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define PREVIEWCRDGRID&nbsp;&nbsp;&nbsp;16          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00087">87</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="ps2.c::REVCURVE_RATIO" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define REVCURVE_RATIO&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00022">22</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a39" doxytag="ps2.c::SIG_CURVE_TYPE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define SIG_CURVE_TYPE&nbsp;&nbsp;&nbsp;'curv'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00067">67</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l04212">GetTRCElementSize()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a53" doxytag="ps2.c::sRGB_CRC" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define sRGB_CRC&nbsp;&nbsp;&nbsp;0xa3d777b4L          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00093">93</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l06873">IsSRGBColorProfile()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a54" doxytag="ps2.c::sRGB_TAGSIZE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define sRGB_TAGSIZE&nbsp;&nbsp;&nbsp;6168          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00094">94</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l06873">IsSRGBColorProfile()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a47" doxytag="ps2.c::STRCPY" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define STRCPY&nbsp;&nbsp;&nbsp;lstrcpyA          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00083">83</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a46" doxytag="ps2.c::STRLEN" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define STRLEN&nbsp;&nbsp;&nbsp;lstrlenA          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00082">82</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05203">CreateHostLutCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05393">CreateHostMatrixCSAorCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03215">CreateLutCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03495">CreateMatrixCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02978">CreateMonoCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05792">GetHostCSA()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01895">GetPS2CSA_DEFG()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01279">GetPS2CSA_MONO_A()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a22" doxytag="ps2.c::TAG_AToB0" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TAG_AToB0&nbsp;&nbsp;&nbsp;'A2B0'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00048">48</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05792">GetHostCSA()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l01895">GetPS2CSA_DEFG()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a23" doxytag="ps2.c::TAG_AToB1" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TAG_AToB1&nbsp;&nbsp;&nbsp;'A2B1'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00049">49</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05792">GetHostCSA()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l01895">GetPS2CSA_DEFG()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a24" doxytag="ps2.c::TAG_AToB2" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TAG_AToB2&nbsp;&nbsp;&nbsp;'A2B2'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00050">50</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05792">GetHostCSA()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l01895">GetPS2CSA_DEFG()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="ps2.c::TAG_BLUECOLORANT" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TAG_BLUECOLORANT&nbsp;&nbsp;&nbsp;'bXYZ'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00042">42</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05393">CreateHostMatrixCSAorCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03495">CreateMatrixCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04055">DoesTRCAndColorantTagExist()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01519">GetPS2CSA_ABC()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l06873">IsSRGBColorProfile()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a19" doxytag="ps2.c::TAG_BLUETRC" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TAG_BLUETRC&nbsp;&nbsp;&nbsp;'bTRC'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00045">45</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05393">CreateHostMatrixCSAorCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03495">CreateMatrixCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04055">DoesTRCAndColorantTagExist()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01519">GetPS2CSA_ABC()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l06873">IsSRGBColorProfile()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a33" doxytag="ps2.c::TAG_BToA0" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TAG_BToA0&nbsp;&nbsp;&nbsp;'B2A0'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00059">59</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05090">GetCRDInputOutputArraySize()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05662">GetHostColorRenderingDictionary()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00713">InternalGetPS2ColorRenderingDictionary()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a34" doxytag="ps2.c::TAG_BToA1" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TAG_BToA1&nbsp;&nbsp;&nbsp;'B2A1'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00060">60</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05090">GetCRDInputOutputArraySize()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05662">GetHostColorRenderingDictionary()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00713">InternalGetPS2ColorRenderingDictionary()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a35" doxytag="ps2.c::TAG_BToA2" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TAG_BToA2&nbsp;&nbsp;&nbsp;'B2A2'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00061">61</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05090">GetCRDInputOutputArraySize()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05662">GetHostColorRenderingDictionary()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00713">InternalGetPS2ColorRenderingDictionary()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a36" doxytag="ps2.c::TAG_BToA3" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TAG_BToA3&nbsp;&nbsp;&nbsp;'B2A3'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00062">62</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a29" doxytag="ps2.c::TAG_CRDINTENT0" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TAG_CRDINTENT0&nbsp;&nbsp;&nbsp;'psd0'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00055">55</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l00713">InternalGetPS2ColorRenderingDictionary()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a30" doxytag="ps2.c::TAG_CRDINTENT1" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TAG_CRDINTENT1&nbsp;&nbsp;&nbsp;'psd1'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00056">56</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l00713">InternalGetPS2ColorRenderingDictionary()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a31" doxytag="ps2.c::TAG_CRDINTENT2" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TAG_CRDINTENT2&nbsp;&nbsp;&nbsp;'psd2'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00057">57</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l00713">InternalGetPS2ColorRenderingDictionary()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a32" doxytag="ps2.c::TAG_CRDINTENT3" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TAG_CRDINTENT3&nbsp;&nbsp;&nbsp;'psd3'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00058">58</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l00713">InternalGetPS2ColorRenderingDictionary()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a20" doxytag="ps2.c::TAG_GRAYTRC" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TAG_GRAYTRC&nbsp;&nbsp;&nbsp;'kTRC'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00046">46</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l01279">GetPS2CSA_MONO_A()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00713">InternalGetPS2ColorRenderingDictionary()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="ps2.c::TAG_GREENCOLORANT" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TAG_GREENCOLORANT&nbsp;&nbsp;&nbsp;'gXYZ'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00041">41</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05393">CreateHostMatrixCSAorCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03495">CreateMatrixCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04055">DoesTRCAndColorantTagExist()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01519">GetPS2CSA_ABC()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l06873">IsSRGBColorProfile()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="ps2.c::TAG_GREENTRC" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TAG_GREENTRC&nbsp;&nbsp;&nbsp;'gTRC'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00044">44</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05393">CreateHostMatrixCSAorCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03495">CreateMatrixCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04055">DoesTRCAndColorantTagExist()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01519">GetPS2CSA_ABC()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l06873">IsSRGBColorProfile()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a21" doxytag="ps2.c::TAG_MEDIAWHITEPOINT" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TAG_MEDIAWHITEPOINT&nbsp;&nbsp;&nbsp;'wtpt'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00047">47</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l04087">GetCPMediaWhitePoint()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="ps2.c::TAG_PS2CSA" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TAG_PS2CSA&nbsp;&nbsp;&nbsp;'ps2s'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00039">39</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l01172">GetCSAFromProfile()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a25" doxytag="ps2.c::TAG_PS2INTENT0" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TAG_PS2INTENT0&nbsp;&nbsp;&nbsp;'psi0'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00051">51</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l00612">InternalGetPS2ColorRenderingIntent()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a26" doxytag="ps2.c::TAG_PS2INTENT1" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TAG_PS2INTENT1&nbsp;&nbsp;&nbsp;'psi1'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00052">52</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l00612">InternalGetPS2ColorRenderingIntent()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a27" doxytag="ps2.c::TAG_PS2INTENT2" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TAG_PS2INTENT2&nbsp;&nbsp;&nbsp;'psi2'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00053">53</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l00612">InternalGetPS2ColorRenderingIntent()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a28" doxytag="ps2.c::TAG_PS2INTENT3" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TAG_PS2INTENT3&nbsp;&nbsp;&nbsp;'psi3'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00054">54</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l00612">InternalGetPS2ColorRenderingIntent()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="ps2.c::TAG_REDCOLORANT" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TAG_REDCOLORANT&nbsp;&nbsp;&nbsp;'rXYZ'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00040">40</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05393">CreateHostMatrixCSAorCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03495">CreateMatrixCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04055">DoesTRCAndColorantTagExist()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01519">GetPS2CSA_ABC()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l06873">IsSRGBColorProfile()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="ps2.c::TAG_REDTRC" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TAG_REDTRC&nbsp;&nbsp;&nbsp;'rTRC'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00043">43</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05393">CreateHostMatrixCSAorCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03495">CreateMatrixCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04055">DoesTRCAndColorantTagExist()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01519">GetPS2CSA_ABC()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l06873">IsSRGBColorProfile()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="ps2.c::TO_FIX" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TO_FIX          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">x&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;((x) &lt;&lt; FIX_16_16_SHIFT)</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00029">29</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="ps2.c::TO_INT" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TO_INT          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">x&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;((x) &gt;&gt; FIX_16_16_SHIFT)</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00030">30</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="ps2.c::TYPE_CIEBASEDDEF" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TYPE_CIEBASEDDEF&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00036">36</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="ps2.c::TYPE_CIEBASEDDEFG" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TYPE_CIEBASEDDEFG&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00037">37</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a45" doxytag="ps2.c::WriteHex" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define WriteHex          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">pBuf,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>x&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;wsprintfA(pBuf, "%2.2x", ((x) &amp; 0x00FF))</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00081">81</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00186">CreateLutCRD()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00261">GetPS2CSA_DEFG()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01954">GetPS2PreviewColorRenderingDictionary()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l04351">WriteHexBuffer()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a44" doxytag="ps2.c::WriteInt" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define WriteInt          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">pBuf,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>i&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;wsprintfA(pBuf, "%lu ", (i))</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00080">80</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01372">CreateColSpArray()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01287">CreateColSpProc()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03788">CreateCRDRevArray()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01563">CreateInputArray()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00186">CreateLutCRD()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00487">CreateMonoCRD()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01452">CreateOutputArray()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00678">CreateRevArray()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00261">GetPS2CSA_DEFG()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01087">GetPS2CSA_MONO_A()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00927">GetPS2CSA_MONO_ABC()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01954">GetPS2PreviewColorRenderingDictionary()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01756">SendCRDABC()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01880">SendCRDOutputTable()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03843">SendCRDRevArray()</a>, and <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00724">SendRevArray()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a43" doxytag="ps2.c::WriteObject" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define WriteObject          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">pBuf,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>pStr&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(STRCPY(pBuf, pStr), STRLEN(pStr))</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">72</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l04234">Ascii85Encode()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00207">BeginGlobalDict()</a>, <a class="el" href="../../d9/d7/aug98_2dll32_2csprof_8c-source.html#l01440">ConvertBinaryData2Ascii()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01372">CreateColSpArray()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01287">CreateColSpProc()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03788">CreateCRDRevArray()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01563">CreateInputArray()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00186">CreateLutCRD()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00877">CreateMatrixCRD()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00487">CreateMonoCRD()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01452">CreateOutputArray()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00678">CreateRevArray()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00227">EnableGlobalDict()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00217">EndGlobalDict()</a>, <a class="el" href="../../d9/d2/dec97_2dll32_2getcsa_8c-source.html#l00079">GetDeviceCMYK()</a>, <a class="el" href="../../d9/d2/dec97_2dll32_2getcsa_8c-source.html#l00105">GetDeviceGray()</a>, <a class="el" href="../../d9/d2/dec97_2dll32_2getcsa_8c-source.html#l00039">GetDeviceRGB()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01579">GetPS2ColorSpaceArray()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00642">GetPS2CSA_ABC()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01747">GetPS2CSA_ABC_Lab()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00812">GetPS2CSA_ABC_LAB()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00261">GetPS2CSA_DEFG()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01087">GetPS2CSA_MONO_A()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00927">GetPS2CSA_MONO_ABC()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01954">GetPS2PreviewColorRenderingDictionary()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00464">InternalGetPS2ColorSpaceArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02382">InternalGetPS2CSAFromLCS()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01756">SendCRDABC()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01858">SendCRDBWPoint()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01650">SendCRDLMN()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01880">SendCRDOutputTable()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01708">SendCRDPQR()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03843">SendCRDRevArray()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00165">SendCSABWPoint()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00724">SendRevArray()</a>, <a class="el" href="../../d9/d7/aug98_2dll32_2csprof_8c-source.html#l01339">WriteASCII85Cont()</a>, <a class="el" href="../../d9/d7/aug98_2dll32_2csprof_8c-source.html#l01104">WriteHexBuffer()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l04573">WriteNewLineObject()</a>.    </td>
  </tr>
</table>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="a57" doxytag="ps2.c::CURVETYPE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d1/d2/structtagCURVETYPE.html">tagCURVETYPE</a>  <a class="el" href="../../d1/d2/structtagCURVETYPE.html">CURVETYPE</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a55" doxytag="ps2.c::FIX_16_16" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="el" href="../../d2/d9/ps2_8c.html#a55">FIX_16_16</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00100">100</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l03893">CreateColorantArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05393">CreateHostMatrixCSAorCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03215">CreateLutCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03495">CreateMatrixCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02978">CreateMonoCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01519">GetPS2CSA_ABC()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01747">GetPS2CSA_ABC_Lab()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01895">GetPS2CSA_DEFG()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l04762">SendCRDABC()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a65" doxytag="ps2.c::HOSTCLUT" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d7/d6/structtagHOSTCLUT.html">tagHOSTCLUT</a>  <a class="el" href="../../d7/d6/structtagHOSTCLUT.html">HOSTCLUT</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a63" doxytag="ps2.c::LUT16TYPE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d3/d0/structtagLUT16TYPE.html">tagLUT16TYPE</a>  <a class="el" href="../../d3/d0/structtagLUT16TYPE.html">LUT16TYPE</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a61" doxytag="ps2.c::LUT8TYPE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d4/d0/structtagLUT8TYPE.html">tagLUT8TYPE</a>  <a class="el" href="../../d4/d0/structtagLUT8TYPE.html">LUT8TYPE</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a58" doxytag="ps2.c::PCURVETYPE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d1/d2/structtagCURVETYPE.html">tagCURVETYPE</a> * <a class="el" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l02501">CreateColSpArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02581">CreateColSpProc()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05393">CreateHostMatrixCSAorCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03495">CreateMatrixCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02978">CreateMonoCRD()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l01279">GetPS2CSA_MONO_A()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a56" doxytag="ps2.c::PFIX_16_16" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> * <a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00100">100</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l03893">CreateColorantArray()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a66" doxytag="ps2.c::PHOSTCLUT" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d7/d6/structtagHOSTCLUT.html">tagHOSTCLUT</a> * <a class="el" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05203">CreateHostLutCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05393">CreateHostMatrixCSAorCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02709">CreateInputArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02834">CreateOutputArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05792">GetHostCSA()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a64" doxytag="ps2.c::PLUT16TYPE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d3/d0/structtagLUT16TYPE.html">tagLUT16TYPE</a> * <a class="el" href="../../d3/d0/structtagLUT16TYPE.html">PLUT16TYPE</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05728">CreateHostInputOutputArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05203">CreateHostLutCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02709">CreateInputArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03215">CreateLutCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02834">CreateOutputArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04951">GetCLUTInfo()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05090">GetCRDInputOutputArraySize()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05792">GetHostCSA()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01895">GetPS2CSA_DEFG()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l04762">SendCRDABC()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a62" doxytag="ps2.c::PLUT8TYPE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d4/d0/structtagLUT8TYPE.html">tagLUT8TYPE</a> * <a class="el" href="../../d4/d0/structtagLUT8TYPE.html">PLUT8TYPE</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05728">CreateHostInputOutputArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05203">CreateHostLutCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02709">CreateInputArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03215">CreateLutCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02834">CreateOutputArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04951">GetCLUTInfo()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05792">GetHostCSA()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01895">GetPS2CSA_DEFG()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l04762">SendCRDABC()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a60" doxytag="ps2.c::PXYZTYPE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d2/d0/structtagXYZTYPE.html">tagXYZTYPE</a> * <a class="el" href="../../d2/d0/structtagXYZTYPE.html">PXYZTYPE</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l03893">CreateColorantArray()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a59" doxytag="ps2.c::XYZTYPE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef struct <a class="el" href="../../d2/d0/structtagXYZTYPE.html">tagXYZTYPE</a>  <a class="el" href="../../d2/d0/structtagXYZTYPE.html">XYZTYPE</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a250" doxytag="ps2.c::ApplyMatrix" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID ApplyMatrix           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d2/d9/ps2_8c.html#a55">FIX_16_16</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>e</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>float *&nbsp;</td>
          <td class="mdname" nowrap> <em>Input</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>float *&nbsp;</td>
          <td class="mdname" nowrap> <em>Output</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l06726">6726</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00027">FIX_16_16_SCALE</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01169">DoHostConversionCRD()</a>, and <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01288">DoHostConversionCSA()</a>.
<p>
<pre class="fragment"><div>06730 {
06731     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> i, j;
06732 
06733     <span class="keywordflow">for</span> (i=0; i&lt;3; i++)
06734     {
06735         j = i * 3;
06736 
06737         Output[i] = ((e[j]     * Input[0]) / <a class="code" href="../../d2/d9/ps2_8c.html#a5">FIX_16_16_SCALE</a>) +
06738                     ((e[j + 1] * Input[1]) / <a class="code" href="../../d2/d9/ps2_8c.html#a5">FIX_16_16_SCALE</a>) +
06739                     ((e[j + 2] * Input[2]) / <a class="code" href="../../d2/d9/ps2_8c.html#a5">FIX_16_16_SCALE</a>);
06740     }
06741 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a198" doxytag="ps2.c::Ascii85Encode" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> Ascii85Encode           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04234">4234</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d3/d8/ps2_8c-source.html#l00276">ASCII85DecodeBegin</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00277">ASCII85DecodeEnd</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d3/d0/object_8c-source.html#l00205">MemAlloc()</a>, <a class="el" href="../../d3/d0/object_8c-source.html#l00260">MemFree()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00063">NewLine</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d2/d8/jul98_2dll32_2csprof_8c-source.html#l01339">WriteASCII85Cont()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l01172">GetCSAFromProfile()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00713">InternalGetPS2ColorRenderingDictionary()</a>.
<p>
<pre class="fragment"><div>04239 {
04240     <span class="comment">// BUGBUG - To be done</span>
04241 
04242 <span class="preprocessor">#if 0</span>
04243 <span class="preprocessor"></span>    <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>     pTempBuf, pPtr;
04244     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>     dwASCII85Size = 0;
04245     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>     dwBufSize = DataSize * 5 / 4 + <span class="keyword">sizeof</span>(<a class="code" href="../../d2/d9/ps2_8c.html#a67">ASCII85DecodeBegin</a>)+<span class="keyword">sizeof</span>(<a class="code" href="../../d2/d9/ps2_8c.html#a68">ASCII85DecodeEnd</a>) + 2048;
04246 
04247     <span class="keywordflow">if</span> ((pTempBuf = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)<a class="code" href="../../d2/d1/object_8c.html#a7">MemAlloc</a>(dwBufSize)))
04248     {
04249         pPtr = pTempBuf;
04250         pPtr += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pPtr,  NewLine);
04251         pPtr += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pPtr,  ASCII85DecodeBegin);
04252         pPtr += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pPtr,  NewLine);
04253         pPtr += <a class="code" href="../../d1/d9/jul98_2dll32_2csprof_8c.html#a55">WriteASCII85Cont</a>(pPtr, dwBufSize, pBuffer, dwDataSize);
04254         pPtr += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pPtr,  ASCII85DecodeEnd);
04255         dwAscii85Size = (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(pPtr - pTempBuf);
04256         lstrcpyn(pBuffer, pTempBuf, dwAscii85Size);
04257 
04258         <a class="code" href="../../d2/d1/object_8c.html#a9">MemFree</a>(pTempBuf);
04259     }
04260 
04261     <span class="keywordflow">return</span> dwAscii85Size;
04262 <span class="preprocessor">#else</span>
04263 <span class="preprocessor"></span>    <span class="keywordflow">return</span> 0;
04264 <span class="preprocessor">#endif</span>
04265 <span class="preprocessor"></span>}
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a221" doxytag="ps2.c::BeginGlobalDict" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> BeginGlobalDict           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l05001">5001</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00056">BeginOp</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00052">GlobalDictOp</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04573">WriteNewLineObject()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>.
<p>
Referenced by <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00186">CreateLutCRD()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00877">CreateMatrixCRD()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00642">GetPS2CSA_ABC()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00261">GetPS2CSA_DEFG()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01954">GetPS2PreviewColorRenderingDictionary()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>.
<p>
<pre class="fragment"><div>05004 {
05005     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pStart = pBuffer;
05006 
05007     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, GlobalDictOp);
05008     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginOp);
05009 
05010     <span class="keywordflow">return</span> (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(pBuffer - pStart);
05011 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a241" doxytag="ps2.c::CheckColorLookupTable" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL CheckColorLookupTable           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>float *&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l06757">6757</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00163">tagHOSTCLUT::nInputCh</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l06470">TableInterp3()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l06557">TableInterp4()</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01169">DoHostConversionCRD()</a>, and <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01288">DoHostConversionCSA()</a>.
<p>
<pre class="fragment"><div>06761 {
06762     <span class="keywordflow">if</span> (pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o25">nInputCh</a> == 3)
06763     {
06764         <span class="keywordflow">return</span> <a class="code" href="../../d2/d9/ps2_8c.html#a246">TableInterp3</a>(pHostClut, pfTemp);
06765     }
06766     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o25">nInputCh</a> == 4)
06767     {
06768         <span class="keywordflow">return</span> <a class="code" href="../../d2/d9/ps2_8c.html#a247">TableInterp4</a>(pHostClut, pfTemp);
06769     }
06770     <span class="keywordflow">else</span>
06771         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
06772 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a240" doxytag="ps2.c::CheckInputOutputTable" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL CheckInputOutputTable           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>float *&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOL&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOL&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l06295">6295</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d9/d5/jul98_2test_2profcrd_8h-source.html#l00022">tagHOSTCLUT::inputArray</a>, <a class="el" href="../../d3/d5/aug98_2dll32_2profcrd_8h-source.html#l00004">MAXCHANNELS</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00165">tagHOSTCLUT::nClutPoints</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00163">tagHOSTCLUT::nInputCh</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00168">tagHOSTCLUT::nInputEntries</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00166">tagHOSTCLUT::nLutBits</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00164">tagHOSTCLUT::nOutputCh</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00169">tagHOSTCLUT::nOutputEntries</a>, <a class="el" href="../../d9/d5/jul98_2test_2profcrd_8h-source.html#l00023">tagHOSTCLUT::outputArray</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01169">DoHostConversionCRD()</a>, and <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01288">DoHostConversionCSA()</a>.
<p>
<pre class="fragment"><div>06301 {
06302     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>      *ppArray;
06303     <span class="keywordtype">float</span>      fIndex;
06304     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      nNumCh;
06305     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      nNumEntries, i;
06306     WORD       nGrids;
06307     WORD       floor1, ceiling1;
06308 
06309     <span class="keywordflow">if</span> (bInputTable)
06310     {
06311         nNumCh = pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o25">nInputCh</a>;
06312         nNumEntries = pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o30">nInputEntries</a> - 1;
06313         ppArray = pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o14">inputArray</a>;
06314     }
06315     <span class="keywordflow">else</span>
06316     {
06317         nNumCh = pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o26">nOutputCh</a>;
06318         nNumEntries = pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o31">nOutputEntries</a> - 1;
06319         ppArray = pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o15">outputArray</a>;
06320     }
06321 
06322     nGrids = pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o27">nClutPoints</a>;
06323     <span class="keywordflow">for</span> (i=0; (i&lt;=<a class="code" href="../../d2/d6/aug98_2dll32_2profcrd_8h.html#a0">MAXCHANNELS</a>) &amp;&amp; (i&lt;nNumCh); i++)
06324     {
06325         pfTemp[i] = (pfTemp[i] &lt; 0) ? 0 : ((pfTemp[i] &gt; 1) ? 1 : pfTemp[i]);
06326 
06327         fIndex = pfTemp[i] * nNumEntries;
06328 
06329         <span class="keywordflow">if</span> (pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o28">nLutBits</a> == 8)
06330         {
06331             floor1 = ppArray[i][(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)fIndex];
06332             ceiling1 = ppArray[i][((<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)fIndex) + 1];
06333 
06334             pfTemp[i] = (<span class="keywordtype">float</span>)(floor1 + (ceiling1 - floor1) * (fIndex - floor(fIndex)));
06335 
06336             <span class="keywordflow">if</span> (bCSA &amp;&amp; !bInputTable)
06337                 pfTemp[i] = pfTemp[i] / 127.0f;
06338             <span class="keywordflow">else</span>
06339                 pfTemp[i] = pfTemp[i] / 255.0f;
06340         }
06341         <span class="keywordflow">else</span>
06342         {
06343             floor1 = ((PWORD)(ppArray[i]))[(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)fIndex];
06344             ceiling1 = ((PWORD)(ppArray[i]))[((<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)fIndex) + 1];
06345 
06346             pfTemp[i] = (<span class="keywordtype">float</span>)(floor1 + (ceiling1 - floor1) * (fIndex - floor(fIndex)));
06347 
06348             <span class="keywordflow">if</span> (bCSA &amp;&amp; !bInputTable)
06349                 pfTemp[i] = pfTemp[i] / 32767.0f;
06350             <span class="keywordflow">else</span>
06351                 pfTemp[i] = pfTemp[i] / 65535.0f;
06352 
06353         }
06354 
06355         <span class="keywordflow">if</span> (bInputTable)
06356         {
06357             pfTemp[i] *= (nGrids - 1);
06358             <span class="keywordflow">if</span> (pfTemp[i] &gt; (nGrids - 1))
06359                 pfTemp[i] =  (<span class="keywordtype">float</span>)(nGrids - 1);
06360         }
06361     }
06362 
06363     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
06364 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a253" doxytag="ps2.c::crc32" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> crc32           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>buff</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>length</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l06843">6843</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d4/d9/user32_8def-source.html#l00799">c</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l06808">crc_32_tab</a>, and <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>.
<p>
Referenced by <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00799">IsSRGB()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l06873">IsSRGBColorProfile()</a>.
<p>
<pre class="fragment"><div>06844 {
06845     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> crc, charcnt;
06846     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>  <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>;
06847 
06848     crc = 0xFFFFFFFF;
06849     charcnt = 0;
06850 
06851     <span class="keywordflow">for</span> (charcnt = 0 ; charcnt &lt; length ; charcnt++)
06852     {
06853         <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a> = buff[charcnt];
06854         crc = <a class="code" href="../../d2/d9/ps2_8c.html#a180">crc_32_tab</a>[(crc ^ <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>) &amp; 0xff] ^ (crc &gt;&gt; 8);
06855     }
06856 
06857     <span class="keywordflow">return</span> crc;
06858 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a251" doxytag="ps2.c::CreateColorantArray" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL CreateColorantArray           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l03893">3893</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d3/d8/ps2_8c-source.html#l00112">tagXYZTYPE::afxData</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04007">DoesCPTagExist()</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00100">FIX_16_16</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00027">FIX_16_16_SCALE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00100">PFIX_16_16</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a60">PXYZTYPE</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05393">CreateHostMatrixCSAorCRD()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00877">CreateMatrixCRD()</a>, and <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l00384">GetHostMatrixCSAorCRD()</a>.
<p>
<pre class="fragment"><div>03898 {
03899     PTAGDATA pTagData;
03900     <a class="code" href="../../d2/d0/structtagXYZTYPE.html">PXYZTYPE</a> pData;
03901     <a class="code" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a> pTable;
03902     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> i, dwIndex;
03903     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> buffer[1000];
03904 
03905     <span class="keywordflow">if</span> (<a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, dwTag, &amp;dwIndex))
03906     {
03907         pTagData = (PTAGDATA)(pProfile + <span class="keyword">sizeof</span>(PROFILEHEADER) + <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) +
03908                    dwIndex * <span class="keyword">sizeof</span>(TAGDATA));
03909 
03910         pData = (<a class="code" href="../../d2/d0/structtagXYZTYPE.html">PXYZTYPE</a>)(pProfile + FIX_ENDIAN(pTagData-&gt;dwOffset));
03911 
03912         pTable = pData-&gt;<a class="code" href="../../d2/d0/structtagXYZTYPE.html#o2">afxData</a>;
03913 
03914         <span class="keywordflow">for</span> (i = 0; i &lt; 3; i++)
03915         {
03916             <a class="code" href="../../d2/d9/ps2_8c.html#a55">FIX_16_16</a> afxData = FIX_ENDIAN(*pTable);
03917 
03918             <span class="comment">//</span>
03919             <span class="comment">// Convert Fix 16.16 to double.</span>
03920             <span class="comment">//</span>
03921 
03922             *lpArray = ((<span class="keywordtype">double</span>) afxData) / ((<span class="keywordtype">double</span>) <a class="code" href="../../d2/d9/ps2_8c.html#a5">FIX_16_16_SCALE</a>);
03923 
03924             pTable++; lpArray++;
03925         }
03926 
03927         <span class="keywordflow">return</span> (<a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>);
03928     }
03929 
03930     <span class="keywordflow">return</span> (<a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>);
03931 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a212" doxytag="ps2.c::CreateColSpArray" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> CreateColSpArray           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOL&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l02501">2501</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00007">BeginArray</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00106">tagCURVETYPE::data</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00086">DecodeABCArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00055">DefOp</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04007">DoesCPTagExist()</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00008">EndArray</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00021">MAX_LINELEN</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00105">tagCURVETYPE::nCount</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00063">NewLine</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a58">PCURVETYPE</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00064">Slash</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04274">WriteHNAToken()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00080">WriteInt</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04296">WriteIntStringU2S()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04573">WriteNewLineObject()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>.
<p>
Referenced by <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00642">GetPS2CSA_ABC()</a>.
<p>
<pre class="fragment"><div>02507 {
02508     <a class="code" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a> pData;
02509     PTAGDATA   pTagData;
02510     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>      pLineStart, pStart = pBuffer;
02511     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>      pTable;
02512     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      i, nCount, dwIndex;
02513 
02514     pLineStart = pBuffer;
02515 
02516     <span class="keywordflow">if</span> (<a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, dwCPTag, &amp;dwIndex))
02517     {
02518         pTagData = (PTAGDATA)(pProfile + <span class="keyword">sizeof</span>(PROFILEHEADER) + <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) +
02519                    dwIndex * <span class="keyword">sizeof</span>(TAGDATA));
02520 
02521         pData = (<a class="code" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>)(pProfile + FIX_ENDIAN(pTagData-&gt;dwOffset));
02522 
02523         nCount = FIX_ENDIAN(pData-&gt;<a class="code" href="../../d1/d2/structtagCURVETYPE.html#o2">nCount</a>);
02524 
02525         <span class="keywordflow">if</span> (nCount &gt; 1)
02526         {
02527             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, Slash);
02528             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, DecodeABCArray);
02529             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, dwCPTag);
02530 
02531             pTable = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)(pData-&gt;<a class="code" href="../../d1/d2/structtagCURVETYPE.html#o3">data</a>);
02532 
02533             <span class="keywordflow">if</span> (! bBinary)           <span class="comment">// Output ASCII CS</span>
02534             {
02535                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
02536                 <span class="keywordflow">for</span> (i=0; i&lt;nCount; i++)
02537                 {
02538                     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, FIX_ENDIAN16(*((PWORD)pTable)));
02539                     pTable += <span class="keyword">sizeof</span>(WORD);
02540 
02541                     <span class="keywordflow">if</span> (((<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) (pBuffer - pLineStart)) &gt; <a class="code" href="../../d2/d9/ps2_8c.html#a0">MAX_LINELEN</a>)
02542                     {
02543                         pLineStart = pBuffer;
02544                         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
02545                     }
02546                 }
02547                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
02548             }
02549             <span class="keywordflow">else</span>
02550             {                           <span class="comment">// Output BINARY CS</span>
02551                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a224">WriteHNAToken</a>(pBuffer, 149, nCount);
02552                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a225">WriteIntStringU2S</a>(pBuffer, pTable, nCount);
02553             }
02554 
02555             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, DefOp);
02556         }
02557     }
02558     <span class="keywordflow">return</span> (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) (pBuffer - pStart);
02559 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a213" doxytag="ps2.c::CreateColSpProc" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> CreateColSpProc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOL&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l02581">2581</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00009">BeginFunction</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00106">tagCURVETYPE::data</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00084">DecodeA3</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00086">DecodeABCArray</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04007">DoesCPTagExist()</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00128">EndClip</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00010">EndFunction</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00115">IndexArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00110">IndexArray16b</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00105">tagCURVETYPE::nCount</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a58">PCURVETYPE</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00131">Scale16</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00127">StartClip</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00080">WriteInt</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>.
<p>
Referenced by <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00642">GetPS2CSA_ABC()</a>.
<p>
<pre class="fragment"><div>02587 {
02588     <a class="code" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a> pData;
02589     PTAGDATA   pTagData;
02590     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>      pStart = pBuffer;
02591     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>      pTable;
02592     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      nCount, dwIndex;
02593 
02594     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginFunction);
02595 
02596     <span class="keywordflow">if</span> (<a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, dwCPTag, &amp;dwIndex))
02597     {
02598         pTagData = (PTAGDATA)(pProfile + <span class="keyword">sizeof</span>(PROFILEHEADER) + <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) +
02599                    dwIndex * <span class="keyword">sizeof</span>(TAGDATA));
02600 
02601         pData = (<a class="code" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>)(pProfile + FIX_ENDIAN(pTagData-&gt;dwOffset));
02602 
02603         nCount = FIX_ENDIAN(pData-&gt;<a class="code" href="../../d1/d2/structtagCURVETYPE.html#o2">nCount</a>);
02604 
02605         <span class="keywordflow">if</span> (nCount != 0)
02606         {
02607             <span class="keywordflow">if</span> (nCount == 1)            <span class="comment">// Gamma supplied in ui16 format</span>
02608             {
02609                 pTable = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)(pData-&gt;<a class="code" href="../../d1/d2/structtagCURVETYPE.html#o3">data</a>);
02610                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, FIX_ENDIAN16(*((PWORD)pTable)));
02611                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, DecodeA3);
02612             }
02613             <span class="keywordflow">else</span>
02614             {
02615                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, StartClip);
02616                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, DecodeABCArray);
02617                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, dwCPTag);
02618 
02619                 <span class="keywordflow">if</span> (! bBinary)       <span class="comment">// Output ASCII CS</span>
02620                 {
02621                     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IndexArray);
02622                 }
02623                 <span class="keywordflow">else</span>
02624                 {                    <span class="comment">// Output BINARY CS</span>
02625                     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IndexArray16b);
02626                 }
02627                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, Scale16);
02628                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndClip);
02629             }
02630         }
02631     }
02632     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndFunction);
02633 
02634     <span class="keywordflow">return</span> (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) (pBuffer - pStart);
02635 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a210" doxytag="ps2.c::CreateCRDRevArray" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> CreateCRDRevArray           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PWORD&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOL&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l03788">3788</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00007">BeginArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00055">DefOp</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00008">EndArray</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03944">GetRevCurve()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00087">InputArray</a>, <a class="el" href="../../d0/d5/ndismain_8h-source.html#l00025">INT</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00021">MAX_LINELEN</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00105">tagCURVETYPE::nCount</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00063">NewLine</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d2/d5/aug98_2dll32_2icm_8h-source.html#l00060">REVCURVE_RATIO</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00064">Slash</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04274">WriteHNAToken()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00080">WriteInt</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04324">WriteIntStringU2S_L()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04573">WriteNewLineObject()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l03495">CreateMatrixCRD()</a>.
<p>
<pre class="fragment"><div>03796 {
03797     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> i, nCount;
03798     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pStart, pLineStart;
03799     PWORD pCurve;
03800 
03801     pStart = pBuffer;
03802     pLineStart = pBuffer;
03803 
03804     nCount = FIX_ENDIAN(pData-&gt;<a class="code" href="../../d1/d2/structtagCURVETYPE.html#o2">nCount</a>);
03805     <span class="keywordflow">if</span> (nCount &gt; 1)
03806     {
03807         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, Slash);
03808         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, InputArray);
03809         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, (INT) dwTag);
03810 
03811         pCurve = pRevCurve + (<a class="code" href="../../d1/d6/aug98_2dll32_2icm_8h.html#a32">REVCURVE_RATIO</a> * nCount);
03812 
03813         <a class="code" href="../../d2/d9/ps2_8c.html#a218">GetRevCurve</a> (pData, pCurve, pRevCurve);
03814 
03815         <span class="keywordflow">if</span> (!bBinary)  <span class="comment">// Output ASCII DATA</span>
03816         {
03817             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
03818             <span class="keywordflow">for</span> (i = 0; i &lt; nCount * <a class="code" href="../../d1/d6/aug98_2dll32_2icm_8h.html#a32">REVCURVE_RATIO</a>; i++)
03819             {
03820                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, *pRevCurve);
03821                 pRevCurve++;
03822                 <span class="keywordflow">if</span> (((<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) (pBuffer - pLineStart)) &gt; <a class="code" href="../../d2/d9/ps2_8c.html#a0">MAX_LINELEN</a>)
03823                 {
03824                     pLineStart = pBuffer;
03825                     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
03826                 }
03827             }
03828             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
03829         }
03830         <span class="keywordflow">else</span> <span class="comment">// Output BINARY DATA</span>
03831         {
03832             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a224">WriteHNAToken</a>(pBuffer, 149, nCount);
03833             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a226">WriteIntStringU2S_L</a>(pBuffer, (PBYTE) pRevCurve, nCount);
03834         }
03835         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, DefOp);
03836     }
03837 
03838     <span class="keywordflow">return</span> (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(pBuffer - pStart);
03839 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a214" doxytag="ps2.c::CreateFloatString" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> CreateFloatString           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l02657">2657</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d3/d8/ps2_8c-source.html#l04007">DoesCPTagExist()</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l04441">WriteFixed()</a>.
<p>
Referenced by <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00642">GetPS2CSA_ABC()</a>.
<p>
<pre class="fragment"><div>02662 {
02663     PTAGDATA   pTagData;
02664     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>      pStart = pBuffer;
02665     PDWORD     pTable;
02666     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      i, dwIndex;
02667 
02668     <span class="keywordflow">if</span> (<a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, dwCPTag, &amp;dwIndex))
02669     {
02670         pTagData = (PTAGDATA)(pProfile + <span class="keyword">sizeof</span>(PROFILEHEADER) + <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) +
02671                    dwIndex * <span class="keyword">sizeof</span>(TAGDATA));
02672 
02673         pTable = (PDWORD)(pProfile + FIX_ENDIAN(pTagData-&gt;dwOffset)) + 2;
02674 
02675         <span class="keywordflow">for</span> (i=0; i&lt;3; i++)
02676         {
02677             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a231">WriteFixed</a>(pBuffer, FIX_ENDIAN(*pTable));
02678             pTable ++;
02679         }
02680     }
02681 
02682     <span class="keywordflow">return</span> (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) (pBuffer - pStart);
02683 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a237" doxytag="ps2.c::CreateHostInputOutputArray" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> CreateHostInputOutputArray           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> *&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l05728">5728</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00064">LUT8_TYPE</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a64">PLUT16TYPE</a>, and <a class="el" href="../../d2/d9/ps2_8c.html#a62">PLUT8TYPE</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l00587">CreateHostLutCRD()</a>, and <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l00138">GetHostCSA()</a>.
<p>
<pre class="fragment"><div>05737 {
05738     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>   pStart = pBuffer;
05739     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>   pTable;
05740     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>   i, j;
05741 
05742     <span class="keywordflow">for</span> (i=0; i&lt;nNumChan; i++)
05743     {
05744         ppArray[i] = pBuffer;
05745 
05746         <span class="keywordflow">if</span> (dwLutSig == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>)
05747         {
05748             pTable = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>) (((<a class="code" href="../../d4/d0/structtagLUT8TYPE.html">PLUT8TYPE</a>)pLut)-&gt;data) +
05749                 dwOffset + nTableSize * i;
05750 
05751             CopyMemory(pBuffer, pTable, nTableSize);
05752 
05753             pBuffer += nTableSize;
05754         }
05755         <span class="keywordflow">else</span>
05756         {
05757             pTable = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>) (((<a class="code" href="../../d3/d0/structtagLUT16TYPE.html">PLUT16TYPE</a>)pLut)-&gt;data) +
05758                 2 * dwOffset +
05759                 2 * nTableSize * i;
05760 
05761             <span class="keywordflow">for</span> (j=0; j&lt;nTableSize; j++)
05762             {
05763                 *((PWORD)pBuffer) = FIX_ENDIAN16(*((PWORD)pTable));
05764                 pBuffer += <span class="keyword">sizeof</span>(WORD);
05765                 pTable += <span class="keyword">sizeof</span>(WORD);
05766             }
05767         }
05768     }
05769 
05770     <span class="keywordflow">return</span> (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) (pBuffer - pStart);
05771 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a235" doxytag="ps2.c::CreateHostLutCRD" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> CreateHostLutCRD           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l05203">5203</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d3/d8/ps2_8c-source.html#l00161">tagHOSTCLUT::afxIlluminantWP</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00162">tagHOSTCLUT::afxMediaWP</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d3/d8/aug98_2dll32_2csprof_8h-source.html#l00015">CIEXYZRange</a>, <a class="el" href="../../d9/d5/jul98_2test_2profcrd_8h-source.html#l00024">tagHOSTCLUT::clut</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05728">CreateHostInputOutputArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00090">DATATYPE_LUT</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00160">tagHOSTCLUT::dwIntent</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00159">tagHOSTCLUT::dwPCS</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00135">tagLUT16TYPE::dwSignature</a>, <a class="el" href="../../d9/d5/jul98_2test_2profcrd_8h-source.html#l00019">tagHOSTCLUT::e</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00032">FIX_DIV</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04951">GetCLUTInfo()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00069">GetCPConnSpace</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04087">GetCPMediaWhitePoint()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04074">GetCPWhitePoint()</a>, <a class="el" href="../../d9/d5/jul98_2test_2profcrd_8h-source.html#l00022">tagHOSTCLUT::inputArray</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00065">LUT16_TYPE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00064">LUT8_TYPE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00021">MAX_LINELEN</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00165">tagHOSTCLUT::nClutPoints</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00063">NewLine</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00163">tagHOSTCLUT::nInputCh</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00168">tagHOSTCLUT::nInputEntries</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00166">tagHOSTCLUT::nLutBits</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00164">tagHOSTCLUT::nOutputCh</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00169">tagHOSTCLUT::nOutputEntries</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d9/d5/jul98_2test_2profcrd_8h-source.html#l00023">tagHOSTCLUT::outputArray</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a66">PHOSTCLUT</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a64">PLUT16TYPE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a62">PLUT8TYPE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00082">STRLEN</a>, <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00142">WARNING</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00157">tagHOSTCLUT::wDataType</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00156">tagHOSTCLUT::wSize</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l00745">GetHostColorRenderingDictionary()</a>.
<p>
<pre class="fragment"><div>05209 {
05210     <a class="code" href="../../d3/d0/structtagLUT16TYPE.html">PLUT16TYPE</a> pLut;
05211     <a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>  pHostClut;
05212     PTAGDATA   pTagData;
05213     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>      pTable;
05214     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      nInputCh, nOutputCh, nGrids;
05215     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      nInputEntries, nOutputEntries, nNumbers;
05216     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      dwPCS, dwLutSig;
05217     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      dwSize, i, j;
05218     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>      pStart = pBuffer;
05219 
05220     <span class="comment">//</span>
05221     <span class="comment">// Check if we can generate the CSA</span>
05222     <span class="comment">// Required  tags is AToBi, where i is the rendering intent</span>
05223     <span class="comment">//</span>
05224 
05225     dwPCS = <a class="code" href="../../d2/d9/ps2_8c.html#a40">GetCPConnSpace</a>(pProfile);
05226 
05227     pTagData = (PTAGDATA)(pProfile + <span class="keyword">sizeof</span>(PROFILEHEADER) + <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) +
05228                dwIndex * <span class="keyword">sizeof</span>(TAGDATA));
05229 
05230     pLut = (<a class="code" href="../../d3/d0/structtagLUT16TYPE.html">PLUT16TYPE</a>)(pProfile + FIX_ENDIAN(pTagData-&gt;dwOffset));
05231 
05232     dwLutSig = FIX_ENDIAN(pLut-&gt;<a class="code" href="../../d3/d0/structtagLUT16TYPE.html#o0">dwSignature</a>);
05233 
05234     <span class="keywordflow">if</span> ((dwLutSig != <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>) &amp;&amp; (dwLutSig != <a class="code" href="../../d2/d9/ps2_8c.html#a38">LUT16_TYPE</a>))
05235     {
05236         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Invalid profile - unable to create Lut CRD\n"</span>)));
05237         SetLastError(ERROR_INVALID_PROFILE);
05238         <span class="keywordflow">return</span> 0;
05239     }
05240 
05241     (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a219">GetCLUTInfo</a>(dwLutSig, (PBYTE)pLut, &amp;nInputCh, &amp;nOutputCh,
05242             &amp;nGrids, &amp;nInputEntries, &amp;nOutputEntries, &amp;i);
05243 
05244     <span class="keywordflow">if</span> (((nOutputCh != 3) &amp;&amp; (nOutputCh != 4)) ||  (nInputCh != 3))
05245     {
05246         <span class="keywordflow">return</span> 0;
05247     }
05248 
05249     <span class="keywordflow">if</span> (pBuffer == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
05250     {
05251         <span class="comment">//</span>
05252         <span class="comment">// Return size</span>
05253         <span class="comment">//</span>
05254 
05255         dwSize = nInputCh * nInputEntries * i    +  <span class="comment">// Input table 8/16-bits</span>
05256             nOutputCh * nOutputEntries * i       +  <span class="comment">// Output table 8/16-bits</span>
05257             nOutputCh * nGrids * nGrids * nGrids +  <span class="comment">// CLUT 8-bits only</span>
05258             <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">HOSTCLUT</a>)                     +  <span class="comment">// Data structure</span>
05259             2048;                                   <span class="comment">// Other PS stuff</span>
05260 
05261         <span class="comment">//</span>
05262         <span class="comment">// Add space for new line.</span>
05263         <span class="comment">//</span>
05264 
05265         dwSize += (((dwSize) / <a class="code" href="../../d2/d9/ps2_8c.html#a0">MAX_LINELEN</a>) + 1) * <a class="code" href="../../d2/d9/ps2_8c.html#a46">STRLEN</a>(NewLine);
05266 
05267         <span class="keywordflow">return</span> dwSize;
05268     }
05269         
05270     pHostClut = (<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)pBuffer;
05271     pBuffer += <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">HOSTCLUT</a>);
05272     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o18">wSize</a> = <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">HOSTCLUT</a>);
05273     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o19">wDataType</a> = <a class="code" href="../../d2/d9/ps2_8c.html#a51">DATATYPE_LUT</a>;
05274     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o21">dwPCS</a> = dwPCS;
05275     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o22">dwIntent</a> = dwIntent;
05276     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o28">nLutBits</a> = (dwLutSig == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>) ? 8 : 16;
05277 
05278     (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a191">GetCPWhitePoint</a>(pProfile, pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o23">afxIlluminantWP</a>);
05279 
05280     <span class="comment">//</span>
05281     <span class="comment">// Support absolute whitePoint</span>
05282     <span class="comment">//</span>
05283 
05284     <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d9/ps2_8c.html#a192">GetCPMediaWhitePoint</a>(pProfile, pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o24">afxMediaWP</a>))
05285     {
05286         pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o24">afxMediaWP</a>[0] = pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o23">afxIlluminantWP</a>[0];
05287         pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o24">afxMediaWP</a>[1] = pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o23">afxIlluminantWP</a>[1];
05288         pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o24">afxMediaWP</a>[2] = pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o23">afxIlluminantWP</a>[2];
05289     }
05290 
05291     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o25">nInputCh</a> = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)nInputCh;
05292     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o26">nOutputCh</a> = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)nOutputCh;
05293     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o27">nClutPoints</a> = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)nGrids;
05294     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o30">nInputEntries</a> = (WORD)nInputEntries;
05295     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o31">nOutputEntries</a> = (WORD)nOutputEntries;
05296 
05297     <span class="comment">//</span>
05298     <span class="comment">// Input array</span>
05299     <span class="comment">//</span>
05300 
05301     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a237">CreateHostInputOutputArray</a>(
05302                         pBuffer,
05303                         pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o14">inputArray</a>,
05304                         nInputCh,
05305                         nInputEntries,
05306                         0,
05307                         dwLutSig,
05308                         (PBYTE)pLut);
05309 
05310     <span class="comment">//</span>
05311     <span class="comment">// The offset to the position of output array.</span>
05312     <span class="comment">//</span>
05313 
05314     i = nInputEntries * nInputCh +
05315         nGrids * nGrids * nGrids * nOutputCh;
05316 
05317     <span class="comment">//</span>
05318     <span class="comment">// Output array</span>
05319     <span class="comment">//</span>
05320 
05321     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a237">CreateHostInputOutputArray</a>(
05322                         pBuffer,
05323                         pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o15">outputArray</a>,
05324                         nOutputCh,
05325                         nOutputEntries,
05326                         i,
05327                         dwLutSig,
05328                         (PBYTE)pLut);
05329 
05330     <span class="comment">//</span>
05331     <span class="comment">// Matrix</span>
05332     <span class="comment">//</span>
05333 
05334     <span class="keywordflow">if</span> (dwPCS == SPACE_XYZ)
05335     {
05336         <span class="keywordflow">if</span> (dwLutSig == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>)
05337         {
05338             pTable = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>) &amp;((<a class="code" href="../../d4/d0/structtagLUT8TYPE.html">PLUT8TYPE</a>)pLut)-&gt;e00;
05339         } <span class="keywordflow">else</span>
05340         {
05341             pTable = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>) &amp;((<a class="code" href="../../d3/d0/structtagLUT16TYPE.html">PLUT16TYPE</a>)pLut)-&gt;e00;
05342         }
05343 
05344         <span class="keywordflow">for</span> (i=0; i&lt;9; i++)
05345         {
05346             pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o11">e</a>[i] = <a class="code" href="../../d2/d9/ps2_8c.html#a9">FIX_DIV</a>(FIX_ENDIAN(*((PDWORD)pTable)), CIEXYZRange);
05347             pTable += <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>);
05348         }
05349     }
05350 
05351     <span class="comment">//</span>
05352     <span class="comment">// RenderTable</span>
05353     <span class="comment">//</span>
05354 
05355     nNumbers = nGrids * nGrids * nOutputCh;
05356     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o16">clut</a> = pBuffer;
05357 
05358     <span class="keywordflow">for</span> (i=0; i&lt;nGrids; i++)        <span class="comment">// Na strings should be sent</span>
05359     {
05360         <span class="keywordflow">if</span> (dwLutSig == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>)
05361         {
05362             pTable = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)(((<a class="code" href="../../d4/d0/structtagLUT8TYPE.html">PLUT8TYPE</a>)pLut)-&gt;data) +
05363                 nInputEntries * nInputCh +
05364                 nNumbers * i;
05365         }
05366         <span class="keywordflow">else</span>
05367         {
05368             pTable = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)(((<a class="code" href="../../d3/d0/structtagLUT16TYPE.html">PLUT16TYPE</a>)pLut)-&gt;data) +
05369                 2 * nInputEntries * nInputCh +
05370                 2 * nNumbers * i;
05371         }
05372 
05373         <span class="keywordflow">if</span> (dwLutSig == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>)
05374         {
05375             CopyMemory(pBuffer, pTable, nNumbers);
05376             pBuffer += nNumbers;
05377         }
05378         <span class="keywordflow">else</span>
05379         {
05380             <span class="keywordflow">for</span> (j=0; j&lt;nNumbers; j++)
05381             {
05382                 *pBuffer++ = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)(FIX_ENDIAN16(*((PWORD)pTable)) / 256);
05383                 pTable += <span class="keyword">sizeof</span>(WORD);
05384             }
05385         }
05386     }
05387 
05388     <span class="keywordflow">return</span> (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(pBuffer - pStart);
05389 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a236" doxytag="ps2.c::CreateHostMatrixCSAorCRD" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> CreateHostMatrixCSAorCRD           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOL&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l05393">5393</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d3/d8/ps2_8c-source.html#l00161">tagHOSTCLUT::afxIlluminantWP</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03893">CreateColorantArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05601">CreateHostRevTRCInputTable()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05549">CreateHostTRCInputTable()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00091">DATATYPE_MATRIX</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04007">DoesCPTagExist()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00160">tagHOSTCLUT::dwIntent</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00159">tagHOSTCLUT::dwPCS</a>, <a class="el" href="../../d9/d5/jul98_2test_2profcrd_8h-source.html#l00019">tagHOSTCLUT::e</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00100">FIX_16_16</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00027">FIX_16_16_SCALE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04074">GetCPWhitePoint()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l06676">InvertColorantArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00021">MAX_LINELEN</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00165">tagHOSTCLUT::nClutPoints</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00105">tagCURVETYPE::nCount</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00063">NewLine</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00163">tagHOSTCLUT::nInputCh</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00168">tagHOSTCLUT::nInputEntries</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00164">tagHOSTCLUT::nOutputCh</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00169">tagHOSTCLUT::nOutputEntries</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a58">PCURVETYPE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a66">PHOSTCLUT</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00082">STRLEN</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00042">TAG_BLUECOLORANT</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00045">TAG_BLUETRC</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00041">TAG_GREENCOLORANT</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00044">TAG_GREENTRC</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00040">TAG_REDCOLORANT</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00043">TAG_REDTRC</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00064">USHORT</a>, <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00142">WARNING</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00157">tagHOSTCLUT::wDataType</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00156">tagHOSTCLUT::wSize</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05662">GetHostColorRenderingDictionary()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l05792">GetHostCSA()</a>.
<p>
<pre class="fragment"><div>05400 {
05401     PTAGDATA   pTagData;
05402     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      dwRedTRCIndex, dwGreenTRCIndex, dwBlueTRCIndex;
05403     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      dwRedCount, dwGreenCount, dwBlueCount;
05404     <a class="code" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a> pRed, pGreen, pBlue;
05405     <a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>  pHostClut;
05406     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>      pStart = pBuffer;
05407     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      i, dwSize;
05408     <span class="keywordtype">double</span>     adArray[9], adRevArray[9], adTemp[9];
05409 
05410     <span class="comment">//</span>
05411     <span class="comment">// Get each TRC index for Red, Green and Blue.</span>
05412     <span class="comment">//</span>
05413 
05414     <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, TAG_REDTRC, &amp;dwRedTRCIndex) ||
05415         !<a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, TAG_GREENTRC, &amp;dwGreenTRCIndex) ||
05416         !<a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, TAG_BLUETRC, &amp;dwBlueTRCIndex))
05417     {
05418         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
05419     }
05420 
05421     <span class="comment">//</span>
05422     <span class="comment">// Get CURVETYPE data for each Red, Green and Blue</span>
05423     <span class="comment">//</span>
05424 
05425     pTagData = (PTAGDATA)(pProfile + <span class="keyword">sizeof</span>(PROFILEHEADER) + <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) +
05426                dwRedTRCIndex * <span class="keyword">sizeof</span>(TAGDATA));
05427 
05428     pRed = (<a class="code" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>)(pProfile + FIX_ENDIAN(pTagData-&gt;dwOffset));
05429 
05430     pTagData = (PTAGDATA)(pProfile + <span class="keyword">sizeof</span>(PROFILEHEADER) + <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) +
05431                dwGreenTRCIndex * <span class="keyword">sizeof</span>(TAGDATA));
05432 
05433     pGreen = (<a class="code" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>)(pProfile + FIX_ENDIAN(pTagData-&gt;dwOffset));
05434 
05435     pTagData = (PTAGDATA)(pProfile + <span class="keyword">sizeof</span>(PROFILEHEADER) + <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) +
05436                dwBlueTRCIndex * <span class="keyword">sizeof</span>(TAGDATA));
05437 
05438     pBlue = (<a class="code" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>)(pProfile + FIX_ENDIAN(pTagData-&gt;dwOffset));
05439 
05440     <span class="comment">//</span>
05441     <span class="comment">// Get curve count for each Red, Green and Blue.</span>
05442     <span class="comment">//</span>
05443 
05444     dwRedCount   = FIX_ENDIAN(pRed-&gt;<a class="code" href="../../d1/d2/structtagCURVETYPE.html#o2">nCount</a>);
05445     dwGreenCount = FIX_ENDIAN(pGreen-&gt;<a class="code" href="../../d1/d2/structtagCURVETYPE.html#o2">nCount</a>);
05446     dwBlueCount  = FIX_ENDIAN(pBlue-&gt;<a class="code" href="../../d1/d2/structtagCURVETYPE.html#o2">nCount</a>);
05447 
05448     <span class="comment">//</span>
05449     <span class="comment">// Estimate the memory size required to hold CRD</span>
05450     <span class="comment">//</span>
05451 
05452     dwSize = (dwRedCount + dwGreenCount + dwBlueCount) * 2 +
05453              <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">HOSTCLUT</a>) + 2048;   <span class="comment">// data structure + extra safe space</span>
05454 
05455     <span class="comment">//</span>
05456     <span class="comment">// Add space for new line.</span>
05457     <span class="comment">//</span>
05458 
05459     dwSize += (((dwSize) / <a class="code" href="../../d2/d9/ps2_8c.html#a0">MAX_LINELEN</a>) + 1) * <a class="code" href="../../d2/d9/ps2_8c.html#a46">STRLEN</a>(NewLine);
05460 
05461     <span class="keywordflow">if</span> (pBuffer == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)     <span class="comment">// This is a size request</span>
05462     {
05463         *pcbSize = dwSize;
05464         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
05465     }
05466 
05467     <span class="comment">//</span>
05468     <span class="comment">// Check buffer size.</span>
05469     <span class="comment">//</span>
05470 
05471     <span class="keywordflow">if</span> (*pcbSize &lt; dwSize)
05472     {
05473         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Buffer too small to get Host Matrix CSA/CRD\n"</span>)));
05474         SetLastError(ERROR_INSUFFICIENT_BUFFER);
05475         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
05476     }
05477 
05478     pHostClut = (<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)pBuffer;
05479     pBuffer += <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">HOSTCLUT</a>);
05480     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o18">wSize</a> = <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">HOSTCLUT</a>);
05481     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o19">wDataType</a> = <a class="code" href="../../d2/d9/ps2_8c.html#a52">DATATYPE_MATRIX</a>;
05482     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o21">dwPCS</a> = SPACE_XYZ;
05483     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o22">dwIntent</a> = dwIntent;
05484     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o27">nClutPoints</a> = 2;
05485 
05486     (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a191">GetCPWhitePoint</a>(pProfile, pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o23">afxIlluminantWP</a>);
05487 
05488     <span class="keywordflow">if</span> (bCSA)
05489     {
05490         pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o30">nInputEntries</a> = (<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>) dwRedCount;
05491         pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o25">nInputCh</a>      = 3;
05492 
05493         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a238">CreateHostTRCInputTable</a>(pBuffer, pHostClut,
05494                                            pRed, pGreen, pBlue);
05495     }
05496     <span class="keywordflow">else</span>
05497     {
05498         pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o31">nOutputEntries</a> = (<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>) dwRedCount;
05499         pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o26">nOutputCh</a> = 3;
05500 
05501         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a239">CreateHostRevTRCInputTable</a>(pBuffer, pHostClut,
05502                                               pRed, pGreen, pBlue);
05503     }
05504 
05505     <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d9/ps2_8c.html#a251">CreateColorantArray</a>(pProfile, &amp;adTemp[0], TAG_REDCOLORANT) ||
05506         !<a class="code" href="../../d2/d9/ps2_8c.html#a251">CreateColorantArray</a>(pProfile, &amp;adTemp[3], TAG_GREENCOLORANT) ||
05507         !<a class="code" href="../../d2/d9/ps2_8c.html#a251">CreateColorantArray</a>(pProfile, &amp;adTemp[6], TAG_BLUECOLORANT))
05508     {
05509         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Fail to create colorant array for Host Matrix CSA/CRD\n"</span>)));
05510         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
05511     }
05512 
05513     <span class="keywordflow">for</span> (i = 0; i &lt; 9; i++)
05514     {
05515         adArray[i] = adTemp[i/8*8 + i*3%8];
05516     }
05517 
05518     <span class="keywordflow">if</span> (bCSA)
05519     {
05520         <span class="keywordflow">for</span> (i = 0; i &lt; 9; i++)
05521         {
05522             <span class="comment">//</span>
05523             <span class="comment">// Convert double to Fix 16.16</span>
05524             <span class="comment">//</span>
05525 
05526             pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o11">e</a>[i] = (<a class="code" href="../../d2/d9/ps2_8c.html#a55">FIX_16_16</a>)(adArray[i] * (<span class="keywordtype">double</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a5">FIX_16_16_SCALE</a>);
05527         }
05528     }
05529     <span class="keywordflow">else</span>
05530     {
05531         <a class="code" href="../../d2/d9/ps2_8c.html#a252">InvertColorantArray</a>(adArray, adRevArray);
05532         <span class="keywordflow">for</span> (i = 0; i &lt; 9; i++)
05533         {
05534             <span class="comment">//</span>
05535             <span class="comment">// Convert double to Fix 16.16</span>
05536             <span class="comment">//</span>
05537 
05538             pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o11">e</a>[i] = (<a class="code" href="../../d2/d9/ps2_8c.html#a55">FIX_16_16</a>)(adRevArray[i] * (<span class="keywordtype">double</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a5">FIX_16_16_SCALE</a>);
05539         }
05540     }
05541 
05542     *pcbSize = (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(pBuffer - pStart);
05543 
05544     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
05545 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a239" doxytag="ps2.c::CreateHostRevTRCInputTable" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> CreateHostRevTRCInputTable           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l05601">5601</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03944">GetRevCurve()</a>, <a class="el" href="../../d3/d0/object_8c-source.html#l00205">MemAlloc()</a>, <a class="el" href="../../d3/d0/object_8c-source.html#l00260">MemFree()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00169">tagHOSTCLUT::nOutputEntries</a>, <a class="el" href="../../d9/d5/jul98_2test_2profcrd_8h-source.html#l00023">tagHOSTCLUT::outputArray</a>, and <a class="el" href="../../d2/d5/aug98_2dll32_2icm_8h-source.html#l00060">REVCURVE_RATIO</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05393">CreateHostMatrixCSAorCRD()</a>, and <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l00384">GetHostMatrixCSAorCRD()</a>.
<p>
<pre class="fragment"><div>05608 {
05609     PWORD pTemp = <a class="code" href="../../d2/d1/object_8c.html#a7">MemAlloc</a>(pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o31">nOutputEntries</a> * (REVCURVE_RATIO + 1) * 2);
05610 
05611     <span class="keywordflow">if</span> (! pTemp)
05612     {
05613         <span class="keywordflow">return</span> 0;
05614     }
05615 
05616     <span class="comment">//</span>
05617     <span class="comment">// Red</span>
05618     <span class="comment">//</span>
05619 
05620     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o15">outputArray</a>[0] = pBuffer;
05621     <a class="code" href="../../d2/d9/ps2_8c.html#a218">GetRevCurve</a>(pRed, pTemp, (PWORD) pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o15">outputArray</a>[0]);
05622 
05623     <span class="comment">//</span>
05624     <span class="comment">// Green</span>
05625     <span class="comment">//</span>
05626 
05627     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o15">outputArray</a>[1] = pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o15">outputArray</a>[0] +
05628                                 2 * <a class="code" href="../../d1/d6/aug98_2dll32_2icm_8h.html#a32">REVCURVE_RATIO</a> * pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o31">nOutputEntries</a>;
05629     <a class="code" href="../../d2/d9/ps2_8c.html#a218">GetRevCurve</a>(pGreen, pTemp, (PWORD) pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o15">outputArray</a>[1]);
05630 
05631     <span class="comment">//</span>
05632     <span class="comment">// Blue</span>
05633     <span class="comment">//</span>
05634 
05635     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o15">outputArray</a>[2] = pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o15">outputArray</a>[1] +
05636                                 2 * <a class="code" href="../../d1/d6/aug98_2dll32_2icm_8h.html#a32">REVCURVE_RATIO</a> * pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o31">nOutputEntries</a>;
05637     <a class="code" href="../../d2/d9/ps2_8c.html#a218">GetRevCurve</a>(pBlue, pTemp, (PWORD) pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o15">outputArray</a>[2]);
05638 
05639     <a class="code" href="../../d2/d1/object_8c.html#a9">MemFree</a>(pTemp);
05640 
05641     <span class="keywordflow">return</span> (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(2 * <a class="code" href="../../d1/d6/aug98_2dll32_2icm_8h.html#a32">REVCURVE_RATIO</a> * pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o31">nOutputEntries</a> * 3);
05642 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a238" doxytag="ps2.c::CreateHostTRCInputTable" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> CreateHostTRCInputTable           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l05549">5549</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d3/d8/ps2_8c-source.html#l00106">tagCURVETYPE::data</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d9/d5/jul98_2test_2profcrd_8h-source.html#l00022">tagHOSTCLUT::inputArray</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00168">tagHOSTCLUT::nInputEntries</a>, and <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05393">CreateHostMatrixCSAorCRD()</a>, and <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l00384">GetHostMatrixCSAorCRD()</a>.
<p>
<pre class="fragment"><div>05556 {
05557     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> i;
05558     PWORD pBuffer16 = (PWORD) pBuffer;
05559     PWORD pTable;
05560 
05561     <span class="comment">//</span>
05562     <span class="comment">// Red</span>
05563     <span class="comment">//</span>
05564 
05565     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o14">inputArray</a>[0] = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>) pBuffer16;
05566     pTable = pRed-&gt;<a class="code" href="../../d1/d2/structtagCURVETYPE.html#o3">data</a>;
05567     <span class="keywordflow">for</span> (i = 0; i &lt; pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o30">nInputEntries</a>; i++)
05568     {
05569         *pBuffer16++ = FIX_ENDIAN16(*pTable);
05570         pTable++;
05571     }
05572 
05573     <span class="comment">//</span>
05574     <span class="comment">// Green</span>
05575     <span class="comment">//</span>
05576 
05577     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o14">inputArray</a>[1] = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>) pBuffer16;
05578     pTable = pGreen-&gt;<a class="code" href="../../d1/d2/structtagCURVETYPE.html#o3">data</a>;
05579     <span class="keywordflow">for</span> (i = 0; i &lt; pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o30">nInputEntries</a>; i++)
05580     {
05581         *pBuffer16++ = FIX_ENDIAN16(*pTable);
05582         pTable++;
05583     }
05584 
05585     <span class="comment">//</span>
05586     <span class="comment">// Blue</span>
05587     <span class="comment">//</span>
05588 
05589     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o14">inputArray</a>[2] = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>) pBuffer16;
05590     pTable = pBlue-&gt;<a class="code" href="../../d1/d2/structtagCURVETYPE.html#o3">data</a>;
05591     <span class="keywordflow">for</span> (i = 0; i &lt; pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o30">nInputEntries</a>; i++)
05592     {
05593         *pBuffer16++ = FIX_ENDIAN16(*pTable);
05594         pTable++;
05595     }
05596 
05597     <span class="keywordflow">return</span> (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)((<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)pBuffer16 - pBuffer);
05598 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a215" doxytag="ps2.c::CreateInputArray" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> CreateInputArray           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOL&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l02709">2709</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00007">BeginArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00005">BeginString</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00055">DefOp</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00008">EndArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00006">EndString</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00087">InputArray</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00065">LUT16_TYPE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00064">LUT8_TYPE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00021">MAX_LINELEN</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00063">NewLine</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a66">PHOSTCLUT</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a64">PLUT16TYPE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a62">PLUT8TYPE</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00089">PreViewInArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00064">Slash</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04401">WriteByteString()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04351">WriteHexBuffer()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04274">WriteHNAToken()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00080">WriteInt</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04296">WriteIntStringU2S()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04324">WriteIntStringU2S_L()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04573">WriteNewLineObject()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l04381">WriteStringToken()</a>.
<p>
Referenced by <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00186">CreateLutCRD()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00261">GetPS2CSA_DEFG()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01954">GetPS2PreviewColorRenderingDictionary()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>.
<p>
<pre class="fragment"><div>02719 {
02720     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> i, j;
02721     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pLineStart, pStart = pBuffer;
02722     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pTable;
02723 
02724     <span class="keywordflow">if</span> (pHostClut)
02725     {
02726         nInputChannels = ((<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)pHostClut)-&gt;nInputCh;
02727         nInputTable = ((<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)pHostClut)-&gt;nInputEntries;
02728         dwTag = ((<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)pHostClut)-&gt;nLutBits == 8 ? <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a> : <a class="code" href="../../d2/d9/ps2_8c.html#a38">LUT16_TYPE</a>;
02729     }
02730 
02731     <span class="keywordflow">for</span> (i=0; i&lt;nInputChannels; i++)
02732     {
02733         pLineStart = pBuffer;
02734         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, Slash);
02735         <span class="keywordflow">if</span> (pHostClut)
02736             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, PreViewInArray);
02737         <span class="keywordflow">else</span>
02738             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, InputArray);
02739 
02740         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, pIntent);
02741         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, i);
02742 
02743         <span class="keywordflow">if</span> (pHostClut)
02744         {
02745             pTable = ((<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)pHostClut)-&gt;inputArray[i];
02746         }
02747         <span class="keywordflow">else</span>
02748         {
02749             <span class="keywordflow">if</span> (dwTag == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>)
02750             {
02751                 pTable = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)(((<a class="code" href="../../d4/d0/structtagLUT8TYPE.html">PLUT8TYPE</a>)pLut)-&gt;data) + nInputTable * i;
02752             }
02753             <span class="keywordflow">else</span>
02754             {
02755                 pTable = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)(((<a class="code" href="../../d3/d0/structtagLUT16TYPE.html">PLUT16TYPE</a>)pLut)-&gt;data) + 2 * nInputTable * i;
02756             }
02757         }
02758 
02759         <span class="keywordflow">if</span> (! bBinary)
02760         {
02761             <span class="keywordflow">if</span> (dwTag == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>)
02762             {
02763                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginString);
02764                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a227">WriteHexBuffer</a>(pBuffer, pTable, pLineStart, nInputTable);
02765                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndString);
02766             }
02767             <span class="keywordflow">else</span>
02768             {
02769                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
02770                 <span class="keywordflow">for</span> (j=0; j&lt;nInputTable; j++)
02771                 {
02772                     <span class="keywordflow">if</span> (pHostClut)
02773                         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, *((PWORD)pTable));
02774                     <span class="keywordflow">else</span>
02775                         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, FIX_ENDIAN16(*((PWORD)pTable)));
02776                     pTable += <span class="keyword">sizeof</span>(WORD);
02777                     <span class="keywordflow">if</span> (((<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) (pBuffer - pLineStart)) &gt; <a class="code" href="../../d2/d9/ps2_8c.html#a0">MAX_LINELEN</a>)
02778                     {
02779                         pLineStart = pBuffer;
02780                         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
02781                     }
02782                 }
02783                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
02784             }
02785         }
02786         <span class="keywordflow">else</span>
02787         {
02788             <span class="keywordflow">if</span> (dwTag == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>)
02789             {
02790                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a228">WriteStringToken</a>(pBuffer, 143, nInputTable);
02791                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a229">WriteByteString</a>(pBuffer, pTable, nInputTable);
02792             }
02793             <span class="keywordflow">else</span>
02794             {
02795                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a224">WriteHNAToken</a>(pBuffer, 149, nInputTable);
02796                 <span class="keywordflow">if</span> (pHostClut)
02797                     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a226">WriteIntStringU2S_L</a>(pBuffer, pTable, nInputTable);
02798                 <span class="keywordflow">else</span>
02799                     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a225">WriteIntStringU2S</a>(pBuffer, pTable, nInputTable);
02800             }
02801         }
02802         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, DefOp);
02803     }
02804 
02805     <span class="keywordflow">return</span> (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) (pBuffer - pStart);
02806 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a188" doxytag="ps2.c::CreateLutCRD" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL CreateLutCRD           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOL&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l03215">3215</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00007">BeginArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00011">BeginDict</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05001">BeginGlobalDict()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00005">BeginString</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00066">CRDBegin</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00067">CRDEnd</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02709">CreateInputArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02834">CreateOutputArray()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00014">DictType</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00135">tagLUT16TYPE::dwSignature</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04987">EnableGlobalDict()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00008">EndArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00128">EndClip</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00012">EndDict</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05014">EndGlobalDict()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00006">EndString</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00100">FIX_16_16</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04951">GetCLUTInfo()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00069">GetCPConnSpace</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04087">GetCPMediaWhitePoint()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04074">GetCPWhitePoint()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02953">GetPublicArrayName()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00115">IndexArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00018">IntentACol</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00016">IntentPer</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00019">IntentRCol</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00017">IntentSat</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00015">IntentType</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00065">LUT16_TYPE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00064">LUT8_TYPE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00021">MAX_LINELEN</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00063">NewLine</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a64">PLUT16TYPE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a62">PLUT8TYPE</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00034">RenderTableTag</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04762">SendCRDABC()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04587">SendCRDBWPoint()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04689">SendCRDLMN()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04893">SendCRDOutputTable()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04621">SendCRDPQR()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00127">StartClip</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00082">STRLEN</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00142">WARNING</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04401">WriteByteString()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00081">WriteHex</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04351">WriteHexBuffer()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00080">WriteInt</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04422">WriteInt2ByteString()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04573">WriteNewLineObject()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l04381">WriteStringToken()</a>.
<p>
Referenced by <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l01044">GetPS2ColorRenderingDictionary()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00713">InternalGetPS2ColorRenderingDictionary()</a>.
<p>
<pre class="fragment"><div>03223 {
03224     PTAGDATA   pTagData;
03225     <a class="code" href="../../d3/d0/structtagLUT16TYPE.html">PLUT16TYPE</a> pLut;
03226     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>      pTable;
03227     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>      pLineStart, pStart = pBuffer;
03228     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      dwPCS, dwSize, dwLutSig, dwTag, i, j;
03229     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      nInputCh, nOutputCh, nGrids, nInputTable, nOutputTable, nNumbers;
03230     <a class="code" href="../../d2/d9/ps2_8c.html#a55">FIX_16_16</a>  afxIlluminantWP[3];
03231     <a class="code" href="../../d2/d9/ps2_8c.html#a55">FIX_16_16</a>  afxMediaWP[3];
03232     <span class="keywordtype">char</span>       pPublicArrayName[5];
03233 
03234     <span class="comment">//</span>
03235     <span class="comment">// Check if we can generate the CSA</span>
03236     <span class="comment">// Required  tags is AToBi, where i is the rendering intent</span>
03237     <span class="comment">//</span>
03238 
03239     dwPCS = <a class="code" href="../../d2/d9/ps2_8c.html#a40">GetCPConnSpace</a>(pProfile);
03240 
03241     pTagData = (PTAGDATA)(pProfile + <span class="keyword">sizeof</span>(PROFILEHEADER) + <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) +
03242                dwIndex * <span class="keyword">sizeof</span>(TAGDATA));
03243 
03244     dwTag = FIX_ENDIAN(pTagData-&gt;tagType);
03245 
03246     pLut = (<a class="code" href="../../d3/d0/structtagLUT16TYPE.html">PLUT16TYPE</a>)(pProfile + FIX_ENDIAN(pTagData-&gt;dwOffset));
03247 
03248     dwLutSig = FIX_ENDIAN(pLut-&gt;<a class="code" href="../../d3/d0/structtagLUT16TYPE.html#o0">dwSignature</a>);
03249 
03250     <span class="keywordflow">if</span> ((dwLutSig != <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>) &amp;&amp; (dwLutSig != <a class="code" href="../../d2/d9/ps2_8c.html#a38">LUT16_TYPE</a>))
03251     {
03252         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Invalid profile - unable to create Lut CRD\n"</span>)));
03253         SetLastError(ERROR_INVALID_PROFILE);
03254         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
03255     }
03256 
03257     <span class="comment">//</span>
03258     <span class="comment">// Estimate size required to hold the CSA</span>
03259     <span class="comment">//</span>
03260 
03261     (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a219">GetCLUTInfo</a>(dwLutSig, (PBYTE)pLut, &amp;nInputCh, &amp;nOutputCh, &amp;nGrids,
03262                 &amp;nInputTable, &amp;nOutputTable, NULL);
03263 
03264     <span class="comment">//</span>
03265     <span class="comment">// Calculate size of buffer needed</span>
03266     <span class="comment">//</span>
03267 
03268     dwSize = nInputCh * nInputTable * 6 +
03269         nOutputCh * nOutputTable * 6 +               <span class="comment">// Number of INT bytes</span>
03270         nOutputCh * nGrids * nGrids * nGrids * 2 +   <span class="comment">// LUT HEX bytes</span>
03271         nInputCh * (<a class="code" href="../../d2/d9/ps2_8c.html#a46">STRLEN</a>(IndexArray) +
03272                     <a class="code" href="../../d2/d9/ps2_8c.html#a46">STRLEN</a>(StartClip) +
03273                     <a class="code" href="../../d2/d9/ps2_8c.html#a46">STRLEN</a>(EndClip)) +
03274         nOutputCh * (<a class="code" href="../../d2/d9/ps2_8c.html#a46">STRLEN</a>(IndexArray) +
03275                      <a class="code" href="../../d2/d9/ps2_8c.html#a46">STRLEN</a>(StartClip) +
03276                      <a class="code" href="../../d2/d9/ps2_8c.html#a46">STRLEN</a>(EndClip)) +
03277         2048;                                        <span class="comment">// + other PS stuff</span>
03278 
03279     <span class="comment">//</span>
03280     <span class="comment">// Add space for new line.</span>
03281     <span class="comment">//</span>
03282 
03283     dwSize += (((dwSize) / <a class="code" href="../../d2/d9/ps2_8c.html#a0">MAX_LINELEN</a>) + 1) * <a class="code" href="../../d2/d9/ps2_8c.html#a46">STRLEN</a>(NewLine);
03284 
03285     <span class="keywordflow">if</span> (! pBuffer)
03286     {
03287         *pcbSize = dwSize;
03288         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
03289     }
03290     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*pcbSize &lt; dwSize)
03291     {
03292         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Buffer too small to get DEFG CSA\n"</span>)));
03293         SetLastError(ERROR_INSUFFICIENT_BUFFER);
03294         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
03295     }
03296 
03297     <span class="comment">//</span>
03298     <span class="comment">// Get info about Illuminant White Point from the header</span>
03299     <span class="comment">//</span>
03300 
03301     (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a191">GetCPWhitePoint</a>(pProfile, afxIlluminantWP);
03302 
03303     <span class="comment">//</span>
03304     <span class="comment">// Support absolute whitePoint</span>
03305     <span class="comment">//</span>
03306 
03307     <span class="keywordflow">if</span> (dwIntent == INTENT_ABSOLUTE_COLORIMETRIC)
03308     {
03309         <span class="keywordflow">if</span> (! <a class="code" href="../../d2/d9/ps2_8c.html#a192">GetCPMediaWhitePoint</a>(pProfile, afxMediaWP))
03310         {
03311             afxMediaWP[0] = afxIlluminantWP[0];
03312             afxMediaWP[1] = afxIlluminantWP[1];
03313             afxMediaWP[2] = afxIlluminantWP[2];
03314         }
03315     }
03316 
03317     <span class="comment">//</span>
03318     <span class="comment">// Define global array used in EncodeABC and RenderTable</span>
03319     <span class="comment">//</span>
03320 
03321     <a class="code" href="../../d2/d9/ps2_8c.html#a217">GetPublicArrayName</a>(dwTag, pPublicArrayName);
03322     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, CRDBegin);
03323 
03324     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a220">EnableGlobalDict</a>(pBuffer);
03325     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a221">BeginGlobalDict</a>(pBuffer);
03326 
03327     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a215">CreateInputArray</a>(pBuffer, nInputCh, nInputTable,
03328                  pPublicArrayName, dwLutSig, (PBYTE)pLut, bBinary, NULL);
03329 
03330     i = nInputTable * nInputCh +
03331         nGrids * nGrids * nGrids * nOutputCh;
03332     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a216">CreateOutputArray</a>(pBuffer, nOutputCh, nOutputTable, i,
03333                  pPublicArrayName, dwLutSig, (PBYTE)pLut, bBinary, NULL);
03334 
03335     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a222">EndGlobalDict</a>(pBuffer);
03336 
03337     <span class="comment">//</span>
03338     <span class="comment">// Start writing the CRD</span>
03339     <span class="comment">//</span>
03340 
03341     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, BeginDict); <span class="comment">// Begin dictionary</span>
03342     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, DictType); <span class="comment">// Dictionary type</span>
03343 
03344     <span class="comment">//</span>
03345     <span class="comment">// Send /RenderingIntent</span>
03346     <span class="comment">//</span>
03347 
03348     <span class="keywordflow">switch</span> (dwIntent)
03349     {
03350         <span class="keywordflow">case</span> INTENT_PERCEPTUAL:
03351             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, IntentType);
03352             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IntentPer);
03353             <span class="keywordflow">break</span>;
03354 
03355         <span class="keywordflow">case</span> INTENT_SATURATION:
03356             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, IntentType);
03357             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IntentSat);
03358             <span class="keywordflow">break</span>;
03359 
03360         <span class="keywordflow">case</span> INTENT_RELATIVE_COLORIMETRIC:
03361             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, IntentType);
03362             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IntentRCol);
03363             <span class="keywordflow">break</span>;
03364 
03365         <span class="keywordflow">case</span> INTENT_ABSOLUTE_COLORIMETRIC:
03366             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, IntentType);
03367             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IntentACol);
03368             <span class="keywordflow">break</span>;
03369     }
03370 
03371     <span class="comment">//</span>
03372     <span class="comment">// Send /BlackPoint &amp; /WhitePoint</span>
03373     <span class="comment">//</span>
03374 
03375     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a203">SendCRDBWPoint</a>(pBuffer, afxIlluminantWP);
03376 
03377     <span class="comment">//</span>
03378     <span class="comment">// Send PQR</span>
03379     <span class="comment">//</span>
03380 
03381     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a204">SendCRDPQR</a>(pBuffer, dwIntent, afxIlluminantWP);
03382 
03383     <span class="comment">//</span>
03384     <span class="comment">// Send LMN</span>
03385     <span class="comment">//</span>
03386 
03387     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a205">SendCRDLMN</a>(pBuffer, dwIntent, afxIlluminantWP, afxMediaWP, dwPCS);
03388 
03389     <span class="comment">//</span>
03390     <span class="comment">// Send ABC</span>
03391     <span class="comment">//</span>
03392 
03393     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a206">SendCRDABC</a>(pBuffer, pPublicArrayName, dwPCS, nInputCh,
03394                     (PBYTE)pLut, NULL, dwLutSig, bBinary);
03395 
03396     <span class="comment">//</span>
03397     <span class="comment">// /RenderTable</span>
03398     <span class="comment">//</span>
03399 
03400     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, RenderTableTag);
03401     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
03402 
03403     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, nGrids);  <span class="comment">// Send down Na</span>
03404     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, nGrids);  <span class="comment">// Send down Nb</span>
03405     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, nGrids);  <span class="comment">// Send down Nc</span>
03406 
03407     pLineStart = pBuffer;
03408     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, BeginArray);
03409     nNumbers = nGrids * nGrids * nOutputCh;
03410 
03411     <span class="keywordflow">for</span> (i=0; i&lt;nGrids; i++)        <span class="comment">// Na strings should be sent</span>
03412     {
03413         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
03414         pLineStart = pBuffer;
03415         <span class="keywordflow">if</span> (dwLutSig == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>)
03416         {
03417             pTable = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)(((<a class="code" href="../../d4/d0/structtagLUT8TYPE.html">PLUT8TYPE</a>)pLut)-&gt;data) + nInputTable * nInputCh + nNumbers * i;
03418         }
03419         <span class="keywordflow">else</span>
03420         {
03421             pTable = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)(((<a class="code" href="../../d3/d0/structtagLUT16TYPE.html">PLUT16TYPE</a>)pLut)-&gt;data) + 2 * nInputTable * nInputCh + 2 * nNumbers * i;
03422         }
03423 
03424         <span class="keywordflow">if</span> (! bBinary)
03425         {
03426             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginString);
03427             <span class="keywordflow">if</span> (dwLutSig == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>)
03428             {
03429                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a227">WriteHexBuffer</a>(pBuffer, pTable, pLineStart, nNumbers);
03430             }
03431             <span class="keywordflow">else</span>
03432             {
03433                 <span class="keywordflow">for</span> (j=0; j&lt;nNumbers; j++)
03434                 {
03435                     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a45">WriteHex</a>(pBuffer, FIX_ENDIAN16(*((PWORD)pTable)) / 256);
03436                     pTable += <span class="keyword">sizeof</span>(WORD);
03437                     <span class="keywordflow">if</span> (((<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) (pBuffer - pLineStart)) &gt; <a class="code" href="../../d2/d9/ps2_8c.html#a0">MAX_LINELEN</a>)
03438                     {
03439                         pLineStart = pBuffer;
03440                         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
03441                     }
03442                 }
03443             }
03444             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndString);
03445         }
03446         <span class="keywordflow">else</span>
03447         {
03448             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a228">WriteStringToken</a>(pBuffer, 143, nNumbers);
03449             <span class="keywordflow">if</span> (dwLutSig == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>)
03450             {
03451                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a229">WriteByteString</a>(pBuffer, pTable, nNumbers);
03452             }
03453             <span class="keywordflow">else</span>
03454             {
03455                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a230">WriteInt2ByteString</a>(pBuffer, pTable, nNumbers);
03456             }
03457         }
03458     }
03459 
03460     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray); <span class="comment">// End array</span>
03461     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, nOutputCh);   <span class="comment">// Send down m</span>
03462 
03463     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a207">SendCRDOutputTable</a>(pBuffer, pPublicArrayName,
03464                     nOutputCh, dwLutSig, FALSE, bBinary);
03465 
03466     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray); <span class="comment">// End array</span>
03467     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndDict);  <span class="comment">// End dictionary definition</span>
03468 
03469     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, CRDEnd);
03470 
03471     *pcbSize = (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) (pBuffer - pStart);
03472 
03473     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
03474 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a234" doxytag="ps2.c::CreateMatrixCRD" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL CreateMatrixCRD           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOL&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l03495">3495</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00007">BeginArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00011">BeginDict</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05001">BeginGlobalDict()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00066">CRDBegin</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00067">CRDEnd</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03893">CreateColorantArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03788">CreateCRDRevArray()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00014">DictType</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04007">DoesCPTagExist()</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04987">EnableGlobalDict()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00030">EncodeABCTag</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00008">EndArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00012">EndDict</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05014">EndGlobalDict()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00100">FIX_16_16</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04074">GetCPWhitePoint()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00018">IntentACol</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00016">IntentPer</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00019">IntentRCol</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00017">IntentSat</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00015">IntentType</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l06676">InvertColorantArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l06873">IsSRGBColorProfile()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00032">MatrixLMNTag</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00021">MAX_LINELEN</a>, <a class="el" href="../../d3/d0/object_8c-source.html#l00205">MemAlloc()</a>, <a class="el" href="../../d3/d0/object_8c-source.html#l00260">MemFree()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00105">tagCURVETYPE::nCount</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00063">NewLine</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a58">PCURVETYPE</a>, <a class="el" href="../../d2/d5/aug98_2dll32_2icm_8h-source.html#l00060">REVCURVE_RATIO</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04587">SendCRDBWPoint()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04621">SendCRDPQR()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03843">SendCRDRevArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00428">sRGBColorRenderingDictionary</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00082">STRLEN</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00042">TAG_BLUECOLORANT</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00045">TAG_BLUETRC</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00041">TAG_GREENCOLORANT</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00044">TAG_GREENTRC</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00040">TAG_REDCOLORANT</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00043">TAG_REDTRC</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00142">WARNING</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04554">WriteDouble()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04573">WriteNewLineObject()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>.
<p>
Referenced by <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l01044">GetPS2ColorRenderingDictionary()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00713">InternalGetPS2ColorRenderingDictionary()</a>.
<p>
<pre class="fragment"><div>03502 {
03503     PTAGDATA   pTagData;
03504     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      dwRedTRCIndex, dwGreenTRCIndex, dwBlueTRCIndex;
03505     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      dwRedCount, dwGreenCount, dwBlueCount;
03506     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>      pMem = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
03507     <a class="code" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a> pRed, pGreen, pBlue;
03508     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      i, dwSize;
03509     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>      pStart = pBuffer;
03510     PWORD      pRevCurve;
03511     <a class="code" href="../../d2/d9/ps2_8c.html#a55">FIX_16_16</a>  afxIlluminantWP[3];
03512     <span class="keywordtype">double</span>     adColorant[9];
03513     <span class="keywordtype">double</span>     adRevColorant[9];
03514 
03515     <span class="comment">//</span>
03516     <span class="comment">// Check this is sRGB color profile or not.</span>
03517     <span class="comment">//</span>
03518 
03519     <span class="keywordflow">if</span> (<a class="code" href="../../d2/d9/ps2_8c.html#a181">IsSRGBColorProfile</a>(pProfile))
03520     {
03521         dwSize = 4096; <span class="comment">// hack - approx.</span>
03522 
03523         <span class="comment">//</span>
03524         <span class="comment">// Return buffer size, if this is a size request</span>
03525         <span class="comment">//</span>
03526 
03527         <span class="keywordflow">if</span> (! pBuffer)
03528         {
03529             *pcbSize = dwSize;
03530             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
03531         }
03532 
03533         <span class="comment">//</span>
03534         <span class="comment">// Check buffer size.</span>
03535         <span class="comment">//</span>
03536 
03537         <span class="keywordflow">if</span> (*pcbSize &lt; dwSize)
03538         {
03539             <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Buffer too small to get sRGB CRD\n"</span>)));
03540             SetLastError(ERROR_INSUFFICIENT_BUFFER);
03541             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
03542         }
03543 
03544         <span class="comment">//</span>
03545         <span class="comment">// Start writing the CRD</span>
03546         <span class="comment">//</span>
03547 
03548         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, CRDBegin);
03549         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, BeginDict);  <span class="comment">// Begin dictionary</span>
03550         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, DictType);          <span class="comment">// Dictionary type</span>
03551 
03552         <span class="comment">//</span>
03553         <span class="comment">// Send /RenderingIntent</span>
03554         <span class="comment">//</span>
03555 
03556         <span class="keywordflow">switch</span> (dwIntent)
03557         {
03558             <span class="keywordflow">case</span> INTENT_PERCEPTUAL:
03559                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, IntentType);
03560                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IntentPer);
03561                 <span class="keywordflow">break</span>;
03562 
03563             <span class="keywordflow">case</span> INTENT_SATURATION:
03564                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, IntentType);
03565                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IntentSat);
03566                 <span class="keywordflow">break</span>;
03567 
03568             <span class="keywordflow">case</span> INTENT_RELATIVE_COLORIMETRIC:
03569                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, IntentType);
03570                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IntentRCol);
03571                 <span class="keywordflow">break</span>;
03572 
03573             <span class="keywordflow">case</span> INTENT_ABSOLUTE_COLORIMETRIC:
03574                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, IntentType);
03575                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IntentACol);
03576                 <span class="keywordflow">break</span>;
03577         }
03578 
03579         <span class="comment">//</span>
03580         <span class="comment">// Write prepaired sRGB CRD.</span>
03581         <span class="comment">//</span>
03582 
03583         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, sRGBColorRenderingDictionary);
03584 
03585         <span class="comment">//</span>
03586         <span class="comment">// End CRD.</span>
03587         <span class="comment">//</span>
03588 
03589         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, CRDEnd);
03590     }
03591     <span class="keywordflow">else</span>
03592     {
03593         <span class="comment">//</span>
03594         <span class="comment">// Get each TRC index for Red, Green and Blue.</span>
03595         <span class="comment">//</span>
03596 
03597         <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, TAG_REDTRC, &amp;dwRedTRCIndex) ||
03598             !<a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, TAG_GREENTRC, &amp;dwGreenTRCIndex) ||
03599             !<a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, TAG_BLUETRC, &amp;dwBlueTRCIndex))
03600         {
03601             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
03602         }
03603 
03604         <span class="comment">//</span>
03605         <span class="comment">// Get CURVETYPE data for each Red, Green and Blue</span>
03606         <span class="comment">//</span>
03607 
03608         pTagData = (PTAGDATA)(pProfile + <span class="keyword">sizeof</span>(PROFILEHEADER) + <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) +
03609                    dwRedTRCIndex * <span class="keyword">sizeof</span>(TAGDATA));
03610 
03611         pRed = (<a class="code" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>)(pProfile + FIX_ENDIAN(pTagData-&gt;dwOffset));
03612 
03613         pTagData = (PTAGDATA)(pProfile + <span class="keyword">sizeof</span>(PROFILEHEADER) + <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) +
03614                    dwGreenTRCIndex * <span class="keyword">sizeof</span>(TAGDATA));
03615 
03616         pGreen = (<a class="code" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>)(pProfile + FIX_ENDIAN(pTagData-&gt;dwOffset));
03617 
03618         pTagData = (PTAGDATA)(pProfile + <span class="keyword">sizeof</span>(PROFILEHEADER) + <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) +
03619                    dwBlueTRCIndex * <span class="keyword">sizeof</span>(TAGDATA));
03620 
03621         pBlue = (<a class="code" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>)(pProfile + FIX_ENDIAN(pTagData-&gt;dwOffset));
03622 
03623         <span class="comment">//</span>
03624         <span class="comment">// Get curve count for each Red, Green and Blue.</span>
03625         <span class="comment">//</span>
03626 
03627         dwRedCount   = FIX_ENDIAN(pRed-&gt;<a class="code" href="../../d1/d2/structtagCURVETYPE.html#o2">nCount</a>);
03628         dwGreenCount = FIX_ENDIAN(pGreen-&gt;<a class="code" href="../../d1/d2/structtagCURVETYPE.html#o2">nCount</a>);
03629         dwBlueCount  = FIX_ENDIAN(pBlue-&gt;<a class="code" href="../../d1/d2/structtagCURVETYPE.html#o2">nCount</a>);
03630 
03631         <span class="comment">//</span>
03632         <span class="comment">// Estimate the memory size required to hold CRD</span>
03633         <span class="comment">//</span>
03634 
03635         dwSize = (dwRedCount + dwGreenCount + dwBlueCount) * 6 * <a class="code" href="../../d1/d6/aug98_2dll32_2icm_8h.html#a32">REVCURVE_RATIO</a> +
03636                  4096;  <span class="comment">// Number of INT elements + other PS stuff</span>
03637 
03638         <span class="comment">//</span>
03639         <span class="comment">// Add space for new line.</span>
03640         <span class="comment">//</span>
03641 
03642         dwSize += (((dwSize) / <a class="code" href="../../d2/d9/ps2_8c.html#a0">MAX_LINELEN</a>) + 1) * <a class="code" href="../../d2/d9/ps2_8c.html#a46">STRLEN</a>(NewLine);
03643 
03644         <span class="keywordflow">if</span> (pBuffer == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)     <span class="comment">// This is a size request</span>
03645         {
03646             *pcbSize = dwSize;
03647             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
03648         }
03649 
03650         <span class="comment">//</span>
03651         <span class="comment">// Check buffer size.</span>
03652         <span class="comment">//</span>
03653 
03654         <span class="keywordflow">if</span> (*pcbSize &lt; dwSize)
03655         {
03656             <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Buffer too small to get sRGB CRD\n"</span>)));
03657             SetLastError(ERROR_INSUFFICIENT_BUFFER);
03658             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
03659         }
03660 
03661         <span class="comment">//</span>
03662         <span class="comment">// Allocate buffer for curves</span>
03663         <span class="comment">//</span>
03664 
03665         <span class="keywordflow">if</span> ((pRevCurve = <a class="code" href="../../d2/d1/object_8c.html#a7">MemAlloc</a>(dwRedCount * <span class="keyword">sizeof</span>(WORD) * (REVCURVE_RATIO + 1))) == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
03666         {
03667             <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Unable to allocate memory for reserved curve\n"</span>)));
03668             SetLastError(ERROR_NOT_ENOUGH_MEMORY);
03669             <a class="code" href="../../d2/d1/object_8c.html#a9">MemFree</a>(pMem);
03670             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
03671         }
03672 
03673         <span class="comment">//</span>
03674         <span class="comment">// Get info about Illuminant White Point from the header</span>
03675         <span class="comment">//</span>
03676 
03677         (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a191">GetCPWhitePoint</a>(pProfile, afxIlluminantWP);
03678 
03679         <span class="comment">//</span>
03680         <span class="comment">// Start writing the CRD</span>
03681         <span class="comment">//</span>
03682 
03683         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a220">EnableGlobalDict</a>(pBuffer);
03684         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a221">BeginGlobalDict</a>(pBuffer);
03685 
03686         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a210">CreateCRDRevArray</a>(pProfile, pBuffer, pRed, pRevCurve, TAG_REDTRC, bBinary);
03687         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a210">CreateCRDRevArray</a>(pProfile, pBuffer, pGreen, pRevCurve, TAG_GREENTRC, bBinary);
03688         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a210">CreateCRDRevArray</a>(pProfile, pBuffer, pBlue, pRevCurve, TAG_BLUETRC, bBinary);
03689 
03690         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a222">EndGlobalDict</a>(pBuffer);
03691 
03692         <span class="comment">//</span>
03693         <span class="comment">// Start writing the CRD</span>
03694         <span class="comment">//</span>
03695 
03696         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, CRDBegin);
03697         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, BeginDict);  <span class="comment">// Begin dictionary</span>
03698         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, DictType);          <span class="comment">// Dictionary type</span>
03699 
03700         <span class="comment">//</span>
03701         <span class="comment">// Send /RenderingIntent</span>
03702         <span class="comment">//</span>
03703 
03704         <span class="keywordflow">switch</span> (dwIntent)
03705         {
03706             <span class="keywordflow">case</span> INTENT_PERCEPTUAL:
03707                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, IntentType);
03708                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IntentPer);
03709                 <span class="keywordflow">break</span>;
03710 
03711             <span class="keywordflow">case</span> INTENT_SATURATION:
03712                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, IntentType);
03713                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IntentSat);
03714                 <span class="keywordflow">break</span>;
03715 
03716             <span class="keywordflow">case</span> INTENT_RELATIVE_COLORIMETRIC:
03717                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, IntentType);
03718                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IntentRCol);
03719                 <span class="keywordflow">break</span>;
03720 
03721             <span class="keywordflow">case</span> INTENT_ABSOLUTE_COLORIMETRIC:
03722                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, IntentType);
03723                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IntentACol);
03724                 <span class="keywordflow">break</span>;
03725         }
03726 
03727         <span class="comment">//</span>
03728         <span class="comment">// Send /BlackPoint &amp; /WhitePoint</span>
03729         <span class="comment">//</span>
03730 
03731         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a203">SendCRDBWPoint</a>(pBuffer, afxIlluminantWP);
03732 
03733         <span class="comment">//</span>
03734         <span class="comment">// Send PQR</span>
03735         <span class="comment">//</span>
03736 
03737         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a204">SendCRDPQR</a>(pBuffer, dwIntent, afxIlluminantWP);
03738 
03739         <span class="comment">//</span>
03740         <span class="comment">// Send LMN</span>
03741         <span class="comment">//</span>
03742 
03743         <a class="code" href="../../d2/d9/ps2_8c.html#a251">CreateColorantArray</a>(pProfile, &amp;adColorant[0], TAG_REDCOLORANT);
03744         <a class="code" href="../../d2/d9/ps2_8c.html#a251">CreateColorantArray</a>(pProfile, &amp;adColorant[3], TAG_GREENCOLORANT);
03745         <a class="code" href="../../d2/d9/ps2_8c.html#a251">CreateColorantArray</a>(pProfile, &amp;adColorant[6], TAG_BLUECOLORANT);
03746         <a class="code" href="../../d2/d9/ps2_8c.html#a252">InvertColorantArray</a>(adColorant, adRevColorant);
03747 
03748         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, MatrixLMNTag);
03749 
03750         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
03751         <span class="keywordflow">for</span> (i = 0; i &lt; 9; i++)
03752         {
03753             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a233">WriteDouble</a>(pBuffer, adRevColorant[i]);
03754         }
03755         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
03756 
03757         <span class="comment">//</span>
03758         <span class="comment">// /EncodeABC</span>
03759         <span class="comment">//</span>
03760 
03761         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, EncodeABCTag);
03762         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
03763 
03764         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
03765         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a211">SendCRDRevArray</a>(pProfile, pBuffer, pRed, TAG_REDTRC, bBinary);
03766 
03767         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
03768         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a211">SendCRDRevArray</a>(pProfile, pBuffer, pGreen, TAG_GREENTRC, bBinary);
03769 
03770         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
03771         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a211">SendCRDRevArray</a>(pProfile, pBuffer, pBlue, TAG_BLUETRC, bBinary);
03772 
03773         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, EndArray);
03774         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndDict);  <span class="comment">// End dictionary definition</span>
03775 
03776         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, CRDEnd);
03777 
03778         <a class="code" href="../../d2/d1/object_8c.html#a9">MemFree</a> (pRevCurve);
03779     }
03780 
03781     *pcbSize = (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(pBuffer - pStart);
03782 
03783     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
03784 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a187" doxytag="ps2.c::CreateMonoCRD" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL CreateMonoCRD           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l02978">2978</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00007">BeginArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00011">BeginDict</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00009">BeginFunction</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00106">tagCURVETYPE::data</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00085">DecodeA3Rev</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00014">DictType</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00050">DupOp</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00147">EncodeABCLab1</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00030">EncodeABCTag</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00008">EndArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00128">EndClip</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00012">EndDict</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00010">EndFunction</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00100">FIX_16_16</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00069">GetCPConnSpace</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04087">GetCPMediaWhitePoint()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04074">GetCPWhitePoint()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03944">GetRevCurve()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00115">IndexArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00018">IntentACol</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00016">IntentPer</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00019">IntentRCol</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00017">IntentSat</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00015">IntentType</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00145">MatrixABCLabCRD</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00029">MatrixABCTag</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00146">MatrixABCXYZCRD</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00021">MAX_LINELEN</a>, <a class="el" href="../../d3/d0/object_8c-source.html#l00205">MemAlloc()</a>, <a class="el" href="../../d3/d0/object_8c-source.html#l00260">MemFree()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00105">tagCURVETYPE::nCount</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00063">NewLine</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a58">PCURVETYPE</a>, <a class="el" href="../../d2/d5/aug98_2dll32_2icm_8h-source.html#l00060">REVCURVE_RATIO</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00131">Scale16</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04587">SendCRDBWPoint()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04689">SendCRDLMN()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04621">SendCRDPQR()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00127">StartClip</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00082">STRLEN</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00142">WARNING</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00080">WriteInt</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04573">WriteNewLineObject()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>.
<p>
Referenced by <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l01044">GetPS2ColorRenderingDictionary()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00713">InternalGetPS2ColorRenderingDictionary()</a>.
<p>
<pre class="fragment"><div>02985 {
02986     PTAGDATA   pTagData;
02987     <a class="code" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a> pData;
02988     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>      pLineStart, pStart = pBuffer;
02989     PWORD      pCurve, pRevCurve, pRevCurveStart;
02990     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      dwPCS, dwSize, nCount, i;
02991     <a class="code" href="../../d2/d9/ps2_8c.html#a55">FIX_16_16</a>  afxIlluminantWP[3];
02992     <a class="code" href="../../d2/d9/ps2_8c.html#a55">FIX_16_16</a>  afxMediaWP[3];
02993 
02994     dwPCS = <a class="code" href="../../d2/d9/ps2_8c.html#a40">GetCPConnSpace</a>(pProfile);
02995 
02996     pTagData = (PTAGDATA)(pProfile + <span class="keyword">sizeof</span>(PROFILEHEADER) + <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) +
02997                dwIndex * <span class="keyword">sizeof</span>(TAGDATA));
02998 
02999     pData = (<a class="code" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>)(pProfile + FIX_ENDIAN(pTagData-&gt;dwOffset));
03000 
03001     nCount = FIX_ENDIAN(pData-&gt;<a class="code" href="../../d1/d2/structtagCURVETYPE.html#o2">nCount</a>);
03002 
03003     <span class="comment">//</span>
03004     <span class="comment">// Estimate size required to hold the CRD</span>
03005     <span class="comment">//</span>
03006 
03007     dwSize = nCount * 6 * <a class="code" href="../../d1/d6/aug98_2dll32_2icm_8h.html#a32">REVCURVE_RATIO</a> + <span class="comment">// Number of INT elements</span>
03008         2048;                              <span class="comment">// + other PS stuff</span>
03009 
03010     <span class="comment">//</span>
03011     <span class="comment">// Add space for new line.</span>
03012     <span class="comment">//</span>
03013 
03014     dwSize += (((dwSize) / <a class="code" href="../../d2/d9/ps2_8c.html#a0">MAX_LINELEN</a>) + 1) * <a class="code" href="../../d2/d9/ps2_8c.html#a46">STRLEN</a>(NewLine);
03015 
03016     <span class="keywordflow">if</span> (! pBuffer)
03017     {
03018         *pcbSize = dwSize;
03019         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
03020     }
03021     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*pcbSize &lt; dwSize)
03022     {
03023         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Buffer too small to get Mono CRD\n"</span>)));
03024         SetLastError(ERROR_INSUFFICIENT_BUFFER);
03025         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
03026     }
03027 
03028     <span class="comment">//</span>
03029     <span class="comment">// Allocate memory, each entry occupy 2 bytes (1 word),</span>
03030     <span class="comment">//</span>
03031     <span class="comment">// input buffer  = (nCount * sizeof(WORD)</span>
03032     <span class="comment">// output buffer = (nCount * sizeof(WORD) * REVCURVE_RATIO)</span>
03033     <span class="comment">//</span>
03034 
03035     <span class="keywordflow">if</span> ((pRevCurveStart = <a class="code" href="../../d2/d1/object_8c.html#a7">MemAlloc</a>(nCount * <span class="keyword">sizeof</span>(WORD) * (REVCURVE_RATIO + 1))) == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
03036     {
03037         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Unable to allocate memory for reverse curve\n"</span>)));
03038         SetLastError(ERROR_NOT_ENOUGH_MEMORY);
03039         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
03040     }
03041 
03042     <span class="comment">//</span>
03043     <span class="comment">// pCurve will points input buffer (which used in GetRevCurve)</span>
03044     <span class="comment">//</span>
03045 
03046     pCurve    = pRevCurveStart + nCount * <a class="code" href="../../d1/d6/aug98_2dll32_2icm_8h.html#a32">REVCURVE_RATIO</a>;
03047     pRevCurve = pRevCurveStart;
03048 
03049     (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a218">GetRevCurve</a>(pData, pCurve, pRevCurve);
03050 
03051     <span class="comment">//</span>
03052     <span class="comment">// Get info about Illuminant White Point from the header</span>
03053     <span class="comment">//</span>
03054 
03055     (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a191">GetCPWhitePoint</a>(pProfile, afxIlluminantWP);
03056 
03057     <span class="comment">//</span>
03058     <span class="comment">// Support absolute whitePoint</span>
03059     <span class="comment">//</span>
03060 
03061     <span class="keywordflow">if</span> (dwIntent == INTENT_ABSOLUTE_COLORIMETRIC)
03062     {
03063         <span class="keywordflow">if</span> (! <a class="code" href="../../d2/d9/ps2_8c.html#a192">GetCPMediaWhitePoint</a>(pProfile, afxMediaWP))
03064         {
03065             afxMediaWP[0] = afxIlluminantWP[0];
03066             afxMediaWP[1] = afxIlluminantWP[1];
03067             afxMediaWP[2] = afxIlluminantWP[2];
03068         }
03069     }
03070 
03071     <span class="comment">//</span>
03072     <span class="comment">// Start writing the CRD</span>
03073     <span class="comment">//</span>
03074 
03075     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, BeginDict); <span class="comment">// Begin dictionary</span>
03076     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, DictType); <span class="comment">// Dictionary type</span>
03077 
03078     <span class="comment">//</span>
03079     <span class="comment">// Send /RenderingIntent</span>
03080     <span class="comment">//</span>
03081 
03082     <span class="keywordflow">switch</span> (dwIntent)
03083     {
03084         <span class="keywordflow">case</span> INTENT_PERCEPTUAL:
03085             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, IntentType);
03086             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IntentPer);
03087             <span class="keywordflow">break</span>;
03088 
03089         <span class="keywordflow">case</span> INTENT_SATURATION:
03090             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, IntentType);
03091             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IntentSat);
03092             <span class="keywordflow">break</span>;
03093 
03094         <span class="keywordflow">case</span> INTENT_RELATIVE_COLORIMETRIC:
03095             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, IntentType);
03096             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IntentRCol);
03097             <span class="keywordflow">break</span>;
03098 
03099         <span class="keywordflow">case</span> INTENT_ABSOLUTE_COLORIMETRIC:
03100             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, IntentType);
03101             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IntentACol);
03102             <span class="keywordflow">break</span>;
03103     }
03104 
03105     <span class="comment">//</span>
03106     <span class="comment">// Send /BlackPoint &amp; /WhitePoint</span>
03107     <span class="comment">//</span>
03108 
03109     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a203">SendCRDBWPoint</a>(pBuffer, afxIlluminantWP);
03110 
03111     <span class="comment">//</span>
03112     <span class="comment">// Send PQR</span>
03113     <span class="comment">//</span>
03114 
03115     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a204">SendCRDPQR</a>(pBuffer, dwIntent, afxIlluminantWP);
03116 
03117     <span class="comment">//</span>
03118     <span class="comment">// Send LMN</span>
03119     <span class="comment">//</span>
03120 
03121     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a205">SendCRDLMN</a>(pBuffer, dwIntent, afxIlluminantWP, afxMediaWP, dwPCS);
03122 
03123     <span class="comment">//</span>
03124     <span class="comment">// /MatrixABC</span>
03125     <span class="comment">//</span>
03126 
03127     <span class="keywordflow">if</span> (dwPCS == SPACE_XYZ)
03128     {
03129         <span class="comment">//</span>
03130         <span class="comment">// Switch ABC to BAC, since we want to output B</span>
03131         <span class="comment">// which is converted from Y</span>
03132         <span class="comment">//</span>
03133 
03134         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, MatrixABCTag);
03135         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, MatrixABCXYZCRD);
03136     }
03137     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dwPCS == SPACE_Lab)
03138     {
03139         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, MatrixABCTag);
03140         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, MatrixABCLabCRD);
03141     }
03142 
03143     <span class="comment">//</span>
03144     <span class="comment">// /EncodeABC</span>
03145     <span class="comment">//</span>
03146 
03147     <span class="keywordflow">if</span> (nCount != 0)
03148     {
03149         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
03150         pLineStart = pBuffer;
03151         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EncodeABCTag);
03152         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
03153         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginFunction);
03154         <span class="keywordflow">if</span> (nCount == 1)                <span class="comment">// Gamma supplied in ui16 format</span>
03155         {
03156             <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pTable;
03157 
03158             pTable = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>) (pData-&gt;<a class="code" href="../../d1/d2/structtagCURVETYPE.html#o3">data</a>);
03159             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, FIX_ENDIAN16(*((PWORD)pTable)));
03160             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, DecodeA3Rev);
03161         }
03162         <span class="keywordflow">else</span>
03163         {
03164             <span class="keywordflow">if</span> (dwPCS == SPACE_Lab)
03165             {
03166                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EncodeABCLab1);
03167             }
03168             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, StartClip);
03169             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
03170             <span class="keywordflow">for</span> (i=0; i&lt;nCount * <a class="code" href="../../d1/d6/aug98_2dll32_2icm_8h.html#a32">REVCURVE_RATIO</a>; i++)
03171             {
03172                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, *((WORD *)pRevCurve));
03173                 pRevCurve++;
03174                 <span class="keywordflow">if</span> (((<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) (pBuffer - pLineStart)) &gt; <a class="code" href="../../d2/d9/ps2_8c.html#a0">MAX_LINELEN</a>)
03175                 {
03176                     pLineStart = pBuffer;
03177                     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
03178                 }
03179             }
03180             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
03181             pLineStart = pBuffer;
03182 
03183             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, IndexArray);
03184             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, Scale16);
03185             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndClip);
03186         }
03187         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a> (pBuffer, EndFunction);
03188         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a> (pBuffer, DupOp);
03189         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a> (pBuffer, DupOp);
03190         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a> (pBuffer, EndArray);
03191     }
03192     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndDict);  <span class="comment">// End dictionary definition</span>
03193 
03194     <a class="code" href="../../d2/d1/object_8c.html#a9">MemFree</a>(pRevCurveStart);
03195 
03196     *pcbSize = (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) (pBuffer - pStart);
03197 
03198     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
03199 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a216" doxytag="ps2.c::CreateOutputArray" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> CreateOutputArray           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOL&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l02834">2834</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00007">BeginArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00005">BeginString</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00055">DefOp</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00008">EndArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00006">EndString</a>, <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00065">LUT16_TYPE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00064">LUT8_TYPE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00021">MAX_LINELEN</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00063">NewLine</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00088">OutputArray</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a66">PHOSTCLUT</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a64">PLUT16TYPE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a62">PLUT8TYPE</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00090">PreViewOutArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00064">Slash</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04401">WriteByteString()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04351">WriteHexBuffer()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04274">WriteHNAToken()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00080">WriteInt</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04296">WriteIntStringU2S()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04324">WriteIntStringU2S_L()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04573">WriteNewLineObject()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l04381">WriteStringToken()</a>.
<p>
Referenced by <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00186">CreateLutCRD()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00261">GetPS2CSA_DEFG()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01954">GetPS2PreviewColorRenderingDictionary()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>.
<p>
<pre class="fragment"><div>02845 {
02846     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> i, j;
02847     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pLineStart, pStart = pBuffer;
02848     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pTable;
02849 
02850     <span class="keywordflow">if</span> (pHostClut)
02851     {
02852         nOutputChannels = ((<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)pHostClut)-&gt;nOutputCh;
02853         nOutputTable = ((<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)pHostClut)-&gt;nOutputEntries;
02854         dwTag = ((<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)pHostClut)-&gt;nLutBits == 8 ? <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a> : <a class="code" href="../../d2/d9/ps2_8c.html#a38">LUT16_TYPE</a>;
02855     }
02856 
02857     <span class="keywordflow">for</span> (i=0; i&lt;nOutputChannels; i++)
02858     {
02859         pLineStart = pBuffer;
02860         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, Slash);
02861         <span class="keywordflow">if</span> (pHostClut)
02862             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, PreViewOutArray);
02863         <span class="keywordflow">else</span>
02864             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, OutputArray);
02865         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, pIntent);
02866         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, i);
02867 
02868         <span class="keywordflow">if</span> (pHostClut)
02869         {
02870             pTable = ((<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)pHostClut)-&gt;outputArray[i];
02871         }
02872         <span class="keywordflow">else</span>
02873         {
02874             <span class="keywordflow">if</span> (dwTag == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>)
02875             {
02876                 pTable = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)(((<a class="code" href="../../d4/d0/structtagLUT8TYPE.html">PLUT8TYPE</a>)pLut)-&gt;data) +
02877                     dwOffset + nOutputTable * i;
02878             }
02879             <span class="keywordflow">else</span>
02880             {
02881                 pTable = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)(((<a class="code" href="../../d3/d0/structtagLUT16TYPE.html">PLUT16TYPE</a>)pLut)-&gt;data) +
02882                     2 * dwOffset + 2 * nOutputTable * i;
02883             }
02884         }
02885 
02886         <span class="keywordflow">if</span> (! bBinary)
02887         {
02888             <span class="keywordflow">if</span> (dwTag == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>)
02889             {
02890                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginString);
02891                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a227">WriteHexBuffer</a>(pBuffer, pTable, pLineStart, nOutputTable);
02892                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndString);
02893             }
02894             <span class="keywordflow">else</span>
02895             {
02896                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
02897                 <span class="keywordflow">for</span> (j=0; j&lt;nOutputTable; j++)
02898                 {
02899                     <span class="keywordflow">if</span> (pHostClut)
02900                         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, *((PWORD)pTable));
02901                     <span class="keywordflow">else</span>
02902                         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, FIX_ENDIAN16(*((PWORD)pTable)));
02903                     pTable += <span class="keyword">sizeof</span>(WORD);
02904                     <span class="keywordflow">if</span> (((<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) (pBuffer - pLineStart)) &gt; <a class="code" href="../../d2/d9/ps2_8c.html#a0">MAX_LINELEN</a>)
02905                     {
02906                         pLineStart = pBuffer;
02907                         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
02908                     }
02909                 }
02910                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
02911             }
02912         }
02913         <span class="keywordflow">else</span>
02914         {
02915             <span class="keywordflow">if</span> (dwTag == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>)
02916             {
02917                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a228">WriteStringToken</a>(pBuffer, 143, 256);
02918                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a229">WriteByteString</a>(pBuffer, pTable, 256L);
02919             }
02920             <span class="keywordflow">else</span>
02921             {
02922                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a224">WriteHNAToken</a>(pBuffer, 149, nOutputTable);
02923                 <span class="keywordflow">if</span> (pHostClut)
02924                     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a226">WriteIntStringU2S_L</a>(pBuffer, pTable, nOutputTable);
02925                 <span class="keywordflow">else</span>
02926                     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a225">WriteIntStringU2S</a>(pBuffer, pTable, nOutputTable);
02927             }
02928         }
02929         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, DefOp);
02930     }
02931 
02932     <span class="keywordflow">return</span> (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(pBuffer - pStart);
02933 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a189" doxytag="ps2.c::DoesCPTagExist" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL DoesCPTagExist           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04007">4007</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l03893">CreateColorantArray()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01372">CreateColSpArray()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01287">CreateColSpProc()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02657">CreateFloatString()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05393">CreateHostMatrixCSAorCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03495">CreateMatrixCRD()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00662">DoesTRCAndColorantTagExist()</a>, <a class="el" href="../../d9/d7/aug98_2dll32_2csprof_8c-source.html#l00890">GetCPMediaWhitePoint()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01331">GetCRDInputOutputArraySize()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01450">GetCSAFromProfile()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l00745">GetHostColorRenderingDictionary()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05792">GetHostCSA()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l00479">GetHostCSA_Intent()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l01044">GetPS2ColorRenderingDictionary()</a>, <a class="el" href="../../d9/d7/aug98_2dll32_2csprof_8c-source.html#l00938">GetPS2ColorRenderingIntent()</a>, <a class="el" href="../../d9/d2/dec97_2dll32_2getcsa_8c-source.html#l00634">GetPS2CSA_ABC()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01895">GetPS2CSA_DEFG()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01502">GetPS2CSA_DEFG_Intent()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01087">GetPS2CSA_MONO_A()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00927">GetPS2CSA_MONO_ABC()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04212">GetTRCElementSize()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00713">InternalGetPS2ColorRenderingDictionary()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00612">InternalGetPS2ColorRenderingIntent()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l06873">IsSRGBColorProfile()</a>, and <a class="el" href="../../d9/d7/aug98_2dll32_2csprof_8c-source.html#l00260">ValidateCP()</a>.
<p>
<pre class="fragment"><div>04012 {
04013     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>    i, dwCount;
04014     PTAGDATA pTagData;
04015     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>     bRc;
04016 
04017     <span class="comment">//</span>
04018     <span class="comment">// Get count of tag items - it is right after the profile header</span>
04019     <span class="comment">//</span>
04020 
04021     dwCount = FIX_ENDIAN(*((DWORD *)(pProfile + <span class="keyword">sizeof</span>(PROFILEHEADER))));
04022 
04023     <span class="comment">//</span>
04024     <span class="comment">// Tag data records follow the count.</span>
04025     <span class="comment">//</span>
04026 
04027     pTagData = (PTAGDATA)(pProfile + <span class="keyword">sizeof</span>(PROFILEHEADER) + <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>));
04028 
04029     <span class="comment">//</span>
04030     <span class="comment">// Check if any of these records match the tag passed in.</span>
04031     <span class="comment">//</span>
04032 
04033     bRc = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
04034     dwTag = FIX_ENDIAN(dwTag);      <span class="comment">// to match tags in profile</span>
04035     <span class="keywordflow">for</span> (i=0; i&lt;dwCount; i++)
04036     {
04037         <span class="keywordflow">if</span> (pTagData-&gt;tagType == dwTag)
04038         {
04039             <span class="keywordflow">if</span> (pdwIndex)
04040             {
04041                 *pdwIndex = i;
04042             }
04043 
04044             bRc = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
04045             <span class="keywordflow">break</span>;
04046         }
04047         pTagData++;                     <span class="comment">// Next record</span>
04048     }
04049 
04050     <span class="keywordflow">return</span> bRc;
04051 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a190" doxytag="ps2.c::DoesTRCAndColorantTagExist" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL DoesTRCAndColorantTagExist           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04055">4055</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d3/d8/ps2_8c-source.html#l04007">DoesCPTagExist()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00042">TAG_BLUECOLORANT</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00045">TAG_BLUETRC</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00041">TAG_GREENCOLORANT</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00044">TAG_GREENTRC</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00040">TAG_REDCOLORANT</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00043">TAG_REDTRC</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l00745">GetHostColorRenderingDictionary()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05792">GetHostCSA()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l00479">GetHostCSA_Intent()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l01044">GetPS2ColorRenderingDictionary()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00642">GetPS2CSA_ABC()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00713">InternalGetPS2ColorRenderingDictionary()</a>.
<p>
<pre class="fragment"><div>04058 {
04059     <span class="keywordflow">if</span> (<a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile,TAG_REDCOLORANT,NULL) &amp;&amp;
04060         <a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile,TAG_REDTRC,NULL) &amp;&amp;
04061         <a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile,TAG_GREENCOLORANT,NULL) &amp;&amp;
04062         <a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile,TAG_GREENTRC,NULL) &amp;&amp;
04063         <a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile,TAG_BLUECOLORANT,NULL) &amp;&amp;
04064         <a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile,TAG_BLUETRC,NULL))
04065     {
04066         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
04067     }
04068 
04069     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
04070 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a243" doxytag="ps2.c::DoHostConversionCRD" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL DoHostConversionCRD           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>float *&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>float *&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOL&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l06068">6068</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d3/d8/ps2_8c-source.html#l00161">tagHOSTCLUT::afxIlluminantWP</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l06726">ApplyMatrix()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l06757">CheckColorLookupTable()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l06295">CheckInputOutputTable()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00091">DATATYPE_MATRIX</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00159">tagHOSTCLUT::dwPCS</a>, <a class="el" href="../../d9/d5/jul98_2test_2profcrd_8h-source.html#l00019">tagHOSTCLUT::e</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l06428">LabToXYZ()</a>, <a class="el" href="../../d3/d5/aug98_2dll32_2profcrd_8h-source.html#l00004">MAXCHANNELS</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00165">tagHOSTCLUT::nClutPoints</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00164">tagHOSTCLUT::nOutputCh</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00157">tagHOSTCLUT::wDataType</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l06449">XYZToLab()</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01954">GetPS2PreviewColorRenderingDictionary()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>.
<p>
<pre class="fragment"><div>06075 {
06076     <span class="keywordtype">float</span>      fTemp[<a class="code" href="../../d2/d6/aug98_2dll32_2profcrd_8h.html#a0">MAXCHANNELS</a>];
06077     <span class="keywordtype">float</span>      fTemp1[<a class="code" href="../../d2/d6/aug98_2dll32_2profcrd_8h.html#a0">MAXCHANNELS</a>];
06078     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      i, j;
06079 
06080     <span class="comment">//</span>
06081     <span class="comment">// Input XYZ or Lab in range [0 2]</span>
06082     <span class="comment">//</span>
06083     <span class="comment">// When sampling the deviceCRD, skip the input table.</span>
06084     <span class="comment">// If pHostCSA is not NULL, the current CRD is targetCRD, we</span>
06085     <span class="comment">// need to do input table conversion</span>
06086     <span class="comment">//</span>
06087 
06088     <span class="keywordflow">if</span> (pHostCSA)
06089     {
06090         <span class="comment">//</span>
06091         <span class="comment">// Convert Lab to XYZ  in range [ 0 whitePoint ]</span>
06092         <span class="comment">//</span>
06093 
06094         <span class="keywordflow">if</span> ((pHostCRD-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o21">dwPCS</a> == SPACE_XYZ) &amp;&amp;
06095             (pHostCSA-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o21">dwPCS</a> == SPACE_Lab))
06096         {
06097             <a class="code" href="../../d2/d9/ps2_8c.html#a248">LabToXYZ</a>(pfInput, fTemp1, pHostCRD-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o23">afxIlluminantWP</a>);
06098         }
06099         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((pHostCRD-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o21">dwPCS</a> == SPACE_Lab) &amp;&amp;
06100                  (pHostCSA-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o21">dwPCS</a> == SPACE_XYZ))
06101         {
06102             <span class="comment">//</span>
06103             <span class="comment">// Convert XYZ to Lab in range [ 0 1]</span>
06104             <span class="comment">//</span>
06105 
06106             <a class="code" href="../../d2/d9/ps2_8c.html#a249">XYZToLab</a>(pfInput, fTemp, pHostCSA-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o23">afxIlluminantWP</a>);
06107         }
06108         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((pHostCRD-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o21">dwPCS</a> == SPACE_Lab) &amp;&amp;
06109                  (pHostCSA-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o21">dwPCS</a> == SPACE_Lab))
06110         {
06111             <span class="comment">//</span>
06112             <span class="comment">// Convert Lab to range [ 0 1]</span>
06113             <span class="comment">//</span>
06114 
06115             <span class="keywordflow">for</span> (i=0; i&lt;3; i++)
06116                 fTemp[i] = pfInput[i] / 2;
06117         }
06118         <span class="keywordflow">else</span>
06119         {
06120             <span class="comment">//</span>
06121             <span class="comment">// Convert XYZ to XYZ (based on white point) to range [0 1]</span>
06122             <span class="comment">//</span>
06123             <span class="comment">// TODO:</span>
06124             <span class="comment">//   different intents using different conversion.</span>
06125             <span class="comment">//   icRelativeColorimetric: using Bradford transform.</span>
06126             <span class="comment">//   icAbsoluteColorimetric: using scaling.</span>
06127             <span class="comment">//</span>
06128 
06129             <span class="keywordflow">for</span> (i=0; i&lt;3; i++)
06130                 fTemp1[i] = (pfInput[i] * pHostCRD-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o23">afxIlluminantWP</a>[i]) / pHostCSA-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o23">afxIlluminantWP</a>[i];
06131         }
06132 
06133         <span class="comment">//</span>
06134         <span class="comment">// Matrix, used for XYZ data only.</span>
06135         <span class="comment">//</span>
06136 
06137         <span class="keywordflow">if</span> (pHostCRD-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o21">dwPCS</a> == SPACE_XYZ)
06138         {
06139             <a class="code" href="../../d2/d9/ps2_8c.html#a250">ApplyMatrix</a>(pHostCRD-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o11">e</a>, fTemp1, fTemp);
06140         }
06141 
06142         <span class="keywordflow">if</span> (pHostCRD-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o19">wDataType</a> != <a class="code" href="../../d2/d9/ps2_8c.html#a52">DATATYPE_MATRIX</a>)
06143         {
06144             <span class="comment">//</span>
06145             <span class="comment">// Search input Table</span>
06146             <span class="comment">//</span>
06147 
06148             (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a240">CheckInputOutputTable</a>(pHostCRD, fTemp, FALSE, TRUE);
06149         }
06150     }
06151 
06152     <span class="comment">//</span>
06153     <span class="comment">// If the current CRD is device CRD, we do not need to do input</span>
06154     <span class="comment">// table conversion</span>
06155     <span class="comment">//</span>
06156 
06157     <span class="keywordflow">else</span>
06158     {
06159         WORD nGrids;
06160 
06161         nGrids = pHostCRD-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o27">nClutPoints</a>;
06162 
06163         <span class="comment">//</span>
06164         <span class="comment">// Sample data may be XYZ or Lab. It depends on Target icc profile.</span>
06165         <span class="comment">// If the PCS of the target icc profile is XYZ, input data will be XYZ.</span>
06166         <span class="comment">// If the PCS of the target icc profile is Lab, input data will be Lab.</span>
06167         <span class="comment">//</span>
06168 
06169         <span class="keywordflow">if</span> (pHostCRD-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o19">wDataType</a> == <a class="code" href="../../d2/d9/ps2_8c.html#a52">DATATYPE_MATRIX</a>)
06170         {
06171             <span class="keywordflow">for</span> (i = 0; i &lt; 3; i++)
06172             {
06173                 fTemp[i] = pfInput[i];
06174             }
06175         }
06176         <span class="keywordflow">else</span>
06177         {
06178             <span class="keywordflow">for</span> (i=0; i&lt;3; i++)
06179             {
06180                 fTemp[i] = pfInput[i] * (nGrids - 1);
06181                 <span class="keywordflow">if</span> (fTemp[i] &gt; (nGrids - 1))
06182                     fTemp[i] = (<span class="keywordtype">float</span>)(nGrids - 1);
06183             }
06184         }
06185     }
06186 
06187     <span class="keywordflow">if</span> (pHostCRD-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o19">wDataType</a> != <a class="code" href="../../d2/d9/ps2_8c.html#a52">DATATYPE_MATRIX</a>)
06188     {
06189         <span class="comment">//</span>
06190         <span class="comment">// Rendering table</span>
06191         <span class="comment">//</span>
06192 
06193         (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a241">CheckColorLookupTable</a>(pHostCRD, fTemp);
06194     }
06195 
06196     <span class="comment">//</span>
06197     <span class="comment">// Output RGB or CMYK in range [0 1]</span>
06198     <span class="comment">//</span>
06199 
06200     <span class="keywordflow">if</span> (bCheckOutputTable)
06201     {
06202         (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a240">CheckInputOutputTable</a>(pHostCRD, fTemp, FALSE, FALSE);
06203     }
06204 
06205     <span class="keywordflow">for</span> (i=0; (i&lt;=<a class="code" href="../../d2/d6/aug98_2dll32_2profcrd_8h.html#a0">MAXCHANNELS</a>) &amp;&amp; (i&lt;pHostCRD-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o26">nOutputCh</a>); i++)
06206     {
06207         pfOutput[i] = fTemp[i];
06208     }
06209 
06210     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
06211 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a242" doxytag="ps2.c::DoHostConversionCSA" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL DoHostConversionCSA           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>float *&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>float *&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l06226">6226</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d3/d8/ps2_8c-source.html#l06726">ApplyMatrix()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l06757">CheckColorLookupTable()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l06295">CheckInputOutputTable()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00091">DATATYPE_MATRIX</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d9/d5/jul98_2test_2profcrd_8h-source.html#l00019">tagHOSTCLUT::e</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d5/aug98_2dll32_2profcrd_8h-source.html#l00004">MAXCHANNELS</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00163">tagHOSTCLUT::nInputCh</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00164">tagHOSTCLUT::nOutputCh</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00157">tagHOSTCLUT::wDataType</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01954">GetPS2PreviewColorRenderingDictionary()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>.
<p>
<pre class="fragment"><div>06231 {
06232     <span class="keywordtype">float</span>      fTemp[<a class="code" href="../../d2/d6/aug98_2dll32_2profcrd_8h.html#a0">MAXCHANNELS</a>];
06233     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      i;
06234 
06235     <span class="comment">//</span>
06236     <span class="comment">// Input RGB or CMYK in range [0 1]</span>
06237     <span class="comment">//</span>
06238 
06239     <span class="keywordflow">for</span> (i=0; (i&lt;=<a class="code" href="../../d2/d6/aug98_2dll32_2profcrd_8h.html#a0">MAXCHANNELS</a>) &amp;&amp; (i&lt;pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o25">nInputCh</a>); i++)
06240     {
06241         fTemp[i] = pfInput[i];
06242     }
06243 
06244     <span class="comment">//</span>
06245     <span class="comment">// Search input Table</span>
06246     <span class="comment">//</span>
06247 
06248     (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a240">CheckInputOutputTable</a>(pHostClut, fTemp, TRUE, TRUE);
06249 
06250     <span class="keywordflow">if</span> (pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o19">wDataType</a> == <a class="code" href="../../d2/d9/ps2_8c.html#a52">DATATYPE_MATRIX</a>)
06251     {
06252         <a class="code" href="../../d2/d9/ps2_8c.html#a250">ApplyMatrix</a>(pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o11">e</a>, fTemp, pfOutput);
06253     }
06254     <span class="keywordflow">else</span>
06255     {
06256         <span class="comment">//</span>
06257         <span class="comment">// Rendering table</span>
06258         <span class="comment">//</span>
06259 
06260         (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a241">CheckColorLookupTable</a>(pHostClut, fTemp);
06261 
06262         <span class="comment">//</span>
06263         <span class="comment">// Output Table</span>
06264         <span class="comment">//</span>
06265 
06266         (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a240">CheckInputOutputTable</a>(pHostClut, fTemp, TRUE, FALSE);
06267 
06268         <span class="comment">//</span>
06269         <span class="comment">// Output XYZ or Lab in range [0 2]</span>
06270         <span class="comment">//</span>
06271 
06272         <span class="keywordflow">for</span> (i=0; (i&lt;=<a class="code" href="../../d2/d6/aug98_2dll32_2profcrd_8h.html#a0">MAXCHANNELS</a>) &amp;&amp; (i&lt;pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o26">nOutputCh</a>); i++)
06273         {
06274             pfOutput[i] = fTemp[i];
06275         }
06276     }
06277 
06278     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
06279 }                               
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a220" doxytag="ps2.c::EnableGlobalDict" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> EnableGlobalDict           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04987">4987</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00053">CurrentGlobalOp</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00054">SetGlobalOp</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00058">TrueOp</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04573">WriteNewLineObject()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>.
<p>
Referenced by <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00186">CreateLutCRD()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00877">CreateMatrixCRD()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00642">GetPS2CSA_ABC()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00261">GetPS2CSA_DEFG()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01954">GetPS2PreviewColorRenderingDictionary()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>.
<p>
<pre class="fragment"><div>04990 {
04991     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pStart = pBuffer;
04992 
04993     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, CurrentGlobalOp);
04994     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, TrueOp);
04995     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, SetGlobalOp);
04996 
04997     <span class="keywordflow">return</span> (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(pBuffer - pStart);
04998 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a222" doxytag="ps2.c::EndGlobalDict" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> EndGlobalDict           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l05014">5014</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00057">EndOp</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00054">SetGlobalOp</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04573">WriteNewLineObject()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>.
<p>
Referenced by <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00186">CreateLutCRD()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00877">CreateMatrixCRD()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01954">GetPS2PreviewColorRenderingDictionary()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>.
<p>
<pre class="fragment"><div>05017 {
05018     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pStart = pBuffer;
05019 
05020     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, EndOp);
05021     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, SetGlobalOp);
05022 
05023     <span class="keywordflow">return</span> (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(pBuffer - pStart);
05024 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a244" doxytag="ps2.c::g" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> float g           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">float&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l06379">6379</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d8/d6/cldib_8c-source.html#l00616">InitDst8()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01117">LabToXYZ()</a>, <a class="el" href="../../d8/d6/cldib_8c-source.html#l00538">MixRGB()</a>, <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00876">NormalizeColor()</a>, and <a class="el" href="../../d1/d5/lh__core_2memlink_8c-source.html#l00905">NormalizeWithWhiteAdaption()</a>.
<p>
<pre class="fragment"><div>06382 {
06383     <span class="keywordtype">float</span> fRc;
06384 
06385     <span class="keywordflow">if</span> (f &gt;= (6.0f/29.0f))
06386     {
06387         fRc = f * f * f;
06388     }
06389     <span class="keywordflow">else</span>
06390     {
06391         fRc = f - (4.0f / 29.0f) * (108.0f / 841.0f);
06392     }
06393 
06394     <span class="keywordflow">return</span> fRc;
06395 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a219" doxytag="ps2.c::GetCLUTInfo" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID GetCLUTInfo           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04951">4951</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00064">LUT8_TYPE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a64">PLUT16TYPE</a>, and <a class="el" href="../../d2/d9/ps2_8c.html#a62">PLUT8TYPE</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05203">CreateHostLutCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03215">CreateLutCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05090">GetCRDInputOutputArraySize()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05792">GetHostCSA()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l01895">GetPS2CSA_DEFG()</a>.
<p>
<pre class="fragment"><div>04961 {
04962     <span class="keywordflow">if</span> (dwLutSig == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>)
04963     {
04964         *pnInputCh = ((<a class="code" href="../../d4/d0/structtagLUT8TYPE.html">PLUT8TYPE</a>)pLut)-&gt;nInputChannels;
04965         *pnOutputCh = ((<a class="code" href="../../d4/d0/structtagLUT8TYPE.html">PLUT8TYPE</a>)pLut)-&gt;nOutputChannels;
04966         *pnGrids = ((<a class="code" href="../../d4/d0/structtagLUT8TYPE.html">PLUT8TYPE</a>)pLut)-&gt;nClutPoints;
04967         *pnInputTable = 256<a class="code" href="../../d2/d0/aw_8h.html#a3">L</a>;
04968         *pnOutputTable = 256<a class="code" href="../../d2/d0/aw_8h.html#a3">L</a>;
04969         <span class="keywordflow">if</span> (pdwSize)
04970             *pdwSize = 1;
04971     }
04972     <span class="keywordflow">else</span>
04973     {
04974         *pnInputCh = ((<a class="code" href="../../d3/d0/structtagLUT16TYPE.html">PLUT16TYPE</a>)pLut)-&gt;nInputChannels;
04975         *pnOutputCh = ((<a class="code" href="../../d3/d0/structtagLUT16TYPE.html">PLUT16TYPE</a>)pLut)-&gt;nOutputChannels;
04976         *pnGrids =  ((<a class="code" href="../../d3/d0/structtagLUT16TYPE.html">PLUT16TYPE</a>)pLut)-&gt;nClutPoints;
04977         *pnInputTable = FIX_ENDIAN16(((<a class="code" href="../../d3/d0/structtagLUT16TYPE.html">PLUT16TYPE</a>)pLut)-&gt;wInputEntries);
04978         *pnOutputTable = FIX_ENDIAN16(((<a class="code" href="../../d3/d0/structtagLUT16TYPE.html">PLUT16TYPE</a>)pLut)-&gt;wOutputEntries);
04979         <span class="keywordflow">if</span> (pdwSize)
04980             *pdwSize = 2;
04981     }
04982 
04983     <span class="keywordflow">return</span>;
04984 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a196" doxytag="ps2.c::GetCPElementData" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL GetCPElementData           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04180">4180</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01450">GetCSAFromProfile()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l01044">GetPS2ColorRenderingDictionary()</a>, <a class="el" href="../../d9/d7/aug98_2dll32_2csprof_8c-source.html#l00938">GetPS2ColorRenderingIntent()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00713">InternalGetPS2ColorRenderingDictionary()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00612">InternalGetPS2ColorRenderingIntent()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l06873">IsSRGBColorProfile()</a>.
<p>
<pre class="fragment"><div>04186 {
04187     PTAGDATA pTagData;
04188     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>    pData;
04189 
04190     pTagData = (PTAGDATA)(pProfile + <span class="keyword">sizeof</span>(PROFILEHEADER) + <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) +
04191                dwIndex * <span class="keyword">sizeof</span>(TAGDATA));
04192 
04193     pData = pProfile + FIX_ENDIAN(pTagData-&gt;dwOffset);
04194 
04195     <span class="comment">//</span>
04196     <span class="comment">// Actual data Size of elements of type 'dataType' is 3 DWORDs less than the</span>
04197     <span class="comment">// total tag data size</span>
04198     <span class="comment">//</span>
04199 
04200     *pdwSize = FIX_ENDIAN(pTagData-&gt;cbSize) - 3 * <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>);
04201 
04202     <span class="keywordflow">if</span> (pBuffer)
04203     {
04204         CopyMemory(pBuffer, (pData + 3*<span class="keyword">sizeof</span>(DWORD)), *pdwSize);
04205     }
04206 
04207     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
04208 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a193" doxytag="ps2.c::GetCPElementDataSize" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL GetCPElementDataSize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04121">4121</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01450">GetCSAFromProfile()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l01044">GetPS2ColorRenderingDictionary()</a>, <a class="el" href="../../d9/d7/aug98_2dll32_2csprof_8c-source.html#l00938">GetPS2ColorRenderingIntent()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00713">InternalGetPS2ColorRenderingDictionary()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00612">InternalGetPS2ColorRenderingIntent()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l06873">IsSRGBColorProfile()</a>.
<p>
<pre class="fragment"><div>04125 {
04126     PTAGDATA pTagData;
04127 
04128     pTagData = (PTAGDATA)(pProfile + <span class="keyword">sizeof</span>(PROFILEHEADER) + <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) +
04129                dwIndex * <span class="keyword">sizeof</span>(TAGDATA));
04130 
04131     <span class="comment">//</span>
04132     <span class="comment">// Actual data Size of elements of type 'dataType' is 3 DWORDs less than the</span>
04133     <span class="comment">// total tag data size</span>
04134     <span class="comment">//</span>
04135 
04136     *pcbSize = FIX_ENDIAN(pTagData-&gt;cbSize) - 3 * <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>);
04137 
04138     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
04139 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a195" doxytag="ps2.c::GetCPElementDataType" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL GetCPElementDataType           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04160">4160</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d9/d7/aug98_2dll32_2csprof_8c-source.html#l01485">Convert2Ascii()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01172">GetCSAFromProfile()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04212">GetTRCElementSize()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00713">InternalGetPS2ColorRenderingDictionary()</a>.
<p>
<pre class="fragment"><div>04164 {
04165     PTAGDATA pTagData;
04166     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>    pData;
04167 
04168     pTagData = (PTAGDATA)(pProfile + <span class="keyword">sizeof</span>(PROFILEHEADER) + <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) +
04169                dwIndex * <span class="keyword">sizeof</span>(TAGDATA));
04170 
04171     pData = pProfile + FIX_ENDIAN(pTagData-&gt;dwOffset);
04172 
04173     *pdwDataType = FIX_ENDIAN(*((DWORD *)(pData + 2 * <span class="keyword">sizeof</span>(DWORD))));
04174 
04175     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
04176 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a194" doxytag="ps2.c::GetCPElementSize" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL GetCPElementSize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04143">4143</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00763">CreateColorantArray()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01372">CreateColSpArray()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01287">CreateColSpProc()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01341">CreateFloatString()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l00587">CreateHostLutCRD()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00186">CreateLutCRD()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00487">CreateMonoCRD()</a>, <a class="el" href="../../d9/d7/aug98_2dll32_2csprof_8c-source.html#l00890">GetCPMediaWhitePoint()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01331">GetCRDInputOutputArraySize()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l00138">GetHostCSA()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00261">GetPS2CSA_DEFG()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01087">GetPS2CSA_MONO_A()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00927">GetPS2CSA_MONO_ABC()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00647">GetTRCElementSize()</a>, and <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00799">IsSRGB()</a>.
<p>
<pre class="fragment"><div>04147 {
04148     PTAGDATA pTagData;
04149 
04150     pTagData = (PTAGDATA)(pProfile + <span class="keyword">sizeof</span>(PROFILEHEADER) + <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) +
04151                dwIndex * <span class="keyword">sizeof</span>(TAGDATA));
04152 
04153     *pcbSize = FIX_ENDIAN(pTagData-&gt;cbSize);
04154 
04155     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
04156 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a192" doxytag="ps2.c::GetCPMediaWhitePoint" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL GetCPMediaWhitePoint           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04087">4087</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d3/d8/ps2_8c-source.html#l04007">DoesCPTagExist()</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00047">TAG_MEDIAWHITEPOINT</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l00587">CreateHostLutCRD()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00186">CreateLutCRD()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00487">CreateMonoCRD()</a>, and <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00193">GetMediaWP()</a>.
<p>
<pre class="fragment"><div>04091 {
04092     PTAGDATA pTagData;
04093     PDWORD   pTable;
04094     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>    dwIndex, i;
04095 
04096     <span class="keywordflow">if</span> (<a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a> (pProfile, TAG_MEDIAWHITEPOINT, &amp;dwIndex))
04097     {
04098         pTagData = (PTAGDATA)(pProfile + <span class="keyword">sizeof</span>(PROFILEHEADER) + <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) +
04099                dwIndex * <span class="keyword">sizeof</span>(TAGDATA));
04100 
04101         <span class="comment">//</span>
04102         <span class="comment">// Skip the first 2 DWORDs to get to the real data</span>
04103         <span class="comment">//</span>
04104 
04105         pTable = (PDWORD)(pProfile + FIX_ENDIAN(pTagData-&gt;dwOffset)) + 2;
04106 
04107         <span class="keywordflow">for</span> (i=0; i&lt;3; i++)
04108         {
04109             pafxMediaWP[i] = FIX_ENDIAN(*pTable);
04110             pTable++;
04111         }
04112 
04113         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
04114     }
04115 
04116     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
04117 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a191" doxytag="ps2.c::GetCPWhitePoint" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL GetCPWhitePoint           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04074">4074</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l00587">CreateHostLutCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05393">CreateHostMatrixCSAorCRD()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00186">CreateLutCRD()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00877">CreateMatrixCRD()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00487">CreateMonoCRD()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l00138">GetHostCSA()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l00384">GetHostMatrixCSAorCRD()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00642">GetPS2CSA_ABC()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01747">GetPS2CSA_ABC_Lab()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00812">GetPS2CSA_ABC_LAB()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00261">GetPS2CSA_DEFG()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01087">GetPS2CSA_MONO_A()</a>, and <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00927">GetPS2CSA_MONO_ABC()</a>.
<p>
<pre class="fragment"><div>04078 {
04079     pafxWP[0]  = FIX_ENDIAN(((PPROFILEHEADER)pProfile)-&gt;phIlluminant.ciexyzX);
04080     pafxWP[1]  = FIX_ENDIAN(((PPROFILEHEADER)pProfile)-&gt;phIlluminant.ciexyzY);
04081     pafxWP[2]  = FIX_ENDIAN(((PPROFILEHEADER)pProfile)-&gt;phIlluminant.ciexyzZ);
04082 
04083     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
04084 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a199" doxytag="ps2.c::GetCRDInputOutputArraySize" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL GetCRDInputOutputArraySize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l05090">5090</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04007">DoesCPTagExist()</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00135">tagLUT16TYPE::dwSignature</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04951">GetCLUTInfo()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05792">GetHostCSA()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00065">LUT16_TYPE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00064">LUT8_TYPE</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a64">PLUT16TYPE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00059">TAG_BToA0</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00060">TAG_BToA1</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00061">TAG_BToA2</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d3/d8/aug98_2dll32_2csprof_8h-source.html#l00012">TYPE_CIEBASEDDEF</a>, and <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00142">WARNING</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01954">GetPS2PreviewColorRenderingDictionary()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>.
<p>
<pre class="fragment"><div>05098 {
05099     PTAGDATA   pTagData;
05100     <a class="code" href="../../d3/d0/structtagLUT16TYPE.html">PLUT16TYPE</a> pLut;
05101     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      dwIndex, dwLutSig;
05102     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      nInputEntries, nOutputEntries;
05103     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      nInputCh, nOutputCh, nGrids;
05104     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>       bRet;
05105 
05106     <span class="comment">//</span>
05107     <span class="comment">// Make sure required tags exist</span>
05108     <span class="comment">//</span>
05109 
05110     <span class="keywordflow">switch</span> (dwIntent)
05111     {
05112     <span class="keywordflow">case</span> INTENT_PERCEPTUAL:
05113         *pdwTag = <a class="code" href="../../d2/d9/ps2_8c.html#a33">TAG_BToA0</a>;
05114         <span class="keywordflow">break</span>;
05115 
05116     <span class="keywordflow">case</span> INTENT_RELATIVE_COLORIMETRIC:
05117     <span class="keywordflow">case</span> INTENT_ABSOLUTE_COLORIMETRIC:
05118         *pdwTag = <a class="code" href="../../d2/d9/ps2_8c.html#a34">TAG_BToA1</a>;
05119         <span class="keywordflow">break</span>;
05120 
05121     <span class="keywordflow">case</span> INTENT_SATURATION:
05122         *pdwTag = <a class="code" href="../../d2/d9/ps2_8c.html#a35">TAG_BToA2</a>;
05123         <span class="keywordflow">break</span>;
05124 
05125     <span class="keywordflow">default</span>:
05126         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Invalid intent passed to GetCRDInputOutputArraySize: %d\n"</span>), dwIntent));
05127         SetLastError(ERROR_INVALID_PARAMETER);
05128         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
05129     }
05130 
05131     <span class="keywordflow">if</span> (<a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, *pdwTag, &amp;dwIndex))
05132     {
05133         pTagData = (PTAGDATA)(pProfile + <span class="keyword">sizeof</span>(PROFILEHEADER) + <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) +
05134                    dwIndex * <span class="keyword">sizeof</span>(TAGDATA));
05135 
05136         pLut = (<a class="code" href="../../d3/d0/structtagLUT16TYPE.html">PLUT16TYPE</a>)(pProfile + FIX_ENDIAN(pTagData-&gt;dwOffset));
05137 
05138         dwLutSig = FIX_ENDIAN(pLut-&gt;<a class="code" href="../../d3/d0/structtagLUT16TYPE.html#o0">dwSignature</a>);
05139 
05140         <span class="keywordflow">if</span> ((dwLutSig != <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>) &amp;&amp; (dwLutSig != <a class="code" href="../../d2/d9/ps2_8c.html#a38">LUT16_TYPE</a>))
05141         {
05142             <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Invalid Lut type - unable to create proofing CRD\n"</span>)));
05143             SetLastError(ERROR_INVALID_PROFILE);
05144             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
05145         }
05146 
05147         (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a219">GetCLUTInfo</a>(dwLutSig, (PBYTE)pLut, &amp;nInputCh, &amp;nOutputCh,
05148                 &amp;nGrids, &amp;nInputEntries, &amp;nOutputEntries, NULL);
05149 
05150         <span class="keywordflow">if</span> (pdwInTblSize)
05151         {
05152             <span class="keywordflow">if</span> (nInputCh != 3)
05153             {
05154                 <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
05155             }
05156 
05157             *pdwInTblSize = nInputCh * nInputEntries * 6;  <span class="comment">// Number of INT bytes</span>
05158             *pnGrids = nGrids;
05159         }
05160 
05161         <span class="keywordflow">if</span> (pdwOutTblSize)
05162         {
05163             <span class="keywordflow">if</span> ((nOutputCh != 3) &amp;&amp; (nOutputCh != 4))
05164             {
05165                 <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
05166             }
05167 
05168             *pdwOutTblSize = nOutputCh * nOutputEntries * 6; <span class="comment">// Number of INT bytes</span>
05169             *pnGrids = nGrids;
05170         }
05171 
05172         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
05173     }
05174     <span class="keywordflow">else</span>
05175     {
05176         <span class="comment">//</span>
05177         <span class="comment">// Matrix icc profile.</span>
05178         <span class="comment">//</span>
05179 
05180         *pnGrids = 2;
05181 
05182         <span class="keywordflow">if</span> (pdwInTblSize)
05183         {
05184             bRet = <a class="code" href="../../d2/d9/ps2_8c.html#a200">GetHostCSA</a>(pProfile, NULL, pdwInTblSize,
05185                               dwIntent, TYPE_CIEBASEDDEF);
05186             *pdwInTblSize = *pdwInTblSize * 3;
05187         }
05188 
05189         <span class="keywordflow">if</span> (bRet &amp;&amp; pdwOutTblSize)
05190         {
05191             bRet = <a class="code" href="../../d2/d9/ps2_8c.html#a200">GetHostCSA</a>(pProfile, NULL, pdwInTblSize,
05192                               dwIntent, TYPE_CIEBASEDDEF);
05193             *pdwOutTblSize = *pdwOutTblSize * 3;
05194         }
05195 
05196         <span class="keywordflow">return</span> bRet;
05197     }
05198 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a182" doxytag="ps2.c::GetCSAFromProfile" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL GetCSAFromProfile           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PBOOL&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l01172">1172</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d3/d8/ps2_8c-source.html#l00276">ASCII85DecodeBegin</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00277">ASCII85DecodeEnd</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04234">Ascii85Encode()</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04007">DoesCPTagExist()</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00070">GetCPDevSpace</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04180">GetCPElementData()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04121">GetCPElementDataSize()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04160">GetCPElementDataType()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00071">GetCPRenderIntent</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00039">TAG_PS2CSA</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00142">WARNING</a>.
<p>
Referenced by <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01579">GetPS2ColorSpaceArray()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00464">InternalGetPS2ColorSpaceArray()</a>.
<p>
<pre class="fragment"><div>01180 {
01181     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwDev, dwProfileIntent;
01182     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwIndex, dwSize, dwDataType;
01183     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>  bRc = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01184 
01185     <span class="comment">//</span>
01186     <span class="comment">// This function can fail without setting an error, so reset error</span>
01187     <span class="comment">// here to prevent confusion later</span>
01188     <span class="comment">//</span>
01189 
01190     SetLastError(0);
01191 
01192     <span class="comment">//</span>
01193     <span class="comment">// Get the profile's color space and rendering intent</span>
01194     <span class="comment">//</span>
01195 
01196     dwDev = <a class="code" href="../../d2/d9/ps2_8c.html#a41">GetCPDevSpace</a>(pProfile);
01197     dwProfileIntent = <a class="code" href="../../d2/d9/ps2_8c.html#a42">GetCPRenderIntent</a>(pProfile);
01198 
01199     <span class="comment">//</span>
01200     <span class="comment">// If the rendering intents don't match, or the profile's color space</span>
01201     <span class="comment">// is incompatible with requested CSA type, fail</span>
01202     <span class="comment">//</span>
01203 
01204     <span class="keywordflow">if</span>  ((dwIntent != dwProfileIntent) ||
01205          ((dwDev == SPACE_GRAY) &amp;&amp;
01206          ((dwCSAType != CSA_GRAY) &amp;&amp; (dwCSAType != CSA_A))))
01207     {
01208         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Can't use profile's CSA tag due to different rendering intents\n"</span>)));
01209         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01210     }
01211 
01212     <span class="keywordflow">if</span> (<a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, TAG_PS2CSA, &amp;dwIndex))
01213     {
01214         (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a193">GetCPElementDataSize</a>(pProfile, dwIndex, &amp;dwSize);
01215 
01216         (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a195">GetCPElementDataType</a>(pProfile, dwIndex, &amp;dwDataType);
01217 
01218         <span class="keywordflow">if</span> (! *pbBinary &amp;&amp; dwDataType == 1)
01219         {
01220             <span class="comment">//</span>
01221             <span class="comment">// Profile has binary data, user asked for ASCII, so we have to</span>
01222             <span class="comment">// ASCII 85 encode it</span>
01223             <span class="comment">//</span>
01224 
01225             dwSize = dwSize * 5 / 4 + <span class="keyword">sizeof</span>(<a class="code" href="../../d2/d9/ps2_8c.html#a67">ASCII85DecodeBegin</a>) + <span class="keyword">sizeof</span>(<a class="code" href="../../d2/d9/ps2_8c.html#a68">ASCII85DecodeEnd</a>) + 2048;
01226         }
01227 
01228         <span class="keywordflow">if</span> (pBuffer)
01229         {
01230             <span class="keywordflow">if</span> (*pcbSize &gt;= dwSize)
01231             {
01232                 (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a196">GetCPElementData</a>(pProfile, dwIndex, pBuffer, &amp;dwSize);
01233 
01234                 <span class="keywordflow">if</span> (! *pbBinary &amp;&amp; dwDataType == 1)
01235                 {
01236                     dwSize = <a class="code" href="../../d2/d9/ps2_8c.html#a198">Ascii85Encode</a>(pBuffer, dwSize, *pcbSize);
01237                 }
01238                 bRc = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01239             }
01240             <span class="keywordflow">else</span>
01241             {
01242                 <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Buffer too small to get CSA\n"</span>)));
01243                 SetLastError(ERROR_INSUFFICIENT_BUFFER);
01244             }
01245         }
01246         <span class="keywordflow">else</span>
01247             bRc = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01248 
01249         *pcbSize = dwSize;
01250     }
01251 
01252     <span class="keywordflow">return</span> bRc;
01253 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a201" doxytag="ps2.c::GetHostColorRenderingDictionary" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL GetHostColorRenderingDictionary           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l05662">5662</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d3/d8/ps2_8c-source.html#l05203">CreateHostLutCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05393">CreateHostMatrixCSAorCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04007">DoesCPTagExist()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04055">DoesTRCAndColorantTagExist()</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00059">TAG_BToA0</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00060">TAG_BToA1</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00061">TAG_BToA2</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01954">GetPS2PreviewColorRenderingDictionary()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>.
<p>
<pre class="fragment"><div>05668 {
05669     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwBToATag, dwIndex;
05670 
05671     <span class="keywordflow">switch</span> (dwIntent)
05672     {
05673     <span class="keywordflow">case</span> INTENT_PERCEPTUAL:
05674         dwBToATag = <a class="code" href="../../d2/d9/ps2_8c.html#a33">TAG_BToA0</a>;
05675         <span class="keywordflow">break</span>;
05676 
05677     <span class="keywordflow">case</span> INTENT_RELATIVE_COLORIMETRIC:
05678     <span class="keywordflow">case</span> INTENT_ABSOLUTE_COLORIMETRIC:
05679         dwBToATag = <a class="code" href="../../d2/d9/ps2_8c.html#a34">TAG_BToA1</a>;
05680         <span class="keywordflow">break</span>;
05681 
05682     <span class="keywordflow">case</span> INTENT_SATURATION:
05683         dwBToATag = <a class="code" href="../../d2/d9/ps2_8c.html#a35">TAG_BToA2</a>;
05684         <span class="keywordflow">break</span>;
05685 
05686     <span class="keywordflow">default</span>:
05687         *pdwSize = 0;
05688         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
05689     }
05690 
05691     <span class="keywordflow">if</span> (<a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, dwBToATag, &amp;dwIndex))
05692     {
05693         *pdwSize = <a class="code" href="../../d2/d9/ps2_8c.html#a235">CreateHostLutCRD</a>(pProfile, dwIndex, pBuffer, dwIntent);
05694 
05695         <span class="keywordflow">return</span> *pdwSize &gt; 0;
05696     }
05697     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d2/d9/ps2_8c.html#a190">DoesTRCAndColorantTagExist</a>(pProfile))
05698     {
05699         <span class="keywordflow">return</span> <a class="code" href="../../d2/d9/ps2_8c.html#a236">CreateHostMatrixCSAorCRD</a>(pProfile, pBuffer, pdwSize, dwIntent, FALSE);
05700     }
05701     <span class="keywordflow">else</span>
05702     {
05703         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
05704     }
05705 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a202" doxytag="ps2.c::GetHostColorSpaceArray" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL GetHostColorSpaceArray           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l06024">6024</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00070">GetCPDevSpace</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05792">GetHostCSA()</a>, <a class="el" href="../../d3/d8/aug98_2dll32_2csprof_8h-source.html#l00012">TYPE_CIEBASEDDEF</a>, and <a class="el" href="../../d3/d8/aug98_2dll32_2csprof_8h-source.html#l00013">TYPE_CIEBASEDDEFG</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01954">GetPS2PreviewColorRenderingDictionary()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>.
<p>
<pre class="fragment"><div>06030 {
06031     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwDev;
06032     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> bRc = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
06033 
06034     dwDev = <a class="code" href="../../d2/d9/ps2_8c.html#a41">GetCPDevSpace</a>(pProfile);
06035 
06036     <span class="keywordflow">switch</span> (dwDev)
06037     {
06038     <span class="keywordflow">case</span> SPACE_RGB:
06039         bRc = <a class="code" href="../../d2/d9/ps2_8c.html#a200">GetHostCSA</a>(pProfile, pBuffer, pdwSize,
06040                   dwIntent, TYPE_CIEBASEDDEF);
06041         <span class="keywordflow">break</span>;
06042     <span class="keywordflow">case</span> SPACE_CMYK:
06043         bRc = <a class="code" href="../../d2/d9/ps2_8c.html#a200">GetHostCSA</a>(pProfile, pBuffer, pdwSize,
06044                   dwIntent, TYPE_CIEBASEDDEFG);
06045         <span class="keywordflow">break</span>;
06046     <span class="keywordflow">default</span>:
06047         <span class="keywordflow">break</span>;
06048     }
06049 
06050     <span class="keywordflow">return</span> bRc;
06051 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a200" doxytag="ps2.c::GetHostCSA" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL GetHostCSA           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l05792">5792</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d3/d8/ps2_8c-source.html#l00161">tagHOSTCLUT::afxIlluminantWP</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d9/d5/jul98_2test_2profcrd_8h-source.html#l00024">tagHOSTCLUT::clut</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05728">CreateHostInputOutputArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05393">CreateHostMatrixCSAorCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00090">DATATYPE_LUT</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04007">DoesCPTagExist()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04055">DoesTRCAndColorantTagExist()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00160">tagHOSTCLUT::dwIntent</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00159">tagHOSTCLUT::dwPCS</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00135">tagLUT16TYPE::dwSignature</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04951">GetCLUTInfo()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00069">GetCPConnSpace</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04074">GetCPWhitePoint()</a>, <a class="el" href="../../d9/d5/jul98_2test_2profcrd_8h-source.html#l00022">tagHOSTCLUT::inputArray</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00065">LUT16_TYPE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00064">LUT8_TYPE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00021">MAX_LINELEN</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00165">tagHOSTCLUT::nClutPoints</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00063">NewLine</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00163">tagHOSTCLUT::nInputCh</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00168">tagHOSTCLUT::nInputEntries</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00166">tagHOSTCLUT::nLutBits</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00164">tagHOSTCLUT::nOutputCh</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00169">tagHOSTCLUT::nOutputEntries</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d9/d5/jul98_2test_2profcrd_8h-source.html#l00023">tagHOSTCLUT::outputArray</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a66">PHOSTCLUT</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a64">PLUT16TYPE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a62">PLUT8TYPE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00082">STRLEN</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00048">TAG_AToB0</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00049">TAG_AToB1</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00050">TAG_AToB2</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d3/d8/aug98_2dll32_2csprof_8h-source.html#l00012">TYPE_CIEBASEDDEF</a>, <a class="el" href="../../d3/d8/aug98_2dll32_2csprof_8h-source.html#l00013">TYPE_CIEBASEDDEFG</a>, <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00142">WARNING</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00157">tagHOSTCLUT::wDataType</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00156">tagHOSTCLUT::wSize</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05090">GetCRDInputOutputArraySize()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l06024">GetHostColorSpaceArray()</a>, and <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l00479">GetHostCSA_Intent()</a>.
<p>
<pre class="fragment"><div>05799 {
05800     <a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>  pHostClut;
05801     PTAGDATA   pTagData;
05802     <a class="code" href="../../d3/d0/structtagLUT16TYPE.html">PLUT16TYPE</a> pLut;
05803     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      dwAToBTag;
05804     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      dwPCS, dwLutSig;
05805     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      nInputCh, nOutputCh, nGrids, SecondGrids;
05806     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      nInputTable, nOutputTable, nNumbers;
05807     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      dwIndex, i, j, k;
05808     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>      pTable;
05809     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>      pStart = pBuffer;
05810 
05811     <span class="keywordflow">switch</span> (dwIntent)
05812     {
05813     <span class="keywordflow">case</span> INTENT_PERCEPTUAL:
05814         dwAToBTag = <a class="code" href="../../d2/d9/ps2_8c.html#a22">TAG_AToB0</a>;
05815         <span class="keywordflow">break</span>;
05816 
05817     <span class="keywordflow">case</span> INTENT_RELATIVE_COLORIMETRIC:
05818     <span class="keywordflow">case</span> INTENT_ABSOLUTE_COLORIMETRIC:
05819         dwAToBTag = <a class="code" href="../../d2/d9/ps2_8c.html#a23">TAG_AToB1</a>;
05820         <span class="keywordflow">break</span>;
05821 
05822     <span class="keywordflow">case</span> INTENT_SATURATION:
05823         dwAToBTag = <a class="code" href="../../d2/d9/ps2_8c.html#a24">TAG_AToB2</a>;
05824         <span class="keywordflow">break</span>;
05825 
05826     <span class="keywordflow">default</span>:
05827         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Invalid intent passed to GetHostCSA: %d\n"</span>), dwIntent));
05828         SetLastError(ERROR_INVALID_PARAMETER);
05829         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
05830         <span class="keywordflow">break</span>;
05831     }
05832 
05833     <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, dwAToBTag, &amp;dwIndex))
05834     {
05835         <span class="keywordflow">if</span> (<a class="code" href="../../d2/d9/ps2_8c.html#a190">DoesTRCAndColorantTagExist</a>(pProfile) &amp;&amp; (dwType == <a class="code" href="../../d2/d9/aug98_2dll32_2csprof_8h.html#a0">TYPE_CIEBASEDDEF</a>))
05836         {
05837             <span class="comment">//</span>
05838             <span class="comment">// Create Host CSA from Matrix.</span>
05839             <span class="comment">//</span>
05840 
05841             <span class="keywordflow">return</span> <a class="code" href="../../d2/d9/ps2_8c.html#a236">CreateHostMatrixCSAorCRD</a>(pProfile,pBuffer,pdwSize,dwIntent,TRUE);
05842         }
05843         <span class="keywordflow">else</span>
05844         {
05845             <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"AToB tag not present for intent %d\n"</span>), dwIntent));
05846             SetLastError(ERROR_TAG_NOT_PRESENT);
05847             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
05848         }
05849     }
05850 
05851     <span class="comment">//</span>
05852     <span class="comment">// Check if we can generate the CSA</span>
05853     <span class="comment">//</span>
05854 
05855     dwPCS = <a class="code" href="../../d2/d9/ps2_8c.html#a40">GetCPConnSpace</a>(pProfile);
05856 
05857     pTagData = (PTAGDATA)(pProfile + <span class="keyword">sizeof</span>(PROFILEHEADER) + <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) +
05858                dwIndex * <span class="keyword">sizeof</span>(TAGDATA));
05859 
05860     pLut = (<a class="code" href="../../d3/d0/structtagLUT16TYPE.html">PLUT16TYPE</a>)(pProfile + FIX_ENDIAN(pTagData-&gt;dwOffset));
05861 
05862     dwLutSig = FIX_ENDIAN(pLut-&gt;<a class="code" href="../../d3/d0/structtagLUT16TYPE.html#o0">dwSignature</a>);
05863 
05864     <span class="keywordflow">if</span> (((dwPCS != SPACE_Lab) &amp;&amp; (dwPCS != SPACE_XYZ)) ||
05865         ((dwLutSig != <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>) &amp;&amp; (dwLutSig != <a class="code" href="../../d2/d9/ps2_8c.html#a38">LUT16_TYPE</a>)))
05866     {
05867         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Invalid color space - unable to create DEF(G) host CSA\n"</span>)));
05868         SetLastError(ERROR_INVALID_PROFILE);
05869         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
05870     }
05871 
05872     <span class="comment">//</span>
05873     <span class="comment">// Estimate the memory size required to hold CSA</span>
05874     <span class="comment">//</span>
05875 
05876     (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a219">GetCLUTInfo</a>(dwLutSig, (PBYTE)pLut, &amp;nInputCh, &amp;nOutputCh, &amp;nGrids,
05877                 &amp;nInputTable, &amp;nOutputTable, &amp;i);
05878 
05879     <span class="keywordflow">if</span> (!(nOutputCh == 3) ||
05880         !((nInputCh == 3) &amp;&amp; (dwType == <a class="code" href="../../d2/d9/aug98_2dll32_2csprof_8h.html#a0">TYPE_CIEBASEDDEF</a>)) &amp;&amp;
05881         !((nInputCh == 4) &amp;&amp; (dwType == <a class="code" href="../../d2/d9/aug98_2dll32_2csprof_8h.html#a1">TYPE_CIEBASEDDEFG</a>)))
05882     {
05883         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
05884     }
05885         
05886     <span class="keywordflow">if</span> (pBuffer == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
05887     {
05888         <span class="comment">//</span>
05889         <span class="comment">// Return size</span>
05890         <span class="comment">//</span>
05891 
05892         <span class="keywordflow">if</span> (dwType == <a class="code" href="../../d2/d9/aug98_2dll32_2csprof_8h.html#a1">TYPE_CIEBASEDDEFG</a>)
05893             *pdwSize = nOutputCh * nGrids * nGrids * nGrids * nGrids;
05894         <span class="keywordflow">else</span>
05895             *pdwSize = nOutputCh * nGrids * nGrids * nGrids;
05896 
05897         *pdwSize +=                           <span class="comment">// size of RenderTable 8-bits only</span>
05898             nInputCh * nInputTable * i    +   <span class="comment">// size of input table 8/16-bits</span>
05899             nOutputCh * nOutputTable * i  +   <span class="comment">// size of output table 8/16-bits</span>
05900             <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">HOSTCLUT</a>) + 2048;          <span class="comment">// data structure + other PS stuff</span>
05901 
05902         <span class="comment">//</span>
05903         <span class="comment">// Add space for new line.</span>
05904         <span class="comment">//</span>
05905 
05906         *pdwSize += (((*pdwSize) / <a class="code" href="../../d2/d9/ps2_8c.html#a0">MAX_LINELEN</a>) + 1) * <a class="code" href="../../d2/d9/ps2_8c.html#a46">STRLEN</a>(NewLine);
05907 
05908         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
05909     }
05910 
05911     pHostClut = (<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)pBuffer;
05912     pBuffer += <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">HOSTCLUT</a>);
05913     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o18">wSize</a> = <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">HOSTCLUT</a>);
05914     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o19">wDataType</a> = <a class="code" href="../../d2/d9/ps2_8c.html#a51">DATATYPE_LUT</a>;
05915     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o21">dwPCS</a> = dwPCS;
05916     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o22">dwIntent</a> = dwIntent;
05917     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o28">nLutBits</a> = (dwLutSig == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>) ? 8 : 16;
05918 
05919     <span class="comment">//</span>
05920     <span class="comment">// Get info about Illuminant White Point from the header</span>
05921     <span class="comment">//</span>
05922 
05923     (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a191">GetCPWhitePoint</a>(pProfile, pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o23">afxIlluminantWP</a>);
05924 
05925     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o25">nInputCh</a> = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)nInputCh;
05926     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o26">nOutputCh</a> = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)nOutputCh;
05927     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o27">nClutPoints</a> = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)nGrids;
05928     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o30">nInputEntries</a> = (WORD)nInputTable;
05929     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o31">nOutputEntries</a> = (WORD)nOutputTable;
05930 
05931     <span class="comment">//</span>
05932     <span class="comment">// Input Array</span>
05933     <span class="comment">//</span>
05934 
05935     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a237">CreateHostInputOutputArray</a>(pBuffer, pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o14">inputArray</a>,
05936              nInputCh, nInputTable, 0, dwLutSig, (PBYTE)pLut);
05937 
05938     <span class="keywordflow">if</span> (dwType == <a class="code" href="../../d2/d9/aug98_2dll32_2csprof_8h.html#a1">TYPE_CIEBASEDDEFG</a>)
05939     {
05940         i = nInputTable * nInputCh +
05941             nGrids * nGrids * nGrids * nGrids * nOutputCh;
05942     }
05943     <span class="keywordflow">else</span>
05944     {
05945         i = nInputTable * nInputCh +
05946             nGrids * nGrids * nGrids * nOutputCh;
05947     }
05948 
05949     <span class="comment">//</span>
05950     <span class="comment">// Output Array</span>
05951     <span class="comment">//</span>
05952 
05953     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a237">CreateHostInputOutputArray</a>(pBuffer, pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o15">outputArray</a>,
05954              nOutputCh, nOutputTable, i, dwLutSig, (PBYTE)pLut);
05955 
05956     <span class="comment">//</span>
05957     <span class="comment">// /Table</span>
05958     <span class="comment">//</span>
05959 
05960     pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o16">clut</a> = pBuffer;
05961     nNumbers = nGrids * nGrids * nOutputCh;
05962     SecondGrids = 1;
05963     <span class="keywordflow">if</span> (dwType == <a class="code" href="../../d2/d9/aug98_2dll32_2csprof_8h.html#a1">TYPE_CIEBASEDDEFG</a>)
05964     {
05965         SecondGrids = nGrids;
05966     }
05967 
05968     <span class="keywordflow">for</span> (i=0; i&lt;nGrids; i++)        <span class="comment">// Nh strings should be sent</span>
05969     {
05970         <span class="keywordflow">for</span> (k=0; k&lt;SecondGrids; k++)
05971         {
05972             <span class="keywordflow">if</span> (dwLutSig == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>)
05973             {
05974                 pTable = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>) (((<a class="code" href="../../d4/d0/structtagLUT8TYPE.html">PLUT8TYPE</a>)pLut)-&gt;data) +
05975                     nInputTable * nInputCh +
05976                     nNumbers * (i * SecondGrids + k);
05977             }
05978             <span class="keywordflow">else</span>
05979             {
05980                 pTable = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>) (((<a class="code" href="../../d3/d0/structtagLUT16TYPE.html">PLUT16TYPE</a>)pLut)-&gt;data) +
05981                     2 * nInputTable * nInputCh +
05982                     2 * nNumbers * (i * SecondGrids + k);
05983             }
05984 
05985             <span class="keywordflow">if</span> (dwLutSig == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>)
05986             {
05987                 CopyMemory(pBuffer, pTable, nNumbers);
05988                 pBuffer += nNumbers;
05989             }
05990             <span class="keywordflow">else</span>
05991             {
05992                 <span class="keywordflow">for</span> (j=0; j&lt;nNumbers; j++)
05993                 {
05994                     *pBuffer++ = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)(FIX_ENDIAN16(*((PWORD)pTable)) / 256);
05995                     pTable += <span class="keyword">sizeof</span>(WORD);
05996                 }
05997             }
05998         }
05999     }
06000 
06001     *pdwSize = (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) (pBuffer - pStart);
06002 
06003     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
06004 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a209" doxytag="ps2.c::GetMediaWP" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID GetMediaWP           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l05068">5068</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d3/d8/ps2_8c-source.html#l04087">GetCPMediaWhitePoint()</a>.
<p>
Referenced by <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00642">GetPS2CSA_ABC()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01747">GetPS2CSA_ABC_Lab()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00812">GetPS2CSA_ABC_LAB()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00261">GetPS2CSA_DEFG()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01087">GetPS2CSA_MONO_A()</a>, and <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00927">GetPS2CSA_MONO_ABC()</a>.
<p>
<pre class="fragment"><div>05074 {
05075     <span class="keywordflow">if</span> (dwIntent == INTENT_ABSOLUTE_COLORIMETRIC)
05076     {
05077         <span class="keywordflow">if</span> (! <a class="code" href="../../d2/d9/ps2_8c.html#a192">GetCPMediaWhitePoint</a>(pProfile, pafxMediaWP))
05078         {
05079             pafxMediaWP[0] = pafxIlluminantWP[0];
05080             pafxMediaWP[1] = pafxIlluminantWP[1];
05081             pafxMediaWP[2] = pafxIlluminantWP[2];
05082         }
05083     }
05084 
05085     <span class="keywordflow">return</span>;
05086 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a184" doxytag="ps2.c::GetPS2CSA_ABC" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL GetPS2CSA_ABC           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PBOOL&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOL&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l01519">1519</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00007">BeginArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00011">BeginDict</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00009">BeginFunction</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05001">BeginGlobalDict()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00070">CieBasedABCBegin</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00074">CieBasedABCEnd</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00036">CIEBasedABCTag</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02501">CreateColSpArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02581">CreateColSpProc()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02657">CreateFloatString()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00040">DecodeABCTag</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00041">DecodeLMNTag</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04055">DoesTRCAndColorantTagExist()</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04987">EnableGlobalDict()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00008">EndArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00012">EndDict</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00010">EndFunction</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00057">EndOp</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00100">FIX_16_16</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00032">FIX_DIV</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00069">GetCPConnSpace</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00070">GetCPDevSpace</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04074">GetCPWhitePoint()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05068">GetMediaWP()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01747">GetPS2CSA_ABC_Lab()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l06873">IsSRGBColorProfile()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00029">MatrixABCTag</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00060">MulOp</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00063">NewLine</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00124">NotSupportDEFG_S</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00077">RangeLMN</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00031">RangeLMNTag</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05027">SendCSABWPoint()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00054">SetGlobalOp</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00411">sRGBColorSpaceArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00125">SupportDEFG_E</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00042">TAG_BLUECOLORANT</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00045">TAG_BLUETRC</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00041">TAG_GREENCOLORANT</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00044">TAG_GREENTRC</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00040">TAG_REDCOLORANT</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00043">TAG_REDTRC</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00142">WARNING</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04441">WriteFixed()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04573">WriteNewLineObject()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>.
<p>
Referenced by <a class="el" href="../../d9/d5/aug98_2test_2control_8c-source.html#l00232">ColorSpaceControl()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01579">GetPS2ColorSpaceArray()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00464">InternalGetPS2ColorSpaceArray()</a>.
<p>
<pre class="fragment"><div>01527 {
01528     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>     pStart = pBuffer;
01529     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>     i, dwPCS, dwDev, dwSize;
01530     <a class="code" href="../../d2/d9/ps2_8c.html#a55">FIX_16_16</a> afxIlluminantWP[3];
01531     <a class="code" href="../../d2/d9/ps2_8c.html#a55">FIX_16_16</a> afxMediaWP[3];
01532 
01533     <span class="comment">//</span>
01534     <span class="comment">// Check if we can generate the CSA:</span>
01535     <span class="comment">// Required  tags are red, green and blue Colorants &amp; TRCs</span>
01536     <span class="comment">//</span>
01537 
01538     dwPCS = <a class="code" href="../../d2/d9/ps2_8c.html#a40">GetCPConnSpace</a>(pProfile);
01539     dwDev = <a class="code" href="../../d2/d9/ps2_8c.html#a41">GetCPDevSpace</a>(pProfile);
01540 
01541     <span class="comment">//</span>
01542     <span class="comment">// Call another function to handle Lab profiles</span>
01543     <span class="comment">//</span>
01544 
01545     <span class="keywordflow">if</span> (dwDev == SPACE_Lab)
01546     {
01547         <span class="keywordflow">return</span> <a class="code" href="../../d2/d9/ps2_8c.html#a185">GetPS2CSA_ABC_Lab</a>(pProfile, pBuffer, pcbSize, dwIntent, pbBinary);
01548     }
01549 
01550     <span class="comment">//</span>
01551     <span class="comment">// We only handle RGB profiles in this function</span>
01552     <span class="comment">//</span>
01553 
01554     <span class="keywordflow">if</span> ((dwDev != SPACE_RGB)                   ||
01555         !<a class="code" href="../../d2/d9/ps2_8c.html#a190">DoesTRCAndColorantTagExist</a>(pProfile))
01556     {
01557         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Colorant or TRC tag not present to create ABC CSA\n"</span>)));
01558         SetLastError(ERROR_TAG_NOT_PRESENT);
01559         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01560     }
01561 
01562     <span class="comment">//</span>
01563     <span class="comment">// Estimate size required to hold the CSA</span>
01564     <span class="comment">//</span>
01565 
01566     dwSize = 65530;
01567 
01568     <span class="keywordflow">if</span> (! pBuffer)
01569     {
01570         *pcbSize = dwSize;
01571         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01572     }
01573     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*pcbSize &lt; dwSize)
01574     {
01575         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Buffer too small to get ABC CSA\n"</span>)));
01576         SetLastError(ERROR_INSUFFICIENT_BUFFER);
01577         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01578     }
01579 
01580     <span class="comment">//</span>
01581     <span class="comment">// Get info about Illuminant White Point from the header</span>
01582     <span class="comment">//</span>
01583 
01584     (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a191">GetCPWhitePoint</a>(pProfile, afxIlluminantWP);
01585 
01586     <span class="comment">//</span>
01587     <span class="comment">// Support absolute whitePoint</span>
01588     <span class="comment">//</span>
01589 
01590     (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a209">GetMediaWP</a>(pProfile, dwIntent, afxIlluminantWP, afxMediaWP);
01591 
01592     <span class="comment">//</span>
01593     <span class="comment">// Create global data</span>
01594     <span class="comment">//</span>
01595 
01596     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, CieBasedABCBegin);
01597 
01598     <span class="keywordflow">if</span> (<a class="code" href="../../d2/d9/ps2_8c.html#a181">IsSRGBColorProfile</a>(pProfile))
01599     {
01600         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, sRGBColorSpaceArray);
01601     }
01602     <span class="keywordflow">else</span>
01603     {
01604         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a220">EnableGlobalDict</a>(pBuffer);
01605 
01606         <span class="keywordflow">if</span> (bBackup)
01607         {
01608             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, NotSupportDEFG_S);
01609         }
01610 
01611         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a221">BeginGlobalDict</a>(pBuffer);
01612 
01613         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a212">CreateColSpArray</a>(pProfile, pBuffer, TAG_REDTRC, *pbBinary);
01614         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a212">CreateColSpArray</a>(pProfile, pBuffer, TAG_GREENTRC, *pbBinary);
01615         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a212">CreateColSpArray</a>(pProfile, pBuffer, TAG_BLUETRC, *pbBinary);
01616 
01617         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, EndOp);
01618 
01619         <span class="keywordflow">if</span> (bBackup)
01620         {
01621             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, SupportDEFG_E);
01622         }
01623 
01624         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, SetGlobalOp);
01625 
01626         <span class="keywordflow">if</span> (bBackup)
01627         {
01628             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, NotSupportDEFG_S);
01629         }
01630 
01631         <span class="comment">//</span>
01632         <span class="comment">// Start creating the ColorSpace</span>
01633         <span class="comment">//</span>
01634 
01635         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, BeginArray);       <span class="comment">// Begin array</span>
01636 
01637         <span class="comment">//</span>
01638         <span class="comment">// /CIEBasedABC</span>
01639         <span class="comment">//</span>
01640 
01641         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, CIEBasedABCTag);   <span class="comment">// Create entry</span>
01642         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginDict);        <span class="comment">// Begin dictionary</span>
01643 
01644         <span class="comment">//</span>
01645         <span class="comment">// /BlackPoint &amp; /WhitePoint</span>
01646         <span class="comment">//</span>
01647 
01648         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a208">SendCSABWPoint</a>(pBuffer, dwIntent, afxIlluminantWP, afxMediaWP);
01649 
01650         <span class="comment">//</span>
01651         <span class="comment">// /DecodeABC</span>
01652         <span class="comment">//</span>
01653 
01654         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, DecodeABCTag);
01655         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
01656 
01657         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
01658         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a213">CreateColSpProc</a>(pProfile, pBuffer, TAG_REDTRC, *pbBinary);
01659         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
01660         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a213">CreateColSpProc</a>(pProfile, pBuffer, TAG_GREENTRC, *pbBinary);
01661         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
01662         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a213">CreateColSpProc</a>(pProfile, pBuffer, TAG_BLUETRC, *pbBinary);
01663         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
01664 
01665         <span class="comment">//</span>
01666         <span class="comment">// /MatrixABC</span>
01667         <span class="comment">//</span>
01668 
01669         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, MatrixABCTag);
01670         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
01671 
01672         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a214">CreateFloatString</a>(pProfile, pBuffer, TAG_REDCOLORANT);
01673         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a214">CreateFloatString</a>(pProfile, pBuffer, TAG_GREENCOLORANT);
01674         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a214">CreateFloatString</a>(pProfile, pBuffer, TAG_BLUECOLORANT);
01675 
01676         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
01677 
01678         <span class="comment">//</span>
01679         <span class="comment">// /RangeLMN</span>
01680         <span class="comment">//</span>
01681 
01682         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
01683         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, RangeLMNTag);
01684         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, RangeLMN);
01685 
01686         <span class="comment">//</span>
01687         <span class="comment">// /DecodeLMN</span>
01688         <span class="comment">//</span>
01689 
01690         <span class="keywordflow">if</span> (dwIntent == INTENT_ABSOLUTE_COLORIMETRIC)
01691         {
01692             <span class="comment">//</span>
01693             <span class="comment">// Support absolute whitePoint</span>
01694             <span class="comment">//</span>
01695 
01696             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, DecodeLMNTag);
01697             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
01698             <span class="keywordflow">for</span> (i=0; i&lt;3; i++)
01699             {
01700                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginFunction);
01701                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a231">WriteFixed</a>(pBuffer, <a class="code" href="../../d2/d9/ps2_8c.html#a9">FIX_DIV</a>(afxMediaWP[i], afxIlluminantWP[i]));
01702                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, MulOp);
01703                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndFunction);
01704             }
01705             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a> (pBuffer, EndArray);
01706         }
01707 
01708         <span class="comment">//</span>
01709         <span class="comment">// End dictionary definition</span>
01710         <span class="comment">//</span>
01711 
01712         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, EndDict);
01713         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
01714 
01715         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, CieBasedABCEnd);
01716     }
01717 
01718     *pcbSize = (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) (pBuffer - pStart);
01719 
01720     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01721 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a185" doxytag="ps2.c::GetPS2CSA_ABC_Lab" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL GetPS2CSA_ABC_Lab           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PBOOL&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l01747">1747</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00007">BeginArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00011">BeginDict</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00009">BeginFunction</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00074">CieBasedABCEnd</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00036">CIEBasedABCTag</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00136">DecodeABCLab1</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00040">DecodeABCTag</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00138">DecodeLMNLab</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00041">DecodeLMNTag</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00008">EndArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00012">EndDict</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00010">EndFunction</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00100">FIX_16_16</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04074">GetCPWhitePoint()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05068">GetMediaWP()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00135">MatrixABCLab</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00029">MatrixABCTag</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00060">MulOp</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00063">NewLine</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00079">RangeABC_Lab</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00027">RangeABCTag</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05027">SendCSABWPoint()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00142">WARNING</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04441">WriteFixed()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04573">WriteNewLineObject()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l01519">GetPS2CSA_ABC()</a>.
<p>
<pre class="fragment"><div>01754 {
01755     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>     pStart = pBuffer;
01756     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>     i, dwSize;
01757     <a class="code" href="../../d2/d9/ps2_8c.html#a55">FIX_16_16</a> afxIlluminantWP[3];
01758     <a class="code" href="../../d2/d9/ps2_8c.html#a55">FIX_16_16</a> afxMediaWP[3];
01759 
01760     <span class="comment">//</span>
01761     <span class="comment">// Estimate size required to hold the CSA</span>
01762     <span class="comment">//</span>
01763 
01764     dwSize = 65530;
01765 
01766     <span class="keywordflow">if</span> (! pBuffer)
01767     {
01768         *pcbSize = dwSize;
01769         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01770     }
01771     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*pcbSize &lt; dwSize)
01772     {
01773         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Buffer too small to get ABC_Lab CSA\n"</span>)));
01774         SetLastError(ERROR_INSUFFICIENT_BUFFER);
01775         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01776     }
01777 
01778     <span class="comment">//</span>
01779     <span class="comment">// Get info about Illuminant White Point from the header</span>
01780     <span class="comment">//</span>
01781 
01782     (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a191">GetCPWhitePoint</a>(pProfile, afxIlluminantWP);
01783 
01784     <span class="comment">//</span>
01785     <span class="comment">// Support absolute whitePoint</span>
01786     <span class="comment">//</span>
01787 
01788     <a class="code" href="../../d2/d9/ps2_8c.html#a209">GetMediaWP</a>(pProfile, dwIntent, afxIlluminantWP, afxMediaWP);
01789 
01790     <span class="comment">//</span>
01791     <span class="comment">// Start creating the ColorSpace</span>
01792     <span class="comment">//</span>
01793 
01794     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, BeginArray);       <span class="comment">// Begin array</span>
01795 
01796     <span class="comment">//</span>
01797     <span class="comment">// /CIEBasedABC</span>
01798     <span class="comment">//</span>
01799 
01800     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, CIEBasedABCTag);   <span class="comment">// Create entry</span>
01801     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginDict);        <span class="comment">// Begin dictionary</span>
01802 
01803     <span class="comment">//</span>
01804     <span class="comment">// /BlackPoint &amp; /WhitePoint</span>
01805     <span class="comment">//</span>
01806 
01807     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a208">SendCSABWPoint</a>(pBuffer, dwIntent, afxIlluminantWP, afxMediaWP);
01808 
01809     <span class="comment">//</span>
01810     <span class="comment">// /RangeABC</span>
01811     <span class="comment">//</span>
01812 
01813     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, RangeABCTag);
01814     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, RangeABC_Lab);
01815 
01816     <span class="comment">//</span>
01817     <span class="comment">// /DecodeABC</span>
01818     <span class="comment">//</span>
01819 
01820     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, DecodeABCTag);
01821     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, DecodeABCLab1);
01822 
01823     <span class="comment">//</span>
01824     <span class="comment">// /MatrixABC</span>
01825     <span class="comment">//</span>
01826 
01827     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, MatrixABCTag);
01828     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, MatrixABCLab);
01829 
01830     <span class="comment">//</span>
01831     <span class="comment">// /DecodeLMN</span>
01832     <span class="comment">//</span>
01833 
01834     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, DecodeLMNTag);
01835     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
01836     <span class="keywordflow">for</span> (i=0; i&lt;3; i++)
01837     {
01838         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginFunction);
01839         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, DecodeLMNLab);
01840 
01841         <span class="keywordflow">if</span> (dwIntent == INTENT_ABSOLUTE_COLORIMETRIC)
01842         {
01843             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a231">WriteFixed</a>(pBuffer, afxMediaWP[i]);
01844         }
01845         <span class="keywordflow">else</span>
01846         {
01847             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a231">WriteFixed</a>(pBuffer, afxIlluminantWP[i]);
01848         }
01849         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, MulOp);
01850         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndFunction);
01851         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
01852     }
01853     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
01854 
01855 
01856     <span class="comment">//</span>
01857     <span class="comment">// End dictionary definition</span>
01858     <span class="comment">//</span>
01859 
01860     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, EndDict);
01861     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
01862 
01863     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, CieBasedABCEnd);
01864 
01865     *pcbSize = (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) (pBuffer - pStart);
01866 
01867     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01868 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a186" doxytag="ps2.c::GetPS2CSA_DEFG" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL GetPS2CSA_DEFG           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PBOOL&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l01895">1895</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00007">BeginArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00011">BeginDict</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00009">BeginFunction</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05001">BeginGlobalDict()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00005">BeginString</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00069">CieBasedDEFBegin</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00073">CieBasedDEFEnd</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00068">CieBasedDEFGBegin</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00072">CieBasedDEFGEnd</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00037">CIEBasedDEFGTag</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00038">CIEBasedDEFTag</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00083">Clip01</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02709">CreateInputArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02834">CreateOutputArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00400">DecodeABCLab</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00040">DecodeABCTag</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00046">DecodeDEFGTag</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00047">DecodeDEFTag</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00138">DecodeLMNLab</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00041">DecodeLMNTag</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04007">DoesCPTagExist()</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00135">tagLUT16TYPE::dwSignature</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04987">EnableGlobalDict()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00008">EndArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00128">EndClip</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00012">EndDict</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00010">EndFunction</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00057">EndOp</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00006">EndString</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00100">FIX_16_16</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00032">FIX_DIV</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04951">GetCLUTInfo()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00069">GetCPConnSpace</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00070">GetCPDevSpace</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04074">GetCPWhitePoint()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05068">GetMediaWP()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02953">GetPublicArrayName()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00115">IndexArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00110">IndexArray16b</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00087">InputArray</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00065">LUT16_TYPE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00064">LUT8_TYPE</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00135">MatrixABCLab</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00029">MatrixABCTag</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00021">MAX_LINELEN</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00060">MulOp</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00063">NewLine</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00088">OutputArray</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a64">PLUT16TYPE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a62">PLUT8TYPE</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00077">RangeLMN</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00031">RangeLMNTag</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00131">Scale16</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00132">Scale16XYZ</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00130">Scale8</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05027">SendCSABWPoint()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00054">SetGlobalOp</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00127">StartClip</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00082">STRLEN</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00125">SupportDEFG_E</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00123">SupportDEFG_S</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00045">TableTag</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00048">TAG_AToB0</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00049">TAG_AToB1</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00050">TAG_AToB2</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00120">TestingDEFG</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00134">TFunction8XYZ</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d3/d8/aug98_2dll32_2csprof_8h-source.html#l00012">TYPE_CIEBASEDDEF</a>, <a class="el" href="../../d3/d8/aug98_2dll32_2csprof_8h-source.html#l00013">TYPE_CIEBASEDDEFG</a>, <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00142">WARNING</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04401">WriteByteString()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04441">WriteFixed()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00081">WriteHex</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04351">WriteHexBuffer()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00080">WriteInt</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04422">WriteInt2ByteString()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04573">WriteNewLineObject()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l04381">WriteStringToken()</a>.
<p>
Referenced by <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01502">GetPS2CSA_DEFG_Intent()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00464">InternalGetPS2ColorSpaceArray()</a>.
<p>
<pre class="fragment"><div>01903 {
01904     <a class="code" href="../../d3/d0/structtagLUT16TYPE.html">PLUT16TYPE</a> pLut;
01905     PTAGDATA   pTagData;
01906     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>      pLineStart, pStart = pBuffer;
01907     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>      pTable;
01908     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      i, j, k, dwPCS, dwDev, dwIndex, dwTag, dwLutSig, SecondGrids, dwSize;
01909     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      nInputCh, nOutputCh, nGrids, nInputTable, nOutputTable, nNumbers;
01910     <a class="code" href="../../d2/d9/ps2_8c.html#a55">FIX_16_16</a>  afxIlluminantWP[3];
01911     <a class="code" href="../../d2/d9/ps2_8c.html#a55">FIX_16_16</a>  afxMediaWP[3];
01912     <span class="keywordtype">char</span>       pPublicArrayName[5];
01913 
01914     <span class="comment">//</span>
01915     <span class="comment">// Make sure required tags exist</span>
01916     <span class="comment">//</span>
01917 
01918     <span class="keywordflow">switch</span> (dwIntent)
01919     {
01920     <span class="keywordflow">case</span> INTENT_PERCEPTUAL:
01921         dwTag = <a class="code" href="../../d2/d9/ps2_8c.html#a22">TAG_AToB0</a>;
01922         <span class="keywordflow">break</span>;
01923 
01924     <span class="keywordflow">case</span> INTENT_RELATIVE_COLORIMETRIC:
01925         dwTag = <a class="code" href="../../d2/d9/ps2_8c.html#a23">TAG_AToB1</a>;
01926         <span class="keywordflow">break</span>;
01927 
01928     <span class="keywordflow">case</span> INTENT_SATURATION:
01929         dwTag = <a class="code" href="../../d2/d9/ps2_8c.html#a24">TAG_AToB2</a>;
01930         <span class="keywordflow">break</span>;
01931 
01932     <span class="keywordflow">case</span> INTENT_ABSOLUTE_COLORIMETRIC:
01933         dwTag = <a class="code" href="../../d2/d9/ps2_8c.html#a23">TAG_AToB1</a>;
01934         <span class="keywordflow">break</span>;
01935 
01936     <span class="keywordflow">default</span>:
01937         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Invalid intent passed to GetPS2CSA_DEFG: %d\n"</span>), dwIntent));
01938         SetLastError(ERROR_INVALID_PARAMETER);
01939         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01940     }
01941 
01942     <span class="keywordflow">if</span> (! <a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, dwTag, &amp;dwIndex))
01943     {
01944         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"AToB%d tag not present to create DEF(G) CSA\n"</span>), dwIntent));
01945         SetLastError(ERROR_TAG_NOT_PRESENT);
01946         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01947     }
01948 
01949     <span class="comment">//</span>
01950     <span class="comment">// Check if we can generate the CSA</span>
01951     <span class="comment">// Required  tags is AToBi, where i is the rendering intent</span>
01952     <span class="comment">//</span>
01953 
01954     dwPCS = <a class="code" href="../../d2/d9/ps2_8c.html#a40">GetCPConnSpace</a>(pProfile);
01955     dwDev = <a class="code" href="../../d2/d9/ps2_8c.html#a41">GetCPDevSpace</a>(pProfile);
01956 
01957     <span class="keywordflow">if</span> ((dwType == <a class="code" href="../../d2/d9/aug98_2dll32_2csprof_8h.html#a0">TYPE_CIEBASEDDEF</a>  &amp;&amp; dwDev != SPACE_RGB) ||
01958         (dwType == <a class="code" href="../../d2/d9/aug98_2dll32_2csprof_8h.html#a1">TYPE_CIEBASEDDEFG</a> &amp;&amp; dwDev != SPACE_CMYK))
01959     {
01960         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"RGB profile &amp; requesting CMYK CSA or vice versa\n"</span>)));
01961         SetLastError(ERROR_TAG_NOT_PRESENT);
01962         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01963     }
01964 
01965     pTagData = (PTAGDATA)(pProfile + <span class="keyword">sizeof</span>(PROFILEHEADER) + <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) +
01966                dwIndex * <span class="keyword">sizeof</span>(TAGDATA));
01967 
01968     pLut = (<a class="code" href="../../d3/d0/structtagLUT16TYPE.html">PLUT16TYPE</a>)(pProfile + FIX_ENDIAN(pTagData-&gt;dwOffset));
01969 
01970     dwLutSig = FIX_ENDIAN(pLut-&gt;<a class="code" href="../../d3/d0/structtagLUT16TYPE.html#o0">dwSignature</a>);
01971 
01972     <span class="keywordflow">if</span> (((dwPCS != SPACE_Lab) &amp;&amp; (dwPCS != SPACE_XYZ)) ||
01973         ((dwLutSig != <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>) &amp;&amp; (dwLutSig != <a class="code" href="../../d2/d9/ps2_8c.html#a38">LUT16_TYPE</a>)))
01974     {
01975         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Invalid color space - unable to create DEF(G) CSA\n"</span>)));
01976         SetLastError(ERROR_INVALID_PROFILE);
01977         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01978     }
01979 
01980     <span class="comment">//</span>
01981     <span class="comment">// Estimate size required to hold the CSA</span>
01982     <span class="comment">//</span>
01983 
01984     (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a219">GetCLUTInfo</a>(dwLutSig, (PBYTE)pLut, &amp;nInputCh, &amp;nOutputCh, &amp;nGrids,
01985                 &amp;nInputTable, &amp;nOutputTable, NULL);
01986 
01987     <span class="comment">//</span>
01988     <span class="comment">// Calculate size of buffer needed</span>
01989     <span class="comment">//</span>
01990 
01991     <span class="keywordflow">if</span> (dwType == <a class="code" href="../../d2/d9/aug98_2dll32_2csprof_8h.html#a1">TYPE_CIEBASEDDEFG</a>)
01992     {
01993         dwSize = nOutputCh * nGrids * nGrids * nGrids * nGrids * 2;
01994     }
01995     <span class="keywordflow">else</span>
01996     {
01997         dwSize = nOutputCh * nGrids * nGrids * nGrids * 2;
01998     }
01999 
02000     dwSize = dwSize +
02001         nInputCh * nInputTable * 6 +
02002         nOutputCh * nOutputTable * 6 +      <span class="comment">// Number of INT bytes</span>
02003         nInputCh * (<a class="code" href="../../d2/d9/ps2_8c.html#a46">STRLEN</a>(IndexArray) +
02004                     <a class="code" href="../../d2/d9/ps2_8c.html#a46">STRLEN</a>(StartClip) +
02005                     <a class="code" href="../../d2/d9/ps2_8c.html#a46">STRLEN</a>(EndClip)) +
02006         nOutputCh * (<a class="code" href="../../d2/d9/ps2_8c.html#a46">STRLEN</a>(IndexArray) +
02007                      <a class="code" href="../../d2/d9/ps2_8c.html#a46">STRLEN</a>(StartClip) +
02008                      <a class="code" href="../../d2/d9/ps2_8c.html#a46">STRLEN</a>(EndClip)) +
02009         4096;                               <span class="comment">// + other PS stuff</span>
02010 
02011     <span class="comment">//</span>
02012     <span class="comment">// Add space for new line.</span>
02013     <span class="comment">//</span>
02014 
02015     dwSize += (((dwSize) / <a class="code" href="../../d2/d9/ps2_8c.html#a0">MAX_LINELEN</a>) + 1) * <a class="code" href="../../d2/d9/ps2_8c.html#a46">STRLEN</a>(NewLine);
02016 
02017     <span class="keywordflow">if</span> (! pBuffer)
02018     {
02019         *pcbSize = dwSize;
02020         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
02021     }
02022     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*pcbSize &lt; dwSize)
02023     {
02024         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Buffer too small to get DEFG CSA\n"</span>)));
02025         SetLastError(ERROR_INSUFFICIENT_BUFFER);
02026         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
02027     }
02028 
02029     <span class="comment">//</span>
02030     <span class="comment">// Get info about Illuminant White Point from the header</span>
02031     <span class="comment">//</span>
02032 
02033     (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a191">GetCPWhitePoint</a>(pProfile, afxIlluminantWP);
02034 
02035     <span class="comment">//</span>
02036     <span class="comment">// Support absolute whitePoint</span>
02037     <span class="comment">//</span>
02038 
02039     (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a209">GetMediaWP</a>(pProfile, dwIntent, afxIlluminantWP, afxMediaWP);
02040 
02041     <span class="comment">//</span>
02042     <span class="comment">// Testing CieBasedDEFG support</span>
02043     <span class="comment">//</span>
02044 
02045     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, TestingDEFG);
02046 
02047     <span class="comment">//</span>
02048     <span class="comment">// Create global data</span>
02049     <span class="comment">//</span>
02050 
02051     <a class="code" href="../../d2/d9/ps2_8c.html#a217">GetPublicArrayName</a>(dwTag, pPublicArrayName);
02052 
02053     <span class="keywordflow">if</span> (dwType == <a class="code" href="../../d2/d9/aug98_2dll32_2csprof_8h.html#a1">TYPE_CIEBASEDDEFG</a>)
02054     {
02055         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, CieBasedDEFGBegin);
02056     }
02057     <span class="keywordflow">else</span>
02058     {
02059         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, CieBasedDEFBegin);
02060     }
02061 
02062     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a220">EnableGlobalDict</a>(pBuffer);
02063     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, SupportDEFG_S);
02064     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a221">BeginGlobalDict</a>(pBuffer);
02065 
02066     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a215">CreateInputArray</a>(pBuffer, nInputCh, nInputTable,
02067                  pPublicArrayName, dwLutSig, (PBYTE)pLut, *pbBinary, NULL);
02068 
02069     <span class="keywordflow">if</span> (dwType == <a class="code" href="../../d2/d9/aug98_2dll32_2csprof_8h.html#a1">TYPE_CIEBASEDDEFG</a>)
02070     {
02071         i = nInputTable * nInputCh +
02072             nGrids * nGrids * nGrids * nGrids * nOutputCh;
02073     }
02074     <span class="keywordflow">else</span>
02075     {
02076         i = nInputTable * nInputCh +
02077             nGrids * nGrids * nGrids * nOutputCh;
02078     }
02079     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a216">CreateOutputArray</a>(pBuffer, nOutputCh, nOutputTable, i,
02080                  pPublicArrayName, dwLutSig, (PBYTE)pLut, *pbBinary, NULL);
02081 
02082     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, EndOp);
02083     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, SupportDEFG_E);
02084     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, SetGlobalOp);
02085     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, SupportDEFG_S);
02086 
02087     <span class="comment">//</span>
02088     <span class="comment">// Start creating the ColorSpace</span>
02089     <span class="comment">//</span>
02090 
02091     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, BeginArray);   <span class="comment">// Begin array</span>
02092 
02093     <span class="comment">//</span>
02094     <span class="comment">// /CIEBasedDEF(G)</span>
02095     <span class="comment">//</span>
02096 
02097     <span class="keywordflow">if</span> (dwType == <a class="code" href="../../d2/d9/aug98_2dll32_2csprof_8h.html#a1">TYPE_CIEBASEDDEFG</a>)
02098     {
02099         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, CIEBasedDEFGTag);
02100     }
02101     <span class="keywordflow">else</span>
02102     {
02103         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, CIEBasedDEFTag);
02104     }
02105 
02106     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginDict);    <span class="comment">// Begin dictionary</span>
02107 
02108     <span class="comment">//</span>
02109     <span class="comment">// /BlackPoint &amp; /WhitePoint</span>
02110     <span class="comment">//</span>
02111 
02112     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a208">SendCSABWPoint</a>(pBuffer, dwIntent, afxIlluminantWP, afxMediaWP);
02113 
02114     <span class="comment">//</span>
02115     <span class="comment">// /DecodeDEF(G)</span>
02116     <span class="comment">//</span>
02117 
02118     pLineStart = pBuffer;
02119 
02120     <span class="keywordflow">if</span> (dwType == <a class="code" href="../../d2/d9/aug98_2dll32_2csprof_8h.html#a1">TYPE_CIEBASEDDEFG</a>)
02121     {
02122         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, DecodeDEFGTag);
02123     }
02124     <span class="keywordflow">else</span>
02125     {
02126         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, DecodeDEFTag);
02127     }
02128 
02129     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
02130     <span class="keywordflow">for</span> (i=0; i&lt;nInputCh; i++)
02131     {
02132         pLineStart = pBuffer;
02133 
02134         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, BeginFunction);
02135         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, StartClip);
02136         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, InputArray);
02137         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, pPublicArrayName);
02138         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, i);
02139 
02140         <span class="keywordflow">if</span> (! *pbBinary)               <span class="comment">// Output ASCII</span>
02141         {
02142             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IndexArray);
02143         }
02144         <span class="keywordflow">else</span>
02145         {                               <span class="comment">// Output BINARY</span>
02146             <span class="keywordflow">if</span> (dwLutSig == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>)
02147             {
02148                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IndexArray);
02149             }
02150             <span class="keywordflow">else</span>
02151             {
02152                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IndexArray16b);
02153             }
02154         }
02155         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, (dwLutSig == LUT8_TYPE) ? Scale8 : Scale16);
02156         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndClip);
02157         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndFunction);
02158     }
02159     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
02160 
02161     <span class="comment">//</span>
02162     <span class="comment">// /Table</span>
02163     <span class="comment">//</span>
02164 
02165     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, TableTag);
02166     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
02167 
02168     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, nGrids);  <span class="comment">// Send down Nh</span>
02169     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, nGrids);  <span class="comment">// Send down Ni</span>
02170     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, nGrids);  <span class="comment">// Send down Nj</span>
02171     nNumbers = nGrids * nGrids * nOutputCh;
02172     SecondGrids = 1;
02173 
02174     <span class="keywordflow">if</span> (dwType == <a class="code" href="../../d2/d9/aug98_2dll32_2csprof_8h.html#a1">TYPE_CIEBASEDDEFG</a>)
02175     {
02176         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a> (pBuffer, nGrids);  <span class="comment">// Send down Nk</span>
02177         SecondGrids = nGrids;
02178     }
02179     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, BeginArray);
02180 
02181     <span class="keywordflow">for</span> (i=0; i&lt;nGrids; i++)        <span class="comment">// Nh strings should be sent</span>
02182     {
02183         <span class="keywordflow">if</span> (dwType == <a class="code" href="../../d2/d9/aug98_2dll32_2csprof_8h.html#a1">TYPE_CIEBASEDDEFG</a>)
02184         {
02185             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, BeginArray);
02186         }
02187         <span class="keywordflow">for</span> (k=0; k&lt;SecondGrids; k++)
02188         {
02189             pLineStart = pBuffer;
02190             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
02191             <span class="keywordflow">if</span> (dwLutSig == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>)
02192             {
02193                 pTable = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)(((<a class="code" href="../../d4/d0/structtagLUT8TYPE.html">PLUT8TYPE</a>)pLut)-&gt;data) +
02194                     nInputTable * nInputCh +
02195                     nNumbers * (i * SecondGrids + k);
02196             }
02197             <span class="keywordflow">else</span>
02198             {
02199                 pTable = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)(((<a class="code" href="../../d3/d0/structtagLUT16TYPE.html">PLUT16TYPE</a>)pLut)-&gt;data) +
02200                     2 * nInputTable * nInputCh +
02201                     2 * nNumbers * (i * SecondGrids + k);
02202             }
02203 
02204             <span class="keywordflow">if</span> (! *pbBinary)           <span class="comment">// Output ASCII</span>
02205             {
02206                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginString);
02207                 <span class="keywordflow">if</span> (dwLutSig == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>)
02208                 {
02209                     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a227">WriteHexBuffer</a>(pBuffer, pTable, pLineStart, nNumbers);
02210                 }
02211                 <span class="keywordflow">else</span>
02212                 {
02213                     <span class="keywordflow">for</span> (j=0; j&lt;nNumbers; j++)
02214                     {
02215                         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a45">WriteHex</a>(pBuffer, FIX_ENDIAN16(*((PWORD)pTable)) / 256);
02216                         pTable += <span class="keyword">sizeof</span>(WORD);
02217 
02218                         <span class="keywordflow">if</span> (((<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) (pBuffer - pLineStart)) &gt; <a class="code" href="../../d2/d9/ps2_8c.html#a0">MAX_LINELEN</a>)
02219                         {
02220                             pLineStart = pBuffer;
02221                             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
02222                         }
02223                     }
02224                 }
02225                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndString);
02226             }
02227             <span class="keywordflow">else</span>
02228             {                           <span class="comment">// Output BINARY</span>
02229                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a228">WriteStringToken</a>(pBuffer, 143, nNumbers);
02230                 <span class="keywordflow">if</span> (dwLutSig == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>)
02231                     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a229">WriteByteString</a>(pBuffer, pTable, nNumbers);
02232                 <span class="keywordflow">else</span>
02233                     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a230">WriteInt2ByteString</a>(pBuffer, pTable, nNumbers);
02234             }
02235             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a> (pBuffer, NewLine);
02236         }
02237         <span class="keywordflow">if</span> (dwType == <a class="code" href="../../d2/d9/aug98_2dll32_2csprof_8h.html#a1">TYPE_CIEBASEDDEFG</a>)
02238         {
02239             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
02240         }
02241     }
02242     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
02243     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray); <span class="comment">// End array</span>
02244 
02245     <span class="comment">//</span>
02246     <span class="comment">// /DecodeABC</span>
02247     <span class="comment">//</span>
02248 
02249     pLineStart = pBuffer;
02250     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, DecodeABCTag);
02251     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
02252     <span class="keywordflow">for</span> (i=0; i&lt;nOutputCh; i++)
02253     {
02254         pLineStart = pBuffer;
02255 
02256         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, BeginFunction);
02257         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, Clip01);
02258         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, OutputArray);
02259         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, pPublicArrayName);
02260         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, i);
02261 
02262         <span class="keywordflow">if</span> (! *pbBinary)
02263         {
02264             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
02265 
02266             <span class="keywordflow">if</span> (dwLutSig == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>)
02267             {
02268                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, TFunction8XYZ);
02269             }
02270             <span class="keywordflow">else</span>
02271             {
02272                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IndexArray);
02273                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, Scale16XYZ);
02274             }
02275         }
02276         <span class="keywordflow">else</span>
02277         {
02278             <span class="keywordflow">if</span> (dwLutSig == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>)
02279             {
02280                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, TFunction8XYZ);
02281             }
02282             <span class="keywordflow">else</span>
02283             {
02284                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IndexArray16b);
02285                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, Scale16XYZ);
02286             }
02287         }
02288 
02289         <span class="comment">//</span>
02290         <span class="comment">// Now, We get CieBasedXYZ output. Output range 0 --&gt; 1.99997</span>
02291         <span class="comment">// If the connection space is absolute XYZ, We need to convert</span>
02292         <span class="comment">// from relative XYZ to absolute XYZ.</span>
02293         <span class="comment">//</span>
02294 
02295         <span class="keywordflow">if</span> ((dwPCS == SPACE_XYZ) &amp;&amp; (dwIntent == INTENT_ABSOLUTE_COLORIMETRIC))
02296         {
02297             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a231">WriteFixed</a>(pBuffer, <a class="code" href="../../d2/d9/ps2_8c.html#a9">FIX_DIV</a>(afxMediaWP[i], afxIlluminantWP[i]));
02298             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, MulOp);
02299         }
02300         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dwPCS == SPACE_Lab)
02301         {
02302             <span class="comment">//</span>
02303             <span class="comment">// If the connection space is Lab, We need to convert XYZ to Lab</span>
02304             <span class="comment">//</span>
02305 
02306             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, DecodeABCLab[i]);
02307         }
02308         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndFunction);
02309     }
02310     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
02311 
02312     <span class="keywordflow">if</span> (dwPCS == SPACE_Lab)
02313     {
02314         <span class="comment">//</span>
02315         <span class="comment">// /MatrixABC</span>
02316         <span class="comment">//</span>
02317 
02318         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, MatrixABCTag);
02319         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, MatrixABCLab);
02320 
02321         <span class="comment">//</span>
02322         <span class="comment">// /DecodeLMN</span>
02323         <span class="comment">//</span>
02324 
02325         pLineStart = pBuffer;
02326         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, DecodeLMNTag);
02327         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
02328         <span class="keywordflow">for</span> (i=0; i&lt;3; i++)
02329         {
02330             pLineStart = pBuffer;
02331 
02332             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, BeginFunction);
02333             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, DecodeLMNLab);
02334             <span class="keywordflow">if</span> (dwIntent == INTENT_ABSOLUTE_COLORIMETRIC)
02335             {
02336                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a231">WriteFixed</a>(pBuffer, afxMediaWP[i]);
02337             }
02338             <span class="keywordflow">else</span>
02339             {
02340                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a231">WriteFixed</a>(pBuffer, afxIlluminantWP[i]);
02341             }
02342             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, MulOp);
02343             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndFunction);
02344         }
02345         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
02346     }
02347     <span class="keywordflow">else</span>
02348     {
02349         <span class="comment">//</span>
02350         <span class="comment">// /RangeLMN</span>
02351         <span class="comment">//</span>
02352 
02353         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, RangeLMNTag);
02354         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, RangeLMN);
02355     }
02356 
02357     <span class="comment">//</span>
02358     <span class="comment">// End dictionary definition</span>
02359     <span class="comment">//</span>
02360 
02361     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, EndDict);
02362     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
02363 
02364     <span class="keywordflow">if</span> (dwType == <a class="code" href="../../d2/d9/aug98_2dll32_2csprof_8h.html#a1">TYPE_CIEBASEDDEFG</a>)
02365     {
02366         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, CieBasedDEFGEnd);
02367     }
02368     <span class="keywordflow">else</span>
02369     {
02370         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, CieBasedDEFEnd);
02371     }
02372 
02373     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, SupportDEFG_E);
02374 
02375     *pcbSize = (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) (pBuffer - pStart);
02376 
02377     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
02378 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a183" doxytag="ps2.c::GetPS2CSA_MONO_A" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL GetPS2CSA_MONO_A           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PBOOL&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l01279">1279</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00007">BeginArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00011">BeginDict</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00009">BeginFunction</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00071">CieBasedABegin</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00075">CieBasedAEnd</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00035">CIEBasedATag</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00106">tagCURVETYPE::data</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00084">DecodeA3</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00137">DecodeALab</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00039">DecodeATag</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00138">DecodeLMNLab</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04007">DoesCPTagExist()</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00008">EndArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00128">EndClip</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00012">EndDict</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00010">EndFunction</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00069">GetCPConnSpace</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04143">GetCPElementSize()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04074">GetCPWhitePoint()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05068">GetMediaWP()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00115">IndexArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00028">MatrixATag</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00021">MAX_LINELEN</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00105">tagCURVETYPE::nCount</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00063">NewLine</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a58">PCURVETYPE</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00077">RangeLMN</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00031">RangeLMNTag</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00131">Scale16</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05027">SendCSABWPoint()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00127">StartClip</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00082">STRLEN</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00046">TAG_GRAYTRC</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00142">WARNING</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04441">WriteFixed()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00080">WriteInt</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04573">WriteNewLineObject()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>.
<p>
Referenced by <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01253">GetPS2CSA_MONO()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00464">InternalGetPS2ColorSpaceArray()</a>.
<p>
<pre class="fragment"><div>01286 {
01287     <a class="code" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a> pData;
01288     PTAGDATA   pTagData;
01289     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>      pLineStart, pStart = pBuffer;
01290     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>      pTable;
01291     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      i, dwPCS, nCount;
01292     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      dwIndex, dwSize;
01293     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      afxIlluminantWP[3];
01294     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      afxMediaWP[3];
01295 
01296     <span class="comment">//</span>
01297     <span class="comment">// Check if we can generate the CSA</span>
01298     <span class="comment">// Required tag is gray TRC</span>
01299     <span class="comment">//</span>
01300 
01301     <span class="keywordflow">if</span> (! <a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, TAG_GRAYTRC, &amp;dwIndex))
01302     {
01303         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Gray TRC tag not present to create MONO_A CSA\n"</span>)));
01304         SetLastError(ERROR_TAG_NOT_PRESENT);
01305         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01306     }
01307 
01308     dwPCS = <a class="code" href="../../d2/d9/ps2_8c.html#a40">GetCPConnSpace</a>(pProfile);
01309 
01310     (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a194">GetCPElementSize</a>(pProfile, dwIndex, &amp;dwSize);
01311 
01312     pTagData = (PTAGDATA)(pProfile + <span class="keyword">sizeof</span>(PROFILEHEADER) + <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) +
01313                dwIndex * <span class="keyword">sizeof</span>(TAGDATA));
01314 
01315     pData = (<a class="code" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>)(pProfile + FIX_ENDIAN(pTagData-&gt;dwOffset));
01316 
01317     nCount = FIX_ENDIAN(pData-&gt;<a class="code" href="../../d1/d2/structtagCURVETYPE.html#o2">nCount</a>);
01318 
01319     <span class="comment">//</span>
01320     <span class="comment">// Estimate size required to hold the CSA</span>
01321     <span class="comment">//</span>
01322 
01323     dwSize = nCount * 6 +               <span class="comment">// Number of INT elements</span>
01324         3 * (<a class="code" href="../../d2/d9/ps2_8c.html#a46">STRLEN</a>(IndexArray) +
01325              <a class="code" href="../../d2/d9/ps2_8c.html#a46">STRLEN</a>(StartClip) +
01326              <a class="code" href="../../d2/d9/ps2_8c.html#a46">STRLEN</a>(EndClip)) +
01327         2048;                           <span class="comment">// + other PS stuff</span>
01328 
01329     <span class="comment">//</span>
01330     <span class="comment">// Add space for new line.</span>
01331     <span class="comment">//</span>
01332 
01333     dwSize += (((dwSize) / <a class="code" href="../../d2/d9/ps2_8c.html#a0">MAX_LINELEN</a>) + 1) * <a class="code" href="../../d2/d9/ps2_8c.html#a46">STRLEN</a>(NewLine);
01334 
01335     <span class="keywordflow">if</span> (! pBuffer)
01336     {
01337         *pcbSize = dwSize;
01338         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01339     }
01340     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*pcbSize &lt; dwSize)
01341     {
01342         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Buffer too small to get MONO_A CSA\n"</span>)));
01343         SetLastError(ERROR_INSUFFICIENT_BUFFER);
01344         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01345     }
01346 
01347     <span class="comment">//</span>
01348     <span class="comment">// Get info about Illuminant White Point from the header</span>
01349     <span class="comment">//</span>
01350 
01351     (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a191">GetCPWhitePoint</a>(pProfile, afxIlluminantWP);
01352 
01353     <span class="comment">//</span>
01354     <span class="comment">// Support absolute whitePoint</span>
01355     <span class="comment">//</span>
01356 
01357     (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a209">GetMediaWP</a>(pProfile, dwIntent, afxIlluminantWP, afxMediaWP);
01358 
01359     <span class="comment">//</span>
01360     <span class="comment">// Start creating the ColorSpace</span>
01361     <span class="comment">//</span>
01362 
01363     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, CieBasedABegin);
01364 
01365     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, BeginArray);   <span class="comment">// Begin array</span>
01366 
01367     <span class="comment">//</span>
01368     <span class="comment">// /CIEBasedA</span>
01369     <span class="comment">//</span>
01370 
01371     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, CIEBasedATag); <span class="comment">// Create entry</span>
01372     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginDict);    <span class="comment">// Begin dictionary</span>
01373 
01374     <span class="comment">//</span>
01375     <span class="comment">// Send /BlackPoint &amp; /WhitePoint</span>
01376     <span class="comment">//</span>
01377 
01378     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a208">SendCSABWPoint</a>(pBuffer, dwIntent, afxIlluminantWP, afxMediaWP);
01379 
01380     <span class="comment">//</span>
01381     <span class="comment">// /DecodeA</span>
01382     <span class="comment">//</span>
01383 
01384     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
01385     pLineStart = pBuffer;
01386 
01387     <span class="keywordflow">if</span> (nCount != 0)
01388     {
01389         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, DecodeATag);
01390         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
01391 
01392         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginFunction);
01393 
01394         pTable = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)(pData-&gt;<a class="code" href="../../d1/d2/structtagCURVETYPE.html#o3">data</a>);
01395 
01396         <span class="keywordflow">if</span> (nCount == 1)                <span class="comment">// Gamma supplied in ui16 format</span>
01397         {
01398             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, FIX_ENDIAN16(*((PWORD)pTable)));
01399             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, DecodeA3);
01400 
01401             <span class="comment">//</span>
01402             <span class="comment">// If the PCS is Lab, we need to convert Lab to XYZ</span>
01403             <span class="comment">// Now, the range is from 0 --&gt; 0.99997.</span>
01404             <span class="comment">// Actually, the conversion from Lab to XYZ is not needed</span>
01405             <span class="comment">//</span>
01406 
01407             <span class="keywordflow">if</span> (dwPCS == SPACE_Lab)
01408             {
01409                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, DecodeALab);
01410                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, DecodeLMNLab);
01411             }
01412         }
01413         <span class="keywordflow">else</span>
01414         {
01415             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, StartClip);
01416             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
01417             <span class="keywordflow">for</span> (i=0; i&lt;nCount; i++)
01418             {
01419                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, FIX_ENDIAN16(*((PWORD)pTable)));
01420                 pTable += <span class="keyword">sizeof</span>(WORD);
01421                 <span class="keywordflow">if</span> (((<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) (pBuffer - pLineStart)) &gt; <a class="code" href="../../d2/d9/ps2_8c.html#a0">MAX_LINELEN</a>)
01422                 {
01423                     pLineStart = pBuffer;
01424                     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a> (pBuffer, NewLine);
01425                 }
01426             }
01427             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
01428             pLineStart = pBuffer;
01429             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
01430 
01431             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IndexArray);
01432             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, Scale16);
01433 
01434             <span class="comment">//</span>
01435             <span class="comment">// If the PCS is Lab, we need to convert Lab to XYZ</span>
01436             <span class="comment">// Now, the range is from 0 --&gt; .99997.</span>
01437             <span class="comment">// Actually, the conversion from Lab to XYZ is not needed.</span>
01438             <span class="comment">//</span>
01439 
01440             <span class="keywordflow">if</span> (dwPCS == SPACE_Lab)
01441             {
01442                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, DecodeALab);
01443                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, DecodeLMNLab);
01444             }
01445             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndClip);
01446         }
01447 
01448         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndFunction);
01449         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
01450     }
01451 
01452     <span class="comment">//</span>
01453     <span class="comment">// /MatrixA</span>
01454     <span class="comment">//</span>
01455 
01456     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, MatrixATag);
01457     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
01458     <span class="keywordflow">for</span> (i=0; i&lt;3; i++)
01459     {
01460         <span class="keywordflow">if</span> (dwIntent == INTENT_ABSOLUTE_COLORIMETRIC)
01461         {
01462             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a231">WriteFixed</a>(pBuffer, afxMediaWP[i]);
01463         }
01464         <span class="keywordflow">else</span>
01465         {
01466             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a231">WriteFixed</a>(pBuffer, afxIlluminantWP[i]);
01467         }
01468     }
01469     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
01470 
01471     <span class="comment">//</span>
01472     <span class="comment">// /RangeLMN</span>
01473     <span class="comment">//</span>
01474 
01475     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, RangeLMNTag);
01476     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, RangeLMN);
01477 
01478     <span class="comment">//</span>
01479     <span class="comment">// /End dictionary</span>
01480     <span class="comment">//</span>
01481 
01482     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndDict);  <span class="comment">// End dictionary definition</span>
01483     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
01484 
01485     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, CieBasedAEnd);
01486 
01487     *pcbSize = (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) (pBuffer - pStart);
01488 
01489     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01490 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a259" doxytag="ps2.c::GetPS2PreviewCRD" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL WINAPI GetPS2PreviewCRD           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HPROFILE&nbsp;</td>
          <td class="mdname" nowrap> <em>hDestProfile</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>HPROFILE&nbsp;</td>
          <td class="mdname" nowrap> <em>hTargetProfile</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dwIntent</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pBuffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap> <em>pcbSize</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPBOOL&nbsp;</td>
          <td class="mdname" nowrap> <em>pbBinary</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l06779">6779</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>.
<p>
<pre class="fragment"><div>06787 {
06788     PPROFOBJ pDestProfObj;
06789     PPROFOBJ pTargetProfObj;
06790 
06791     pDestProfObj = (PPROFOBJ)HDLTOPTR(hDestProfile);
06792     pTargetProfObj = (PPROFOBJ)HDLTOPTR(hTargetProfile);
06793 
06794 
06795     <span class="keywordflow">return</span> <a class="code" href="../../d2/d9/ps2_8c.html#a257">InternalGetPS2PreviewCRD</a>(pDestProfObj-&gt;pView, pTargetProfObj-&gt;pView, dwIntent, pBuffer, pcbSize, pbBinary);
06796 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a217" doxytag="ps2.c::GetPublicArrayName" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> GetPublicArrayName           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l02953">2953</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>.
<p>
Referenced by <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00186">CreateLutCRD()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00261">GetPS2CSA_DEFG()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01954">GetPS2PreviewColorRenderingDictionary()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>.
<p>
<pre class="fragment"><div>02957 {
02958     *((<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> *)pPublicArrayName) = dwIntentSig;
02959     pPublicArrayName[<span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)] = <span class="charliteral">'\0'</span>;
02960 
02961     <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) + 1;
02962 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a218" doxytag="ps2.c::GetRevCurve" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL GetRevCurve           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PWORD&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PWORD&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l03944">3944</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d3/d8/ps2_8c-source.html#l00106">tagCURVETYPE::data</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00105">tagCURVETYPE::nCount</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d2/d5/aug98_2dll32_2icm_8h-source.html#l00060">REVCURVE_RATIO</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l03788">CreateCRDRevArray()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l00358">CreateHostRevTRCInputTable()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00487">CreateMonoCRD()</a>, and <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00678">CreateRevArray()</a>.
<p>
<pre class="fragment"><div>03949 {
03950     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>       pTable;
03951     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>       nCount, dwStore, i, j;
03952     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>       dwBegin, dwEnd, dwTemp;
03953 
03954     nCount = FIX_ENDIAN(pData-&gt;<a class="code" href="../../d1/d2/structtagCURVETYPE.html#o2">nCount</a>);
03955     pTable = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>)pData-&gt;<a class="code" href="../../d1/d2/structtagCURVETYPE.html#o3">data</a>;
03956 
03957     <span class="keywordflow">for</span> (i=0; i&lt;nCount; i++)
03958     {
03959         pInput[i] = FIX_ENDIAN16(*((PWORD)pTable));
03960         pTable += <span class="keyword">sizeof</span>(WORD);
03961     }
03962 
03963     j = nCount * <a class="code" href="../../d1/d6/aug98_2dll32_2icm_8h.html#a32">REVCURVE_RATIO</a>;
03964     <span class="keywordflow">for</span> (i=0; i&lt;j; i++)
03965     {
03966         dwStore = i * 65535 / (j - 1);
03967         pOutput[i] = (dwStore &lt; 65535) ? (WORD) dwStore : 65535;
03968     }
03969 
03970     <span class="keywordflow">for</span> (i=0; i&lt;j; i++)
03971     {
03972         dwBegin = 0;
03973         dwEnd = nCount - 1;
03974         <span class="keywordflow">for</span> (;;)
03975         {
03976             <span class="keywordflow">if</span> ((dwEnd - dwBegin) &lt;= 1)
03977                 <span class="keywordflow">break</span>;
03978             dwTemp = (dwEnd + dwBegin) / 2;
03979             <span class="keywordflow">if</span> (pOutput[i] &lt; pInput[dwTemp])
03980                 dwEnd = dwTemp;
03981             <span class="keywordflow">else</span>
03982                 dwBegin = dwTemp;
03983         }
03984         <span class="keywordflow">if</span> (pOutput[i] &lt;= pInput[dwBegin])
03985         {
03986             dwStore = dwBegin;
03987         }
03988         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pOutput[i] &gt;= pInput[dwEnd])
03989         {
03990             dwStore = dwEnd;
03991         }
03992         <span class="keywordflow">else</span>
03993         {
03994             dwStore = (pInput[dwEnd] - pOutput[i]) / (pOutput[i] - pInput[dwBegin]);
03995             dwStore = (dwBegin * dwStore + dwEnd) / (dwStore + 1);
03996         }
03997 
03998         dwStore = dwStore * 65535 / (nCount - 1);
03999         pOutput[i] = (dwStore &lt; 65535) ? (WORD) dwStore : 65535;
04000     }
04001 
04002     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
04003 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a197" doxytag="ps2.c::GetTRCElementSize" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL GetTRCElementSize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04212">4212</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d3/d8/ps2_8c-source.html#l04007">DoesCPTagExist()</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04160">GetCPElementDataType()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04143">GetCPElementSize()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00067">SIG_CURVE_TYPE</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00877">CreateMatrixCRD()</a>, and <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l00284">GetTRCData()</a>.
<p>
<pre class="fragment"><div>04218 {
04219     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwDataType;
04220 
04221     <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, dwTag, pdwIndex) ||
04222         !<a class="code" href="../../d2/d9/ps2_8c.html#a195">GetCPElementDataType</a>(pProfile, *pdwIndex, &amp;dwDataType) ||
04223         !(dwDataType != <a class="code" href="../../d2/d9/ps2_8c.html#a39">SIG_CURVE_TYPE</a>) ||
04224         !<a class="code" href="../../d2/d9/ps2_8c.html#a194">GetCPElementSize</a>(pProfile, *pdwIndex, pdwSize))
04225     {
04226         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
04227     }
04228 
04229     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
04230 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a256" doxytag="ps2.c::InternalGetPS2ColorRenderingDictionary" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL InternalGetPS2ColorRenderingDictionary           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pProfile</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dwIntent</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pBuffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap> <em>pcbSize</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PBOOL&nbsp;</td>
          <td class="mdname" nowrap> <em>pbBinary</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00713">713</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d3/d8/ps2_8c-source.html#l00276">ASCII85DecodeBegin</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00277">ASCII85DecodeEnd</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04234">Ascii85Encode()</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03215">CreateLutCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03495">CreateMatrixCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02978">CreateMonoCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04007">DoesCPTagExist()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04055">DoesTRCAndColorantTagExist()</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04180">GetCPElementData()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04121">GetCPElementDataSize()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04160">GetCPElementDataType()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00059">TAG_BToA0</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00060">TAG_BToA1</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00061">TAG_BToA2</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00055">TAG_CRDINTENT0</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00056">TAG_CRDINTENT1</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00057">TAG_CRDINTENT2</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00058">TAG_CRDINTENT3</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00046">TAG_GRAYTRC</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00142">WARNING</a>.
<p>
Referenced by <a class="el" href="../../d1/d6/w32_2ntgdi_2icm_2mscms_2profile_8c-source.html#l02027">GetPS2ColorRenderingDictionary()</a>.
<p>
<pre class="fragment"><div>00720 {
00721     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwIndex, dwSize, dwDataType;
00722     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwCRDTag, dwBToATag;
00723     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>  bRc = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00724 
00725     <span class="keywordflow">switch</span> (dwIntent)
00726     {
00727     <span class="keywordflow">case</span> INTENT_PERCEPTUAL:
00728         dwCRDTag = <a class="code" href="../../d2/d9/ps2_8c.html#a29">TAG_CRDINTENT0</a>;
00729         dwBToATag = <a class="code" href="../../d2/d9/ps2_8c.html#a33">TAG_BToA0</a>;
00730         <span class="keywordflow">break</span>;
00731 
00732     <span class="keywordflow">case</span> INTENT_RELATIVE_COLORIMETRIC:
00733         dwCRDTag = <a class="code" href="../../d2/d9/ps2_8c.html#a30">TAG_CRDINTENT1</a>;
00734         dwBToATag = <a class="code" href="../../d2/d9/ps2_8c.html#a34">TAG_BToA1</a>;
00735         <span class="keywordflow">break</span>;
00736 
00737     <span class="keywordflow">case</span> INTENT_SATURATION:
00738         dwCRDTag = <a class="code" href="../../d2/d9/ps2_8c.html#a31">TAG_CRDINTENT2</a>;
00739         dwBToATag = <a class="code" href="../../d2/d9/ps2_8c.html#a35">TAG_BToA2</a>;
00740         <span class="keywordflow">break</span>;
00741 
00742     <span class="keywordflow">case</span> INTENT_ABSOLUTE_COLORIMETRIC:
00743         dwCRDTag = <a class="code" href="../../d2/d9/ps2_8c.html#a32">TAG_CRDINTENT3</a>;
00744         dwBToATag = <a class="code" href="../../d2/d9/ps2_8c.html#a34">TAG_BToA1</a>;
00745         <span class="keywordflow">break</span>;
00746 
00747     <span class="keywordflow">default</span>:
00748         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Invalid intent passed to GetPS2ColorRenderingDictionary: %d\n"</span>), dwIntent));
00749         SetLastError(ERROR_INVALID_PARAMETER);
00750         <span class="keywordflow">return</span> bRc;
00751     }
00752 
00753     <span class="keywordflow">if</span> (<a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, dwCRDTag, &amp;dwIndex))
00754     {
00755         (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a193">GetCPElementDataSize</a>(pProfile, dwIndex, &amp;dwSize);
00756 
00757         (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a195">GetCPElementDataType</a>(pProfile, dwIndex, &amp;dwDataType);
00758 
00759         <span class="keywordflow">if</span> (! *pbBinary &amp;&amp; dwDataType == 1)
00760         {
00761             <span class="comment">//</span>
00762             <span class="comment">// Profile has binary data, user asked for ASCII, so we have to</span>
00763             <span class="comment">// ASCII 85 encode it</span>
00764             <span class="comment">//</span>
00765 
00766             dwSize = dwSize * 5 / 4 + <span class="keyword">sizeof</span>(<a class="code" href="../../d2/d9/ps2_8c.html#a67">ASCII85DecodeBegin</a>) + <span class="keyword">sizeof</span>(<a class="code" href="../../d2/d9/ps2_8c.html#a68">ASCII85DecodeEnd</a>) + 2048;
00767         }
00768 
00769         <span class="keywordflow">if</span> (pBuffer)
00770         {
00771             <span class="keywordflow">if</span> (*pcbSize &gt;= dwSize)
00772             {
00773                 (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a196">GetCPElementData</a>(pProfile, dwIndex, pBuffer, &amp;dwSize);
00774 
00775                 <span class="keywordflow">if</span> (! *pbBinary &amp;&amp; dwDataType == 1)
00776                 {
00777                     dwSize = <a class="code" href="../../d2/d9/ps2_8c.html#a198">Ascii85Encode</a>(pBuffer, dwSize, *pcbSize);
00778                 }
00779                 bRc = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00780             }
00781             <span class="keywordflow">else</span>
00782             {
00783                 <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Buffer too small to get CRD\n"</span>)));
00784                 SetLastError(ERROR_INSUFFICIENT_BUFFER);
00785             }
00786         }
00787         <span class="keywordflow">else</span>
00788             bRc = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00789 
00790         *pcbSize = dwSize;
00791     }
00792     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, dwBToATag, &amp;dwIndex))
00793     {
00794         bRc = <a class="code" href="../../d2/d9/ps2_8c.html#a188">CreateLutCRD</a>(pProfile, dwIndex, pBuffer, pcbSize, dwIntent, *pbBinary);
00795     }
00796     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, TAG_GRAYTRC, &amp;dwIndex))
00797     {
00798         bRc = <a class="code" href="../../d2/d9/ps2_8c.html#a187">CreateMonoCRD</a>(pProfile, dwIndex, pBuffer, pcbSize, dwIntent);
00799     }
00800 <span class="preprocessor">#if !defined(KERNEL_MODE) || defined(USERMODE_DRIVER)</span>
00801 <span class="preprocessor"></span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d2/d9/ps2_8c.html#a190">DoesTRCAndColorantTagExist</a>(pProfile))
00802     {
00803         bRc = <a class="code" href="../../d2/d9/ps2_8c.html#a234">CreateMatrixCRD</a>(pProfile, pBuffer, pcbSize, dwIntent, *pbBinary);
00804     }
00805 <span class="preprocessor">#endif // !defined(KERNEL_MODE) || defined(USERMODE_DRIVER)</span>
00806 <span class="preprocessor"></span>    <span class="keywordflow">else</span>
00807     {
00808         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Profile doesn't have tags to create CRD\n"</span>)));
00809         SetLastError(ERROR_INVALID_PROFILE);
00810     }
00811 
00812     <span class="keywordflow">return</span> bRc;
00813 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a255" doxytag="ps2.c::InternalGetPS2ColorRenderingIntent" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL InternalGetPS2ColorRenderingIntent           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pProfile</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dwIntent</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pBuffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap> <em>pcbSize</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00612">612</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04007">DoesCPTagExist()</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04180">GetCPElementData()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04121">GetCPElementDataSize()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00051">TAG_PS2INTENT0</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00052">TAG_PS2INTENT1</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00053">TAG_PS2INTENT2</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00054">TAG_PS2INTENT3</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00142">WARNING</a>.
<p>
Referenced by <a class="el" href="../../d1/d6/w32_2ntgdi_2icm_2mscms_2profile_8c-source.html#l01887">GetPS2ColorRenderingIntent()</a>.
<p>
<pre class="fragment"><div>00618 {
00619     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwIndex, dwTag, dwSize;
00620     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>  bRc = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00621 
00622     <span class="keywordflow">switch</span> (dwIntent)
00623     {
00624     <span class="keywordflow">case</span> INTENT_PERCEPTUAL:
00625         dwTag = <a class="code" href="../../d2/d9/ps2_8c.html#a25">TAG_PS2INTENT0</a>;
00626         <span class="keywordflow">break</span>;
00627 
00628     <span class="keywordflow">case</span> INTENT_RELATIVE_COLORIMETRIC:
00629         dwTag = <a class="code" href="../../d2/d9/ps2_8c.html#a26">TAG_PS2INTENT1</a>;
00630         <span class="keywordflow">break</span>;
00631 
00632     <span class="keywordflow">case</span> INTENT_SATURATION:
00633         dwTag = <a class="code" href="../../d2/d9/ps2_8c.html#a27">TAG_PS2INTENT2</a>;
00634         <span class="keywordflow">break</span>;
00635 
00636     <span class="keywordflow">case</span> INTENT_ABSOLUTE_COLORIMETRIC:
00637         dwTag = <a class="code" href="../../d2/d9/ps2_8c.html#a28">TAG_PS2INTENT3</a>;
00638         <span class="keywordflow">break</span>;
00639 
00640     <span class="keywordflow">default</span>:
00641         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Invalid intent passed to GetPS2ColorRenderingIntent: %d\n"</span>), dwIntent));
00642         SetLastError(ERROR_INVALID_PARAMETER);
00643         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00644     }
00645 
00646     <span class="keywordflow">if</span> (<a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, dwTag, &amp;dwIndex))
00647     {
00648         (<span class="keywordtype">void</span>)<a class="code" href="../../d2/d9/ps2_8c.html#a193">GetCPElementDataSize</a>(pProfile, dwIndex, &amp;dwSize);
00649 
00650         <span class="keywordflow">if</span> (pBuffer)
00651         {
00652             <span class="keywordflow">if</span> (*pcbSize &gt;= dwSize + 1) <span class="comment">// for NULL terminating</span>
00653             {
00654                 bRc = <a class="code" href="../../d2/d9/ps2_8c.html#a196">GetCPElementData</a>(pProfile, dwIndex, pBuffer, &amp;dwSize);
00655             }
00656             <span class="keywordflow">else</span>
00657             {
00658                 <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Buffer too small to get CRI\n"</span>)));
00659                 SetLastError(ERROR_INSUFFICIENT_BUFFER);
00660             }
00661         }
00662         <span class="keywordflow">else</span>
00663             bRc = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00664 
00665         *pcbSize = dwSize;
00666     }
00667     <span class="keywordflow">else</span>
00668     {
00669         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"psi tag not present for intent %d in profile\n"</span>), dwIntent));
00670         SetLastError(ERROR_TAG_NOT_PRESENT);
00671     }
00672 
00673     <span class="comment">//</span>
00674     <span class="comment">// NULL terminate</span>
00675     <span class="comment">//</span>
00676 
00677     <span class="keywordflow">if</span> (bRc)
00678     {
00679         <span class="keywordflow">if</span> (pBuffer)
00680         {
00681             pBuffer[*pcbSize] = <span class="charliteral">'\0'</span>;
00682         }
00683         (*pcbSize)++;
00684     }
00685 
00686     <span class="keywordflow">return</span> bRc;
00687 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a254" doxytag="ps2.c::InternalGetPS2ColorSpaceArray" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL InternalGetPS2ColorSpaceArray           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pProfile</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dwIntent</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dwCSAType</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pBuffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap> <em>pcbSize</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>LPBOOL&nbsp;</td>
          <td class="mdname" nowrap> <em>pbBinary</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00464">464</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01172">GetCSAFromProfile()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01519">GetPS2CSA_ABC()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01895">GetPS2CSA_DEFG()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01279">GetPS2CSA_MONO_A()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00063">NewLine</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00124">NotSupportDEFG_S</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00125">SupportDEFG_E</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d3/d8/aug98_2dll32_2csprof_8h-source.html#l00012">TYPE_CIEBASEDDEF</a>, <a class="el" href="../../d3/d8/aug98_2dll32_2csprof_8h-source.html#l00013">TYPE_CIEBASEDDEFG</a>, <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00142">WARNING</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04573">WriteNewLineObject()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>.
<p>
Referenced by <a class="el" href="../../d1/d6/w32_2ntgdi_2icm_2mscms_2profile_8c-source.html#l01744">GetPS2ColorSpaceArray()</a>.
<p>
<pre class="fragment"><div>00472 {
00473     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwInpBufSize;
00474     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>  bRc;
00475 
00476     <span class="comment">//</span>
00477     <span class="comment">// If profile has a CSA tag, get it directly</span>
00478     <span class="comment">//</span>
00479 
00480     bRc = <a class="code" href="../../d2/d9/ps2_8c.html#a182">GetCSAFromProfile</a>(pProfile, dwIntent, dwCSAType, pBuffer,
00481               pcbSize, pbBinary);
00482 
00483     <span class="keywordflow">if</span> (! bRc &amp;&amp; (GetLastError() != ERROR_INSUFFICIENT_BUFFER))
00484     {
00485         <span class="comment">//</span>
00486         <span class="comment">// Create a CSA from the profile data</span>
00487         <span class="comment">//</span>
00488 
00489         <span class="keywordflow">switch</span> (dwCSAType)
00490         {
00491         <span class="keywordflow">case</span> CSA_ABC:
00492             bRc = <a class="code" href="../../d2/d9/ps2_8c.html#a184">GetPS2CSA_ABC</a>(pProfile, pBuffer, pcbSize,
00493                       dwIntent, pbBinary, FALSE);
00494             <span class="keywordflow">break</span>;
00495 
00496         <span class="keywordflow">case</span> CSA_DEF:
00497             bRc = <a class="code" href="../../d2/d9/ps2_8c.html#a186">GetPS2CSA_DEFG</a>(pProfile, pBuffer, pcbSize, dwIntent,
00498                       TYPE_CIEBASEDDEF, pbBinary);
00499             <span class="keywordflow">break</span>;
00500 
00501         <span class="keywordflow">case</span> CSA_RGB:
00502         <span class="keywordflow">case</span> CSA_Lab:
00503 
00504             dwInpBufSize = *pcbSize;
00505 
00506             <span class="comment">//</span>
00507             <span class="comment">// We get a DEF CSA followed by an ABC CSA and set it up so that</span>
00508             <span class="comment">// on PS interpreters that do not support the DEF CSA, the ABC one</span>
00509             <span class="comment">// is active</span>
00510             <span class="comment">//</span>
00511 
00512             bRc = <a class="code" href="../../d2/d9/ps2_8c.html#a186">GetPS2CSA_DEFG</a>(pProfile, pBuffer, pcbSize, dwIntent,
00513                       TYPE_CIEBASEDDEF, pbBinary);
00514 
00515             <span class="keywordflow">if</span> (bRc)
00516             {
00517                 <span class="comment">//</span>
00518                 <span class="comment">// Create CieBasedABC for printers that do not support CieBasedDEF</span>
00519                 <span class="comment">//</span>
00520 
00521                 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> cbNewSize = 0;
00522                 <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pNewBuffer;
00523                 <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pOldBuffer;
00524 
00525                 <span class="keywordflow">if</span> (pBuffer)
00526                 {
00527                     pNewBuffer = pBuffer + *pcbSize;
00528                     pOldBuffer = pNewBuffer;
00529                     pNewBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pNewBuffer, NewLine);
00530                     <span class="keywordflow">if</span> (dwCSAType == CSA_Lab)
00531                     {
00532                         pNewBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pNewBuffer, NotSupportDEFG_S);
00533                     }
00534                     cbNewSize = dwInpBufSize - (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(pNewBuffer - pBuffer);
00535                 }
00536                 <span class="keywordflow">else</span>
00537                 {
00538                     pNewBuffer = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00539                 }
00540 
00541                 bRc = <a class="code" href="../../d2/d9/ps2_8c.html#a184">GetPS2CSA_ABC</a>(pProfile, pNewBuffer, &amp;cbNewSize,
00542                           dwIntent, pbBinary, TRUE);
00543 
00544                 <span class="keywordflow">if</span> (pBuffer)
00545                 {
00546                     pNewBuffer += cbNewSize;
00547                     <span class="keywordflow">if</span> (dwCSAType == CSA_Lab)
00548                     {
00549                         pNewBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pNewBuffer, SupportDEFG_E);
00550                     }
00551                     *pcbSize += (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) (pNewBuffer - pOldBuffer);
00552                 }
00553                 <span class="keywordflow">else</span>
00554                 {
00555                     *pcbSize += cbNewSize;
00556                 }
00557 
00558             }
00559             <span class="keywordflow">else</span>
00560             {
00561                 *pcbSize = dwInpBufSize;
00562 
00563                 bRc = <a class="code" href="../../d2/d9/ps2_8c.html#a184">GetPS2CSA_ABC</a>(pProfile, pBuffer, pcbSize, dwIntent, pbBinary, FALSE);
00564             }
00565 
00566             <span class="keywordflow">break</span>;
00567 
00568         <span class="keywordflow">case</span> CSA_CMYK:
00569         <span class="keywordflow">case</span> CSA_DEFG:
00570             bRc = <a class="code" href="../../d2/d9/ps2_8c.html#a186">GetPS2CSA_DEFG</a>(pProfile, pBuffer, pcbSize, dwIntent,
00571                       TYPE_CIEBASEDDEFG, pbBinary);
00572             <span class="keywordflow">break</span>;
00573 
00574         <span class="keywordflow">case</span> CSA_GRAY:
00575         <span class="keywordflow">case</span> CSA_A:
00576             bRc = <a class="code" href="../../d2/d9/ps2_8c.html#a183">GetPS2CSA_MONO_A</a>(pProfile, pBuffer, pcbSize, dwIntent, pbBinary);
00577             <span class="keywordflow">break</span>;
00578 
00579         <span class="keywordflow">default</span>:
00580             <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Invalid CSA type passed to GetPS2ColorSpaceArray: %d\n"</span>), dwCSAType));
00581             SetLastError(ERROR_INVALID_PARAMETER);
00582             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00583         }
00584     }
00585 
00586     <span class="keywordflow">return</span> bRc;
00587 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a258" doxytag="ps2.c::InternalGetPS2CSAFromLCS" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL InternalGetPS2CSAFromLCS           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d7/d6/jul98_2test_2icm_8h.html#a39">LPLOGCOLORSPACE</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pLogColorSpace</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pBuffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap> <em>pcbSize</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PBOOL&nbsp;</td>
          <td class="mdname" nowrap> <em>pbBinary</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l02382">2382</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00007">BeginArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00009">BeginFunction</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00404">ColorSpace1</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00405">ColorSpace3</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00406">ColorSpace5</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00008">EndArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00012">EndDict</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00032">MatrixLMNTag</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00063">NewLine</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00142">WARNING</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04441">WriteFixed()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04500">WriteFixed2dot30()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>.
<p>
<pre class="fragment"><div>02388 {
02389     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>  pStart = pBuffer;
02390     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  dwSize = 1024*2; <span class="comment">// same value as in pscript/icm.c</span>
02391 
02392     <span class="keywordflow">if</span> (! pBuffer)
02393     {
02394         *pcbSize = dwSize;
02395 
02396         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
02397     }
02398 
02399     <span class="keywordflow">if</span> (*pcbSize &lt; dwSize)
02400     {
02401         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a4">WARNING</a>((__TEXT(<span class="stringliteral">"Buffer too small to get CSA from LCS\n"</span>)));
02402         SetLastError(ERROR_INSUFFICIENT_BUFFER);
02403         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
02404     }
02405 
02406     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
02407     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);    <span class="comment">// Begin array</span>
02408 
02409     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, ColorSpace1);
02410     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);    <span class="comment">// [</span>
02411 
02412     <span class="comment">//</span>
02413     <span class="comment">// Red gamma</span>
02414     <span class="comment">//</span>
02415 
02416     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginFunction);
02417     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a231">WriteFixed</a>(pBuffer, pLogColorSpace-&gt;lcsGammaRed);
02418     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, ColorSpace3);
02419 
02420     <span class="comment">//</span>
02421     <span class="comment">// Green gamma</span>
02422     <span class="comment">//</span>
02423 
02424     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginFunction);
02425     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a231">WriteFixed</a>(pBuffer, pLogColorSpace-&gt;lcsGammaGreen);
02426     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, ColorSpace3);
02427 
02428     <span class="comment">//</span>
02429     <span class="comment">// Blue Gamma</span>
02430     <span class="comment">//</span>
02431 
02432     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginFunction);
02433     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a231">WriteFixed</a>(pBuffer, pLogColorSpace-&gt;lcsGammaBlue);
02434     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, ColorSpace3);
02435 
02436     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);      <span class="comment">// ]</span>
02437 
02438     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, ColorSpace5);   <span class="comment">// /WhitePoint</span>
02439 
02440     <span class="comment">//</span>
02441     <span class="comment">// Matrix LMN</span>
02442     <span class="comment">//</span>
02443 
02444     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, MatrixLMNTag);
02445     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
02446 
02447     <span class="comment">//</span>
02448     <span class="comment">// Red Value</span>
02449     <span class="comment">//</span>
02450 
02451     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a232">WriteFixed2dot30</a>(pBuffer, pLogColorSpace-&gt;lcsEndpoints.ciexyzRed.ciexyzX);
02452     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a232">WriteFixed2dot30</a>(pBuffer, pLogColorSpace-&gt;lcsEndpoints.ciexyzRed.ciexyzY);
02453     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a232">WriteFixed2dot30</a>(pBuffer, pLogColorSpace-&gt;lcsEndpoints.ciexyzRed.ciexyzZ);
02454 
02455     <span class="comment">//</span>
02456     <span class="comment">// Green Value</span>
02457     <span class="comment">//</span>
02458 
02459     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a232">WriteFixed2dot30</a>(pBuffer, pLogColorSpace-&gt;lcsEndpoints.ciexyzGreen.ciexyzX);
02460     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a232">WriteFixed2dot30</a>(pBuffer, pLogColorSpace-&gt;lcsEndpoints.ciexyzGreen.ciexyzY);
02461     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a232">WriteFixed2dot30</a>(pBuffer, pLogColorSpace-&gt;lcsEndpoints.ciexyzGreen.ciexyzZ);
02462 
02463     <span class="comment">//</span>
02464     <span class="comment">// Blue Value</span>
02465     <span class="comment">//</span>
02466 
02467     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a232">WriteFixed2dot30</a>(pBuffer, pLogColorSpace-&gt;lcsEndpoints.ciexyzBlue.ciexyzX);
02468     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a232">WriteFixed2dot30</a>(pBuffer, pLogColorSpace-&gt;lcsEndpoints.ciexyzBlue.ciexyzY);
02469     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a232">WriteFixed2dot30</a>(pBuffer, pLogColorSpace-&gt;lcsEndpoints.ciexyzBlue.ciexyzZ);
02470 
02471     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);      <span class="comment">// ]</span>
02472     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndDict);       <span class="comment">// End dictionary</span>
02473 
02474     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);      <span class="comment">// ]</span>
02475 
02476     *pcbSize = (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) (pBuffer - pStart);
02477 
02478     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
02479 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a257" doxytag="ps2.c::InternalGetPS2PreviewCRD" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL InternalGetPS2PreviewCRD           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pDestProf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pTargetProf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>dwIntent</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pBuffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PDWORD&nbsp;</td>
          <td class="mdname" nowrap> <em>pcbSize</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PBOOL&nbsp;</td>
          <td class="mdname" nowrap> <em>pbBinary</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">847</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00007">BeginArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00011">BeginDict</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05001">BeginGlobalDict()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00005">BeginString</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00066">CRDBegin</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00067">CRDEnd</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02709">CreateInputArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02834">CreateOutputArray()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00014">DictType</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l06068">DoHostConversionCRD()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l06226">DoHostConversionCSA()</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04987">EnableGlobalDict()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00008">EndArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00012">EndDict</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05014">EndGlobalDict()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00006">EndString</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00070">GetCPDevSpace</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05090">GetCRDInputOutputArraySize()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l05662">GetHostColorRenderingDictionary()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l06024">GetHostColorSpaceArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02953">GetPublicArrayName()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00018">IntentACol</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00016">IntentPer</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00019">IntentRCol</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00017">IntentSat</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00015">IntentType</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00065">LUT16_TYPE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00064">LUT8_TYPE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00021">MAX_LINELEN</a>, <a class="el" href="../../d3/d5/aug98_2dll32_2profcrd_8h-source.html#l00004">MAXCHANNELS</a>, <a class="el" href="../../d3/d0/object_8c-source.html#l00205">MemAlloc()</a>, <a class="el" href="../../d3/d0/object_8c-source.html#l00260">MemFree()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00063">NewLine</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a66">PHOSTCLUT</a>, <a class="el" href="../../d3/d5/aug98_2dll32_2profcrd_8h-source.html#l00005">PREVIEWCRDGRID</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00034">RenderTableTag</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04762">SendCRDABC()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04587">SendCRDBWPoint()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04689">SendCRDLMN()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04893">SendCRDOutputTable()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04621">SendCRDPQR()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00082">STRLEN</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00064">USHORT</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00081">WriteHex</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00080">WriteInt</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04573">WriteNewLineObject()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l04381">WriteStringToken()</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l06779">GetPS2PreviewCRD()</a>.
<p>
<pre class="fragment"><div>00855 {
00856     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      i, j, k, l, dwDev, dwTag, dwPCS;
00857     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      dwInArraySize, dwOutArraySize;
00858     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      nDevGrids, nTargetGrids, nPreviewCRDGrids;
00859     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      cbDevCRD, cbTargetCSA, cbTargetCRD;
00860     <span class="keywordtype">float</span>      fInput[<a class="code" href="../../d2/d6/aug98_2dll32_2profcrd_8h.html#a0">MAXCHANNELS</a>];
00861     <span class="keywordtype">float</span>      fOutput[<a class="code" href="../../d2/d6/aug98_2dll32_2profcrd_8h.html#a0">MAXCHANNELS</a>];
00862     <span class="keywordtype">float</span>      fTemp[<a class="code" href="../../d2/d6/aug98_2dll32_2profcrd_8h.html#a0">MAXCHANNELS</a>];
00863     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>      pLineStart, pStart = pBuffer;
00864     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>      lpDevCRD = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, lpTargetCSA = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, lpTargetCRD = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00865     <span class="keywordtype">char</span>       pPublicArrayName[5];
00866     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>       bRc = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00867 
00868     dwDev = <a class="code" href="../../d2/d9/ps2_8c.html#a41">GetCPDevSpace</a>(pTargetProf);
00869     i = (dwDev == SPACE_CMYK) ? 4 : 3;
00870 
00871     <span class="comment">//</span>
00872     <span class="comment">// Get the input array size IntentTag and Grid of the destination profile</span>
00873     <span class="comment">//</span>
00874 
00875     <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d9/ps2_8c.html#a199">GetCRDInputOutputArraySize</a>(
00876             pTargetProf,
00877             dwIntent,
00878             &amp;dwInArraySize,
00879             NULL,
00880             &amp;dwTag,
00881             &amp;nTargetGrids))
00882         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00883 
00884     <span class="comment">//</span>
00885     <span class="comment">// Get the output array size IntentTag and Grid of the target profile</span>
00886     <span class="comment">//</span>
00887 
00888     <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d9/ps2_8c.html#a199">GetCRDInputOutputArraySize</a>(
00889             pDestProf,
00890             dwIntent,
00891             NULL,
00892             &amp;dwOutArraySize,
00893             &amp;dwTag,
00894             &amp;nDevGrids))
00895         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00896 
00897     nPreviewCRDGrids = (nTargetGrids &gt; nDevGrids) ? nTargetGrids : nDevGrids;
00898 
00899     <span class="comment">//</span>
00900     <span class="comment">// Min proofing CRD grid will be PREVIEWCRDGRID</span>
00901     <span class="comment">//</span>
00902 
00903     <span class="keywordflow">if</span> (nPreviewCRDGrids &lt; <a class="code" href="../../d2/d6/aug98_2dll32_2profcrd_8h.html#a1">PREVIEWCRDGRID</a>)
00904         nPreviewCRDGrids = <a class="code" href="../../d2/d6/aug98_2dll32_2profcrd_8h.html#a1">PREVIEWCRDGRID</a>;
00905 
00906     <span class="keywordflow">if</span> (pBuffer == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)
00907     {
00908         <span class="comment">//</span>
00909         <span class="comment">// Return size of buffer needed</span>
00910         <span class="comment">//</span>
00911 
00912         *pcbSize = nPreviewCRDGrids * nPreviewCRDGrids * nPreviewCRDGrids *
00913                    i * 2        +    <span class="comment">// CLUT size (Hex output)</span>
00914                    dwOutArraySize +  <span class="comment">// Output Array size</span>
00915                    dwInArraySize  +  <span class="comment">// Input Array size</span>
00916                    4096;             <span class="comment">// Extra PostScript stuff</span>
00917 
00918         <span class="comment">//</span>
00919         <span class="comment">// Add space for new line.</span>
00920         <span class="comment">//</span>
00921 
00922         *pcbSize += (((*pcbSize) / <a class="code" href="../../d2/d9/ps2_8c.html#a0">MAX_LINELEN</a>) + 1) * <a class="code" href="../../d2/d9/ps2_8c.html#a46">STRLEN</a>(NewLine);
00923 
00924         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00925     }
00926 
00927     <span class="comment">//</span>
00928     <span class="comment">// Query the sizes of host target CRD, target CSA and device CRD</span>
00929     <span class="comment">//</span>
00930 
00931     <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d9/ps2_8c.html#a201">GetHostColorRenderingDictionary</a>(pTargetProf, dwIntent, NULL, &amp;cbTargetCRD) ||
00932         !<a class="code" href="../../d2/d9/ps2_8c.html#a202">GetHostColorSpaceArray</a>(pTargetProf, dwIntent, NULL, &amp;cbTargetCSA) ||
00933         !<a class="code" href="../../d2/d9/ps2_8c.html#a201">GetHostColorRenderingDictionary</a>(pDestProf, dwIntent, NULL, &amp;cbDevCRD))
00934     {
00935         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00936     }
00937 
00938     <span class="comment">//</span>
00939     <span class="comment">// Allocate buffers for host target CRD, target CSA and device CRD</span>
00940     <span class="comment">//</span>
00941 
00942     <span class="keywordflow">if</span> (((lpTargetCRD = <a class="code" href="../../d2/d1/object_8c.html#a7">MemAlloc</a>(cbTargetCRD)) == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) ||
00943         ((lpTargetCSA = <a class="code" href="../../d2/d1/object_8c.html#a7">MemAlloc</a>(cbTargetCSA)) == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) ||
00944         ((lpDevCRD = <a class="code" href="../../d2/d1/object_8c.html#a7">MemAlloc</a>(cbDevCRD)) == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>))
00945     {
00946         <span class="keywordflow">goto</span> Done;
00947     }
00948 
00949     <span class="comment">//</span>
00950     <span class="comment">// Build host target CRD, target CSA and device CRD</span>
00951     <span class="comment">//</span>
00952 
00953     <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d9/ps2_8c.html#a201">GetHostColorRenderingDictionary</a>(pTargetProf, dwIntent, lpTargetCRD, &amp;cbTargetCRD) ||
00954         !<a class="code" href="../../d2/d9/ps2_8c.html#a202">GetHostColorSpaceArray</a>(pTargetProf, dwIntent, lpTargetCSA, &amp;cbTargetCSA) ||
00955         !<a class="code" href="../../d2/d9/ps2_8c.html#a201">GetHostColorRenderingDictionary</a>(pDestProf, dwIntent, lpDevCRD, &amp;cbDevCRD))
00956     {
00957         <span class="keywordflow">goto</span> Done;
00958     }
00959 
00960     <span class="comment">//</span>
00961     <span class="comment">// Create global data</span>
00962     <span class="comment">//</span>
00963 
00964     <a class="code" href="../../d2/d9/ps2_8c.html#a217">GetPublicArrayName</a>(dwTag, pPublicArrayName);
00965 
00966     <span class="comment">//</span>
00967     <span class="comment">// Build Proofing CRD based on Host target CRD, target CSA and dest CRD.</span>
00968     <span class="comment">// We use target CRD input tables and matrix as the input tables and</span>
00969     <span class="comment">// matrix of the ProofCRD. We use dest CRD output tables as the</span>
00970     <span class="comment">// output tables of the ProofCRD.</span>
00971     <span class="comment">//</span>
00972 
00973     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, CRDBegin);
00974 
00975     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a220">EnableGlobalDict</a>(pBuffer);
00976     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a221">BeginGlobalDict</a>(pBuffer);
00977 
00978     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a215">CreateInputArray</a>(pBuffer, 0, 0, pPublicArrayName,
00979                     0, NULL, *pbBinary, lpTargetCRD);
00980 
00981     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a216">CreateOutputArray</a>(pBuffer, 0, 0, 0,
00982                     pPublicArrayName, 0, NULL, *pbBinary, lpDevCRD);
00983 
00984     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a222">EndGlobalDict</a>(pBuffer);
00985 
00986     <span class="comment">//</span>
00987     <span class="comment">// Start writing the CRD</span>
00988     <span class="comment">//</span>
00989 
00990     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, BeginDict);     <span class="comment">// Begin dictionary</span>
00991     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, DictType);      <span class="comment">// Dictionary type</span>
00992 
00993     <span class="comment">//</span>
00994     <span class="comment">// Send /RenderingIntent</span>
00995     <span class="comment">//</span>
00996 
00997     <span class="keywordflow">switch</span> (dwIntent)
00998     {
00999         <span class="keywordflow">case</span> INTENT_PERCEPTUAL:
01000             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, IntentType);
01001             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IntentPer);
01002             <span class="keywordflow">break</span>;
01003 
01004         <span class="keywordflow">case</span> INTENT_SATURATION:
01005             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, IntentType);
01006             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IntentSat);
01007             <span class="keywordflow">break</span>;
01008 
01009         <span class="keywordflow">case</span> INTENT_RELATIVE_COLORIMETRIC:
01010             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, IntentType);
01011             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IntentRCol);
01012             <span class="keywordflow">break</span>;
01013 
01014         <span class="keywordflow">case</span> INTENT_ABSOLUTE_COLORIMETRIC:
01015             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, IntentType);
01016             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IntentACol);
01017             <span class="keywordflow">break</span>;
01018     }
01019 
01020     <span class="comment">//</span>
01021     <span class="comment">// /BlackPoint &amp; /WhitePoint</span>
01022     <span class="comment">//</span>
01023 
01024     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a203">SendCRDBWPoint</a>(pBuffer, ((<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)lpTargetCRD)-&gt;afxIlluminantWP);
01025 
01026     <span class="comment">//</span>
01027     <span class="comment">// Send PQR - used for Absolute Colorimetric</span>
01028     <span class="comment">//</span>
01029 
01030     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a204">SendCRDPQR</a>(pBuffer, dwIntent, ((<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)lpTargetCRD)-&gt;afxIlluminantWP);
01031 
01032     <span class="comment">//</span>
01033     <span class="comment">// Send LMN - For Absolute Colorimetric use WhitePoint's XYZs</span>
01034     <span class="comment">//</span>
01035 
01036     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a205">SendCRDLMN</a>(pBuffer, dwIntent,
01037                    ((<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)lpTargetCRD)-&gt;afxIlluminantWP,
01038                    ((<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)lpTargetCRD)-&gt;afxMediaWP,
01039                    ((<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)lpTargetCRD)-&gt;dwPCS);
01040 
01041     <span class="comment">//</span>
01042     <span class="comment">// Send ABC</span>
01043     <span class="comment">//</span>
01044 
01045     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a206">SendCRDABC</a>(pBuffer, pPublicArrayName,
01046                    ((<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)lpTargetCRD)-&gt;dwPCS,
01047                    ((<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)lpTargetCRD)-&gt;nInputCh,
01048                    NULL,
01049                    ((<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)lpTargetCRD)-&gt;e,
01050                    (((<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)lpTargetCRD)-&gt;nLutBits == 8)? LUT8_TYPE : LUT16_TYPE,
01051                    *pbBinary);
01052 
01053     <span class="comment">//</span>
01054     <span class="comment">// /RenderTable</span>
01055     <span class="comment">//</span>
01056 
01057     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, RenderTableTag);
01058     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
01059 
01060     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, nPreviewCRDGrids);  <span class="comment">// Send down Na</span>
01061     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, nPreviewCRDGrids);  <span class="comment">// Send down Nb</span>
01062     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, nPreviewCRDGrids);  <span class="comment">// Send down Nc</span>
01063 
01064     pLineStart = pBuffer;
01065     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, BeginArray);
01066     dwPCS = ((<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)lpDevCRD)-&gt;dwPCS;
01067 
01068     <span class="keywordflow">for</span> (i=0; i&lt;nPreviewCRDGrids; i++)        <span class="comment">// Na strings should be sent</span>
01069     {
01070         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
01071         pLineStart = pBuffer;
01072         <span class="keywordflow">if</span> (*pbBinary)
01073         {
01074             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a228">WriteStringToken</a>(pBuffer, 143,
01075                 nPreviewCRDGrids * nPreviewCRDGrids * ((<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)lpDevCRD)-&gt;nOutputCh);
01076         }
01077         <span class="keywordflow">else</span>
01078         {
01079             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginString);
01080         }
01081         fInput[0] = ((<span class="keywordtype">float</span>)i) / (nPreviewCRDGrids - 1);
01082         <span class="keywordflow">for</span> (j=0; j&lt;nPreviewCRDGrids; j++)
01083         {
01084             fInput[1] = ((<span class="keywordtype">float</span>)j) / (nPreviewCRDGrids - 1);
01085             <span class="keywordflow">for</span> (k=0; k&lt;nPreviewCRDGrids; k++)
01086             {
01087                 fInput[2] = ((<span class="keywordtype">float</span>)k) / (nPreviewCRDGrids - 1);
01088 
01089                 <a class="code" href="../../d2/d9/ps2_8c.html#a243">DoHostConversionCRD</a>((<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)lpTargetCRD, NULL, fInput, fOutput, 1);
01090                 <a class="code" href="../../d2/d9/ps2_8c.html#a242">DoHostConversionCSA</a>((<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)lpTargetCSA, fOutput, fTemp);
01091                 <a class="code" href="../../d2/d9/ps2_8c.html#a243">DoHostConversionCRD</a>((<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)lpDevCRD, (<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)lpTargetCSA,
01092                                      fTemp, fOutput, 0);
01093                 <span class="keywordflow">for</span> (l=0; l&lt;((<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)lpDevCRD)-&gt;nOutputCh; l++)
01094                 {
01095                     <span class="keywordflow">if</span> (*pbBinary)
01096                     {
01097                         *pBuffer++ = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)(fOutput[l] * 255);
01098                     }
01099                     <span class="keywordflow">else</span>
01100                     {
01101                         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a45">WriteHex</a>(pBuffer, (USHORT)(fOutput[l] * 255));
01102                         <span class="keywordflow">if</span> ((pBuffer - pLineStart) &gt; <a class="code" href="../../d2/d9/ps2_8c.html#a0">MAX_LINELEN</a>)
01103                         {
01104                             pLineStart = pBuffer;
01105                             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
01106                         }
01107                     }
01108                 }
01109             }
01110         }
01111         <span class="keywordflow">if</span> (!*pbBinary)
01112             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndString);
01113     }
01114     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, EndArray);
01115     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, ((<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)lpDevCRD)-&gt;nOutputCh);
01116 
01117     <span class="comment">//</span>
01118     <span class="comment">// Send output table</span>
01119     <span class="comment">//</span>
01120 
01121     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a207">SendCRDOutputTable</a>(pBuffer, pPublicArrayName,
01122                     ((<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)lpDevCRD)-&gt;nOutputCh,
01123                     (((<a class="code" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>)lpDevCRD)-&gt;nLutBits == 8)? LUT8_TYPE : LUT16_TYPE,
01124                     TRUE,
01125                     *pbBinary);
01126 
01127     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, EndArray);
01128     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndDict); <span class="comment">// End dictionary definition</span>
01129     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, CRDEnd);
01130     bRc = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01131 
01132 Done:
01133     *pcbSize = (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(pBuffer - pStart);
01134 
01135     <span class="keywordflow">if</span> (lpTargetCRD)
01136          <a class="code" href="../../d2/d1/object_8c.html#a9">MemFree</a>(lpTargetCRD);
01137     <span class="keywordflow">if</span> (lpTargetCSA)
01138          <a class="code" href="../../d2/d1/object_8c.html#a9">MemFree</a>(lpTargetCSA);
01139     <span class="keywordflow">if</span> (lpDevCRD)
01140          <a class="code" href="../../d2/d1/object_8c.html#a9">MemFree</a>(lpDevCRD);
01141 
01142     <span class="keywordflow">return</span> bRc;
01143 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a245" doxytag="ps2.c::inverse_g" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> float inverse_g           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">float&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l06408">6408</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01130">XYZToLab()</a>.
<p>
<pre class="fragment"><div>06411 {
06412     <span class="keywordtype">double</span> fRc;
06413 
06414     <span class="keywordflow">if</span> (f &gt;= (6.0f*6.0f*6.0f)/(29.0f*29.0f*29.0f))
06415     {
06416         fRc = pow(f, 1.0 / 3.0);
06417     }
06418     <span class="keywordflow">else</span>
06419     {
06420         fRc = f * (841.0f / 108.0f) + (4.0f / 29.0f);
06421     }
06422 
06423     <span class="keywordflow">return</span> (<span class="keywordtype">float</span>)fRc;
06424 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a252" doxytag="ps2.c::InvertColorantArray" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL InvertColorantArray           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">double *&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l06676">6676</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d4/d9/user32_8def-source.html#l00799">c</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l05393">CreateHostMatrixCSAorCRD()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l03495">CreateMatrixCRD()</a>.
<p>
<pre class="fragment"><div>06679 {
06680     <span class="keywordtype">double</span> det;
06681 
06682     <span class="keywordtype">double</span> *a;
06683     <span class="keywordtype">double</span> *b;
06684     <span class="keywordtype">double</span> *<a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>;
06685 
06686     a = &amp;(lpInMatrix[0]);
06687     b = &amp;(lpInMatrix[3]);
06688     <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a> = &amp;(lpInMatrix[6]);
06689 
06690     det = a[0] * b[1] * <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>[2] + a[1] * b[2] * <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>[0] + a[2] * b[0] * <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>[1] -
06691          (a[2] * b[1] * <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>[0] + a[1] * b[0] * <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>[2] + a[0] * b[2] * <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>[1]);
06692 
06693     <span class="keywordflow">if</span> (det == 0.0)    <span class="comment">// What to do?</span>
06694     {
06695         lpOutMatrix[0] = 1.0;
06696         lpOutMatrix[1] = 0.0;
06697         lpOutMatrix[2] = 0.0;
06698 
06699         lpOutMatrix[3] = 0.0;
06700         lpOutMatrix[4] = 1.0;
06701         lpOutMatrix[5] = 0.0;
06702 
06703         lpOutMatrix[6] = 0.0;
06704         lpOutMatrix[7] = 0.0;
06705         lpOutMatrix[8] = 1.0;
06706     }
06707     <span class="keywordflow">else</span>
06708     {
06709         lpOutMatrix[0] = (b[1] * <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>[2] - b[2] * <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>[1]) / det;
06710         lpOutMatrix[3] = -(b[0] * <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>[2] - b[2] * <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>[0]) / det;
06711         lpOutMatrix[6] = (b[0] * <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>[1] - b[1] * <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>[0]) / det;
06712 
06713         lpOutMatrix[1] = -(a[1] * <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>[2] - a[2] * <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>[1]) / det;
06714         lpOutMatrix[4] = (a[0] * <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>[2] - a[2] * <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>[0]) / det;
06715         lpOutMatrix[7] = -(a[0] * <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>[1] - a[1] * <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>[0]) / det;
06716 
06717         lpOutMatrix[2] = (a[1] * b[2] - a[2] * b[1]) / det;
06718         lpOutMatrix[5] = -(a[0] * b[2] - a[2] * b[0]) / det;
06719         lpOutMatrix[8] = (a[0] * b[1] - a[1] * b[0]) / det;
06720     }
06721 
06722     <span class="keywordflow">return</span> (<a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>);
06723 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a181" doxytag="ps2.c::IsSRGBColorProfile" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL IsSRGBColorProfile           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l06873">6873</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d3/d8/ps2_8c-source.html#l00024">ALIGN_DWORD</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00057">BOOL</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l06843">crc32()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04007">DoesCPTagExist()</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04180">GetCPElementData()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04121">GetCPElementDataSize()</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00093">sRGB_CRC</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00094">sRGB_TAGSIZE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00042">TAG_BLUECOLORANT</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00045">TAG_BLUETRC</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00041">TAG_GREENCOLORANT</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00044">TAG_GREENTRC</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00040">TAG_REDCOLORANT</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00043">TAG_REDTRC</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l03495">CreateMatrixCRD()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l01519">GetPS2CSA_ABC()</a>.
<p>
<pre class="fragment"><div>06876 {
06877     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>  bMatch = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
06878     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwRedTRCIndex, dwGreenTRCIndex, dwBlueTRCIndex;
06879     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwRedCIndex, dwGreenCIndex, dwBlueCIndex;
06880     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwSize;
06881     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwRedTRCSize=0, dwGreenTRCSize=0, dwBlueTRCSize=0;
06882     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwRedCSize=0, dwGreenCSize=0, dwBlueCSize=0;
06883     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pRed, pGreen, pBlue, pRedC, pGreenC, pBlueC;
06884     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>  DataBuffer[<a class="code" href="../../d2/d9/ps2_8c.html#a3">ALIGN_DWORD</a>(sRGB_TAGSIZE)];
06885 
06886     <span class="keywordflow">if</span> (<a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, TAG_REDTRC, &amp;dwRedTRCIndex)             &amp;&amp;
06887         <a class="code" href="../../d2/d9/ps2_8c.html#a193">GetCPElementDataSize</a>(pProfile, dwRedTRCIndex, &amp;dwRedTRCSize)     &amp;&amp;
06888 
06889         <a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, TAG_GREENTRC, &amp;dwGreenTRCIndex)         &amp;&amp;
06890         <a class="code" href="../../d2/d9/ps2_8c.html#a193">GetCPElementDataSize</a>(pProfile, dwGreenTRCIndex, &amp;dwGreenTRCSize) &amp;&amp;
06891 
06892         <a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, TAG_BLUETRC, &amp;dwBlueTRCIndex)           &amp;&amp;
06893         <a class="code" href="../../d2/d9/ps2_8c.html#a193">GetCPElementDataSize</a>(pProfile, dwBlueTRCIndex, &amp;dwBlueTRCSize)   &amp;&amp;
06894 
06895         <a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, TAG_REDCOLORANT, &amp;dwRedCIndex)          &amp;&amp;
06896         <a class="code" href="../../d2/d9/ps2_8c.html#a193">GetCPElementDataSize</a>(pProfile, dwRedCIndex, &amp;dwRedCSize)         &amp;&amp;
06897 
06898         <a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, TAG_GREENCOLORANT, &amp;dwGreenCIndex)      &amp;&amp;
06899         <a class="code" href="../../d2/d9/ps2_8c.html#a193">GetCPElementDataSize</a>(pProfile, dwGreenCIndex, &amp;dwGreenCSize)     &amp;&amp;
06900 
06901         <a class="code" href="../../d2/d9/ps2_8c.html#a189">DoesCPTagExist</a>(pProfile, TAG_BLUECOLORANT, &amp;dwBlueCIndex)        &amp;&amp;
06902         <a class="code" href="../../d2/d9/ps2_8c.html#a193">GetCPElementDataSize</a>(pProfile, dwBlueCIndex, &amp;dwBlueCSize))
06903     {
06904         dwSize = dwRedTRCSize + dwGreenTRCSize + dwBlueTRCSize +
06905                  dwRedCSize   + dwGreenCSize   + dwBlueCSize;
06906 
06907         <span class="keywordflow">if</span> (dwSize == <a class="code" href="../../d2/d9/ps2_8c.html#a54">sRGB_TAGSIZE</a>)
06908         {
06909             ZeroMemory(DataBuffer,<span class="keyword">sizeof</span>(DataBuffer));
06910 
06911             pRed    = DataBuffer;
06912             pGreen  = pRed    + dwRedTRCSize;
06913             pBlue   = pGreen  + dwGreenTRCSize;
06914             pRedC   = pBlue   + dwBlueTRCSize;
06915             pGreenC = pRedC   + dwRedCSize;
06916             pBlueC  = pGreenC + dwGreenCSize;
06917 
06918             <span class="keywordflow">if</span> (<a class="code" href="../../d2/d9/ps2_8c.html#a196">GetCPElementData</a>(pProfile, dwRedTRCIndex, pRed, &amp;dwRedTRCSize)       &amp;&amp;
06919                 <a class="code" href="../../d2/d9/ps2_8c.html#a196">GetCPElementData</a>(pProfile, dwGreenTRCIndex, pGreen, &amp;dwGreenTRCSize) &amp;&amp;
06920                 <a class="code" href="../../d2/d9/ps2_8c.html#a196">GetCPElementData</a>(pProfile, dwBlueTRCIndex, pBlue, &amp;dwBlueTRCSize)    &amp;&amp;
06921                 <a class="code" href="../../d2/d9/ps2_8c.html#a196">GetCPElementData</a>(pProfile, dwRedCIndex, pRedC, &amp;dwRedCSize)          &amp;&amp;
06922                 <a class="code" href="../../d2/d9/ps2_8c.html#a196">GetCPElementData</a>(pProfile, dwGreenCIndex, pGreenC, &amp;dwGreenCSize)    &amp;&amp;
06923                 <a class="code" href="../../d2/d9/ps2_8c.html#a196">GetCPElementData</a>(pProfile, dwBlueCIndex, pBlueC, &amp;dwBlueCSize))
06924             {
06925                 bMatch = (<a class="code" href="../../d2/d9/ps2_8c.html#a253">crc32</a>(DataBuffer, sRGB_TAGSIZE) == <a class="code" href="../../d2/d9/ps2_8c.html#a53">sRGB_CRC</a>);
06926             }
06927         }
06928     }
06929 
06930     <span class="keywordflow">return</span> (bMatch);
06931 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a248" doxytag="ps2.c::LabToXYZ" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void LabToXYZ           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">float *&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>float *&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l06428">6428</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d3/d8/ps2_8c-source.html#l00027">FIX_16_16_SCALE</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l06379">g()</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01169">DoHostConversionCRD()</a>.
<p>
<pre class="fragment"><div>06433 {
06434     <span class="keywordtype">float</span>   fL, fa, fb;
06435 
06436     fL = (pfInput[0] * 50 + 16) / 116;
06437     fa = (pfInput[1] * 128 - 128) / 500;
06438     fb = (pfInput[2] * 128 - 128) / 200;
06439 
06440     pfOutput[0] = pafxWP[0] * <a class="code" href="../../d2/d9/ps2_8c.html#a244">g</a>(fL + fa) / <a class="code" href="../../d2/d9/ps2_8c.html#a5">FIX_16_16_SCALE</a>;
06441     pfOutput[1] = pafxWP[1] * <a class="code" href="../../d2/d9/ps2_8c.html#a244">g</a>(fL) / <a class="code" href="../../d2/d9/ps2_8c.html#a5">FIX_16_16_SCALE</a>;
06442     pfOutput[2] = pafxWP[2] * <a class="code" href="../../d2/d9/ps2_8c.html#a244">g</a>(fL - fb) / <a class="code" href="../../d2/d9/ps2_8c.html#a5">FIX_16_16_SCALE</a>;
06443 
06444     <span class="keywordflow">return</span>;
06445 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a206" doxytag="ps2.c::SendCRDABC" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> SendCRDABC           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOL&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04762">4762</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00007">BeginArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00009">BeginFunction</a>, <a class="el" href="../../d3/d8/aug98_2dll32_2csprof_8h-source.html#l00015">CIEXYZRange</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00147">EncodeABCLab1</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00148">EncodeABCLab2</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00030">EncodeABCTag</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00008">EndArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00128">EndClip</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00010">EndFunction</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00100">FIX_16_16</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00032">FIX_DIV</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00115">IndexArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00110">IndexArray16b</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00087">InputArray</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00064">LUT8_TYPE</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00145">MatrixABCLabCRD</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00029">MatrixABCTag</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a64">PLUT16TYPE</a>, <a class="el" href="../../d2/d9/ps2_8c.html#a62">PLUT8TYPE</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00089">PreViewInArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00076">RangeABC</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00027">RangeABCTag</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00131">Scale16</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00130">Scale8</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00127">StartClip</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04441">WriteFixed()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00080">WriteInt</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04573">WriteNewLineObject()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>.
<p>
Referenced by <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00186">CreateLutCRD()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01954">GetPS2PreviewColorRenderingDictionary()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>.
<p>
<pre class="fragment"><div>04772 {
04773     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>      pLineStart, pStart = pBuffer;
04774     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>      pTable;
04775     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>      i, j;
04776     <a class="code" href="../../d2/d9/ps2_8c.html#a55">FIX_16_16</a>  fxTempMatrixABC[9];
04777 
04778     <span class="comment">//</span>
04779     <span class="comment">// /RangeABC</span>
04780     <span class="comment">//</span>
04781 
04782     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, RangeABCTag);
04783     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, RangeABC);
04784 
04785     <span class="comment">//</span>
04786     <span class="comment">// /MatrixABC</span>
04787     <span class="comment">//</span>
04788 
04789     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, MatrixABCTag);
04790     <span class="keywordflow">if</span> (dwPCS == SPACE_XYZ)
04791     {
04792         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
04793         <span class="keywordflow">if</span> (e)
04794         {
04795             <span class="keywordflow">for</span> (i=0; i&lt;3; i++)
04796             {
04797                 <span class="keywordflow">for</span> (j=0; j&lt;3; j++)
04798                 {
04799                     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a231">WriteFixed</a>(pBuffer, e[i + j * 3]);
04800                 }
04801             }
04802         }
04803         <span class="keywordflow">else</span>
04804         {
04805             <span class="keywordflow">if</span> (dwLutSig == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>)
04806             {
04807                 pTable = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>) &amp;((<a class="code" href="../../d4/d0/structtagLUT8TYPE.html">PLUT8TYPE</a>)pLut)-&gt;e00;
04808             }
04809             <span class="keywordflow">else</span>
04810             {
04811                 pTable = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>) &amp;((<a class="code" href="../../d3/d0/structtagLUT16TYPE.html">PLUT16TYPE</a>)pLut)-&gt;e00;
04812             }
04813 
04814             <span class="keywordflow">for</span> (i=0; i&lt;9; i++)
04815             {
04816                 fxTempMatrixABC[i] = <a class="code" href="../../d2/d9/ps2_8c.html#a9">FIX_DIV</a>(FIX_ENDIAN(*((PDWORD)pTable)), CIEXYZRange);
04817                 pTable += <span class="keyword">sizeof</span>(<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>);
04818             }
04819             <span class="keywordflow">for</span> (i=0; i&lt;3; i++)
04820             {
04821                 <span class="keywordflow">for</span> (j=0; j&lt;3; j++)
04822                 {
04823                     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a231">WriteFixed</a>(pBuffer, fxTempMatrixABC[i + j * 3]);
04824                 }
04825             }
04826         }
04827         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
04828     }
04829     <span class="keywordflow">else</span>
04830     {
04831         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, MatrixABCLabCRD);
04832     }
04833 
04834     <span class="comment">//</span>
04835     <span class="comment">// /EncodeABC</span>
04836     <span class="comment">//</span>
04837 
04838     <span class="keywordflow">if</span> (nInputCh == 0)
04839     {
04840         <span class="keywordflow">return</span> (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(pBuffer - pStart);
04841     }
04842 
04843     pLineStart = pBuffer;
04844     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, EncodeABCTag);
04845     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
04846     <span class="keywordflow">for</span> (i=0; i&lt;nInputCh; i++)
04847     {
04848         pLineStart = pBuffer;
04849 
04850         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, BeginFunction);
04851         <span class="keywordflow">if</span> (dwPCS == SPACE_Lab)
04852         {
04853             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, (i == 0) ? EncodeABCLab1 : EncodeABCLab2);
04854         }
04855 
04856         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, StartClip);
04857         <span class="keywordflow">if</span> (e)
04858             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, PreViewInArray);
04859         <span class="keywordflow">else</span>
04860             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, InputArray);
04861 
04862         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, pPublicArrayName);
04863         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, i);
04864 
04865         <span class="keywordflow">if</span> (!bBinary)              <span class="comment">// Output ASCII CRD</span>
04866         {
04867             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, IndexArray);
04868         }
04869         <span class="keywordflow">else</span>
04870         {                               <span class="comment">// Output BINARY CRD</span>
04871             <span class="keywordflow">if</span> (dwLutSig == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>)
04872             {
04873                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IndexArray);
04874             }
04875             <span class="keywordflow">else</span>
04876             {
04877                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IndexArray16b);
04878             }
04879         }
04880 
04881         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, (dwLutSig == LUT8_TYPE) ?
04882                          Scale8 : Scale16);
04883         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndClip);
04884         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndFunction);
04885     }
04886     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
04887 
04888     <span class="keywordflow">return</span> (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(pBuffer - pStart);
04889 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a203" doxytag="ps2.c::SendCRDBWPoint" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> SendCRDBWPoint           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04587">4587</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00007">BeginArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00013">BlackPoint</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00022">BlackPointTag</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00008">EndArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00063">NewLine</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00021">WhitePointTag</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04441">WriteFixed()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>.
<p>
Referenced by <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00186">CreateLutCRD()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00877">CreateMatrixCRD()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00487">CreateMonoCRD()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01954">GetPS2PreviewColorRenderingDictionary()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>.
<p>
<pre class="fragment"><div>04591 {
04592     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pStart = pBuffer;
04593     <span class="keywordtype">int</span>   i;
04594 
04595     <span class="comment">//</span>
04596     <span class="comment">// /BlackPoint</span>
04597     <span class="comment">//</span>
04598 
04599     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
04600     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BlackPointTag);
04601     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BlackPoint);
04602 
04603     <span class="comment">//</span>
04604     <span class="comment">// /WhitePoint</span>
04605     <span class="comment">//</span>
04606 
04607     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
04608     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, WhitePointTag);
04609     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
04610     <span class="keywordflow">for</span> (i=0; i&lt;3; i++)
04611     {
04612         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a231">WriteFixed</a>(pBuffer, pafxWP[i]);
04613     }
04614     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
04615 
04616     <span class="keywordflow">return</span> (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(pBuffer - pStart);
04617 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a205" doxytag="ps2.c::SendCRDLMN" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> SendCRDLMN           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04689">4689</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00007">BeginArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00009">BeginFunction</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00061">DivOp</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00142">EncodeLMNLab</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00033">EncodeLMNTag</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00008">EndArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00010">EndFunction</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00032">FIX_DIV</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00032">MatrixLMNTag</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00141">RangeLMNLab</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00031">RangeLMNTag</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04441">WriteFixed()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04573">WriteNewLineObject()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>.
<p>
Referenced by <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00186">CreateLutCRD()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00487">CreateMonoCRD()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01954">GetPS2PreviewColorRenderingDictionary()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>.
<p>
<pre class="fragment"><div>04696 {
04697     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pStart = pBuffer;
04698     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> i, j;
04699 
04700     <span class="comment">//</span>
04701     <span class="comment">// /MatrixLMN</span>
04702     <span class="comment">//</span>
04703 
04704     <span class="keywordflow">if</span> (dwIntent == INTENT_ABSOLUTE_COLORIMETRIC)
04705     {
04706         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, MatrixLMNTag);
04707 
04708         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
04709         <span class="keywordflow">for</span> (i=0; i&lt;3; i++)
04710         {
04711             <span class="keywordflow">for</span> (j=0; j&lt;3; j++)
04712                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a231">WriteFixed</a>(pBuffer,
04713                     (i == j) ? <a class="code" href="../../d2/d9/ps2_8c.html#a9">FIX_DIV</a>(pafxIlluminantWP[i], pafxMediaWP[i]) : 0);
04714         }
04715         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
04716     }
04717 
04718     <span class="comment">//</span>
04719     <span class="comment">// /RangeLMN</span>
04720     <span class="comment">//</span>
04721 
04722     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, RangeLMNTag);
04723     <span class="keywordflow">if</span> (dwPCS == SPACE_XYZ)
04724     {
04725         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
04726         <span class="keywordflow">for</span> (i=0; i&lt;3; i++)
04727         {
04728             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a231">WriteFixed</a>(pBuffer, 0);
04729             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a231">WriteFixed</a>(pBuffer, pafxIlluminantWP[i]);
04730         }
04731         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
04732     }
04733     <span class="keywordflow">else</span>
04734     {
04735         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, RangeLMNLab);
04736     }
04737 
04738     <span class="comment">//</span>
04739     <span class="comment">// /EncodeLMN</span>
04740     <span class="comment">//</span>
04741 
04742     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, EncodeLMNTag);
04743     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
04744     <span class="keywordflow">for</span> (i=0; i&lt;3; i++)
04745     {
04746         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginFunction);
04747         <span class="keywordflow">if</span> (dwPCS != SPACE_XYZ)
04748         {
04749             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a231">WriteFixed</a>(pBuffer, pafxIlluminantWP[i]);
04750             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, DivOp);
04751             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EncodeLMNLab);
04752         }
04753         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndFunction);
04754     }
04755     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
04756 
04757     <span class="keywordflow">return</span> (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(pBuffer - pStart);
04758 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a207" doxytag="ps2.c::SendCRDOutputTable" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> SendCRDOutputTable           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOL&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOL&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04893">4893</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00009">BeginFunction</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00083">Clip01</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00010">EndFunction</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00115">IndexArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00110">IndexArray16b</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00064">LUT8_TYPE</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00063">NewLine</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00088">OutputArray</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00090">PreViewOutArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00131">Scale16</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00133">TFunction8</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00080">WriteInt</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04573">WriteNewLineObject()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>.
<p>
Referenced by <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00186">CreateLutCRD()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01954">GetPS2PreviewColorRenderingDictionary()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>.
<p>
<pre class="fragment"><div>04901 {
04902     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pStart = pBuffer;
04903     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> i;
04904 
04905     <span class="keywordflow">for</span> (i=0; i&lt;nOutputCh; i++)
04906     {
04907         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, BeginFunction);
04908         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, Clip01);
04909         <span class="keywordflow">if</span> (bHost)
04910             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, PreViewOutArray);
04911         <span class="keywordflow">else</span>
04912             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, OutputArray);
04913 
04914         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, pPublicArrayName);
04915         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, i);
04916 
04917         <span class="keywordflow">if</span> (! bBinary)
04918         {
04919             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
04920             <span class="keywordflow">if</span> (dwLutSig == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>)
04921             {
04922                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, TFunction8);
04923             }
04924             <span class="keywordflow">else</span>
04925             {
04926                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IndexArray);
04927                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, Scale16);
04928             }
04929         }
04930         <span class="keywordflow">else</span>
04931         {
04932             <span class="keywordflow">if</span> (dwLutSig == <a class="code" href="../../d2/d9/ps2_8c.html#a37">LUT8_TYPE</a>)
04933             {
04934                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, TFunction8);
04935             }
04936             <span class="keywordflow">else</span>
04937             {
04938                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IndexArray16b);
04939                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, Scale16);
04940             }
04941         }
04942 
04943         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndFunction);
04944     }
04945 
04946     <span class="keywordflow">return</span> (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(pBuffer - pStart);
04947 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a204" doxytag="ps2.c::SendCRDPQR" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> SendCRDPQR           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04621">4621</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00007">BeginArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00009">BeginFunction</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00008">EndArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00010">EndFunction</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00078">Identity</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00151">MatrixPQR</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00025">MatrixPQRTag</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00049">NullOp</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00150">RangePQR</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00023">RangePQRTag</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00153">TransformPQR</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00024">TransformPQRTag</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04441">WriteFixed()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04573">WriteNewLineObject()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>.
<p>
Referenced by <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00186">CreateLutCRD()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00877">CreateMatrixCRD()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00487">CreateMonoCRD()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01954">GetPS2PreviewColorRenderingDictionary()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>.
<p>
<pre class="fragment"><div>04626 {
04627     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pStart = pBuffer;
04628     <span class="keywordtype">int</span>   i;
04629 
04630     <span class="keywordflow">if</span> (dwIntent != INTENT_ABSOLUTE_COLORIMETRIC)
04631     {
04632         <span class="comment">//</span>
04633         <span class="comment">// /RangePQR</span>
04634         <span class="comment">//</span>
04635 
04636         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, RangePQRTag);
04637         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, RangePQR);
04638 
04639         <span class="comment">//</span>
04640         <span class="comment">// /MatrixPQR</span>
04641         <span class="comment">//</span>
04642 
04643         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, MatrixPQRTag);
04644         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, MatrixPQR);
04645     }
04646     <span class="keywordflow">else</span>
04647     {
04648         <span class="comment">//</span>
04649         <span class="comment">// /RangePQR</span>
04650         <span class="comment">//</span>
04651 
04652         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, RangePQRTag);
04653         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
04654         <span class="keywordflow">for</span> (i=0; i&lt;3; i++)
04655         {
04656             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a231">WriteFixed</a>(pBuffer, 0);
04657             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a231">WriteFixed</a>(pBuffer, pafxWP[i]);
04658         }
04659         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
04660 
04661         <span class="comment">//</span>
04662         <span class="comment">// /MatrixPQR</span>
04663         <span class="comment">//</span>
04664 
04665         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, MatrixPQRTag);
04666         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, Identity);
04667     }
04668 
04669     <span class="comment">//</span>
04670     <span class="comment">// /TransformPQR</span>
04671     <span class="comment">//</span>
04672 
04673     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, TransformPQRTag);
04674     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
04675     <span class="keywordflow">for</span> (i=0; i&lt;3; i++)
04676     {
04677         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginFunction);
04678         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer,
04679             (dwIntent != INTENT_ABSOLUTE_COLORIMETRIC) ? TransformPQR[i] : NullOp);
04680         pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndFunction);
04681     }
04682     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
04683 
04684     <span class="keywordflow">return</span> (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(pBuffer - pStart);
04685 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a211" doxytag="ps2.c::SendCRDRevArray" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> SendCRDRevArray           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d1/d2/structtagCURVETYPE.html">PCURVETYPE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOL&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l03843">3843</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00009">BeginFunction</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00106">tagCURVETYPE::data</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00085">DecodeA3Rev</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00128">EndClip</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00010">EndFunction</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00115">IndexArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00110">IndexArray16b</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00087">InputArray</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00105">tagCURVETYPE::nCount</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00131">Scale16</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00127">StartClip</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00080">WriteInt</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l03495">CreateMatrixCRD()</a>.
<p>
<pre class="fragment"><div>03850 {
03851     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> nCount;
03852     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pStart;
03853     PWORD pTable;
03854 
03855     pStart = pBuffer;
03856 
03857     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginFunction);
03858     nCount = FIX_ENDIAN(pData-&gt;<a class="code" href="../../d1/d2/structtagCURVETYPE.html#o2">nCount</a>);
03859     <span class="keywordflow">if</span> (nCount != 0)
03860     {
03861         <span class="keywordflow">if</span> (nCount == 1)            <span class="comment">// Gamma supplied in ui16 format</span>
03862         {
03863             pTable = pData-&gt;<a class="code" href="../../d1/d2/structtagCURVETYPE.html#o3">data</a>;
03864             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, FIX_ENDIAN16(*pTable));
03865             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, DecodeA3Rev);
03866         }
03867         <span class="keywordflow">else</span>
03868         {
03869             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, StartClip);
03870             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, InputArray);
03871             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a44">WriteInt</a>(pBuffer, dwTag);
03872 
03873             <span class="keywordflow">if</span> (!bBinary)       <span class="comment">// Output ASCII CS</span>
03874             {
03875                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IndexArray);
03876             }
03877             <span class="keywordflow">else</span>                <span class="comment">// Output BINARY CS</span>
03878             {
03879                 pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, IndexArray16b);
03880             }
03881 
03882             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, Scale16);
03883             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndClip);
03884         }
03885     }
03886     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndFunction);
03887 
03888     <span class="keywordflow">return</span> (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(pBuffer - pStart);
03889 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a208" doxytag="ps2.c::SendCSABWPoint" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> SendCSABWPoint           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l05027">5027</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00007">BeginArray</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00013">BlackPoint</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00022">BlackPointTag</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00008">EndArray</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00021">WhitePointTag</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04441">WriteFixed()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04573">WriteNewLineObject()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>.
<p>
Referenced by <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00642">GetPS2CSA_ABC()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01747">GetPS2CSA_ABC_Lab()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00812">GetPS2CSA_ABC_LAB()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00261">GetPS2CSA_DEFG()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01087">GetPS2CSA_MONO_A()</a>, and <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00927">GetPS2CSA_MONO_ABC()</a>.
<p>
<pre class="fragment"><div>05033 {
05034     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pStart = pBuffer;
05035     <span class="keywordtype">int</span>   i;
05036 
05037     <span class="comment">//</span>
05038     <span class="comment">// /BlackPoint</span>
05039     <span class="comment">//</span>
05040 
05041     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, BlackPointTag);
05042     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BlackPoint);
05043 
05044     <span class="comment">//</span>
05045     <span class="comment">// /WhitePoint</span>
05046     <span class="comment">//</span>
05047 
05048     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a223">WriteNewLineObject</a>(pBuffer, WhitePointTag);
05049     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, BeginArray);
05050     <span class="keywordflow">for</span> (i=0; i&lt;3; i++)
05051     {
05052         <span class="keywordflow">if</span> (dwIntent == INTENT_ABSOLUTE_COLORIMETRIC)
05053         {
05054             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a231">WriteFixed</a>(pBuffer, pafxMediaWP[i]);
05055         }
05056         <span class="keywordflow">else</span>
05057         {
05058             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a231">WriteFixed</a>(pBuffer, pafxIlluminantWP[i]);
05059         }
05060     }
05061     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, EndArray);
05062 
05063     <span class="keywordflow">return</span> (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(pBuffer - pStart);
05064 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a246" doxytag="ps2.c::TableInterp3" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL TableInterp3           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>float *&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l06470">6470</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d9/d5/jul98_2test_2profcrd_8h-source.html#l00024">tagHOSTCLUT::clut</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l00006">MAXCOLOR8</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00165">tagHOSTCLUT::nClutPoints</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00164">tagHOSTCLUT::nOutputCh</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01032">CheckColorLookupTable()</a>.
<p>
<pre class="fragment"><div>06474 {
06475 
06476     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>        v000, v001, v010, v011;
06477     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>        v100, v101, v110, v111;
06478     <span class="keywordtype">float</span>        fA, fB, fC;
06479     <span class="keywordtype">float</span>        fVx0x, fVx1x;
06480     <span class="keywordtype">float</span>        fV0xx, fV1xx;
06481     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>        tmpA, tmpBC;
06482     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>        cellA, cellB, cellC;
06483     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>        idx;
06484     WORD         nGrids;
06485     WORD         nOutputCh;
06486 
06487     cellA = (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)pfTemp[0];
06488     fA = pfTemp[0] - cellA;
06489 
06490     cellB = (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)pfTemp[1];
06491     fB = pfTemp[1] - cellB;
06492 
06493     cellC = (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)pfTemp[2];
06494     fC = pfTemp[2] - cellC;
06495 
06496     nGrids = pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o27">nClutPoints</a>;
06497     nOutputCh = pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o26">nOutputCh</a>;
06498     tmpA  = nOutputCh * nGrids * nGrids;
06499     tmpBC = nOutputCh * (nGrids * cellB + cellC);
06500 
06501     <span class="comment">//</span>
06502     <span class="comment">// Calculate 8 surrounding cells.</span>
06503     <span class="comment">//</span>
06504 
06505     v000 = pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o16">clut</a> + tmpA * cellA + tmpBC;
06506     v001 = (cellC &lt; (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(nGrids - 1)) ? v000 + nOutputCh : v000;
06507     v010 = (cellB &lt; (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(nGrids - 1)) ? v000 + nOutputCh * nGrids : v000;
06508     v011 = (cellC &lt; (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(nGrids - 1)) ? v010 + nOutputCh : v010 ;
06509 
06510     v100 = (cellA &lt; (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(nGrids - 1)) ? v000 + tmpA : v000;
06511     v101 = (cellC &lt; (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(nGrids - 1)) ? v100 + nOutputCh : v100;
06512     v110 = (cellB &lt; (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(nGrids - 1)) ? v100 + nOutputCh * nGrids : v100;
06513     v111 = (cellC &lt; (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(nGrids - 1)) ? v110 + nOutputCh : v110;
06514 
06515     <span class="keywordflow">for</span> (idx=0; idx&lt;nOutputCh; idx++)
06516     {
06517         <span class="comment">//</span>
06518         <span class="comment">// Calculate the average of 4 bottom cells.</span>
06519         <span class="comment">//</span>
06520 
06521         fVx0x = *v000 + fC * (<span class="keywordtype">int</span>)((<span class="keywordtype">int</span>)*v001 - (<span class="keywordtype">int</span>)*v000);
06522         fVx1x = *v010 + fC * (<span class="keywordtype">int</span>)((<span class="keywordtype">int</span>)*v011 - (<span class="keywordtype">int</span>)*v010);
06523         fV0xx = fVx0x + fB * (fVx1x - fVx0x);
06524 
06525         <span class="comment">//</span>
06526         <span class="comment">// Calculate the average of 4 upper cells.</span>
06527         <span class="comment">//</span>
06528 
06529         fVx0x = *v100 + fC * (<span class="keywordtype">int</span>)((<span class="keywordtype">int</span>)*v101 - (<span class="keywordtype">int</span>)*v100);
06530         fVx1x = *v110 + fC * (<span class="keywordtype">int</span>)((<span class="keywordtype">int</span>)*v111 - (<span class="keywordtype">int</span>)*v110);
06531         fV1xx = fVx0x + fB * (fVx1x - fVx0x);
06532 
06533         <span class="comment">//</span>
06534         <span class="comment">// Calculate the bottom and upper average.</span>
06535         <span class="comment">//</span>
06536 
06537         pfTemp[idx] = (fV0xx + fA * (fV1xx - fV0xx)) / <a class="code" href="../../d8/d5/aug98_2dll32_2profcrd_8c.html#a1">MAXCOLOR8</a>;
06538 
06539         <span class="keywordflow">if</span> ( idx &lt; (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(nOutputCh - 1))
06540         {
06541             v000++;
06542             v001++;
06543             v010++;
06544             v011++;
06545             v100++;
06546             v101++;
06547             v110++;
06548             v111++;
06549         }
06550     }
06551 
06552     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
06553 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a247" doxytag="ps2.c::TableInterp4" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOL TableInterp4           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d7/d6/structtagHOSTCLUT.html">PHOSTCLUT</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>float *&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l06557">6557</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d9/d5/jul98_2test_2profcrd_8h-source.html#l00024">tagHOSTCLUT::clut</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l00006">MAXCOLOR8</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00165">tagHOSTCLUT::nClutPoints</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00164">tagHOSTCLUT::nOutputCh</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01032">CheckColorLookupTable()</a>.
<p>
<pre class="fragment"><div>06561 {
06562     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>     v0000, v0001, v0010, v0011;
06563     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>     v0100, v0101, v0110, v0111;
06564     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>     v1000, v1001, v1010, v1011;
06565     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>     v1100, v1101, v1110, v1111;
06566     <span class="keywordtype">float</span>     fH, fI, fJ, fK;
06567     <span class="keywordtype">float</span>     fVxx0x, fVxx1x;
06568     <span class="keywordtype">float</span>     fVx0xx, fVx1xx;
06569     <span class="keywordtype">float</span>     fV0xxx, fV1xxx;
06570     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>     tmpH, tmpI, tmpJK;
06571     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>     cellH, cellI, cellJ, cellK;
06572     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>     idx;
06573     WORD      nGrids;
06574     WORD      nOutputCh;
06575 
06576     cellH = (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)pfTemp[0];
06577     fH = pfTemp[0] - cellH;
06578 
06579     cellI = (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)pfTemp[1];
06580     fI = pfTemp[1] - cellI;
06581 
06582     cellJ = (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)pfTemp[2];
06583     fJ = pfTemp[2] - cellJ;
06584 
06585     cellK = (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)pfTemp[3];
06586     fK = pfTemp[3] - cellK;
06587 
06588     nGrids = pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o27">nClutPoints</a>;
06589     nOutputCh = pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o26">nOutputCh</a>;
06590     tmpI  = nOutputCh * nGrids * nGrids;
06591     tmpH  = tmpI * nGrids;
06592     tmpJK = nOutputCh * (nGrids * cellJ + cellK);
06593 
06594     <span class="comment">//</span>
06595     <span class="comment">// Calculate 16 surrounding cells.</span>
06596     <span class="comment">//</span>
06597 
06598     v0000 = pHostClut-&gt;<a class="code" href="../../d7/d6/structtagHOSTCLUT.html#o16">clut</a> + tmpH * cellH + tmpI * cellI + tmpJK;
06599     v0001 = (cellK &lt; (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(nGrids - 1))? v0000 + nOutputCh : v0000;
06600     v0010 = (cellJ &lt; (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(nGrids - 1))? v0000 + nOutputCh * nGrids : v0000;
06601     v0011 = (cellK &lt; (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(nGrids - 1))? v0010 + nOutputCh : v0010;
06602 
06603     v0100 = (cellI &lt; (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(nGrids - 1))? v0000 + tmpI : v0000;
06604     v0101 = (cellK &lt; (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(nGrids - 1))? v0100 + nOutputCh : v0100;
06605     v0110 = (cellJ &lt; (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(nGrids - 1))? v0100 + nOutputCh * nGrids : v0100;
06606     v0111 = (cellK &lt; (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(nGrids - 1))? v0110 + nOutputCh : v0110;
06607 
06608     v1000 = (cellH &lt; (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(nGrids - 1))? v0000 + tmpH : v0000;
06609     v1001 = (cellK &lt; (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(nGrids - 1))? v1000 + nOutputCh : v1000;
06610     v1010 = (cellJ &lt; (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(nGrids - 1))? v1000 + nOutputCh * nGrids : v1000;
06611     v1011 = (cellK &lt; (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(nGrids - 1))? v1010 + nOutputCh : v1010;
06612 
06613     v1100 = (cellI &lt; (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(nGrids - 1))? v1000 + tmpI : v1000;
06614     v1101 = (cellK &lt; (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(nGrids - 1))? v1100 + nOutputCh : v1100;
06615     v1110 = (cellJ &lt; (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(nGrids - 1))? v1100 + nOutputCh * nGrids : v1100;
06616     v1111 = (cellK &lt; (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(nGrids - 1))? v1110 + nOutputCh : v1110;
06617 
06618 
06619     <span class="keywordflow">for</span> (idx=0; idx&lt;nOutputCh; idx++)
06620     {
06621         <span class="comment">//</span>
06622         <span class="comment">// Calculate the average of 8 bottom cells.</span>
06623         <span class="comment">//</span>
06624 
06625         fVxx0x = *v0000 + fK * (<span class="keywordtype">int</span>)((<span class="keywordtype">int</span>)*v0001 - (<span class="keywordtype">int</span>)*v0000);
06626         fVxx1x = *v0010 + fK * (<span class="keywordtype">int</span>)((<span class="keywordtype">int</span>)*v0011 - (<span class="keywordtype">int</span>)*v0010);
06627         fVx0xx = fVxx0x + fJ * (fVxx1x - fVxx0x);
06628         fVxx0x = *v0100 + fK * (<span class="keywordtype">int</span>)((<span class="keywordtype">int</span>)*v0101 - (<span class="keywordtype">int</span>)*v0100);
06629         fVxx1x = *v0110 + fK * (<span class="keywordtype">int</span>)((<span class="keywordtype">int</span>)*v0111 - (<span class="keywordtype">int</span>)*v0110);
06630         fVx1xx = fVxx0x + fJ * (fVxx1x - fVxx0x);
06631         fV0xxx = fVx0xx + fI * (fVx1xx - fVx0xx);
06632 
06633         <span class="comment">//</span>
06634         <span class="comment">// Calculate the average of 8 upper cells.</span>
06635         <span class="comment">//</span>
06636 
06637         fVxx0x = *v1000 + fK * (<span class="keywordtype">int</span>)((<span class="keywordtype">int</span>)*v1001 - (<span class="keywordtype">int</span>)*v1000);
06638         fVxx1x = *v1010 + fK * (<span class="keywordtype">int</span>)((<span class="keywordtype">int</span>)*v1011 - (<span class="keywordtype">int</span>)*v1010);
06639         fVx0xx = fVxx0x + fJ * (fVxx1x - fVxx0x);
06640         fVxx0x = *v1100 + fK * (<span class="keywordtype">int</span>)((<span class="keywordtype">int</span>)*v1101 - (<span class="keywordtype">int</span>)*v1100);
06641         fVxx1x = *v1110 + fK * (<span class="keywordtype">int</span>)((<span class="keywordtype">int</span>)*v1111 - (<span class="keywordtype">int</span>)*v1110);
06642         fVx1xx = fVxx0x + fJ * (fVxx1x - fVxx0x);
06643         fV1xxx = fVx0xx + fI * (fVx1xx - fVx0xx);
06644 
06645         <span class="comment">//</span>
06646         <span class="comment">// Calculate the bottom and upper average.</span>
06647         <span class="comment">//</span>
06648 
06649         pfTemp[idx] = (fV0xxx + fH * (fV1xxx - fV0xxx)) / <a class="code" href="../../d8/d5/aug98_2dll32_2profcrd_8c.html#a1">MAXCOLOR8</a>;
06650 
06651         <span class="keywordflow">if</span> (idx &lt; (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(nOutputCh - 1))
06652         {
06653             v0000++;
06654             v0001++;
06655             v0010++;
06656             v0011++;
06657             v0100++;
06658             v0101++;
06659             v0110++;
06660             v0111++;
06661             v1000++;
06662             v1001++;
06663             v1010++;
06664             v1011++;
06665             v1100++;
06666             v1101++;
06667             v1110++;
06668             v1111++;
06669         }
06670     }
06671 
06672     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
06673 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a229" doxytag="ps2.c::WriteByteString" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> WriteByteString           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04401">4401</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01563">CreateInputArray()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00186">CreateLutCRD()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01452">CreateOutputArray()</a>, and <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00261">GetPS2CSA_DEFG()</a>.
<p>
<pre class="fragment"><div>04406 {
04407     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  i;
04408 
04409     <span class="keywordflow">for</span> (i=0; i&lt;dwBytes; i++)
04410         *pBuffer++ = *pData++;
04411 
04412     <span class="keywordflow">return</span> dwBytes;
04413 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a233" doxytag="ps2.c::WriteDouble" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> WriteDouble           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04554">4554</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, and <a class="el" href="../../d7/d9/wsprintf_8c-source.html#l00544">wsprintfA()</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l03495">CreateMatrixCRD()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l04441">WriteFixed()</a>.
<p>
<pre class="fragment"><div>04555 {
04556     LONG   lFloat  = (LONG) floor(dFloat * 10000.0 + 0.5);
04557     <span class="keywordtype">double</span> dFloat1 = lFloat  / 10000.0 ;
04558     <span class="keywordtype">double</span> dInt    = floor(fabs(dFloat1));
04559     <span class="keywordtype">double</span> dFract =  fabs(dFloat1) - dInt ;
04560     <span class="keywordtype">char</span>   cSign  = <span class="charliteral">' '</span> ;
04561 
04562     <span class="keywordflow">if</span> (dFloat1 &lt; 0)
04563     {
04564         cSign = <span class="charliteral">'-'</span> ;
04565     }
04566 
04567     <span class="keywordflow">return</span> (<a class="code" href="../../d6/d0/wsprintf_8c.html#a6">wsprintfA</a>(pBuffer, (LPSTR) <span class="stringliteral">"%c%d.%0.4lu "</span>,
04568                         cSign, (WORD) dInt , (DWORD) (dFract * 10000.0)));
04569 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a231" doxytag="ps2.c::WriteFixed" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> WriteFixed           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d2/d9/ps2_8c.html#a55">FIX_16_16</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04441">4441</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d3/d8/ps2_8c-source.html#l00027">FIX_16_16_SCALE</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l04554">WriteDouble()</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l02657">CreateFloatString()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01519">GetPS2CSA_ABC()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01747">GetPS2CSA_ABC_Lab()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01895">GetPS2CSA_DEFG()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01279">GetPS2CSA_MONO_A()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l02382">InternalGetPS2CSAFromLCS()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04762">SendCRDABC()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04587">SendCRDBWPoint()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04689">SendCRDLMN()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l04621">SendCRDPQR()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l05027">SendCSABWPoint()</a>.
<p>
<pre class="fragment"><div>04445 {
04446     <span class="keywordtype">double</span> dFloat = (<span class="keywordtype">double</span>) ((<span class="keywordtype">long</span>) fxNum) / (<span class="keywordtype">double</span>) <a class="code" href="../../d2/d9/ps2_8c.html#a5">FIX_16_16_SCALE</a>;
04447 
04448     <span class="keywordflow">return</span> (<a class="code" href="../../d2/d9/ps2_8c.html#a233">WriteDouble</a>(pBuffer,dFloat));
04449 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a232" doxytag="ps2.c::WriteFixed2dot30" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> WriteFixed2dot30           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04500">4500</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, and <a class="el" href="../../d7/d9/wsprintf_8c-source.html#l00544">wsprintfA()</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l02382">InternalGetPS2CSAFromLCS()</a>.
<p>
<pre class="fragment"><div>04504 {
04505     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pStart = pBuffer;
04506     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> i;
04507 
04508     <span class="comment">//</span>
04509     <span class="comment">// Integer portion</span>
04510     <span class="comment">//</span>
04511 
04512 <span class="preprocessor">    #ifndef KERNEL_MODE</span>
04513 <span class="preprocessor"></span>    pBuffer += <a class="code" href="../../d6/d0/wsprintf_8c.html#a6">wsprintfA</a>(pBuffer, <span class="stringliteral">"%lu"</span>, fxNum &gt;&gt; 30);
04514 <span class="preprocessor">    #else</span>
04515 <span class="preprocessor"></span>    pBuffer += OPSprintf(pBuffer, <span class="stringliteral">"%l"</span>, fxNum &gt;&gt; 30);
04516 <span class="preprocessor">    #endif</span>
04517 <span class="preprocessor"></span>
04518     <span class="comment">//</span>
04519     <span class="comment">// Fractional part</span>
04520     <span class="comment">//</span>
04521 
04522     fxNum &amp;= 0x3fffffff<a class="code" href="../../d2/d0/aw_8h.html#a3">L</a>;
04523     <span class="keywordflow">if</span> (fxNum != 0)
04524     {
04525         <span class="comment">//</span>
04526         <span class="comment">// We output a maximum of 10 digits after the</span>
04527         <span class="comment">// decimal point</span>
04528         <span class="comment">//</span>
04529 
04530         *pBuffer++ = <span class="charliteral">'.'</span>;
04531 
04532         i = 0;
04533         <span class="keywordflow">while</span> (fxNum &amp;&amp; i++ &lt; 10)
04534         {
04535             fxNum *= 10;
04536             *pBuffer++ = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)(fxNum &gt;&gt; 30) + <span class="charliteral">'0'</span>;  <span class="comment">// quotient + '0'</span>
04537             fxNum -= ((fxNum &gt;&gt; 30) &lt;&lt; 30);          <span class="comment">// remainder</span>
04538         }
04539     }
04540 
04541     *pBuffer++ = <span class="charliteral">' '</span>;
04542 
04543     <span class="keywordflow">return</span> (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>) (pBuffer - pStart);
04544 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a227" doxytag="ps2.c::WriteHexBuffer" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> WriteHexBuffer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04351">4351</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00021">MAX_LINELEN</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00063">NewLine</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00081">WriteHex</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01563">CreateInputArray()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00186">CreateLutCRD()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01452">CreateOutputArray()</a>, and <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00261">GetPS2CSA_DEFG()</a>.
<p>
<pre class="fragment"><div>04357 {
04358     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>  pStart = pBuffer;
04359 
04360     <span class="keywordflow">for</span> ( ; dwBytes ; dwBytes-- )
04361     {
04362         <a class="code" href="../../d2/d9/ps2_8c.html#a45">WriteHex</a>(pBuffer, *pData);
04363         pBuffer += 2;
04364         pData++;
04365         <span class="keywordflow">if</span> (((<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(pBuffer - pLineStart)) &gt; <a class="code" href="../../d2/d9/ps2_8c.html#a0">MAX_LINELEN</a>)
04366         {
04367             pLineStart = pBuffer;
04368             pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer,  NewLine);
04369         }
04370     }
04371     <span class="keywordflow">return</span>( (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(pBuffer - pStart));
04372 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a224" doxytag="ps2.c::WriteHNAToken" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> WriteHNAToken           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04274">4274</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>.
<p>
Referenced by <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01372">CreateColSpArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03788">CreateCRDRevArray()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01563">CreateInputArray()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01452">CreateOutputArray()</a>, and <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00678">CreateRevArray()</a>.
<p>
<pre class="fragment"><div>04279 {
04280     *pBuffer++ = token;
04281     *pBuffer++ = 32;       <span class="comment">// 16-bit fixed integer, high-order byte first</span>
04282     *pBuffer++ = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)((dwNum &amp; 0xFF00) &gt;&gt; 8);
04283     *pBuffer++ = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)(dwNum &amp; 0x00FF);
04284 
04285     <span class="keywordflow">return</span> 4;
04286 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a230" doxytag="ps2.c::WriteInt2ByteString" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> WriteInt2ByteString           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04422">4422</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, and <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>.
<p>
Referenced by <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00186">CreateLutCRD()</a>, and <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00261">GetPS2CSA_DEFG()</a>.
<p>
<pre class="fragment"><div>04427 {
04428     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>  i;
04429 
04430     <span class="keywordflow">for</span> (i=0; i&lt;dwBytes ; i++)
04431     {
04432         *pBuffer++ = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)(FIX_ENDIAN16(*((PWORD)pData))/256);
04433         pData += <span class="keyword">sizeof</span>(WORD);
04434     }
04435 
04436     <span class="keywordflow">return</span> dwBytes;
04437 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a225" doxytag="ps2.c::WriteIntStringU2S" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> WriteIntStringU2S           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04296">4296</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, and <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>.
<p>
Referenced by <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01372">CreateColSpArray()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01563">CreateInputArray()</a>, and <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01452">CreateOutputArray()</a>.
<p>
<pre class="fragment"><div>04301 {
04302     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> i, dwTemp;
04303 
04304     <span class="keywordflow">for</span> (i=0; i&lt;dwNum; i++)
04305     {
04306         dwTemp = FIX_ENDIAN16(*((PWORD)pData)) - 32768;
04307         *pBuffer++ = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)((dwTemp &amp; 0xFF00) &gt;&gt; 8);
04308         *pBuffer++ = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)(dwTemp &amp; 0x00FF);
04309         pData += <span class="keyword">sizeof</span>(WORD);
04310     }
04311 
04312     <span class="keywordflow">return</span> dwNum * 2;
04313 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a226" doxytag="ps2.c::WriteIntStringU2S_L" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> WriteIntStringU2S_L           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04324">4324</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>, and <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l03788">CreateCRDRevArray()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01563">CreateInputArray()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01452">CreateOutputArray()</a>, and <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00678">CreateRevArray()</a>.
<p>
<pre class="fragment"><div>04329 {
04330     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> i, dwTemp;
04331 
04332     <span class="keywordflow">for</span> (i=0; i&lt;dwNum; i++)
04333     {
04334         dwTemp = *((PWORD)pData) - 32768;
04335         *pBuffer++ = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)((dwTemp &amp; 0xFF00) &gt;&gt; 8);
04336         *pBuffer++ = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)(dwTemp &amp; 0x00FF);
04337         pData += <span class="keyword">sizeof</span>(WORD);
04338     }
04339 
04340     <span class="keywordflow">return</span> dwNum * 2;
04341 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a223" doxytag="ps2.c::WriteNewLineObject" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> WriteNewLineObject           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04573">4573</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d1/d4/perfuser_8c-source.html#l00052">DWORD</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00063">NewLine</a>, <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">PBYTE</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00072">WriteObject</a>.
<p>
Referenced by <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00207">BeginGlobalDict()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01372">CreateColSpArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l03788">CreateCRDRevArray()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01563">CreateInputArray()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00186">CreateLutCRD()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00877">CreateMatrixCRD()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00487">CreateMonoCRD()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01452">CreateOutputArray()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00678">CreateRevArray()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00227">EnableGlobalDict()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00217">EndGlobalDict()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00092">GetDeviceCMYK()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00117">GetDeviceGray()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00041">GetDeviceRGB()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01579">GetPS2ColorSpaceArray()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00642">GetPS2CSA_ABC()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01747">GetPS2CSA_ABC_Lab()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00812">GetPS2CSA_ABC_LAB()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00261">GetPS2CSA_DEFG()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l01087">GetPS2CSA_MONO_A()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00927">GetPS2CSA_MONO_ABC()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01954">GetPS2PreviewColorRenderingDictionary()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00464">InternalGetPS2ColorSpaceArray()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01756">SendCRDABC()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01858">SendCRDBWPoint()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01650">SendCRDLMN()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01880">SendCRDOutputTable()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01708">SendCRDPQR()</a>, and <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00165">SendCSABWPoint()</a>.
<p>
<pre class="fragment"><div>04576 {
04577     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> pStart = pBuffer;
04578 
04579     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, NewLine);
04580     pBuffer += <a class="code" href="../../d2/d9/ps2_8c.html#a43">WriteObject</a>(pBuffer, pData);
04581 
04582     <span class="keywordflow">return</span> (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(pBuffer - pStart);
04583 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a228" doxytag="ps2.c::WriteStringToken" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> WriteStringToken           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l04381">4381</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d0/d7/halvprnt_8c-source.html#l00031">BYTE</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01563">CreateInputArray()</a>, <a class="el" href="../../d7/d1/aug98_2dll32_2getcrd_8c-source.html#l00186">CreateLutCRD()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01452">CreateOutputArray()</a>, <a class="el" href="../../d8/d2/aug98_2dll32_2getcsa_8c-source.html#l00261">GetPS2CSA_DEFG()</a>, <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01954">GetPS2PreviewColorRenderingDictionary()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00847">InternalGetPS2PreviewCRD()</a>.
<p>
<pre class="fragment"><div>04386 {
04387     *pBuffer++ = token;
04388     *pBuffer++ = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)((dwNum &amp; 0xFF00) &gt;&gt; 8);
04389     *pBuffer++ = (<a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>)(dwNum &amp; 0x00FF);
04390 
04391     <span class="keywordflow">return</span> 3;
04392 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a249" doxytag="ps2.c::XYZToLab" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void XYZToLab           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">float *&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>float *&nbsp;</td>
          <td class="mdname" nowrap>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d2/d9/ps2_8c.html#a56">PFIX_16_16</a>&nbsp;</td>
          <td class="mdname" nowrap></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l06449">6449</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
References <a class="el" href="../../d3/d8/ps2_8c-source.html#l00027">FIX_16_16_SCALE</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l06408">inverse_g()</a>.
<p>
Referenced by <a class="el" href="../../d9/d4/aug98_2dll32_2profcrd_8c-source.html#l01169">DoHostConversionCRD()</a>.
<p>
<pre class="fragment"><div>06454 {
06455     <span class="keywordtype">float</span>  fL, fa, fb;
06456 
06457     fL = <a class="code" href="../../d2/d9/ps2_8c.html#a245">inverse_g</a>(pfInput[0] * FIX_16_16_SCALE / pafxWP[0]);
06458     fa = <a class="code" href="../../d2/d9/ps2_8c.html#a245">inverse_g</a>(pfInput[1] * FIX_16_16_SCALE / pafxWP[1]);
06459     fb = <a class="code" href="../../d2/d9/ps2_8c.html#a245">inverse_g</a>(pfInput[2] * FIX_16_16_SCALE / pafxWP[2]);
06460 
06461     pfOutput[0] = (fa * 116 - 16) / 100;
06462     pfOutput[1] = (fL * 500 - fa * 500 + 128) / 255;
06463     pfOutput[2] = (fa * 200 - fb * 200 + 128) / 255;
06464 
06465     <span class="keywordflow">return</span>;
06466 }
</div></pre>    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a67" doxytag="ps2.c::ASCII85DecodeBegin" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a67">ASCII85DecodeBegin</a>[] = "&lt;~"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00276">276</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l04234">Ascii85Encode()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01172">GetCSAFromProfile()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00713">InternalGetPS2ColorRenderingDictionary()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a68" doxytag="ps2.c::ASCII85DecodeEnd" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a68">ASCII85DecodeEnd</a>[] = "~&gt; cvx exec "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00277">277</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l04234">Ascii85Encode()</a>, <a class="el" href="../../d3/d8/ps2_8c-source.html#l01172">GetCSAFromProfile()</a>, and <a class="el" href="../../d3/d8/ps2_8c-source.html#l00713">InternalGetPS2ColorRenderingDictionary()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a79" doxytag="ps2.c::BeginArray" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a79">BeginArray</a>[] = "["          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00294">294</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a83" doxytag="ps2.c::BeginDict" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a83">BeginDict</a>[] = "&lt;&lt;"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00298">298</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a81" doxytag="ps2.c::BeginFunction" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a81">BeginFunction</a>[] = "{"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00296">296</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a128" doxytag="ps2.c::BeginOp" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a128">BeginOp</a>[] = "begin "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00353">353</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a77" doxytag="ps2.c::BeginString" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a77">BeginString</a>[] = "&lt;"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00292">292</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a85" doxytag="ps2.c::BlackPoint" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a85">BlackPoint</a>[] = "[0 0 0]"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00300">300</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a93" doxytag="ps2.c::BlackPointTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a93">BlackPointTag</a>[] = "/BlackPoint "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00309">309</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a141" doxytag="ps2.c::CieBasedABCBegin" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a141">CieBasedABCBegin</a>[] = "%** CieBasedABC CSA Begin "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00367">367</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a145" doxytag="ps2.c::CieBasedABCEnd" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a145">CieBasedABCEnd</a>[] = "%** CieBasedABC CSA <a class="el" href="../../d5/d2/config_2ia64_2initia64_8c.html#a15">End</a> "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00371">371</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a109" doxytag="ps2.c::CIEBasedABCTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a109">CIEBasedABCTag</a>[] = "/CIEBasedABC "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00333">333</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a142" doxytag="ps2.c::CieBasedABegin" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a142">CieBasedABegin</a>[] = "%** CieBasedA CSA Begin "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00368">368</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a146" doxytag="ps2.c::CieBasedAEnd" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a146">CieBasedAEnd</a>[] = "%** CieBasedA CSA <a class="el" href="../../d5/d2/config_2ia64_2initia64_8c.html#a15">End</a> "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00372">372</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a108" doxytag="ps2.c::CIEBasedATag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a108">CIEBasedATag</a>[] = "/CIEBasedA "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00332">332</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a140" doxytag="ps2.c::CieBasedDEFBegin" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a140">CieBasedDEFBegin</a>[] = "%** CieBasedDEF CSA Begin "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00366">366</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a144" doxytag="ps2.c::CieBasedDEFEnd" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a144">CieBasedDEFEnd</a>[] = "%** CieBasedDEF CSA <a class="el" href="../../d5/d2/config_2ia64_2initia64_8c.html#a15">End</a> "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00370">370</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a139" doxytag="ps2.c::CieBasedDEFGBegin" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a139">CieBasedDEFGBegin</a>[] = "%** CieBasedDEFG CSA Begin "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00365">365</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a143" doxytag="ps2.c::CieBasedDEFGEnd" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a143">CieBasedDEFGEnd</a>[] = "%** CieBasedDEFG CSA <a class="el" href="../../d5/d2/config_2ia64_2initia64_8c.html#a15">End</a> "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00369">369</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a110" doxytag="ps2.c::CIEBasedDEFGTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a110">CIEBasedDEFGTag</a>[] = "/CIEBasedDEFG "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00334">334</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a111" doxytag="ps2.c::CIEBasedDEFTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a111">CIEBasedDEFTag</a>[] = "/CIEBasedDEF "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00335">335</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a151" doxytag="ps2.c::Clip01" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a151">Clip01</a>[] = "dup 1.0 ge{pop 1.0}{dup 0.0 lt{pop 0.0}if}ifelse "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00377">377</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a173" doxytag="ps2.c::ColorSpace1" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a173">ColorSpace1</a>[] = "/CIEBasedABC &lt;&lt; /DecodeLMN "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00404">404</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l02382">InternalGetPS2CSAFromLCS()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a174" doxytag="ps2.c::ColorSpace3" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a174">ColorSpace3</a>[] = " exp} bind "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00405">405</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l02382">InternalGetPS2CSAFromLCS()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a175" doxytag="ps2.c::ColorSpace5" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a175">ColorSpace5</a>[] = "/WhitePoint [0.9642 1 0.8249] "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00406">406</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l02382">InternalGetPS2CSAFromLCS()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a180" doxytag="ps2.c::crc_32_tab" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="el" href="../../d2/d9/ps2_8c.html#a180">crc_32_tab</a>[]<code> [static]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l06808">6808</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l06843">crc32()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a137" doxytag="ps2.c::CRDBegin" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a137">CRDBegin</a>[] = "%** CRD Begin "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00363">363</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a138" doxytag="ps2.c::CRDEnd" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a138">CRDEnd</a>[] = "%** CRD <a class="el" href="../../d5/d2/config_2ia64_2initia64_8c.html#a15">End</a> "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00364">364</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a125" doxytag="ps2.c::CurrentGlobalOp" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a125">CurrentGlobalOp</a>[] = "currentglobal "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00350">350</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a152" doxytag="ps2.c::DecodeA3" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a152">DecodeA3</a>[] = "256 div exp "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00378">378</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a153" doxytag="ps2.c::DecodeA3Rev" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a153">DecodeA3Rev</a>[] = "256 div 1.0 exch div exp "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00379">379</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a154" doxytag="ps2.c::DecodeABCArray" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a154">DecodeABCArray</a>[] = "DecodeABC_"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00380">380</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a172" doxytag="ps2.c::DecodeABCLab" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char* <a class="el" href="../../d2/d9/ps2_8c.html#a172">DecodeABCLab</a>[]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div> {<span class="stringliteral">"50 mul 16 add 116 div "</span>,
                                   <span class="stringliteral">"128 mul 128 sub 500 div"</span>,
                                   <span class="stringliteral">"128 mul 128 sub 200 div"</span>}
</div></pre>
<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00400">400</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l01895">GetPS2CSA_DEFG()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a163" doxytag="ps2.c::DecodeABCLab1" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a163">DecodeABCLab1</a>[] = "[{16 add 116 div} bind {500 div} bind {200 div} bind]"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00389">389</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a113" doxytag="ps2.c::DecodeABCTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a113">DecodeABCTag</a>[] = "/DecodeABC "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00337">337</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a164" doxytag="ps2.c::DecodeALab" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a164">DecodeALab</a>[] = " 50 mul 16 add 116 div "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00390">390</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a112" doxytag="ps2.c::DecodeATag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a112">DecodeATag</a>[] = "/DecodeA "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00336">336</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a119" doxytag="ps2.c::DecodeDEFGTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a119">DecodeDEFGTag</a>[] = "/DecodeDEFG "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00343">343</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a120" doxytag="ps2.c::DecodeDEFTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a120">DecodeDEFTag</a>[] = "/DecodeDEF "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00344">344</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a165" doxytag="ps2.c::DecodeLMNLab" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a165">DecodeLMNLab</a>[] = "dup 0.206897 ge{dup dup mul mul}{0.137931 sub 0.128419 mul} ifelse "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00391">391</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a114" doxytag="ps2.c::DecodeLMNTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a114">DecodeLMNTag</a>[] = "/DecodeLMN "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00338">338</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a127" doxytag="ps2.c::DefOp" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a127">DefOp</a>[] = "def "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00352">352</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a116" doxytag="ps2.c::DeviceCMYKTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a116">DeviceCMYKTag</a>[] = "/DeviceCMYK "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00340">340</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a117" doxytag="ps2.c::DeviceGrayTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a117">DeviceGrayTag</a>[] = "/DeviceGray "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00341">341</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a115" doxytag="ps2.c::DeviceRGBTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a115">DeviceRGBTag</a>[] = "/DeviceRGB "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00339">339</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a86" doxytag="ps2.c::DictType" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a86">DictType</a>[] = "/ColorRenderingType 1 "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00301">301</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a133" doxytag="ps2.c::DivOp" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a133">DivOp</a>[] = "div "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00358">358</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a122" doxytag="ps2.c::DupOp" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a122">DupOp</a>[] = "dup "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00347">347</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a170" doxytag="ps2.c::EncodeABCLab1" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a170">EncodeABCLab1</a>[] = "16 sub 100 div "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00398">398</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a171" doxytag="ps2.c::EncodeABCLab2" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a171">EncodeABCLab2</a>[] = "128 add 255 div "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00399">399</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a103" doxytag="ps2.c::EncodeABCTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a103">EncodeABCTag</a>[] = "/EncodeABC "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00327">327</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a167" doxytag="ps2.c::EncodeLMNLab" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a167">EncodeLMNLab</a>[] = "dup 0.008856 le{7.787 mul 0.13793 add}{0.3333 exp}ifelse "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00394">394</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a106" doxytag="ps2.c::EncodeLMNTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a106">EncodeLMNTag</a>[] = "/EncodeLMN "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00330">330</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a80" doxytag="ps2.c::EndArray" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a80">EndArray</a>[] = "]"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00295">295</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a76" doxytag="ps2.c::EndClip" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a76">EndClip</a>[] = "}if}if "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00291">291</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a84" doxytag="ps2.c::EndDict" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a84">EndDict</a>[] = "&gt;&gt;"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00299">299</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a82" doxytag="ps2.c::EndFunction" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a82">EndFunction</a>[] = "}bind "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00297">297</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a129" doxytag="ps2.c::EndOp" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a129">EndOp</a>[] = "end "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00354">354</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a78" doxytag="ps2.c::EndString" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a78">EndString</a>[] = "&gt;"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00293">293</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a131" doxytag="ps2.c::FalseOp" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a131">FalseOp</a>[] = "false "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00356">356</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a124" doxytag="ps2.c::GlobalDictOp" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a124">GlobalDictOp</a>[] = "globaldict "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00349">349</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a149" doxytag="ps2.c::Identity" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a149">Identity</a>[] = "[1 0 0 0 1 0 0 0 1]"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00375">375</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a74" doxytag="ps2.c::IndexArray" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a74">IndexArray</a>[]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div> <span class="stringliteral">" dup length 1 sub 3 -1 roll mul dup dup floor cvi\</span>
<span class="stringliteral"> exch ceiling cvi 3 index exch get 4 -1 roll 3 -1 roll get\</span>
<span class="stringliteral"> dup 3 1 roll sub 3 -1 roll dup floor cvi sub mul add "</span>
</div></pre>
<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00287">287</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a73" doxytag="ps2.c::IndexArray16b" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a73">IndexArray16b</a>[]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div> <span class="stringliteral">" dup length 1 sub 3 -1 roll mul dup dup floor cvi\</span>
<span class="stringliteral"> exch ceiling cvi 3 index exch get 32768 add 4 -1 roll 3 -1 roll get 32768 add\</span>
<span class="stringliteral"> dup 3 1 roll sub 3 -1 roll dup floor cvi sub mul add "</span>
</div></pre>
<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00283">283</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a155" doxytag="ps2.c::InputArray" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a155">InputArray</a>[] = "Inp_"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00381">381</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a90" doxytag="ps2.c::IntentACol" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a90">IntentACol</a>[] = "/AbsoluteColorimetric"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00305">305</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a88" doxytag="ps2.c::IntentPer" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a88">IntentPer</a>[] = "/Perceptual"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00303">303</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a91" doxytag="ps2.c::IntentRCol" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a91">IntentRCol</a>[] = "/RelativeColorimetric"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00306">306</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a89" doxytag="ps2.c::IntentSat" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a89">IntentSat</a>[] = "/Saturation"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00304">304</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a87" doxytag="ps2.c::IntentType" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a87">IntentType</a>[] = "/RenderingIntent "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00302">302</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a162" doxytag="ps2.c::MatrixABCLab" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a162">MatrixABCLab</a>[] = "[1 1 1 1 0 0 0 0 -1]"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00388">388</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a168" doxytag="ps2.c::MatrixABCLabCRD" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a168">MatrixABCLabCRD</a>[] = "[0 500 0 116 -500 200 0 0 -200]"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00396">396</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a102" doxytag="ps2.c::MatrixABCTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a102">MatrixABCTag</a>[] = "/MatrixABC "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00326">326</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a169" doxytag="ps2.c::MatrixABCXYZCRD" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a169">MatrixABCXYZCRD</a>[] = "[0 1 0 1 0 0 0 0 1]"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00397">397</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a101" doxytag="ps2.c::MatrixATag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a101">MatrixATag</a>[] = "/MatrixA "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00325">325</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a105" doxytag="ps2.c::MatrixLMNTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a105">MatrixLMNTag</a>[] = "/MatrixLMN "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00329">329</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a98" doxytag="ps2.c::MatrixPQR" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a98">MatrixPQR</a>[] = "[0.8951 -0.7502 0.0389 0.2664 1.7135 -0.0685 -0.1614 0.0367 1.0296]"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00314">314</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a96" doxytag="ps2.c::MatrixPQRTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a96">MatrixPQRTag</a>[] = "/MatrixPQR "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00312">312</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a132" doxytag="ps2.c::MulOp" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a132">MulOp</a>[] = "mul "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00357">357</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a134" doxytag="ps2.c::NewLine" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a134">NewLine</a>[] = "\r\<a class="el" href="../../d7/d0/exts_8h.html#a0">n</a>"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00360">360</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a71" doxytag="ps2.c::NotSupportDEFG_S" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a71">NotSupportDEFG_S</a>[] = "SupportDEFG? not { "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00281">281</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a121" doxytag="ps2.c::NullOp" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a121">NullOp</a>[] = ""          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00346">346</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a156" doxytag="ps2.c::OutputArray" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a156">OutputArray</a>[] = "Out_"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00382">382</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a176" doxytag="ps2.c::PreViewInArray" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a176">PreViewInArray</a>[] = "IPV_"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00408">408</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a177" doxytag="ps2.c::PreViewOutArray" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a177">PreViewOutArray</a>[] = "OPV_"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00409">409</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a147" doxytag="ps2.c::RangeABC" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a147">RangeABC</a>[] = "[ 0 1 0 1 0 1 ] "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00373">373</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a150" doxytag="ps2.c::RangeABC_Lab" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a150">RangeABC_Lab</a>[] = "[0 100 -128 127 -128 127]"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00376">376</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a100" doxytag="ps2.c::RangeABCTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a100">RangeABCTag</a>[] = "/RangeABC "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00324">324</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a148" doxytag="ps2.c::RangeLMN" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a148">RangeLMN</a>[] = "[ 0 2 0 2 0 2 ] "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00374">374</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a166" doxytag="ps2.c::RangeLMNLab" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a166">RangeLMNLab</a>[] = "[0 1 0 1 0 1]"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00393">393</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a104" doxytag="ps2.c::RangeLMNTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a104">RangeLMNTag</a>[] = "/RangeLMN "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00328">328</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a97" doxytag="ps2.c::RangePQR" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a97">RangePQR</a>[] = "[ -0.07 2.2 -0.02 1.4 -0.2 4.8 ]"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00313">313</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a94" doxytag="ps2.c::RangePQRTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a94">RangePQRTag</a>[] = "/RangePQR "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00310">310</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a107" doxytag="ps2.c::RenderTableTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a107">RenderTableTag</a>[] = "/RenderTable "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00331">331</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a158" doxytag="ps2.c::Scale16" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a158">Scale16</a>[] = "65535 div "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00384">384</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a159" doxytag="ps2.c::Scale16XYZ" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a159">Scale16XYZ</a>[] = "32768 div "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00385">385</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a157" doxytag="ps2.c::Scale8" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a157">Scale8</a>[] = "255 div "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00383">383</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a126" doxytag="ps2.c::SetGlobalOp" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a126">SetGlobalOp</a>[] = "setglobal "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00351">351</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a135" doxytag="ps2.c::Slash" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a135">Slash</a>[] = "/"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00361">361</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a136" doxytag="ps2.c::Space" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a136">Space</a>[] = " "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00362">362</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a179" doxytag="ps2.c::sRGBColorRenderingDictionary" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a179">sRGBColorRenderingDictionary</a>[]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div> <span class="stringliteral">"\</span>
<span class="stringliteral">/RangePQR [ -0.5 2 -0.5 2 -0.5 2 ] \r\n\</span>
<span class="stringliteral">/MatrixPQR [0.8951 -0.7502  0.0389 0.2664  1.7135 -0.0685 -0.1614  0.0367  1.0296] \r\n\</span>
<span class="stringliteral">/TransformPQR [\</span>
<span class="stringliteral">{4 index 0 get div 2 index 0 get mul 4 {exch pop} repeat} \</span>
<span class="stringliteral">{4 index 1 get div 2 index 1 get mul 4 {exch pop} repeat} \</span>
<span class="stringliteral">{4 index 2 get div 2 index 2 get mul 4 {exch pop} repeat}] \r\n\</span>
<span class="stringliteral">/MatrixLMN [3.240449 -0.969265  0.055643 -1.537136  1.876011 -0.204026 -0.498531  0.041556  1.057229] \r\n\</span>
<span class="stringliteral">/EncodeABC [{dup 0.00304 le {12.92321 mul}{1 2.4 div exp 1.055 mul 0.055 sub}ifelse} bind dup dup] \r\n\</span>
<span class="stringliteral">/WhitePoint[0.9505 1 1.0890] &gt;&gt;"</span>
</div></pre>
<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00428">428</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l03495">CreateMatrixCRD()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a178" doxytag="ps2.c::sRGBColorSpaceArray" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a178">sRGBColorSpaceArray</a>[]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div> <span class="stringliteral">"[/CIEBasedABC &lt;&lt; \r\n\</span>
<span class="stringliteral">/DecodeLMN [{dup 0.03928 le {12.92321 div}{0.055 add 1.055 div 2.4 exp}ifelse} bind dup dup ] \r\n\</span>
<span class="stringliteral">/MatrixLMN [0.412457 0.212673 0.019334 0.357576 0.715152 0.119192 0.180437 0.072175 0.950301] \r\n\</span>
<span class="stringliteral">/WhitePoint [ 0.9505 1 1.0890 ] &gt;&gt; ]"</span>
</div></pre>
<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00411">411</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d8/ps2_8c-source.html#l01519">GetPS2CSA_ABC()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a75" doxytag="ps2.c::StartClip" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a75">StartClip</a>[] = "dup 1.0 le{dup 0.0 ge{"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00290">290</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a72" doxytag="ps2.c::SupportDEFG_E" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a72">SupportDEFG_E</a>[] = "}if "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00282">282</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a70" doxytag="ps2.c::SupportDEFG_S" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a70">SupportDEFG_S</a>[] = "SupportDEFG? { "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00280">280</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a118" doxytag="ps2.c::TableTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a118">TableTag</a>[] = "/Table "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00342">342</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a69" doxytag="ps2.c::TestingDEFG" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a69">TestingDEFG</a>[]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div> <span class="stringliteral">"/SupportDEFG? {/CIEBasedDEFG \</span>
<span class="stringliteral"> /ColorSpaceFamily resourcestatus { pop pop languagelevel 3 ge}{false} ifelse} def"</span>
</div></pre>
<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00278">278</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a160" doxytag="ps2.c::TFunction8" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a160">TFunction8</a>[] = "exch 255 mul round cvi get 255 div "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00386">386</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a161" doxytag="ps2.c::TFunction8XYZ" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a161">TFunction8XYZ</a>[] = "exch 255 mul round cvi get 128 div "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00387">387</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a99" doxytag="ps2.c::TransformPQR" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char* <a class="el" href="../../d2/d9/ps2_8c.html#a99">TransformPQR</a>[3]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div> {<span class="stringliteral">"4 index 0 get div 2 index 0 get mul 4 {exch pop} repeat "</span>,
                                   <span class="stringliteral">"4 index 1 get div 2 index 1 get mul 4 {exch pop} repeat "</span>,
                                   <span class="stringliteral">"4 index 2 get div 2 index 2 get mul 4 {exch pop} repeat "</span> }
</div></pre>
<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00320">320</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a95" doxytag="ps2.c::TransformPQRTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a95">TransformPQRTag</a>[] = "/TransformPQR "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00311">311</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a130" doxytag="ps2.c::TrueOp" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a130">TrueOp</a>[] = "true "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00355">355</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a123" doxytag="ps2.c::UserDictOp" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a123">UserDictOp</a>[] = "userdict "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00348">348</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a92" doxytag="ps2.c::WhitePointTag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const char <a class="el" href="../../d2/d9/ps2_8c.html#a92">WhitePointTag</a>[] = "/WhitePoint "          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d8/ps2_8c-source.html#l00308">308</a> of file <a class="el" href="../../d3/d8/ps2_8c-source.html">ps2.c</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:45:22 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
