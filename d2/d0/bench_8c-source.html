<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: bench.c Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>bench.c</h1><a href="../../d1/d1/bench_8c.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 
00002 <span class="comment">/*++</span>
00003 <span class="comment"></span>
00004 <span class="comment">Copyright (c) 1996  Microsoft Corporation</span>
00005 <span class="comment"></span>
00006 <span class="comment">Module Name</span>
00007 <span class="comment"></span>
00008 <span class="comment">   bench.c</span>
00009 <span class="comment"></span>
00010 <span class="comment">Abstract:</span>
00011 <span class="comment"></span>
00012 <span class="comment">   Measure time for a number of API calls or small application modules</span>
00013 <span class="comment"></span>
00014 <span class="comment">Author:</span>
00015 <span class="comment"></span>
00016 <span class="comment">   Dan Almosnino (danalm) July 96</span>
00017 <span class="comment">   Based on code by (MarkE) and DarrinM</span>
00018 <span class="comment"></span>
00019 <span class="comment">Enviornment:</span>
00020 <span class="comment"></span>
00021 <span class="comment">   User Mode</span>
00022 <span class="comment"></span>
00023 <span class="comment">Revision History:</span>
00024 <span class="comment"></span>
00025 <span class="comment">    Dan Almosnino (danalm) 20-Sept-195</span>
00026 <span class="comment"></span>
00027 <span class="comment">1. Timer call modified to run on both NT and WIN95.</span>
00028 <span class="comment"></span>
00029 <span class="comment">    Dan Almosnino (danalm) 20-Nov-1995</span>
00030 <span class="comment"></span>
00031 <span class="comment">1.  Modified Timer call to measure Pentium cycle counts when applicable</span>
00032 <span class="comment">2.  Modified default numbers for test iterations to accomodate the statistical module add-on.</span>
00033 <span class="comment">    (Typically 10 test samples are taken, doing 10-1000 iterations each).</span>
00034 <span class="comment"></span>
00035 <span class="comment">    Dan Almosnino (danalm) 25-July-96</span>
00036 <span class="comment"></span>
00037 <span class="comment">1.  Adapted to the same format as that of GDIbench, including the features above.</span>
00038 <span class="comment">2.  Cleanup some tests.</span>
00039 <span class="comment"></span>
00040 <span class="comment">--*/</span>
00041 
00042 <span class="preprocessor">#include "<a class="code" href="../../d3/d4/w32_2ntuser_2tools_2usrbench_2precomp_8h.html">precomp.h</a>"</span>
00043 <span class="preprocessor">#include "<a class="code" href="../../d2/d1/bench_8h.html">bench.h</a>"</span>
00044 <span class="preprocessor">#include "<a class="code" href="../../d0/d2/usrbench_8h.html">usrbench.h</a>"</span>
00045 <span class="preprocessor">#include "<a class="code" href="../../d3/d9/ntuser_2tools_2usrbench_2resource_8h.html">resource.h</a>"</span>
00046 
00047 <span class="preprocessor">#ifndef WIN32</span>
<a name="l00048"></a><a class="code" href="../../d1/d1/bench_8c.html#a0">00048</a> <span class="preprocessor"></span><span class="preprocessor">#define APIENTRY FAR PASCAL</span>
<a name="l00049"></a><a class="code" href="../../d1/d1/bench_8c.html#a15">00049</a> <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keywordtype">int</span> <a class="code" href="../../d9/d5/ndismain_8h.html#a263">INT</a>;
<a name="l00050"></a><a class="code" href="../../d1/d1/bench_8c.html#a16">00050</a> <span class="keyword">typedef</span> <span class="keywordtype">char</span> <a class="code" href="../../d1/d1/bench_8c.html#a16">CHAR</a>;
00051 <span class="preprocessor">#endif</span>
00052 <span class="preprocessor"></span>
<a name="l00053"></a><a class="code" href="../../d1/d1/bench_8c.html#a1">00053</a> <span class="preprocessor">#define SETWINDOWLONGVAL  99999L</span>
00054 <span class="preprocessor"></span><span class="comment">/*</span>
00055 <span class="comment"> * Function prototypes</span>
00056 <span class="comment"> */</span>
00057 INT_PTR <a class="code" href="../../d1/d1/bench_8c.html#a0">APIENTRY</a> <a class="code" href="../../d1/d1/bench_8c.html#a28">FileOpenDlgProc</a>(HWND, UINT, WPARAM, LPARAM);
00058 INT_PTR <a class="code" href="../../d1/d1/bench_8c.html#a0">APIENTRY</a> <a class="code" href="../../d1/d1/bench_8c.html#a29">ClearDlg</a>(HWND, UINT, WPARAM, LPARAM);
00059 INT_PTR <a class="code" href="../../d1/d1/bench_8c.html#a0">APIENTRY</a> <a class="code" href="../../d1/d1/bench_8c.html#a30">ClearDlgNoState</a>(HWND, UINT, WPARAM, LPARAM);
00060 LRESULT <a class="code" href="../../d1/d1/bench_8c.html#a0">APIENTRY</a> <a class="code" href="../../d1/d1/bench_8c.html#a31">CreateDestroyWndProc</a>(HWND hwnd, UINT msg, WPARAM wParam, LPARAM lParam);
00061 LRESULT <a class="code" href="../../d1/d1/bench_8c.html#a0">APIENTRY</a> <a class="code" href="../../d1/d1/bench_8c.html#a32">CreateDestroyWndProcW</a>(HWND hwnd, UINT msg, WPARAM wParam, LPARAM lParam);
00062 
00063 <span class="preprocessor">#ifdef ASSERT</span>
00064 <span class="preprocessor"></span><span class="preprocessor">#undef ASSERT</span>
00065 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00066 <span class="preprocessor"></span>
<a name="l00067"></a><a class="code" href="../../d1/d1/bench_8c.html#a2">00067</a> <span class="preprocessor">#define ASSERT(expr)    if (!(expr)) { char szBuf[256];                   \</span>
00068 <span class="preprocessor">sprintf(szBuf,"Assertion Failure %s %ld:"#expr"\n", __FILE__, __LINE__);  \</span>
00069 <span class="preprocessor">MessageBox(NULL, szBuf, "Assert Failure", MB_OK); }</span>
00070 <span class="preprocessor"></span>
00071 
<a name="l00072"></a><a class="code" href="../../d1/d1/bench_8c.html#a33">00072</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d1/d1/bench_8c.html#a33">DispErrorMsg</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* title)
00073 {
00074     <a class="code" href="../../d0/d5/perfuser_8c.html#a5">LPVOID</a> msgbuf;
00075 
00076     <span class="keywordflow">if</span> (title == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00077         title = <span class="stringliteral">"Error"</span>;
00078     }
00079     FormatMessage(FORMAT_MESSAGE_ALLOCATE_BUFFER | FORMAT_MESSAGE_FROM_SYSTEM,
00080         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
00081         GetLastError(),
00082         MAKELANGID(LANG_NEUTRAL, SUBLANG_DEFAULT), <span class="comment">// Default language</span>
00083         (LPTSTR) &amp;msgbuf,
00084         0,
00085         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
00086     MessageBox(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, msgbuf, title, MB_OK | MB_ICONEXCLAMATION);
00087     LocalFree(msgbuf);
00088 }
00089 
00090 <span class="comment">/*</span>
00091 <span class="comment"> * Global variables</span>
00092 <span class="comment"> */</span>
<a name="l00093"></a><a class="code" href="../../d1/d1/bench_8c.html#a17">00093</a> <a class="code" href="../../d1/d1/bench_8c.html#a16">CHAR</a> *<a class="code" href="../../d1/d1/bench_8c.html#a17">aszTypical</a>[] = {
00094     <span class="stringliteral">"change"</span>, <span class="stringliteral">"alteration"</span>, <span class="stringliteral">"amendment"</span>, <span class="stringliteral">"mutation"</span>, <span class="stringliteral">"permutation"</span>,
00095     <span class="stringliteral">"variation"</span>, <span class="stringliteral">"substitution"</span>, <span class="stringliteral">"modification"</span>, <span class="stringliteral">"transposition"</span>,
00096     <span class="stringliteral">"transformation"</span>
00097 };
<a name="l00098"></a><a class="code" href="../../d1/d1/bench_8c.html#a18">00098</a> <a class="code" href="../../d9/d5/ndismain_8h.html#a263">INT</a> <a class="code" href="../../d1/d1/bench_8c.html#a18">NStrings</a> = <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d1/bench_8c.html#a17">aszTypical</a>)/<span class="keyword">sizeof</span>(<a class="code" href="../../d1/d1/bench_8c.html#a17">aszTypical</a>[0]);
00099 
<a name="l00100"></a><a class="code" href="../../d1/d1/bench_8c.html#a19">00100</a> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d1/d1/bench_8c.html#a19">gfSetFocus</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
<a name="l00101"></a><a class="code" href="../../d1/d1/bench_8c.html#a3">00101</a> <span class="preprocessor">#define PROPCLASSNAME TEXT("PropWindow")</span>
00102 <span class="preprocessor"></span>
00103 <span class="comment">/*</span>
00104 <span class="comment"> * External global variables.</span>
00105 <span class="comment"> */</span>
00106 
<a name="l00107"></a><a class="code" href="../../d1/d1/bench_8c.html#a21">00107</a> <span class="keyword">extern</span> HWND <a class="code" href="../../d1/d1/bench_8c.html#a20">ghwndFrame</a>, <a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>;
<a name="l00108"></a><a class="code" href="../../d1/d1/bench_8c.html#a22">00108</a> <span class="keyword">extern</span> HANDLE <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>;
00109 
00110 <span class="comment">/*++</span>
00111 <span class="comment"></span>
00112 <span class="comment">Routine Description:</span>
00113 <span class="comment"></span>
00114 <span class="comment">    Measure start count</span>
00115 <span class="comment"></span>
00116 <span class="comment">Arguments</span>
00117 <span class="comment"></span>
00118 <span class="comment"></span>
00119 <span class="comment"></span>
00120 <span class="comment">Return Value - Performance Count</span>
00121 <span class="comment"></span>
00122 <span class="comment"></span>
00123 <span class="comment">--*/</span>
<a name="l00124"></a><a class="code" href="../../d1/d1/bench_8c.html#a23">00124</a> <span class="keyword">extern</span> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d1/d1/bench_8c.html#a23">gfPentium</a>;
00125 _int64
<a name="l00126"></a><a class="code" href="../../d1/d1/bench_8c.html#a34">00126</a> <a class="code" href="../../d1/d1/bench_8c.html#a34">BeginTimeMeasurement</a>()
00127 {
00128     _int64 PerformanceCount;
00129     <span class="keyword">extern</span> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d9/d1/usrbench_8c.html#a5">gfUseCycleCount</a>;
00130 
00131 <span class="preprocessor">#ifdef _X86_</span>
00132 <span class="preprocessor"></span>                SYSTEM_INFO SystemInfo;
00133                 GetSystemInfo(&amp;SystemInfo);
00134                 <span class="keywordflow">if</span>(<a class="code" href="../../d9/d1/usrbench_8c.html#a5">gfUseCycleCount</a>&amp;&amp;(PROCESSOR_INTEL_PENTIUM==SystemInfo.dwProcessorType))
00135                         <a class="code" href="../../d1/d1/bench_8c.html#a23">gfPentium</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00136                 <span class="keywordflow">else</span>
00137 <span class="preprocessor">#endif</span>
00138 <span class="preprocessor"></span>                        <a class="code" href="../../d1/d1/bench_8c.html#a23">gfPentium</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00139 <span class="preprocessor">#ifdef _X86_</span>
00140 <span class="preprocessor"></span>                <span class="keywordflow">if</span>(<a class="code" href="../../d1/d1/bench_8c.html#a23">gfPentium</a>)
00141                     PerformanceCount = <a class="code" href="../../d8/d1/cycle_8h.html#a1">GetCycleCount</a>();
00142                 <span class="keywordflow">else</span>
00143 <span class="preprocessor">#endif</span>
00144 <span class="preprocessor"></span>                QueryPerformanceCounter((LARGE_INTEGER *)&amp;PerformanceCount);
00145 
00146     <span class="keywordflow">return</span>(PerformanceCount);
00147 }
00148 
00149 <span class="comment">/*++</span>
00150 <span class="comment"></span>
00151 <span class="comment">Routine Description:</span>
00152 <span class="comment"></span>
00153 <span class="comment">    Measure stop count and return the calculated time difference</span>
00154 <span class="comment"></span>
00155 <span class="comment">Arguments</span>
00156 <span class="comment"></span>
00157 <span class="comment">    StartTime   = Start Time Count</span>
00158 <span class="comment">    Iter        = No. of Test Iterations</span>
00159 <span class="comment"></span>
00160 <span class="comment">Return Value - Test Time per Iteration, in 100 nano-second units</span>
00161 <span class="comment"></span>
00162 <span class="comment"></span>
00163 <span class="comment">--*/</span>
00164 
00165 ULONGLONG
<a name="l00166"></a><a class="code" href="../../d1/d1/bench_8c.html#a35">00166</a> <a class="code" href="../../d1/d1/bench_8c.html#a35">EndTimeMeasurement</a>(
00167     _int64  StartTime,
00168     ULONG      Iter)
00169 {
00170 
00171    _int64 PerformanceCount;
00172    <span class="keyword">extern</span>  _int64 <a class="code" href="../../d0/d2/usrbench_8h.html#a31">PerformanceFreq</a>;
00173    <span class="keyword">extern</span>  <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d1/d1/bench_8c.html#a23">gfPentium</a>;
00174 
00175 <span class="preprocessor">#ifdef _X86_</span>
00176 <span class="preprocessor"></span>                <span class="keywordflow">if</span>(<a class="code" href="../../d1/d1/bench_8c.html#a23">gfPentium</a>)
00177                 {
00178                     PerformanceCount = <a class="code" href="../../d8/d1/cycle_8h.html#a1">GetCycleCount</a>();
00179                     PerformanceCount -= <a class="code" href="../../d8/d1/cycle_8h.html#a0">CCNT_OVERHEAD</a>;
00180                 }
00181                 <span class="keywordflow">else</span>
00182 <span class="preprocessor">#endif</span>
00183 <span class="preprocessor"></span>                    QueryPerformanceCounter((LARGE_INTEGER *)&amp;PerformanceCount);
00184 
00185    PerformanceCount -= StartTime ;
00186 
00187 <span class="preprocessor">#ifdef _X86_</span>
00188 <span class="preprocessor"></span>                <span class="keywordflow">if</span>(<a class="code" href="../../d1/d1/bench_8c.html#a23">gfPentium</a>)
00189                     PerformanceCount /= Iter;
00190                 <span class="keywordflow">else</span>
00191 <span class="preprocessor">#endif</span>
00192 <span class="preprocessor"></span>                    PerformanceCount /= (<a class="code" href="../../d0/d2/usrbench_8h.html#a31">PerformanceFreq</a> * Iter); <span class="comment">// Result is in 100ns units</span>
00193                                                                   <span class="comment">// because PerformanceFreq</span>
00194                                                                   <span class="comment">// was set to Counts/(100ns)</span>
00195    <span class="keywordflow">return</span>((ULONGLONG)PerformanceCount);
00196 }
00198 
00199 <span class="comment">/*++</span>
00200 <span class="comment"></span>
00201 <span class="comment">Routine Description:</span>
00202 <span class="comment"></span>
00203 <span class="comment">   Measure APIs</span>
00204 <span class="comment"></span>
00205 <span class="comment">Arguments</span>
00206 <span class="comment"></span>
00207 <span class="comment">   hdc   - dc</span>
00208 <span class="comment">   iter  - number of times to call</span>
00209 <span class="comment"></span>
00210 <span class="comment">Return Value</span>
00211 <span class="comment"></span>
00212 <span class="comment">   time for calls</span>
00213 <span class="comment"></span>
00214 <span class="comment">--*/</span>
00215 
00216 <span class="comment">/***************************************************************************\</span>
00217 <span class="comment">* RegisterClass</span>
00218 <span class="comment">*</span>
00219 <span class="comment">*</span>
00220 <span class="comment">* History:</span>
00221 <span class="comment">\***************************************************************************/</span>
00222 
00223 ULONGLONG
<a name="l00224"></a><a class="code" href="../../d1/d1/bench_8c.html#a36">00224</a> <a class="code" href="../../d1/d1/bench_8c.html#a36">msProfRegisterClass</a>(
00225     HDC hdc,
00226     ULONG Iter)
00227 {
00228     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
00229     WNDCLASS wc;
00230 
00231     wc.style            = 0;
00232     wc.lpfnWndProc      = <a class="code" href="../../d1/d1/bench_8c.html#a31">CreateDestroyWndProc</a>;
00233     wc.cbClsExtra       = 0;
00234     wc.cbWndExtra       = 0;
00235     wc.hInstance        = <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>;
00236     wc.hIcon            = LoadIcon(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, (LPSTR)<a class="code" href="../../d2/d1/bench_8h.html#a2">IDUSERBENCH</a>);
00237     wc.hCursor          = LoadCursor(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, IDC_ARROW);
00238     wc.hbrBackground    = (HBRUSH)(COLOR_APPWORKSPACE + 1);
00239     wc.lpszMenuName     = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00240     wc.lpszClassName    = <a class="code" href="../../d1/d1/bench_8c.html#a3">PROPCLASSNAME</a>;
00241 
00242     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
00243 
00244     <span class="keywordflow">while</span> (ix--)
00245     {
00246         <a class="code" href="../../d5/d9/cltxt_8h.html#a7">RegisterClass</a>(&amp;wc);
00247         <a class="code" href="../../d0/d8/ntcftxt_8h.html#a30">UnregisterClass</a>(<a class="code" href="../../d1/d1/bench_8c.html#a3">PROPCLASSNAME</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>);
00248     }
00249 
00250     <a class="code" href="../../d0/d2/usrbench_8h.html#a5">END_TIMER</a>;
00251 
00252 }
00253 
00254 
00255 <span class="comment">/***************************************************************************\</span>
00256 <span class="comment">* Class Query APIs</span>
00257 <span class="comment">*</span>
00258 <span class="comment">*</span>
00259 <span class="comment">* History:</span>
00260 <span class="comment">\***************************************************************************/</span>
00261 
<a name="l00262"></a><a class="code" href="../../d1/d1/bench_8c.html#a37">00262</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a37">msProfClassGroup</a>(HDC hdc, ULONG Iter)
00263 {
00264 
00265     <span class="keywordtype">char</span> szBuf[50];
00266     HICON hIcon;
00267     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
00268     WNDCLASS wc;
00269 
00270     wc.style            = 0;
00271     wc.lpfnWndProc      = <a class="code" href="../../d1/d1/bench_8c.html#a31">CreateDestroyWndProc</a>;
00272     wc.cbClsExtra       = 0;
00273     wc.cbWndExtra       = 0;
00274     wc.hInstance        = <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>;
00275     wc.hIcon            = hIcon = LoadIcon(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, (LPSTR)<a class="code" href="../../d2/d1/bench_8h.html#a2">IDUSERBENCH</a>);
00276     wc.hCursor          = LoadCursor(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, IDC_ARROW);
00277     wc.hbrBackground    = (HBRUSH)(COLOR_APPWORKSPACE + 1);
00278     wc.lpszMenuName     = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00279     wc.lpszClassName    = <a class="code" href="../../d1/d1/bench_8c.html#a3">PROPCLASSNAME</a>;
00280     <a class="code" href="../../d5/d9/cltxt_8h.html#a7">RegisterClass</a>(&amp;wc);
00281 
00282     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
00283 
00284     <span class="keywordflow">while</span> (ix--)
00285     {
00286         <a class="code" href="../../d0/d8/ntcftxt_8h.html#a12">GetClassInfo</a>(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d1/d1/bench_8c.html#a3">PROPCLASSNAME</a>, &amp;wc);
00287         GetClassName(<a class="code" href="../../d1/d1/bench_8c.html#a20">ghwndFrame</a>, szBuf, <span class="keyword">sizeof</span>(szBuf)/<span class="keyword">sizeof</span>(szBuf[0]));
00288         <a class="code" href="../../d5/d9/cltxt_8h.html#a13">GetClassLongPtr</a>(<a class="code" href="../../d1/d1/bench_8c.html#a20">ghwndFrame</a>, GCLP_HBRBACKGROUND);
00289         <a class="code" href="../../d0/d8/ntcftxt_8h.html#a24">SetClassLongPtr</a>(<a class="code" href="../../d1/d1/bench_8c.html#a20">ghwndFrame</a>, GCLP_HICON, (LONG_PTR)hIcon);
00290     }
00291 
00292     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
00293 
00294     <a class="code" href="../../d0/d8/ntcftxt_8h.html#a30">UnregisterClass</a>(<a class="code" href="../../d1/d1/bench_8c.html#a3">PROPCLASSNAME</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>);
00295 
00296     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
00297 }
00298 
00299 
00300 <span class="comment">/***************************************************************************\</span>
00301 <span class="comment">* Clipboard APIs tests</span>
00302 <span class="comment">*</span>
00303 <span class="comment">*</span>
00304 <span class="comment">* History:</span>
00305 <span class="comment">\***************************************************************************/</span>
00306 
<a name="l00307"></a><a class="code" href="../../d1/d1/bench_8c.html#a38">00307</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a38">msProfClipboardGroup</a>(HDC hdc, ULONG Iter)
00308 {
00309 
00310     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
00311     HGLOBAL h;
00312     <span class="keywordtype">int</span> i;
00313 
00314     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
00315 
00316     <span class="keywordflow">while</span> (ix--)
00317     {
00318         <a class="code" href="../../d0/d2/usrbench_8h.html#a6">START_OVERHEAD</a>;
00319         h = GlobalAlloc(GPTR | GMEM_DDESHARE, 80);
00320         strcpy( h, <span class="stringliteral">"hello"</span>);
00321         <a class="code" href="../../d0/d2/usrbench_8h.html#a7">END_OVERHEAD</a>;
00322 
00323         <a class="code" href="../../d8/d9/client_2ntstubs_8c.html#a17">OpenClipboard</a>(<a class="code" href="../../d1/d1/bench_8c.html#a20">ghwndFrame</a>);
00324         EmptyClipboard();
00325         <a class="code" href="../../d3/d8/client_8c.html#a43">SetClipboardData</a>(CF_TEXT, h);
00326         <a class="code" href="../../d3/d8/client_8c.html#a42">GetClipboardData</a>(CF_TEXT);
00327         <a class="code" href="../../d3/d0/user32_8def.html#a40">CloseClipboard</a>();
00328     }
00329 
00330     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
00331     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
00332 }
00333 
00334 
00335 <span class="comment">/***************************************************************************\</span>
00336 <span class="comment">* ProfAvgDlgDraw</span>
00337 <span class="comment">*</span>
00338 <span class="comment">*</span>
00339 <span class="comment">* History:</span>
00340 <span class="comment">\***************************************************************************/</span>
00341 
<a name="l00342"></a><a class="code" href="../../d1/d1/bench_8c.html#a39">00342</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a39">msProfAvgDlgDraw</a>(HDC hdc, ULONG Iter)
00343 {
00344 
00345     <a class="code" href="../../d1/d1/bench_8c.html#a16">CHAR</a> <a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a3">szFile</a>[128];
00346     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
00347 
00348     HWND hwnd = CreateDialogParam(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, MAKEINTRESOURCE(<a class="code" href="../../d3/d9/ntuser_2tools_2usrbench_2resource_8h.html#a43">CLEARBOX</a>), <a class="code" href="../../d1/d1/bench_8c.html#a20">ghwndFrame</a>,
00349             <a class="code" href="../../d1/d1/bench_8c.html#a29">ClearDlg</a>, MAKELONG(<a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a3">szFile</a>,0));
00350 
00351     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
00352 
00353     <span class="keywordflow">while</span> (ix--)
00354     {
00355         <a class="code" href="../../d3/d0/user32_8def.html#a32">ShowWindow</a>(hwnd, <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>);
00356         <a class="code" href="../../d3/d8/client_8c.html#a140">UpdateWindow</a>(hwnd);
00357         <a class="code" href="../../d3/d0/user32_8def.html#a32">ShowWindow</a>(hwnd, <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>);
00358     }
00359 
00360     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
00361 
00362     <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwnd);
00363 
00364     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
00365 
00366 }
00367 
00368 
<a name="l00369"></a><a class="code" href="../../d1/d1/bench_8c.html#a40">00369</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a40">msProfAvgDlgCreate</a>(HDC hdc, ULONG Iter)
00370 {
00371 
00372     HWND hwnd;
00373     <a class="code" href="../../d1/d1/bench_8c.html#a16">CHAR</a> <a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a3">szFile</a>[128];
00374     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
00375 
00376     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
00377 
00378     <span class="keywordflow">while</span> (ix--)
00379     {
00380         hwnd = CreateDialogParam(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, MAKEINTRESOURCE(<a class="code" href="../../d3/d9/ntuser_2tools_2usrbench_2resource_8h.html#a43">CLEARBOX</a>), <a class="code" href="../../d1/d1/bench_8c.html#a20">ghwndFrame</a>,
00381                 <a class="code" href="../../d1/d1/bench_8c.html#a29">ClearDlg</a>, MAKELONG(<a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a3">szFile</a>,0));
00382         <a class="code" href="../../d3/d0/user32_8def.html#a32">ShowWindow</a>(hwnd, <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>);
00383         <a class="code" href="../../d3/d8/client_8c.html#a140">UpdateWindow</a>(hwnd);
00384         <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwnd);
00385     }
00386 
00387     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
00388 
00389     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
00390 }
00391 
00392 
<a name="l00393"></a><a class="code" href="../../d1/d1/bench_8c.html#a41">00393</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a41">msProfAvgDlgCreateDestroy</a>(HDC hdc, ULONG Iter)
00394 {
00395 
00396     HWND hwnd;
00397     <a class="code" href="../../d1/d1/bench_8c.html#a16">CHAR</a> <a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a3">szFile</a>[128];
00398     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
00399 
00400     <a class="code" href="../../d1/d1/bench_8c.html#a19">gfSetFocus</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;     <span class="comment">// Trying to minimize GDI's impact.</span>
00401 
00402     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
00403 
00404     <span class="keywordflow">while</span> (ix--)
00405     {
00406         hwnd = CreateDialogParam(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, MAKEINTRESOURCE(<a class="code" href="../../d3/d9/ntuser_2tools_2usrbench_2resource_8h.html#a43">CLEARBOX</a>), <a class="code" href="../../d1/d1/bench_8c.html#a20">ghwndFrame</a>,
00407                 <a class="code" href="../../d1/d1/bench_8c.html#a29">ClearDlg</a>, MAKELONG(<a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a3">szFile</a>,0));
00408         <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwnd);
00409     }
00410 
00411     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
00412 
00413     <a class="code" href="../../d1/d1/bench_8c.html#a19">gfSetFocus</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00414 
00415     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
00416 
00417 }
00418 
00419 
<a name="l00420"></a><a class="code" href="../../d1/d1/bench_8c.html#a42">00420</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a42">msProfAvgDlgCreateDestroyNoMenu</a>(HDC hdc, ULONG Iter)
00421 {
00422 
00423     HWND hwnd;
00424     <a class="code" href="../../d1/d1/bench_8c.html#a16">CHAR</a> <a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a3">szFile</a>[128];
00425     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
00426 
00427     <a class="code" href="../../d1/d1/bench_8c.html#a19">gfSetFocus</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;     <span class="comment">// Trying to minimize GDI's impact.</span>
00428 
00429     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
00430 
00431     <span class="keywordflow">while</span> (ix--)
00432     {
00433         hwnd = CreateDialogParam(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, MAKEINTRESOURCE(<a class="code" href="../../d3/d9/ntuser_2tools_2usrbench_2resource_8h.html#a44">CLEARBOXNOMENU</a>), <a class="code" href="../../d1/d1/bench_8c.html#a20">ghwndFrame</a>,
00434                 <a class="code" href="../../d1/d1/bench_8c.html#a29">ClearDlg</a>, MAKELONG(<a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a3">szFile</a>,0));
00435         <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwnd);
00436     }
00437 
00438     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
00439 
00440     <a class="code" href="../../d1/d1/bench_8c.html#a19">gfSetFocus</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00441 
00442     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
00443 }
00444 
00445 
<a name="l00446"></a><a class="code" href="../../d1/d1/bench_8c.html#a43">00446</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a43">msProfAvgDlgCreateDestroyNoFont</a>(HDC hdc, ULONG Iter)
00447 {
00448 
00449     HWND hwnd;
00450     <a class="code" href="../../d1/d1/bench_8c.html#a16">CHAR</a> <a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a3">szFile</a>[128];
00451     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
00452 
00453     <a class="code" href="../../d1/d1/bench_8c.html#a19">gfSetFocus</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;     <span class="comment">// Trying to minimize GDI's impact.</span>
00454 
00455     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
00456 
00457     <span class="keywordflow">while</span> (ix--)
00458     {
00459         hwnd = CreateDialogParam(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, MAKEINTRESOURCE(<a class="code" href="../../d3/d9/ntuser_2tools_2usrbench_2resource_8h.html#a45">CLEARBOXNOFONT</a>), <a class="code" href="../../d1/d1/bench_8c.html#a20">ghwndFrame</a>,
00460                 <a class="code" href="../../d1/d1/bench_8c.html#a29">ClearDlg</a>, MAKELONG(<a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a3">szFile</a>,0));
00461         <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwnd);
00462     }
00463 
00464     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
00465 
00466     <a class="code" href="../../d1/d1/bench_8c.html#a19">gfSetFocus</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00467 
00468     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
00469 
00470 }
00471 
00472 
<a name="l00473"></a><a class="code" href="../../d1/d1/bench_8c.html#a44">00473</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a44">msProfAvgDlgCreateDestroyEmpty</a>(HDC hdc, ULONG Iter)
00474 {
00475 
00476     HWND hwnd;
00477     <a class="code" href="../../d1/d1/bench_8c.html#a16">CHAR</a> <a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a3">szFile</a>[128];
00478     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
00479 
00480     <a class="code" href="../../d1/d1/bench_8c.html#a19">gfSetFocus</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;     <span class="comment">// Trying to minimize GDI's impact.</span>
00481 
00482     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
00483 
00484     <span class="keywordflow">while</span> (ix--)
00485     {
00486         hwnd = CreateDialogParam(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, MAKEINTRESOURCE(<a class="code" href="../../d3/d9/ntuser_2tools_2usrbench_2resource_8h.html#a46">EMPTY</a>), <a class="code" href="../../d1/d1/bench_8c.html#a20">ghwndFrame</a>,
00487                 <a class="code" href="../../d1/d1/bench_8c.html#a30">ClearDlgNoState</a>, MAKELONG(<a class="code" href="../../d3/d8/aug98_2test_2main_8c.html#a3">szFile</a>,0));
00488         <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwnd);
00489     }
00490 
00491     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
00492 
00493     <a class="code" href="../../d1/d1/bench_8c.html#a19">gfSetFocus</a> = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00494 
00495     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
00496 
00497 }
00498 
00499 
00500 
<a name="l00501"></a><a class="code" href="../../d1/d1/bench_8c.html#a45">00501</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a45">msProfCreateDestroyWindow</a>(HDC hdc, ULONG Iter)
00502 {
00503 
00504     HWND hwnd;
00505     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
00506     WNDCLASS wc;
00507 
00508     <span class="keywordflow">if</span>(!<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>)MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"1ghinst==0"</span>,<span class="stringliteral">"ERROR!"</span>, MB_OK);
00509 
00510 
00511     wc.style            = 0;
00512     wc.lpfnWndProc      = <a class="code" href="../../d1/d1/bench_8c.html#a31">CreateDestroyWndProc</a>;
00513     wc.cbClsExtra       = 0;
00514     wc.cbWndExtra       = 0;
00515     wc.hInstance        = <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>;
00516     wc.hIcon            = LoadIcon(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, (LPSTR)<a class="code" href="../../d2/d1/bench_8h.html#a2">IDUSERBENCH</a>);
00517     wc.hCursor          = LoadCursor((HINSTANCE)<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, IDC_ARROW);
00518     wc.hbrBackground    = (HBRUSH)(COLOR_APPWORKSPACE + 1);
00519     wc.lpszMenuName     = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00520     wc.lpszClassName    = <span class="stringliteral">"CreateDestroyWindow"</span>;
00521 
00522 
00523     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d9/cltxt_8h.html#a7">RegisterClass</a>(&amp;wc)) {
00524         MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"1RegisterClass call failed."</span>,
00525                 <span class="stringliteral">"ERROR!"</span>, MB_OK);
00526         <span class="keywordflow">return</span> (ULONGLONG)(0);
00527     }
00528 
00529 
00530     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
00531 
00532     <span class="keywordflow">while</span> (ix--)
00533     {
00534         hwnd = CreateWindow(<span class="stringliteral">"CreateDestroyWindow"</span>, <span class="stringliteral">"Create/DestroyWindow test"</span>,
00535                 WS_OVERLAPPEDWINDOW,
00536                 CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT,
00537                 <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
00538         <span class="keywordflow">if</span> (hwnd == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00539             MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"CreateWindow call failed."</span>,
00540                     <span class="stringliteral">"ERROR!"</span>, MB_OK);
00541             <span class="keywordflow">break</span>;
00542         }
00543         <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwnd);
00544     }
00545 
00546     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
00547 
00548     <a class="code" href="../../d0/d8/ntcftxt_8h.html#a30">UnregisterClass</a>(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>);
00549 
00550     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
00551 
00552 }
00553 
00554 
<a name="l00555"></a><a class="code" href="../../d1/d1/bench_8c.html#a46">00555</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a46">msProfCreateDestroyChildWindow</a>(HDC hdc, ULONG Iter)
00556 {
00557 
00558     HWND hwnd, hwndParent;
00559     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
00560 
00561     WNDCLASS wc;
00562 
00563     wc.style            = 0;
00564     wc.lpfnWndProc      = <a class="code" href="../../d1/d1/bench_8c.html#a31">CreateDestroyWndProc</a>;
00565     wc.cbClsExtra       = 0;
00566     wc.cbWndExtra       = 0;
00567     wc.hInstance        = <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>;
00568     wc.hIcon            = LoadIcon(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, (LPSTR)<a class="code" href="../../d2/d1/bench_8h.html#a2">IDUSERBENCH</a>);
00569     wc.hCursor          = LoadCursor(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, IDC_ARROW);
00570     wc.hbrBackground    = (HBRUSH)(COLOR_APPWORKSPACE + 1);
00571     wc.lpszMenuName     = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00572     wc.lpszClassName    = <span class="stringliteral">"CreateDestroyWindow"</span>;
00573 
00574     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d9/cltxt_8h.html#a7">RegisterClass</a>(&amp;wc)) {
00575         MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"2RegisterClass call failed."</span>,
00576                 <span class="stringliteral">"ERROR!"</span>, MB_OK);
00577         <span class="keywordflow">return</span> (ULONGLONG)(0);
00578     }
00579 
00580     hwndParent = CreateWindow(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, WS_CHILD,
00581             CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT,
00582             <a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
00583 
00584     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
00585 
00586     <span class="keywordflow">while</span> (ix--)
00587     {
00588         hwnd = CreateWindow(<span class="stringliteral">"CreateDestroyWindow"</span>, <span class="stringliteral">"Create/DestroyWindow test"</span>,
00589                 WS_CHILD,
00590                 CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT,
00591                 hwndParent, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
00592         <span class="keywordflow">if</span> (hwnd == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00593             MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"CreateWindow call failed."</span>,
00594                     <span class="stringliteral">"ERROR!"</span>, MB_OK);
00595             <span class="keywordflow">break</span>;
00596         }
00597         <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwnd);
00598     }
00599 
00600     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
00601 
00602     <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwndParent);
00603     <a class="code" href="../../d0/d8/ntcftxt_8h.html#a30">UnregisterClass</a>(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>);
00604 
00605     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
00606 }
00607 
00608 
<a name="l00609"></a><a class="code" href="../../d1/d1/bench_8c.html#a31">00609</a> LRESULT <a class="code" href="../../d1/d1/bench_8c.html#a0">APIENTRY</a> <a class="code" href="../../d1/d1/bench_8c.html#a31">CreateDestroyWndProc</a>(
00610     HWND hwnd,
00611     UINT msg,
00612     WPARAM wParam,
00613     LPARAM lParam)
00614 {
00615     <span class="keywordflow">switch</span> (<a class="code" href="../../d2/d1/userexts_8c.html#a129">msg</a>) {
00616     <span class="keywordflow">case</span> WM_SETTEXT:
00617     <span class="keywordflow">case</span> WM_GETTEXTLENGTH:
00618         <span class="keywordflow">break</span>;
00619     <span class="keywordflow">default</span>:
00620         <span class="keywordflow">return</span> <a class="code" href="../../d5/d9/cltxt_8h.html#a15">DefWindowProc</a>(hwnd, <a class="code" href="../../d2/d1/userexts_8c.html#a129">msg</a>, wParam, lParam);
00621 
00622     }
00623 
00624     <span class="keywordflow">return</span> 0;
00625 }
00626 
<a name="l00627"></a><a class="code" href="../../d1/d1/bench_8c.html#a32">00627</a> LRESULT <a class="code" href="../../d1/d1/bench_8c.html#a0">APIENTRY</a> <a class="code" href="../../d1/d1/bench_8c.html#a32">CreateDestroyWndProcW</a>(
00628     HWND hwnd,
00629     UINT msg,
00630     WPARAM wParam,
00631     LPARAM lParam)
00632 {
00633     <span class="keywordflow">switch</span> (<a class="code" href="../../d2/d1/userexts_8c.html#a129">msg</a>) {
00634     <span class="keywordflow">case</span> WM_SETTEXT:
00635     <span class="keywordflow">case</span> WM_GETTEXTLENGTH:
00636         <span class="keywordflow">break</span>;
00637     <span class="keywordflow">default</span>:
00638         <span class="keywordflow">return</span> DefWindowProcW(hwnd, <a class="code" href="../../d2/d1/userexts_8c.html#a129">msg</a>, wParam, lParam);
00639     }
00640 
00641     <span class="keywordflow">return</span> 0;
00642 }
00643 
00644 
<a name="l00645"></a><a class="code" href="../../d1/d1/bench_8c.html#a47">00645</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a47">msProfLocalAllocFree</a>(HDC hdc, ULONG Iter)
00646 {
00647 
00648     HANDLE h1, h2, h3, h4, h5;
00649     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
00650 
00651     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
00652 
00653     <span class="comment">// Try to stress the heap a little bit more than just doing a</span>
00654     <span class="comment">// series of Alloc/Frees.</span>
00655 
00656     <span class="keywordflow">while</span> (ix--)                         <span class="comment">// originally ix&lt;Iter/5 as well</span>
00657     {
00658         h1 = LocalAlloc(0, 500);
00659         h2 = LocalAlloc(0, 600);
00660         h3 = LocalAlloc(0, 700);
00661         LocalFree(h2);
00662         h4 = LocalAlloc(0, 1000);
00663         h5 = LocalAlloc(0, 100);
00664         LocalFree(h1);
00665         LocalFree(h3);
00666         LocalFree(h4);
00667         LocalFree(h5);
00668     }
00669 
00670     <a class="code" href="../../d0/d2/usrbench_8h.html#a5">END_TIMER</a>;
00671 }
00672 
00673 
<a name="l00674"></a><a class="code" href="../../d1/d1/bench_8c.html#a48">00674</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a48">msProfGetWindowLong</a>(HDC hdc, ULONG Iter)
00675 {
00676 
00677     HWND hwnd;
00678     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
00679     LONG l;
00680     WNDCLASS wc;
00681 
00682     wc.style            = 0;
00683     wc.lpfnWndProc      = <a class="code" href="../../d1/d1/bench_8c.html#a31">CreateDestroyWndProc</a>;
00684     wc.cbClsExtra       = 0;
00685     wc.cbWndExtra       = 4;
00686     wc.hInstance        = <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>;
00687     wc.hIcon            = LoadIcon(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, (LPSTR)<a class="code" href="../../d2/d1/bench_8h.html#a2">IDUSERBENCH</a>);
00688     wc.hCursor          = LoadCursor(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, IDC_ARROW);
00689     wc.hbrBackground    = (HBRUSH)(COLOR_APPWORKSPACE + 1);
00690     wc.lpszMenuName     = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00691     wc.lpszClassName    = <span class="stringliteral">"CreateDestroyWindow"</span>;
00692 
00693     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d9/cltxt_8h.html#a7">RegisterClass</a>(&amp;wc)) {
00694         MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"3RegisterClass call failed."</span>,
00695                 <span class="stringliteral">"ERROR!"</span>, MB_OK);
00696         <span class="keywordflow">return</span> (ULONGLONG)(0);
00697     }
00698 
00699     hwnd = CreateWindow(<span class="stringliteral">"CreateDestroyWindow"</span>, <span class="stringliteral">"Create/DestroyWindow test"</span>,
00700             WS_OVERLAPPEDWINDOW,
00701             CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT,
00702             <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
00703 
00704     <span class="keywordflow">if</span> (hwnd == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00705         MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"CreateWindow call failed."</span>,
00706                 <span class="stringliteral">"ERROR!"</span>, MB_OK);
00707         <span class="keywordflow">return</span> (ULONGLONG)(0);
00708     }
00709 
00710     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
00711 
00712     <span class="keywordflow">while</span> (ix--)
00713         l = GetWindowLong(hwnd, 0);
00714 
00715     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
00716 
00717     <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwnd);
00718     <a class="code" href="../../d0/d8/ntcftxt_8h.html#a30">UnregisterClass</a>(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>);
00719 
00720     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
00721 
00722 }
00723 
00724 
<a name="l00725"></a><a class="code" href="../../d1/d1/bench_8c.html#a49">00725</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a49">msProfSetWindowLong</a>(HDC hdc, ULONG Iter)
00726 {
00727 
00728     HWND hwnd;
00729     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
00730     LONG l;
00731     WNDCLASS wc;
00732 
00733     wc.style            = 0;
00734     wc.lpfnWndProc      = <a class="code" href="../../d1/d1/bench_8c.html#a31">CreateDestroyWndProc</a>;
00735     wc.cbClsExtra       = 0;
00736     wc.cbWndExtra       = 4;
00737     wc.hInstance        = <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>;
00738     wc.hIcon            = LoadIcon(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, (LPSTR)<a class="code" href="../../d2/d1/bench_8h.html#a2">IDUSERBENCH</a>);
00739     wc.hCursor          = LoadCursor(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, IDC_ARROW);
00740     wc.hbrBackground    = (HBRUSH)(COLOR_APPWORKSPACE + 1);
00741     wc.lpszMenuName     = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00742     wc.lpszClassName    = <span class="stringliteral">"CreateDestroyWindow"</span>;
00743 
00744     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d9/cltxt_8h.html#a7">RegisterClass</a>(&amp;wc)) {
00745         MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"4RegisterClass call failed."</span>,
00746                 <span class="stringliteral">"ERROR!"</span>, MB_OK);
00747         <span class="keywordflow">return</span> (ULONGLONG)(0);
00748     }
00749 
00750     hwnd = CreateWindow(<span class="stringliteral">"CreateDestroyWindow"</span>, <span class="stringliteral">"Create/DestroyWindow test"</span>,
00751             WS_OVERLAPPEDWINDOW,
00752             CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT,
00753             <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
00754 
00755     <span class="keywordflow">if</span> (hwnd == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00756         MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"CreateWindow call failed."</span>,
00757                 <span class="stringliteral">"ERROR!"</span>, MB_OK);
00758         <span class="keywordflow">return</span> (ULONGLONG)(0);
00759     }
00760 
00761     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
00762 
00763     <span class="keywordflow">while</span> (ix--)
00764         l = SetWindowLong(hwnd, 0, <a class="code" href="../../d1/d1/bench_8c.html#a1">SETWINDOWLONGVAL</a>);
00765 
00766     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
00767 
00768     <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwnd);
00769     <a class="code" href="../../d0/d8/ntcftxt_8h.html#a30">UnregisterClass</a>(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>);
00770 
00771     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
00772 
00773 }
00774 
00775 
<a name="l00776"></a><a class="code" href="../../d1/d1/bench_8c.html#a50">00776</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a50">msProfCreateDestroyListbox</a>(HDC hdc, ULONG Iter)
00777 {
00778 
00779     HWND hwnd, hwndParent;
00780     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
00781     WNDCLASS wc;
00782 
00783     wc.style            = 0;
00784     wc.lpfnWndProc      = <a class="code" href="../../d1/d1/bench_8c.html#a31">CreateDestroyWndProc</a>;
00785     wc.cbClsExtra       = 0;
00786     wc.cbWndExtra       = 0;
00787     wc.hInstance        = <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>;
00788     wc.hIcon            = LoadIcon(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, (LPSTR)<a class="code" href="../../d2/d1/bench_8h.html#a2">IDUSERBENCH</a>);
00789     wc.hCursor          = LoadCursor(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, IDC_ARROW);
00790     wc.hbrBackground    = (HBRUSH)(COLOR_APPWORKSPACE + 1);
00791     wc.lpszMenuName     = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00792     wc.lpszClassName    = <span class="stringliteral">"CreateDestroyWindow"</span>;
00793 
00794     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d9/cltxt_8h.html#a7">RegisterClass</a>(&amp;wc)) {
00795         MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"5RegisterClass call failed."</span>,
00796                 <span class="stringliteral">"ERROR!"</span>, MB_OK);
00797         <span class="keywordflow">return</span> (ULONGLONG)(0);
00798     }
00799 
00800     hwndParent = CreateWindow(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, WS_CHILD,
00801             CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT,
00802             <a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
00803 
00804     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
00805 
00806     <span class="keywordflow">while</span> (ix--)
00807     {
00808         hwnd = CreateWindow(<span class="stringliteral">"ListBox"</span>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, WS_CHILD | LBS_STANDARD | WS_VISIBLE,
00809                 50, 50, 200, 250, hwndParent, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
00810         <span class="keywordflow">if</span> (hwnd == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00811             MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"CreateWindow call failed."</span>,
00812                     <span class="stringliteral">"ERROR!"</span>, MB_OK);
00813             <span class="keywordflow">return</span> (ULONGLONG)(0);
00814         }
00815         <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwnd);
00816     }
00817 
00818     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
00819 
00820     <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwndParent);
00821     <a class="code" href="../../d0/d8/ntcftxt_8h.html#a30">UnregisterClass</a>(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>);
00822 
00823     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
00824 
00825 }
00826 
00827 
<a name="l00828"></a><a class="code" href="../../d1/d1/bench_8c.html#a51">00828</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a51">msProfCreateDestroyButton</a>(HDC hdc, ULONG Iter)
00829 {
00830 
00831     HWND hwnd, hwndParent;
00832     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
00833     WNDCLASS wc;
00834 
00835     wc.style            = 0;
00836     wc.lpfnWndProc      = <a class="code" href="../../d1/d1/bench_8c.html#a31">CreateDestroyWndProc</a>;
00837     wc.cbClsExtra       = 0;
00838     wc.cbWndExtra       = 0;
00839     wc.hInstance        = <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>;
00840     wc.hIcon            = LoadIcon(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, (LPSTR)<a class="code" href="../../d2/d1/bench_8h.html#a2">IDUSERBENCH</a>);
00841     wc.hCursor          = LoadCursor(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, IDC_ARROW);
00842     wc.hbrBackground    = (HBRUSH)(COLOR_APPWORKSPACE + 1);
00843     wc.lpszMenuName     = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00844     wc.lpszClassName    = <span class="stringliteral">"CreateDestroyWindow"</span>;
00845 
00846     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d9/cltxt_8h.html#a7">RegisterClass</a>(&amp;wc)) {
00847         MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"6RegisterClass call failed."</span>,
00848                 <span class="stringliteral">"ERROR!"</span>, MB_OK);
00849         <span class="keywordflow">return</span> (ULONGLONG)(0);
00850     }
00851 
00852     hwndParent = CreateWindow(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, WS_CHILD,
00853             CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT,
00854             <a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
00855 
00856     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
00857 
00858     <span class="keywordflow">while</span> (ix--)
00859     {
00860         hwnd = CreateWindow(<span class="stringliteral">"Button"</span>, <span class="stringliteral">"OK"</span>, WS_CHILD | BS_PUSHBUTTON,
00861                 50, 50, 200, 250, hwndParent, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
00862         <span class="keywordflow">if</span> (hwnd == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00863             MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"CreateWindow call failed."</span>,
00864                     <span class="stringliteral">"ERROR!"</span>, MB_OK);
00865             <span class="keywordflow">return</span> (ULONGLONG)(0);
00866         }
00867         <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwnd);
00868     }
00869 
00870     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
00871 
00872     <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwndParent);
00873     <a class="code" href="../../d0/d8/ntcftxt_8h.html#a30">UnregisterClass</a>(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>);
00874 
00875     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
00876 
00877 }
00878 
00879 
<a name="l00880"></a><a class="code" href="../../d1/d1/bench_8c.html#a52">00880</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a52">msProfCreateDestroyCombobox</a>(HDC hdc, ULONG Iter)
00881 {
00882 
00883     HWND hwnd, hwndParent;
00884     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
00885     WNDCLASS wc;
00886 
00887     wc.style            = 0;
00888     wc.lpfnWndProc      = <a class="code" href="../../d1/d1/bench_8c.html#a31">CreateDestroyWndProc</a>;
00889     wc.cbClsExtra       = 0;
00890     wc.cbWndExtra       = 0;
00891     wc.hInstance        = <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>;
00892     wc.hIcon            = LoadIcon(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, (LPSTR)<a class="code" href="../../d2/d1/bench_8h.html#a2">IDUSERBENCH</a>);
00893     wc.hCursor          = LoadCursor(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, IDC_ARROW);
00894     wc.hbrBackground    = (HBRUSH)(COLOR_APPWORKSPACE + 1);
00895     wc.lpszMenuName     = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00896     wc.lpszClassName    = <span class="stringliteral">"CreateDestroyWindow"</span>;
00897 
00898     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d9/cltxt_8h.html#a7">RegisterClass</a>(&amp;wc)) {
00899         MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"7RegisterClass call failed."</span>,
00900                 <span class="stringliteral">"ERROR!"</span>, MB_OK);
00901         <span class="keywordflow">return</span> (ULONGLONG)(0);
00902     }
00903 
00904     hwndParent = CreateWindow(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, WS_CHILD,
00905             CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT,
00906             <a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
00907 
00908     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
00909 
00910     <span class="keywordflow">while</span> (ix--)
00911     {
00912         hwnd = CreateWindow(<span class="stringliteral">"Combobox"</span>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, WS_CHILD | CBS_SIMPLE | CBS_HASSTRINGS | WS_VISIBLE,
00913                 50, 50, 200, 250, hwndParent, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
00914         <span class="keywordflow">if</span> (hwnd == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00915             MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"CreateWindow call failed."</span>,
00916                     <span class="stringliteral">"ERROR!"</span>, MB_OK);
00917             <span class="keywordflow">return</span> (ULONGLONG)(0);
00918         }
00919         <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwnd);
00920     }
00921 
00922     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
00923 
00924     <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwndParent);
00925     <a class="code" href="../../d0/d8/ntcftxt_8h.html#a30">UnregisterClass</a>(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>);
00926 
00927     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
00928 
00929 }
00930 
00931 
<a name="l00932"></a><a class="code" href="../../d1/d1/bench_8c.html#a53">00932</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a53">msProfCreateDestroyEdit</a>(HDC hdc, ULONG Iter)
00933 {
00934 
00935     HWND hwnd, hwndParent;
00936     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
00937     WNDCLASS wc;
00938 
00939     wc.style            = 0;
00940     wc.lpfnWndProc      = <a class="code" href="../../d1/d1/bench_8c.html#a31">CreateDestroyWndProc</a>;
00941     wc.cbClsExtra       = 0;
00942     wc.cbWndExtra       = 0;
00943     wc.hInstance        = <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>;
00944     wc.hIcon            = LoadIcon(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, (LPSTR)<a class="code" href="../../d2/d1/bench_8h.html#a2">IDUSERBENCH</a>);
00945     wc.hCursor          = LoadCursor(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, IDC_ARROW);
00946     wc.hbrBackground    = (HBRUSH)(COLOR_APPWORKSPACE + 1);
00947     wc.lpszMenuName     = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00948     wc.lpszClassName    = <span class="stringliteral">"CreateDestroyWindow"</span>;
00949 
00950     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d9/cltxt_8h.html#a7">RegisterClass</a>(&amp;wc)) {
00951         MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"8RegisterClass call failed."</span>,
00952                 <span class="stringliteral">"ERROR!"</span>, MB_OK);
00953         <span class="keywordflow">return</span> (ULONGLONG)(0);
00954     }
00955 
00956     hwndParent = CreateWindow(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, WS_CHILD,
00957             CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT,
00958             <a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
00959 
00960     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
00961 
00962     <span class="keywordflow">while</span> (ix--)
00963     {
00964         hwnd = CreateWindow(<span class="stringliteral">"Edit"</span>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, WS_CHILD | WS_VISIBLE,
00965                 50, 50, 200, 250, hwndParent, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
00966         <span class="keywordflow">if</span> (hwnd == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00967             MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"CreateWindow call failed."</span>,
00968                     <span class="stringliteral">"ERROR!"</span>, MB_OK);
00969             <span class="keywordflow">return</span> (ULONGLONG)(0);
00970         }
00971         <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwnd);
00972     }
00973 
00974     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
00975 
00976     <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwndParent);
00977     <a class="code" href="../../d0/d8/ntcftxt_8h.html#a30">UnregisterClass</a>(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>);
00978 
00979     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
00980 
00981 }
00982 
00983 
<a name="l00984"></a><a class="code" href="../../d1/d1/bench_8c.html#a54">00984</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a54">msProfCreateDestroyStatic</a>(HDC hdc, ULONG Iter)
00985 {
00986 
00987     HWND hwnd, hwndParent;
00988     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
00989     WNDCLASS wc;
00990 
00991     wc.style            = 0;
00992     wc.lpfnWndProc      = <a class="code" href="../../d1/d1/bench_8c.html#a31">CreateDestroyWndProc</a>;
00993     wc.cbClsExtra       = 0;
00994     wc.cbWndExtra       = 0;
00995     wc.hInstance        = <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>;
00996     wc.hIcon            = LoadIcon(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, (LPSTR)<a class="code" href="../../d2/d1/bench_8h.html#a2">IDUSERBENCH</a>);
00997     wc.hCursor          = LoadCursor(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, IDC_ARROW);
00998     wc.hbrBackground    = (HBRUSH)(COLOR_APPWORKSPACE + 1);
00999     wc.lpszMenuName     = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01000     wc.lpszClassName    = <span class="stringliteral">"CreateDestroyWindow"</span>;
01001 
01002     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d9/cltxt_8h.html#a7">RegisterClass</a>(&amp;wc)) {
01003         MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"9RegisterClass call failed."</span>,
01004                 <span class="stringliteral">"ERROR!"</span>, MB_OK);
01005         <span class="keywordflow">return</span> (ULONGLONG)(0);
01006     }
01007 
01008     hwndParent = CreateWindow(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, WS_CHILD,
01009             CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT,
01010             <a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
01011 
01012     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
01013 
01014     <span class="keywordflow">while</span> (ix--)
01015     {
01016         hwnd = CreateWindow(<span class="stringliteral">"Static"</span>, <span class="stringliteral">"Hello"</span>, WS_CHILD | SS_SIMPLE,
01017                 50, 50, 200, 250, hwndParent, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
01018         <span class="keywordflow">if</span> (hwnd == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
01019             MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"CreateWindow call failed."</span>,
01020                     <span class="stringliteral">"ERROR!"</span>, MB_OK);
01021             <span class="keywordflow">return</span> (ULONGLONG)(0);
01022         }
01023         <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwnd);
01024     }
01025 
01026     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
01027 
01028     <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwndParent);
01029     <a class="code" href="../../d0/d8/ntcftxt_8h.html#a30">UnregisterClass</a>(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>);
01030 
01031     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
01032 
01033 }
01034 
01035 
<a name="l01036"></a><a class="code" href="../../d1/d1/bench_8c.html#a55">01036</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a55">msProfCreateDestroyScrollbar</a>(HDC hdc, ULONG Iter)
01037 {
01038 
01039     HWND hwnd, hwndParent;
01040     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
01041     WNDCLASS wc;
01042 
01043     wc.style            = 0;
01044     wc.lpfnWndProc      = <a class="code" href="../../d1/d1/bench_8c.html#a31">CreateDestroyWndProc</a>;
01045     wc.cbClsExtra       = 0;
01046     wc.cbWndExtra       = 0;
01047     wc.hInstance        = <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>;
01048     wc.hIcon            = LoadIcon(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, (LPSTR)<a class="code" href="../../d2/d1/bench_8h.html#a2">IDUSERBENCH</a>);
01049     wc.hCursor          = LoadCursor(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, IDC_ARROW);
01050     wc.hbrBackground    = (HBRUSH)(COLOR_APPWORKSPACE + 1);
01051     wc.lpszMenuName     = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01052     wc.lpszClassName    = <span class="stringliteral">"CreateDestroyWindow"</span>;
01053 
01054     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d9/cltxt_8h.html#a7">RegisterClass</a>(&amp;wc)) {
01055         MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"10RegisterClass call failed."</span>,
01056                 <span class="stringliteral">"ERROR!"</span>, MB_OK);
01057         <span class="keywordflow">return</span> (ULONGLONG)(0);
01058     }
01059 
01060     hwndParent = CreateWindow(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, WS_CHILD,
01061             CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT,
01062             <a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
01063 
01064     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
01065 
01066     <span class="keywordflow">while</span> (ix--)
01067     {
01068         hwnd = CreateWindow(<span class="stringliteral">"Scrollbar"</span>, <span class="stringliteral">"Hello"</span>, WS_CHILD | SBS_HORZ | SBS_TOPALIGN,
01069                 50, 50, 100, 100, hwndParent, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
01070         <span class="keywordflow">if</span> (hwnd == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
01071             MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"CreateWindow call failed."</span>,
01072                     <span class="stringliteral">"ERROR!"</span>, MB_OK);
01073             <span class="keywordflow">return</span> (ULONGLONG)(0);
01074         }
01075         <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwnd);
01076     }
01077 
01078     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
01079 
01080     <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwndParent);
01081     <a class="code" href="../../d0/d8/ntcftxt_8h.html#a30">UnregisterClass</a>(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>);
01082 
01083     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
01084 
01085 }
01086 
01087 
<a name="l01088"></a><a class="code" href="../../d1/d1/bench_8c.html#a56">01088</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a56">msProfListboxInsert1</a>(HDC hdc, ULONG Iter)
01089 {
01090 
01091     ULONG i;
01092     HWND hwndParent;
01093     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
01094     WNDCLASS wc;
01095     HWND *ahwnd = LocalAlloc(LPTR,Iter*<span class="keyword">sizeof</span>(HANDLE));
01096     <span class="keywordflow">if</span>(!ahwnd)
01097        MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>),
01098         <span class="stringliteral">"Could not Allocate Memory for Handle Array"</span>,
01099         <span class="stringliteral">"ERROR!"</span>, MB_OK);
01100 
01101     wc.style            = 0;
01102     wc.lpfnWndProc      = <a class="code" href="../../d1/d1/bench_8c.html#a31">CreateDestroyWndProc</a>;
01103     wc.cbClsExtra       = 0;
01104     wc.cbWndExtra       = 0;
01105     wc.hInstance        = <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>;
01106     wc.hIcon            = LoadIcon(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d2/d1/bench_8h.html#a2">IDUSERBENCH</a>);
01107     wc.hCursor          = LoadCursor(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, IDC_ARROW);
01108     wc.hbrBackground    = (HBRUSH)(COLOR_APPWORKSPACE + 1);
01109     wc.lpszMenuName     = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01110     wc.lpszClassName    = <span class="stringliteral">"CreateDestroyWindow"</span>;
01111 
01112     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d9/cltxt_8h.html#a7">RegisterClass</a>(&amp;wc)) {
01113         MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"11RegisterClass call failed."</span>,
01114                 <span class="stringliteral">"ERROR!"</span>, MB_OK);
01115         <span class="keywordflow">return</span> (ULONGLONG)(0);
01116     }
01117 
01118     hwndParent = CreateWindow(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, WS_CHILD,
01119             CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT,
01120             <a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
01121 
01122     <span class="keywordflow">for</span> (i=0; i &lt; Iter; i++)
01123     {
01124         ahwnd[i] = CreateWindow(<span class="stringliteral">"ListBox"</span>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, WS_CHILD | LBS_STANDARD,
01125                 50, 50, 200, 250, hwndParent, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
01126         <span class="keywordflow">if</span> (ahwnd[i] == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
01127             MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"CreateWindow call failed."</span>,
01128                     <span class="stringliteral">"ERROR!"</span>, MB_OK);
01129             <span class="keywordflow">return</span> (ULONGLONG)(0);
01130         }
01131     }
01132 
01133     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
01134 
01135     <span class="keywordflow">while</span> (ix--)
01136         <span class="keywordflow">for</span> (i = 0; i &lt; 200; i++)
01137             <a class="code" href="../../d5/d9/cltxt_8h.html#a16">SendMessage</a>(ahwnd[ix], LB_ADDSTRING, 0, (LPARAM)<a class="code" href="../../d1/d1/bench_8c.html#a17">aszTypical</a>[i % <a class="code" href="../../d1/d1/bench_8c.html#a18">NStrings</a>]);
01138 
01139     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
01140 
01141     <span class="keywordflow">for</span> (i = 0; i &lt; Iter; i++)
01142         <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(ahwnd[i]);
01143 
01144     <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwndParent);
01145     <a class="code" href="../../d0/d8/ntcftxt_8h.html#a30">UnregisterClass</a>(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>);
01146     LocalFree(ahwnd);
01147 
01148     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
01149 
01150 }
01151 
01152 
<a name="l01153"></a><a class="code" href="../../d1/d1/bench_8c.html#a57">01153</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a57">msProfListboxInsert2</a>(HDC hdc, ULONG Iter)
01154 {
01155     ULONG i;
01156     HWND hwndParent;
01157     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
01158     WNDCLASS wc;
01159     HWND *ahwnd = LocalAlloc(LPTR,Iter*<span class="keyword">sizeof</span>(HANDLE));
01160     <span class="keywordflow">if</span>(!ahwnd)
01161        MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>),
01162         <span class="stringliteral">"Could not Allocate Memory for Handle Array"</span>,
01163         <span class="stringliteral">"ERROR!"</span>, MB_OK);
01164 
01165     wc.style            = 0;
01166     wc.lpfnWndProc      = <a class="code" href="../../d1/d1/bench_8c.html#a31">CreateDestroyWndProc</a>;
01167     wc.cbClsExtra       = 0;
01168     wc.cbWndExtra       = 0;
01169     wc.hInstance        = <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>;
01170     wc.hIcon            = LoadIcon(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d2/d1/bench_8h.html#a2">IDUSERBENCH</a>);
01171     wc.hCursor          = LoadCursor(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, IDC_ARROW);
01172     wc.hbrBackground    = (HBRUSH)(COLOR_APPWORKSPACE + 1);
01173     wc.lpszMenuName     = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01174     wc.lpszClassName    = <span class="stringliteral">"CreateDestroyWindow"</span>;
01175 
01176     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d9/cltxt_8h.html#a7">RegisterClass</a>(&amp;wc)) {
01177         MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"12RegisterClass call failed."</span>,
01178                 <span class="stringliteral">"ERROR!"</span>, MB_OK);
01179         <span class="keywordflow">return</span> (ULONGLONG)(0);
01180     }
01181 
01182     hwndParent = CreateWindow(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, WS_CHILD,
01183             CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT,
01184             <a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
01185 
01186     <span class="keywordflow">for</span> (i = 0; i &lt; Iter; i++) {
01187         ahwnd[i] = CreateWindow(<span class="stringliteral">"ListBox"</span>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
01188                 WS_CHILD | LBS_OWNERDRAWFIXED | LBS_HASSTRINGS,
01189                 50, 50, 200, 250, hwndParent, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
01190         <span class="keywordflow">if</span> (ahwnd[i] == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
01191             MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"CreateWindow call failed."</span>,
01192                     <span class="stringliteral">"ERROR!"</span>, MB_OK);
01193             <span class="keywordflow">return</span> (ULONGLONG)(0);
01194         }
01195     }
01196 
01197     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
01198 
01199     <span class="keywordflow">while</span> (ix--)
01200         <span class="keywordflow">for</span> (i = 0; i &lt; 200; i++)
01201             <a class="code" href="../../d5/d9/cltxt_8h.html#a16">SendMessage</a>(ahwnd[ix], LB_ADDSTRING, 0, (LPARAM)<a class="code" href="../../d1/d1/bench_8c.html#a17">aszTypical</a>[i % <a class="code" href="../../d1/d1/bench_8c.html#a18">NStrings</a>]);
01202 
01203     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
01204 
01205     <span class="keywordflow">for</span> (i = 0; i &lt; Iter; i++)
01206         <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(ahwnd[i]);
01207 
01208     <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwndParent);
01209     <a class="code" href="../../d0/d8/ntcftxt_8h.html#a30">UnregisterClass</a>(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>);
01210     LocalFree(ahwnd);
01211 
01212     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
01213 
01214 }
01215 
01216 
<a name="l01217"></a><a class="code" href="../../d1/d1/bench_8c.html#a58">01217</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a58">msProfListboxInsert3</a>(HDC hdc, ULONG Iter)
01218 {
01219     ULONG i;
01220     HWND hwndParent;
01221     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
01222     WNDCLASS wc;
01223     HWND *ahwnd = LocalAlloc(LPTR,Iter*<span class="keyword">sizeof</span>(HANDLE));
01224     <span class="keywordflow">if</span>(!ahwnd)
01225        MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>),
01226         <span class="stringliteral">"Could not Allocate Memory for Handle Array"</span>,
01227         <span class="stringliteral">"ERROR!"</span>, MB_OK);
01228 
01229     wc.style            = 0;
01230     wc.lpfnWndProc      = <a class="code" href="../../d1/d1/bench_8c.html#a31">CreateDestroyWndProc</a>;
01231     wc.cbClsExtra       = 0;
01232     wc.cbWndExtra       = 0;
01233     wc.hInstance        = <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>;
01234     wc.hIcon            = LoadIcon(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d2/d1/bench_8h.html#a2">IDUSERBENCH</a>);
01235     wc.hCursor          = LoadCursor(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, IDC_ARROW);
01236     wc.hbrBackground    = (HBRUSH)(COLOR_APPWORKSPACE + 1);
01237     wc.lpszMenuName     = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01238     wc.lpszClassName    = <span class="stringliteral">"CreateDestroyWindow"</span>;
01239 
01240     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d9/cltxt_8h.html#a7">RegisterClass</a>(&amp;wc)) {
01241         MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"13RegisterClass call failed."</span>,
01242                 <span class="stringliteral">"ERROR!"</span>, MB_OK);
01243         <span class="keywordflow">return</span> (ULONGLONG)(0);
01244     }
01245 
01246     hwndParent = CreateWindow(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, WS_CHILD,
01247             CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT,
01248             <a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
01249 
01250     <span class="keywordflow">for</span> (i = 0; i &lt; Iter; i++) {
01251         ahwnd[i] = CreateWindow(<span class="stringliteral">"ListBox"</span>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
01252                 WS_CHILD | LBS_SORT | LBS_OWNERDRAWFIXED,
01253                 50, 50, 200, 250, hwndParent, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
01254         <span class="keywordflow">if</span> (ahwnd[i] == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
01255             MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"CreateWindow call failed."</span>,
01256                     <span class="stringliteral">"ERROR!"</span>, MB_OK);
01257             <span class="keywordflow">return</span> (ULONGLONG)(0);
01258         }
01259     }
01260 
01261     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
01262 
01263     <span class="keywordflow">while</span> (ix--)
01264         <span class="keywordflow">for</span> (i = 0; i &lt; 200; i++)
01265             <a class="code" href="../../d5/d9/cltxt_8h.html#a16">SendMessage</a>(ahwnd[ix], LB_ADDSTRING, 0, (LPARAM)<a class="code" href="../../d1/d1/bench_8c.html#a17">aszTypical</a>[i % <a class="code" href="../../d1/d1/bench_8c.html#a18">NStrings</a>]);
01266 
01267     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
01268 
01269     <span class="keywordflow">for</span> (i = 0; i &lt; Iter; i++)
01270         <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(ahwnd[i]);
01271 
01272     <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwndParent);
01273     <a class="code" href="../../d0/d8/ntcftxt_8h.html#a30">UnregisterClass</a>(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>);
01274     LocalFree(ahwnd);
01275 
01276     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
01277 
01278 }
01279 
01280 
01281 <span class="comment">/*</span>
01282 <span class="comment"> * Mostly stolen from pbrush.</span>
01283 <span class="comment"> */</span>
<a name="l01284"></a><a class="code" href="../../d1/d1/bench_8c.html#a29">01284</a> INT_PTR <a class="code" href="../../d1/d1/bench_8c.html#a0">APIENTRY</a> <a class="code" href="../../d1/d1/bench_8c.html#a29">ClearDlg</a>(HWND hDlg, UINT message, WPARAM wParam, LPARAM lParam)
01285 {
01286     <span class="keyword">static</span> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> bChangeOk = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01287 
01288     HDC <a class="code" href="../../d7/d4/conexts_8c.html#a25">dc</a>;
01289     <a class="code" href="../../d9/d5/ndismain_8h.html#a263">INT</a> wid, hgt, numcolors;
01290 
01291     <span class="keywordflow">switch</span> (message) {
01292     <span class="keywordflow">case</span> WM_INITDIALOG:
01293         <span class="comment">/*</span>
01294 <span class="comment">         * standard init stuff for pbrush</span>
01295 <span class="comment">         */</span>
01296         <a class="code" href="../../d7/d4/conexts_8c.html#a25">dc</a> = <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a1">GetDC</a>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
01297         numcolors = GetDeviceCaps(<a class="code" href="../../d7/d4/conexts_8c.html#a25">dc</a>, NUMCOLORS);
01298         <a class="code" href="../../d3/d8/client_8c.html#a45">ReleaseDC</a>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d7/d4/conexts_8c.html#a25">dc</a>);
01299 
01300         <a class="code" href="../../d7/d4/conexts_8c.html#a25">dc</a> = <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a1">GetDC</a>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
01301         wid = GetDeviceCaps(<a class="code" href="../../d7/d4/conexts_8c.html#a25">dc</a>, HORZRES);
01302         hgt = GetDeviceCaps(<a class="code" href="../../d7/d4/conexts_8c.html#a25">dc</a>, VERTRES);
01303         <a class="code" href="../../d3/d8/client_8c.html#a45">ReleaseDC</a>(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d7/d4/conexts_8c.html#a25">dc</a>);
01304 
01305         <a class="code" href="../../d4/d9/nt6_2dlgmgr_8c.html#a17">CheckRadioButton</a> (hDlg, <a class="code" href="../../d3/d9/ntuser_2tools_2usrbench_2resource_8h.html#a35">ID2</a>, <a class="code" href="../../d3/d9/ntuser_2tools_2usrbench_2resource_8h.html#a36">ID256</a>, <a class="code" href="../../d3/d9/ntuser_2tools_2usrbench_2resource_8h.html#a35">ID2</a>);
01306 
01307         <a class="code" href="../../d3/d8/client_8c.html#a98">EnableWindow</a>(<a class="code" href="../../d3/d9/client_2wow_8c.html#a6">GetDlgItem</a>(hDlg, <a class="code" href="../../d3/d9/ntuser_2tools_2usrbench_2resource_8h.html#a36">ID256</a>), <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>);
01308         <a class="code" href="../../d4/d9/nt6_2dlgmgr_8c.html#a17">CheckRadioButton</a>(hDlg, <a class="code" href="../../d3/d9/ntuser_2tools_2usrbench_2resource_8h.html#a35">ID2</a>, <a class="code" href="../../d3/d9/ntuser_2tools_2usrbench_2resource_8h.html#a36">ID256</a>, <a class="code" href="../../d3/d9/ntuser_2tools_2usrbench_2resource_8h.html#a36">ID256</a>);
01309 
01310         <a class="code" href="../../d4/d9/nt6_2dlgmgr_8c.html#a17">CheckRadioButton</a>(hDlg, <a class="code" href="../../d3/d9/ntuser_2tools_2usrbench_2resource_8h.html#a35">ID2</a>, <a class="code" href="../../d3/d9/ntuser_2tools_2usrbench_2resource_8h.html#a36">ID256</a>, <a class="code" href="../../d3/d9/ntuser_2tools_2usrbench_2resource_8h.html#a35">ID2</a>);
01311         <a class="code" href="../../d3/d8/client_8c.html#a98">EnableWindow</a>(<a class="code" href="../../d3/d9/client_2wow_8c.html#a6">GetDlgItem</a>(hDlg, <a class="code" href="../../d3/d9/ntuser_2tools_2usrbench_2resource_8h.html#a36">ID256</a>), <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>);
01312         <a class="code" href="../../d4/d9/nt6_2dlgmgr_8c.html#a17">CheckRadioButton</a>(hDlg, <a class="code" href="../../d3/d9/ntuser_2tools_2usrbench_2resource_8h.html#a35">ID2</a>, <a class="code" href="../../d3/d9/ntuser_2tools_2usrbench_2resource_8h.html#a36">ID256</a>, <a class="code" href="../../d3/d9/ntuser_2tools_2usrbench_2resource_8h.html#a36">ID256</a>);
01313 
01314         <a class="code" href="../../d4/d9/nt6_2dlgmgr_8c.html#a14">SetDlgItemInt</a>(hDlg, <a class="code" href="../../d3/d9/ntuser_2tools_2usrbench_2resource_8h.html#a37">IDWIDTH</a>, 0, <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>);
01315         <a class="code" href="../../d4/d9/nt6_2dlgmgr_8c.html#a14">SetDlgItemInt</a>(hDlg, <a class="code" href="../../d3/d9/ntuser_2tools_2usrbench_2resource_8h.html#a38">IDHEIGHT</a>, 0, <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>);
01316         <a class="code" href="../../d4/d9/nt6_2dlgmgr_8c.html#a17">CheckRadioButton</a>(hDlg, <a class="code" href="../../d3/d9/ntuser_2tools_2usrbench_2resource_8h.html#a39">IDIN</a>, <a class="code" href="../../d3/d9/ntuser_2tools_2usrbench_2resource_8h.html#a41">IDPELS</a>, <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>);
01317 
01318         <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d1/bench_8c.html#a19">gfSetFocus</a>)
01319             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01320 
01321         <span class="keywordflow">break</span>;
01322 
01323     <span class="keywordflow">default</span>:
01324         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01325     }
01326 
01327     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01328 }
01329 
01330 
<a name="l01331"></a><a class="code" href="../../d1/d1/bench_8c.html#a30">01331</a> INT_PTR <a class="code" href="../../d1/d1/bench_8c.html#a0">APIENTRY</a> <a class="code" href="../../d1/d1/bench_8c.html#a30">ClearDlgNoState</a>(HWND hDlg, UINT message, WPARAM wParam, LPARAM lParam)
01332 {
01333     <span class="keyword">static</span> <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> bChangeOk = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01334 
01335     HDC <a class="code" href="../../d7/d4/conexts_8c.html#a25">dc</a>;
01336     <a class="code" href="../../d9/d5/ndismain_8h.html#a263">INT</a> wid, hgt, numcolors;
01337 
01338     <span class="keywordflow">switch</span> (message) {
01339     <span class="keywordflow">case</span> WM_INITDIALOG:
01340         <span class="keywordflow">if</span> (!<a class="code" href="../../d1/d1/bench_8c.html#a19">gfSetFocus</a>)
01341             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01342 
01343         <span class="keywordflow">break</span>;
01344 
01345     <span class="keywordflow">default</span>:
01346         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01347     }
01348 
01349     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01350 }
01351 
01352 
<a name="l01353"></a><a class="code" href="../../d1/d1/bench_8c.html#a59">01353</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a59">msProfSize</a>(HDC hdc, ULONG Iter)
01354 {
01355 
01356     HWND hwnd;
01357     RECT rc;
01358     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
01359 
01360     <a class="code" href="../../d3/d9/client_2wow_8c.html#a24">GetClientRect</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>, (LPRECT)&amp;rc);
01361     <a class="code" href="../../d3/d6/rect_8c.html#a7">InflateRect</a>((LPRECT)&amp;rc, -10, -10);
01362 
01363     hwnd = <a class="code" href="../../d3/d9/client_2wow_8c.html#a12">GetWindow</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>, GW_CHILD);
01364     <a class="code" href="../../d3/d0/user32_8def.html#a32">ShowWindow</a>(hwnd, SW_RESTORE);
01365     <a class="code" href="../../d3/d0/user32_8def.html#a32">ShowWindow</a>(hwnd, <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>);
01366     <a class="code" href="../../d3/d8/client_8c.html#a140">UpdateWindow</a>(hwnd);
01367 
01368     <span class="comment">/* time start */</span>
01369 
01370     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
01371 
01372     <span class="keywordflow">while</span> (ix--)
01373     {
01374         <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a0">SetWindowPos</a>(hwnd, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, rc.left, rc.top,
01375                 rc.right - rc.left, rc.bottom - rc.top,
01376                 SWP_NOZORDER | SWP_NOACTIVATE);
01377         <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a0">SetWindowPos</a>(hwnd, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, rc.left, rc.top,
01378                 (rc.right - rc.left) / 2, (rc.bottom - rc.top) / 2,
01379                 SWP_NOZORDER | SWP_NOACTIVATE);
01380     }
01381 
01382     <span class="comment">/* time end */</span>
01383 
01384     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
01385 
01386     <a class="code" href="../../d3/d0/user32_8def.html#a32">ShowWindow</a>(hwnd, SW_RESTORE);
01387 
01388     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
01389 
01390 }
01391 
01392 
<a name="l01393"></a><a class="code" href="../../d1/d1/bench_8c.html#a60">01393</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a60">msProfMove</a>(HDC hdc, ULONG Iter)
01394 {
01395 
01396     HWND hwnd;
01397     RECT rc;
01398     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
01399 
01400     <a class="code" href="../../d3/d9/client_2wow_8c.html#a24">GetClientRect</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>, (LPRECT)&amp;rc);
01401     <a class="code" href="../../d3/d6/rect_8c.html#a7">InflateRect</a>((LPRECT)&amp;rc, -(rc.right - rc.left) / 4,
01402             -(rc.bottom - rc.top) / 4);
01403 
01404     hwnd = <a class="code" href="../../d3/d9/client_2wow_8c.html#a12">GetWindow</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>, GW_CHILD);
01405     <a class="code" href="../../d3/d0/user32_8def.html#a32">ShowWindow</a>(hwnd, SW_RESTORE);
01406     <a class="code" href="../../d3/d0/user32_8def.html#a32">ShowWindow</a>(hwnd, <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>);
01407     <a class="code" href="../../d3/d8/client_8c.html#a140">UpdateWindow</a>(hwnd);
01408 
01409     <span class="comment">/* time start */</span>
01410 
01411     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
01412 
01413     <span class="keywordflow">while</span> (ix--)
01414     {
01415         <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a0">SetWindowPos</a>(hwnd, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, rc.left, rc.top,
01416                 rc.right - rc.left, rc.bottom - rc.top,
01417                 SWP_NOZORDER | SWP_NOACTIVATE);
01418         <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a0">SetWindowPos</a>(hwnd, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, 0, 0, 0, 0,
01419                 SWP_NOZORDER | SWP_NOACTIVATE | SWP_NOSIZE);
01420     }
01421 
01422     <span class="comment">/* time end */</span>
01423 
01424     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
01425 
01426     <a class="code" href="../../d3/d0/user32_8def.html#a32">ShowWindow</a>(hwnd, SW_RESTORE);
01427 
01428     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
01429 
01430 }
01431 
01432 
<a name="l01433"></a><a class="code" href="../../d1/d1/bench_8c.html#a4">01433</a> <span class="preprocessor">#define WM_SYSTIMER 0x0118</span>
01434 <span class="preprocessor"></span>
<a name="l01435"></a><a class="code" href="../../d1/d1/bench_8c.html#a61">01435</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a61">msProfMenu</a>(HDC hdc, ULONG Iter)
01436 {
01437 
01438     MSG <a class="code" href="../../d2/d1/userexts_8c.html#a129">msg</a>;
01439     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
01440 
01441     HWND hwnd = <a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>);
01442 
01443     <a class="code" href="../../d3/d0/user32_8def.html#a32">ShowWindow</a>(hwnd, <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>);
01444 
01445     <span class="comment">/*</span>
01446 <span class="comment">     * Multipad's edit menu is a great choice. Multipad does a goodly lot</span>
01447 <span class="comment">     * of WM_INITMENU time initialization. The WM_SYSTIMER message is</span>
01448 <span class="comment">     * to circumvent menu type ahead so the menu actually shows.</span>
01449 <span class="comment">     */</span>
01450 
01451     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
01452 
01453     <span class="keywordflow">while</span> (ix--)
01454     {
01455         <a class="code" href="../../d0/d8/ntcftxt_8h.html#a20">PostMessage</a>(hwnd, WM_KEYDOWN, VK_ESCAPE, 0<a class="code" href="../../d2/d0/aw_8h.html#a3">L</a>);
01456         <a class="code" href="../../d0/d8/ntcftxt_8h.html#a20">PostMessage</a>(hwnd, WM_KEYDOWN, VK_ESCAPE, 0<a class="code" href="../../d2/d0/aw_8h.html#a3">L</a>);
01457         <a class="code" href="../../d0/d8/ntcftxt_8h.html#a20">PostMessage</a>(hwnd, <a class="code" href="../../d1/d1/bench_8c.html#a4">WM_SYSTIMER</a>, 0, 0<a class="code" href="../../d2/d0/aw_8h.html#a3">L</a>);
01458         <a class="code" href="../../d5/d9/cltxt_8h.html#a16">SendMessage</a>(hwnd, WM_SYSCOMMAND, SC_KEYMENU, (<a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>)(WORD)<span class="charliteral">'e'</span>);
01459         <span class="keywordflow">while</span> (<a class="code" href="../../d5/d9/cltxt_8h.html#a14">PeekMessage</a>(&amp;<a class="code" href="../../d2/d1/userexts_8c.html#a129">msg</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, 0, 0, PM_REMOVE))
01460             <a class="code" href="../../d5/d9/cltxt_8h.html#a24">DispatchMessage</a>(&amp;<a class="code" href="../../d2/d1/userexts_8c.html#a129">msg</a>);
01461     }
01462 
01463     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
01464 
01465     <a class="code" href="../../d3/d0/user32_8def.html#a32">ShowWindow</a>(hwnd, SW_RESTORE);
01466     <a class="code" href="../../d3/d8/client_8c.html#a140">UpdateWindow</a>(hwnd);
01467 
01468     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
01469 
01470 }
01471 
01472 
01473 
<a name="l01474"></a><a class="code" href="../../d1/d1/bench_8c.html#a62">01474</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a62">msProfGetClientRect</a>(HDC hdc, ULONG Iter)
01475 {
01476 
01477     RECT rc;
01478     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
01479 
01480     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
01481 
01482     <span class="keywordflow">while</span> (ix--)
01483     {
01484         <a class="code" href="../../d3/d9/client_2wow_8c.html#a24">GetClientRect</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>, &amp;rc);
01485     }
01486 
01487     <a class="code" href="../../d0/d2/usrbench_8h.html#a5">END_TIMER</a>;
01488 }
01489 
01490 
<a name="l01491"></a><a class="code" href="../../d1/d1/bench_8c.html#a63">01491</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a63">msProfScreenToClient</a>(HDC hdc, ULONG Iter)
01492 {
01493 
01494     POINT pt;
01495     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
01496 
01497     pt.x = 100;
01498     pt.y = 200;
01499 
01500     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
01501 
01502     <span class="keywordflow">while</span> (ix--)
01503     {
01504         <a class="code" href="../../d3/d9/client_2wow_8c.html#a27">ScreenToClient</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>, &amp;pt);
01505     }
01506 
01507     <a class="code" href="../../d0/d2/usrbench_8h.html#a5">END_TIMER</a>;
01508 }
01509 
01510 
<a name="l01511"></a><a class="code" href="../../d1/d1/bench_8c.html#a64">01511</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a64">msProfGetInputState</a>(HDC hdc, ULONG Iter)
01512 {
01513 
01514     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
01515 
01516     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
01517 
01518     <span class="keywordflow">while</span> (ix--)
01519     {
01520         <a class="code" href="../../d3/d8/winmgrc_8c.html#a14">GetInputState</a>();
01521     }
01522 
01523     <a class="code" href="../../d0/d2/usrbench_8h.html#a5">END_TIMER</a>;
01524 }
01525 
01526 
<a name="l01527"></a><a class="code" href="../../d1/d1/bench_8c.html#a65">01527</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a65">msProfGetKeyState</a>(HDC hdc, ULONG Iter)
01528 {
01529 
01530     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
01531 
01532     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
01533 
01534     <span class="keywordflow">while</span> (ix--)
01535     {
01536         <a class="code" href="../../d8/d9/client_2ntstubs_8c.html#a16">GetKeyState</a>(VK_ESCAPE);
01537     }
01538 
01539     <a class="code" href="../../d0/d2/usrbench_8h.html#a5">END_TIMER</a>;
01540 }
01541 
01542 
<a name="l01543"></a><a class="code" href="../../d1/d1/bench_8c.html#a66">01543</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a66">msProfGetAsyncKeyState</a>(HDC hdc, ULONG Iter)
01544 {
01545 
01546     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
01547 
01548     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
01549 
01550     <span class="keywordflow">while</span> (ix--)
01551     {
01552         <a class="code" href="../../d8/d9/client_2ntstubs_8c.html#a15">GetAsyncKeyState</a>(VK_ESCAPE);
01553     }
01554 
01555     <a class="code" href="../../d0/d2/usrbench_8h.html#a5">END_TIMER</a>;
01556 }
01557 
01558 
<a name="l01559"></a><a class="code" href="../../d1/d1/bench_8c.html#a67">01559</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a67">msProfDispatchMessage</a>(HDC hdc, ULONG Iter)
01560 {
01561 
01562     HWND hwnd;
01563     MSG <a class="code" href="../../d2/d1/userexts_8c.html#a129">msg</a>;
01564     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
01565     WNDCLASS wc;
01566 
01567     wc.style            = 0;
01568     wc.lpfnWndProc      = <a class="code" href="../../d1/d1/bench_8c.html#a31">CreateDestroyWndProc</a>;
01569     wc.cbClsExtra       = 0;
01570     wc.cbWndExtra       = 0;
01571     wc.hInstance        = <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>;
01572     wc.hIcon            = LoadIcon(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, (LPSTR)<a class="code" href="../../d2/d1/bench_8h.html#a2">IDUSERBENCH</a>);
01573     wc.hCursor          = LoadCursor(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, IDC_ARROW);
01574     wc.hbrBackground    = (HBRUSH)(COLOR_APPWORKSPACE + 1);
01575     wc.lpszMenuName     = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01576     wc.lpszClassName    = <span class="stringliteral">"CreateDestroyWindow"</span>;
01577 
01578     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d9/cltxt_8h.html#a7">RegisterClass</a>(&amp;wc)) {
01579         MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"14RegisterClass call failed."</span>,
01580                 <span class="stringliteral">"ERROR!"</span>, MB_OK);
01581         <span class="keywordflow">return</span> (ULONGLONG)(0);
01582     }
01583 
01584     hwnd = CreateWindow(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, WS_CHILD,
01585             CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT,
01586             <a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
01587 
01588     <a class="code" href="../../d2/d1/userexts_8c.html#a129">msg</a>.hwnd = hwnd;
01589     <a class="code" href="../../d2/d1/userexts_8c.html#a129">msg</a>.message = WM_MOUSEMOVE;
01590     <a class="code" href="../../d2/d1/userexts_8c.html#a129">msg</a>.wParam = 1;
01591     <a class="code" href="../../d2/d1/userexts_8c.html#a129">msg</a>.lParam = 2;
01592     <a class="code" href="../../d2/d1/userexts_8c.html#a129">msg</a>.time = 3;
01593     <a class="code" href="../../d2/d1/userexts_8c.html#a129">msg</a>.pt.x = 4;
01594     <a class="code" href="../../d2/d1/userexts_8c.html#a129">msg</a>.pt.y = 5;
01595 
01596     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
01597 
01598     <span class="keywordflow">while</span> (ix--)
01599     {
01600         <a class="code" href="../../d5/d9/cltxt_8h.html#a24">DispatchMessage</a>(&amp;<a class="code" href="../../d2/d1/userexts_8c.html#a129">msg</a>);
01601     }
01602 
01603     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
01604 
01605     <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwnd);
01606     <a class="code" href="../../d0/d8/ntcftxt_8h.html#a30">UnregisterClass</a>(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>);
01607 
01608     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
01609 
01610 }
01611 
01612 
<a name="l01613"></a><a class="code" href="../../d1/d1/bench_8c.html#a68">01613</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a68">msProfCallback</a>(HDC hdc, ULONG Iter)
01614 {
01615 
01616     HWND hwnd;
01617     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
01618     WNDCLASSW wc;
01619 
01620     wc.style            = 0;
01621     wc.lpfnWndProc      = <a class="code" href="../../d1/d1/bench_8c.html#a32">CreateDestroyWndProcW</a>;
01622     wc.cbClsExtra       = 0;
01623     wc.cbWndExtra       = 0;
01624     wc.hInstance        = <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>;
01625     wc.hIcon            = LoadIcon(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, (LPSTR)<a class="code" href="../../d2/d1/bench_8h.html#a2">IDUSERBENCH</a>);
01626     wc.hCursor          = LoadCursor(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, IDC_ARROW);
01627     wc.hbrBackground    = (HBRUSH)(COLOR_APPWORKSPACE + 1);
01628     wc.lpszMenuName     = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01629     wc.lpszClassName    = <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"CreateDestroyWindow"</span>;
01630 
01631     <span class="keywordflow">if</span> (!RegisterClassW(&amp;wc)) {
01632 <span class="comment">// Fails On Chicago</span>
01633 <span class="comment">//        MessageBox(GetParent(ghwndMDIClient), "15RegisterClass call failed.",</span>
01634 <span class="comment">//                "ERROR!", MB_OK);</span>
01635         <span class="keywordflow">return</span> (ULONGLONG)(0);
01636     }
01637 
01638     hwnd = CreateWindow(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, WS_CHILD,
01639             CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT,
01640             <a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
01641 
01642     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
01643 
01644     <span class="keywordflow">while</span> (ix--)
01645     {
01646         <a class="code" href="../../d5/d9/cltxt_8h.html#a16">SendMessage</a>(hwnd, WM_GETTEXTLENGTH, 0, 0);
01647     }
01648 
01649     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
01650 
01651     <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwnd);
01652     <a class="code" href="../../d0/d8/ntcftxt_8h.html#a30">UnregisterClass</a>(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>);
01653 
01654     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
01655 
01656 }
01657 
01658 
<a name="l01659"></a><a class="code" href="../../d1/d1/bench_8c.html#a69">01659</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a69">msProfSendMessage</a>(HDC hdc, ULONG Iter)
01660 {
01661 
01662     HWND hwnd;
01663     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
01664     WNDCLASS wc;
01665 
01666     wc.style            = 0;
01667     wc.lpfnWndProc      = <a class="code" href="../../d1/d1/bench_8c.html#a31">CreateDestroyWndProc</a>;
01668     wc.cbClsExtra       = 0;
01669     wc.cbWndExtra       = 0;
01670     wc.hInstance        = <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>;
01671     wc.hIcon            = LoadIcon(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, (LPSTR)<a class="code" href="../../d2/d1/bench_8h.html#a2">IDUSERBENCH</a>);
01672     wc.hCursor          = LoadCursor(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, IDC_ARROW);
01673     wc.hbrBackground    = (HBRUSH)(COLOR_APPWORKSPACE + 1);
01674     wc.lpszMenuName     = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01675     wc.lpszClassName    = <span class="stringliteral">"CreateDestroyWindow"</span>;
01676 
01677     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d9/cltxt_8h.html#a7">RegisterClass</a>(&amp;wc)) {
01678         MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"16RegisterClass call failed."</span>,
01679                 <span class="stringliteral">"ERROR!"</span>, MB_OK);
01680         <span class="keywordflow">return</span> (ULONGLONG)(0);
01681     }
01682 
01683     hwnd = CreateWindow(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, WS_CHILD,
01684             CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT,
01685             <a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
01686 
01687     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
01688 
01689     <span class="keywordflow">while</span> (ix--)
01690     {
01691         <a class="code" href="../../d5/d9/cltxt_8h.html#a16">SendMessage</a>(hwnd, WM_MOUSEMOVE, 1, 2);
01692     }
01693 
01694     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
01695 
01696     <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwnd);
01697     <a class="code" href="../../d0/d8/ntcftxt_8h.html#a30">UnregisterClass</a>(<span class="stringliteral">"CreateDestroyWindow"</span>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>);
01698 
01699     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
01700 
01701 }
01702 
<a name="l01703"></a><a class="code" href="../../d1/d1/bench_8c.html#a24">01703</a> HWND <a class="code" href="../../d1/d1/bench_8c.html#a24">hwndShare</a>;
01704 
<a name="l01705"></a><a class="code" href="../../d1/d1/bench_8c.html#a70">01705</a> <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d1/d1/bench_8c.html#a70">SendMessageDiffThreadFunc</a>(PVOID pdwData)
01706 {
01707     WNDCLASS wc;
01708     MSG <a class="code" href="../../d2/d1/userexts_8c.html#a129">msg</a>;
01709     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> b;
01710 
01711     wc.style            = 0;
01712     wc.lpfnWndProc      = <a class="code" href="../../d1/d1/bench_8c.html#a31">CreateDestroyWndProc</a>;
01713     wc.cbClsExtra       = 0;
01714     wc.cbWndExtra       = 0;
01715     wc.hInstance        = <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>;
01716     wc.hIcon            = LoadIcon(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, (LPSTR)<a class="code" href="../../d2/d1/bench_8h.html#a2">IDUSERBENCH</a>);
01717     wc.hCursor          = LoadCursor(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, IDC_ARROW);
01718     wc.hbrBackground    = (HBRUSH)(COLOR_APPWORKSPACE + 1);
01719     wc.lpszMenuName     = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01720     wc.lpszClassName    = <span class="stringliteral">"SendMessageDiffThread"</span>;
01721 
01722     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d9/cltxt_8h.html#a7">RegisterClass</a>(&amp;wc)) {
01723         MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"19RegisterClass call failed."</span>,
01724                 <span class="stringliteral">"ERROR!"</span>, MB_OK);
01725         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01726     }
01727 
01728     <a class="code" href="../../d1/d1/bench_8c.html#a24">hwndShare</a> = CreateWindow(<span class="stringliteral">"SendMessageDiffThread"</span>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, 0,
01729             CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT,
01730             <a class="code" href="../../d3/d9/client_2wow_8c.html#a4">GetDesktopWindow</a>(), <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
01731 
01732 
01733     <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>(<a class="code" href="../../d1/d1/bench_8c.html#a24">hwndShare</a>);
01734 
01735     SetEvent(*((PHANDLE)pdwData));
01736 
01737     <span class="keywordflow">while</span> (<a class="code" href="../../d0/d8/ntcftxt_8h.html#a16">GetMessage</a>(&amp;<a class="code" href="../../d2/d1/userexts_8c.html#a129">msg</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, 0, 0)) {
01738         <a class="code" href="../../d5/d9/cltxt_8h.html#a24">DispatchMessage</a>(&amp;<a class="code" href="../../d2/d1/userexts_8c.html#a129">msg</a>);
01739     }
01740 
01741     b = <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(<a class="code" href="../../d1/d1/bench_8c.html#a24">hwndShare</a>);
01742 
01743     <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>(b);
01744 
01745     b = <a class="code" href="../../d0/d8/ntcftxt_8h.html#a30">UnregisterClass</a>(<span class="stringliteral">"SendMessageDiffThread"</span>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>);
01746 
01747     <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>(b);
01748 
01749     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01750 }
01751 
<a name="l01752"></a><a class="code" href="../../d1/d1/bench_8c.html#a71">01752</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a71">msProfSendMessageDiffThread</a>(HDC hdc, ULONG Iter)
01753 {
01754 
01755     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> dwData;
01756     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <span class="keywordtype">id</span>;
01757     HANDLE hEvent;
01758     HANDLE hThread;
01759     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
01760 
01761     hEvent = CreateEvent(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>, <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
01762 
01763     <a class="code" href="../../d1/d1/bench_8c.html#a24">hwndShare</a> = (HWND)0;
01764 
01765     hThread = CreateThread( <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, 0, <a class="code" href="../../d1/d1/bench_8c.html#a70">SendMessageDiffThreadFunc</a>, &amp;hEvent, 0, &amp;<span class="keywordtype">id</span>);
01766 
01767     WaitForSingleObject( hEvent, 20*1000);
01768 
01769     Sleep(10*1000);
01770 
01771     <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>(<a class="code" href="../../d1/d1/bench_8c.html#a24">hwndShare</a>);
01772 
01773     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
01774 
01775     <span class="keywordflow">while</span> (ix--)
01776     {
01777         <a class="code" href="../../d5/d9/cltxt_8h.html#a16">SendMessage</a>(<a class="code" href="../../d1/d1/bench_8c.html#a24">hwndShare</a>, WM_MOUSEMOVE, 1, 2);
01778     }
01779 
01780     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
01781 
01782     <a class="code" href="../../d0/d8/ntcftxt_8h.html#a21">PostThreadMessage</a>(<span class="keywordtype">id</span>, WM_QUIT, 0, 0);
01783     WaitForSingleObject(hThread, 2*1000); <span class="comment">// Wait for Cleanup before Starting Next Cycle</span>
01784     CloseHandle(hThread);
01785 
01786     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
01787 
01788 }
01789 
01790 
<a name="l01791"></a><a class="code" href="../../d1/d1/bench_8c.html#a72">01791</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a72">msProfUpdateWindow</a>(HDC hDC, ULONG Iter)
01792 {
01793     WNDCLASS wc;
01794     HWND hwnd;
01795     RECT rect;
01796     <span class="keyword">static</span> LPCSTR className = <span class="stringliteral">"UpdateWindowTest"</span>;
01797     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
01798 
01799     wc.style            = 0;
01800     wc.lpfnWndProc      = <a class="code" href="../../d1/d1/bench_8c.html#a31">CreateDestroyWndProc</a>;
01801     wc.cbClsExtra       = 0;
01802     wc.cbWndExtra       = 0;
01803     wc.hInstance        = <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>;
01804     wc.hIcon            = LoadIcon(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, (LPSTR)<a class="code" href="../../d2/d1/bench_8h.html#a2">IDUSERBENCH</a>);
01805     wc.hCursor          = LoadCursor(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, IDC_ARROW);
01806     wc.hbrBackground    = (HBRUSH)(COLOR_APPWORKSPACE + 1);
01807     wc.lpszMenuName     = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01808     wc.lpszClassName    = className;
01809 
01810     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d9/cltxt_8h.html#a7">RegisterClass</a>(&amp;wc)) {
01811         MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"RegisterClass call failed."</span>,
01812                 <span class="stringliteral">"ERROR!"</span>, MB_OK);
01813         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01814     }
01815 
01816     hwnd = CreateWindow(className, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
01817         WS_OVERLAPPEDWINDOW,
01818         CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT,
01819         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
01820     <span class="keywordflow">if</span> (hwnd == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
01821         MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"CreateWindow call failed."</span>,
01822             <span class="stringliteral">"ERROR!"</span>, MB_OK);
01823             <span class="keywordflow">return</span> 0;
01824     }
01825     <a class="code" href="../../d3/d9/client_2wow_8c.html#a24">GetClientRect</a>(hwnd, &amp;rect);
01826 
01827     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
01828     <span class="keywordflow">while</span> (ix--) {
01829         <a class="code" href="../../d0/d2/usrbench_8h.html#a6">START_OVERHEAD</a>;
01830         InvalidateRect(hwnd, &amp;rect, <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>);
01831         <a class="code" href="../../d0/d2/usrbench_8h.html#a7">END_OVERHEAD</a>;
01832         <a class="code" href="../../d3/d8/client_8c.html#a140">UpdateWindow</a>(hwnd);
01833     }
01834 
01835     <a class="code" href="../../d0/d2/usrbench_8h.html#a3">END_TIMER_NO_RETURN</a>;
01836 
01837     <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwnd);
01838     <a class="code" href="../../d0/d8/ntcftxt_8h.html#a30">UnregisterClass</a>(className, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>);
01839 
01840     <a class="code" href="../../d0/d2/usrbench_8h.html#a4">RETURN_STOP_TIME</a>;
01841 }
01842 
<a name="l01843"></a><a class="code" href="../../d1/d1/bench_8c.html#a73">01843</a> ULONGLONG <a class="code" href="../../d1/d1/bench_8c.html#a73">msProfTranslateMessage</a>(HDC hDC, ULONG Iter)
01844 {
01845     WNDCLASS wc;
01846     HWND hwnd;
01847     RECT rect;
01848     <span class="keyword">static</span> LPCSTR className = <span class="stringliteral">"TranslateMessageTest"</span>;
01849     <span class="keyword">static</span> MSG msgTemplate = {
01850         (HWND)<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, WM_KEYDOWN,
01851         (WPARAM)0,
01852         (LPARAM)0,
01853         0,  <span class="comment">// time</span>
01854         {0, 0}, <span class="comment">// mouse pointer</span>
01855     };
01856     <a class="code" href="../../d0/d2/usrbench_8h.html#a1">INIT_TIMER</a>;
01857 
01858     wc.style            = 0;
01859     wc.lpfnWndProc      = <a class="code" href="../../d1/d1/bench_8c.html#a31">CreateDestroyWndProc</a>;
01860     wc.cbClsExtra       = 0;
01861     wc.cbWndExtra       = 0;
01862     wc.hInstance        = <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>;
01863     wc.hIcon            = LoadIcon(<a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, (LPSTR)<a class="code" href="../../d2/d1/bench_8h.html#a2">IDUSERBENCH</a>);
01864     wc.hCursor          = LoadCursor(<a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, IDC_ARROW);
01865     wc.hbrBackground    = (HBRUSH)(COLOR_APPWORKSPACE + 1);
01866     wc.lpszMenuName     = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01867     wc.lpszClassName    = className;
01868 
01869     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d9/cltxt_8h.html#a7">RegisterClass</a>(&amp;wc)) {
01870         MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"RegisterClass call failed."</span>,
01871                 <span class="stringliteral">"ERROR!"</span>, MB_OK);
01872         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01873     }
01874 
01875     hwnd = CreateWindow(className, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,
01876         WS_OVERLAPPEDWINDOW,
01877         CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT,
01878         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>, <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>);
01879     <span class="keywordflow">if</span> (hwnd == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
01880         MessageBox(<a class="code" href="../../d3/d9/client_2wow_8c.html#a13">GetParent</a>(<a class="code" href="../../d1/d1/bench_8c.html#a21">ghwndMDIClient</a>), <span class="stringliteral">"CreateWindow call failed."</span>,
01881             <span class="stringliteral">"ERROR!"</span>, MB_OK);
01882             <span class="keywordflow">return</span> 0;
01883     }
01884     msgTemplate.hwnd = hwnd;
01885 
01886 
01887     <a class="code" href="../../d0/d2/usrbench_8h.html#a2">START_TIMER</a>;
01888     <span class="keywordflow">while</span> (ix--) {
01889         MSG <a class="code" href="../../d2/d1/userexts_8c.html#a129">msg</a> = msgTemplate;
01890         <a class="code" href="../../d8/d9/client_2ntstubs_8c.html#a21">TranslateMessage</a>(&amp;<a class="code" href="../../d2/d1/userexts_8c.html#a129">msg</a>);
01891     }
01892 
01893     <a class="code" href="../../d3/d4/w32_2ntuser_2client_2nt6_2pch_8h.html#a3">DestroyWindow</a>(hwnd);
01894     <a class="code" href="../../d0/d8/ntcftxt_8h.html#a30">UnregisterClass</a>(className, <a class="code" href="../../d1/d1/bench_8c.html#a22">ghinst</a>);
01895 
01896     <a class="code" href="../../d0/d2/usrbench_8h.html#a5">END_TIMER</a>;
01897 }
01898 
<a name="l01899"></a><a class="code" href="../../d1/d1/bench_8c.html#a5">01899</a> <span class="preprocessor">#define WIDE    1</span>
01900 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="../../d3/d0/awtest_8inc.html">awtest.inc</a>"</span>
01901 <span class="preprocessor">#undef WIDE</span>
01902 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="../../d3/d0/awtest_8inc.html">awtest.inc</a>"</span>
01903 
01904 <span class="preprocessor">#define A1  A</span>
01905 <span class="preprocessor"></span><span class="preprocessor">#define A2  A</span>
01906 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="../../d4/d3/abtest_8inc.html">abtest.inc</a>"</span>
01907 <span class="preprocessor">#define A1  A</span>
01908 <span class="preprocessor"></span><span class="preprocessor">#define A2  W</span>
01909 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="../../d4/d3/abtest_8inc.html">abtest.inc</a>"</span>
01910 <span class="preprocessor">#define A1  W</span>
01911 <span class="preprocessor"></span><span class="preprocessor">#define A2  A</span>
01912 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="../../d4/d3/abtest_8inc.html">abtest.inc</a>"</span>
<a name="l01913"></a><a class="code" href="../../d1/d1/bench_8c.html#a12">01913</a> <span class="preprocessor">#define A1  W</span>
<a name="l01914"></a><a class="code" href="../../d1/d1/bench_8c.html#a13">01914</a> <span class="preprocessor"></span><span class="preprocessor">#define A2  W</span>
01915 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="../../d4/d3/abtest_8inc.html">abtest.inc</a>"</span>
01916 
01917 
01918 <span class="comment">/*********************************************************************/</span>
01919 
<a name="l01920"></a><a class="code" href="../../d1/d1/bench_8c.html#a14">01920</a> <span class="preprocessor">#define TEST_DEFAULT 300</span>
01921 <span class="preprocessor"></span>
<a name="l01922"></a><a class="code" href="../../d1/d1/bench_8c.html#a25">01922</a> <a class="code" href="../../d4/d0/struct__TEST__ENTRY.html">TEST_ENTRY</a>  <a class="code" href="../../d1/d1/bench_8c.html#a25">gTestEntry</a>[] = {
01923     (PUCHAR)<span class="stringliteral">"AvgDialog draw"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a39">msProfAvgDlgDraw</a>, 10, 0 ,
01924     (PUCHAR)<span class="stringliteral">"AvgDialog create/draw/destroy"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a40">msProfAvgDlgCreate</a>, 10, 0 ,
01925     (PUCHAR)<span class="stringliteral">"AvgDialog create/destroy"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a41">msProfAvgDlgCreateDestroy</a>, 100, 0 ,
01926     (PUCHAR)<span class="stringliteral">"AvgDialog(no font) create/destroy"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a43">msProfAvgDlgCreateDestroyNoFont</a>, 100, 0 ,
01927     (PUCHAR)<span class="stringliteral">"AvgDialog(no menu) create/destroy"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a42">msProfAvgDlgCreateDestroyNoMenu</a>, 100, 0 ,
01928     (PUCHAR)<span class="stringliteral">"AvgDialog(empty) create/destroy"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a44">msProfAvgDlgCreateDestroyEmpty</a>, 200, 0 ,
01929     (PUCHAR)<span class="stringliteral">"SizeWindow"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a59">msProfSize</a>, 200, 0 ,
01930     (PUCHAR)<span class="stringliteral">"MoveWindow"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a60">msProfMove</a>, 2000, 0 ,
01931     (PUCHAR)<span class="stringliteral">"Create/DestroyWindow (top)"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a45">msProfCreateDestroyWindow</a>, 1000, 0 ,
01932     (PUCHAR)<span class="stringliteral">"Create/DestroyWindow (child)"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a46">msProfCreateDestroyChildWindow</a>, 1000, 0 ,
01933 
01934     (PUCHAR)<span class="stringliteral">"Create/Destroy Listbox"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a50">msProfCreateDestroyListbox</a>, 1000, 0 ,
01935     (PUCHAR)<span class="stringliteral">"Create/Destroy Button"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a51">msProfCreateDestroyButton</a>, 1000, 0 ,
01936     (PUCHAR)<span class="stringliteral">"Create/Destroy Combobox"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a52">msProfCreateDestroyCombobox</a>, 1000, 0 ,
01937     (PUCHAR)<span class="stringliteral">"Create/Destroy Edit"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a53">msProfCreateDestroyEdit</a>, 1000, 0 ,
01938     (PUCHAR)<span class="stringliteral">"Create/Destroy Static"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a54">msProfCreateDestroyStatic</a>, 1000, 0 ,
01939     (PUCHAR)<span class="stringliteral">"Create/Destroy Scrollbar"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a55">msProfCreateDestroyScrollbar</a>, 1000, 0 ,
01940     (PUCHAR)<span class="stringliteral">"SendMessage w/callback"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a68">msProfCallback</a>, 4000, 0 ,
01941     (PUCHAR)<span class="stringliteral">"SendMessage"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a69">msProfSendMessage</a>, 4000, 0 ,
01942     (PUCHAR)<span class="stringliteral">"SendMessage Ansi-&gt;Ansi text"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)msProfSendMessageAA, 4000, 0 ,
01943     (PUCHAR)<span class="stringliteral">"SendMessage Ansi-&gt;Unicode text"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)msProfSendMessageAW, 4000, 0 ,
01944     (PUCHAR)<span class="stringliteral">"SendMessage Unicode-&gt;Ansi text"</span>, (<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)msProfSendMessageWA, 4000, 0,
01945     (PUCHAR)<span class="stringliteral">"SendMessage Unicode-&gt;Unicode text"</span>, (<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)msProfSendMessageWW, 4000, 0,
01946 
01947     (PUCHAR)<span class="stringliteral">"SendMessage - DiffThread"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a71">msProfSendMessageDiffThread</a>, 1000, 0 ,
01948     (PUCHAR)<span class="stringliteral">"SetWindowLong"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a49">msProfSetWindowLong</a>, 400, 0 ,
01949     (PUCHAR)<span class="stringliteral">"GetWindowLong"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a48">msProfGetWindowLong</a>, 2000, 0 ,
01950 
01951     (PUCHAR)<span class="stringliteral">"PeekMessageA"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)msProfPeekMessageA, 1000, 0 ,
01952     (PUCHAR)<span class="stringliteral">"PeekMessageW"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)msProfPeekMessageW, 1000, 0 ,
01953     (PUCHAR)<span class="stringliteral">"DispatchMessageA"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)msProfDispatchMessageA, 4000, 0 ,
01954     (PUCHAR)<span class="stringliteral">"DispatchMessageW"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)msProfDispatchMessageW, 4000, 0 ,
01955 
01956     (PUCHAR)<span class="stringliteral">"LocalAlloc/Free"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a47">msProfLocalAllocFree</a>, 2000, 0 ,
01957 
01958     (PUCHAR)<span class="stringliteral">"200 Listbox Insert"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a56">msProfListboxInsert1</a>, 20, 0 ,
01959     (PUCHAR)<span class="stringliteral">"200 Listbox Insert (ownerdraw)"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a57">msProfListboxInsert2</a>, 20, 0 ,
01960     (PUCHAR)<span class="stringliteral">"200 Listbox Insert (ownerdraw/sorted)"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a58">msProfListboxInsert3</a>, 20, 0 ,
01961 
01962     (PUCHAR)<span class="stringliteral">"GetClientRect"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a62">msProfGetClientRect</a>, 8000, 0 ,
01963     (PUCHAR)<span class="stringliteral">"ScreenToClient"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a63">msProfScreenToClient</a>, 8000, 0 ,
01964     (PUCHAR)<span class="stringliteral">"GetInputState"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a64">msProfGetInputState</a>, 2000, 0 ,
01965     (PUCHAR)<span class="stringliteral">"GetKeyState"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a65">msProfGetKeyState</a>, 2000, 0 ,
01966     (PUCHAR)<span class="stringliteral">"GetAsyncKeyState"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a66">msProfGetAsyncKeyState</a>, 8000, 0 ,
01967 
01968     (PUCHAR)<span class="stringliteral">"Register|UnregisterClass"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a36">msProfRegisterClass</a>, 500, 0 ,
01969     (PUCHAR)<span class="stringliteral">"GetClassInfo|Name|Long|SetClassLong"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a37">msProfClassGroup</a>, 500, 0 ,
01970 
01971     (PUCHAR)<span class="stringliteral">"Menu pulldown"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a61">msProfMenu</a>, 2000, 0 ,
01972 
01973     (PUCHAR)<span class="stringliteral">"Open|Empty|Set|Get|CloseClipboard"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a38">msProfClipboardGroup</a>, 1000, 0 ,
01974 
01975     (PUCHAR)<span class="stringliteral">"GetWindowTextLengthA"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)msProfGetWindowTextLengthA, 10000, 0,
01976     (PUCHAR)<span class="stringliteral">"GetWindowTextLengthW"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)msProfGetWindowTextLengthW, 10000, 0,
01977 
01978     (PUCHAR)<span class="stringliteral">"UdpateWindow"</span>,(<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a72">msProfUpdateWindow</a>, 10000, 0,
01979     (PUCHAR)<span class="stringliteral">"TranslateMessage"</span>, (<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)<a class="code" href="../../d1/d1/bench_8c.html#a73">msProfTranslateMessage</a>, 10000, 0,
01980     (PUCHAR)<span class="stringliteral">"IsCharUpperA"</span>, (<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)msProfCharUpperA, 2000, 0,
01981     (PUCHAR)<span class="stringliteral">"IsCharLowerA"</span>, (<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)msProfCharLowerA, 2000, 0,
01982     (PUCHAR)<span class="stringliteral">"IsCharUpperW"</span>, (<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)msProfCharUpperW, 2000, 0,
01983     (PUCHAR)<span class="stringliteral">"IsCharLowerW"</span>, (<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)msProfCharLowerW, 2000, 0,
01984     (PUCHAR)<span class="stringliteral">"CharNextA"</span>, (<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)msProfCharNextA, 2000, 0,
01985     (PUCHAR)<span class="stringliteral">"CharNextW"</span>, (<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)msProfCharNextW, 2000, 0,
01986     (PUCHAR)<span class="stringliteral">"GetMessageW"</span>, (<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)msProfGetMessageW, 5000, 0,
01987     (PUCHAR)<span class="stringliteral">"GetMessageA"</span>, (<a class="code" href="../../d0/d2/usrbench_8h.html#a23">PFN_MS</a>)msProfGetMessageA, 5000, 0,
01988 <span class="comment">// Add New Tests Here</span>
01989 };
01990 
01991 
<a name="l01992"></a><a class="code" href="../../d1/d1/bench_8c.html#a26">01992</a> ULONG <a class="code" href="../../d1/d1/bench_8c.html#a26">gNumTests</a> = <span class="keyword">sizeof</span> <a class="code" href="../../d1/d1/bench_8c.html#a25">gTestEntry</a> / <span class="keyword">sizeof</span> <a class="code" href="../../d1/d1/bench_8c.html#a25">gTestEntry</a>[0]; <span class="comment">//Total No. of Tests</span>
<a name="l01993"></a><a class="code" href="../../d1/d1/bench_8c.html#a27">01993</a> ULONG <a class="code" href="../../d1/d1/bench_8c.html#a27">gNumQTests</a> = 10;<span class="comment">// No. of tests in Group 1 (starting from first in the list)</span>
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:39:18 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
