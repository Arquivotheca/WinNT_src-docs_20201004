<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: pnpirq.c Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>pnpirq.c</h1><a href="../../d1/d1/pnpirq_8c.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">/*++</span>
00002 <span class="comment"></span>
00003 <span class="comment">Copyright (c) 1997  Microsoft Corporation</span>
00004 <span class="comment"></span>
00005 <span class="comment">Module Name:</span>
00006 <span class="comment"></span>
00007 <span class="comment">    pnpirq.c</span>
00008 <span class="comment"></span>
00009 <span class="comment">Abstract:</span>
00010 <span class="comment"></span>
00011 <span class="comment">    Root IRQ arbiter</span>
00012 <span class="comment"></span>
00013 <span class="comment">Author:</span>
00014 <span class="comment"></span>
00015 <span class="comment">    Andy Thornton (andrewth) 04/17/97</span>
00016 <span class="comment"></span>
00017 <span class="comment">Revision History:</span>
00018 <span class="comment"></span>
00019 <span class="comment">--*/</span>
00020 
00021 <span class="preprocessor">#include "<a class="code" href="../../d0/d6/iop_8h.html">iop.h</a>"</span>
00022 <span class="preprocessor">#pragma hdrstop</span>
00023 <span class="preprocessor"></span>
00024 <span class="comment">//</span>
00025 <span class="comment">// Constants</span>
00026 <span class="comment">//</span>
00027 
<a name="l00028"></a><a class="code" href="../../d1/d1/pnpirq_8c.html#a0">00028</a> <span class="preprocessor">#define MAX_ULONGLONG           ((ULONGLONG) -1)</span>
00029 <span class="preprocessor"></span>
00030 <span class="comment">//</span>
00031 <span class="comment">// Prototypes</span>
00032 <span class="comment">//</span>
00033 
00034 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00035 <a class="code" href="../../d1/d1/pnpirq_8c.html#a1">IopIrqInitialize</a>(
00036     VOID
00037     );
00038 
00039 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00040 <a class="code" href="../../d1/d1/pnpirq_8c.html#a2">IopIrqUnpackRequirement</a>(
00041     IN PIO_RESOURCE_DESCRIPTOR Descriptor,
00042     OUT PULONGLONG Minimum,
00043     OUT PULONGLONG Maximum,
00044     OUT PULONG Length,
00045     OUT PULONG Alignment
00046     );
00047 
00048 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00049 <a class="code" href="../../d1/d1/pnpirq_8c.html#a3">IopIrqPackResource</a>(
00050     IN PIO_RESOURCE_DESCRIPTOR Requirement,
00051     IN ULONGLONG Start,
00052     OUT PCM_PARTIAL_RESOURCE_DESCRIPTOR Descriptor
00053     );
00054 
00055 LONG
00056 <a class="code" href="../../d1/d1/pnpirq_8c.html#a4">IopIrqScoreRequirement</a>(
00057     IN PIO_RESOURCE_DESCRIPTOR Descriptor
00058     );
00059 
00060 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00061 <a class="code" href="../../d1/d1/pnpirq_8c.html#a5">IopIrqUnpackResource</a>(
00062     IN PCM_PARTIAL_RESOURCE_DESCRIPTOR Descriptor,
00063     OUT PULONGLONG Start,
00064     OUT PULONG Length
00065     );
00066 
00067 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00068 <a class="code" href="../../d1/d1/pnpirq_8c.html#a6">IopIrqTranslateOrdering</a>(
00069     OUT PIO_RESOURCE_DESCRIPTOR Target,
00070     IN PIO_RESOURCE_DESCRIPTOR Source
00071     );
00072 
00073 BOOLEAN
00074 <a class="code" href="../../d1/d1/pnpirq_8c.html#a7">IopIrqFindSuitableRange</a>(
00075     PARBITER_INSTANCE Arbiter,
00076     <a class="code" href="../../d5/d7/struct__ARBITER__ALLOCATION__STATE.html">PARBITER_ALLOCATION_STATE</a> State
00077     );
00078 
00079 
00080 <span class="comment">//</span>
00081 <span class="comment">// Make everything pageable</span>
00082 <span class="comment">//</span>
00083 
00084 <span class="preprocessor">#ifdef ALLOC_PRAGMA</span>
00085 <span class="preprocessor"></span>
00086 <span class="preprocessor">#pragma alloc_text(PAGE, IopIrqInitialize)</span>
00087 <span class="preprocessor"></span><span class="preprocessor">#pragma alloc_text(PAGE, IopIrqUnpackRequirement)</span>
00088 <span class="preprocessor"></span><span class="preprocessor">#pragma alloc_text(PAGE, IopIrqPackResource)</span>
00089 <span class="preprocessor"></span><span class="preprocessor">#pragma alloc_text(PAGE, IopIrqScoreRequirement)</span>
00090 <span class="preprocessor"></span><span class="preprocessor">#pragma alloc_text(PAGE, IopIrqUnpackResource)</span>
00091 <span class="preprocessor"></span><span class="preprocessor">#pragma alloc_text(PAGE, IopIrqTranslateOrdering)</span>
00092 <span class="preprocessor"></span><span class="preprocessor">#pragma alloc_text(PAGE, IopIrqFindSuitableRange)</span>
00093 <span class="preprocessor"></span><span class="preprocessor">#endif // ALLOC_PRAGMA</span>
00094 <span class="preprocessor"></span>
00095 <span class="comment">//</span>
00096 <span class="comment">// Implementation</span>
00097 <span class="comment">//</span>
00098 <span class="preprocessor">#if !defined(NO_LEGACY_DRIVERS)</span>
00099 <span class="preprocessor"></span><a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
<a name="l00100"></a><a class="code" href="../../d1/d1/pnpirq_8c.html#a6">00100</a> <a class="code" href="../../d1/d1/pnpirq_8c.html#a6">IopIrqTranslateOrdering</a>(
00101     OUT PIO_RESOURCE_DESCRIPTOR Target,
00102     IN PIO_RESOURCE_DESCRIPTOR Source
00103     )
00104 
00105 <span class="comment">/*</span>
00106 <span class="comment"></span>
00107 <span class="comment">Routine Description:</span>
00108 <span class="comment"></span>
00109 <span class="comment">    This routine is called during arbiter initialization to translate the</span>
00110 <span class="comment">    orderings.</span>
00111 <span class="comment"></span>
00112 <span class="comment">Parameters:</span>
00113 <span class="comment"></span>
00114 <span class="comment">    Target - Place to put the translated descriptor</span>
00115 <span class="comment"></span>
00116 <span class="comment">    Source - Descriptor to translate</span>
00117 <span class="comment"></span>
00118 <span class="comment">Return Value:</span>
00119 <span class="comment"></span>
00120 <span class="comment">    Status code</span>
00121 <span class="comment"></span>
00122 <span class="comment">*/</span>
00123 
00124 {
00125 
00126     KIRQL level;
00127     KAFFINITY affinity;
00128 
00129     <a class="code" href="../../d0/d9/ntosdef_8h.html#a28">PAGED_CODE</a>();
00130 
00131     <span class="comment">//</span>
00132     <span class="comment">// Copy the source to the target</span>
00133     <span class="comment">//</span>
00134 
00135     *Target = *Source;
00136 
00137     <span class="keywordflow">if</span> (Source-&gt;Type != CmResourceTypeInterrupt) {
00138         <span class="keywordflow">return</span> STATUS_SUCCESS;
00139     }
00140 
00141     <span class="comment">//</span>
00142     <span class="comment">// Translate the vector</span>
00143     <span class="comment">//</span>
00144 
00145 
00146     <a class="code" href="../../d9/d8/arbiter_8h.html#a1">ARB_PRINT</a>(
00147         2,
00148         (<span class="stringliteral">"Translating Vector 0x%x-0x%x =&gt;"</span>,
00149         Source-&gt;u.Interrupt.MinimumVector,
00150         Source-&gt;u.Interrupt.MaximumVector
00151         ));
00152 
00153     Target-&gt;u.Interrupt.MinimumVector =
00154         <a class="code" href="../../d2/d7/hal_8h.html#a181">HalGetInterruptVector</a>(Isa,
00155                               0,
00156                               Source-&gt;u.Interrupt.MinimumVector,
00157                               Source-&gt;u.Interrupt.MinimumVector,
00158                               &amp;level,
00159                               &amp;affinity
00160                               );
00161 
00162     <span class="keywordflow">if</span> (affinity == 0) {
00163         <a class="code" href="../../d9/d8/arbiter_8h.html#a1">ARB_PRINT</a>(2,(<span class="stringliteral">"Translation failed\n"</span>));
00164         *Target = *Source;
00165         <span class="keywordflow">return</span> STATUS_SUCCESS;
00166     }
00167 
00168     Target-&gt;u.Interrupt.MaximumVector =
00169         <a class="code" href="../../d2/d7/hal_8h.html#a181">HalGetInterruptVector</a>(Isa,
00170                               0,
00171                               Source-&gt;u.Interrupt.MaximumVector,
00172                               Source-&gt;u.Interrupt.MaximumVector,
00173                               &amp;level,
00174                               &amp;affinity
00175                               );
00176 
00177     <span class="keywordflow">if</span> (affinity == 0) {
00178         <a class="code" href="../../d9/d8/arbiter_8h.html#a1">ARB_PRINT</a>(2,(<span class="stringliteral">"Translation failed\n"</span>));
00179         *Target = *Source;
00180         <span class="keywordflow">return</span> STATUS_SUCCESS;
00181     }
00182 
00183     <a class="code" href="../../d9/d8/arbiter_8h.html#a1">ARB_PRINT</a>(
00184         2,
00185         (<span class="stringliteral">"0x%x-0x%x\n"</span>,
00186         Target-&gt;u.Interrupt.MinimumVector,
00187         Target-&gt;u.Interrupt.MaximumVector
00188         ));
00189 
00190 
00191     <span class="keywordflow">return</span> STATUS_SUCCESS;
00192 }
00193 <span class="preprocessor">#endif // NO_LEGACY_DRIVERS</span>
00194 <span class="preprocessor"></span>
00195 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
<a name="l00196"></a><a class="code" href="../../d9/d0/pnpiop_8h.html#a367">00196</a> <a class="code" href="../../d1/d1/pnpirq_8c.html#a1">IopIrqInitialize</a>(
00197     VOID
00198     )
00199 
00200 <span class="comment">/*++</span>
00201 <span class="comment"></span>
00202 <span class="comment">Routine Description:</span>
00203 <span class="comment"></span>
00204 <span class="comment">    This routine initializes the arbiter</span>
00205 <span class="comment"></span>
00206 <span class="comment">Parameters:</span>
00207 <span class="comment"></span>
00208 <span class="comment">    None</span>
00209 <span class="comment"></span>
00210 <span class="comment">Return Value:</span>
00211 <span class="comment"></span>
00212 <span class="comment">    None</span>
00213 <span class="comment"></span>
00214 <span class="comment">--*/</span>
00215 
00216 {
00217 
00218     <a class="code" href="../../d1/d0/pnpdata_8c.html#a33">IopRootIrqArbiter</a>.<a class="code" href="../../d8/d7/struct__ARBITER__INSTANCE.html#o12">UnpackRequirement</a> = <a class="code" href="../../d1/d1/pnpirq_8c.html#a2">IopIrqUnpackRequirement</a>;
00219     <a class="code" href="../../d1/d0/pnpdata_8c.html#a33">IopRootIrqArbiter</a>.<a class="code" href="../../d8/d7/struct__ARBITER__INSTANCE.html#o13">PackResource</a>      = <a class="code" href="../../d1/d1/pnpirq_8c.html#a3">IopIrqPackResource</a>;
00220     <a class="code" href="../../d1/d0/pnpdata_8c.html#a33">IopRootIrqArbiter</a>.<a class="code" href="../../d8/d7/struct__ARBITER__INSTANCE.html#o14">UnpackResource</a>    = <a class="code" href="../../d1/d1/pnpirq_8c.html#a5">IopIrqUnpackResource</a>;
00221     <a class="code" href="../../d1/d0/pnpdata_8c.html#a33">IopRootIrqArbiter</a>.<a class="code" href="../../d8/d7/struct__ARBITER__INSTANCE.html#o15">ScoreRequirement</a>  = <a class="code" href="../../d1/d1/pnpirq_8c.html#a4">IopIrqScoreRequirement</a>;
00222 
00223     <span class="keywordflow">return</span> <a class="code" href="../../d9/d8/arbiter_8h.html#a67">ArbInitializeArbiterInstance</a>(&amp;<a class="code" href="../../d1/d0/pnpdata_8c.html#a33">IopRootIrqArbiter</a>,
00224                                         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>,     <span class="comment">// Indicates ROOT arbiter</span>
00225                                         CmResourceTypeInterrupt,
00226                                         <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"RootIRQ"</span>,
00227                                         <a class="code" href="../../d2/d0/aw_8h.html#a3">L</a><span class="stringliteral">"Root"</span>,
00228 #<span class="keywordflow">if</span> defined(NO_LEGACY_DRIVERS)
00229                                         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>
00230 #<span class="keywordflow">else</span>
00231                                         <a class="code" href="../../d1/d1/pnpirq_8c.html#a6">IopIrqTranslateOrdering</a>
00232 #endif <span class="comment">// NO_LEGACY_DRIVERS</span>
00233                                         );
00234 }
00235 
00236 <span class="comment">//</span>
00237 <span class="comment">// Arbiter callbacks</span>
00238 <span class="comment">//</span>
00239 
00240 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
<a name="l00241"></a><a class="code" href="../../d1/d1/pnpirq_8c.html#a2">00241</a> <a class="code" href="../../d1/d1/pnpirq_8c.html#a2">IopIrqUnpackRequirement</a>(
00242     IN PIO_RESOURCE_DESCRIPTOR Descriptor,
00243     OUT PULONGLONG Minimum,
00244     OUT PULONGLONG Maximum,
00245     OUT PULONG Length,
00246     OUT PULONG Alignment
00247     )
00248 
00249 <span class="comment">/*++</span>
00250 <span class="comment"></span>
00251 <span class="comment">Routine Description:</span>
00252 <span class="comment"></span>
00253 <span class="comment">    This routine unpacks an resource requirement descriptor.</span>
00254 <span class="comment"></span>
00255 <span class="comment">Arguments:</span>
00256 <span class="comment"></span>
00257 <span class="comment">    Descriptor - The descriptor describing the requirement to unpack.</span>
00258 <span class="comment"></span>
00259 <span class="comment">    Minimum - Pointer to where the minimum acceptable start value should be</span>
00260 <span class="comment">        unpacked to.</span>
00261 <span class="comment"></span>
00262 <span class="comment">    Maximum - Pointer to where the maximum acceptable end value should be</span>
00263 <span class="comment">        unpacked to.</span>
00264 <span class="comment"></span>
00265 <span class="comment">    Length - Pointer to where the required length should be unpacked to.</span>
00266 <span class="comment"></span>
00267 <span class="comment">    Minimum - Pointer to where the required alignment should be unpacked to.</span>
00268 <span class="comment"></span>
00269 <span class="comment">Return Value:</span>
00270 <span class="comment"></span>
00271 <span class="comment">    Returns the status of this operation.</span>
00272 <span class="comment"></span>
00273 <span class="comment">--*/</span>
00274 
00275 {
00276     <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>(Descriptor);
00277     <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>(Descriptor-&gt;Type == CmResourceTypeInterrupt);
00278 
00279     <a class="code" href="../../d9/d8/arbiter_8h.html#a1">ARB_PRINT</a>(2,
00280                 (<span class="stringliteral">"Unpacking IRQ requirement %p =&gt; 0x%I64x-0x%I64x\n"</span>,
00281                 Descriptor,
00282                 (ULONGLONG) Descriptor-&gt;u.Interrupt.MinimumVector,
00283                 (ULONGLONG) Descriptor-&gt;u.Interrupt.MaximumVector
00284                 ));
00285 
00286     *Minimum = (ULONGLONG) Descriptor-&gt;u.Interrupt.MinimumVector;
00287     *Maximum = (ULONGLONG) Descriptor-&gt;u.Interrupt.MaximumVector;
00288     *Length = 1;
00289     *Alignment = 1;
00290 
00291     <span class="keywordflow">return</span> STATUS_SUCCESS;
00292 
00293 }
00294 
00295 LONG
<a name="l00296"></a><a class="code" href="../../d1/d1/pnpirq_8c.html#a4">00296</a> <a class="code" href="../../d1/d1/pnpirq_8c.html#a4">IopIrqScoreRequirement</a>(
00297     IN PIO_RESOURCE_DESCRIPTOR Descriptor
00298     )
00299 
00300 <span class="comment">/*++</span>
00301 <span class="comment"></span>
00302 <span class="comment">Routine Description:</span>
00303 <span class="comment"></span>
00304 <span class="comment">    This routine scores a requirement based on how flexible it is.  The least</span>
00305 <span class="comment">    flexible devices are scored the least and so when the arbitration list is</span>
00306 <span class="comment">    sorted we try to allocate their resources first.</span>
00307 <span class="comment"></span>
00308 <span class="comment">Arguments:</span>
00309 <span class="comment"></span>
00310 <span class="comment">    Descriptor - The descriptor describing the requirement to score.</span>
00311 <span class="comment"></span>
00312 <span class="comment"></span>
00313 <span class="comment">Return Value:</span>
00314 <span class="comment"></span>
00315 <span class="comment">    The score.</span>
00316 <span class="comment"></span>
00317 <span class="comment">--*/</span>
00318 
00319 {
00320     LONG score;
00321 
00322     <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>(Descriptor);
00323     <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>(Descriptor-&gt;Type == CmResourceTypeInterrupt);
00324 
00325     score = Descriptor-&gt;u.Interrupt.MaximumVector -
00326         Descriptor-&gt;u.Interrupt.MinimumVector + 1;
00327 
00328     <a class="code" href="../../d9/d8/arbiter_8h.html#a1">ARB_PRINT</a>(2,
00329                 (<span class="stringliteral">"Scoring IRQ resource %p =&gt; %i\n"</span>,
00330                 Descriptor,
00331                 score
00332                 ));
00333 
00334     <span class="keywordflow">return</span> score;
00335 }
00336 
00337 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
<a name="l00338"></a><a class="code" href="../../d1/d1/pnpirq_8c.html#a3">00338</a> <a class="code" href="../../d1/d1/pnpirq_8c.html#a3">IopIrqPackResource</a>(
00339     IN PIO_RESOURCE_DESCRIPTOR Requirement,
00340     IN ULONGLONG Start,
00341     OUT PCM_PARTIAL_RESOURCE_DESCRIPTOR Descriptor
00342     )
00343 
00344 <span class="comment">/*++</span>
00345 <span class="comment"></span>
00346 <span class="comment">Routine Description:</span>
00347 <span class="comment"></span>
00348 <span class="comment">    This routine packs an resource descriptor.</span>
00349 <span class="comment"></span>
00350 <span class="comment">Arguments:</span>
00351 <span class="comment"></span>
00352 <span class="comment">    Requirement - The requirement from which this resource was chosen.</span>
00353 <span class="comment"></span>
00354 <span class="comment">    Start - The start value of the resource.</span>
00355 <span class="comment"></span>
00356 <span class="comment">    Descriptor - Pointer to the descriptor to pack into.</span>
00357 <span class="comment"></span>
00358 <span class="comment">Return Value:</span>
00359 <span class="comment"></span>
00360 <span class="comment">    Returns the status of this operation.</span>
00361 <span class="comment"></span>
00362 <span class="comment">--*/</span>
00363 
00364 {
00365     <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>(Descriptor);
00366     <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>(<a class="code" href="../../d9/d1/config_2i386_2init386_8c.html#a18">Start</a> &lt; ((ULONG)-1));
00367     <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>(Requirement);
00368     <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>(Requirement-&gt;Type == CmResourceTypeInterrupt);
00369 
00370     <a class="code" href="../../d9/d8/arbiter_8h.html#a1">ARB_PRINT</a>(2,
00371                 (<span class="stringliteral">"Packing IRQ resource %p =&gt; 0x%I64x\n"</span>,
00372                 Descriptor,
00373                 <a class="code" href="../../d9/d1/config_2i386_2init386_8c.html#a18">Start</a>
00374                 ));
00375 
00376     Descriptor-&gt;Type = CmResourceTypeInterrupt;
00377     Descriptor-&gt;Flags = Requirement-&gt;Flags; <span class="comment">// BUGBUG - is this correct?</span>
00378     Descriptor-&gt;ShareDisposition = Requirement-&gt;ShareDisposition;
00379     Descriptor-&gt;u.Interrupt.Vector = (ULONG) <a class="code" href="../../d9/d1/config_2i386_2init386_8c.html#a18">Start</a>;
00380     Descriptor-&gt;u.Interrupt.Level = (ULONG) <a class="code" href="../../d9/d1/config_2i386_2init386_8c.html#a18">Start</a>;
00381     Descriptor-&gt;u.Interrupt.Affinity = 0xFFFFFFFF;
00382 
00383     <span class="keywordflow">return</span> STATUS_SUCCESS;
00384 }
00385 
00386 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
<a name="l00387"></a><a class="code" href="../../d1/d1/pnpirq_8c.html#a5">00387</a> <a class="code" href="../../d1/d1/pnpirq_8c.html#a5">IopIrqUnpackResource</a>(
00388     IN PCM_PARTIAL_RESOURCE_DESCRIPTOR Descriptor,
00389     OUT PULONGLONG Start,
00390     OUT PULONG Length
00391     )
00392 
00393 <span class="comment">/*++</span>
00394 <span class="comment"></span>
00395 <span class="comment">Routine Description:</span>
00396 <span class="comment"></span>
00397 <span class="comment">    This routine unpacks an resource descriptor.</span>
00398 <span class="comment"></span>
00399 <span class="comment">Arguments:</span>
00400 <span class="comment"></span>
00401 <span class="comment">    Descriptor - The descriptor describing the requirement to unpack.</span>
00402 <span class="comment"></span>
00403 <span class="comment">    Start - Pointer to where the start value should be unpacked to.</span>
00404 <span class="comment"></span>
00405 <span class="comment">    End - Pointer to where the end value should be unpacked to.</span>
00406 <span class="comment"></span>
00407 <span class="comment">Return Value:</span>
00408 <span class="comment"></span>
00409 <span class="comment">    Returns the status of this operation.</span>
00410 <span class="comment"></span>
00411 <span class="comment">--*/</span>
00412 
00413 
00414 {
00415 
00416     <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>(Descriptor);
00417     <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>(Descriptor-&gt;Type == CmResourceTypeInterrupt);
00418 
00419     *<a class="code" href="../../d9/d1/config_2i386_2init386_8c.html#a18">Start</a> = Descriptor-&gt;u.Interrupt.Vector;
00420     *Length = 1;
00421 
00422     <a class="code" href="../../d9/d8/arbiter_8h.html#a1">ARB_PRINT</a>(2,
00423                 (<span class="stringliteral">"Unpacking IRQ resource %p =&gt; 0x%I64x\n"</span>,
00424                 Descriptor,
00425                 *<a class="code" href="../../d9/d1/config_2i386_2init386_8c.html#a18">Start</a>
00426                 ));
00427 
00428     <span class="keywordflow">return</span> STATUS_SUCCESS;
00429 
00430 }
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:41:18 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
