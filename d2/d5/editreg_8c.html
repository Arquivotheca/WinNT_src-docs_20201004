<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: editreg.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>editreg.c File Reference</h1><code>#include "<a class="el" href="../../d2/d1/cmp_8h-source.html">cmp.h</a>"</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;ctype.h&gt;</code><br>
<code>#include "ntdskreg.h"</code><br>
<code>#include "ntddft.h"</code><br>

<p>
<a href="../../d3/d4/editreg_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a0">WORK_BUFFER_SIZE</a>&nbsp;&nbsp;&nbsp;4096</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a1">FUDGE</a>&nbsp;&nbsp;&nbsp;8</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a2">REGISTRY_BASE</a>&nbsp;&nbsp;&nbsp;"\\REGISTRY\\MACHINE"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a3">DEFAULT_TYPE</a>&nbsp;&nbsp;&nbsp;REG_SZ</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a4">FT_REGISTRY_ROOT</a>&nbsp;&nbsp;&nbsp;"\\REGISTRY\\MACHINE\\SYSTEM\\NTFT"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a5">FT_STRIPE_BASE</a>&nbsp;&nbsp;&nbsp;"Stripe%d"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a6">FT_MIRROR_BASE</a>&nbsp;&nbsp;&nbsp;"Mirror%d"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a7">FT_VOLSET_BASE</a>&nbsp;&nbsp;&nbsp;"VolSet%d"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a8">INVALID</a>&nbsp;&nbsp;&nbsp;-1</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a9">DIR</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a10">CREATE</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a11">LIST</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a12">CHDIR</a>&nbsp;&nbsp;&nbsp;3</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a13">HELP</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a14">QUIT</a>&nbsp;&nbsp;&nbsp;5</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a15">DDEBUG</a>&nbsp;&nbsp;&nbsp;6</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a16">SETVALUE</a>&nbsp;&nbsp;&nbsp;7</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a17">DELKEY</a>&nbsp;&nbsp;&nbsp;8</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a18">DELVALUE</a>&nbsp;&nbsp;&nbsp;9</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a19">DIRLONG</a>&nbsp;&nbsp;&nbsp;10</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a20">INLONG</a>&nbsp;&nbsp;&nbsp;11</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a21">INSHORT</a>&nbsp;&nbsp;&nbsp;12</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a22">INBYTE</a>&nbsp;&nbsp;&nbsp;13</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a23">DUMP</a>&nbsp;&nbsp;&nbsp;14</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a24">DISKREG</a>&nbsp;&nbsp;&nbsp;15</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a25">FIXDISK</a>&nbsp;&nbsp;&nbsp;16</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a26">RESTORE</a>&nbsp;&nbsp;&nbsp;17</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a27">DRIVERS</a>&nbsp;&nbsp;&nbsp;18</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a28">ORPHAN</a>&nbsp;&nbsp;&nbsp;19</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a29">REGEN</a>&nbsp;&nbsp;&nbsp;20</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a30">INIT</a>&nbsp;&nbsp;&nbsp;21</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a31">MAKEFT</a>&nbsp;&nbsp;&nbsp;22</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a32">CTRL_C</a>&nbsp;&nbsp;&nbsp;0x03</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a33">DRIVER_KEY</a>&nbsp;&nbsp;&nbsp;"\\REGISTRY\\MACHINE\\System\\CurrentControlSet\\Services"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a34">TYPE_KEY</a>&nbsp;&nbsp;&nbsp;"Type"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a35">START_KEY</a>&nbsp;&nbsp;&nbsp;"Start"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a36">GROUP_KEY</a>&nbsp;&nbsp;&nbsp;"Group"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a37">DEPENDENCIES</a>&nbsp;&nbsp;&nbsp;"DependOnGroup"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a38">TEMP_BUFFER_SIZE</a>&nbsp;&nbsp;&nbsp;256</td></tr>

<tr><td colspan=2><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>typedef enum <a class="el" href="../../d2/d5/editreg_8c.html#a88">_DUMP_CONTROL</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a52">DUMP_CONTROL</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>typedef enum <a class="el" href="../../d2/d5/editreg_8c.html#a88">_DUMP_CONTROL</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a53">PDUMP_CONTROL</a></td></tr>

<tr><td colspan=2><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>enum &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a88">_DUMP_CONTROL</a> { <a class="el" href="../../d2/d5/editreg_8c.html#a88a56">InBytes</a>, 
<a class="el" href="../../d2/d5/editreg_8c.html#a88a57">InShorts</a>, 
<a class="el" href="../../d2/d5/editreg_8c.html#a88a58">InLongs</a>
 }</td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>NTSTATUS&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a59">FtOpenKey</a> (PHANDLE HandlePtr, PUCHAR <a class="el" href="../../d8/d3/rtvbatcr_8c.html#a3">KeyName</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>NTSTATUS&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a60">FtDeleteKey</a> (PUCHAR <a class="el" href="../../d8/d3/rtvbatcr_8c.html#a3">KeyName</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>NTSTATUS&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a61">FtCreateKey</a> (PUCHAR <a class="el" href="../../d8/d3/rtvbatcr_8c.html#a3">KeyName</a>, PUCHAR KeyClass, ULONG <a class="el" href="../../d7/d0/cmdat2_8c.html#a27">Index</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>NTSTATUS&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a62">FtDeleteValue</a> (HANDLE KeyHandle, PUCHAR <a class="el" href="../../d8/d2/rtrenval_8c.html#a3">ValueName</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>NTSTATUS&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a63">FtSetValue</a> (HANDLE KeyHandle, PUCHAR <a class="el" href="../../d8/d2/rtrenval_8c.html#a3">ValueName</a>, PVOID DataBuffer, ULONG DataLength, ULONG Type)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PUCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a64">FindTypeString</a> (ULONG Type)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a65">ProcessHex</a> (PUCHAR <a class="el" href="../../d0/d0/tdetach_8c.html#a0">String</a>, PULONG Value)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a66">Dump</a> (PVOID <a class="el" href="../../d8/d6/ttri_8c.html#a3">Buffer</a>, ULONG Length)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a67">UnicodePrint</a> (PUNICODE_STRING UnicodeString)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>NTSTATUS&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a68">Directory</a> (HANDLE KeyHandle, BOOLEAN LongListing)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>NTSTATUS&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a69">List</a> (HANDLE KeyHandle, PUCHAR ItemName)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>UCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a70">GetCharacter</a> (BOOLEAN Batch)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PUCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a> (BOOLEAN Batch, PUCHAR Prompt, BOOLEAN ConvertToLower)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>ULONG&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a72">ParseArgumentNumeric</a> (PUCHAR *ArgumentPtr)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a73">PromptUser</a> (BOOLEAN Batch)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a74">GetCommand</a> (BOOLEAN Batch, PUCHAR *ArgumentPtr)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a75">NotImplemented</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>NTSTATUS&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a76">FtReturnValue</a> (IN HANDLE <a class="el" href="../../d5/d6/w98_2lh__open_2pi__basic_8h.html#a29">Handle</a>, IN PUCHAR <a class="el" href="../../d8/d2/rtrenval_8c.html#a3">ValueName</a>, IN PUCHAR <a class="el" href="../../d8/d6/ttri_8c.html#a3">Buffer</a>, IN ULONG BufferLength)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a77">DiskDump</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a78">ChangeMemberState</a> (IN ULONG Type, IN ULONG <a class="el" href="../../d2/d1/cttoken_8c.html#a54">Group</a>, IN ULONG Member, IN FT_PARTITION_STATE NewState)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a79">RestoreOrphan</a> (IN ULONG Type, IN ULONG <a class="el" href="../../d2/d1/cttoken_8c.html#a54">Group</a>, IN ULONG Member)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a80">OrphanMember</a> (IN ULONG Type, IN ULONG <a class="el" href="../../d2/d1/cttoken_8c.html#a54">Group</a>, IN ULONG Member)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a81">RegenerateMember</a> (IN ULONG Type, IN ULONG <a class="el" href="../../d2/d1/cttoken_8c.html#a54">Group</a>, IN ULONG Member)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a82">FixDisk</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PDISK_CONFIG_HEADER&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a83">GetDiskInfo</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>BOOLEAN&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a84">CreateFtMember</a> (IN PDISK_CONFIG_HEADER ConfigHeader, IN ULONG Disk, IN ULONG Partition, IN ULONG Type, IN ULONG <a class="el" href="../../d2/d1/cttoken_8c.html#a54">Group</a>, IN ULONG Member)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a85">DisplayLoadInformation</a> (IN PUCHAR DriverKey)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a86">ListDrivers</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a87">main</a> ()</td></tr>

<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>PUCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a39">TypeNames</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>ULONG&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a40">TypeNumbers</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PUCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a41">StartDescription</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PUCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a42">TypeDescription</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PUCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a43">Commands</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a44">CommandMap</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PUCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a45">CommandHelp</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>UCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a46">WorkingDirectory</a> [512]</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>UCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a47">CurrentDirectory</a> [512]</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>UCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a48">CommandLine</a> [512]</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PUCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a49">SetPrompts</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PUCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a50">Version</a> = "Version 1.30"</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>ULONG&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a51">Debug</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>ULONG&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a54">ForceDump</a> = 0</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="../../d2/d5/editreg_8c.html#a52">DUMP_CONTROL</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d5/editreg_8c.html#a55">DumpControl</a> = InLongs</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a12" doxytag="editreg.c::CHDIR" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define CHDIR&nbsp;&nbsp;&nbsp;3          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00157">157</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="editreg.c::CREATE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define CREATE&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00155">155</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a32" doxytag="editreg.c::CTRL_C" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define CTRL_C&nbsp;&nbsp;&nbsp;0x03          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00178">178</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l01120">GetArgumentString()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="editreg.c::DDEBUG" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DDEBUG&nbsp;&nbsp;&nbsp;6          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00160">160</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="editreg.c::DEFAULT_TYPE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DEFAULT_TYPE&nbsp;&nbsp;&nbsp;REG_SZ          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00122">122</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="editreg.c::DELKEY" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DELKEY&nbsp;&nbsp;&nbsp;8          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00162">162</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="editreg.c::DELVALUE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DELVALUE&nbsp;&nbsp;&nbsp;9          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00163">163</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a37" doxytag="editreg.c::DEPENDENCIES" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DEPENDENCIES&nbsp;&nbsp;&nbsp;"DependOnGroup"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l02284">2284</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="editreg.c::DIR" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DIR&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00154">154</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a19" doxytag="editreg.c::DIRLONG" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DIRLONG&nbsp;&nbsp;&nbsp;10          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00164">164</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a24" doxytag="editreg.c::DISKREG" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DISKREG&nbsp;&nbsp;&nbsp;15          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00169">169</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a33" doxytag="editreg.c::DRIVER_KEY" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DRIVER_KEY&nbsp;&nbsp;&nbsp;"\\REGISTRY\\MACHINE\\System\\CurrentControlSet\\Services"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l02279">2279</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02369">ListDrivers()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a27" doxytag="editreg.c::DRIVERS" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DRIVERS&nbsp;&nbsp;&nbsp;18          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00172">172</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a23" doxytag="editreg.c::DUMP" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DUMP&nbsp;&nbsp;&nbsp;14          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00168">168</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a25" doxytag="editreg.c::FIXDISK" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define FIXDISK&nbsp;&nbsp;&nbsp;16          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00170">170</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="editreg.c::FT_MIRROR_BASE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define FT_MIRROR_BASE&nbsp;&nbsp;&nbsp;"Mirror%d"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00140">140</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="editreg.c::FT_REGISTRY_ROOT" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define FT_REGISTRY_ROOT&nbsp;&nbsp;&nbsp;"\\REGISTRY\\MACHINE\\SYSTEM\\NTFT"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00128">128</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="editreg.c::FT_STRIPE_BASE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define FT_STRIPE_BASE&nbsp;&nbsp;&nbsp;"Stripe%d"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00134">134</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="editreg.c::FT_VOLSET_BASE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define FT_VOLSET_BASE&nbsp;&nbsp;&nbsp;"VolSet%d"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00146">146</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="editreg.c::FUDGE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define FUDGE&nbsp;&nbsp;&nbsp;8          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00110">110</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a36" doxytag="editreg.c::GROUP_KEY" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define GROUP_KEY&nbsp;&nbsp;&nbsp;"Group"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l02283">2283</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="editreg.c::HELP" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define HELP&nbsp;&nbsp;&nbsp;4          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00158">158</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>, and <a class="el" href="../../d3/d9/kernel_2help_8c-source.html#l00073">xxxHelpLoop()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a22" doxytag="editreg.c::INBYTE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define INBYTE&nbsp;&nbsp;&nbsp;13          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00167">167</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a30" doxytag="editreg.c::INIT" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define INIT&nbsp;&nbsp;&nbsp;21          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00175">175</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a20" doxytag="editreg.c::INLONG" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define INLONG&nbsp;&nbsp;&nbsp;11          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00165">165</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a21" doxytag="editreg.c::INSHORT" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define INSHORT&nbsp;&nbsp;&nbsp;12          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00166">166</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="editreg.c::INVALID" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define INVALID&nbsp;&nbsp;&nbsp;-1          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00153">153</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l01355">GetCommand()</a>, <a class="el" href="../../d3/d4/perfutil_8c-source.html#l00236">IsNumberInUnicodeList()</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="editreg.c::LIST" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define LIST&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00156">156</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a31" doxytag="editreg.c::MAKEFT" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MAKEFT&nbsp;&nbsp;&nbsp;22          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00176">176</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a28" doxytag="editreg.c::ORPHAN" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define ORPHAN&nbsp;&nbsp;&nbsp;19          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00173">173</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="editreg.c::QUIT" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define QUIT&nbsp;&nbsp;&nbsp;5          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00159">159</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a29" doxytag="editreg.c::REGEN" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define REGEN&nbsp;&nbsp;&nbsp;20          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00174">174</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="editreg.c::REGISTRY_BASE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define REGISTRY_BASE&nbsp;&nbsp;&nbsp;"\\REGISTRY\\MACHINE"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00116">116</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a26" doxytag="editreg.c::RESTORE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define RESTORE&nbsp;&nbsp;&nbsp;17          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00171">171</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="editreg.c::SETVALUE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define SETVALUE&nbsp;&nbsp;&nbsp;7          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00161">161</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a35" doxytag="editreg.c::START_KEY" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define START_KEY&nbsp;&nbsp;&nbsp;"Start"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l02282">2282</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a38" doxytag="editreg.c::TEMP_BUFFER_SIZE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TEMP_BUFFER_SIZE&nbsp;&nbsp;&nbsp;256          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l02367">2367</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02369">ListDrivers()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a34" doxytag="editreg.c::TYPE_KEY" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TYPE_KEY&nbsp;&nbsp;&nbsp;"Type"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l02281">2281</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="editreg.c::WORK_BUFFER_SIZE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define WORK_BUFFER_SIZE&nbsp;&nbsp;&nbsp;4096          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00104">104</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l01771">ChangeMemberState()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00903">Directory()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l01597">DiskDump()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l01990">FixDisk()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l01534">FtReturnValue()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l02163">GetDiskInfo()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00966">List()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l02369">ListDrivers()</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l00866">UnicodePrint()</a>.    </td>
  </tr>
</table>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="a52" doxytag="editreg.c::DUMP_CONTROL" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef enum <a class="el" href="../../d2/d5/editreg_8c.html#a88">_DUMP_CONTROL</a>  <a class="el" href="../../d2/d5/editreg_8c.html#a52">DUMP_CONTROL</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a53" doxytag="editreg.c::PDUMP_CONTROL" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef enum <a class="el" href="../../d2/d5/editreg_8c.html#a88">_DUMP_CONTROL</a> * <a class="el" href="../../d2/d5/editreg_8c.html#a53">PDUMP_CONTROL</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="a88" doxytag="editreg.c::_DUMP_CONTROL" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> enum <a class="el" href="../../d2/d5/editreg_8c.html#a88">_DUMP_CONTROL</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Enumeration values: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em><a class="anchor" name="a88a56" doxytag="InBytes" ></a>InBytes</em>&nbsp;</td><td>
</td></tr>
<tr><td valign=top><em><a class="anchor" name="a88a57" doxytag="InShorts" ></a>InShorts</em>&nbsp;</td><td>
</td></tr>
<tr><td valign=top><em><a class="anchor" name="a88a58" doxytag="InLongs" ></a>InLongs</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00344">344</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
<pre class="fragment"><div>00344                            {
00345 
00346     <a class="code" href="../../d2/d5/editreg_8c.html#a88a56">InBytes</a>,
00347     <a class="code" href="../../d2/d5/editreg_8c.html#a88a57">InShorts</a>,
00348     <a class="code" href="../../d2/d5/editreg_8c.html#a88a58">InLongs</a>
00349 
00350 } <a class="code" href="../../d2/d5/editreg_8c.html#a52">DUMP_CONTROL</a>, *<a class="code" href="../../d2/d5/editreg_8c.html#a53">PDUMP_CONTROL</a>;
</div></pre>    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a78" doxytag="editreg.c::ChangeMemberState" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID ChangeMemberState           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Type</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Group</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Member</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN FT_PARTITION_STATE&nbsp;</td>
          <td class="mdname" nowrap> <em>NewState</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l01771">1771</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
References <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00357">FtOpenKey()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l01534">FtReturnValue()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00602">FtSetValue()</a>, <a class="el" href="../../d7/d9/ctaccess_8c-source.html#l00160">Group</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d6/d9/obclose_8c-source.html#l00037">NtClose()</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00064">USHORT</a>, <a class="el" href="../../d2/d7/hal_8h.html#a212">VOID()</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l00104">WORK_BUFFER_SIZE</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l01924">OrphanMember()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l01957">RegenerateMember()</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l01891">RestoreOrphan()</a>.
<p>
<pre class="fragment"><div>01780                    :
01781 
01782     Set <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> FT state <span class="keywordflow">for</span> a partition.
01783 
01784 Arguments:
01785 
01786     Type   - <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> FT <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a>.
01787     <a class="code" href="../../d6/d0/ctaccess_8c.html#a54">Group</a>  - <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> FT <a class="code" href="../../d6/d0/ctaccess_8c.html#a54">Group</a> number <span class="keywordflow">for</span> that <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a>.
01788     Member - <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> member number within <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> group.
01789 
01790 Return Values:
01791 
01792     None.
01793 
01794 --*/
01795 
01796 {
01797     BOOLEAN             writeBackRegistry = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01798     HANDLE              handle;
01799     ULONG               outerLoop;
01800     ULONG               innerLoop;
01801     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>            status;
01802     PDISK_CONFIG_HEADER configHeader;
01803     PDISK_REGISTRY      diskRegistry;
01804     PDISK_DESCRIPTION   diskDescription;
01805     PDISK_PARTITION     partitionDescription;
01806 
01807     status = <a class="code" href="../../d2/d5/editreg_8c.html#a59">FtOpenKey</a>(&amp;handle,
01808                        DISK_REGISTRY_KEY);
01809 
01810     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
01811         printf(<span class="stringliteral">"Currently there is no key in the registry"</span>
01812                <span class="stringliteral">" for the disk information.\n"</span>);
01813         <span class="keywordflow">return</span>;
01814     }
01815 
01816     configHeader = (PDISK_CONFIG_HEADER) malloc(WORK_BUFFER_SIZE);
01817     <span class="keywordflow">if</span> (configHeader == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
01818         printf(<span class="stringliteral">"Unable to allocate memory for the disk registy information.\n"</span>);
01819         <a class="code" href="../../d5/d0/obclose_8c.html#a1">NtClose</a>(handle);
01820         <span class="keywordflow">return</span>;
01821     }
01822 
01823     RtlZeroMemory(configHeader, WORK_BUFFER_SIZE);
01824 
01825     status = <a class="code" href="../../d2/d5/editreg_8c.html#a76">FtReturnValue</a>(handle,
01826                            (PUCHAR) DISK_REGISTRY_VALUE,
01827                            (PUCHAR) configHeader,
01828                            WORK_BUFFER_SIZE);
01829 
01830     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
01831         printf(<span class="stringliteral">"There is no disk registry information (%x)\n"</span>, status);
01832         free(configHeader);
01833         <a class="code" href="../../d5/d0/obclose_8c.html#a1">NtClose</a>(handle);
01834         <span class="keywordflow">return</span>;
01835     }
01836 
01837     diskRegistry = (PDISK_REGISTRY)
01838                  ((PUCHAR) configHeader + configHeader-&gt;DiskInformationOffset);
01839 
01840     diskDescription = &amp;diskRegistry-&gt;Disks[0];
01841     <span class="keywordflow">for</span> (outerLoop = 0;
01842          outerLoop &lt; diskRegistry-&gt;NumberOfDisks;
01843          outerLoop++) {
01844 
01845         <span class="keywordflow">for</span> (innerLoop = 0;
01846              innerLoop &lt; diskDescription-&gt;NumberOfPartitions;
01847              innerLoop++) {
01848 
01849             partitionDescription = &amp;diskDescription-&gt;Partitions[innerLoop];
01850 
01851             <span class="keywordflow">if</span> ((partitionDescription-&gt;FtType == (FT_TYPE) Type) &amp;&amp;
01852                 (partitionDescription-&gt;FtGroup == (<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>) <a class="code" href="../../d6/d0/ctaccess_8c.html#a54">Group</a>) &amp;&amp;
01853                 (partitionDescription-&gt;FtMember == (<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>) Member)) {
01854 
01855                 partitionDescription-&gt;FtState = NewState;
01856                 writeBackRegistry = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01857                 <span class="keywordflow">break</span>;
01858             }
01859         }
01860 
01861         <span class="keywordflow">if</span> (writeBackRegistry == <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>) {
01862             ULONG size;
01863 
01864             <span class="keywordflow">if</span> (configHeader-&gt;FtInformationSize == 0) {
01865                 printf(<span class="stringliteral">"Seems a little odd to be setting FT state "</span> <span class="comment">// no comma</span>
01866                        <span class="stringliteral">"with no FT information...\n"</span>);
01867                 size = configHeader-&gt;DiskInformationOffset +
01868                        configHeader-&gt;DiskInformationSize;
01869             } <span class="keywordflow">else</span> {
01870                 size = configHeader-&gt;FtInformationOffset +
01871                        configHeader-&gt;FtInformationSize;
01872             }
01873 
01874             (<a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>) <a class="code" href="../../d2/d5/editreg_8c.html#a63">FtSetValue</a>(handle,
01875                               (PUCHAR) DISK_REGISTRY_VALUE,
01876                               (PUCHAR) configHeader,
01877                               size,
01878                               REG_BINARY);
01879             <span class="keywordflow">break</span>;
01880         }
01881         diskDescription = (PDISK_DESCRIPTION)
01882               &amp;diskDescription-&gt;Partitions[diskDescription-&gt;NumberOfPartitions];
01883     }
01884 
01885     <a class="code" href="../../d5/d0/obclose_8c.html#a1">NtClose</a>(handle);
01886     free(configHeader);
01887 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a84" doxytag="editreg.c::CreateFtMember" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN CreateFtMember           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PDISK_CONFIG_HEADER&nbsp;</td>
          <td class="mdname" nowrap> <em>ConfigHeader</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Disk</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Partition</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Type</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Group</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Member</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l02210">2210</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
References <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d7/d9/ctaccess_8c-source.html#l00160">Group</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.
<p>
<pre class="fragment"><div>02223 {
02224     ULONG               innerLoop;
02225     ULONG               outerLoop;
02226     ULONG               length;
02227     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>            status;
02228     PDISK_REGISTRY      diskRegistry;
02229     PDISK_DESCRIPTION   diskDescription;
02230     PDISK_PARTITION     diskPartition;
02231 
02232     diskRegistry = (PDISK_REGISTRY)
02233                  ((PUCHAR) ConfigHeader + ConfigHeader-&gt;DiskInformationOffset);
02234     diskDescription = &amp;diskRegistry-&gt;Disks[0];
02235 
02236     <span class="comment">//</span>
02237     <span class="comment">// Have to walk the disk information by hand to find a match on</span>
02238     <span class="comment">// disk number and partition</span>
02239     <span class="comment">//</span>
02240 
02241     <span class="keywordflow">for</span> (outerLoop = 0;
02242          outerLoop &lt; diskRegistry-&gt;NumberOfDisks;
02243          outerLoop++) {
02244 
02245         <span class="keywordflow">if</span> (outerLoop == Disk) {
02246             <span class="keywordflow">for</span> (innerLoop = 0;
02247                  innerLoop &lt; diskDescription-&gt;NumberOfPartitions;
02248                  innerLoop++) {
02249                 diskPartition = &amp;diskDescription-&gt;Partitions[innerLoop];
02250     
02251                 <span class="keywordflow">if</span> (diskPartition-&gt;LogicalNumber == Partition) {
02252     
02253                     <span class="comment">//</span>
02254                     <span class="comment">// Found a match.</span>
02255                     <span class="comment">//</span>
02256 
02257                     diskPartition-&gt;FtType = Type;
02258                     diskPartition-&gt;FtMember = Member;
02259                     diskPartition-&gt;FtGroup = <a class="code" href="../../d6/d0/ctaccess_8c.html#a54">Group</a>;
02260                     diskPartition-&gt;FtState = Healthy;
02261                     diskPartition-&gt;AssignDriveLetter = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
02262                     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
02263                 }
02264             }
02265         }
02266 
02267         diskDescription = (PDISK_DESCRIPTION)
02268           &amp;diskDescription-&gt;Partitions[diskDescription-&gt;NumberOfPartitions];
02269     }
02270 
02271     <span class="comment">//</span>
02272     <span class="comment">// Didn't find it.</span>
02273     <span class="comment">//</span>
02274 
02275     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
02276 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a68" doxytag="editreg.c::Directory" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NTSTATUS Directory           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HANDLE&nbsp;</td>
          <td class="mdname" nowrap> <em>KeyHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOLEAN&nbsp;</td>
          <td class="mdname" nowrap> <em>LongListing</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00903">903</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
References <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d8/d6/ntapi_8c-source.html#l00610">NtEnumerateKey()</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00866">UnicodePrint()</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00064">USHORT</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l00104">WORK_BUFFER_SIZE</a>.
<p>
Referenced by <a class="el" href="../../d3/d2/ldrsnap_8c-source.html#l03710">LdrpDphDetectSnapRoutines()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>, <a class="el" href="../../d9/d9/obdir_8c-source.html#l00032">NtCreateDirectoryObject()</a>, <a class="el" href="../../d9/d9/obdir_8c-source.html#l00229">NtQueryDirectoryObject()</a>, <a class="el" href="../../d9/d9/obdir_8c-source.html#l01009">ObpDeleteDirectoryEntry()</a>, <a class="el" href="../../d9/d9/obdir_8c-source.html#l00903">ObpInsertDirectoryEntry()</a>, <a class="el" href="../../d9/d9/obdir_8c-source.html#l00705">ObpLookupDirectoryEntry()</a>, <a class="el" href="../../d9/d9/obdir_8c-source.html#l01081">ObpLookupObjectName()</a>, and <a class="el" href="../../d5/d0/oblink_8c-source.html#l01121">ObpProcessDosDeviceSymbolicLink()</a>.
<p>
<pre class="fragment"><div>00911                    :
00912 
00913 Arguments:
00914 
00915 Return Value:
00916 
00917 --*/
00918 
00919 {
00920     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>        status;
00921     ULONG           index;
00922     ULONG           resultLength;
00923     UNICODE_STRING  unicodeValueName;
00924     PKEY_BASIC_INFORMATION keyInformation;
00925 
00926     keyInformation = (PKEY_BASIC_INFORMATION) malloc(WORK_BUFFER_SIZE);
00927 
00928     <span class="keywordflow">for</span> (index = 0; <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>; index++) {
00929 
00930         RtlZeroMemory(keyInformation, WORK_BUFFER_SIZE);
00931 
00932         status = <a class="code" href="../../d7/d7/ntapi_8c.html#a17">NtEnumerateKey</a>(KeyHandle,
00933                                 index,
00934                                 KeyBasicInformation,
00935                                 keyInformation,
00936                                 WORK_BUFFER_SIZE,
00937                                 &amp;resultLength);
00938 
00939         <span class="keywordflow">if</span> (status == STATUS_NO_MORE_ENTRIES) {
00940 
00941             <span class="keywordflow">break</span>;
00942 
00943         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
00944 
00945             printf(<span class="stringliteral">"readreg: Error on Enumerate status = %x\n"</span>, status);
00946             <span class="keywordflow">break</span>;
00947 
00948         }
00949 
00950         unicodeValueName.Length = (<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>)keyInformation-&gt;NameLength;
00951         unicodeValueName.MaximumLength = (<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>)keyInformation-&gt;NameLength;
00952         unicodeValueName.Buffer = (PWSTR)&amp;keyInformation-&gt;Name[0];
00953         <a class="code" href="../../d2/d5/editreg_8c.html#a67">UnicodePrint</a>(&amp;unicodeValueName);
00954         printf(<span class="stringliteral">"\n"</span>);
00955 
00956         <span class="keywordflow">if</span> (LongListing) {
00957         }
00958     }
00959 
00960     free(keyInformation);
00961     <span class="keywordflow">return</span> status;
00962 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a77" doxytag="editreg.c::DiskDump" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID DiskDump           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l01597">1597</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
References <a class="el" href="../../d3/d4/editreg_8c-source.html#l00357">FtOpenKey()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l01534">FtReturnValue()</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d6/d9/obclose_8c-source.html#l00037">NtClose()</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l00104">WORK_BUFFER_SIZE</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.
<p>
<pre class="fragment"><div>01601                    :
01602 
01603     Formatted display of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> disk registry information.
01604 
01605 Arguments:
01606 
01607     None.
01608 
01609 Return Values:
01610 
01611     None.
01612 
01613 --*/
01614 
01615 {
01616     ULONG               outerLoop;
01617     ULONG               innerLoop;
01618     HANDLE              handle;
01619     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>            status;
01620     PDISK_CONFIG_HEADER configHeader;
01621     PDISK_REGISTRY      diskRegistry;
01622     PDISK_DESCRIPTION   diskDescription;
01623     PDISK_PARTITION     diskPartition;
01624     PFT_REGISTRY        ftRegistry;
01625     PFT_DESCRIPTION     ftDescription;
01626     PFT_MEMBER_DESCRIPTION ftMember;
01627 
01628     status = <a class="code" href="../../d2/d5/editreg_8c.html#a59">FtOpenKey</a>(&amp;handle,
01629                        DISK_REGISTRY_KEY);
01630 
01631     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
01632         printf(<span class="stringliteral">"Currently there is no key in the registry"</span>
01633                <span class="stringliteral">" for the disk information.\n"</span>);
01634         <span class="keywordflow">return</span>;
01635     }
01636 
01637     configHeader = (PDISK_CONFIG_HEADER) malloc(WORK_BUFFER_SIZE);
01638     <span class="keywordflow">if</span> (configHeader == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
01639         printf(<span class="stringliteral">"Unable to allocate memory for the disk registy information.\n"</span>);
01640         <span class="keywordflow">return</span>;
01641     }
01642 
01643     RtlZeroMemory(configHeader, WORK_BUFFER_SIZE);
01644 
01645     status = <a class="code" href="../../d2/d5/editreg_8c.html#a76">FtReturnValue</a>(handle,
01646                            (PUCHAR) DISK_REGISTRY_VALUE,
01647                            (PUCHAR) configHeader,
01648                            WORK_BUFFER_SIZE);
01649     <a class="code" href="../../d5/d0/obclose_8c.html#a1">NtClose</a>(handle);
01650 
01651     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
01652         printf(<span class="stringliteral">"There is no disk registry information (%x)\n"</span>, status);
01653         free(configHeader);
01654         <span class="keywordflow">return</span>;
01655     }
01656 
01657     <span class="comment">//</span>
01658     <span class="comment">// Print the header.</span>
01659     <span class="comment">//</span>
01660 
01661     printf(<span class="stringliteral">"Registry header information:\n"</span>);
01662     printf(<span class="stringliteral">"\tVersion = 0x%x, Checksum = 0x%x\n"</span>,
01663            configHeader-&gt;Version,
01664            configHeader-&gt;CheckSum);
01665     printf(<span class="stringliteral">"\tDisk info Offset = 0x%x, Size = 0x%x\n"</span>,
01666            configHeader-&gt;DiskInformationOffset,
01667            configHeader-&gt;DiskInformationSize);
01668     printf(<span class="stringliteral">"\tFT info Offset = 0x%x, Size = 0x%x\n"</span>,
01669            configHeader-&gt;FtInformationOffset,
01670            configHeader-&gt;FtInformationSize);
01671 
01672     <span class="comment">//</span>
01673     <span class="comment">// Print the information on disks.</span>
01674     <span class="comment">//</span>
01675 
01676     diskRegistry = (PDISK_REGISTRY)
01677                  ((PUCHAR) configHeader + configHeader-&gt;DiskInformationOffset);
01678     printf(<span class="stringliteral">"\nDisk information for %d disks:\n"</span>,
01679            diskRegistry-&gt;NumberOfDisks);
01680 
01681     diskDescription = &amp;diskRegistry-&gt;Disks[0];
01682     <span class="keywordflow">for</span> (outerLoop = 0;
01683          outerLoop &lt; diskRegistry-&gt;NumberOfDisks;
01684          outerLoop++) {
01685 
01686         printf(<span class="stringliteral">"\nDisk %d signature 0x%08x has %d partitions:\n"</span>,
01687                outerLoop,
01688                diskDescription-&gt;Signature,
01689                diskDescription-&gt;NumberOfPartitions);
01690 
01691         printf(<span class="stringliteral">"       Ln Type  Start              Length             FtGrp  Member\n"</span>);
01692         <span class="keywordflow">for</span> (innerLoop = 0;
01693              innerLoop &lt; diskDescription-&gt;NumberOfPartitions;
01694              innerLoop++) {
01695             diskPartition = &amp;diskDescription-&gt;Partitions[innerLoop];
01696             printf(<span class="stringliteral">"  %c: %c %1d   %3d  %08x:%08x  %08x:%08x  %5d  %4d  %s\n"</span>,
01697                    (diskPartition-&gt;DriveLetter != <span class="charliteral">'\0'</span>) ?
01698                                                diskPartition-&gt;DriveLetter : <span class="charliteral">' '</span>,
01699                    (diskPartition-&gt;AssignDriveLetter) ? <span class="charliteral">'A'</span> : <span class="charliteral">' '</span>,
01700                    diskPartition-&gt;LogicalNumber,
01701                    diskPartition-&gt;FtType,
01702                    diskPartition-&gt;StartingOffset.HighPart,
01703                    diskPartition-&gt;StartingOffset.LowPart,
01704                    diskPartition-&gt;Length.HighPart,
01705                    diskPartition-&gt;Length.LowPart,
01706                    diskPartition-&gt;FtGroup,
01707                    diskPartition-&gt;FtMember,
01708                    (diskPartition-&gt;FtState == Orphaned) ? <span class="stringliteral">"Orphan"</span> :
01709                      (diskPartition-&gt;FtState == Regenerating) ? <span class="stringliteral">"Regen"</span> :
01710                      (diskPartition-&gt;FtState == Initializing) ? <span class="stringliteral">"Init"</span> : <span class="stringliteral">""</span>);
01711 
01712         }
01713 
01714         diskDescription = (PDISK_DESCRIPTION)
01715           &amp;diskDescription-&gt;Partitions[diskDescription-&gt;NumberOfPartitions];
01716     }
01717 
01718     <span class="comment">//</span>
01719     <span class="comment">// Print the information for FT.</span>
01720     <span class="comment">//</span>
01721 
01722     <span class="keywordflow">if</span> (configHeader-&gt;FtInformationSize == 0) {
01723         printf(<span class="stringliteral">"There is no FT configuration.\n"</span>);
01724         free(configHeader);
01725         <span class="keywordflow">return</span>;
01726     }
01727 
01728     ftRegistry = (PFT_REGISTRY)
01729                  ((PUCHAR) configHeader + configHeader-&gt;FtInformationOffset);
01730 
01731     printf(<span class="stringliteral">"\nNumber of FT components = %d\n"</span>,
01732            ftRegistry-&gt;NumberOfComponents);
01733 
01734     ftDescription = &amp;ftRegistry-&gt;FtDescription[0];
01735     <span class="keywordflow">for</span> (outerLoop = 0;
01736          outerLoop &lt; ftRegistry-&gt;NumberOfComponents;
01737          outerLoop++) {
01738 
01739         printf(<span class="stringliteral">"Component %d has %d members and is type %d\n"</span>,
01740                outerLoop,
01741                ftDescription-&gt;NumberOfMembers,
01742                ftDescription-&gt;Type);
01743 
01744         printf(<span class="stringliteral">"      State Signature Start              Length            #\n"</span>);
01745         <span class="keywordflow">for</span> (innerLoop = 0;
01746              innerLoop &lt; ftDescription-&gt;NumberOfMembers;
01747              innerLoop++) {
01748             ftMember = &amp;ftDescription-&gt;FtMemberDescription[innerLoop];
01749 
01750             diskPartition = (PDISK_PARTITION)
01751                  ((PUCHAR) configHeader + ftMember-&gt;OffsetToPartitionInfo);
01752             
01753             printf(<span class="stringliteral">"%5x    %2x %08x  %08x:%08x  %08x:%08x %d\n"</span>,
01754                    ftMember-&gt;OffsetToPartitionInfo,
01755                    ftMember-&gt;State,
01756                    ftMember-&gt;Signature,
01757                    diskPartition-&gt;StartingOffset.HighPart,
01758                    diskPartition-&gt;StartingOffset.LowPart,
01759                    diskPartition-&gt;Length.HighPart,
01760                    diskPartition-&gt;Length.LowPart,
01761                    ftMember-&gt;LogicalNumber);
01762         }
01763 
01764         ftDescription = (PFT_DESCRIPTION)
01765          &amp;ftDescription-&gt;FtMemberDescription[ftDescription-&gt;NumberOfMembers];
01766     }
01767 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a85" doxytag="editreg.c::DisplayLoadInformation" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID DisplayLoadInformation           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN PUCHAR&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>DriverKey</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l02357">2357</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02369">ListDrivers()</a>.
<p>
<pre class="fragment"><div>02360 {
02361     UNREFERENCED_PARAMETER(DriverKey);
02362 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a66" doxytag="editreg.c::Dump" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID Dump           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PVOID&nbsp;</td>
          <td class="mdname" nowrap> <em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Length</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00772">772</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
References <a class="el" href="../../d7/d1/rtqkey_8c-source.html#l00042">Buffer</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00354">DumpControl</a>, <a class="el" href="../../d2/d5/editreg_8c.html#a88a56">InBytes</a>, <a class="el" href="../../d2/d5/editreg_8c.html#a88a58">InLongs</a>, <a class="el" href="../../d2/d5/editreg_8c.html#a88a57">InShorts</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00085">PUSHORT</a>, and <a class="el" href="../../d6/d9/heappage_8c.html#a68">sprintf()</a>.
<p>
<pre class="fragment"><div>00779                    :
00780 
00781     <a class="code" href="../../d2/d5/editreg_8c.html#a66">Dump</a> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> value data from a buffer in <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> <a class="code" href="../../d8/d0/rtbatcr_8c.html#a8">format</a> specified.
00782 
00783 Arguments:
00784 
00785     <a class="code" href="../../d6/d2/rtqkey_8c.html#a3">Buffer</a> - pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> data.
00786     Length - length of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> data.
00787 
00788 Return Value:
00789 
00790     None.
00791 
00792 --*/
00793 {
00794     PUCHAR location;
00795     PUCHAR internalBuffer;
00796     <span class="keywordtype">int</span>    i;
00797     <span class="keywordtype">int</span>    j;
00798     <span class="keywordtype">int</span>    numberLines;
00799     UCHAR  outHexLine[128];
00800     UCHAR  outPrintable[64];
00801 
00802     numberLines = (Length + 15) / 16;
00803 
00804     <span class="comment">//</span>
00805     <span class="comment">// Since the amount of data displayed has been rounded up, this</span>
00806     <span class="comment">// routine mallocs enough space and copies the data in.  This way</span>
00807     <span class="comment">// it won't fault if the data is at the end of memory.</span>
00808     <span class="comment">//</span>
00809 
00810     internalBuffer = (PUCHAR) malloc(numberLines * 16);
00811     RtlMoveMemory(internalBuffer, Buffer, Length);
00812     location = (PUCHAR) internalBuffer;
00813 
00814     <span class="keywordflow">for</span> (i = 0; i &lt; numberLines; i++) {
00815 
00816         <a class="code" href="../../d6/d9/heappage_8c.html#a68">sprintf</a>(outHexLine, <span class="stringliteral">"%8x: "</span>, (i * 16));
00817         <a class="code" href="../../d6/d9/heappage_8c.html#a68">sprintf</a>(outPrintable, <span class="stringliteral">"*"</span>);
00818         <span class="keywordflow">switch</span> (<a class="code" href="../../d2/d5/editreg_8c.html#a55">DumpControl</a>) {
00819 
00820         <span class="keywordflow">case</span> <a class="code" href="../../d2/d5/editreg_8c.html#a88a56">InBytes</a>:
00821 
00822             <span class="keywordflow">for</span> (j = 0; j &lt; 16; j++) {
00823                 <a class="code" href="../../d6/d9/heappage_8c.html#a68">sprintf</a>(outHexLine, <span class="stringliteral">"%s%2X "</span>, outHexLine, *location);
00824                 <a class="code" href="../../d6/d9/heappage_8c.html#a68">sprintf</a>(outPrintable, <span class="stringliteral">"%s%c"</span>, outPrintable,
00825                         (isprint(location[0])) ? location[0] : <span class="charliteral">'.'</span>);
00826                 location++;
00827             }
00828             <span class="keywordflow">break</span>;
00829 
00830         <span class="keywordflow">case</span> <a class="code" href="../../d2/d5/editreg_8c.html#a88a57">InShorts</a>:
00831 
00832             <span class="keywordflow">for</span> (j = 0; j &lt; 8; j++) {
00833                 <a class="code" href="../../d6/d9/heappage_8c.html#a68">sprintf</a>(outHexLine, <span class="stringliteral">"%s%4X "</span>, outHexLine,
00834                         *((PUSHORT)location));
00835                 <a class="code" href="../../d6/d9/heappage_8c.html#a68">sprintf</a>(outPrintable, <span class="stringliteral">"%s%c%c"</span>, outPrintable,
00836                         (isprint(location[0])) ? location[0] : <span class="charliteral">'.'</span>,
00837                         (isprint(location[1])) ? location[1] : <span class="charliteral">'.'</span>);
00838                 location += 2;
00839             }
00840             <span class="keywordflow">break</span>;
00841 
00842         <span class="keywordflow">default</span>:
00843         <span class="keywordflow">case</span> <a class="code" href="../../d2/d5/editreg_8c.html#a88a58">InLongs</a>:
00844 
00845             <span class="keywordflow">for</span> (j = 0; j &lt; 4; j++) {
00846                 <a class="code" href="../../d6/d9/heappage_8c.html#a68">sprintf</a>(outHexLine, <span class="stringliteral">"%s%8X "</span>, outHexLine,
00847                         *((PULONG)location));
00848                 <a class="code" href="../../d6/d9/heappage_8c.html#a68">sprintf</a>(outPrintable, <span class="stringliteral">"%s%c%c%c%c"</span>, outPrintable,
00849                         (isprint(location[0])) ? location[0] : <span class="charliteral">'.'</span>,
00850                         (isprint(location[1])) ? location[1] : <span class="charliteral">'.'</span>,
00851                         (isprint(location[2])) ? location[2] : <span class="charliteral">'.'</span>,
00852                         (isprint(location[3])) ? location[3] : <span class="charliteral">'.'</span>);
00853                 location += 4;
00854             }
00855             <span class="keywordflow">break</span>;
00856         }
00857 
00858         printf(<span class="stringliteral">"%s   %s*\n"</span>, outHexLine, outPrintable);
00859     }
00860     printf(<span class="stringliteral">"\n"</span>);
00861     free(internalBuffer);
00862 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a64" doxytag="editreg.c::FindTypeString" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PUCHAR FindTypeString           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">ULONG&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>Type</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00650">650</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
References <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00046">TypeNames</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l00060">TypeNumbers</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l00966">List()</a>.
<p>
<pre class="fragment"><div>00656                    :
00657 
00658 Arguments:
00659 
00660 Return Value:
00661 
00662 --*/
00663 
00664 {
00665     <span class="keywordtype">int</span> i;
00666 
00667     <span class="keywordflow">for</span> (i = 0; <a class="code" href="../../d2/d5/editreg_8c.html#a39">TypeNames</a>[i] != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>; i++) {
00668 
00669         <span class="keywordflow">if</span> (<a class="code" href="../../d2/d5/editreg_8c.html#a40">TypeNumbers</a>[i] == Type) {
00670             <span class="keywordflow">return</span> <a class="code" href="../../d2/d5/editreg_8c.html#a39">TypeNames</a>[i];
00671         }
00672     }
00673     <span class="keywordflow">return</span> <span class="stringliteral">"(Unknown)"</span>;
00674 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a82" doxytag="editreg.c::FixDisk" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID FixDisk           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l01990">1990</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
References <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00557">FtDeleteValue()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00357">FtOpenKey()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l01534">FtReturnValue()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00602">FtSetValue()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l01120">GetArgumentString()</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d6/d9/obclose_8c-source.html#l00037">NtClose()</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00678">ProcessHex()</a>, <a class="el" href="../../d6/d9/heappage_8c.html#a68">sprintf()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l00104">WORK_BUFFER_SIZE</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.
<p>
<pre class="fragment"><div>01994                    :
01995 
01996     Fix <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> disk signatures in <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> registry.
01997 
01998 Arguments:
01999 
02000     None.
02001 
02002 Return Values:
02003 
02004     None.
02005 
02006 --*/
02007 
02008 {
02009     ULONG               outerLoop;
02010     ULONG               innerLoop;
02011     ULONG               length;
02012     HANDLE              handle;
02013     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>            status;
02014     PDISK_CONFIG_HEADER configHeader;
02015     PDISK_REGISTRY      diskRegistry;
02016     PDISK_DESCRIPTION   diskDescription;
02017     PFT_REGISTRY        ftRegistry;
02018     PFT_DESCRIPTION     ftDescription;
02019     PFT_MEMBER_DESCRIPTION ftMember;
02020     UCHAR               prompt[128];
02021     PUCHAR              hexString;
02022     BOOLEAN             changed = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
02023 
02024     status = <a class="code" href="../../d2/d5/editreg_8c.html#a59">FtOpenKey</a>(&amp;handle,
02025                        DISK_REGISTRY_KEY);
02026 
02027     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
02028         printf(<span class="stringliteral">"Currently there is no key in the registry"</span>
02029                <span class="stringliteral">" for the disk information.\n"</span>);
02030         <span class="keywordflow">return</span>;
02031     }
02032 
02033     configHeader = (PDISK_CONFIG_HEADER) malloc(WORK_BUFFER_SIZE);
02034     <span class="keywordflow">if</span> (configHeader == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
02035         printf(<span class="stringliteral">"Unable to allocate memory for the disk registy information.\n"</span>);
02036         <a class="code" href="../../d5/d0/obclose_8c.html#a1">NtClose</a>(handle);
02037         <span class="keywordflow">return</span>;
02038     }
02039 
02040     RtlZeroMemory(configHeader, WORK_BUFFER_SIZE);
02041 
02042     status = <a class="code" href="../../d2/d5/editreg_8c.html#a76">FtReturnValue</a>(handle,
02043                            (PUCHAR) DISK_REGISTRY_VALUE,
02044                            (PUCHAR) configHeader,
02045                            WORK_BUFFER_SIZE);
02046 
02047     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
02048         printf(<span class="stringliteral">"There is no disk registry information (%x)\n"</span>, status);
02049         free(configHeader);
02050         <a class="code" href="../../d5/d0/obclose_8c.html#a1">NtClose</a>(handle);
02051         <span class="keywordflow">return</span>;
02052     }
02053 
02054     diskRegistry = (PDISK_REGISTRY)
02055                  ((PUCHAR) configHeader + configHeader-&gt;DiskInformationOffset);
02056     printf(<span class="stringliteral">"\nDisk information for %d disks:\n"</span>,
02057            diskRegistry-&gt;NumberOfDisks);
02058 
02059     diskDescription = &amp;diskRegistry-&gt;Disks[0];
02060     <span class="keywordflow">for</span> (outerLoop = 0;
02061          outerLoop &lt; diskRegistry-&gt;NumberOfDisks;
02062          outerLoop++) {
02063 
02064         <a class="code" href="../../d6/d9/heappage_8c.html#a68">sprintf</a>(prompt,
02065                <span class="stringliteral">"\nDisk %d signature 0x%08x = "</span>,
02066                outerLoop,
02067                diskDescription-&gt;Signature);
02068 
02069         hexString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>((BOOLEAN) FALSE,
02070                                       prompt,
02071                                       (BOOLEAN) TRUE);
02072 
02073         <span class="keywordflow">if</span> (hexString != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
02074 
02075             changed = <a class="code" href="../../d2/d5/editreg_8c.html#a65">ProcessHex</a>(hexString, &amp;diskDescription-&gt;Signature);
02076         }
02077 
02078         diskDescription = (PDISK_DESCRIPTION)
02079           &amp;diskDescription-&gt;Partitions[diskDescription-&gt;NumberOfPartitions];
02080     }
02081 
02082     <span class="comment">//</span>
02083     <span class="comment">// Print the information for FT.</span>
02084     <span class="comment">//</span>
02085 
02086     <span class="keywordflow">if</span> (configHeader-&gt;FtInformationSize == 0) {
02087         printf(<span class="stringliteral">"There is no FT configuration.\n"</span>);
02088         free(configHeader);
02089         <a class="code" href="../../d5/d0/obclose_8c.html#a1">NtClose</a>(handle);
02090         <span class="keywordflow">return</span>;
02091     }
02092 
02093     ftRegistry = (PFT_REGISTRY)
02094                  ((PUCHAR) configHeader + configHeader-&gt;FtInformationOffset);
02095 
02096     printf(<span class="stringliteral">"\nNumber of FT components = %d\n"</span>,
02097            ftRegistry-&gt;NumberOfComponents);
02098 
02099     ftDescription = &amp;ftRegistry-&gt;FtDescription[0];
02100     <span class="keywordflow">for</span> (outerLoop = 0;
02101          outerLoop &lt; ftRegistry-&gt;NumberOfComponents;
02102          outerLoop++) {
02103 
02104         printf(<span class="stringliteral">"Component %d has %d members and is type %d\n"</span>,
02105                outerLoop,
02106                ftDescription-&gt;NumberOfMembers,
02107                ftDescription-&gt;Type);
02108 
02109         <span class="keywordflow">for</span> (innerLoop = 0;
02110              innerLoop &lt; ftDescription-&gt;NumberOfMembers;
02111              innerLoop++) {
02112             ftMember = &amp;ftDescription-&gt;FtMemberDescription[innerLoop];
02113 
02114             <a class="code" href="../../d6/d9/heappage_8c.html#a68">sprintf</a>(prompt,
02115                     <span class="stringliteral">"FT Member Signature 0x%x = "</span>,
02116                     ftMember-&gt;Signature);
02117 
02118             hexString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>((BOOLEAN) FALSE,
02119                                           prompt,
02120                                           (BOOLEAN) TRUE);
02121 
02122             <span class="keywordflow">if</span> (hexString != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
02123 
02124                 changed = <a class="code" href="../../d2/d5/editreg_8c.html#a65">ProcessHex</a>(hexString, &amp;ftMember-&gt;Signature);
02125             }
02126         }
02127 
02128         ftDescription = (PFT_DESCRIPTION)
02129          &amp;ftDescription-&gt;FtMemberDescription[ftDescription-&gt;NumberOfMembers];
02130     }
02131 
02132     <span class="keywordflow">if</span> (changed == <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>) {
02133 
02134         printf(<span class="stringliteral">"Attempting to update registry information.\n"</span>);
02135 
02136         <span class="comment">//</span>
02137         <span class="comment">// Delete the current registry value and write the new one.</span>
02138         <span class="comment">//</span>
02139 
02140         status = <a class="code" href="../../d2/d5/editreg_8c.html#a62">FtDeleteValue</a>(handle,
02141                                DISK_REGISTRY_VALUE);
02142 
02143         <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
02144             printf(<span class="stringliteral">"Could not delete value (0x%x).\n"</span>, status);
02145         } <span class="keywordflow">else</span> {
02146 
02147             length = (ULONG) ((PCHAR)ftDescription - (PUCHAR)configHeader);
02148             status = <a class="code" href="../../d2/d5/editreg_8c.html#a63">FtSetValue</a>(handle,
02149                                 DISK_REGISTRY_VALUE,
02150                                 configHeader,
02151                                 length,
02152                                 REG_BINARY);
02153             <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
02154                 printf(<span class="stringliteral">"Could not write value (0x%x)\n."</span>, status);
02155             }
02156         }
02157     }
02158 
02159     <a class="code" href="../../d5/d0/obclose_8c.html#a1">NtClose</a>(handle);
02160 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a61" doxytag="editreg.c::FtCreateKey" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NTSTATUS FtCreateKey           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PUCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>KeyName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PUCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>KeyClass</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Index</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00453">453</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
References <a class="el" href="../../d7/d4/ntgdi_2icm_2inc_2debug_8h-source.html#l00146">ASSERT</a>, <a class="el" href="../../d2/d9/cmchek_8c-source.html#l00095">Index</a>, <a class="el" href="../../d9/d9/rtbatcr_8c-source.html#l00059">KeyName</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d6/d9/obclose_8c-source.html#l00037">NtClose()</a>, <a class="el" href="../../d8/d6/ntapi_8c-source.html#l00166">NtCreateKey()</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d7/d5/nls_8c-source.html#l00082">RtlAnsiStringToUnicodeString()</a>, <a class="el" href="../../d7/d5/nls_8c-source.html#l01215">RtlFreeUnicodeString()</a>, <a class="el" href="../../d3/d6/string_8c-source.html#l00056">RtlInitString()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d2/d7/hal_8h.html#a212">VOID()</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.
<p>
<pre class="fragment"><div>00461                    :
00462 
00463 Arguments:
00464 
00465 Return Value:
00466 
00467 --*/
00468 
00469 {
00470     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>          status;
00471     STRING            keyString;
00472     UNICODE_STRING    unicodeKeyName;
00473     STRING            classString;
00474     UNICODE_STRING    unicodeClassName;
00475     OBJECT_ATTRIBUTES objectAttributes;
00476     ULONG             disposition;
00477     HANDLE            tempHandle;
00478 
00479 <span class="preprocessor">#if DBG</span>
00480 <span class="preprocessor"></span>    <span class="keywordflow">if</span> ((<a class="code" href="../../d8/d0/rtbatcr_8c.html#a3">KeyName</a> == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) ||
00481         (KeyClass == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)) {
00482         printf(<span class="stringliteral">"FtCreateKey: Invalid parameter 0x%x, 0x%x\n"</span>,
00483                KeyName,
00484                KeyClass);
00485         <a class="code" href="../../d6/d5/ntgdi_2icm_2inc_2debug_8h.html#a7">ASSERT</a>(0);
00486     }
00487 <span class="preprocessor">#endif</span>
00488 <span class="preprocessor"></span>
00489     <span class="comment">//</span>
00490     <span class="comment">// Initialize the object for the key.</span>
00491     <span class="comment">//</span>
00492 
00493     <a class="code" href="../../d2/d7/string_8c.html#a5">RtlInitString</a>(&amp;keyString,
00494                   KeyName);
00495 
00496     (<a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>)<a class="code" href="../../d6/d6/nls_8c.html#a21">RtlAnsiStringToUnicodeString</a>(&amp;unicodeKeyName,
00497                                        &amp;keyString,
00498                                        (BOOLEAN) TRUE);
00499 
00500     memset(&amp;objectAttributes, 0, <span class="keyword">sizeof</span>(OBJECT_ATTRIBUTES));
00501     InitializeObjectAttributes(&amp;objectAttributes,
00502                                &amp;unicodeKeyName,
00503                                OBJ_CASE_INSENSITIVE,
00504                                NULL,
00505                                NULL);
00506 
00507     <span class="comment">//</span>
00508     <span class="comment">// Setup the unicode class value.</span>
00509     <span class="comment">//</span>
00510 
00511     <a class="code" href="../../d2/d7/string_8c.html#a5">RtlInitString</a>(&amp;classString,
00512                   KeyClass);
00513     (<a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>)<a class="code" href="../../d6/d6/nls_8c.html#a21">RtlAnsiStringToUnicodeString</a>(&amp;unicodeClassName,
00514                                        &amp;classString,
00515                                        (BOOLEAN) TRUE);
00516 
00517     <span class="comment">//</span>
00518     <span class="comment">// Create the key.</span>
00519     <span class="comment">//</span>
00520 
00521     status = <a class="code" href="../../d7/d7/ntapi_8c.html#a14">NtCreateKey</a>(&amp;tempHandle,
00522                          MAXIMUM_ALLOWED,
00523                          &amp;objectAttributes,
00524                          Index,
00525                          &amp;unicodeClassName,
00526                          REG_OPTION_NON_VOLATILE,
00527                          &amp;disposition);
00528 
00529     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
00530         <span class="keywordflow">switch</span> (disposition)
00531         {
00532         <span class="keywordflow">case</span> REG_CREATED_NEW_KEY:
00533             <span class="keywordflow">break</span>;
00534 
00535         <span class="keywordflow">case</span> REG_OPENED_EXISTING_KEY:
00536             printf(<span class="stringliteral">"Warning: Creation was for an existing key!\n"</span>);
00537             <span class="keywordflow">break</span>;
00538 
00539         <span class="keywordflow">default</span>:
00540             printf(<span class="stringliteral">"New disposition returned == 0x%x\n"</span>, disposition);
00541             <span class="keywordflow">break</span>;
00542         }
00543     }
00544 
00545     <span class="comment">//</span>
00546     <span class="comment">// Free all allocated space.</span>
00547     <span class="comment">//</span>
00548 
00549     <a class="code" href="../../d6/d6/nls_8c.html#a34">RtlFreeUnicodeString</a>(&amp;unicodeKeyName);
00550     <a class="code" href="../../d6/d6/nls_8c.html#a34">RtlFreeUnicodeString</a>(&amp;unicodeClassName);
00551     <a class="code" href="../../d5/d0/obclose_8c.html#a1">NtClose</a>(tempHandle);
00552     <span class="keywordflow">return</span> status;
00553 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a60" doxytag="editreg.c::FtDeleteKey" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NTSTATUS FtDeleteKey           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PUCHAR&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>KeyName</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00411">411</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
References <a class="el" href="../../d3/d4/editreg_8c-source.html#l00338">Debug</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00357">FtOpenKey()</a>, <a class="el" href="../../d9/d9/rtbatcr_8c-source.html#l00059">KeyName</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d6/d9/obclose_8c-source.html#l00037">NtClose()</a>, <a class="el" href="../../d8/d6/ntapi_8c-source.html#l00411">NtDeleteKey()</a>, and <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.
<p>
<pre class="fragment"><div>00417                    :
00418 
00419 Arguments:
00420 
00421 Return Value:
00422 
00423 --*/
00424 
00425 {
00426     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> status;
00427     HANDLE   keyToDelete;
00428 
00429     status = <a class="code" href="../../d2/d5/editreg_8c.html#a59">FtOpenKey</a>(&amp;keyToDelete,
00430                        KeyName);
00431 
00432     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
00433         printf(<span class="stringliteral">"Key %s not found (0x%x).\n"</span>, KeyName, status);
00434         <span class="keywordflow">return</span> status;
00435     }
00436 
00437     status = <a class="code" href="../../d7/d7/ntapi_8c.html#a15">NtDeleteKey</a>(keyToDelete);
00438 
00439     <span class="keywordflow">if</span> (<a class="code" href="../../d2/d5/editreg_8c.html#a51">Debug</a> == 1) {
00440         <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
00441             printf(<span class="stringliteral">"Could not delete key %s =&gt; %x\n"</span>,
00442                    KeyName,
00443                    status);
00444         }
00445     }
00446 
00447     <a class="code" href="../../d5/d0/obclose_8c.html#a1">NtClose</a>(keyToDelete);
00448     <span class="keywordflow">return</span> status;
00449 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a62" doxytag="editreg.c::FtDeleteValue" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NTSTATUS FtDeleteValue           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HANDLE&nbsp;</td>
          <td class="mdname" nowrap> <em>KeyHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PUCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>ValueName</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00557">557</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
References <a class="el" href="../../d3/d4/editreg_8c-source.html#l00338">Debug</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d8/d6/ntapi_8c-source.html#l00504">NtDeleteValueKey()</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d7/d5/nls_8c-source.html#l00082">RtlAnsiStringToUnicodeString()</a>, <a class="el" href="../../d7/d5/nls_8c-source.html#l01215">RtlFreeUnicodeString()</a>, <a class="el" href="../../d3/d6/string_8c-source.html#l00056">RtlInitString()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d2/d0/rtdelval_8c-source.html#l00047">ValueName</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l01990">FixDisk()</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.
<p>
<pre class="fragment"><div>00564                    :
00565 
00566 Arguments:
00567 
00568 Return Value:
00569 
00570 --*/
00571 
00572 {
00573     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>       status;
00574     STRING         valueString;
00575     UNICODE_STRING unicodeValueName;
00576 
00577     <a class="code" href="../../d2/d7/string_8c.html#a5">RtlInitString</a>(&amp;valueString,
00578                   ValueName);
00579     status = <a class="code" href="../../d6/d6/nls_8c.html#a21">RtlAnsiStringToUnicodeString</a>(&amp;unicodeValueName,
00580                                           &amp;valueString,
00581                                           (BOOLEAN) TRUE);
00582     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
00583         printf(<span class="stringliteral">"FtDeleteValue: internal conversion error 0x%x\n"</span>, status);
00584         <span class="keywordflow">return</span> status;
00585     }
00586 
00587     status = <a class="code" href="../../d7/d7/ntapi_8c.html#a16">NtDeleteValueKey</a>(KeyHandle,
00588                               &amp;unicodeValueName);
00589     <span class="keywordflow">if</span> (<a class="code" href="../../d2/d5/editreg_8c.html#a51">Debug</a> == 1) {
00590         <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
00591             printf(<span class="stringliteral">"Could not delete value %s =&gt; %x\n"</span>,
00592                    ValueName,
00593                    status);
00594         }
00595     }
00596 
00597     <a class="code" href="../../d6/d6/nls_8c.html#a34">RtlFreeUnicodeString</a>(&amp;unicodeValueName);
00598     <span class="keywordflow">return</span> status;
00599 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a59" doxytag="editreg.c::FtOpenKey" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NTSTATUS FtOpenKey           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PHANDLE&nbsp;</td>
          <td class="mdname" nowrap> <em>HandlePtr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PUCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>KeyName</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00357">357</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
References <a class="el" href="../../d3/d4/editreg_8c-source.html#l00338">Debug</a>, <a class="el" href="../../d9/d9/rtbatcr_8c-source.html#l00059">KeyName</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d8/d6/ntapi_8c-source.html#l01870">NtOpenKey()</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d7/d5/nls_8c-source.html#l00082">RtlAnsiStringToUnicodeString()</a>, <a class="el" href="../../d7/d5/nls_8c-source.html#l01215">RtlFreeUnicodeString()</a>, <a class="el" href="../../d3/d6/string_8c-source.html#l00056">RtlInitString()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d2/d7/hal_8h.html#a212">VOID()</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l01771">ChangeMemberState()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l01597">DiskDump()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l01990">FixDisk()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00411">FtDeleteKey()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l02163">GetDiskInfo()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l02369">ListDrivers()</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.
<p>
<pre class="fragment"><div>00364                    :
00365 
00366 Arguments:
00367 
00368 Return Value:
00369 
00370 --*/
00371 
00372 {
00373     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>          status;
00374     STRING            keyString;
00375     OBJECT_ATTRIBUTES objectAttributes;
00376     UNICODE_STRING    unicodeKeyName;
00377 
00378     <a class="code" href="../../d2/d7/string_8c.html#a5">RtlInitString</a>(&amp;keyString,
00379                   KeyName);
00380 
00381     (<a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>)<a class="code" href="../../d6/d6/nls_8c.html#a21">RtlAnsiStringToUnicodeString</a>(&amp;unicodeKeyName,
00382                                        &amp;keyString,
00383                                        (BOOLEAN) TRUE);
00384 
00385     memset(&amp;objectAttributes, 0, <span class="keyword">sizeof</span>(OBJECT_ATTRIBUTES));
00386     InitializeObjectAttributes(&amp;objectAttributes,
00387                                &amp;unicodeKeyName,
00388                                OBJ_CASE_INSENSITIVE,
00389                                NULL,
00390                                NULL);
00391 
00392     status = <a class="code" href="../../d7/d7/ntapi_8c.html#a23">NtOpenKey</a>(HandlePtr,
00393                        MAXIMUM_ALLOWED,
00394                        &amp;objectAttributes);
00395 
00396     <a class="code" href="../../d6/d6/nls_8c.html#a34">RtlFreeUnicodeString</a>(&amp;unicodeKeyName);
00397 
00398     <span class="keywordflow">if</span> (<a class="code" href="../../d2/d5/editreg_8c.html#a51">Debug</a> == 1) {
00399         <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
00400             printf(<span class="stringliteral">"Failed NtOpenKey for %s =&gt; %x\n"</span>,
00401                    KeyName,
00402                    status);
00403         }
00404     }
00405 
00406     <span class="keywordflow">return</span> status;
00407 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a76" doxytag="editreg.c::FtReturnValue" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NTSTATUS FtReturnValue           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN HANDLE&nbsp;</td>
          <td class="mdname" nowrap> <em>Handle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PUCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>ValueName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PUCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>BufferLength</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l01534">1534</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
References <a class="el" href="../../d7/d1/rtqkey_8c-source.html#l00042">Buffer</a>, <a class="el" href="../../d8/d9/cmdat2_8c-source.html#l00091">Handle</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d8/d6/ntapi_8c-source.html#l02187">NtQueryValueKey()</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d7/d5/nls_8c-source.html#l00082">RtlAnsiStringToUnicodeString()</a>, <a class="el" href="../../d7/d5/nls_8c-source.html#l01215">RtlFreeUnicodeString()</a>, <a class="el" href="../../d3/d6/string_8c-source.html#l00056">RtlInitString()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d2/d0/rtdelval_8c-source.html#l00047">ValueName</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l00104">WORK_BUFFER_SIZE</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l01771">ChangeMemberState()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l01597">DiskDump()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l01990">FixDisk()</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l02163">GetDiskInfo()</a>.
<p>
<pre class="fragment"><div>01543                    :
01544 
01545     Formatted display of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> disk registry information.
01546 
01547 Arguments:
01548 
01549     None.
01550 
01551 Return Values:
01552 
01553     None.
01554 
01555 --*/
01556 
01557 {
01558     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>       status;
01559     ULONG          resultLength;
01560     ULONG          length;
01561     STRING         valueString;
01562     UNICODE_STRING unicodeValueName;
01563     PUCHAR         internalBuffer;
01564     PKEY_VALUE_FULL_INFORMATION keyValueInformation;
01565 
01566     keyValueInformation = (PKEY_VALUE_FULL_INFORMATION)malloc(WORK_BUFFER_SIZE);
01567     <span class="keywordflow">if</span> (keyValueInformation == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
01568         printf(<span class="stringliteral">"FtReturnValue: cannot allocate memory.\n"</span>);
01569         <span class="keywordflow">return</span> STATUS_NO_MEMORY;
01570     }
01571 
01572     <a class="code" href="../../d2/d7/string_8c.html#a5">RtlInitString</a>(&amp;valueString,
01573                   ValueName);
01574     <a class="code" href="../../d6/d6/nls_8c.html#a21">RtlAnsiStringToUnicodeString</a>(&amp;unicodeValueName,
01575                                  &amp;valueString,
01576                                  (BOOLEAN) TRUE);
01577     status = <a class="code" href="../../d7/d7/ntapi_8c.html#a25">NtQueryValueKey</a>(Handle,
01578                              &amp;unicodeValueName,
01579                              KeyValueFullInformation,
01580                              keyValueInformation,
01581                              WORK_BUFFER_SIZE,
01582                              &amp;resultLength);
01583     <a class="code" href="../../d6/d6/nls_8c.html#a34">RtlFreeUnicodeString</a>(&amp;unicodeValueName);
01584 
01585     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
01586         length = (resultLength &gt; BufferLength) ? BufferLength : resultLength;
01587         internalBuffer =
01588            ((PUCHAR)keyValueInformation + keyValueInformation-&gt;DataOffset);
01589 
01590         RtlMoveMemory(Buffer, internalBuffer, length);
01591     }
01592     free(keyValueInformation);
01593     <span class="keywordflow">return</span> status;
01594 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a63" doxytag="editreg.c::FtSetValue" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NTSTATUS FtSetValue           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HANDLE&nbsp;</td>
          <td class="mdname" nowrap> <em>KeyHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PUCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>ValueName</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PVOID&nbsp;</td>
          <td class="mdname" nowrap> <em>DataBuffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>DataLength</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Type</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00602">602</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
References <a class="el" href="../../d3/d4/editreg_8c-source.html#l00338">Debug</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d8/d6/ntapi_8c-source.html#l02672">NtSetValueKey()</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d7/d5/nls_8c-source.html#l00082">RtlAnsiStringToUnicodeString()</a>, <a class="el" href="../../d7/d5/nls_8c-source.html#l01215">RtlFreeUnicodeString()</a>, <a class="el" href="../../d3/d6/string_8c-source.html#l00056">RtlInitString()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, and <a class="el" href="../../d2/d0/rtdelval_8c-source.html#l00047">ValueName</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l01771">ChangeMemberState()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l01990">FixDisk()</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.
<p>
<pre class="fragment"><div>00612                    :
00613 
00614 Arguments:
00615 
00616 Return Value:
00617 
00618 --*/
00619 
00620 {
00621     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>          status;
00622     STRING            valueString;
00623     UNICODE_STRING    unicodeValueName;
00624 
00625     <a class="code" href="../../d2/d7/string_8c.html#a5">RtlInitString</a>(&amp;valueString,
00626                   ValueName);
00627     <a class="code" href="../../d6/d6/nls_8c.html#a21">RtlAnsiStringToUnicodeString</a>(&amp;unicodeValueName,
00628                                  &amp;valueString,
00629                                  (BOOLEAN) TRUE);
00630     status = <a class="code" href="../../d7/d7/ntapi_8c.html#a29">NtSetValueKey</a>(KeyHandle,
00631                            &amp;unicodeValueName,
00632                            0,
00633                            Type,
00634                            DataBuffer,
00635                            DataLength);
00636     <span class="keywordflow">if</span> (<a class="code" href="../../d2/d5/editreg_8c.html#a51">Debug</a> == 1) {
00637         <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
00638             printf(<span class="stringliteral">"Could not set value %s =&gt; %x\n"</span>,
00639                    ValueName,
00640                    status);
00641         }
00642     }
00643 
00644     <a class="code" href="../../d6/d6/nls_8c.html#a34">RtlFreeUnicodeString</a>(&amp;unicodeValueName);
00645     <span class="keywordflow">return</span> status;
00646 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a71" doxytag="editreg.c::GetArgumentString" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PUCHAR GetArgumentString           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">BOOLEAN&nbsp;</td>
          <td class="mdname" nowrap> <em>Batch</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PUCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>Prompt</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>BOOLEAN&nbsp;</td>
          <td class="mdname" nowrap> <em>ConvertToLower</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l01120">1120</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
References <a class="el" href="../../d4/d9/user32_8def-source.html#l00799">c</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00314">CommandLine</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00178">CTRL_C</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l01081">GetCharacter()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l01990">FixDisk()</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.
<p>
<pre class="fragment"><div>01128                    :
01129 
01130     This routine prints <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> prompt <span class="keywordflow">if</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> input <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> coming from <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> console,
01131     then proceeds to collect <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> user input until a carraige <span class="keywordflow">return</span> <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> typed.
01132 
01133 Arguments:
01134 
01135     Batch  - a <span class="keywordtype">boolean</span> indicating <span class="keywordflow">if</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> input <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> coming from <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> console.
01136     Prompt - <a class="code" href="../../d4/d9/talloc_8c.html#a0">String</a> to prompt with.
01137 
01138 Return Value:
01139 
01140     <a class="code" href="../../d2/d1/bench_8h.html#a5">A</a> pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> input string.
01141     <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a> <span class="keywordflow">if</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> user escaped.
01142 
01143 --*/
01144 
01145 {
01146     <span class="comment">//</span>
01147     <span class="comment">// The command line data area is used to store the argument string.</span>
01148     <span class="comment">//</span>
01149 
01150     PUCHAR argument = <a class="code" href="../../d2/d5/editreg_8c.html#a48">CommandLine</a>;
01151     <span class="keywordtype">int</span>    i;
01152     UCHAR  <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>;
01153 
01154     <span class="keywordflow">if</span> (!Batch) {
01155 
01156         printf(<span class="stringliteral">"%s"</span>, Prompt);
01157     }
01158 
01159     <span class="keywordflow">while</span> ((<a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a> = <a class="code" href="../../d2/d5/editreg_8c.html#a70">GetCharacter</a>(Batch)) == <span class="charliteral">' '</span>) {
01160 
01161         <span class="comment">//</span>
01162         <span class="comment">// Ignore leading spaces.</span>
01163         <span class="comment">//</span>
01164     }
01165 
01166     i = 0;
01167     <span class="keywordflow">while</span> (<a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>) {
01168 
01169         putchar(c);
01170 
01171         <span class="keywordflow">if</span> (<a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a> == <a class="code" href="../../d2/d5/editreg_8c.html#a32">CTRL_C</a>) {
01172 
01173             <span class="keywordflow">return</span> <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01174         }
01175 
01176         <span class="keywordflow">if</span> ((<a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a> == <span class="charliteral">'\n'</span>) || (<a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a> == <span class="charliteral">'\r'</span>)) {
01177 
01178             putchar(<span class="charliteral">'\n'</span>);
01179 
01180             <span class="keywordflow">if</span> (i == 0) {
01181                 <span class="keywordflow">return</span> <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01182             } <span class="keywordflow">else</span> {
01183                 <span class="keywordflow">break</span>;
01184             }
01185         }
01186 
01187         <span class="keywordflow">if</span> (<a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a> == <span class="charliteral">'\b'</span>) {
01188 
01189             <span class="keywordflow">if</span> (i &gt; 0) {
01190 
01191                 <span class="comment">//</span>
01192                 <span class="comment">// blank over last char</span>
01193                 <span class="comment">//</span>
01194 
01195                 putchar(<span class="charliteral">' '</span>);
01196                 putchar(<span class="charliteral">'\b'</span>);
01197                 i--;
01198 
01199             } <span class="keywordflow">else</span> {
01200 
01201                 <span class="comment">//</span>
01202                 <span class="comment">// space forward to keep prompt in the same place.</span>
01203                 <span class="comment">//</span>
01204 
01205                 putchar(<span class="charliteral">' '</span>);
01206             }
01207 
01208         } <span class="keywordflow">else</span> {
01209 
01210             <span class="comment">//</span>
01211             <span class="comment">// Collect the argument.</span>
01212             <span class="comment">//</span>
01213 
01214             <span class="keywordflow">if</span> (ConvertToLower == <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>) {
01215                 argument[i] = (UCHAR) tolower(c);
01216             } <span class="keywordflow">else</span> {
01217                 argument[i] = (UCHAR) <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>;
01218             }
01219             i++;
01220 
01221         }
01222 
01223         <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a> = <a class="code" href="../../d2/d5/editreg_8c.html#a70">GetCharacter</a>(Batch);
01224     }
01225 
01226     argument[i] = <span class="charliteral">'\0'</span>;
01227     <span class="keywordflow">return</span> <a class="code" href="../../d2/d5/editreg_8c.html#a48">CommandLine</a>;
01228 
01229 } <span class="comment">// GetArgumentString</span>

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a70" doxytag="editreg.c::GetCharacter" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> UCHAR GetCharacter           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">BOOLEAN&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>Batch</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l01081">1081</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
References <a class="el" href="../../d4/d9/user32_8def-source.html#l00799">c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l01120">GetArgumentString()</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l01355">GetCommand()</a>.
<p>
<pre class="fragment"><div>01087                    :
01088 
01089     This routine returns a single character from <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> input stream.
01090     It discards leading blanks <span class="keywordflow">if</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> input <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> not from <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> console.
01091 
01092 Arguments:
01093 
01094     Batch - a <span class="keywordtype">boolean</span> indicating <span class="keywordflow">if</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> input <a class="code" href="../../d1/d9/icmui_8def.html#a4">it</a> coming from <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> console.
01095 
01096 Return Value:
01097 
01098     <a class="code" href="../../d2/d1/bench_8h.html#a5">A</a> character
01099 
01100 --*/
01101 
01102 {
01103     UCHAR <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>;
01104 
01105     <span class="keywordflow">if</span> (Batch) {
01106 
01107         <span class="keywordflow">while</span> ((<a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a> = (UCHAR) getchar()) == <span class="charliteral">' '</span>)
01108             ;
01109 
01110     } <span class="keywordflow">else</span> {
01111 
01112         <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a> = (UCHAR) getchar();
01113     }
01114 
01115     <span class="keywordflow">return</span> <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>;
01116 } <span class="comment">// GetCharacter</span>

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a74" doxytag="editreg.c::GetCommand" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int GetCommand           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">BOOLEAN&nbsp;</td>
          <td class="mdname" nowrap> <em>Batch</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PUCHAR *&nbsp;</td>
          <td class="mdname" nowrap> <em>ArgumentPtr</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l01355">1355</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
References <a class="el" href="../../d4/d9/user32_8def-source.html#l00799">c</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00314">CommandLine</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00226">CommandMap</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00184">Commands</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00338">Debug</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l01081">GetCharacter()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00153">INVALID</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l01325">PromptUser()</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.
<p>
<pre class="fragment"><div>01361                    :
01362 
01363     This routine processes <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> user input and returns <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> code <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a>
01364     command entered.  If <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> command has an argument, either <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> <span class="keywordflow">default</span>
01365     value <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> argument (<span class="keywordflow">if</span> none is given) or <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> value provided by <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a>
01366     user <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> returned.
01367 
01368 Arguments:
01369 
01370     Batch - a <span class="keywordtype">boolean</span> indicating <span class="keywordflow">if</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> input <a class="code" href="../../d1/d9/icmui_8def.html#a4">it</a> coming from <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> console.
01371 
01372 Return Value:
01373 
01374     <a class="code" href="../../d2/d1/bench_8h.html#a5">A</a> command code
01375 
01376 --*/
01377 
01378 {
01379     <span class="keywordtype">int</span>    i;
01380     <span class="keywordtype">int</span>    commandIndex;
01381     <span class="keywordtype">int</span>    commandCode;
01382     UCHAR  <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>;
01383     PUCHAR commandPtr;
01384     PUCHAR command = <a class="code" href="../../d2/d5/editreg_8c.html#a48">CommandLine</a>;
01385     <span class="keywordtype">int</span>    argumentIndex = -1;
01386     PUCHAR argument = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01387 
01388     <a class="code" href="../../d2/d5/editreg_8c.html#a73">PromptUser</a>(Batch);
01389 
01390     <span class="keywordflow">while</span> ((<a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a> = <a class="code" href="../../d2/d5/editreg_8c.html#a70">GetCharacter</a>(Batch)) == <span class="charliteral">' '</span>) {
01391 
01392         <span class="comment">//</span>
01393         <span class="comment">// Ignore leading spaces.</span>
01394         <span class="comment">//</span>
01395     }
01396 
01397     i = 0;
01398     <span class="keywordflow">while</span> (<a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>) {
01399 
01400         putchar(c);
01401 
01402         <span class="keywordflow">if</span> ((<a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a> == <span class="charliteral">'\n'</span>) || (<a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a> == <span class="charliteral">'\r'</span>)) {
01403             putchar(<span class="charliteral">'\n'</span>);
01404             <span class="keywordflow">if</span> (i == 0) {
01405                 <a class="code" href="../../d2/d5/editreg_8c.html#a73">PromptUser</a>(Batch);
01406                 <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a> = <a class="code" href="../../d2/d5/editreg_8c.html#a70">GetCharacter</a>(Batch);
01407                 <span class="keywordflow">continue</span>;
01408             }
01409             <span class="keywordflow">break</span>;
01410         }
01411 
01412         <span class="keywordflow">if</span> (<a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a> == <span class="charliteral">'\b'</span>) {
01413 
01414             <span class="keywordflow">if</span> (i &gt; 0) {
01415 
01416                 <span class="comment">//</span>
01417                 <span class="comment">// blank over last char</span>
01418                 <span class="comment">//</span>
01419 
01420                 putchar(<span class="charliteral">' '</span>);
01421                 putchar(<span class="charliteral">'\b'</span>);
01422                 i--;
01423 
01424                 <span class="keywordflow">if</span> (argumentIndex == i) {
01425                     argumentIndex = -1;
01426                     argument = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01427                 }
01428             } <span class="keywordflow">else</span> {
01429 
01430                 <span class="comment">//</span>
01431                 <span class="comment">// space forward to keep prompt in the same place.</span>
01432                 <span class="comment">//</span>
01433 
01434                 putchar(<span class="charliteral">' '</span>);
01435             }
01436         } <span class="keywordflow">else</span> {
01437 
01438             <span class="comment">//</span>
01439             <span class="comment">// Collect the command.</span>
01440             <span class="comment">//</span>
01441 
01442             command[i] = (UCHAR)tolower(c);
01443             i++;
01444         }
01445 
01446         <span class="keywordflow">if</span> ((<a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a> == <span class="charliteral">' '</span>) &amp;&amp; (argument == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>)) {
01447 
01448             argument = &amp;command[i];
01449             argumentIndex = i;
01450             command[i - 1] = <span class="charliteral">'\0'</span>;
01451         }
01452 
01453         <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a> = <a class="code" href="../../d2/d5/editreg_8c.html#a70">GetCharacter</a>(Batch);
01454     }
01455 
01456     <span class="comment">//</span>
01457     <span class="comment">// add end of string.</span>
01458     <span class="comment">//</span>
01459 
01460     command[i] = <span class="charliteral">'\0'</span>;
01461 
01462     <span class="keywordflow">if</span> (<a class="code" href="../../d2/d5/editreg_8c.html#a51">Debug</a>) {
01463         printf(<span class="stringliteral">"command =&gt; %s$\n"</span>, command);
01464     }
01465 
01466     <span class="comment">//</span>
01467     <span class="comment">// Identify the command and return its code.</span>
01468     <span class="comment">//</span>
01469 
01470     commandIndex = 0;
01471 
01472     <span class="keywordflow">for</span> (commandPtr = <a class="code" href="../../d2/d5/editreg_8c.html#a43">Commands</a>[commandIndex];
01473          commandPtr != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01474          commandPtr = <a class="code" href="../../d2/d5/editreg_8c.html#a43">Commands</a>[commandIndex]) {
01475 
01476         <span class="keywordflow">if</span> (<a class="code" href="../../d2/d5/editreg_8c.html#a51">Debug</a>) {
01477             printf(<span class="stringliteral">"Testing =&gt; %s$ ... "</span>, commandPtr);
01478         }
01479 
01480         i = 0;
01481         <span class="keywordflow">while</span> (commandPtr[i] == command[i]) {
01482             <span class="keywordflow">if</span> (command[i] == <span class="charliteral">'\0'</span>) {
01483                 <span class="keywordflow">break</span>;
01484             }
01485             i++;
01486         }
01487 
01488         <span class="keywordflow">if</span> (<a class="code" href="../../d2/d5/editreg_8c.html#a51">Debug</a>) {
01489             printf(<span class="stringliteral">" i == %d, command[i] == 0x%x\n"</span>, i, command[i]);
01490         }
01491 
01492         <span class="keywordflow">if</span> (command[i]) {
01493 
01494             <span class="comment">//</span>
01495             <span class="comment">// Not complete there was a mismatch on the command.</span>
01496             <span class="comment">//</span>
01497 
01498             commandIndex++;
01499             <span class="keywordflow">continue</span>;
01500         }
01501 
01502         <span class="comment">//</span>
01503         <span class="comment">// Have a match on the command.</span>
01504         <span class="comment">//</span>
01505 
01506         <span class="keywordflow">if</span> (<a class="code" href="../../d2/d5/editreg_8c.html#a51">Debug</a>) {
01507             printf(<span class="stringliteral">"Command match %d, argument %s\n"</span>,
01508                    commandIndex,
01509                    (argument == NULL) ? <span class="stringliteral">"(none)"</span> : argument);
01510         }
01511 
01512         commandCode = <a class="code" href="../../d2/d5/editreg_8c.html#a44">CommandMap</a>[commandIndex];
01513         *ArgumentPtr = argument;
01514         <span class="keywordflow">return</span> commandCode;
01515     }
01516 
01517     printf(<span class="stringliteral">"Command was invalid\n"</span>);
01518     <span class="keywordflow">return</span> <a class="code" href="../../d2/d5/editreg_8c.html#a8">INVALID</a>;
01519 } <span class="comment">// GetCommand</span>

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a83" doxytag="editreg.c::GetDiskInfo" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PDISK_CONFIG_HEADER GetDiskInfo           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l02163">2163</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
References <a class="el" href="../../d3/d4/editreg_8c-source.html#l00357">FtOpenKey()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l01534">FtReturnValue()</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d6/d9/obclose_8c-source.html#l00037">NtClose()</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l00104">WORK_BUFFER_SIZE</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.
<p>
<pre class="fragment"><div>02169 {
02170     HANDLE              handle;
02171     ULONG               length;
02172     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>            status;
02173     PDISK_CONFIG_HEADER configHeader;
02174 
02175     status = <a class="code" href="../../d2/d5/editreg_8c.html#a59">FtOpenKey</a>(&amp;handle,
02176                        DISK_REGISTRY_KEY);
02177 
02178     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
02179         printf(<span class="stringliteral">"Currently there is no key in the registry"</span>
02180                <span class="stringliteral">" for the disk information.\n"</span>);
02181         <span class="keywordflow">return</span> <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
02182     }
02183 
02184     configHeader = (PDISK_CONFIG_HEADER) malloc(WORK_BUFFER_SIZE);
02185     <span class="keywordflow">if</span> (configHeader == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
02186         printf(<span class="stringliteral">"Unable to allocate memory for the disk registy information.\n"</span>);
02187         <a class="code" href="../../d5/d0/obclose_8c.html#a1">NtClose</a>(handle);
02188         <span class="keywordflow">return</span> <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
02189     }
02190 
02191     RtlZeroMemory(configHeader, WORK_BUFFER_SIZE);
02192 
02193     status = <a class="code" href="../../d2/d5/editreg_8c.html#a76">FtReturnValue</a>(handle,
02194                            (PUCHAR) DISK_REGISTRY_VALUE,
02195                            (PUCHAR) configHeader,
02196                            WORK_BUFFER_SIZE);
02197     <a class="code" href="../../d5/d0/obclose_8c.html#a1">NtClose</a>(handle);
02198 
02199     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
02200         printf(<span class="stringliteral">"There is no disk registry information (%x)\n"</span>, status);
02201         free(configHeader);
02202         <span class="keywordflow">return</span> <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
02203     }
02204 
02205     <span class="keywordflow">return</span> configHeader;
02206 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a69" doxytag="editreg.c::List" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NTSTATUS List           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HANDLE&nbsp;</td>
          <td class="mdname" nowrap> <em>KeyHandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PUCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>ItemName</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00966">966</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
References <a class="el" href="../../d4/d1/rtdmpsec_8c.html#a24">Dump()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00650">FindTypeString()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00352">ForceDump</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d8/d6/ntapi_8c-source.html#l00756">NtEnumerateValueKey()</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d4/d4/i386_2trapc_8c-source.html#l00076">type</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00866">UnicodePrint()</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00064">USHORT</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l00104">WORK_BUFFER_SIZE</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.
<p>
<pre class="fragment"><div>00974                    :
00975 
00976 Arguments:
00977 
00978 Return Value:
00979 
00980 --*/
00981 {
00982     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>       status;
00983     ULONG          index;
00984     ULONG          resultLength;
00985     ULONG          <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a>;
00986     PUCHAR         typeString;
00987     UNICODE_STRING unicodeValueName;
00988     PKEY_VALUE_FULL_INFORMATION keyValueInformation;
00989 
00990     UNREFERENCED_PARAMETER(ItemName);
00991 
00992     resultLength = <a class="code" href="../../d2/d5/editreg_8c.html#a0">WORK_BUFFER_SIZE</a>;
00993     keyValueInformation = (PKEY_VALUE_FULL_INFORMATION)malloc(WORK_BUFFER_SIZE);
00994 
00995     <span class="keywordflow">for</span> (index = 0; <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>; index++) {
00996 
00997         <span class="keywordflow">while</span> (1) {
00998 
00999             RtlZeroMemory(keyValueInformation, resultLength);
01000             status = <a class="code" href="../../d7/d7/ntapi_8c.html#a18">NtEnumerateValueKey</a>(KeyHandle,
01001                                          index,
01002                                          KeyValueFullInformation,
01003                                          keyValueInformation,
01004                                          resultLength,
01005                                          &amp;resultLength);
01006 
01007             <span class="keywordflow">if</span> (status == STATUS_BUFFER_OVERFLOW) {
01008                 free(keyValueInformation);
01009                 keyValueInformation = (PKEY_VALUE_FULL_INFORMATION)
01010                                            malloc(resultLength + 10);
01011             } <span class="keywordflow">else</span> {
01012                 <span class="keywordflow">break</span>;
01013             }
01014         }
01015 
01016         <span class="keywordflow">if</span> (status == STATUS_NO_MORE_ENTRIES) {
01017 
01018             <span class="keywordflow">break</span>;
01019 
01020         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
01021 
01022             printf(<span class="stringliteral">"readreg: Cannot list (%x)\n"</span>, status);
01023             <span class="keywordflow">break</span>;
01024 
01025         }
01026 
01027         <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a> = keyValueInformation-&gt;Type;
01028         typeString = <a class="code" href="../../d2/d5/editreg_8c.html#a64">FindTypeString</a>(type);
01029         unicodeValueName.Length = (<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>)keyValueInformation-&gt;NameLength;
01030         unicodeValueName.MaximumLength =(<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>)keyValueInformation-&gt;NameLength;
01031         unicodeValueName.Buffer = (PWSTR)&amp;keyValueInformation-&gt;Name[0];
01032         printf(<span class="stringliteral">"Name-&gt; "</span><span class="stringliteral">""</span>);
01033         <a class="code" href="../../d2/d5/editreg_8c.html#a67">UnicodePrint</a>(&amp;unicodeValueName);
01034         printf(<span class="stringliteral">""</span><span class="stringliteral">"\n"</span>);
01035         printf(<span class="stringliteral">"\ttype = %s (%d)\ttitle index = %d\tdata length = %d\n"</span>,
01036                typeString,
01037                type,
01038                keyValueInformation-&gt;TitleIndex,
01039                keyValueInformation-&gt;DataLength);
01040         printf(<span class="stringliteral">"\tData:\n"</span>);
01041 
01042         <span class="keywordflow">if</span> (<a class="code" href="../../d2/d5/editreg_8c.html#a54">ForceDump</a>) {
01043             <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a> = REG_BINARY;
01044         }
01045 
01046         <span class="keywordflow">switch</span> (<a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a>) {
01047 
01048         <span class="keywordflow">case</span> REG_DWORD:
01049         <span class="comment">// case REG_DWORD_LITTLE_ENDIAN:</span>
01050             printf(<span class="stringliteral">"\tDWORD value == %d, (0x%x)\n"</span>,
01051                *((PULONG)((PUCHAR)keyValueInformation +
01052                                   keyValueInformation-&gt;DataOffset)),
01053                *((PULONG)((PUCHAR)keyValueInformation +
01054                                   keyValueInformation-&gt;DataOffset)));
01055             <span class="keywordflow">break</span>;
01056 
01057         <span class="keywordflow">case</span> REG_SZ:
01058 
01059             unicodeValueName.Length = (<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>)keyValueInformation-&gt;DataLength;
01060             unicodeValueName.MaximumLength = (<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>)
01061                                                 keyValueInformation-&gt;DataLength;
01062             unicodeValueName.Buffer = (PWSTR) ((PUCHAR) keyValueInformation +
01063                                                keyValueInformation-&gt;DataOffset);
01064             <a class="code" href="../../d2/d5/editreg_8c.html#a67">UnicodePrint</a>(&amp;unicodeValueName);
01065             <span class="keywordflow">break</span>;
01066 
01067         <span class="keywordflow">case</span> REG_BINARY:
01068         <span class="keywordflow">default</span>:
01069             <a class="code" href="../../d4/d1/rtdmpsec_8c.html#a24">Dump</a>(((PUCHAR)keyValueInformation +keyValueInformation-&gt;DataOffset),
01070                  keyValueInformation-&gt;DataLength);
01071         }
01072         printf(<span class="stringliteral">"\n"</span>);
01073     }
01074 
01075     free(keyValueInformation);
01076     <span class="keywordflow">return</span> status;
01077 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a86" doxytag="editreg.c::ListDrivers" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID ListDrivers           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l02369">2369</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
References <a class="el" href="../../d3/d4/editreg_8c-source.html#l02357">DisplayLoadInformation()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l02279">DRIVER_KEY</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00357">FtOpenKey()</a>, <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>, <a class="el" href="../../d6/d5/stierr_8h-source.html#l00030">NT_SUCCESS</a>, <a class="el" href="../../d6/d9/obclose_8c-source.html#l00037">NtClose()</a>, <a class="el" href="../../d8/d6/ntapi_8c-source.html#l00610">NtEnumerateKey()</a>, <a class="el" href="../../d0/d6/iop_8h.html#a144">NTSTATUS()</a>, <a class="el" href="../../d7/d5/nls_8c-source.html#l00246">RtlUnicodeStringToAnsiString()</a>, <a class="el" href="../../d6/d9/heappage_8c.html#a68">sprintf()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l02367">TEMP_BUFFER_SIZE</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00064">USHORT</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00104">WORK_BUFFER_SIZE</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l00302">WorkingDirectory</a>.
<p>
<pre class="fragment"><div>02373                    :
02374 
02375     Got to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> load list <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> drivers, interpret and display what <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> there.
02376 
02377 Arguments:
02378 
02379     None.
02380 
02381 Return Value:
02382 
02383     NONE
02384 
02385 --*/
02386 
02387 {
02388     <span class="keywordtype">int</span>            index;
02389     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>       status;
02390     HANDLE         keyHandle;
02391     ULONG          resultLength;
02392     UCHAR          tempBuffer[<a class="code" href="../../d2/d5/editreg_8c.html#a38">TEMP_BUFFER_SIZE</a>];
02393     ANSI_STRING    ansiString;
02394     UNICODE_STRING unicodeValueName;
02395     PKEY_BASIC_INFORMATION keyInformation;
02396 
02397     keyInformation = (PKEY_BASIC_INFORMATION)malloc(WORK_BUFFER_SIZE);
02398 
02399     status = <a class="code" href="../../d2/d5/editreg_8c.html#a59">FtOpenKey</a>(&amp;keyHandle, DRIVER_KEY);
02400 
02401     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
02402 
02403         printf(<span class="stringliteral">"Could not open Services key (0x%x).\n"</span>, status);
02404         <span class="keywordflow">return</span>;
02405     }
02406 
02407     <span class="keywordflow">for</span> (index = 0; <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>; index++) {
02408 
02409         RtlZeroMemory(keyInformation, WORK_BUFFER_SIZE);
02410 
02411         status = <a class="code" href="../../d7/d7/ntapi_8c.html#a17">NtEnumerateKey</a>(keyHandle,
02412                                 index,
02413                                 KeyBasicInformation,
02414                                 keyInformation,
02415                                 WORK_BUFFER_SIZE,
02416                                 &amp;resultLength);
02417 
02418         <span class="keywordflow">if</span> (status == STATUS_NO_MORE_ENTRIES) {
02419 
02420             <span class="keywordflow">break</span>;
02421 
02422         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
02423 
02424             printf(<span class="stringliteral">"readreg: Error on Enumerate status = %x\n"</span>, status);
02425             <span class="keywordflow">break</span>;
02426 
02427         }
02428 
02429         unicodeValueName.Length = (<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>)keyInformation-&gt;NameLength;
02430         unicodeValueName.MaximumLength = (<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>)keyInformation-&gt;NameLength;
02431         unicodeValueName.Buffer = (PWSTR)&amp;keyInformation-&gt;Name[0];
02432 
02433         ansiString.MaximumLength = <a class="code" href="../../d2/d5/editreg_8c.html#a38">TEMP_BUFFER_SIZE</a>;
02434         ansiString.Length = 0<a class="code" href="../../d2/d0/aw_8h.html#a3">L</a>;
02435         ansiString.Buffer = &amp;tempBuffer[0];
02436 
02437         <a class="code" href="../../d6/d6/nls_8c.html#a23">RtlUnicodeStringToAnsiString</a>(&amp;ansiString,
02438                                      &amp;unicodeValueName,
02439                                      (BOOLEAN) FALSE);
02440 
02441         <span class="comment">//</span>
02442         <span class="comment">// Now have the key name for the driver - concatenate it and</span>
02443         <span class="comment">// call the routine to display what is in the key.</span>
02444         <span class="comment">//</span>
02445 
02446         <a class="code" href="../../d6/d9/heappage_8c.html#a68">sprintf</a>(WorkingDirectory,
02447                 <span class="stringliteral">"%s\\%s"</span>,
02448                 DRIVER_KEY,
02449                 tempBuffer);
02450 
02451         <a class="code" href="../../d2/d5/editreg_8c.html#a85">DisplayLoadInformation</a>(WorkingDirectory);
02452     }
02453 
02454     free(keyInformation);
02455     <a class="code" href="../../d5/d0/obclose_8c.html#a1">NtClose</a>(keyHandle);
02456 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a87" doxytag="editreg.c::main" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID main           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">2460</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
<pre class="fragment"><div>02464                    :
02465 
02466     The <a class="code" href="../../d3/d9/arcinst_8c.html#a19">main</a> entry point <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> user process.
02467     This process will prompt <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> user <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> action desired.  This
02468     includes starting performance, stopping performance, and retreiving
02469     performance data collected by <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> FT driver.
02470 
02471 Arguments:
02472 
02473     Command line:
02474         No options.
02475 
02476 Return Value:
02477 
02478     NONE
02479 
02480 --*/
02481 
02482 {
02483     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> status;
02484     BOOLEAN  batch;
02485     PUCHAR   argumentString;
02486     <span class="keywordtype">int</span>      commandCode;
02487     HANDLE   keyHandle;
02488 
02489 
02490     status = <a class="code" href="../../d2/d5/editreg_8c.html#a59">FtOpenKey</a>(&amp;keyHandle, REGISTRY_BASE);
02491 
02492     <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
02493 
02494         printf(<span class="stringliteral">"readreg: Unable to open registry base (0x%x)\n"</span>, status);
02495         <a class="code" href="../../d9/d1/fedefs_8h.html#a16">exit</a>(1);
02496     }
02497 
02498     <a class="code" href="../../d6/d9/heappage_8c.html#a68">sprintf</a>(CurrentDirectory,
02499             REGISTRY_BASE);
02500 
02501     <span class="comment">//</span>
02502     <span class="comment">// See if we are connected to CON</span>
02503     <span class="comment">//</span>
02504 
02505     batch = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
02506 <span class="comment">//  batch = (BOOLEAN)(!isatty(0));</span>
02507 
02508     <span class="keywordflow">if</span> (!batch) {
02509         printf(<span class="stringliteral">"FT registry edit utility.  %s:\n"</span>, Version);
02510     }
02511 
02512     <span class="keywordflow">while</span>(1) {
02513         <span class="keywordflow">while</span> ((commandCode = <a class="code" href="../../d2/d5/editreg_8c.html#a74">GetCommand</a>(batch,
02514                                          &amp;argumentString)) == <a class="code" href="../../d2/d5/editreg_8c.html#a8">INVALID</a>) {
02515 
02516             <span class="comment">//</span>
02517             <span class="comment">// Continue until we get a valid command.</span>
02518             <span class="comment">//</span>
02519 
02520         }
02521 
02522         <span class="keywordflow">if</span> (<a class="code" href="../../d2/d5/editreg_8c.html#a51">Debug</a>) {
02523             printf(<span class="stringliteral">"Command code == %d, argumentString = %s\n"</span>,
02524                    commandCode,
02525                    (argumentString == NULL) ? <span class="stringliteral">"(none)"</span> : argumentString);
02526         }
02527 
02528         <span class="keywordflow">switch</span> (commandCode) {
02529 
02530         <span class="keywordflow">case</span> <a class="code" href="../../d2/d5/editreg_8c.html#a19">DIRLONG</a>:
02531 
02532             <a class="code" href="../../d2/d5/editreg_8c.html#a68">Directory</a>(keyHandle, (BOOLEAN) TRUE);
02533             <span class="keywordflow">break</span>;
02534 
02535         <span class="keywordflow">case</span> <a class="code" href="../../d2/d5/editreg_8c.html#a9">DIR</a>:
02536 
02537             <a class="code" href="../../d2/d5/editreg_8c.html#a68">Directory</a>(keyHandle, (BOOLEAN) FALSE);
02538             <span class="keywordflow">break</span>;
02539 
02540         <span class="keywordflow">case</span> <a class="code" href="../../d2/d5/editreg_8c.html#a10">CREATE</a>:
02541         {
02542             ULONG   index;
02543             PUCHAR  keyClass;
02544             BOOLEAN classAllocated = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
02545 
02546             <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
02547                 argumentString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>(batch,
02548                                                    <span class="stringliteral">"Key Name = "</span>, 
02549                                                    (BOOLEAN) FALSE);
02550             }
02551 
02552             <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
02553                 <span class="keywordflow">break</span>;
02554             }
02555 
02556             <a class="code" href="../../d6/d9/heappage_8c.html#a68">sprintf</a>(WorkingDirectory,
02557                     <span class="stringliteral">"%s\\%s"</span>,
02558                     CurrentDirectory,
02559                     argumentString);
02560 
02561             argumentString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>(batch,
02562                                                <span class="stringliteral">"Key Class = "</span>,
02563                                                (BOOLEAN) FALSE);
02564 
02565             <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
02566                 keyClass = <span class="stringliteral">"Default Class"</span>;
02567             } <span class="keywordflow">else</span> {
02568                 keyClass = (PUCHAR) malloc(<a class="code" href="../../d2/d7/regtest_8c.html#a2">strlen</a>(argumentString) + FUDGE);
02569                 classAllocated = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
02570 
02571                 <a class="code" href="../../d6/d9/heappage_8c.html#a68">sprintf</a>(keyClass,
02572                         <span class="stringliteral">"%s"</span>,
02573                         argumentString);
02574             }
02575 
02576             argumentString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>(batch,
02577                                                <span class="stringliteral">"Index = "</span>,
02578                                                (BOOLEAN) TRUE);
02579 
02580             <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
02581                 index = 1;
02582             } <span class="keywordflow">else</span> {
02583                 index = <a class="code" href="../../d2/d5/editreg_8c.html#a72">ParseArgumentNumeric</a>(&amp;argumentString);
02584             }
02585 
02586             <span class="keywordflow">if</span> (<a class="code" href="../../d2/d5/editreg_8c.html#a51">Debug</a>) {
02587                 printf(<span class="stringliteral">"Creating key %s, index %d with class %s\n"</span>,
02588                        WorkingDirectory,
02589                        index,
02590                        keyClass);
02591             }
02592 
02593             status = <a class="code" href="../../d2/d5/editreg_8c.html#a61">FtCreateKey</a>(WorkingDirectory,
02594                                  keyClass,
02595                                  index);
02596 
02597             <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
02598 
02599                 printf(<span class="stringliteral">"Could not create key %s (0x%x).\n"</span>,
02600                        WorkingDirectory,
02601                        status);
02602             }
02603 
02604             <span class="keywordflow">if</span> (classAllocated == <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>) {
02605                 free(keyClass);
02606             }
02607 
02608             <span class="keywordflow">break</span>;
02609         }
02610 
02611         <span class="keywordflow">case</span> <a class="code" href="../../d2/d5/editreg_8c.html#a11">LIST</a>:
02612 
02613             <a class="code" href="../../d2/d5/editreg_8c.html#a69">List</a>(keyHandle,
02614                  argumentString);
02615             <span class="keywordflow">break</span>;
02616 
02617         <span class="keywordflow">case</span> <a class="code" href="../../d2/d5/editreg_8c.html#a12">CHDIR</a>:
02618 
02619             <a class="code" href="../../d5/d0/obclose_8c.html#a1">NtClose</a>(keyHandle);
02620 
02621             <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
02622 
02623                 argumentString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>(batch,
02624                                                    <span class="stringliteral">"New location = "</span>,
02625                                                    (BOOLEAN) TRUE);
02626             }
02627 
02628             <span class="keywordflow">if</span> (argumentString != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
02629 
02630                 <span class="keywordflow">if</span> (*argumentString == <span class="charliteral">'\\'</span>) {
02631 
02632                     <span class="comment">//</span>
02633                     <span class="comment">// Root relative string.</span>
02634                     <span class="comment">// Use text provided (i.e. %s is to avoid user crashing</span>
02635                     <span class="comment">// by putting %s in the string).</span>
02636                     <span class="comment">//</span>
02637 
02638                     <a class="code" href="../../d6/d9/heappage_8c.html#a68">sprintf</a>(WorkingDirectory,
02639                             <span class="stringliteral">"%s"</span>,
02640                             argumentString);
02641 
02642                 } <span class="keywordflow">else</span> {
02643 
02644                     <span class="keywordflow">while</span> ((*argumentString == <span class="charliteral">'.'</span>) &amp;&amp;
02645                            (*(argumentString + 1) == <span class="charliteral">'.'</span>)) {
02646 
02647                         <span class="keywordflow">if</span> ((*(argumentString + 2) == <span class="charliteral">'\\'</span>) ||
02648                             (*(argumentString + 2) == <span class="charliteral">'\0'</span>)) {
02649 
02650                             PUCHAR cptr = <a class="code" href="../../d2/d5/editreg_8c.html#a47">CurrentDirectory</a>;
02651 
02652                             <span class="comment">//</span>
02653                             <span class="comment">// move argumentString past ".."</span>
02654                             <span class="comment">//</span>
02655 
02656                             argumentString += 2;
02657 
02658                             <span class="comment">//</span>
02659                             <span class="comment">// Find end of current directory.</span>
02660                             <span class="comment">//</span>
02661 
02662                             <span class="keywordflow">while</span> (*cptr != <span class="charliteral">'\0'</span>) {
02663                                 cptr++;
02664                             }
02665 
02666                             <span class="comment">//</span>
02667                             <span class="comment">// Backup to last component.</span>
02668                             <span class="comment">//</span>
02669 
02670                             <span class="keywordflow">while</span> (*cptr != <span class="charliteral">'\\'</span>) {
02671                                 cptr--;
02672                             }
02673 
02674                             <span class="keywordflow">if</span> (cptr == <a class="code" href="../../d2/d5/editreg_8c.html#a47">CurrentDirectory</a>) {
02675 
02676                                 <span class="comment">//</span>
02677                                 <span class="comment">// Cannot backup anymore.  Continue parsing</span>
02678                                 <span class="comment">// argument.</span>
02679                                 <span class="comment">//</span>
02680 
02681                                 <span class="keywordflow">continue</span>;
02682                             }
02683 
02684                             <span class="comment">//</span>
02685                             <span class="comment">// Remove component from path.</span>
02686                             <span class="comment">//</span>
02687 
02688                             *cptr = <span class="charliteral">'\0'</span>;
02689 
02690                             <span class="keywordflow">if</span> (*argumentString == <span class="charliteral">'\0'</span>) {
02691 
02692                                 <span class="comment">//</span>
02693                                 <span class="comment">// All done with argument.</span>
02694                                 <span class="comment">//</span>
02695 
02696                                 <span class="keywordflow">break</span>;
02697                             }
02698 
02699                             <span class="comment">//</span>
02700                             <span class="comment">// Step around backslash.</span>
02701                             <span class="comment">//</span>
02702 
02703                             argumentString++;
02704 
02705                         } <span class="keywordflow">else</span> {
02706 
02707                             <span class="comment">//</span>
02708                             <span class="comment">// Assume it is a real name.</span>
02709                             <span class="comment">//</span>
02710 
02711                             <span class="keywordflow">break</span>;
02712                         }
02713                     }
02714 
02715                     <span class="keywordflow">if</span> (*argumentString != <span class="charliteral">'\0'</span>) {
02716                         <a class="code" href="../../d6/d9/heappage_8c.html#a68">sprintf</a>(WorkingDirectory,
02717                                 <span class="stringliteral">"%s\\%s"</span>,
02718                                 CurrentDirectory,
02719                                 argumentString);
02720                     } <span class="keywordflow">else</span> {
02721                         <a class="code" href="../../d6/d9/heappage_8c.html#a68">sprintf</a>(WorkingDirectory,
02722                                 <span class="stringliteral">"%s"</span>,
02723                                 CurrentDirectory);
02724                     }
02725                 }
02726 
02727                 status = <a class="code" href="../../d2/d5/editreg_8c.html#a59">FtOpenKey</a>(&amp;keyHandle,
02728                                    WorkingDirectory);
02729 
02730                 <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
02731 
02732                     <a class="code" href="../../d6/d9/heappage_8c.html#a68">sprintf</a>(CurrentDirectory,
02733                             <span class="stringliteral">"%s"</span>,
02734                             WorkingDirectory);
02735                 } <span class="keywordflow">else</span> {
02736 
02737                     (<a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>) <a class="code" href="../../d2/d5/editreg_8c.html#a59">FtOpenKey</a>(&amp;keyHandle,
02738                                      CurrentDirectory);
02739 
02740                     <span class="comment">//</span>
02741                     <span class="comment">// No error checks because this was opened once before.</span>
02742                     <span class="comment">//</span>
02743                 }
02744 
02745             }
02746 
02747             <span class="keywordflow">break</span>;
02748 
02749         <span class="keywordflow">case</span> <a class="code" href="../../d2/d5/editreg_8c.html#a13">HELP</a>:
02750         {
02751             <span class="keywordtype">int</span> i;
02752 
02753             printf(<span class="stringliteral">"Valid commands are:\n"</span>);
02754 
02755             <span class="keywordflow">for</span> (i = 0; <a class="code" href="../../d2/d5/editreg_8c.html#a43">Commands</a>[i] != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>; i++) {
02756                 printf(<span class="stringliteral">"  %10s  - %s\n"</span>,
02757                        Commands[i],
02758                        CommandHelp[CommandMap[i]]);
02759             }
02760             <span class="keywordflow">break</span>;
02761         }
02762 
02763         <span class="keywordflow">case</span> <a class="code" href="../../d2/d5/editreg_8c.html#a14">QUIT</a>:
02764 
02765             <a class="code" href="../../d9/d1/fedefs_8h.html#a16">exit</a>(0);
02766             <span class="keywordflow">break</span>;
02767 
02768         <span class="keywordflow">case</span> <a class="code" href="../../d2/d5/editreg_8c.html#a15">DDEBUG</a>:
02769 
02770             <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
02771 
02772                 <span class="keywordflow">if</span> (<a class="code" href="../../d2/d5/editreg_8c.html#a51">Debug</a>) {
02773 
02774                     printf(<span class="stringliteral">"Debug turned off.\n"</span>);
02775                     <a class="code" href="../../d2/d5/editreg_8c.html#a51">Debug</a> = 0;
02776                 } <span class="keywordflow">else</span> {
02777 
02778                     <a class="code" href="../../d2/d5/editreg_8c.html#a51">Debug</a> = 1;
02779                 }
02780             } <span class="keywordflow">else</span> {
02781 
02782                 <a class="code" href="../../d2/d5/editreg_8c.html#a51">Debug</a> = atoi(argumentString);
02783                 printf(<span class="stringliteral">"Debug set to %d\n"</span>, Debug);
02784             }
02785             <span class="keywordflow">break</span>;
02786 
02787         <span class="keywordflow">case</span> <a class="code" href="../../d2/d5/editreg_8c.html#a16">SETVALUE</a>:
02788         {
02789             <span class="keywordtype">int</span>    i;
02790             BOOLEAN convertToUnicode = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
02791             PUCHAR valueName;
02792             PUCHAR valueData;
02793             ULONG  valueLength;
02794             ULONG  valueWord;
02795             PVOID  valuePtr;
02796             ULONG  <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a> = <a class="code" href="../../d2/d5/editreg_8c.html#a3">DEFAULT_TYPE</a>;
02797             STRING         valueString;
02798             UNICODE_STRING unicodeValue;
02799             BOOLEAN dataAllocated = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
02800             BOOLEAN unicodeAllocated = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
02801 
02802             <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
02803 
02804                 argumentString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>(batch,
02805                                                    <span class="stringliteral">"Value Name = "</span>,
02806                                                    (BOOLEAN) FALSE);
02807             }
02808 
02809             <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
02810 
02811                 <span class="keywordflow">break</span>;
02812             }
02813 
02814             valueName = (PUCHAR) malloc(<a class="code" href="../../d2/d7/regtest_8c.html#a2">strlen</a>(argumentString) + FUDGE);
02815 
02816             <a class="code" href="../../d6/d9/heappage_8c.html#a68">sprintf</a>(valueName,
02817                     <span class="stringliteral">"%s"</span>,
02818                     argumentString);
02819 
02820             <span class="comment">//</span>
02821             <span class="comment">// print a help banner on type and get the type.</span>
02822             <span class="comment">//</span>
02823 
02824             <span class="keywordflow">for</span> (i = 0; <a class="code" href="../../d2/d5/editreg_8c.html#a39">TypeNames</a>[i] != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>; i++) {
02825 
02826                 printf(<span class="stringliteral">"%d - %s\n"</span>, TypeNumbers[i], TypeNames[i]);
02827             }
02828             printf(<span class="stringliteral">"# - Other numbers are user defined\n"</span>);
02829             argumentString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>(batch,
02830                                                <span class="stringliteral">"Numeric value for type = "</span>,
02831                                                (BOOLEAN) TRUE);
02832 
02833             <span class="keywordflow">if</span> (argumentString != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
02834                 <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a> = <a class="code" href="../../d2/d5/editreg_8c.html#a72">ParseArgumentNumeric</a>(&amp;argumentString);
02835             }
02836 
02837             <span class="keywordflow">switch</span>(<a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a>)
02838             {
02839             <span class="keywordflow">default</span>:
02840             <span class="keywordflow">case</span> REG_SZ:
02841                 <span class="keywordflow">if</span> (<a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a> == REG_SZ) {
02842                     convertToUnicode = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
02843                     printf(<span class="stringliteral">"Typed in string will be converted to unicode...\n"</span>);
02844                     argumentString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>(batch,
02845                                                        <span class="stringliteral">"Value Data = "</span>,
02846                                                        (BOOLEAN) FALSE);
02847                 } <span class="keywordflow">else</span> {
02848                     printf(<span class="stringliteral">"For now the data must be typed in...\n"</span>);
02849                     argumentString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>(batch,
02850                                                        <span class="stringliteral">"Value Data = "</span>,
02851                                                        (BOOLEAN) FALSE);
02852                 }
02853 
02854                 <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
02855                     valueData = <span class="stringliteral">"Default Data"</span>;
02856                     valueLength = <a class="code" href="../../d2/d7/regtest_8c.html#a2">strlen</a>(valueData);
02857                 } <span class="keywordflow">else</span> {
02858                     valueData = (PUCHAR) malloc(<a class="code" href="../../d2/d7/regtest_8c.html#a2">strlen</a>(argumentString) + FUDGE);
02859                     dataAllocated = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
02860                     <a class="code" href="../../d6/d9/heappage_8c.html#a68">sprintf</a>(valueData,
02861                             <span class="stringliteral">"%s"</span>,
02862                             argumentString);
02863                     <span class="keywordflow">if</span> (convertToUnicode == <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>) {
02864                         <a class="code" href="../../d2/d7/string_8c.html#a5">RtlInitString</a>(&amp;valueString,
02865                                       valueData);
02866                         <a class="code" href="../../d6/d6/nls_8c.html#a21">RtlAnsiStringToUnicodeString</a>(&amp;unicodeValue,
02867                                                      &amp;valueString,
02868                                                      (BOOLEAN) TRUE);
02869                         unicodeAllocated = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
02870                         valueLength = unicodeValue.Length + 2;
02871                     } <span class="keywordflow">else</span> {
02872                         valueLength = <a class="code" href="../../d2/d7/regtest_8c.html#a2">strlen</a>(valueData);
02873                     }
02874                 }
02875 
02876                 <span class="keywordflow">break</span>;
02877 
02878             <span class="keywordflow">case</span> REG_DWORD:
02879                 argumentString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>(batch,
02880                                                    <span class="stringliteral">"Value Data Word = "</span>,
02881                                                    (BOOLEAN) TRUE);
02882                 <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
02883                     valueWord = 0;
02884                 } <span class="keywordflow">else</span> {
02885                     valueWord = <a class="code" href="../../d2/d5/editreg_8c.html#a72">ParseArgumentNumeric</a>(&amp;argumentString);
02886                 }
02887 
02888                 valueLength = <span class="keyword">sizeof</span>(ULONG);
02889                 <span class="keywordflow">break</span>;
02890             }
02891 
02892             <span class="keywordflow">switch</span> (<a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a>) {
02893 
02894             <span class="keywordflow">case</span> REG_DWORD:
02895                 valuePtr = (PVOID) &amp;valueWord;
02896                 <span class="keywordflow">break</span>;
02897 
02898             <span class="keywordflow">case</span> REG_SZ:
02899                 valuePtr = (PVOID) unicodeValue.Buffer;
02900                 <span class="keywordflow">break</span>;
02901 
02902             <span class="keywordflow">default</span>:
02903                 valuePtr = (PVOID) valueData;
02904                 <span class="keywordflow">break</span>;
02905             }
02906             status = <a class="code" href="../../d2/d5/editreg_8c.html#a63">FtSetValue</a>(keyHandle,
02907                                 valueName,
02908                                 valuePtr,
02909                                 valueLength,
02910                                 type);
02911 
02912             <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
02913                 printf(<span class="stringliteral">"Could not set value %s (0x%x).\n"</span>, valueName, status);
02914             }
02915 
02916             free(valueName);
02917             <span class="keywordflow">if</span> (dataAllocated == <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>) {
02918                 free(valueData);
02919             }
02920             <span class="keywordflow">if</span> (unicodeAllocated == <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>) {
02921                 <a class="code" href="../../d6/d6/nls_8c.html#a34">RtlFreeUnicodeString</a>(&amp;unicodeValue);
02922             }
02923             <span class="keywordflow">break</span>;
02924         }
02925 
02926         <span class="keywordflow">case</span> <a class="code" href="../../d2/d5/editreg_8c.html#a17">DELKEY</a>:
02927         {
02928             <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
02929 
02930                 argumentString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>(batch,
02931                                                    <span class="stringliteral">"Key Name = "</span>,
02932                                                    (BOOLEAN) TRUE);
02933             }
02934 
02935             <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
02936 
02937                 <span class="keywordflow">break</span>;
02938             }
02939 
02940             <a class="code" href="../../d6/d9/heappage_8c.html#a68">sprintf</a>(WorkingDirectory,
02941                     <span class="stringliteral">"%s\\%s"</span>,
02942                     CurrentDirectory,
02943                     argumentString);
02944 
02945             status = <a class="code" href="../../d2/d5/editreg_8c.html#a60">FtDeleteKey</a>(WorkingDirectory);
02946 
02947             <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
02948                 printf(<span class="stringliteral">"Unable to delete key %s (0x%x)\n"</span>,
02949                        WorkingDirectory,
02950                        status);
02951             }
02952 
02953             <span class="keywordflow">break</span>;
02954         }
02955 
02956         <span class="keywordflow">case</span> <a class="code" href="../../d2/d5/editreg_8c.html#a18">DELVALUE</a>:
02957         {
02958             <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
02959 
02960                 argumentString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>(batch,
02961                                                    <span class="stringliteral">"Key Name = "</span>,
02962                                                    (BOOLEAN) TRUE);
02963             }
02964 
02965             <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
02966 
02967                 <span class="keywordflow">break</span>;
02968             }
02969 
02970             status = <a class="code" href="../../d2/d5/editreg_8c.html#a62">FtDeleteValue</a>(keyHandle,
02971                                    argumentString);
02972 
02973             <span class="keywordflow">if</span> (!<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>(status)) {
02974 
02975                 printf(<span class="stringliteral">"Unable to delete value %s (0x%x)\n"</span>,
02976                        argumentString,
02977                        status);
02978             }
02979             <span class="keywordflow">break</span>;
02980         }
02981 
02982         <span class="keywordflow">case</span> <a class="code" href="../../d2/d5/editreg_8c.html#a20">INLONG</a>:
02983             <a class="code" href="../../d2/d5/editreg_8c.html#a55">DumpControl</a> = <a class="code" href="../../d2/d5/editreg_8c.html#a88a58">InLongs</a>;
02984             <span class="keywordflow">break</span>;
02985 
02986         <span class="keywordflow">case</span> <a class="code" href="../../d2/d5/editreg_8c.html#a21">INSHORT</a>:
02987             <a class="code" href="../../d2/d5/editreg_8c.html#a55">DumpControl</a> = <a class="code" href="../../d2/d5/editreg_8c.html#a88a57">InShorts</a>;
02988             <span class="keywordflow">break</span>;
02989 
02990         <span class="keywordflow">case</span> <a class="code" href="../../d2/d5/editreg_8c.html#a22">INBYTE</a>:
02991             <a class="code" href="../../d2/d5/editreg_8c.html#a55">DumpControl</a> = <a class="code" href="../../d2/d5/editreg_8c.html#a88a56">InBytes</a>;
02992             <span class="keywordflow">break</span>;
02993 
02994         <span class="keywordflow">case</span> <a class="code" href="../../d2/d5/editreg_8c.html#a23">DUMP</a>:
02995 
02996             <span class="keywordflow">if</span> (<a class="code" href="../../d2/d5/editreg_8c.html#a54">ForceDump</a>) {
02997                 <a class="code" href="../../d2/d5/editreg_8c.html#a54">ForceDump</a> = 0;
02998             } <span class="keywordflow">else</span> {
02999                 <a class="code" href="../../d2/d5/editreg_8c.html#a54">ForceDump</a>++;
03000             }
03001             <span class="keywordflow">break</span>;
03002 
03003         <span class="keywordflow">case</span> <a class="code" href="../../d2/d5/editreg_8c.html#a24">DISKREG</a>:
03004             <a class="code" href="../../d2/d5/editreg_8c.html#a77">DiskDump</a>();
03005             <span class="keywordflow">break</span>;
03006 
03007         <span class="keywordflow">case</span> <a class="code" href="../../d2/d5/editreg_8c.html#a25">FIXDISK</a>:
03008             <a class="code" href="../../d2/d5/editreg_8c.html#a82">FixDisk</a>();
03009             <span class="keywordflow">break</span>;
03010 
03011         <span class="keywordflow">case</span> <a class="code" href="../../d2/d5/editreg_8c.html#a26">RESTORE</a>:
03012         {
03013             ULONG <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a>;
03014             ULONG group;
03015             ULONG member;
03016 
03017             printf(<span class="stringliteral">"FT types that can be restored are:\n"</span>);
03018             printf(<span class="stringliteral">"\t%d - for Mirrors\n"</span>, Mirror);
03019             printf(<span class="stringliteral">"\t%d - for Stripes with parity\n"</span>, StripeWithParity);
03020 
03021             <span class="comment">//</span>
03022             <span class="comment">// Get the type</span>
03023             <span class="comment">//</span>
03024 
03025             <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03026                 argumentString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>(batch,
03027                                                    <span class="stringliteral">"FT volume type = "</span>,
03028                                                    (BOOLEAN) TRUE);
03029             }
03030             <span class="keywordflow">if</span> (argumentString != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03031                 <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a> = <a class="code" href="../../d2/d5/editreg_8c.html#a72">ParseArgumentNumeric</a>(&amp;argumentString);
03032             } <span class="keywordflow">else</span> {
03033                 <span class="keywordflow">break</span>;
03034             }
03035 
03036             <span class="comment">//</span>
03037             <span class="comment">// Get the group</span>
03038             <span class="comment">//</span>
03039 
03040             <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03041                 argumentString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>(batch,
03042                                                    <span class="stringliteral">"FT group number = "</span>,
03043                                                    (BOOLEAN) TRUE);
03044             }
03045             <span class="keywordflow">if</span> (argumentString != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03046                 group = <a class="code" href="../../d2/d5/editreg_8c.html#a72">ParseArgumentNumeric</a>(&amp;argumentString);
03047             } <span class="keywordflow">else</span> {
03048                 <span class="keywordflow">break</span>;
03049             }
03050 
03051             <span class="comment">//</span>
03052             <span class="comment">// Get the member</span>
03053             <span class="comment">//</span>
03054 
03055             <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03056                 argumentString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>(batch,
03057                                                    <span class="stringliteral">"FT member number = "</span>,
03058                                                    (BOOLEAN) TRUE);
03059             }
03060             <span class="keywordflow">if</span> (argumentString != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03061                 member = <a class="code" href="../../d2/d5/editreg_8c.html#a72">ParseArgumentNumeric</a>(&amp;argumentString);
03062             } <span class="keywordflow">else</span> {
03063                 <span class="keywordflow">break</span>;
03064             }
03065 
03066             <a class="code" href="../../d2/d5/editreg_8c.html#a79">RestoreOrphan</a>(type, group, member);
03067             <span class="keywordflow">break</span>;
03068         }
03069 
03070         <span class="keywordflow">case</span> <a class="code" href="../../d2/d5/editreg_8c.html#a27">DRIVERS</a>:
03071             <a class="code" href="../../d2/d5/editreg_8c.html#a75">NotImplemented</a>();
03072             <span class="comment">// ListDrivers();</span>
03073             <span class="keywordflow">break</span>;
03074 
03075         <span class="keywordflow">case</span> <a class="code" href="../../d2/d5/editreg_8c.html#a28">ORPHAN</a>:
03076         {
03077             ULONG <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a>;
03078             ULONG group;
03079             ULONG member;
03080 
03081             printf(<span class="stringliteral">"FT types that can be orphaned are:\n"</span>);
03082             printf(<span class="stringliteral">"\t%d - for Mirrors\n"</span>, Mirror);
03083             printf(<span class="stringliteral">"\t%d - for Stripes with parity\n"</span>, StripeWithParity);
03084 
03085             <span class="comment">//</span>
03086             <span class="comment">// Get the type</span>
03087             <span class="comment">//</span>
03088 
03089             <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03090                 argumentString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>(batch,
03091                                                    <span class="stringliteral">"FT volume type = "</span>,
03092                                                    (BOOLEAN) TRUE);
03093             }
03094             <span class="keywordflow">if</span> (argumentString != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03095                 <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a> = <a class="code" href="../../d2/d5/editreg_8c.html#a72">ParseArgumentNumeric</a>(&amp;argumentString);
03096             } <span class="keywordflow">else</span> {
03097                 <span class="keywordflow">break</span>;
03098             }
03099 
03100             <span class="comment">//</span>
03101             <span class="comment">// Get the group</span>
03102             <span class="comment">//</span>
03103 
03104             <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03105                 argumentString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>(batch,
03106                                                    <span class="stringliteral">"FT group number = "</span>,
03107                                                    (BOOLEAN) TRUE);
03108             }
03109             <span class="keywordflow">if</span> (argumentString != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03110                 group = <a class="code" href="../../d2/d5/editreg_8c.html#a72">ParseArgumentNumeric</a>(&amp;argumentString);
03111             } <span class="keywordflow">else</span> {
03112                 <span class="keywordflow">break</span>;
03113             }
03114 
03115             <span class="comment">//</span>
03116             <span class="comment">// Get the member</span>
03117             <span class="comment">//</span>
03118 
03119             <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03120                 argumentString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>(batch,
03121                                                    <span class="stringliteral">"FT member number = "</span>,
03122                                                    (BOOLEAN) TRUE);
03123             }
03124             <span class="keywordflow">if</span> (argumentString != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03125                 member = <a class="code" href="../../d2/d5/editreg_8c.html#a72">ParseArgumentNumeric</a>(&amp;argumentString);
03126             } <span class="keywordflow">else</span> {
03127                 <span class="keywordflow">break</span>;
03128             }
03129 
03130             <a class="code" href="../../d2/d5/editreg_8c.html#a80">OrphanMember</a>(type, group, member);
03131             <span class="keywordflow">break</span>;
03132         }
03133 
03134         <span class="keywordflow">case</span> <a class="code" href="../../d2/d5/editreg_8c.html#a29">REGEN</a>:
03135         {
03136             ULONG <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a>;
03137             ULONG group;
03138             ULONG member;
03139 
03140             printf(<span class="stringliteral">"FT types that can be regenerated are:\n"</span>);
03141             printf(<span class="stringliteral">"\t%d - for Mirrors\n"</span>, Mirror);
03142             printf(<span class="stringliteral">"\t%d - for Stripes with parity\n"</span>, StripeWithParity);
03143 
03144             <span class="comment">//</span>
03145             <span class="comment">// Get the type</span>
03146             <span class="comment">//</span>
03147 
03148             <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03149                 argumentString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>(batch,
03150                                                    <span class="stringliteral">"FT volume type = "</span>,
03151                                                    (BOOLEAN) TRUE);
03152             }
03153             <span class="keywordflow">if</span> (argumentString != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03154                 <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a> = <a class="code" href="../../d2/d5/editreg_8c.html#a72">ParseArgumentNumeric</a>(&amp;argumentString);
03155             } <span class="keywordflow">else</span> {
03156                 <span class="keywordflow">break</span>;
03157             }
03158 
03159             <span class="comment">//</span>
03160             <span class="comment">// Get the group</span>
03161             <span class="comment">//</span>
03162 
03163             <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03164                 argumentString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>(batch,
03165                                                    <span class="stringliteral">"FT group number = "</span>,
03166                                                    (BOOLEAN) TRUE);
03167             }
03168             <span class="keywordflow">if</span> (argumentString != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03169                 group = <a class="code" href="../../d2/d5/editreg_8c.html#a72">ParseArgumentNumeric</a>(&amp;argumentString);
03170             } <span class="keywordflow">else</span> {
03171                 <span class="keywordflow">break</span>;
03172             }
03173 
03174             <span class="comment">//</span>
03175             <span class="comment">// Get the member</span>
03176             <span class="comment">//</span>
03177 
03178             <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03179                 argumentString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>(batch,
03180                                                    <span class="stringliteral">"FT member number = "</span>,
03181                                                    (BOOLEAN) TRUE);
03182             }
03183             <span class="keywordflow">if</span> (argumentString != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03184                 member = <a class="code" href="../../d2/d5/editreg_8c.html#a72">ParseArgumentNumeric</a>(&amp;argumentString);
03185             } <span class="keywordflow">else</span> {
03186                 <span class="keywordflow">break</span>;
03187             }
03188 
03189             <a class="code" href="../../d2/d5/editreg_8c.html#a81">RegenerateMember</a>(type, group, member);
03190             <span class="keywordflow">break</span>;
03191         }
03192 
03193         <span class="keywordflow">case</span> <a class="code" href="../../d2/d5/editreg_8c.html#a30">INIT</a>:
03194         {
03195             ULONG <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a>;
03196             ULONG group;
03197             ULONG member;
03198 
03199             printf(<span class="stringliteral">"Only stripes with parity are initialized.\n"</span>);
03200 
03201             <span class="comment">//</span>
03202             <span class="comment">// Get the group</span>
03203             <span class="comment">//</span>
03204 
03205             <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03206                 argumentString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>(batch,
03207                                                <span class="stringliteral">"Parity stripe group number = "</span>,
03208                                                (BOOLEAN) TRUE);
03209             }
03210             <span class="keywordflow">if</span> (argumentString != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03211                 group = <a class="code" href="../../d2/d5/editreg_8c.html#a72">ParseArgumentNumeric</a>(&amp;argumentString);
03212             } <span class="keywordflow">else</span> {
03213                 <span class="keywordflow">break</span>;
03214             }
03215 
03216             <a class="code" href="../../d2/d5/editreg_8c.html#a78">ChangeMemberState</a>(StripeWithParity,
03217                               group,
03218                               0,
03219                               Initializing);
03220             <span class="keywordflow">break</span>;
03221         }
03222 
03223         <span class="keywordflow">case</span> <a class="code" href="../../d2/d5/editreg_8c.html#a31">MAKEFT</a>:
03224         {
03225             ULONG <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a>;
03226             ULONG group;
03227             ULONG member;
03228             ULONG disk;
03229             ULONG partition;
03230             PDISK_CONFIG_HEADER configHeader;
03231             BOOLEAN doUpdate = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
03232 
03233             configHeader = <a class="code" href="../../d2/d5/editreg_8c.html#a83">GetDiskInfo</a>();
03234             <span class="keywordflow">if</span> (configHeader == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03235                 <span class="keywordflow">break</span>;
03236             }
03237             printf(<span class="stringliteral">"\t%d for Mirrors\n"</span>, Mirror);
03238             printf(<span class="stringliteral">"\t%d for Stripe Set\n"</span>, Stripe);
03239             printf(<span class="stringliteral">"\t%d for Stripe with parity\n"</span>, StripeWithParity);
03240             printf(<span class="stringliteral">"\t%d for Volume Set\n"</span>, VolumeSet);
03241 
03242             <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03243                 argumentString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>(batch,
03244                                                    <span class="stringliteral">"Which FT set to create? "</span>,
03245                                                    (BOOLEAN) TRUE);
03246             }
03247             <span class="keywordflow">if</span> (argumentString != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03248                 <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a> = <a class="code" href="../../d2/d5/editreg_8c.html#a72">ParseArgumentNumeric</a>(&amp;argumentString);
03249             } <span class="keywordflow">else</span> {
03250                 <span class="keywordflow">break</span>;
03251             }
03252 
03253             <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03254                 argumentString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>(batch,
03255                                                    <span class="stringliteral">"Please give an FT group # - "</span>,
03256                                                    (BOOLEAN) TRUE);
03257             }
03258             <span class="keywordflow">if</span> (argumentString != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03259                 group = <a class="code" href="../../d2/d5/editreg_8c.html#a72">ParseArgumentNumeric</a>(&amp;argumentString);
03260             } <span class="keywordflow">else</span> {
03261                 <span class="keywordflow">break</span>;
03262             }
03263 
03264             <span class="keywordflow">for</span> (member = 0; <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>; member++) {
03265                 printf(<span class="stringliteral">"Information for member %d\n"</span>, member);
03266 
03267                 <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03268                     argumentString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>(batch,
03269                                                        <span class="stringliteral">"Disk Number = "</span>,
03270                                                        (BOOLEAN) TRUE);
03271                 }
03272 
03273                 <span class="keywordflow">if</span> (argumentString != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03274                     disk = <a class="code" href="../../d2/d5/editreg_8c.html#a72">ParseArgumentNumeric</a>(&amp;argumentString);
03275                 } <span class="keywordflow">else</span> {
03276                     <span class="keywordflow">break</span>;
03277                 }
03278 
03279                 <span class="keywordflow">if</span> (argumentString == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03280                     argumentString = <a class="code" href="../../d2/d5/editreg_8c.html#a71">GetArgumentString</a>(batch,
03281                                                        <span class="stringliteral">"Partition Number = "</span>,
03282                                                        (BOOLEAN) TRUE);
03283                 }
03284 
03285                 <span class="keywordflow">if</span> (argumentString != <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
03286                     partition = <a class="code" href="../../d2/d5/editreg_8c.html#a72">ParseArgumentNumeric</a>(&amp;argumentString);
03287                 } <span class="keywordflow">else</span> {
03288                     <span class="keywordflow">break</span>;
03289                 }
03290 
03291                 <span class="keywordflow">if</span> (<a class="code" href="../../d2/d5/editreg_8c.html#a84">CreateFtMember</a>(configHeader, disk, partition, type, group, member) == <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>) {
03292                     printf(<span class="stringliteral">"Failed to change member state\n"</span>);
03293                     printf(<span class="stringliteral">"No update will be made\n"</span>);
03294                     doUpdate = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
03295                     <span class="keywordflow">break</span>;
03296                 }
03297             }
03298             <span class="keywordflow">if</span> (doUpdate == <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>) {
03299                 PDISK_REGISTRY diskRegistry;
03300                 diskRegistry = (PDISK_REGISTRY)
03301                              ((PUCHAR) configHeader + configHeader-&gt;DiskInformationOffset);
03302                 DiskRegistrySet(diskRegistry);
03303             }
03304             free(configHeader);
03305             <span class="keywordflow">break</span>;
03306         }
03307 
03308         <span class="keywordflow">default</span>:
03309 
03310             printf(<span class="stringliteral">"WDF homer?!?\n"</span>);
03311             <span class="keywordflow">break</span>;
03312         }
03313     }
03314 } <span class="comment">// main</span>
} <span class="comment">// main</span>
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a75" doxytag="editreg.c::NotImplemented" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID NotImplemented           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l01523">1523</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.
<p>
<pre class="fragment"><div>01529 {
01530     printf(<span class="stringliteral">"Sorry, function not implemented yet.\n"</span>);
01531 }
</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a80" doxytag="editreg.c::OrphanMember" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID OrphanMember           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Type</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Group</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Member</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l01924">1924</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
References <a class="el" href="../../d3/d4/editreg_8c-source.html#l01771">ChangeMemberState()</a>, and <a class="el" href="../../d7/d9/ctaccess_8c-source.html#l00160">Group</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.
<p>
<pre class="fragment"><div>01932                    :
01933 
01934     Set <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> FT state <span class="keywordflow">for</span> a partition to Orphaned.
01935 
01936 Arguments:
01937 
01938     Type   - <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> FT <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a>.
01939     <a class="code" href="../../d6/d0/ctaccess_8c.html#a54">Group</a>  - <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> FT <a class="code" href="../../d6/d0/ctaccess_8c.html#a54">Group</a> number <span class="keywordflow">for</span> that <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a>.
01940     Member - <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> member number within <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> group.
01941 
01942 Return Values:
01943 
01944     None.
01945 
01946 --*/
01947 
01948 {
01949     <a class="code" href="../../d2/d5/editreg_8c.html#a78">ChangeMemberState</a>(Type,
01950                       Group,
01951                       Member,
01952                       Orphaned);
01953 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a72" doxytag="editreg.c::ParseArgumentNumeric" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ULONG ParseArgumentNumeric           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PUCHAR *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ArgumentPtr</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l01233">1233</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
References <a class="el" href="../../d4/d9/user32_8def-source.html#l00799">c</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.
<p>
<pre class="fragment"><div>01239                    :
01240 
01241     This routine prints <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> prompt <span class="keywordflow">if</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> input <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> coming from <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> console.
01242 
01243 Arguments:
01244 
01245     Batch - a <span class="keywordtype">boolean</span> indicating <span class="keywordflow">if</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> input <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> coming from <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> console.
01246 
01247 Return Value:
01248 
01249     None
01250 
01251 --*/
01252 
01253 {
01254     UCHAR   <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>;
01255     ULONG   number;
01256     <span class="keywordtype">int</span>     i;
01257     BOOLEAN complete = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
01258     PUCHAR  argument = *ArgumentPtr;
01259 
01260     <span class="keywordflow">while</span> (*argument == <span class="charliteral">' '</span>) {
01261 
01262         <span class="comment">//</span>
01263         <span class="comment">// skip spaces.</span>
01264         <span class="comment">//</span>
01265 
01266         argument++;
01267     }
01268 
01269     <span class="comment">//</span>
01270     <span class="comment">// Assume there is only one option to parse until proven</span>
01271     <span class="comment">// otherwise.</span>
01272     <span class="comment">//</span>
01273 
01274     *ArgumentPtr = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
01275 
01276     i = 0;
01277 
01278     <span class="keywordflow">while</span> (complete == <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>) {
01279 
01280         <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a> = argument[i];
01281 
01282         <span class="keywordflow">switch</span> (<a class="code" href="../../d2/d0/nt6_2user32_8def.html#a35">c</a>) {
01283 
01284         <span class="keywordflow">case</span> <span class="charliteral">'\n'</span>:
01285         <span class="keywordflow">case</span> <span class="charliteral">'\r'</span>:
01286         <span class="keywordflow">case</span> <span class="charliteral">'\t'</span>:
01287         <span class="keywordflow">case</span> <span class="charliteral">' '</span>:
01288 
01289             <span class="comment">//</span>
01290             <span class="comment">// Update the caller argument pointer to the remaining string.</span>
01291             <span class="comment">//</span>
01292 
01293             *ArgumentPtr = &amp;argument[i + 1];
01294 
01295             <span class="comment">//</span>
01296             <span class="comment">// fall through.</span>
01297             <span class="comment">//</span>
01298 
01299         <span class="keywordflow">case</span> <span class="charliteral">'\0'</span>:
01300 
01301             argument[i] = <span class="charliteral">'\0'</span>;
01302             complete = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
01303             <span class="keywordflow">break</span>;
01304 
01305         <span class="keywordflow">default</span>:
01306 
01307             i++;
01308             <span class="keywordflow">break</span>;
01309         }
01310 
01311     }
01312 
01313     <span class="keywordflow">if</span> (i &gt; 0) {
01314         number = (ULONG) atoi(argument);
01315     } <span class="keywordflow">else</span> {
01316         number = (ULONG) -1;
01317     }
01318 
01319     <span class="keywordflow">return</span> number;
01320 
01321 } <span class="comment">// ParseArgumentNumeric</span>

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a65" doxytag="editreg.c::ProcessHex" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> BOOLEAN ProcessHex           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PUCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>String</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Value</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00678">678</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
References <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d5/d8/talloc_8c-source.html#l00027">String</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l01990">FixDisk()</a>.
<p>
<pre class="fragment"><div>00685                    :
00686 
00687 Arguments:
00688 
00689 Return Value:
00690 
00691 --*/
00692 
00693 {
00694     ULONG  workValue;
00695     <span class="keywordtype">int</span>    i;
00696     PUCHAR cp;
00697 
00698     <span class="keywordflow">if</span> (<a class="code" href="../../d4/d9/talloc_8c.html#a0">String</a> == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00699         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00700     }
00701 
00702     cp = <a class="code" href="../../d4/d9/talloc_8c.html#a0">String</a>;
00703 
00704     <span class="comment">//</span>
00705     <span class="comment">// 'i' is an index value.  It contains the maximum index into the String.</span>
00706     <span class="comment">// Therefore it is initialized to -1.</span>
00707     <span class="comment">//</span>
00708 
00709     i = -1;
00710     <span class="keywordflow">while</span> ((*cp) &amp;&amp; (*cp != <span class="charliteral">'\n'</span>)) {
00711         i++;
00712         cp++;
00713     }
00714 
00715     <span class="keywordflow">if</span> (i &gt;= 8) {
00716 
00717         <span class="comment">//</span>
00718         <span class="comment">// String to long for a long.</span>
00719         <span class="comment">//</span>
00720 
00721         <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00722     }
00723 
00724     workValue = 0;
00725     cp = <a class="code" href="../../d4/d9/talloc_8c.html#a0">String</a>;
00726     <span class="keywordflow">while</span> (*cp) {
00727         *cp = (UCHAR) tolower(*cp);
00728 
00729         <span class="keywordflow">switch</span> (*cp) {
00730 
00731         <span class="keywordflow">case</span> <span class="charliteral">'0'</span>:
00732         <span class="keywordflow">case</span> <span class="charliteral">'1'</span>:
00733         <span class="keywordflow">case</span> <span class="charliteral">'2'</span>:
00734         <span class="keywordflow">case</span> <span class="charliteral">'3'</span>:
00735         <span class="keywordflow">case</span> <span class="charliteral">'4'</span>:
00736         <span class="keywordflow">case</span> <span class="charliteral">'5'</span>:
00737         <span class="keywordflow">case</span> <span class="charliteral">'6'</span>:
00738         <span class="keywordflow">case</span> <span class="charliteral">'7'</span>:
00739         <span class="keywordflow">case</span> <span class="charliteral">'8'</span>:
00740         <span class="keywordflow">case</span> <span class="charliteral">'9'</span>:
00741             workValue |= (((*cp) - <span class="charliteral">'0'</span>) &lt;&lt; (i * 4));
00742             <span class="keywordflow">break</span>;
00743 
00744         <span class="keywordflow">case</span> <span class="charliteral">'a'</span>:
00745         <span class="keywordflow">case</span> <span class="charliteral">'b'</span>:
00746         <span class="keywordflow">case</span> <span class="charliteral">'c'</span>:
00747         <span class="keywordflow">case</span> <span class="charliteral">'d'</span>:
00748         <span class="keywordflow">case</span> <span class="charliteral">'e'</span>:
00749         <span class="keywordflow">case</span> <span class="charliteral">'f'</span>:
00750             workValue |= ((((*cp) - <span class="charliteral">'a'</span>) + 10) &lt;&lt; (i * 4));
00751             <span class="keywordflow">break</span>;
00752 
00753         <span class="keywordflow">default</span>:
00754 
00755             <span class="comment">//</span>
00756             <span class="comment">// Illegal value, just punt.</span>
00757             <span class="comment">//</span>
00758 
00759             <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00760             <span class="keywordflow">break</span>;
00761         }
00762         cp++;
00763         i--;
00764     }
00765 
00766     *Value = workValue;
00767     <span class="keywordflow">return</span> <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00768 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a73" doxytag="editreg.c::PromptUser" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID PromptUser           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">BOOLEAN&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>Batch</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l01325">1325</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
References <a class="el" href="../../d3/d4/editreg_8c-source.html#l00308">CurrentDirectory</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l01355">GetCommand()</a>.
<p>
<pre class="fragment"><div>01331                    :
01332 
01333     This routine prints <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> prompt <span class="keywordflow">if</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> input <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> coming from <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> console.
01334 
01335 Arguments:
01336 
01337     Batch - a <span class="keywordtype">boolean</span> indicating <span class="keywordflow">if</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> input <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> coming from <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> console.
01338 
01339 Return Value:
01340 
01341     None
01342 
01343 --*/
01344 
01345 {
01346     <span class="keywordflow">if</span> (!Batch) {
01347 
01348         printf(<span class="stringliteral">"\n%s&gt; "</span>, CurrentDirectory);
01349     }
01350 
01351 } <span class="comment">// PromptUser</span>

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a81" doxytag="editreg.c::RegenerateMember" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID RegenerateMember           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Type</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Group</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Member</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l01957">1957</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
References <a class="el" href="../../d3/d4/editreg_8c-source.html#l01771">ChangeMemberState()</a>, and <a class="el" href="../../d7/d9/ctaccess_8c-source.html#l00160">Group</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.
<p>
<pre class="fragment"><div>01965                    :
01966 
01967     Set <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> FT state <span class="keywordflow">for</span> a partition to regenerate.
01968 
01969 Arguments:
01970 
01971     Type   - <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> FT <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a>.
01972     <a class="code" href="../../d6/d0/ctaccess_8c.html#a54">Group</a>  - <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> FT <a class="code" href="../../d6/d0/ctaccess_8c.html#a54">Group</a> number <span class="keywordflow">for</span> that <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a>.
01973     Member - <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> member number within <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> group.
01974 
01975 Return Values:
01976 
01977     None.
01978 
01979 --*/
01980 
01981 {
01982     <a class="code" href="../../d2/d5/editreg_8c.html#a78">ChangeMemberState</a>(Type,
01983                       Group,
01984                       Member,
01985                       Regenerating);
01986 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a79" doxytag="editreg.c::RestoreOrphan" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID RestoreOrphan           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Type</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Group</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN ULONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Member</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l01891">1891</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
References <a class="el" href="../../d3/d4/editreg_8c-source.html#l01771">ChangeMemberState()</a>, and <a class="el" href="../../d7/d9/ctaccess_8c-source.html#l00160">Group</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.
<p>
<pre class="fragment"><div>01899                    :
01900 
01901     Set <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> FT state <span class="keywordflow">for</span> a partition back to Healthy.
01902 
01903 Arguments:
01904 
01905     Type   - <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> FT <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a>.
01906     <a class="code" href="../../d6/d0/ctaccess_8c.html#a54">Group</a>  - <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> FT <a class="code" href="../../d6/d0/ctaccess_8c.html#a54">Group</a> number <span class="keywordflow">for</span> that <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a>.
01907     Member - <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> member number within <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> group.
01908 
01909 Return Values:
01910 
01911     None.
01912 
01913 --*/
01914 
01915 {
01916     <a class="code" href="../../d2/d5/editreg_8c.html#a78">ChangeMemberState</a>(Type,
01917                       Group,
01918                       Member,
01919                       Healthy);
01920 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a67" doxytag="editreg.c::UnicodePrint" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void UnicodePrint           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PUNICODE_STRING&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>UnicodeString</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00866">866</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
References <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d3/d9/aw_8h-source.html#l00031">L</a>, <a class="el" href="../../d7/d5/nls_8c-source.html#l00246">RtlUnicodeStringToAnsiString()</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l00104">WORK_BUFFER_SIZE</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l00903">Directory()</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l00966">List()</a>.
<p>
<pre class="fragment"><div>00872                    :
00873 
00874     Print a unicode string.
00875 
00876 Arguments:
00877 
00878     UnicodeString - pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> string.
00879 
00880 Return Value:
00881 
00882     None.
00883 
00884 --*/
00885 {
00886     ANSI_STRING ansiString;
00887     PUCHAR      tempbuffer = (PUCHAR) malloc(WORK_BUFFER_SIZE);
00888 
00889     ansiString.MaximumLength = <a class="code" href="../../d2/d5/editreg_8c.html#a0">WORK_BUFFER_SIZE</a>;
00890     ansiString.Length = 0<a class="code" href="../../d2/d0/aw_8h.html#a3">L</a>;
00891     ansiString.Buffer = tempbuffer;
00892 
00893     <a class="code" href="../../d6/d6/nls_8c.html#a23">RtlUnicodeStringToAnsiString</a>(&amp;ansiString,
00894                                  UnicodeString,
00895                                  (BOOLEAN) FALSE);
00896     printf(<span class="stringliteral">"%s"</span>, ansiString.Buffer);
00897     free(tempbuffer);
00898     <span class="keywordflow">return</span>;
00899 }

</div></pre>    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a45" doxytag="editreg.c::CommandHelp" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PUCHAR <a class="el" href="../../d2/d5/editreg_8c.html#a45">CommandHelp</a>[]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div> {

    <span class="stringliteral">"Displays keys."</span>,
    <span class="stringliteral">"Create a new key."</span>,
    <span class="stringliteral">"Displays values withing a key."</span>,
    <span class="stringliteral">"Change current location in registry."</span>,
    <span class="stringliteral">"This help information."</span>,
    <span class="stringliteral">"Exit the program."</span>,
    <span class="stringliteral">"Set internal debug on for this program."</span>,
    <span class="stringliteral">"Set a new value within a key."</span>,
    <span class="stringliteral">"Delete a key."</span>,
    <span class="stringliteral">"Unset (erase) a key value."</span>,
    <span class="stringliteral">"Unset (erase) a key value."</span>,
    <span class="stringliteral">"Change dump format to Longs (default)."</span>,
    <span class="stringliteral">"Change dump format to Shorts."</span>,
    <span class="stringliteral">"Change dump format to Bytes."</span>,
    <span class="stringliteral">"Toggle dump mode (force hex dump for all value types)."</span>,
    <span class="stringliteral">"Display the disk registry."</span>,
    <span class="stringliteral">"Set disk signatures in registry."</span>,
    <span class="stringliteral">"Restore an FT orphan to working state."</span>,
    <span class="stringliteral">"List the information on the drivers from the registry."</span>,
    <span class="stringliteral">"Orphan a member of an FT set."</span>,
    <span class="stringliteral">"Mark a FT set member for regeneration on next boot."</span>,
    <span class="stringliteral">"Mark a stripe with parity for initialization on next boot."</span>,
    <span class="stringliteral">"Construct an FT set from existing partitions"</span>,
    <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>

}
</div></pre>
<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00269">269</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a48" doxytag="editreg.c::CommandLine" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> UCHAR <a class="el" href="../../d2/d5/editreg_8c.html#a48">CommandLine</a>[512]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00314">314</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l01120">GetArgumentString()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l01355">GetCommand()</a>, <a class="el" href="../../d9/d1/ldrinit_8c-source.html#l00616">LdrpInitializeProcess()</a>, <a class="el" href="../../d9/d1/ldrinit_8c-source.html#l01462">LdrShutdownProcess()</a>, and <a class="el" href="../../d1/d1/rtlexec_8c-source.html#l00110">RtlCreateProcessParameters()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a44" doxytag="editreg.c::CommandMap" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int <a class="el" href="../../d2/d5/editreg_8c.html#a44">CommandMap</a>[]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00226">226</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l01355">GetCommand()</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a43" doxytag="editreg.c::Commands" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PUCHAR <a class="el" href="../../d2/d5/editreg_8c.html#a43">Commands</a>[]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00184">184</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l01355">GetCommand()</a>, <a class="el" href="../../d3/d0/client_2cmdline_8c-source.html#l01024">GetConsoleCommandHistoryA()</a>, <a class="el" href="../../d3/d0/client_2cmdline_8c-source.html#l00945">GetConsoleCommandHistoryInternal()</a>, <a class="el" href="../../d3/d0/client_2cmdline_8c-source.html#l01010">GetConsoleCommandHistoryW()</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a47" doxytag="editreg.c::CurrentDirectory" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> UCHAR <a class="el" href="../../d2/d5/editreg_8c.html#a47">CurrentDirectory</a>[512]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00308">308</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l01325">PromptUser()</a>, and <a class="el" href="../../d1/d1/rtlexec_8c-source.html#l00110">RtlCreateProcessParameters()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a51" doxytag="editreg.c::Debug" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ULONG <a class="el" href="../../d2/d5/editreg_8c.html#a51">Debug</a> = 0          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00338">338</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l00411">FtDeleteKey()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00557">FtDeleteValue()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00357">FtOpenKey()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l00602">FtSetValue()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l01355">GetCommand()</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a55" doxytag="editreg.c::DumpControl" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="../../d2/d5/editreg_8c.html#a52">DUMP_CONTROL</a> <a class="el" href="../../d2/d5/editreg_8c.html#a55">DumpControl</a> = InLongs          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00354">354</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l00772">Dump()</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a54" doxytag="editreg.c::ForceDump" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ULONG <a class="el" href="../../d2/d5/editreg_8c.html#a54">ForceDump</a> = 0          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00352">352</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l00966">List()</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a49" doxytag="editreg.c::SetPrompts" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PUCHAR <a class="el" href="../../d2/d5/editreg_8c.html#a49">SetPrompts</a>[]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div> {

    <span class="stringliteral">"Name =&gt; "</span>,
    <span class="stringliteral">"Value =&gt; "</span>,
    <span class="stringliteral">"Index =&gt; "</span>,
    <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>
}
</div></pre>
<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00320">320</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a41" doxytag="editreg.c::StartDescription" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PUCHAR <a class="el" href="../../d2/d5/editreg_8c.html#a41">StartDescription</a>[]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div>
{
    <span class="stringliteral">"Boot loader"</span>,
    <span class="stringliteral">"System"</span>,
    <span class="stringliteral">"2"</span>,
    <span class="stringliteral">"3"</span>,
    
    
    
    

    <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>
}
</div></pre>
<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00077">77</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a42" doxytag="editreg.c::TypeDescription" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PUCHAR <a class="el" href="../../d2/d5/editreg_8c.html#a42">TypeDescription</a>[]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div>
{
    <span class="stringliteral">"System driver"</span>,
    <span class="stringliteral">"File system"</span>,
    <span class="stringliteral">"Service"</span>,
    <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>
}
</div></pre>
<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00091">91</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a39" doxytag="editreg.c::TypeNames" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PUCHAR <a class="el" href="../../d2/d5/editreg_8c.html#a39">TypeNames</a>[]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div>
{
    <span class="stringliteral">"REG_NONE"</span>,
    <span class="stringliteral">"REG_SZ"</span>,
    <span class="stringliteral">"REG_BINARY"</span>,
    <span class="stringliteral">"REG_DWORD"</span>,
    <span class="stringliteral">"REG_DWORD_LITTLE_ENDIAN"</span>,
    <span class="stringliteral">"REG_DWORD_BIG_ENDIAN"</span>,
    <span class="stringliteral">"REG_LINK"</span>,
    <span class="stringliteral">"REG_MULTI_SZ"</span>,
    <span class="stringliteral">"REG_RESOURCE_LIST"</span>,
    <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>
}
</div></pre>
<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00046">46</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l00650">FindTypeString()</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a40" doxytag="editreg.c::TypeNumbers" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ULONG <a class="el" href="../../d2/d5/editreg_8c.html#a40">TypeNumbers</a>[]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div>
{
    REG_NONE,
    REG_SZ,
    REG_BINARY,
    REG_DWORD,
    REG_DWORD_LITTLE_ENDIAN,
    REG_DWORD_BIG_ENDIAN,
    REG_LINK,
    REG_MULTI_SZ,
    REG_RESOURCE_LIST
}
</div></pre>
<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00060">60</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l00650">FindTypeString()</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a50" doxytag="editreg.c::Version" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PUCHAR <a class="el" href="../../d2/d5/editreg_8c.html#a50">Version</a> = "Version 1.30"          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00332">332</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d0/d1/pnpsubs_8c-source.html#l05675">IopDeviceCapabilitiesToRegistry()</a>, <a class="el" href="../../d2/d2/ldrrsrc_8c-source.html#l01312">LdrpGetFileVersion()</a>, <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>, and <a class="el" href="../../d0/d1/usrbench_8c-source.html#l01638">WriteBatchResults()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a46" doxytag="editreg.c::WorkingDirectory" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> UCHAR <a class="el" href="../../d2/d5/editreg_8c.html#a46">WorkingDirectory</a>[512]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d4/editreg_8c-source.html#l00302">302</a> of file <a class="el" href="../../d3/d4/editreg_8c-source.html">editreg.c</a>.
<p>
Referenced by <a class="el" href="../../d3/d4/editreg_8c-source.html#l02369">ListDrivers()</a>, and <a class="el" href="../../d3/d4/editreg_8c-source.html#l02460">main()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:43:32 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
