<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: udfinit.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>udfinit.c File Reference</h1><code>#include "UdfProcs.h"</code><br>

<p>
<a href="../../d3/d7/udfinit_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d8/udfinit_8c.html#a0">BugCheckFileId</a>&nbsp;&nbsp;&nbsp;(UDFS_BUG_CHECK_UDFINIT)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d8/udfinit_8c.html#a1">Dbg</a>&nbsp;&nbsp;&nbsp;(UDFS_DEBUG_LEVEL_UDFINIT)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d8/udfinit_8c.html#a2">NPagedInit</a>(L, S, T, D)&nbsp;&nbsp;&nbsp;{ ExInitializeNPagedLookasideList( (L), NULL, NULL, POOL_RAISE_IF_ALLOCATION_FAILURE, S, T, D); }</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d8/udfinit_8c.html#a3">PagedInit</a>(L, S, T, D)&nbsp;&nbsp;&nbsp;{ ExInitializePagedLookasideList(  (L), NULL, NULL, POOL_RAISE_IF_ALLOCATION_FAILURE, S, T, D); }</td></tr>

<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>NTSTATUS&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d8/udfinit_8c.html#a4">DriverEntry</a> (IN <a class="el" href="../../d4/d9/struct__DRIVER__OBJECT.html">PDRIVER_OBJECT</a> DriverObject, IN PUNICODE_STRING RegistryPath)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d2/d8/udfinit_8c.html#a5">UdfInitializeGlobalData</a> (IN <a class="el" href="../../d4/d9/struct__DRIVER__OBJECT.html">PDRIVER_OBJECT</a> DriverObject, IN <a class="el" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> *FileSystemDeviceObjects)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a0" doxytag="udfinit.c::BugCheckFileId" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define BugCheckFileId&nbsp;&nbsp;&nbsp;(UDFS_BUG_CHECK_UDFINIT)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d7/udfinit_8c-source.html#l00027">27</a> of file <a class="el" href="../../d3/d7/udfinit_8c-source.html">udfinit.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="udfinit.c::Dbg" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define Dbg&nbsp;&nbsp;&nbsp;(UDFS_DEBUG_LEVEL_UDFINIT)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d7/udfinit_8c-source.html#l00033">33</a> of file <a class="el" href="../../d3/d7/udfinit_8c-source.html">udfinit.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="udfinit.c::NPagedInit" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define NPagedInit          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">L,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>S,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>T,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>D&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;{ ExInitializeNPagedLookasideList( (L), NULL, NULL, POOL_RAISE_IF_ALLOCATION_FAILURE, S, T, D); }</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d3/d7/udfinit_8c-source.html#l00183">UdfInitializeGlobalData()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="udfinit.c::PagedInit" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define PagedInit          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">L,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>S,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>T,         <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>D&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;{ ExInitializePagedLookasideList(  (L), NULL, NULL, POOL_RAISE_IF_ALLOCATION_FAILURE, S, T, D); }</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Referenced by <a class="el" href="../../d3/d7/udfinit_8c-source.html#l00183">UdfInitializeGlobalData()</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a4" doxytag="udfinit.c::DriverEntry" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> NTSTATUS DriverEntry           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d4/d9/struct__DRIVER__OBJECT.html">PDRIVER_OBJECT</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>DriverObject</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN PUNICODE_STRING&nbsp;</td>
          <td class="mdname" nowrap> <em>RegistryPath</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d7/d6/fs__rec_8c-source.html#l00067">67</a> of file <a class="el" href="../../d7/d6/fs__rec_8c-source.html">fs_rec.c</a>.
<p>
<pre class="fragment"><div>00074                    :
00075 
00076     This routine <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> invoked once when <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> driver <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> loaded to allow <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> driver
00077     to initialize itself.  The initialization <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> driver consists of simply
00078     creating a device object <span class="keywordflow">for</span> each <a class="code" href="../../d3/d5/i386_2trapc_8c.html#a9">type</a> of <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a9">file</a> system recognized by <span class="keyword">this</span>
00079     driver, and then registering each as active <a class="code" href="../../d2/d0/nt6_2user32_8def.html#a9">file</a> systems.
00080 
00081 Arguments:
00082 
00083     DriverObject - Pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> driver object <span class="keywordflow">for</span> <span class="keyword">this</span> driver.
00084 
00085     RegistryPath - Pointer to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> registry service node <span class="keywordflow">for</span> <span class="keyword">this</span> driver.
00086 
00087 Return Value:
00088 
00089     The function value <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> <span class="keyword">final</span> status of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> initialization <span class="keywordflow">for</span> <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> driver.
00090 
00091 --*/
00092 
00093 {
00094     <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> UdfsMainRecognizerDeviceObject;
00095     <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a> status;
00096     ULONG count = 0;
00097 
00098     <a class="code" href="../../d0/d9/ntosdef_8h.html#a28">PAGED_CODE</a>();
00099 
00100     <span class="comment">//</span>
00101     <span class="comment">// Mark the entire driver as pagable.</span>
00102     <span class="comment">//</span>
00103 
00104     <a class="code" href="../../d8/d8/sysload_8c.html#a56">MmPageEntireDriver</a> ((PVOID)DriverEntry);
00105 
00106     <span class="comment">//</span>
00107     <span class="comment">// Begin by initializing the driver object so that it the driver is</span>
00108     <span class="comment">// prepared to provide services.</span>
00109     <span class="comment">//</span>
00110 
00111     DriverObject-&gt;MajorFunction[<a class="code" href="../../d0/d5/io_8h.html#a26">IRP_MJ_FILE_SYSTEM_CONTROL</a>] = <a class="code" href="../../d6/d7/fs__rec_8c.html#a7">FsRecFsControl</a>;
00112     DriverObject-&gt;MajorFunction[<a class="code" href="../../d0/d5/io_8h.html#a13">IRP_MJ_CREATE</a>] = <a class="code" href="../../d6/d7/fs__rec_8c.html#a5">FsRecCreate</a>;
00113     DriverObject-&gt;MajorFunction[<a class="code" href="../../d0/d5/io_8h.html#a31">IRP_MJ_CLEANUP</a>] = <a class="code" href="../../d6/d7/fs__rec_8c.html#a4">FsRecCleanupClose</a>;
00114     DriverObject-&gt;MajorFunction[<a class="code" href="../../d0/d5/io_8h.html#a15">IRP_MJ_CLOSE</a>] = <a class="code" href="../../d6/d7/fs__rec_8c.html#a4">FsRecCleanupClose</a>;
00115     DriverObject-&gt;DriverUnload = <a class="code" href="../../d6/d7/fs__rec_8c.html#a8">FsRecUnload</a>;
00116 
00117     <a class="code" href="../../d6/d7/fs__rec_8c.html#a2">FsRecLoadSync</a> = <a class="code" href="../../d5/d8/ex_8h.html#a4">ExAllocatePoolWithTag</a>( NonPagedPool, <span class="keyword">sizeof</span>(<a class="code" href="../../d2/d6/struct__KEVENT.html">KEVENT</a>), FSREC_POOL_TAG );
00118 
00119     <span class="keywordflow">if</span> (<a class="code" href="../../d6/d7/fs__rec_8c.html#a2">FsRecLoadSync</a> == <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>) {
00120 
00121         <span class="keywordflow">return</span> STATUS_INSUFFICIENT_RESOURCES;
00122     }
00123 
00124     <a class="code" href="../../d4/d9/ke_8h.html#a20">KeInitializeEvent</a>( FsRecLoadSync, SynchronizationEvent, TRUE );
00125 
00126     <span class="comment">//</span>
00127     <span class="comment">// Create and initialize each of the file system driver type device</span>
00128     <span class="comment">// objects.</span>
00129     <span class="comment">//</span>
00130 
00131     status = <a class="code" href="../../d7/d7/fs__rec_8h.html#a26">FsRecCreateAndRegisterDO</a>( DriverObject,
00132                                        NULL,
00133                                        NULL,
00134                                        L<span class="stringliteral">"\\Cdfs"</span>,
00135                                        L<span class="stringliteral">"\\FileSystem\\CdfsRecognizer"</span>,
00136                                        CdfsFileSystem,
00137                                        FILE_DEVICE_CD_ROM_FILE_SYSTEM );
00138     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( status )) {
00139         count++;
00140     }
00141 
00142     status = <a class="code" href="../../d7/d7/fs__rec_8h.html#a26">FsRecCreateAndRegisterDO</a>( DriverObject,
00143                                        NULL,
00144                                        &amp;UdfsMainRecognizerDeviceObject,
00145                                        L<span class="stringliteral">"\\UdfsCdRom"</span>,
00146                                        L<span class="stringliteral">"\\FileSystem\\UdfsCdRomRecognizer"</span>,
00147                                        UdfsFileSystem,
00148                                        FILE_DEVICE_CD_ROM_FILE_SYSTEM );
00149     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( status )) {
00150         count++;
00151     }
00152 
00153     status = <a class="code" href="../../d7/d7/fs__rec_8h.html#a26">FsRecCreateAndRegisterDO</a>( DriverObject,
00154                                        UdfsMainRecognizerDeviceObject,
00155                                        NULL,
00156                                        L<span class="stringliteral">"\\UdfsDisk"</span>,
00157                                        L<span class="stringliteral">"\\FileSystem\\UdfsDiskRecognizer"</span>,
00158                                        UdfsFileSystem,
00159                                        FILE_DEVICE_DISK_FILE_SYSTEM );
00160     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( status )) {
00161         count++;
00162     }
00163 
00164     status = <a class="code" href="../../d7/d7/fs__rec_8h.html#a26">FsRecCreateAndRegisterDO</a>( DriverObject,
00165                                        NULL,
00166                                        NULL,
00167                                        L<span class="stringliteral">"\\Fat"</span>,
00168                                        L<span class="stringliteral">"\\FileSystem\\FatRecognizer"</span>,
00169                                        FatFileSystem,
00170                                        FILE_DEVICE_DISK_FILE_SYSTEM );
00171     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( status )) {
00172         count++;
00173     }
00174 
00175     status = <a class="code" href="../../d7/d7/fs__rec_8h.html#a26">FsRecCreateAndRegisterDO</a>( DriverObject,
00176                                        NULL,
00177                                        NULL,
00178                                        L<span class="stringliteral">"\\Ntfs"</span>,
00179                                        L<span class="stringliteral">"\\FileSystem\\NtfsRecognizer"</span>,
00180                                        NtfsFileSystem,
00181                                        FILE_DEVICE_DISK_FILE_SYSTEM );
00182     <span class="keywordflow">if</span> (<a class="code" href="../../d5/d6/stierr_8h.html#a0">NT_SUCCESS</a>( status )) {
00183         count++;
00184     }
00185 
00186     <span class="keywordflow">if</span> (count) {
00187         <span class="keywordflow">return</span> STATUS_SUCCESS;
00188     } <span class="keywordflow">else</span> {
00189         <span class="keywordflow">return</span> STATUS_IMAGE_ALREADY_LOADED;
00190     }
00191 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="udfinit.c::UdfInitializeGlobalData" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID UdfInitializeGlobalData           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">IN <a class="el" href="../../d4/d9/struct__DRIVER__OBJECT.html">PDRIVER_OBJECT</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>DriverObject</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>IN <a class="el" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>FileSystemDeviceObjects</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d3/d7/udfinit_8c-source.html#l00183">183</a> of file <a class="el" href="../../d3/d7/udfinit_8c-source.html">udfinit.c</a>.
<p>
References <a class="el" href="../../d1/d4/io_8h-source.html#l00953">_FAST_IO_DISPATCH::AcquireFileForNtCreateSection</a>, <a class="el" href="../../d5/d1/cache_8h-source.html#l00125">_CACHE_MANAGER_CALLBACKS::AcquireForLazyWrite</a>, <a class="el" href="../../d5/d1/cache_8h-source.html#l00127">_CACHE_MANAGER_CALLBACKS::AcquireForReadAhead</a>, <a class="el" href="../../d7/d7/udfstruc_8h-source.html#l00254">_UDF_DATA::AsyncCloseQueue</a>, <a class="el" href="../../d7/d7/udfstruc_8h-source.html#l00287">_UDF_DATA::CacheManagerCallbacks</a>, <a class="el" href="../../d7/d7/udfstruc_8h-source.html#l00288">_UDF_DATA::CacheManagerVolumeCallbacks</a>, <a class="el" href="../../d7/d7/udfstruc_8h-source.html#l00294">_UDF_DATA::CloseItem</a>, <a class="el" href="../../d7/d7/udfstruc_8h-source.html#l00280">_UDF_DATA::DataResource</a>, <a class="el" href="../../d7/d7/udfstruc_8h-source.html#l00264">_UDF_DATA::DelayedCloseQueue</a>, <a class="el" href="../../d7/d7/udfstruc_8h-source.html#l00210">_UDF_DATA::DriverObject</a>, <a class="el" href="../../d6/d7/ex_8h-source.html#l00367">ExInitializeFastMutex</a>, <a class="el" href="../../d6/d7/ex_8h-source.html#l02473">ExInitializeResource</a>, <a class="el" href="../../d6/d7/ex_8h-source.html#l01961">ExInitializeWorkItem</a>, <a class="el" href="../../d0/d5/io_8h.html#a319">FAST_IO_DISPATCH</a>, <a class="el" href="../../d1/d4/io_8h-source.html#l00943">_FAST_IO_DISPATCH::FastIoCheckIfPossible</a>, <a class="el" href="../../d1/d4/io_8h-source.html#l00948">_FAST_IO_DISPATCH::FastIoLock</a>, <a class="el" href="../../d1/d4/io_8h-source.html#l00946">_FAST_IO_DISPATCH::FastIoQueryBasicInfo</a>, <a class="el" href="../../d1/d4/io_8h-source.html#l00956">_FAST_IO_DISPATCH::FastIoQueryNetworkOpenInfo</a>, <a class="el" href="../../d1/d4/io_8h-source.html#l00947">_FAST_IO_DISPATCH::FastIoQueryStandardInfo</a>, <a class="el" href="../../d1/d4/io_8h-source.html#l00944">_FAST_IO_DISPATCH::FastIoRead</a>, <a class="el" href="../../d1/d4/io_8h-source.html#l00950">_FAST_IO_DISPATCH::FastIoUnlockAll</a>, <a class="el" href="../../d1/d4/io_8h-source.html#l00951">_FAST_IO_DISPATCH::FastIoUnlockAllByKey</a>, <a class="el" href="../../d1/d4/io_8h-source.html#l00949">_FAST_IO_DISPATCH::FastIoUnlockSingle</a>, <a class="el" href="../../d7/d7/udfstruc_8h-source.html#l00232">_UDF_DATA::FileSystemDeviceObjects</a>, <a class="el" href="../../d4/d0/fastio_8c-source.html#l00054">FsRtlCopyRead()</a>, <a class="el" href="../../d7/d7/udfstruc_8h-source.html#l00266">_UDF_DATA::MaxDelayedCloseCount</a>, <a class="el" href="../../d7/d7/udfstruc_8h-source.html#l00267">_UDF_DATA::MinDelayedCloseCount</a>, <a class="el" href="../../d2/d1/mm_8h.html#a343a167">MmLargeSystem</a>, <a class="el" href="../../d2/d1/mm_8h.html#a343a166">MmMediumSystem</a>, <a class="el" href="../../d6/d0/mminit_8c-source.html#l03073">MmQuerySystemSize()</a>, <a class="el" href="../../d2/d1/mm_8h.html#a343a165">MmSmallSystem</a>, <a class="el" href="../../d7/d7/udfstruc_8h-source.html#l00204">_UDF_DATA::NodeByteSize</a>, <a class="el" href="../../d7/d7/udfstruc_8h-source.html#l00203">_UDF_DATA::NodeTypeCode</a>, <a class="el" href="../../d2/d8/udfinit_8c.html#a2">NPagedInit</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d7/d7/udfstruc_8h-source.html#l00195">NUMBER_OF_FS_OBJECTS</a>, <a class="el" href="../../d2/d8/udfinit_8c.html#a3">PagedInit</a>, <a class="el" href="../../d6/d7/ex_8h-source.html#l01950">PWORKER_THREAD_ROUTINE</a>, <a class="el" href="../../d1/d4/io_8h-source.html#l00954">_FAST_IO_DISPATCH::ReleaseFileForNtCreateSection</a>, <a class="el" href="../../d5/d1/cache_8h-source.html#l00126">_CACHE_MANAGER_CALLBACKS::ReleaseFromLazyWrite</a>, <a class="el" href="../../d5/d1/cache_8h-source.html#l00128">_CACHE_MANAGER_CALLBACKS::ReleaseFromReadAhead</a>, <a class="el" href="../../d7/d7/udfstruc_8h-source.html#l01067">SIZEOF_FCB_DATA</a>, <a class="el" href="../../d7/d7/udfstruc_8h-source.html#l01070">SIZEOF_FCB_INDEX</a>, <a class="el" href="../../d7/d7/udfstruc_8h-source.html#l00822">SIZEOF_LOOKASIDE_LCB</a>, <a class="el" href="../../d1/d4/io_8h-source.html#l00942">_FAST_IO_DISPATCH::SizeOfFastIoDispatch</a>, <a class="el" href="../../d2/d6/udfs_2nodetype_8h-source.html#l00157">TAG_CCB</a>, <a class="el" href="../../d2/d6/udfs_2nodetype_8h-source.html#l00161">TAG_FCB_DATA</a>, <a class="el" href="../../d2/d6/udfs_2nodetype_8h-source.html#l00162">TAG_FCB_INDEX</a>, <a class="el" href="../../d2/d6/udfs_2nodetype_8h-source.html#l00163">TAG_FCB_NONPAGED</a>, <a class="el" href="../../d2/d6/udfs_2nodetype_8h-source.html#l00169">TAG_IRP_CONTEXT</a>, <a class="el" href="../../d2/d6/udfs_2nodetype_8h-source.html#l00171">TAG_LCB</a>, <a class="el" href="../../d6/d8/udfstruc_8h.html#a58">UDF_DATA</a>, <a class="el" href="../../d5/d8/resrcsup_8c-source.html#l00136">UdfAcquireForCache()</a>, <a class="el" href="../../d5/d8/resrcsup_8c-source.html#l00267">UdfAcquireForCreateSection()</a>, <a class="el" href="../../d1/d7/udfdata_8c-source.html#l00193">UdfCcbLookasideList</a>, <a class="el" href="../../d1/d7/udfdata_8c-source.html#l00042">UdfData</a>, <a class="el" href="../../d7/d7/udfstruc_8h-source.html#l00274">_UDF_DATA::UdfDataMutex</a>, <a class="el" href="../../d1/d7/udfdata_8c-source.html#l00972">UdfFastIoCheckIfPossible()</a>, <a class="el" href="../../d1/d7/udfdata_8c-source.html#l00043">UdfFastIoDispatch</a>, <a class="el" href="../../d1/d7/udfdata_8c-source.html#l00195">UdfFcbDataLookasideList</a>, <a class="el" href="../../d1/d7/udfdata_8c-source.html#l00194">UdfFcbIndexLookasideList</a>, <a class="el" href="../../d1/d7/udfdata_8c-source.html#l00190">UdfFcbNonPagedLookasideList</a>, <a class="el" href="../../d3/d8/close_8c-source.html#l00099">UdfFspClose()</a>, <a class="el" href="../../d1/d7/udfdata_8c-source.html#l01083">UdfInitializeCrc16()</a>, <a class="el" href="../../d1/d7/udfdata_8c-source.html#l00191">UdfIrpContextLookasideList</a>, <a class="el" href="../../d1/d7/udfdata_8c-source.html#l00196">UdfLcbLookasideList</a>, <a class="el" href="../../d5/d8/resrcsup_8c-source.html#l00208">UdfNoopAcquire()</a>, <a class="el" href="../../d5/d8/resrcsup_8c-source.html#l00239">UdfNoopRelease()</a>, <a class="el" href="../../d5/d8/resrcsup_8c-source.html#l00302">UdfReleaseForCreateSection()</a>, <a class="el" href="../../d5/d8/resrcsup_8c-source.html#l00172">UdfReleaseFromCache()</a>, <a class="el" href="../../d2/d6/udfs_2nodetype_8h-source.html#l00035">UDFS_NTC_DATA_HEADER</a>, <a class="el" href="../../d5/d4/aug98_2dll32_2icc__i386_8h-source.html#l00064">USHORT</a>, and <a class="el" href="../../d7/d7/udfstruc_8h-source.html#l00216">_UDF_DATA::VcbQueue</a>.
<p>
<pre class="fragment"><div>00190                    :
00191 
00192     This routine initializes <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> global Udfs data structures.
00193 
00194 Arguments:
00195 
00196     DriverObject - Supplies <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> driver object <span class="keywordflow">for</span> UDFS.
00197 
00198     FileSystemDeviceObjects - Supplies a vector of device objects <span class="keywordflow">for</span> UDFS.
00199 
00200 Return Value:
00201 
00202     None.
00203 
00204 --*/
00205 
00206 {
00207     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> CcbMaxDepth;
00208     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> FcbDataMaxDepth;
00209     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> FcbIndexMaxDepth;
00210     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> FcbNonPagedMaxDepth;
00211     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> IrpContextMaxDepth;
00212     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a> LcbMaxDepth;
00213 
00214     <span class="comment">//</span>
00215     <span class="comment">//  Start by initializing the FastIoDispatch Table.</span>
00216     <span class="comment">//</span>
00217 
00218     RtlZeroMemory( &amp;UdfFastIoDispatch, <span class="keyword">sizeof</span>( <a class="code" href="../../d5/d9/struct__FAST__IO__DISPATCH.html">FAST_IO_DISPATCH</a> ));
00219 
00220     <a class="code" href="../../d0/d8/udfdata_8c.html#a3">UdfFastIoDispatch</a>.<a class="code" href="../../d5/d9/struct__FAST__IO__DISPATCH.html#o0">SizeOfFastIoDispatch</a> =    <span class="keyword">sizeof</span>(<a class="code" href="../../d5/d9/struct__FAST__IO__DISPATCH.html">FAST_IO_DISPATCH</a>);
00221 
00222     <a class="code" href="../../d0/d8/udfdata_8c.html#a3">UdfFastIoDispatch</a>.<a class="code" href="../../d5/d9/struct__FAST__IO__DISPATCH.html#o11">AcquireFileForNtCreateSection</a> =   <a class="code" href="../../d4/d9/resrcsup_8c.html#a7">UdfAcquireForCreateSection</a>;
00223     <a class="code" href="../../d0/d8/udfdata_8c.html#a3">UdfFastIoDispatch</a>.<a class="code" href="../../d5/d9/struct__FAST__IO__DISPATCH.html#o12">ReleaseFileForNtCreateSection</a> =   <a class="code" href="../../d4/d9/resrcsup_8c.html#a8">UdfReleaseForCreateSection</a>;
00224     <a class="code" href="../../d0/d8/udfdata_8c.html#a3">UdfFastIoDispatch</a>.<a class="code" href="../../d5/d9/struct__FAST__IO__DISPATCH.html#o1">FastIoCheckIfPossible</a> =           <a class="code" href="../../d0/d8/udfdata_8c.html#a35">UdfFastIoCheckIfPossible</a>;   <span class="comment">//  CheckForFastIo</span>
00225     <a class="code" href="../../d0/d8/udfdata_8c.html#a3">UdfFastIoDispatch</a>.<a class="code" href="../../d5/d9/struct__FAST__IO__DISPATCH.html#o2">FastIoRead</a> =                      <a class="code" href="../../d3/d1/fastio_8c.html#a1">FsRtlCopyRead</a>;              <span class="comment">//  Read</span>
00226     
00227     <a class="code" href="../../d0/d8/udfdata_8c.html#a3">UdfFastIoDispatch</a>.<a class="code" href="../../d5/d9/struct__FAST__IO__DISPATCH.html#o4">FastIoQueryBasicInfo</a> =            <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;                       <span class="comment">//  QueryBasicInfo</span>
00228     <a class="code" href="../../d0/d8/udfdata_8c.html#a3">UdfFastIoDispatch</a>.<a class="code" href="../../d5/d9/struct__FAST__IO__DISPATCH.html#o5">FastIoQueryStandardInfo</a> =         <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;                       <span class="comment">//  QueryStandardInfo</span>
00229     <a class="code" href="../../d0/d8/udfdata_8c.html#a3">UdfFastIoDispatch</a>.<a class="code" href="../../d5/d9/struct__FAST__IO__DISPATCH.html#o6">FastIoLock</a> =                      <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;                       <span class="comment">//  Lock</span>
00230     <a class="code" href="../../d0/d8/udfdata_8c.html#a3">UdfFastIoDispatch</a>.<a class="code" href="../../d5/d9/struct__FAST__IO__DISPATCH.html#o7">FastIoUnlockSingle</a> =              <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;                       <span class="comment">//  UnlockSingle</span>
00231     <a class="code" href="../../d0/d8/udfdata_8c.html#a3">UdfFastIoDispatch</a>.<a class="code" href="../../d5/d9/struct__FAST__IO__DISPATCH.html#o8">FastIoUnlockAll</a> =                 <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;                       <span class="comment">//  UnlockAll</span>
00232     <a class="code" href="../../d0/d8/udfdata_8c.html#a3">UdfFastIoDispatch</a>.<a class="code" href="../../d5/d9/struct__FAST__IO__DISPATCH.html#o9">FastIoUnlockAllByKey</a> =            <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;                       <span class="comment">//  UnlockAllByKey</span>
00233     <a class="code" href="../../d0/d8/udfdata_8c.html#a3">UdfFastIoDispatch</a>.<a class="code" href="../../d5/d9/struct__FAST__IO__DISPATCH.html#o14">FastIoQueryNetworkOpenInfo</a> =      <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;                       <span class="comment">//  QueryNetworkInfo</span>
00234     
00235     <span class="comment">//</span>
00236     <span class="comment">//  Initialize the CRC table. Per UDF 1.01, we use the seed 10041 octal (4129 dec).</span>
00237     <span class="comment">//</span>
00238 
00239     <a class="code" href="../../d3/d8/udfprocs_8h.html#a133">UdfInitializeCrc16</a>( 4129 );
00240 
00241     <span class="comment">//</span>
00242     <span class="comment">//  Initialize the UdfData structure.</span>
00243     <span class="comment">//</span>
00244 
00245     RtlZeroMemory( &amp;UdfData, <span class="keyword">sizeof</span>( <a class="code" href="../../d2/d3/struct__UDF__DATA.html">UDF_DATA</a> ));
00246 
00247     <a class="code" href="../../d0/d8/udfdata_8c.html#a2">UdfData</a>.<a class="code" href="../../d2/d3/struct__UDF__DATA.html#o0">NodeTypeCode</a> = <a class="code" href="../../d1/d7/udfs_2nodetype_8h.html#a1">UDFS_NTC_DATA_HEADER</a>;
00248     <a class="code" href="../../d0/d8/udfdata_8c.html#a2">UdfData</a>.<a class="code" href="../../d2/d3/struct__UDF__DATA.html#o1">NodeByteSize</a> = <span class="keyword">sizeof</span>( <a class="code" href="../../d2/d3/struct__UDF__DATA.html">UDF_DATA</a> );
00249 
00250     <a class="code" href="../../d0/d8/udfdata_8c.html#a2">UdfData</a>.<a class="code" href="../../d2/d3/struct__UDF__DATA.html#o2">DriverObject</a> = DriverObject;
00251     RtlCopyMemory( &amp;<a class="code" href="../../d0/d8/udfdata_8c.html#a2">UdfData</a>.<a class="code" href="../../d2/d3/struct__UDF__DATA.html#o7">FileSystemDeviceObjects</a>,
00252                    UdfsFileSystemDeviceObjects,
00253                    <span class="keyword">sizeof</span>(<a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a>) * NUMBER_OF_FS_OBJECTS );
00254 
00255     InitializeListHead( &amp;<a class="code" href="../../d0/d8/udfdata_8c.html#a2">UdfData</a>.<a class="code" href="../../d2/d3/struct__UDF__DATA.html#o3">VcbQueue</a> );
00256 
00257     <a class="code" href="../../d5/d8/ex_8h.html#a68">ExInitializeResource</a>( &amp;<a class="code" href="../../d0/d8/udfdata_8c.html#a2">UdfData</a>.<a class="code" href="../../d2/d3/struct__UDF__DATA.html#o19">DataResource</a> );
00258 
00259     <span class="comment">//</span>
00260     <span class="comment">//  Initialize the cache manager callback routines</span>
00261     <span class="comment">//</span>
00262 
00263     <a class="code" href="../../d0/d8/udfdata_8c.html#a2">UdfData</a>.<a class="code" href="../../d2/d3/struct__UDF__DATA.html#o20">CacheManagerCallbacks</a>.<a class="code" href="../../d3/d6/struct__CACHE__MANAGER__CALLBACKS.html#o0">AcquireForLazyWrite</a>  = &amp;<a class="code" href="../../d4/d9/resrcsup_8c.html#a3">UdfAcquireForCache</a>;
00264     <a class="code" href="../../d0/d8/udfdata_8c.html#a2">UdfData</a>.<a class="code" href="../../d2/d3/struct__UDF__DATA.html#o20">CacheManagerCallbacks</a>.<a class="code" href="../../d3/d6/struct__CACHE__MANAGER__CALLBACKS.html#o1">ReleaseFromLazyWrite</a> = &amp;<a class="code" href="../../d4/d9/resrcsup_8c.html#a4">UdfReleaseFromCache</a>;
00265     <a class="code" href="../../d0/d8/udfdata_8c.html#a2">UdfData</a>.<a class="code" href="../../d2/d3/struct__UDF__DATA.html#o20">CacheManagerCallbacks</a>.<a class="code" href="../../d3/d6/struct__CACHE__MANAGER__CALLBACKS.html#o2">AcquireForReadAhead</a>  = &amp;<a class="code" href="../../d4/d9/resrcsup_8c.html#a3">UdfAcquireForCache</a>;
00266     <a class="code" href="../../d0/d8/udfdata_8c.html#a2">UdfData</a>.<a class="code" href="../../d2/d3/struct__UDF__DATA.html#o20">CacheManagerCallbacks</a>.<a class="code" href="../../d3/d6/struct__CACHE__MANAGER__CALLBACKS.html#o3">ReleaseFromReadAhead</a> = &amp;<a class="code" href="../../d4/d9/resrcsup_8c.html#a4">UdfReleaseFromCache</a>;
00267 
00268     <a class="code" href="../../d0/d8/udfdata_8c.html#a2">UdfData</a>.<a class="code" href="../../d2/d3/struct__UDF__DATA.html#o21">CacheManagerVolumeCallbacks</a>.<a class="code" href="../../d3/d6/struct__CACHE__MANAGER__CALLBACKS.html#o0">AcquireForLazyWrite</a>  = &amp;<a class="code" href="../../d4/d9/resrcsup_8c.html#a5">UdfNoopAcquire</a>;
00269     <a class="code" href="../../d0/d8/udfdata_8c.html#a2">UdfData</a>.<a class="code" href="../../d2/d3/struct__UDF__DATA.html#o21">CacheManagerVolumeCallbacks</a>.<a class="code" href="../../d3/d6/struct__CACHE__MANAGER__CALLBACKS.html#o1">ReleaseFromLazyWrite</a> = &amp;<a class="code" href="../../d4/d9/resrcsup_8c.html#a6">UdfNoopRelease</a>;
00270     <a class="code" href="../../d0/d8/udfdata_8c.html#a2">UdfData</a>.<a class="code" href="../../d2/d3/struct__UDF__DATA.html#o21">CacheManagerVolumeCallbacks</a>.<a class="code" href="../../d3/d6/struct__CACHE__MANAGER__CALLBACKS.html#o2">AcquireForReadAhead</a>  = &amp;<a class="code" href="../../d4/d9/resrcsup_8c.html#a5">UdfNoopAcquire</a>;
00271     <a class="code" href="../../d0/d8/udfdata_8c.html#a2">UdfData</a>.<a class="code" href="../../d2/d3/struct__UDF__DATA.html#o21">CacheManagerVolumeCallbacks</a>.<a class="code" href="../../d3/d6/struct__CACHE__MANAGER__CALLBACKS.html#o3">ReleaseFromReadAhead</a> = &amp;<a class="code" href="../../d4/d9/resrcsup_8c.html#a6">UdfNoopRelease</a>;
00272 
00273     <span class="comment">//</span>
00274     <span class="comment">//  Initialize the lock mutex and the async and delay close queues.</span>
00275     <span class="comment">//</span>
00276 
00277     <a class="code" href="../../d5/d8/ex_8h.html#a8">ExInitializeFastMutex</a>( &amp;<a class="code" href="../../d0/d8/udfdata_8c.html#a2">UdfData</a>.<a class="code" href="../../d2/d3/struct__UDF__DATA.html#o18">UdfDataMutex</a> );
00278     InitializeListHead( &amp;<a class="code" href="../../d0/d8/udfdata_8c.html#a2">UdfData</a>.<a class="code" href="../../d2/d3/struct__UDF__DATA.html#o8">AsyncCloseQueue</a> );
00279     InitializeListHead( &amp;<a class="code" href="../../d0/d8/udfdata_8c.html#a2">UdfData</a>.<a class="code" href="../../d2/d3/struct__UDF__DATA.html#o13">DelayedCloseQueue</a> );
00280 
00281     <a class="code" href="../../d5/d8/ex_8h.html#a55">ExInitializeWorkItem</a>( &amp;<a class="code" href="../../d0/d8/udfdata_8c.html#a2">UdfData</a>.<a class="code" href="../../d2/d3/struct__UDF__DATA.html#o22">CloseItem</a>,
00282                           (PWORKER_THREAD_ROUTINE) UdfFspClose,
00283                           NULL );
00284 
00285     <span class="comment">//</span>
00286     <span class="comment">//  Do the initialization based on the system size.</span>
00287     <span class="comment">//</span>
00288 
00289     <span class="keywordflow">switch</span> (<a class="code" href="../../d5/d1/mminit_8c.html#a57">MmQuerySystemSize</a>()) {
00290 
00291     <span class="keywordflow">case</span> <a class="code" href="../../d2/d1/mm_8h.html#a343a165">MmSmallSystem</a>:
00292         
00293         IrpContextMaxDepth = 4;
00294         <a class="code" href="../../d0/d8/udfdata_8c.html#a2">UdfData</a>.<a class="code" href="../../d2/d3/struct__UDF__DATA.html#o15">MaxDelayedCloseCount</a> = 10;
00295         <a class="code" href="../../d0/d8/udfdata_8c.html#a2">UdfData</a>.<a class="code" href="../../d2/d3/struct__UDF__DATA.html#o16">MinDelayedCloseCount</a> = 2;
00296         <span class="keywordflow">break</span>;
00297 
00298     <span class="keywordflow">case</span> <a class="code" href="../../d2/d1/mm_8h.html#a343a167">MmLargeSystem</a>:
00299 
00300         IrpContextMaxDepth = 24;
00301         <a class="code" href="../../d0/d8/udfdata_8c.html#a2">UdfData</a>.<a class="code" href="../../d2/d3/struct__UDF__DATA.html#o15">MaxDelayedCloseCount</a> = 72;
00302         <a class="code" href="../../d0/d8/udfdata_8c.html#a2">UdfData</a>.<a class="code" href="../../d2/d3/struct__UDF__DATA.html#o16">MinDelayedCloseCount</a> = 18;
00303         <span class="keywordflow">break</span>;
00304 
00305     <span class="keywordflow">default</span>:
00306     <span class="keywordflow">case</span> <a class="code" href="../../d2/d1/mm_8h.html#a343a166">MmMediumSystem</a>:
00307     
00308         IrpContextMaxDepth = 8;
00309         <a class="code" href="../../d0/d8/udfdata_8c.html#a2">UdfData</a>.<a class="code" href="../../d2/d3/struct__UDF__DATA.html#o15">MaxDelayedCloseCount</a> = 32;
00310         <a class="code" href="../../d0/d8/udfdata_8c.html#a2">UdfData</a>.<a class="code" href="../../d2/d3/struct__UDF__DATA.html#o16">MinDelayedCloseCount</a> = 8;
00311         <span class="keywordflow">break</span>;
00312     
00313     }
00314 
00315     <span class="comment">//</span>
00316     <span class="comment">//  Size lookasides to match what will commonly be dumped into them when we</span>
00317     <span class="comment">//  run down the delayed close queues.</span>
00318     <span class="comment">//</span>
00319     
00320     LcbMaxDepth =
00321     CcbMaxDepth =
00322     FcbDataMaxDepth =
00323     FcbNonPagedMaxDepth = (<a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>) (<a class="code" href="../../d0/d8/udfdata_8c.html#a2">UdfData</a>.<a class="code" href="../../d2/d3/struct__UDF__DATA.html#o15">MaxDelayedCloseCount</a> - <a class="code" href="../../d0/d8/udfdata_8c.html#a2">UdfData</a>.<a class="code" href="../../d2/d3/struct__UDF__DATA.html#o16">MinDelayedCloseCount</a>);
00324 
00325     <span class="comment">//</span>
00326     <span class="comment">//  We should tend to have fewer indices than files.</span>
00327     <span class="comment">//</span>
00328     
00329     FcbIndexMaxDepth = FcbNonPagedMaxDepth / 2;
00330 
00331 <span class="preprocessor">#define NPagedInit(L,S,T,D) { ExInitializeNPagedLookasideList( (L), NULL, NULL, POOL_RAISE_IF_ALLOCATION_FAILURE, S, T, D); }</span>
00332 <span class="preprocessor"></span><span class="preprocessor">#define PagedInit(L,S,T,D)  { ExInitializePagedLookasideList(  (L), NULL, NULL, POOL_RAISE_IF_ALLOCATION_FAILURE, S, T, D); }</span>
00333 <span class="preprocessor"></span>
00334     <a class="code" href="../../d2/d8/udfinit_8c.html#a2">NPagedInit</a>( &amp;UdfIrpContextLookasideList, <span class="keyword">sizeof</span>( <a class="code" href="../../d0/d3/struct__IRP__CONTEXT.html">IRP_CONTEXT</a> ), TAG_IRP_CONTEXT, IrpContextMaxDepth );
00335     <a class="code" href="../../d2/d8/udfinit_8c.html#a2">NPagedInit</a>( &amp;UdfFcbNonPagedLookasideList, <span class="keyword">sizeof</span>( <a class="code" href="../../d4/d0/struct__FCB__NONPAGED.html">FCB_NONPAGED</a> ), TAG_FCB_NONPAGED, FcbNonPagedMaxDepth );
00336 
00337     <a class="code" href="../../d2/d8/udfinit_8c.html#a3">PagedInit</a>( &amp;UdfCcbLookasideList, <span class="keyword">sizeof</span>( <a class="code" href="../../d2/d9/struct__CCB.html">CCB</a> ), TAG_CCB, CcbMaxDepth );
00338     <a class="code" href="../../d2/d8/udfinit_8c.html#a3">PagedInit</a>( &amp;UdfFcbIndexLookasideList, SIZEOF_FCB_INDEX, TAG_FCB_INDEX, FcbIndexMaxDepth );
00339     <a class="code" href="../../d2/d8/udfinit_8c.html#a3">PagedInit</a>( &amp;UdfFcbDataLookasideList, SIZEOF_FCB_DATA, TAG_FCB_DATA, FcbDataMaxDepth );
00340     <a class="code" href="../../d2/d8/udfinit_8c.html#a3">PagedInit</a>( &amp;UdfLcbLookasideList, SIZEOF_LOOKASIDE_LCB, TAG_LCB, LcbMaxDepth );
00341 }
}
</div></pre>    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:45:50 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
