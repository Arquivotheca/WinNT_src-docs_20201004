<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: output.h Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>output.h</h1><a href="../../d7/d2/output_8h.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">/*++</span>
00002 <span class="comment"></span>
00003 <span class="comment">Copyright (c) 1985 - 1999, Microsoft Corporation</span>
00004 <span class="comment"></span>
00005 <span class="comment">Module Name:</span>
00006 <span class="comment"></span>
00007 <span class="comment">    output.h</span>
00008 <span class="comment"></span>
00009 <span class="comment">Abstract:</span>
00010 <span class="comment"></span>
00011 <span class="comment">    This module contains the internal structures and definitions used</span>
00012 <span class="comment">    by the output (screen) component of the NT console subsystem.</span>
00013 <span class="comment"></span>
00014 <span class="comment">Author:</span>
00015 <span class="comment"></span>
00016 <span class="comment">    Therese Stowell (thereses) 12-Nov-1990</span>
00017 <span class="comment"></span>
00018 <span class="comment">Revision History:</span>
00019 <span class="comment"></span>
00020 <span class="comment">--*/</span>
00021 
00022 <span class="comment">// the characters of one row of screen buffer</span>
00023 <span class="comment">// we keep the following values so that we don't write</span>
00024 <span class="comment">// more pixels to the screen than we have to:</span>
00025 <span class="comment">// left is initialized to screenbuffer width.  right is</span>
00026 <span class="comment">// initialized to zero.</span>
00027 <span class="comment">//</span>
00028 <span class="comment">//      [     foo.bar    12-12-61                       ]</span>
00029 <span class="comment">//       ^    ^                  ^                     ^</span>
00030 <span class="comment">//       |    |                  |                     |</span>
00031 <span class="comment">//     Chars Left               Right                end of Chars buffer</span>
00032 
<a name="l00033"></a><a class="code" href="../../d6/d9/struct__CHAR__ROW.html">00033</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d6/d9/struct__CHAR__ROW.html">_CHAR_ROW</a> {
<a name="l00034"></a><a class="code" href="../../d6/d9/struct__CHAR__ROW.html#o0">00034</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a13">SHORT</a> <a class="code" href="../../d6/d9/struct__CHAR__ROW.html#o0">Right</a>;            <span class="comment">// one past rightmost bound of chars in Chars array (array will be full width)</span>
<a name="l00035"></a><a class="code" href="../../d6/d9/struct__CHAR__ROW.html#o1">00035</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a13">SHORT</a> <a class="code" href="../../d6/d9/struct__CHAR__ROW.html#o1">OldRight</a>;         <span class="comment">// old one past rightmost bound of chars in Chars array (array will be full width)</span>
<a name="l00036"></a><a class="code" href="../../d6/d9/struct__CHAR__ROW.html#o2">00036</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a13">SHORT</a> <a class="code" href="../../d6/d9/struct__CHAR__ROW.html#o2">Left</a>;             <span class="comment">// leftmost bound of chars in Chars array (array will be full width)</span>
<a name="l00037"></a><a class="code" href="../../d6/d9/struct__CHAR__ROW.html#o3">00037</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a13">SHORT</a> <a class="code" href="../../d6/d9/struct__CHAR__ROW.html#o3">OldLeft</a>;          <span class="comment">// old leftmost bound of chars in Chars array (array will be full width)</span>
<a name="l00038"></a><a class="code" href="../../d6/d9/struct__CHAR__ROW.html#o4">00038</a>     PWCHAR <a class="code" href="../../d6/d9/struct__CHAR__ROW.html#o4">Chars</a>;            <span class="comment">// all chars in row up to last non-space char</span>
00039 <span class="preprocessor">#if defined(FE_SB)</span>
00040 <span class="preprocessor"></span>    <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> KAttrs;            <span class="comment">// all DBCS lead &amp; trail bit in row</span>
00041 <span class="preprocessor">        #define ATTR_LEADING_BYTE  0x01</span>
00042 <span class="preprocessor"></span><span class="preprocessor">        #define ATTR_TRAILING_BYTE 0x02</span>
00043 <span class="preprocessor"></span><span class="preprocessor">        #define ATTR_DBCSSBCS_BYTE 0x03</span>
00044 <span class="preprocessor"></span><span class="preprocessor">        #define ATTR_SEPARATE_BYTE 0x10</span>
00045 <span class="preprocessor"></span><span class="preprocessor">        #define ATTR_EUDCFLAG_BYTE 0x20</span>
00046 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00047 <span class="preprocessor"></span>} <a class="code" href="../../d6/d9/struct__CHAR__ROW.html">CHAR_ROW</a>, *<a class="code" href="../../d6/d9/struct__CHAR__ROW.html">PCHAR_ROW</a>;
00048 
00049 <span class="comment">// run-length encoded data structure for attributes</span>
00050 
00051 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d3/d2/struct__ATTR__PAIR.html">_ATTR_PAIR</a> {
<a name="l00052"></a><a class="code" href="../../d3/d2/struct__ATTR__PAIR.html#o2">00052</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a13">SHORT</a> <a class="code" href="../../d3/d2/struct__ATTR__PAIR.html#o0">Length</a>;            <span class="comment">// number of times attribute appears</span>
<a name="l00053"></a><a class="code" href="../../d3/d2/struct__ATTR__PAIR.html#o1">00053</a>     WORD <a class="code" href="../../d3/d2/struct__ATTR__PAIR.html#o1">Attr</a>;              <span class="comment">// attribute</span>
00054 } <a class="code" href="../../d3/d2/struct__ATTR__PAIR.html">ATTR_PAIR</a>, *<a class="code" href="../../d3/d2/struct__ATTR__PAIR.html">PATTR_PAIR</a>;
00055 
00056 <span class="comment">// the attributes of one row of screen buffer</span>
00057 
<a name="l00058"></a><a class="code" href="../../d4/d2/struct__ATTR__ROW.html">00058</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d4/d2/struct__ATTR__ROW.html">_ATTR_ROW</a> {
<a name="l00059"></a><a class="code" href="../../d4/d2/struct__ATTR__ROW.html#o0">00059</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a13">SHORT</a> <a class="code" href="../../d4/d2/struct__ATTR__ROW.html#o0">Length</a>;            <span class="comment">// length of attr pair array</span>
<a name="l00060"></a><a class="code" href="../../d4/d2/struct__ATTR__ROW.html#o1">00060</a>     <a class="code" href="../../d3/d2/struct__ATTR__PAIR.html">ATTR_PAIR</a> <a class="code" href="../../d4/d2/struct__ATTR__ROW.html#o1">AttrPair</a>;     <span class="comment">// use this if only one pair</span>
<a name="l00061"></a><a class="code" href="../../d4/d2/struct__ATTR__ROW.html#o2">00061</a>     <a class="code" href="../../d8/d2/tmerge_8c.html#a51">PATTR_PAIR</a> <a class="code" href="../../d4/d2/struct__ATTR__ROW.html#o2">Attrs</a>;       <span class="comment">// attr pair array</span>
00062 } <a class="code" href="../../d4/d2/struct__ATTR__ROW.html">ATTR_ROW</a>, *<a class="code" href="../../d4/d2/struct__ATTR__ROW.html">PATTR_ROW</a>;
00063 
00064 <span class="comment">// information associated with one row of screen buffer</span>
00065 
<a name="l00066"></a><a class="code" href="../../d9/d4/struct__ROW.html">00066</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d4/struct__ROW.html">_ROW</a> {
<a name="l00067"></a><a class="code" href="../../d9/d4/struct__ROW.html#o0">00067</a>     <a class="code" href="../../d6/d9/struct__CHAR__ROW.html">CHAR_ROW</a> <a class="code" href="../../d9/d4/struct__ROW.html#o0">CharRow</a>;
<a name="l00068"></a><a class="code" href="../../d9/d4/struct__ROW.html#o1">00068</a>     <a class="code" href="../../d4/d2/struct__ATTR__ROW.html">ATTR_ROW</a> <a class="code" href="../../d9/d4/struct__ROW.html#o1">AttrRow</a>;
00069 } <a class="code" href="../../d9/d4/struct__ROW.html">ROW</a>, *<a class="code" href="../../d9/d4/struct__ROW.html">PROW</a>;
00070 
00071 <span class="preprocessor">#if defined(FE_SB)</span>
00072 <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keyword">struct </span>_DBCS_SCREEN_BUFFER {
00073     <span class="comment">/*</span>
00074 <span class="comment">     * all DBCS lead &amp; trail bit buffer</span>
00075 <span class="comment">     */</span>
00076     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a> KAttrRows;
00077     <span class="comment">/*</span>
00078 <span class="comment">     * Temporary buffer for translate Unicode&lt;--ASCII.</span>
00079 <span class="comment">     *</span>
00080 <span class="comment">     * Used as follows routine:</span>
00081 <span class="comment">     *   WriteOutputString</span>
00082 <span class="comment">     *   WriteRegionToScreen</span>
00083 <span class="comment">     *   DoWriteConsole</span>
00084 <span class="comment">     */</span>
00085     PWCHAR TransBufferCharacter;
00086     <a class="code" href="../../d9/d7/halvprnt_8c.html#a1">PBYTE</a>  TransBufferAttribute;
00087     <span class="comment">/*</span>
00088 <span class="comment">     * Used as follows routine:</span>
00089 <span class="comment">     *   SrvWriteConsole</span>
00090 <span class="comment">     */</span>
00091     PWCHAR TransWriteConsole;
00092 } DBCS_SCREEN_BUFFER, *PDBCS_SCREEN_BUFFER;
00093 <span class="preprocessor">#endif</span>
00094 <span class="preprocessor"></span>
<a name="l00095"></a><a class="code" href="../../d7/d0/struct__TEXT__BUFFER__FONT__INFO.html">00095</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d0/struct__TEXT__BUFFER__FONT__INFO.html">_TEXT_BUFFER_FONT_INFO</a> {
<a name="l00096"></a><a class="code" href="../../d7/d0/struct__TEXT__BUFFER__FONT__INFO.html#o0">00096</a>     <span class="keyword">struct </span><a class="code" href="../../d7/d0/struct__TEXT__BUFFER__FONT__INFO.html">_TEXT_BUFFER_FONT_INFO</a> *<a class="code" href="../../d7/d0/struct__TEXT__BUFFER__FONT__INFO.html#o0">NextTextBufferFont</a>;
<a name="l00097"></a><a class="code" href="../../d7/d0/struct__TEXT__BUFFER__FONT__INFO.html#o1">00097</a>     COORD <a class="code" href="../../d7/d0/struct__TEXT__BUFFER__FONT__INFO.html#o1">FontSize</a>;     <span class="comment">// Desired size.  Pixels (x,y) or Points (0, -p)</span>
<a name="l00098"></a><a class="code" href="../../d7/d0/struct__TEXT__BUFFER__FONT__INFO.html#o2">00098</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d7/d0/struct__TEXT__BUFFER__FONT__INFO.html#o2">FontNumber</a>;   <span class="comment">// index into fontinfo[]  -  sometimes out of date</span>
<a name="l00099"></a><a class="code" href="../../d7/d0/struct__TEXT__BUFFER__FONT__INFO.html#o3">00099</a>     WCHAR <a class="code" href="../../d7/d0/struct__TEXT__BUFFER__FONT__INFO.html#o3">FaceName</a>[LF_FACESIZE];
<a name="l00100"></a><a class="code" href="../../d7/d0/struct__TEXT__BUFFER__FONT__INFO.html#o4">00100</a>     LONG <a class="code" href="../../d7/d0/struct__TEXT__BUFFER__FONT__INFO.html#o4">Weight</a>;
<a name="l00101"></a><a class="code" href="../../d7/d0/struct__TEXT__BUFFER__FONT__INFO.html#o5">00101</a>     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> <a class="code" href="../../d7/d0/struct__TEXT__BUFFER__FONT__INFO.html#o5">Family</a>;
<a name="l00102"></a><a class="code" href="../../d7/d0/struct__TEXT__BUFFER__FONT__INFO.html#o6">00102</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> <a class="code" href="../../d7/d0/struct__TEXT__BUFFER__FONT__INFO.html#o6">FontCodePage</a>;  <span class="comment">// Code page for this font</span>
00103 } <a class="code" href="../../d7/d0/struct__TEXT__BUFFER__FONT__INFO.html">TEXT_BUFFER_FONT_INFO</a>, *<a class="code" href="../../d7/d0/struct__TEXT__BUFFER__FONT__INFO.html">PTEXT_BUFFER_FONT_INFO</a>;
00104 
<a name="l00105"></a><a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html">00105</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html">_TEXT_BUFFER_INFO</a> {
<a name="l00106"></a><a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o0">00106</a>     <a class="code" href="../../d7/d2/output_8h.html#a28">PROW</a> <a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o0">Rows</a>;
<a name="l00107"></a><a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o1">00107</a>     PWCHAR <a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o1">TextRows</a>;
<a name="l00108"></a><a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o2">00108</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a13">SHORT</a> <a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o2">FirstRow</a>;  <span class="comment">// indexes top row (not necessarily 0)</span>
<a name="l00109"></a><a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o3">00109</a>     BOOLEAN <a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o3">CursorMoved</a>;
<a name="l00110"></a><a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o4">00110</a>     BOOLEAN <a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o4">CursorVisible</a>;  <span class="comment">// whether cursor is visible (set by user)</span>
<a name="l00111"></a><a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o5">00111</a>     BOOLEAN <a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o5">CursorOn</a>;       <span class="comment">// whether blinking cursor is on or not</span>
<a name="l00112"></a><a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o6">00112</a>     BOOLEAN <a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o6">DoubleCursor</a>;   <span class="comment">// whether the cursor size should be doubled</span>
<a name="l00113"></a><a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o7">00113</a>     BOOLEAN <a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o7">DelayCursor</a>;    <span class="comment">// don't toggle cursor on next timer message</span>
<a name="l00114"></a><a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o8">00114</a>     COORD <a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o8">CursorPosition</a>;   <span class="comment">// current position on screen (in screen buffer coords).</span>
<a name="l00115"></a><a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o9">00115</a>     ULONG <a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o9">CursorSize</a>;
<a name="l00116"></a><a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o10">00116</a>     WORD <a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o10">CursorYSize</a>;
<a name="l00117"></a><a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o11">00117</a>     WORD  <a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o11">UpdatingScreen</a>;   <span class="comment">// whether cursor is visible (set by console)</span>
<a name="l00118"></a><a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o12">00118</a>     ULONG <a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o12">ModeIndex</a>;     <span class="comment">// fullscreen font and mode</span>
00119 <span class="preprocessor">#ifdef i386</span>
00120 <span class="preprocessor"></span>    <span class="comment">// the following fields are used only by fullscreen textmode</span>
00121     COORD WindowedWindowSize; <span class="comment">// window size in windowed mode</span>
00122     COORD WindowedScreenSize; <span class="comment">// screen buffer size in windowed mode</span>
00123     COORD MousePosition;
00124 <span class="preprocessor">#endif</span>
<a name="l00125"></a><a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o13">00125</a> <span class="preprocessor"></span>    ULONG <a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o13">Flags</a>;        <span class="comment">// indicate screen update hint state</span>
00126 
<a name="l00127"></a><a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o14">00127</a>     <a class="code" href="../../d7/d2/output_8h.html#a30">PTEXT_BUFFER_FONT_INFO</a> <a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o14">ListOfTextBufferFont</a>;
<a name="l00128"></a><a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o15">00128</a>     <a class="code" href="../../d7/d0/struct__TEXT__BUFFER__FONT__INFO.html">TEXT_BUFFER_FONT_INFO</a>  <a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html#o15">CurrentTextBufferFont</a>;
00129 
00130 <span class="preprocessor">#if defined(FE_SB)</span>
00131 <span class="preprocessor"></span>    BOOLEAN CursorBlink;
00132     BOOLEAN CursorDBEnable;
00133     DBCS_SCREEN_BUFFER DbcsScreenBuffer;
00134 <span class="preprocessor">#endif</span>
00135 <span class="preprocessor"></span>} <a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html">TEXT_BUFFER_INFO</a>, *<a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html">PTEXT_BUFFER_INFO</a>;
00136 
<a name="l00137"></a><a class="code" href="../../d3/d2/struct__GRAPHICS__BUFFER__INFO.html">00137</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d3/d2/struct__GRAPHICS__BUFFER__INFO.html">_GRAPHICS_BUFFER_INFO</a> {
<a name="l00138"></a><a class="code" href="../../d3/d2/struct__GRAPHICS__BUFFER__INFO.html#o0">00138</a>     ULONG <a class="code" href="../../d3/d2/struct__GRAPHICS__BUFFER__INFO.html#o0">BitMapInfoLength</a>;
<a name="l00139"></a><a class="code" href="../../d3/d2/struct__GRAPHICS__BUFFER__INFO.html#o1">00139</a>     LPBITMAPINFO <a class="code" href="../../d3/d2/struct__GRAPHICS__BUFFER__INFO.html#o1">lpBitMapInfo</a>;
<a name="l00140"></a><a class="code" href="../../d3/d2/struct__GRAPHICS__BUFFER__INFO.html#o2">00140</a>     PVOID <a class="code" href="../../d2/d1/structBitMap.html">BitMap</a>;
<a name="l00141"></a><a class="code" href="../../d3/d2/struct__GRAPHICS__BUFFER__INFO.html#o3">00141</a>     PVOID <a class="code" href="../../d3/d2/struct__GRAPHICS__BUFFER__INFO.html#o3">ClientBitMap</a>;
<a name="l00142"></a><a class="code" href="../../d3/d2/struct__GRAPHICS__BUFFER__INFO.html#o4">00142</a>     HANDLE <a class="code" href="../../d3/d2/struct__GRAPHICS__BUFFER__INFO.html#o4">ClientProcess</a>;
<a name="l00143"></a><a class="code" href="../../d3/d2/struct__GRAPHICS__BUFFER__INFO.html#o5">00143</a>     HANDLE <a class="code" href="../../d3/d2/struct__GRAPHICS__BUFFER__INFO.html#o5">hMutex</a>;
<a name="l00144"></a><a class="code" href="../../d3/d2/struct__GRAPHICS__BUFFER__INFO.html#o6">00144</a>     HANDLE <a class="code" href="../../d3/d2/struct__GRAPHICS__BUFFER__INFO.html#o6">hSection</a>;
<a name="l00145"></a><a class="code" href="../../d3/d2/struct__GRAPHICS__BUFFER__INFO.html#o7">00145</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d3/d2/struct__GRAPHICS__BUFFER__INFO.html#o7">dwUsage</a>;
00146 } <a class="code" href="../../d3/d2/struct__GRAPHICS__BUFFER__INFO.html">GRAPHICS_BUFFER_INFO</a>, *<a class="code" href="../../d3/d2/struct__GRAPHICS__BUFFER__INFO.html">PGRAPHICS_BUFFER_INFO</a>;
00147 
<a name="l00148"></a><a class="code" href="../../d7/d2/output_8h.html#a0">00148</a> <span class="preprocessor">#define CONSOLE_TEXTMODE_BUFFER 1</span>
<a name="l00149"></a><a class="code" href="../../d7/d2/output_8h.html#a1">00149</a> <span class="preprocessor"></span><span class="preprocessor">#define CONSOLE_GRAPHICS_BUFFER 2</span>
<a name="l00150"></a><a class="code" href="../../d7/d2/output_8h.html#a2">00150</a> <span class="preprocessor"></span><span class="preprocessor">#define CONSOLE_OEMFONT_DISPLAY 4</span>
00151 <span class="preprocessor"></span>
<a name="l00152"></a><a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">00152</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">_SCREEN_INFORMATION</a> {
<a name="l00153"></a><a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o0">00153</a>     <span class="keyword">struct </span><a class="code" href="../../d1/d3/struct__CONSOLE__INFORMATION.html">_CONSOLE_INFORMATION</a> *<a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o0">Console</a>;
<a name="l00154"></a><a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o1">00154</a>     ULONG <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o1">Flags</a>;
<a name="l00155"></a><a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o2">00155</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o2">OutputMode</a>;
<a name="l00156"></a><a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o3">00156</a>     ULONG <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o3">RefCount</a>;
<a name="l00157"></a><a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o4">00157</a>     <a class="code" href="../../d8/d6/struct__CONSOLE__SHARE__ACCESS.html">CONSOLE_SHARE_ACCESS</a> <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o4">ShareAccess</a>;   <span class="comment">// share mode</span>
<a name="l00158"></a><a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o5">00158</a>     COORD <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o5">ScreenBufferSize</a>; <span class="comment">// dimensions of buffer</span>
<a name="l00159"></a><a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o6">00159</a>     SMALL_RECT  <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o6">Window</a>;       <span class="comment">// window location in screen buffer coordinates</span>
<a name="l00160"></a><a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o7">00160</a>     WORD <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o7">ResizingWindow</a>;   <span class="comment">// &gt; 0 if we should ignore WM_SIZE messages</span>
<a name="l00161"></a><a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o8">00161</a>     WORD <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o8">Attributes</a>;        <span class="comment">// attributes of written text</span>
<a name="l00162"></a><a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o9">00162</a>     WORD <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o9">PopupAttributes</a>;   <span class="comment">// attributes of popup text</span>
<a name="l00163"></a><a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o10">00163</a>     BOOLEAN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o10">WindowMaximizedX</a>;
<a name="l00164"></a><a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o11">00164</a>     BOOLEAN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o11">WindowMaximizedY</a>;
<a name="l00165"></a><a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o12">00165</a>     BOOLEAN <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o12">WindowMaximized</a>;
<a name="l00166"></a><a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o13">00166</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o13">CommandIdLow</a>;
<a name="l00167"></a><a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o14">00167</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o14">CommandIdHigh</a>;
<a name="l00168"></a><a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o15">00168</a>     HCURSOR <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o15">CursorHandle</a>;
<a name="l00169"></a><a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o16">00169</a>     HPALETTE <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o16">hPalette</a>;
<a name="l00170"></a><a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o17">00170</a>     <a class="code" href="../../d9/d5/ndismain_8h.html#a265">UINT</a> <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o17">dwUsage</a>;
<a name="l00171"></a><a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o18">00171</a>     <span class="keywordtype">int</span> <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o18">CursorDisplayCount</a>;
<a name="l00172"></a><a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o19">00172</a>     <span class="keywordtype">int</span> <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o19">WheelDelta</a>;
00173     <span class="keyword">union </span>{
<a name="l00174"></a><a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o20">00174</a>         <a class="code" href="../../d8/d0/struct__TEXT__BUFFER__INFO.html">TEXT_BUFFER_INFO</a> TextInfo;
<a name="l00175"></a><a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o21">00175</a>         <a class="code" href="../../d3/d2/struct__GRAPHICS__BUFFER__INFO.html">GRAPHICS_BUFFER_INFO</a> GraphicsInfo;
00176     } BufferInfo;
<a name="l00177"></a><a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o23">00177</a>     <span class="keyword">struct </span><a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">_SCREEN_INFORMATION</a> *<a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html#o23">Next</a>;
00178 <span class="preprocessor">#if defined(FE_SB)</span>
00179 <span class="preprocessor"></span>    <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>   WriteConsoleDbcsLeadByte[2];
00180     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a>   FillOutDbcsLeadChar;
00181     WCHAR  LineChar[6];
00182 <span class="preprocessor">        #define UPPER_LEFT_CORNER   0</span>
00183 <span class="preprocessor"></span><span class="preprocessor">        #define UPPER_RIGHT_CORNER  1</span>
00184 <span class="preprocessor"></span><span class="preprocessor">        #define HORIZONTAL_LINE     2</span>
00185 <span class="preprocessor"></span><span class="preprocessor">        #define VERTICAL_LINE       3</span>
00186 <span class="preprocessor"></span><span class="preprocessor">        #define BOTTOM_LEFT_CORNER  4</span>
00187 <span class="preprocessor"></span><span class="preprocessor">        #define BOTTOM_RIGHT_CORNER 5</span>
00188 <span class="preprocessor"></span>    <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> BisectFlag;
00189 <span class="preprocessor">        #define BISECT_LEFT   0x01</span>
00190 <span class="preprocessor"></span><span class="preprocessor">        #define BISECT_TOP    0x02</span>
00191 <span class="preprocessor"></span><span class="preprocessor">        #define BISECT_RIGHT  0x04</span>
00192 <span class="preprocessor"></span><span class="preprocessor">        #define BISECT_BOTTOM 0x08</span>
00193 <span class="preprocessor"></span><span class="preprocessor">#if defined(FE_IME)</span>
00194 <span class="preprocessor"></span>    <span class="keyword">struct </span>_CONVERSIONAREA_INFORMATION *ConvScreenInfo;
00195 <span class="preprocessor">#else</span>
00196 <span class="preprocessor"></span>    PVOID ConvScreenInfo;
00197 <span class="preprocessor">#endif // FE_IME</span>
00198 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00199 <span class="preprocessor"></span>} <a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">SCREEN_INFORMATION</a>, *<a class="code" href="../../d7/d8/struct__SCREEN__INFORMATION.html">PSCREEN_INFORMATION</a>;
00200 
<a name="l00201"></a><a class="code" href="../../d0/d9/struct__WINDOW__LIMITS.html">00201</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d0/d9/struct__WINDOW__LIMITS.html">_WINDOW_LIMITS</a> {
<a name="l00202"></a><a class="code" href="../../d0/d9/struct__WINDOW__LIMITS.html#o0">00202</a>     COORD <a class="code" href="../../d0/d9/struct__WINDOW__LIMITS.html#o0">MinimumWindowSize</a>;    <span class="comment">// minimum dimensions of window</span>
<a name="l00203"></a><a class="code" href="../../d0/d9/struct__WINDOW__LIMITS.html#o1">00203</a>     COORD <a class="code" href="../../d0/d9/struct__WINDOW__LIMITS.html#o1">MaximumWindowSize</a>;    <span class="comment">// maximum dimensions of window</span>
<a name="l00204"></a><a class="code" href="../../d0/d9/struct__WINDOW__LIMITS.html#o2">00204</a>     COORD <a class="code" href="../../d0/d9/struct__WINDOW__LIMITS.html#o2">MaxWindow</a>;            <span class="comment">// in pixels</span>
<a name="l00205"></a><a class="code" href="../../d0/d9/struct__WINDOW__LIMITS.html#o3">00205</a>     COORD <a class="code" href="../../d0/d9/struct__WINDOW__LIMITS.html#o3">FullScreenSize</a>;
00206 } <a class="code" href="../../d0/d9/struct__WINDOW__LIMITS.html">WINDOW_LIMITS</a>, *<a class="code" href="../../d0/d9/struct__WINDOW__LIMITS.html">PWINDOW_LIMITS</a>;
00207 
00208 <span class="comment">//</span>
00209 <span class="comment">// the following values are used for TextInfo.Flags</span>
00210 <span class="comment">//</span>
00211 
<a name="l00212"></a><a class="code" href="../../d7/d2/output_8h.html#a3">00212</a> <span class="preprocessor">#define TEXT_VALID_HINT 1</span>
<a name="l00213"></a><a class="code" href="../../d7/d2/output_8h.html#a4">00213</a> <span class="preprocessor"></span><span class="preprocessor">#define SINGLE_ATTRIBUTES_PER_LINE 2    // only one attribute per line</span>
00214 <span class="preprocessor"></span><span class="preprocessor">#if defined(FE_IME)</span>
00215 <span class="preprocessor"></span><span class="preprocessor">#define CONSOLE_CONVERSION_AREA_REDRAW 4</span>
00216 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00217 <span class="preprocessor"></span>
00218 <span class="comment">//</span>
00219 <span class="comment">// the following value is put in CharInfo.OldLength if the value shouldn't</span>
00220 <span class="comment">// be used.</span>
00221 <span class="comment">//</span>
00222 
<a name="l00223"></a><a class="code" href="../../d7/d2/output_8h.html#a5">00223</a> <span class="preprocessor">#define INVALID_OLD_LENGTH -1</span>
00224 <span class="preprocessor"></span>
00225 <span class="comment">//</span>
00226 <span class="comment">// the following mask is used to test for valid text attributes.</span>
00227 <span class="comment">//</span>
00228 
00229 <span class="preprocessor">#if defined(FE_SB)</span>
00230 <span class="preprocessor"></span><span class="preprocessor">#define VALID_TEXT_ATTRIBUTES (FOREGROUND_BLUE | FOREGROUND_GREEN | FOREGROUND_RED | FOREGROUND_INTENSITY | BACKGROUND_BLUE | BACKGROUND_GREEN | BACKGROUND_RED | BACKGROUND_INTENSITY | \</span>
00231 <span class="preprocessor">COMMON_LVB_LEADING_BYTE | COMMON_LVB_TRAILING_BYTE | COMMON_LVB_GRID_HORIZONTAL | COMMON_LVB_GRID_LVERTICAL | COMMON_LVB_GRID_RVERTICAL | COMMON_LVB_REVERSE_VIDEO | COMMON_LVB_UNDERSCORE )</span>
00232 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00233"></a><a class="code" href="../../d7/d2/output_8h.html#a6">00233</a> <span class="preprocessor"></span><span class="preprocessor">#define VALID_TEXT_ATTRIBUTES (FOREGROUND_BLUE | FOREGROUND_GREEN | FOREGROUND_RED | FOREGROUND_INTENSITY | BACKGROUND_BLUE | BACKGROUND_GREEN | BACKGROUND_RED | BACKGROUND_INTENSITY)</span>
00234 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00235 <span class="preprocessor"></span>
00236 <span class="comment">//</span>
00237 <span class="comment">// the following macros are used to calculate 1) the cursor size in pixels</span>
00238 <span class="comment">// and 2) the upper left pixel in the cursor, given the font size and</span>
00239 <span class="comment">// the cursor size.</span>
00240 <span class="comment">//</span>
00241 
<a name="l00242"></a><a class="code" href="../../d7/d2/output_8h.html#a7">00242</a> <span class="preprocessor">#define CURSOR_SIZE_IN_PIXELS(FONT_SIZE_Y,SIZE) ((((FONT_SIZE_Y)*(SIZE))+99)/100)</span>
<a name="l00243"></a><a class="code" href="../../d7/d2/output_8h.html#a8">00243</a> <span class="preprocessor"></span><span class="preprocessor">#define CURSOR_Y_OFFSET_IN_PIXELS(FONT_SIZE_Y,YSIZE) ((FONT_SIZE_Y) - (YSIZE))</span>
00244 <span class="preprocessor"></span>
00245 <span class="comment">//</span>
00246 <span class="comment">// the following values are used to create the textmode cursor.</span>
00247 <span class="comment">//</span>
00248 
<a name="l00249"></a><a class="code" href="../../d7/d2/output_8h.html#a9">00249</a> <span class="preprocessor">#define CURSOR_TIMER 1</span>
<a name="l00250"></a><a class="code" href="../../d7/d2/output_8h.html#a10">00250</a> <span class="preprocessor"></span><span class="preprocessor">#define CURSOR_SMALL_SIZE 25    // large enough to be one pixel on a six pixel font</span>
<a name="l00251"></a><a class="code" href="../../d7/d2/output_8h.html#a11">00251</a> <span class="preprocessor"></span><span class="preprocessor">#define CURSOR_BIG_SIZE 50</span>
00252 <span class="preprocessor"></span>
00253 <span class="comment">//</span>
00254 <span class="comment">// the following macro returns TRUE if the given screen buffer is the</span>
00255 <span class="comment">// active screen buffer.</span>
00256 <span class="comment">//</span>
00257 
<a name="l00258"></a><a class="code" href="../../d7/d2/output_8h.html#a12">00258</a> <span class="preprocessor">#define ACTIVE_SCREEN_BUFFER(SCREEN_INFO) ((SCREEN_INFO)-&gt;Console-&gt;CurrentScreenBuffer == SCREEN_INFO)</span>
00259 <span class="preprocessor"></span>
00260 <span class="comment">//</span>
00261 <span class="comment">// the following mask is used to create console windows.</span>
00262 <span class="comment">//</span>
00263 
<a name="l00264"></a><a class="code" href="../../d7/d2/output_8h.html#a13">00264</a> <span class="preprocessor">#define CONSOLE_WINDOW_FLAGS (WS_OVERLAPPEDWINDOW | WS_VISIBLE | WS_HSCROLL | WS_VSCROLL)</span>
<a name="l00265"></a><a class="code" href="../../d7/d2/output_8h.html#a14">00265</a> <span class="preprocessor"></span><span class="preprocessor">#define CONSOLE_WINDOW_EX_FLAGS (WS_EX_OVERLAPPEDWINDOW | WS_EX_ACCEPTFILES | WS_EX_APPWINDOW )</span>
00266 <span class="preprocessor"></span>
<a name="l00267"></a><a class="code" href="../../d7/d2/output_8h.html#a15">00267</a> <span class="preprocessor">#define WINDOW_SIZE_X(WINDOW) ((SHORT)(((WINDOW)-&gt;Right - (WINDOW)-&gt;Left + 1)))</span>
<a name="l00268"></a><a class="code" href="../../d7/d2/output_8h.html#a16">00268</a> <span class="preprocessor"></span><span class="preprocessor">#define WINDOW_SIZE_Y(WINDOW) ((SHORT)(((WINDOW)-&gt;Bottom - (WINDOW)-&gt;Top + 1)))</span>
<a name="l00269"></a><a class="code" href="../../d7/d2/output_8h.html#a17">00269</a> <span class="preprocessor"></span><span class="preprocessor">#define CONSOLE_WINDOW_SIZE_X(SCREEN) (WINDOW_SIZE_X(&amp;(SCREEN)-&gt;Window))</span>
<a name="l00270"></a><a class="code" href="../../d7/d2/output_8h.html#a18">00270</a> <span class="preprocessor"></span><span class="preprocessor">#define CONSOLE_WINDOW_SIZE_Y(SCREEN) (WINDOW_SIZE_Y(&amp;(SCREEN)-&gt;Window))</span>
00271 <span class="preprocessor"></span>
<a name="l00272"></a><a class="code" href="../../d7/d2/output_8h.html#a19">00272</a> <span class="preprocessor">#define CONSOLE_MIN_SCREENBUFFER_X 1</span>
<a name="l00273"></a><a class="code" href="../../d7/d2/output_8h.html#a20">00273</a> <span class="preprocessor"></span><span class="preprocessor">#define CONSOLE_MIN_SCREENBUFFER_Y 1</span>
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:41:07 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
