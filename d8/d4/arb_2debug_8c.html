<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: arb/debug.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>debug.c File Reference</h1><code>#include "<a class="el" href="../../d1/d8/arbp_8h-source.html">arbp.h</a>"</code><br>

<p>
<a href="../../d9/d3/arb_2debug_8c-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d8/d4/arb_2debug_8c.html#a4">ArbDumpArbiterRange</a> (LONG Level, PRTL_RANGE_LIST List, PUCHAR RangeText)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d8/d4/arb_2debug_8c.html#a5">ArbDumpArbiterInstance</a> (LONG Level, <a class="el" href="../../d9/d8/arbiter_8h.html#a39">PARBITER_INSTANCE</a> Arbiter)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>VOID&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d8/d4/arb_2debug_8c.html#a6">ArbDumpArbitrationList</a> (LONG Level, PLIST_ENTRY ArbitrationList)</td></tr>

<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>LONG&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d8/d4/arb_2debug_8c.html#a0">ArbDebugLevel</a> = -1</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>ULONG&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d8/d4/arb_2debug_8c.html#a1">ArbStopOnError</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>ULONG&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d8/d4/arb_2debug_8c.html#a2">ArbReplayOnError</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>PCHAR&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="../../d8/d4/arb_2debug_8c.html#a3">ArbpActionStrings</a> []</td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a5" doxytag="arb/debug.c::ArbDumpArbiterInstance" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID ArbDumpArbiterInstance           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Level</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="../../d9/d8/arbiter_8h.html#a39">PARBITER_INSTANCE</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Arbiter</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d9/d3/arb_2debug_8c-source.html#l00123">123</a> of file <a class="el" href="../../d9/d3/arb_2debug_8c-source.html">arb/debug.c</a>.
<p>
References <a class="el" href="../../d0/d8/arbiter_8h-source.html#l00052">ARB_PRINT</a>, <a class="el" href="../../d9/d3/arb_2debug_8c-source.html#l00069">ArbDumpArbiterRange()</a>, and <a class="el" href="../../d1/d8/ntosdef_8h-source.html#l00462">PAGED_CODE</a>.
<p>
<pre class="fragment"><div>00130                    :
00131 
00132     This dumps <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> state of <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> arbiter to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> debugger.
00133 
00134 Parameters:
00135 
00136     Level - The debug level at or above which <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> data should be displayed.
00137 
00138     Arbiter - The arbiter instance to display
00139 
00140 Return Value:
00141 
00142     None
00143 
00144 --*/
00145 
00146 {
00147 
00148     <a class="code" href="../../d0/d9/ntosdef_8h.html#a28">PAGED_CODE</a>();
00149 
00150     <a class="code" href="../../d9/d8/arbiter_8h.html#a1">ARB_PRINT</a>(Level,
00151                 (<span class="stringliteral">"---%S Arbiter State---\n"</span>,
00152                 Arbiter-&gt;Name
00153                 ));
00154 
00155     <a class="code" href="../../d8/d4/arb_2debug_8c.html#a4">ArbDumpArbiterRange</a>(
00156         Level,
00157         Arbiter-&gt;Allocation,
00158         <span class="stringliteral">"Allocation"</span>
00159         );
00160 
00161     <a class="code" href="../../d8/d4/arb_2debug_8c.html#a4">ArbDumpArbiterRange</a>(
00162         Level,
00163         Arbiter-&gt;PossibleAllocation,
00164         <span class="stringliteral">"PossibleAllocation"</span>
00165         );
00166 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="arb/debug.c::ArbDumpArbiterRange" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID ArbDumpArbiterRange           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Level</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PRTL_RANGE_LIST&nbsp;</td>
          <td class="mdname" nowrap> <em>List</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PUCHAR&nbsp;</td>
          <td class="mdname" nowrap> <em>RangeText</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d9/d3/arb_2debug_8c-source.html#l00069">69</a> of file <a class="el" href="../../d9/d3/arb_2debug_8c-source.html">arb/debug.c</a>.
<p>
References <a class="el" href="../../d0/d8/arbiter_8h-source.html#l00052">ARB_PRINT</a>, <a class="el" href="../../d7/d6/halmips_8h-source.html#l00625">FALSE</a>, <a class="el" href="../../d2/d9/cmchek_8c-source.html#l00094">List</a>, <a class="el" href="../../d1/d8/ntosdef_8h-source.html#l00462">PAGED_CODE</a>, and <a class="el" href="../../d7/d6/halmips_8h-source.html#l00626">TRUE</a>.
<p>
Referenced by <a class="el" href="../../d9/d3/arb_2debug_8c-source.html#l00123">ArbDumpArbiterInstance()</a>.
<p>
<pre class="fragment"><div>00077                    :
00078 
00079     This dumps <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> contents of a range list to <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> debugger.
00080 
00081 Parameters:
00082 
00083     Level     - The debug level at or above which <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> data should be displayed.
00084     <a class="code" href="../../d1/d0/cmchek_8c.html#a12">List</a>      - The range list to be displayed.
00085     RangeText - Informative <a class="code" href="../../d7/d1/genuedef_8c.html#a5">text</a> to go with <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> display.
00086 
00087 Return Value:
00088 
00089     None
00090 
00091 --*/
00092 
00093 {
00094     PRTL_RANGE current;
00095     RTL_RANGE_LIST_ITERATOR iterator;
00096     BOOLEAN headerDisplayed = <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>;
00097 
00098     <a class="code" href="../../d0/d9/ntosdef_8h.html#a28">PAGED_CODE</a>();
00099 
00100     FOR_ALL_RANGES(List, &amp;iterator, current) {
00101 
00102         <span class="keywordflow">if</span> (headerDisplayed == <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>) {
00103             headerDisplayed = <a class="code" href="../../d6/d7/halmips_8h.html#a458">TRUE</a>;
00104             <a class="code" href="../../d9/d8/arbiter_8h.html#a1">ARB_PRINT</a>(Level, (<span class="stringliteral">"  %s:\n"</span>, RangeText));
00105         }
00106 
00107         <a class="code" href="../../d9/d8/arbiter_8h.html#a1">ARB_PRINT</a>(Level,
00108                     (<span class="stringliteral">"    %I64x-%I64x %s%s O=0x%08x U=0x%08x\n"</span>,
00109                     current-&gt;Start,
00110                     current-&gt;End,
00111                     current-&gt;Flags &amp; RTL_RANGE_SHARED ? <span class="stringliteral">"S"</span> : <span class="stringliteral">" "</span>,
00112                     current-&gt;Flags &amp; RTL_RANGE_CONFLICT ? <span class="stringliteral">"C"</span> : <span class="stringliteral">" "</span>,
00113                     current-&gt;Owner,
00114                     current-&gt;UserData
00115                    ));
00116     }
00117     <span class="keywordflow">if</span> (headerDisplayed == <a class="code" href="../../d6/d7/halmips_8h.html#a457">FALSE</a>) {
00118         <a class="code" href="../../d9/d8/arbiter_8h.html#a1">ARB_PRINT</a>(Level, (<span class="stringliteral">"  %s: &lt;None&gt;\n"</span>, RangeText));
00119     }
00120 }

</div></pre>    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="arb/debug.c::ArbDumpArbitrationList" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> VOID ArbDumpArbitrationList           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LONG&nbsp;</td>
          <td class="mdname" nowrap> <em>Level</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>PLIST_ENTRY&nbsp;</td>
          <td class="mdname" nowrap> <em>ArbitrationList</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d9/d3/arb_2debug_8c-source.html#l00169">169</a> of file <a class="el" href="../../d9/d3/arb_2debug_8c-source.html">arb/debug.c</a>.
<p>
References <a class="el" href="../../d7/d8/pnp_8h-source.html#l00744">_ARBITER_LIST_ENTRY::AlternativeCount</a>, <a class="el" href="../../d7/d8/pnp_8h-source.html#l00749">_ARBITER_LIST_ENTRY::Alternatives</a>, <a class="el" href="../../d0/d8/arbiter_8h-source.html#l00052">ARB_PRINT</a>, <a class="el" href="../../d2/d4/translate_8c-source.html#l00056">FOR_ALL_IN_ARRAY</a>, <a class="el" href="../../d2/d4/translate_8c-source.html#l00046">FOR_ALL_IN_LIST</a>, <a class="el" href="../../d5/d5/lh__open_2pi__basic_8h-source.html#l00023">NULL</a>, <a class="el" href="../../d1/d8/ntosdef_8h-source.html#l00462">PAGED_CODE</a>, and <a class="el" href="../../d7/d8/pnp_8h-source.html#l00754">_ARBITER_LIST_ENTRY::PhysicalDeviceObject</a>.
<p>
<pre class="fragment"><div>00176                    :
00177 
00178     Display <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a> contents of an arbitration list.  That <a class="code" href="../../d3/d0/user32_8def.html#a108">is</a>, <a class="code" href="../../d7/d1/genuedef_8c.html#a2">the</a>
00179     set of resources (possibilities) we are trying to get.
00180 
00181 Parameters:
00182 
00183     Level           - The debug level at or above which the data
00184                       should be displayed.
00185     ArbitrationList - The arbitration list to be displayed.
00186 
00187 Return Value:
00188 
00189     None
00190 
00191 --*/
00192 
00193 {
00194     <a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html">PARBITER_LIST_ENTRY</a> current;
00195     PIO_RESOURCE_DESCRIPTOR alternative;
00196     <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> previousOwner = <a class="code" href="../../d4/d6/lh__open_2pi__basic_8h.html#a3">NULL</a>;
00197     UCHAR andOr = <span class="charliteral">' '</span>;
00198 
00199     <a class="code" href="../../d0/d9/ntosdef_8h.html#a28">PAGED_CODE</a>();
00200 
00201     <a class="code" href="../../d9/d8/arbiter_8h.html#a1">ARB_PRINT</a>(Level, (<span class="stringliteral">"Arbitration List\n"</span>));
00202 
00203     <a class="code" href="../../d1/d5/translate_8c.html#a0">FOR_ALL_IN_LIST</a>(<a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html">ARBITER_LIST_ENTRY</a>, ArbitrationList, current) {
00204 
00205         <span class="keywordflow">if</span> (previousOwner != current-&gt;<a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o3">PhysicalDeviceObject</a>) {
00206 
00207             previousOwner = current-&gt;<a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o3">PhysicalDeviceObject</a>;
00208 
00209             <a class="code" href="../../d9/d8/arbiter_8h.html#a1">ARB_PRINT</a>(
00210                 Level,
00211                 (<span class="stringliteral">"  Owning object 0x%08x\n"</span>,
00212                 current-&gt;<a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o3">PhysicalDeviceObject</a>
00213                 ));
00214             <a class="code" href="../../d9/d8/arbiter_8h.html#a1">ARB_PRINT</a>(
00215                 Level,
00216                 (<span class="stringliteral">"    Length  Alignment   Minimum Address - Maximum Address\n"</span>
00217                 ));
00218 
00219         }
00220 
00221         <a class="code" href="../../d1/d5/translate_8c.html#a1">FOR_ALL_IN_ARRAY</a>(current-&gt;<a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o2">Alternatives</a>,
00222                          current-&gt;<a class="code" href="../../d0/d8/struct__ARBITER__LIST__ENTRY.html#o1">AlternativeCount</a>,
00223                          alternative) {
00224 
00225             <a class="code" href="../../d9/d8/arbiter_8h.html#a1">ARB_PRINT</a>(
00226                 Level,
00227                 (<span class="stringliteral">"%c %8x   %8x  %08x%08x - %08x%08x  %s\n"</span>,
00228                 andOr,
00229                 alternative-&gt;u.Generic.Length,
00230                 alternative-&gt;u.Generic.Alignment,
00231                 alternative-&gt;u.Generic.MinimumAddress.HighPart,
00232                 alternative-&gt;u.Generic.MinimumAddress.LowPart,
00233                 alternative-&gt;u.Generic.MaximumAddress.HighPart,
00234                 alternative-&gt;u.Generic.MaximumAddress.LowPart,
00235                 alternative-&gt;Type == CmResourceTypeMemory ?
00236                   <span class="stringliteral">"Memory"</span>
00237                 : <span class="stringliteral">"Port"</span>
00238                 ));
00239             andOr = <span class="charliteral">'|'</span>;
00240         }
00241         andOr = <span class="charliteral">'&amp;'</span>;
00242     }
00243 }

</div></pre>    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a0" doxytag="arb/debug.c::ArbDebugLevel" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> LONG <a class="el" href="../../d8/d4/arb_2debug_8c.html#a0">ArbDebugLevel</a> = -1          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d9/d3/arb_2debug_8c-source.html#l00043">43</a> of file <a class="el" href="../../d9/d3/arb_2debug_8c-source.html">arb/debug.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="arb/debug.c::ArbpActionStrings" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PCHAR <a class="el" href="../../d8/d4/arb_2debug_8c.html#a3">ArbpActionStrings</a>[]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><pre class="fragment"><div> {
    <span class="stringliteral">"ArbiterActionTestAllocation"</span>,
    <span class="stringliteral">"ArbiterActionRetestAllocation"</span>,
    <span class="stringliteral">"ArbiterActionCommitAllocation"</span>,
    <span class="stringliteral">"ArbiterActionRollbackAllocation"</span>,
    <span class="stringliteral">"ArbiterActionQueryAllocatedResources"</span>,
    <span class="stringliteral">"ArbiterActionWriteReservedResources"</span>,
    <span class="stringliteral">"ArbiterActionQueryConflict"</span>,
    <span class="stringliteral">"ArbiterActionQueryArbitrate"</span>,
    <span class="stringliteral">"ArbiterActionAddReserved"</span>,
    <span class="stringliteral">"ArbiterActionBootAllocation"</span>
}
</div></pre>
<p>
Definition at line <a class="el" href="../../d9/d3/arb_2debug_8c-source.html#l00055">55</a> of file <a class="el" href="../../d9/d3/arb_2debug_8c-source.html">arb/debug.c</a>.
<p>
Referenced by <a class="el" href="../../d9/d7/arbiter_8c-source.html#l01414">ArbArbiterHandler()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="arb/debug.c::ArbReplayOnError" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ULONG <a class="el" href="../../d8/d4/arb_2debug_8c.html#a2">ArbReplayOnError</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d9/d3/arb_2debug_8c-source.html#l00053">53</a> of file <a class="el" href="../../d9/d3/arb_2debug_8c-source.html">arb/debug.c</a>.
<p>
Referenced by <a class="el" href="../../d9/d7/arbiter_8c-source.html#l01414">ArbArbiterHandler()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="arb/debug.c::ArbStopOnError" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ULONG <a class="el" href="../../d8/d4/arb_2debug_8c.html#a1">ArbStopOnError</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="../../d9/d3/arb_2debug_8c-source.html#l00052">52</a> of file <a class="el" href="../../d9/d3/arb_2debug_8c-source.html">arb/debug.c</a>.
<p>
Referenced by <a class="el" href="../../d9/d7/arbiter_8c-source.html#l01414">ArbArbiterHandler()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:43:25 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
