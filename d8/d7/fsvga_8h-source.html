<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>test: fsvga.h Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="../../main.html">Main&nbsp;Page</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a> | <a class="qindex" href="../../globals.html">File&nbsp;Members</a></div>
<h1>fsvga.h</h1><a href="../../d7/d8/fsvga_8h.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">/*++</span>
00002 <span class="comment"></span>
00003 <span class="comment">Copyright (c) 1992  Microsoft Corporation</span>
00004 <span class="comment"></span>
00005 <span class="comment">Module Name:</span>
00006 <span class="comment"></span>
00007 <span class="comment">    fsvga.h</span>
00008 <span class="comment"></span>
00009 <span class="comment">Abstract:</span>
00010 <span class="comment"></span>
00011 <span class="comment">    This is the console fullscreen driver for the VGA card.</span>
00012 <span class="comment"></span>
00013 <span class="comment">Environment:</span>
00014 <span class="comment"></span>
00015 <span class="comment">    kernel mode only</span>
00016 <span class="comment"></span>
00017 <span class="comment">Notes:</span>
00018 <span class="comment"></span>
00019 <span class="comment">Revision History:</span>
00020 <span class="comment"></span>
00021 <span class="comment">--*/</span>
00022 
00023 
00024 <span class="preprocessor">#ifndef _FSVGA_</span>
00025 <span class="preprocessor"></span><span class="preprocessor">#define _FSVGA_</span>
00026 <span class="preprocessor"></span>
00027 <span class="preprocessor">#include "ntddvdeo.h"</span>
00028 <span class="preprocessor">#include "fscrnctl.h"</span>
00029 <span class="preprocessor">#include "<a class="code" href="../../d1/d6/vga_8h.html">vga.h</a>"</span>
00030 
00031 <span class="comment">//</span>
00032 <span class="comment">// Define the i8042 controller input/output ports.</span>
00033 <span class="comment">//</span>
00034 
<a name="l00035"></a><a class="code" href="../../d7/d8/fsvga_8h.html#a66">00035</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d7/d8/fsvga_8h.html#a66">_VGA_IO_PORT_TYPE</a> {
00036     <a class="code" href="../../d7/d8/fsvga_8h.html#a66a18">CRTCAddressPortColor</a> = 0,
00037     <a class="code" href="../../d7/d8/fsvga_8h.html#a66a19">CRTCDataPortColor</a>,
00038     <a class="code" href="../../d7/d8/fsvga_8h.html#a66a20">GRAPHAddressPort</a>,
00039     <a class="code" href="../../d7/d8/fsvga_8h.html#a66a21">SEQUAddressPort</a>,
00040     <a class="code" href="../../d7/d8/fsvga_8h.html#a66a22">MaximumPortCount</a>
00041 } <a class="code" href="../../d7/d8/fsvga_8h.html#a11">VGA_IO_PORT_TYPE</a>;
00042 
00043 
00044 <span class="comment">//</span>
00045 <span class="comment">// FSVGA configuration information.</span>
00046 <span class="comment">//</span>
00047 
<a name="l00048"></a><a class="code" href="../../d3/d1/struct__FSVGA__CONFIGURATION__INFORMATION.html">00048</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d3/d1/struct__FSVGA__CONFIGURATION__INFORMATION.html">_FSVGA_CONFIGURATION_INFORMATION</a> {
<a name="l00049"></a><a class="code" href="../../d3/d1/struct__FSVGA__CONFIGURATION__INFORMATION.html#o0">00049</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>    <a class="code" href="../../d3/d1/struct__FSVGA__CONFIGURATION__INFORMATION.html#o0">EmulationMode</a>;
<a name="l00050"></a><a class="code" href="../../d7/d8/fsvga_8h.html#a0">00050</a> <span class="preprocessor">        #define ENABLE_WORD_WRITE_VRAM   0x01</span>
00051 <span class="preprocessor"></span>
<a name="l00052"></a><a class="code" href="../../d3/d1/struct__FSVGA__CONFIGURATION__INFORMATION.html#o1">00052</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>    <a class="code" href="../../d3/d1/struct__FSVGA__CONFIGURATION__INFORMATION.html#o1">HardwareCursor</a>;
<a name="l00053"></a><a class="code" href="../../d7/d8/fsvga_8h.html#a1">00053</a> <span class="preprocessor">        #define NO_HARDWARE_CURSOR          0</span>
<a name="l00054"></a><a class="code" href="../../d7/d8/fsvga_8h.html#a2">00054</a> <span class="preprocessor"></span><span class="preprocessor">        #define HARDWARE_CURSOR          0x01</span>
00055 <span class="preprocessor"></span>
<a name="l00056"></a><a class="code" href="../../d3/d1/struct__FSVGA__CONFIGURATION__INFORMATION.html#o2">00056</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a14">USHORT</a>    <a class="code" href="../../d3/d1/struct__FSVGA__CONFIGURATION__INFORMATION.html#o2">HardwareScroll</a>;
<a name="l00057"></a><a class="code" href="../../d7/d8/fsvga_8h.html#a3">00057</a> <span class="preprocessor">        #define NO_HARDWARE_SCROLL          0</span>
<a name="l00058"></a><a class="code" href="../../d7/d8/fsvga_8h.html#a4">00058</a> <span class="preprocessor"></span><span class="preprocessor">        #define HARDWARE_SCROLL          0x01</span>
<a name="l00059"></a><a class="code" href="../../d7/d8/fsvga_8h.html#a5">00059</a> <span class="preprocessor"></span><span class="preprocessor">        #define USE_LINE_COMPARE         0x02</span>
<a name="l00060"></a><a class="code" href="../../d7/d8/fsvga_8h.html#a6">00060</a> <span class="preprocessor"></span><span class="preprocessor">        #define OFFSET_128_TO_NEXT_SLICE 0x04</span>
00061 <span class="preprocessor"></span>
00062     <span class="comment">//</span>
00063     <span class="comment">// Bus interface type.</span>
00064     <span class="comment">//</span>
00065 
<a name="l00066"></a><a class="code" href="../../d3/d1/struct__FSVGA__CONFIGURATION__INFORMATION.html#o3">00066</a>     INTERFACE_TYPE <a class="code" href="../../d3/d1/struct__FSVGA__CONFIGURATION__INFORMATION.html#o3">InterfaceType</a>;
00067 
00068     <span class="comment">//</span>
00069     <span class="comment">// Bus Number.</span>
00070     <span class="comment">//</span>
00071 
<a name="l00072"></a><a class="code" href="../../d3/d1/struct__FSVGA__CONFIGURATION__INFORMATION.html#o4">00072</a>     ULONG <a class="code" href="../../d2/d7/hal_8h.html#a75">BusNumber</a>;
00073 
00074     <span class="comment">//</span>
00075     <span class="comment">// The port/register resources used by this device.</span>
00076     <span class="comment">//</span>
00077 
<a name="l00078"></a><a class="code" href="../../d3/d1/struct__FSVGA__CONFIGURATION__INFORMATION.html#o5">00078</a>     CM_PARTIAL_RESOURCE_DESCRIPTOR <a class="code" href="../../d3/d1/struct__FSVGA__CONFIGURATION__INFORMATION.html#o5">PortList</a>[<a class="code" href="../../d7/d8/fsvga_8h.html#a66a22">MaximumPortCount</a>];
<a name="l00079"></a><a class="code" href="../../d3/d1/struct__FSVGA__CONFIGURATION__INFORMATION.html#o6">00079</a>     ULONG <a class="code" href="../../d3/d1/struct__FSVGA__CONFIGURATION__INFORMATION.html#o6">PortListCount</a>;
00080 
00081 } <a class="code" href="../../d3/d1/struct__FSVGA__CONFIGURATION__INFORMATION.html">FSVGA_CONFIGURATION_INFORMATION</a>, *<a class="code" href="../../d3/d1/struct__FSVGA__CONFIGURATION__INFORMATION.html">PFSVGA_CONFIGURATION_INFORMATION</a>;
00082 
00083 <span class="comment">//</span>
00084 <span class="comment">// EMULATE_BUFFER_INFORMATION structure</span>
00085 <span class="comment">//</span>
<a name="l00086"></a><a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html">00086</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html">_EMULATE_BUFFER_INFORMATION</a> {
00087     <span class="comment">//</span>
00088     <span class="comment">// Hardware scroll</span>
00089     <span class="comment">//</span>
<a name="l00090"></a><a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html#o0">00090</a>     WORD <a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html#o0">StartAddress</a>;
<a name="l00091"></a><a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html#o1">00091</a>     WORD <a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html#o1">LineCompare</a>;
<a name="l00092"></a><a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html#o2">00092</a>     WORD <a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html#o2">PrevLineCompare</a>;
<a name="l00093"></a><a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html#o3">00093</a>     WORD <a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html#o3">BytePerLine</a>;
<a name="l00094"></a><a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html#o4">00094</a>     WORD <a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html#o4">MaxScanLine</a>;
<a name="l00095"></a><a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html#o5">00095</a>     <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a> <a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html#o5">LimitGRAM</a>;
<a name="l00096"></a><a class="code" href="../../d7/d8/fsvga_8h.html#a7">00096</a> <span class="preprocessor">        #define LIMIT_64K 0x10000L</span>
<a name="l00097"></a><a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html#o6">00097</a> <span class="preprocessor"></span>    WORD <a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html#o6">DeltaNextFontRow</a>;
00098     <span class="comment">//</span>
00099     <span class="comment">// Color Attributes for last access.</span>
00100     <span class="comment">//</span>
<a name="l00101"></a><a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html#o7">00101</a>     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> <a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html#o7">ColorFg</a>;
<a name="l00102"></a><a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html#o8">00102</a>     <a class="code" href="../../d9/d7/halvprnt_8c.html#a0">BYTE</a> <a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html#o8">ColorBg</a>;
00103     <span class="comment">//</span>
00104     <span class="comment">// Cursor position and attributes for last access.</span>
<a name="l00105"></a><a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html#o9">00105</a>     VIDEO_CURSOR_ATTRIBUTES <a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html#o9">CursorAttributes</a>;
<a name="l00106"></a><a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html#o10">00106</a>     FSVIDEO_CURSOR_POSITION <a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html#o10">CursorPosition</a>;
<a name="l00107"></a><a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html#o11">00107</a>     <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a> <a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html#o11">ShowCursor</a>;
00108 } <a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html">EMULATE_BUFFER_INFORMATION</a>, *<a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html">PEMULATE_BUFFER_INFORMATION</a>;
00109 
00110 <span class="comment">//</span>
00111 <span class="comment">// Port device extension.</span>
00112 <span class="comment">//</span>
00113 
00114 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/d3/struct__DEVICE__EXTENSION.html">_DEVICE_EXTENSION</a> {
00115 
00116     <span class="comment">//</span>
00117     <span class="comment">// Indicate which hardware is actually present (display).</span>
00118     <span class="comment">//</span>
00119 
<a name="l00120"></a><a class="code" href="../../d8/d3/struct__DEVICE__EXTENSION.html#o47">00120</a>     ULONG <a class="code" href="../../d8/d3/struct__DEVICE__EXTENSION.html#o47">HardwarePresent</a>;
00121 
00122     <span class="comment">//</span>
00123     <span class="comment">// Pointer to the device object.</span>
00124     <span class="comment">//</span>
00125 
<a name="l00126"></a><a class="code" href="../../d8/d3/struct__DEVICE__EXTENSION.html#o3">00126</a>     <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> <a class="code" href="../../d8/d3/struct__DEVICE__EXTENSION.html#o3">DeviceObject</a>;
00127 
00128     <span class="comment">//</span>
00129     <span class="comment">// The mapped addresses for this device's registers.</span>
00130     <span class="comment">//</span>
00131 
<a name="l00132"></a><a class="code" href="../../d8/d3/struct__DEVICE__EXTENSION.html#o48">00132</a>     PVOID <a class="code" href="../../d8/d3/struct__DEVICE__EXTENSION.html#o48">DeviceRegisters</a>[<a class="code" href="../../d7/d8/fsvga_8h.html#a66a22">MaximumPortCount</a>];
00133 
00134     <span class="comment">//</span>
00135     <span class="comment">// Port configuration information.</span>
00136     <span class="comment">//</span>
00137 
<a name="l00138"></a><a class="code" href="../../d8/d3/struct__DEVICE__EXTENSION.html#o49">00138</a>     <a class="code" href="../../d3/d1/struct__FSVGA__CONFIGURATION__INFORMATION.html">FSVGA_CONFIGURATION_INFORMATION</a> <a class="code" href="../../d8/d3/struct__DEVICE__EXTENSION.html#o49">Configuration</a>;
00139 
00140     <span class="comment">//</span>
00141     <span class="comment">// FSVIDEO_MODE_INFORMATION structure for the current mode</span>
00142     <span class="comment">//</span>
<a name="l00143"></a><a class="code" href="../../d8/d3/struct__DEVICE__EXTENSION.html#o50">00143</a>     FSVIDEO_MODE_INFORMATION <a class="code" href="../../d8/d3/struct__DEVICE__EXTENSION.html#o50">CurrentMode</a>;
00144 
00145     <span class="comment">//</span>
00146     <span class="comment">// FSVIDEO_SCREEN_INFORMATION structure</span>
00147     <span class="comment">//</span>
<a name="l00148"></a><a class="code" href="../../d8/d3/struct__DEVICE__EXTENSION.html#o51">00148</a>     FSVIDEO_SCREEN_INFORMATION <a class="code" href="../../d8/d3/struct__DEVICE__EXTENSION.html#o51">ScreenAndFont</a>;
00149 
00150     <span class="comment">//</span>
00151     <span class="comment">// EMULATE_BUFFER_INFORMATION structure</span>
00152     <span class="comment">//</span>
<a name="l00153"></a><a class="code" href="../../d8/d3/struct__DEVICE__EXTENSION.html#o52">00153</a>     <a class="code" href="../../d1/d3/struct__EMULATE__BUFFER__INFORMATION.html">EMULATE_BUFFER_INFORMATION</a> <a class="code" href="../../d8/d3/struct__DEVICE__EXTENSION.html#o52">EmulateInfo</a>;
00154 
00155     <span class="comment">//</span>
00156     <span class="comment">// Set at intialization to indicate that the register</span>
00157     <span class="comment">// addresses must be unmapped when the driver is unloaded.</span>
00158     <span class="comment">//</span>
00159 
<a name="l00160"></a><a class="code" href="../../d8/d3/struct__DEVICE__EXTENSION.html#o53">00160</a>     BOOLEAN <a class="code" href="../../d8/d3/struct__DEVICE__EXTENSION.html#o53">UnmapRegistersRequired</a>;
00161 
00162 } <a class="code" href="../../d8/d3/struct__DEVICE__EXTENSION.html">DEVICE_EXTENSION</a>, *<a class="code" href="../../d8/d3/struct__DEVICE__EXTENSION.html">PDEVICE_EXTENSION</a>;
00163 
00164 <span class="comment">//</span>
00165 <span class="comment">// Define the base values for the error log packet's UniqueErrorValue field.</span>
00166 <span class="comment">//</span>
00167 
<a name="l00168"></a><a class="code" href="../../d7/d8/fsvga_8h.html#a8">00168</a> <span class="preprocessor">#define FSVGA_ERROR_VALUE_BASE        1000</span>
00169 <span class="preprocessor"></span>
00170 <span class="comment">//</span>
00171 <span class="comment">// Defines for DeviceExtension-&gt;HardwarePresent.</span>
00172 <span class="comment">//</span>
00173 
<a name="l00174"></a><a class="code" href="../../d7/d8/fsvga_8h.html#a9">00174</a> <span class="preprocessor">#define FSVGA_HARDWARE_PRESENT  1</span>
00175 <span class="preprocessor"></span>
00176 
00177 <span class="comment">//</span>
00178 <span class="comment">// Function prototypes.</span>
00179 <span class="comment">//</span>
00180 
00181 
00182 <span class="comment">//</span>
00183 <span class="comment">// fsvga.c</span>
00184 <span class="comment">//</span>
00185 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00186 <a class="code" href="../../d7/d1/w32_2ntuser_2kernel_2init_8c.html#a22">DriverEntry</a>(
00187     IN <a class="code" href="../../d4/d9/struct__DRIVER__OBJECT.html">PDRIVER_OBJECT</a> DriverObject,
00188     IN PUNICODE_STRING RegistryPath
00189     );
00190 
00191 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00192 <a class="code" href="../../d7/d8/fsvga_8h.html#a24">FsVgaConfiguration</a>(
00193     IN PDEVICE_EXTENSION DeviceExtension,
00194     IN PUNICODE_STRING RegistryPath,
00195     IN PUNICODE_STRING KeyboardDeviceName
00196     );
00197 
00198 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00199 <a class="code" href="../../d7/d8/fsvga_8h.html#a25">FsVgaPeripheralCallout</a>(
00200     IN PVOID Context,
00201     IN PUNICODE_STRING PathName,
00202     IN INTERFACE_TYPE BusType,
00203     IN ULONG BusNumber,
00204     IN PKEY_VALUE_FULL_INFORMATION *BusInformation,
00205     IN CONFIGURATION_TYPE ControllerType,
00206     IN ULONG ControllerNumber,
00207     IN PKEY_VALUE_FULL_INFORMATION *ControllerInformation,
00208     IN CONFIGURATION_TYPE PeripheralType,
00209     IN ULONG PeripheralNumber,
00210     IN PKEY_VALUE_FULL_INFORMATION *PeripheralInformation
00211     );
00212 
00213 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00214 <a class="code" href="../../d7/d8/fsvga_8h.html#a26">FsVgaServiceParameters</a>(
00215     IN PDEVICE_EXTENSION DeviceExtension,
00216     IN PUNICODE_STRING RegistryPath,
00217     IN PUNICODE_STRING FsVgaDeviceName
00218     );
00219 
00220 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00221 <a class="code" href="../../d7/d8/fsvga_8h.html#a27">FsVgaBuildResourceList</a>(
00222     IN PDEVICE_EXTENSION DeviceExtension,
00223     OUT PCM_RESOURCE_LIST *ResourceList,
00224     OUT PULONG ResourceListSize
00225     );
00226 
00227 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00228 <a class="code" href="../../d7/d8/fsvga_8h.html#a28">FsVgaOpenCloseDispatch</a>(
00229     IN <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> DeviceObject,
00230     IN <a class="code" href="../../d0/d2/struct__IRP.html">PIRP</a> Irp
00231     );
00232 
00233 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00234 <a class="code" href="../../d7/d8/fsvga_8h.html#a29">FsVgaDeviceControl</a>(
00235     IN <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> DeviceObject,
00236     IN <a class="code" href="../../d0/d2/struct__IRP.html">PIRP</a> Irp
00237     );
00238 
00239 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00240 <a class="code" href="../../d7/d8/fsvga_8h.html#a30">FsVgaCopyFrameBuffer</a>(
00241     PDEVICE_EXTENSION DeviceExtension,
00242     PFSVIDEO_COPY_FRAME_BUFFER CopyFrameBuffer,
00243     ULONG inputBufferLength
00244     );
00245 
00246 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00247 <a class="code" href="../../d7/d8/fsvga_8h.html#a31">FsVgaWriteToFrameBuffer</a>(
00248     PDEVICE_EXTENSION DeviceExtension,
00249     PFSVIDEO_WRITE_TO_FRAME_BUFFER WriteFrameBuffer,
00250     ULONG inputBufferLength
00251     );
00252 
00253 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00254 <a class="code" href="../../d7/d8/fsvga_8h.html#a32">FsVgaReverseMousePointer</a>(
00255     PDEVICE_EXTENSION DeviceExtension,
00256     PFSVIDEO_REVERSE_MOUSE_POINTER MouseBuffer,
00257     ULONG inputBufferLength
00258     );
00259 
00260 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00261 <a class="code" href="../../d7/d8/fsvga_8h.html#a33">FsVgaSetMode</a>(
00262     PDEVICE_EXTENSION DeviceExtension,
00263     PFSVIDEO_MODE_INFORMATION ModeInformation,
00264     ULONG inputBufferLength
00265     );
00266 
00267 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00268 <a class="code" href="../../d7/d8/fsvga_8h.html#a34">FsVgaSetScreenInformation</a>(
00269     PDEVICE_EXTENSION DeviceExtension,
00270     PFSVIDEO_SCREEN_INFORMATION ScreenInformation,
00271     ULONG inputBufferLength
00272     );
00273 
00274 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00275 <a class="code" href="../../d7/d8/fsvga_8h.html#a35">FsVgaSetCursorPosition</a>(
00276     PDEVICE_EXTENSION DeviceExtension,
00277     PFSVIDEO_CURSOR_POSITION CursorPosition,
00278     ULONG inputBufferLength
00279     );
00280 
00281 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00282 <a class="code" href="../../d7/d8/fsvga_8h.html#a36">FsVgaSetCursorAttribute</a>(
00283     PDEVICE_EXTENSION DeviceExtension,
00284     PVIDEO_CURSOR_ATTRIBUTES CursorAttributes,
00285     ULONG inputBufferLength
00286     );
00287 
00288 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00289 <a class="code" href="../../d7/d8/fsvga_8h.html#a37">FsVgaLogError</a>(
00290     IN <a class="code" href="../../d8/d4/struct__DEVICE__OBJECT.html">PDEVICE_OBJECT</a> DeviceObject,
00291     IN NTSTATUS ErrorCode,
00292     IN ULONG UniqueErrorValue,
00293     IN NTSTATUS FinalStatus,
00294     IN PULONG DumpData,
00295     IN ULONG DumpCount
00296     );
00297 
00298 <span class="preprocessor">#if DBG</span>
00299 <span class="preprocessor"></span>
00300 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00301 FsVgaDebugPrint(
00302     ULONG DebugPrintLevel,
00303     PCCHAR DebugMessage,
00304     ...
00305     );
00306 
00307 <span class="keyword">extern</span> ULONG FsVgaDebug;
00308 <span class="preprocessor">#define FsVgaPrint(x) FsVgaDebugPrint x</span>
00309 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00310"></a><a class="code" href="../../d7/d8/fsvga_8h.html#a10">00310</a> <span class="preprocessor"></span><span class="preprocessor">#define FsVgaPrint(x)</span>
00311 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00312 <span class="preprocessor"></span>
00313 <span class="comment">//</span>
00314 <span class="comment">// drawscrn.c</span>
00315 <span class="comment">//</span>
00316 ULONG
00317 <a class="code" href="../../d7/d8/fsvga_8h.html#a38">CalcGRAMSize</a>(
00318     IN COORD WindowSize,
00319     IN PDEVICE_EXTENSION DeviceExtension
00320     );
00321 
00322 PUCHAR
00323 <a class="code" href="../../d7/d8/fsvga_8h.html#a39">CalcGRAMAddress</a>(
00324     IN COORD WindowSize,
00325     IN PDEVICE_EXTENSION DeviceExtension
00326     );
00327 
00328 <a class="code" href="../../d4/d5/aug98_2dll32_2icc__i386_8h.html#a11">BOOL</a>
00329 <a class="code" href="../../d7/d8/fsvga_8h.html#a40">IsGRAMRowOver</a>(
00330     PUCHAR BufPtr,
00331     BOOL fDbcs,
00332     PDEVICE_EXTENSION DeviceExtension
00333     );
00334 
00335 PUCHAR
00336 <a class="code" href="../../d7/d8/fsvga_8h.html#a41">NextGRAMRow</a>(
00337     PUCHAR BufPtr,
00338     PDEVICE_EXTENSION DeviceExtension
00339     );
00340 
00341 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00342 <a class="code" href="../../d7/d8/fsvga_8h.html#a42">memcpyGRAM</a>(
00343     IN PCHAR TargetPtr,
00344     IN PCHAR SourcePtr,
00345     IN ULONG Length
00346     );
00347 
00348 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00349 <a class="code" href="../../d7/d8/fsvga_8h.html#a43">memcpyGRAMOver</a>(
00350     IN PCHAR TargetPtr,
00351     IN PCHAR SourcePtr,
00352     IN ULONG Length,
00353     IN PUCHAR FrameBufPtr,
00354     IN PDEVICE_EXTENSION DeviceExtension
00355     );
00356 
00357 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00358 <a class="code" href="../../d7/d8/fsvga_8h.html#a44">MoveGRAM</a>(
00359     IN PCHAR TargetPtr,
00360     IN PCHAR SourcePtr,
00361     IN ULONG Length,
00362     IN PUCHAR FrameBufPtr,
00363     IN PDEVICE_EXTENSION DeviceExtension
00364     );
00365 
00366 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00367 <a class="code" href="../../d7/d8/fsvga_8h.html#a45">FsgVgaInitializeHWFlags</a>(
00368     PDEVICE_EXTENSION DeviceExtension
00369     );
00370 
00371 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00372 <a class="code" href="../../d7/d8/fsvga_8h.html#a46">FsgCopyFrameBuffer</a>(
00373     PDEVICE_EXTENSION DeviceExtension,
00374     PFSVIDEO_COPY_FRAME_BUFFER CopyFrameBuffer,
00375     ULONG inputBufferLength
00376     );
00377 
00378 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00379 <a class="code" href="../../d7/d8/fsvga_8h.html#a47">FsgWriteToFrameBuffer</a>(
00380     PDEVICE_EXTENSION DeviceExtension,
00381     PFSVIDEO_WRITE_TO_FRAME_BUFFER WriteFrameBuffer,
00382     ULONG inputBufferLength
00383     );
00384 
00385 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00386 <a class="code" href="../../d7/d8/fsvga_8h.html#a48">FsgReverseMousePointer</a>(
00387     PDEVICE_EXTENSION DeviceExtension,
00388     PFSVIDEO_REVERSE_MOUSE_POINTER MouseBuffer,
00389     ULONG inputBufferLength
00390     );
00391 
00392 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00393 <a class="code" href="../../d7/d8/fsvga_8h.html#a49">FsgInvertCursor</a>(
00394     PDEVICE_EXTENSION DeviceExtension,
00395     BOOL Invert
00396     );
00397 
00398 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00399 <a class="code" href="../../d7/d8/fsvga_8h.html#a50">FsgWriteToScreen</a>(
00400     PUCHAR FrameBuffer,
00401     PUCHAR BitmapBuffer,
00402     DWORD cjBytes,
00403     BOOL fDbcs,
00404     WORD Attributes1,
00405     WORD Attributes2,
00406     PDEVICE_EXTENSION DeviceExtension
00407     );
00408 
00409 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00410 <a class="code" href="../../d7/d8/fsvga_8h.html#a51">FsgWriteToScreenCommonLVB</a>(
00411     PUCHAR FrameBuffer,
00412     WORD Attributes,
00413     PDEVICE_EXTENSION DeviceExtension
00414     );
00415 
00416 UCHAR
00417 <a class="code" href="../../d7/d8/fsvga_8h.html#a52">AccessGRAM_WR</a>(
00418     PUCHAR FrameBuffer,
00419     UCHAR  write
00420     );
00421 
00422 UCHAR
00423 <a class="code" href="../../d7/d8/fsvga_8h.html#a53">AccessGRAM_RW</a>(
00424     PUCHAR FrameBuffer,
00425     UCHAR  write
00426     );
00427 
00428 UCHAR
00429 <a class="code" href="../../d7/d8/fsvga_8h.html#a54">AccessGRAM_AND</a>(
00430     PUCHAR FrameBuffer,
00431     UCHAR  write
00432     );
00433 
00434 <span class="comment">//</span>
00435 <span class="comment">// foncache.c</span>
00436 <span class="comment">//</span>
00437 <a class="code" href="../../d0/d5/perfuser_8c.html#a6">DWORD</a>
00438 <a class="code" href="../../d6/d6/foncache_8h.html#a29">CalcBitmapBufferSize</a>(
00439     IN COORD FontSize,
00440     IN DWORD dwAlign
00441     );
00442 
00443 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00444 <a class="code" href="../../d7/d8/fsvga_8h.html#a56">AlignCopyMemory</a>(
00445     OUT PBYTE pDestBits,
00446     IN DWORD dwDestAlign,
00447     IN PBYTE pSrcBits,
00448     IN DWORD dwSrcAlign,
00449     IN COORD FontSize
00450     );
00451 
00452 <span class="comment">//</span>
00453 <span class="comment">// misc.c</span>
00454 <span class="comment">//</span>
00455 <span class="keywordtype">int</span>
00456 <a class="code" href="../../d4/d0/w32_2ntcon_2server_2misc_8c.html#a41">ConvertOutputToOem</a>(
00457     IN LPWSTR Source,
00458     IN <span class="keywordtype">int</span> SourceLength,    <span class="comment">// in chars</span>
00459     OUT LPSTR Target,
00460     IN <span class="keywordtype">int</span> TargetLength     <span class="comment">// in chars</span>
00461     );
00462 
00463 <a class="code" href="../../d0/d6/iop_8h.html#a144">NTSTATUS</a>
00464 <a class="code" href="../../d3/d0/w32_2ntcon_2fullscr_2vga_2misc_8c.html#a1">TranslateOutputToOem</a>(
00465     OUT PCHAR_IMAGE_INFO OutputBuffer,
00466     IN  PCHAR_IMAGE_INFO InputBuffer,
00467     IN  DWORD Length
00468     );
00469 
00470 <span class="comment">//</span>
00471 <span class="comment">// port.c</span>
00472 <span class="comment">//</span>
00473 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00474 <a class="code" href="../../d6/d2/port_8c.html#a0">GetHardwareScrollReg</a>(
00475     PDEVICE_EXTENSION deviceExtension
00476     );
00477 
00478 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00479 <a class="code" href="../../d6/d2/port_8c.html#a1">SetGRAMWriteMode</a>(
00480     PDEVICE_EXTENSION deviceExtension
00481     );
00482 
00483 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00484 <a class="code" href="../../d6/d2/port_8c.html#a2">SetGRAMCopyMode</a>(
00485     PDEVICE_EXTENSION deviceExtension
00486     );
00487 
00488 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00489 <a class="code" href="../../d6/d2/port_8c.html#a3">SetGRAMInvertMode</a>(
00490     PDEVICE_EXTENSION deviceExtension
00491     );
00492 
00493 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00494 <a class="code" href="../../d6/d2/port_8c.html#a4">set_opaque_bkgnd_proc</a>(
00495     PDEVICE_EXTENSION deviceExtension,
00496     PUCHAR FrameBuffer,
00497     WORD Attributes
00498     );
00499 
00500 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00501 <a class="code" href="../../d6/d2/port_8c.html#a5">ColorSetGridMask</a>(
00502     PDEVICE_EXTENSION deviceExtension,
00503     BYTE BitMask
00504     );
00505 
00506 <a class="code" href="../../d2/d7/hal_8h.html#a212">VOID</a>
00507 <a class="code" href="../../d6/d2/port_8c.html#a6">ColorSetDirect</a>(
00508     PDEVICE_EXTENSION deviceExtension,
00509     PUCHAR FrameBuffer,
00510     BYTE ColorFg,
00511     BYTE ColorBg
00512     );
00513 
00514 <span class="preprocessor">#endif // _FSVGA_</span>
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Sat May 15 19:40:04 2004 for test by
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
